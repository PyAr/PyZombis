(self["webpackChunkWebComponents"] = self["webpackChunkWebComponents"] || []).push([["runestone_codelens_js_pytutor-embed_bundle_js"],{

/***/ 71951:
/*!*******************************************************!*\
  !*** ./runestone/codelens/js/pytutor-embed.bundle.js ***!
  \*******************************************************/
/***/ (() => {

/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __nested_webpack_require_170__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __nested_webpack_require_170__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__nested_webpack_require_170__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__nested_webpack_require_170__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__nested_webpack_require_170__.d = function(exports, name, getter) {
/******/ 		if(!__nested_webpack_require_170__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__nested_webpack_require_170__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__nested_webpack_require_170__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__nested_webpack_require_170__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__nested_webpack_require_170__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __nested_webpack_require_170__(__nested_webpack_require_170__.s = 87);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __nested_webpack_require_2448__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! jQuery v3.0.0 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=[],d=a.document,e=Object.getPrototypeOf,f=c.slice,g=c.concat,h=c.push,i=c.indexOf,j={},k=j.toString,l=j.hasOwnProperty,m=l.toString,n=m.call(Object),o={};function p(a,b){b=b||d;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}var q="3.0.0",r=function(a,b){return new r.fn.init(a,b)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t=/^-ms-/,u=/-([a-z])/g,v=function(a,b){return b.toUpperCase()};r.fn=r.prototype={jquery:q,constructor:r,length:0,toArray:function(){return f.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:f.call(this)},pushStack:function(a){var b=r.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return r.each(this,a)},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:c.sort,splice:c.splice},r.extend=r.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||r.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(r.isPlainObject(d)||(e=r.isArray(d)))?(e?(e=!1,f=c&&r.isArray(c)?c:[]):f=c&&r.isPlainObject(c)?c:{},g[b]=r.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},r.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===r.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=r.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return a&&"[object Object]"===k.call(a)?(b=e(a))?(c=l.call(b,"constructor")&&b.constructor,"function"==typeof c&&m.call(c)===n):!0:!1},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[k.call(a)]||"object":typeof a},globalEval:function(a){p(a)},camelCase:function(a){return a.replace(t,"ms-").replace(u,v)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(w(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(s,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(w(Object(a))?r.merge(c,"string"==typeof a?[a]:a):h.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:i.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,f=0,h=[];if(w(a))for(d=a.length;d>f;f++)e=b(a[f],f,c),null!=e&&h.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&h.push(e);return g.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),r.isFunction(a)?(d=f.call(arguments,2),e=function(){return a.apply(b||this,d.concat(f.call(arguments)))},e.guid=a.guid=a.guid||r.guid++,e):void 0},now:Date.now,support:o}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=c[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()});function w(a){var b=!!a&&"length"in a&&a.length,c=r.type(a);return"function"===c||r.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var x=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",M="\\["+K+"*("+L+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+K+"*\\]",N=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(K+"+","g"),P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(N),U=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),aa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ba=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,ca=function(a,b){return b?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},da=function(){m()},ea=ta(function(a){return a.disabled===!0},{dir:"parentNode",next:"legend"});try{G.apply(D=H.call(v.childNodes),v.childNodes),D[v.childNodes.length].nodeType}catch(fa){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s=b&&b.ownerDocument,w=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==w&&9!==w&&11!==w)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==w&&(l=Z.exec(a)))if(f=l[1]){if(9===w){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(s&&(j=s.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(l[2])return G.apply(d,b.getElementsByTagName(a)),d;if((f=l[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==w)s=b,r=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(ba,ca):b.setAttribute("id",k=u),o=g(a),h=o.length;while(h--)o[h]="#"+k+" "+sa(o[h]);r=o.join(","),s=$.test(a)&&qa(b.parentNode)||b}if(r)try{return G.apply(d,s.querySelectorAll(r)),d}catch(x){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(P,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return function(b){return"label"in b&&b.disabled===a||"form"in b&&b.disabled===a||"form"in b&&b.disabled===!1&&(b.isDisabled===a||b.isDisabled!==!a&&("label"in b||!ea(b))!==a)}}function pa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function qa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),v!==n&&(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(n.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Y.test(n.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+K+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&q.push(":enabled",":disabled"),o.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Y.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"*"),s.call(a,"[s!='']:x"),r.push("!=",N)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Y.test(o.compareDocumentPosition),t=b||Y.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?I(k,a)-I(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?I(k,a)-I(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?la(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(S,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.escape=function(a){return(a+"").replace(ba,ca)},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(_,aa),a[3]=(a[3]||a[4]||a[5]||"").replace(_,aa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return V.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&T.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(_,aa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(O," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(_,aa),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return U.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(_,aa).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:oa(!1),disabled:oa(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:pa(function(){return[0]}),last:pa(function(a,b){return[b-1]}),eq:pa(function(a,b,c){return[0>c?c+b:c]}),even:pa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:pa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:pa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:pa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function ra(){}ra.prototype=d.filters=d.pseudos,d.setFilters=new ra,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=Q.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function sa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ta(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=x++;return b.first?function(b,c,e){while(b=b[d])if(1===b.nodeType||g)return a(b,c,e)}:function(b,c,i){var j,k,l,m=[w,h];if(i){while(b=b[d])if((1===b.nodeType||g)&&a(b,c,i))return!0}else while(b=b[d])if(1===b.nodeType||g)if(l=b[u]||(b[u]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===w&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}}}function ua(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function va(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function wa(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function xa(a,b,c,d,e,f){return d&&!d[u]&&(d=xa(d)),e&&!e[u]&&(e=xa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||va(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:wa(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=wa(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=wa(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ya(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ta(function(a){return a===b},h,!0),l=ta(function(a){return I(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ta(ua(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return xa(i>1&&ua(m),i>1&&sa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(P,"$1"),c,e>i&&ya(a.slice(i,e)),f>e&&ya(a=a.slice(e)),f>e&&sa(a))}m.push(c)}return ua(m)}function za(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=E.call(i));u=wa(u)}G.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&ga.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=ya(b[c]),f[u]?d.push(f):e.push(f);f=A(a,za(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(_,aa),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=V.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(_,aa),$.test(j[0].type)&&qa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&sa(j),!a)return G.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||$.test(a)&&qa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("fieldset"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(J,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);r.find=x,r.expr=x.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=x.uniqueSort,r.text=x.getText,r.isXMLDoc=x.isXML,r.contains=x.contains,r.escapeSelector=x.escape;var y=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&r(a).is(c))break;d.push(a)}return d},z=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},A=r.expr.match.needsContext,B=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,C=/^.[^:#\[\.,]*$/;function D(a,b,c){if(r.isFunction(b))return r.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return r.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(C.test(b))return r.filter(b,a,c);b=r.filter(b,a)}return r.grep(a,function(a){return i.call(b,a)>-1!==c&&1===a.nodeType})}r.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?r.find.matchesSelector(d,a)?[d]:[]:r.find.matches(a,r.grep(b,function(a){return 1===a.nodeType}))},r.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(r(a).filter(function(){for(b=0;d>b;b++)if(r.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;d>b;b++)r.find(a,e[b],c);return d>1?r.uniqueSort(c):c},filter:function(a){return this.pushStack(D(this,a||[],!1))},not:function(a){return this.pushStack(D(this,a||[],!0))},is:function(a){return!!D(this,"string"==typeof a&&A.test(a)?r(a):a||[],!1).length}});var E,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,G=r.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||E,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:F.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof r?b[0]:b,r.merge(this,r.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),B.test(e[1])&&r.isPlainObject(b))for(e in b)r.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):r.isFunction(a)?void 0!==c.ready?c.ready(a):a(r):r.makeArray(a,this)};G.prototype=r.fn,E=r(d);var H=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(a){var b=r(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(r.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&r(a);if(!A.test(a))for(;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&r.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?r.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?i.call(r(a),this[0]):i.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function J(a,b){while((a=a[b])&&1!==a.nodeType);return a}r.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return y(a,"parentNode")},parentsUntil:function(a,b,c){return y(a,"parentNode",c)},next:function(a){return J(a,"nextSibling")},prev:function(a){return J(a,"previousSibling")},nextAll:function(a){return y(a,"nextSibling")},prevAll:function(a){return y(a,"previousSibling")},nextUntil:function(a,b,c){return y(a,"nextSibling",c)},prevUntil:function(a,b,c){return y(a,"previousSibling",c)},siblings:function(a){return z((a.parentNode||{}).firstChild,a)},children:function(a){return z(a.firstChild)},contents:function(a){return a.contentDocument||r.merge([],a.childNodes)}},function(a,b){r.fn[a]=function(c,d){var e=r.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=r.filter(d,e)),this.length>1&&(I[a]||r.uniqueSort(e),H.test(a)&&e.reverse()),this.pushStack(e)}});var K=/\S+/g;function L(a){var b={};return r.each(a.match(K)||[],function(a,c){b[c]=!0}),b}r.Callbacks=function(a){a="string"==typeof a?L(a):r.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){r.each(b,function(b,c){r.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==r.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return r.each(arguments,function(a,b){var c;while((c=r.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?r.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j};function M(a){return a}function N(a){throw a}function O(a,b,c){var d;try{a&&r.isFunction(d=a.promise)?d.call(a).done(b).fail(c):a&&r.isFunction(d=a.then)?d.call(a,b,c):b.call(void 0,a)}catch(a){c.call(void 0,a)}}r.extend({Deferred:function(b){var c=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return r.Deferred(function(b){r.each(c,function(c,d){var e=r.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&r.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){var f=0;function g(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(!(f>b)){if(a=d.apply(h,i),a===c.promise())throw new TypeError("Thenable self-resolution");j=a&&("object"==typeof a||"function"==typeof a)&&a.then,r.isFunction(j)?e?j.call(a,g(f,c,M,e),g(f,c,N,e)):(f++,j.call(a,g(f,c,M,e),g(f,c,N,e),g(f,c,M,c.notifyWith))):(d!==M&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},k=e?j:function(){try{j()}catch(a){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(a,k.stackTrace),b+1>=f&&(d!==N&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?k():(r.Deferred.getStackHook&&(k.stackTrace=r.Deferred.getStackHook()),a.setTimeout(k))}}return r.Deferred(function(a){c[0][3].add(g(0,a,r.isFunction(e)?e:M,a.notifyWith)),c[1][3].add(g(0,a,r.isFunction(b)?b:M)),c[2][3].add(g(0,a,r.isFunction(d)?d:N))}).promise()},promise:function(a){return null!=a?r.extend(a,e):e}},f={};return r.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=f.call(arguments),g=r.Deferred(),h=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?f.call(arguments):c,--b||g.resolveWith(d,e)}};if(1>=b&&(O(a,g.done(h(c)).resolve,g.reject),"pending"===g.state()||r.isFunction(e[c]&&e[c].then)))return g.then();while(c--)O(e[c],h(c),g.reject);return g.promise()}});var P=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&P.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)};var Q=r.Deferred();r.fn.ready=function(a){return Q.then(a),this},r.extend({isReady:!1,readyWait:1,holdReady:function(a){a?r.readyWait++:r.ready(!0)},ready:function(a){(a===!0?--r.readyWait:r.isReady)||(r.isReady=!0,a!==!0&&--r.readyWait>0||Q.resolveWith(d,[r]))}}),r.ready.then=Q.then;function R(){d.removeEventListener("DOMContentLoaded",R),a.removeEventListener("load",R),r.ready()}"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(r.ready):(d.addEventListener("DOMContentLoaded",R),a.addEventListener("load",R));var S=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===r.type(c)){e=!0;for(h in c)S(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,r.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){
return j.call(r(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},T=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function U(){this.expando=r.expando+U.uid++}U.uid=1,U.prototype={cache:function(a){var b=a[this.expando];return b||(b={},T(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[r.camelCase(b)]=c;else for(d in b)e[r.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][r.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){r.isArray(b)?b=b.map(r.camelCase):(b=r.camelCase(b),b=b in d?[b]:b.match(K)||[]),c=b.length;while(c--)delete d[b[c]]}(void 0===b||r.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!r.isEmptyObject(b)}};var V=new U,W=new U,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Y=/[A-Z]/g;function Z(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Y,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:X.test(c)?JSON.parse(c):c}catch(e){}W.set(a,b,c)}else c=void 0;return c}r.extend({hasData:function(a){return W.hasData(a)||V.hasData(a)},data:function(a,b,c){return W.access(a,b,c)},removeData:function(a,b){W.remove(a,b)},_data:function(a,b,c){return V.access(a,b,c)},_removeData:function(a,b){V.remove(a,b)}}),r.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=W.get(f),1===f.nodeType&&!V.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=r.camelCase(d.slice(5)),Z(f,d,e[d])));V.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){W.set(this,a)}):S(this,function(b){var c;if(f&&void 0===b){if(c=W.get(f,a),void 0!==c)return c;if(c=Z(f,a),void 0!==c)return c}else this.each(function(){W.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){W.remove(this,a)})}}),r.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=V.get(a,b),c&&(!d||r.isArray(c)?d=V.access(a,b,r.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=r.queue(a,b),d=c.length,e=c.shift(),f=r._queueHooks(a,b),g=function(){r.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return V.get(a,c)||V.access(a,c,{empty:r.Callbacks("once memory").add(function(){V.remove(a,[b+"queue",c])})})}}),r.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?r.queue(this[0],a):void 0===b?this:this.each(function(){var c=r.queue(this,a,b);r._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=r.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=V.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var $=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_=new RegExp("^(?:([+-])=|)("+$+")([a-z%]*)$","i"),aa=["Top","Right","Bottom","Left"],ba=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&r.contains(a.ownerDocument,a)&&"none"===r.css(a,"display")},ca=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};function da(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return r.css(a,b,"")},i=h(),j=c&&c[3]||(r.cssNumber[b]?"":"px"),k=(r.cssNumber[b]||"px"!==j&&+i)&&_.exec(r.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,r.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var ea={};function fa(a){var b,c=a.ownerDocument,d=a.nodeName,e=ea[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=r.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),ea[d]=e,e)}function ga(a,b){for(var c,d,e=[],f=0,g=a.length;g>f;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=V.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&ba(d)&&(e[f]=fa(d))):"none"!==c&&(e[f]="none",V.set(d,"display",c)));for(f=0;g>f;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}r.fn.extend({show:function(){return ga(this,!0)},hide:function(){return ga(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){ba(this)?r(this).show():r(this).hide()})}});var ha=/^(?:checkbox|radio)$/i,ia=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ja=/^$|\/(?:java|ecma)script/i,ka={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ka.optgroup=ka.option,ka.tbody=ka.tfoot=ka.colgroup=ka.caption=ka.thead,ka.th=ka.td;function la(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&r.nodeName(a,b)?r.merge([a],c):c}function ma(a,b){for(var c=0,d=a.length;d>c;c++)V.set(a[c],"globalEval",!b||V.get(b[c],"globalEval"))}var na=/<|&#?\w+;/;function oa(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;o>n;n++)if(f=a[n],f||0===f)if("object"===r.type(f))r.merge(m,f.nodeType?[f]:f);else if(na.test(f)){g=g||l.appendChild(b.createElement("div")),h=(ia.exec(f)||["",""])[1].toLowerCase(),i=ka[h]||ka._default,g.innerHTML=i[1]+r.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;r.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",n=0;while(f=m[n++])if(d&&r.inArray(f,d)>-1)e&&e.push(f);else if(j=r.contains(f.ownerDocument,f),g=la(l.appendChild(f),"script"),j&&ma(g),c){k=0;while(f=g[k++])ja.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),o.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",o.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var pa=d.documentElement,qa=/^key/,ra=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,sa=/^([^.]*)(?:\.(.+)|)/;function ta(){return!0}function ua(){return!1}function va(){try{return d.activeElement}catch(a){}}function wa(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)wa(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ua;else if(!e)return a;return 1===f&&(g=e,e=function(a){return r().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=r.guid++)),a.each(function(){r.event.add(this,b,e,d,c)})}r.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=V.get(a);if(q){c.handler&&(f=c,c=f.handler,e=f.selector),e&&r.find.matchesSelector(pa,e),c.guid||(c.guid=r.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof r&&r.event.triggered!==b.type?r.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(K)||[""],j=b.length;while(j--)h=sa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=r.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=r.event.special[n]||{},k=r.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&r.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),r.event.global[n]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=V.hasData(a)&&V.get(a);if(q&&(i=q.events)){b=(b||"").match(K)||[""],j=b.length;while(j--)if(h=sa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){l=r.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||r.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)r.event.remove(a,n+b[j],c,d,!0);r.isEmptyObject(i)&&V.remove(a,"handle events")}},dispatch:function(a){var b=r.event.fix(a),c,d,e,f,g,h,i=new Array(arguments.length),j=(V.get(this,"events")||{})[b.type]||[],k=r.event.special[b.type]||{};for(i[0]=b,c=1;c<arguments.length;c++)i[c]=arguments[c];if(b.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,b)!==!1){h=r.event.handlers.call(this,b,j),c=0;while((f=h[c++])&&!b.isPropagationStopped()){b.currentTarget=f.elem,d=0;while((g=f.handlers[d++])&&!b.isImmediatePropagationStopped())b.rnamespace&&!b.rnamespace.test(g.namespace)||(b.handleObj=g,b.data=g.data,e=((r.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(b.result=e)===!1&&(b.preventDefault(),b.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?r(e,this).index(i)>-1:r.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},addProp:function(a,b){Object.defineProperty(r.Event.prototype,a,{enumerable:!0,configurable:!0,get:r.isFunction(b)?function(){return this.originalEvent?b(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[a]:void 0},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[r.expando]?a:new r.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==va()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===va()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&r.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return r.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},r.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},r.Event=function(a,b){return this instanceof r.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ta:ua,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&r.extend(this,b),this.timeStamp=a&&a.timeStamp||r.now(),void(this[r.expando]=!0)):new r.Event(a,b)},r.Event.prototype={constructor:r.Event,isDefaultPrevented:ua,isPropagationStopped:ua,isImmediatePropagationStopped:ua,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ta,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ta,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ta,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&qa.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&ra.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},r.event.addProp),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||r.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),r.fn.extend({on:function(a,b,c,d){return wa(this,a,b,c,d)},one:function(a,b,c,d){return wa(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,r(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ua),this.each(function(){r.event.remove(this,a,c,b)})}});var xa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ya=/<script|<style|<link/i,za=/checked\s*(?:[^=]|=\s*.checked.)/i,Aa=/^true\/(.*)/,Ba=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ca(a,b){return r.nodeName(a,"table")&&r.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function Da(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Ea(a){var b=Aa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Fa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(V.hasData(a)&&(f=V.access(a),g=V.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)r.event.add(b,e,j[e][c])}W.hasData(a)&&(h=W.access(a),i=r.extend({},h),W.set(b,i))}}function Ga(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ha.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function Ha(a,b,c,d){b=g.apply([],b);var e,f,h,i,j,k,l=0,m=a.length,n=m-1,q=b[0],s=r.isFunction(q);if(s||m>1&&"string"==typeof q&&!o.checkClone&&za.test(q))return a.each(function(e){var f=a.eq(e);s&&(b[0]=q.call(this,e,f.html())),Ha(f,b,c,d)});if(m&&(e=oa(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(h=r.map(la(e,"script"),Da),i=h.length;m>l;l++)j=e,l!==n&&(j=r.clone(j,!0,!0),i&&r.merge(h,la(j,"script"))),c.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,r.map(h,Ea),l=0;i>l;l++)j=h[l],ja.test(j.type||"")&&!V.access(j,"globalEval")&&r.contains(k,j)&&(j.src?r._evalUrl&&r._evalUrl(j.src):p(j.textContent.replace(Ba,""),k))}return a}function Ia(a,b,c){for(var d,e=b?r.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||r.cleanData(la(d)),d.parentNode&&(c&&r.contains(d.ownerDocument,d)&&ma(la(d,"script")),d.parentNode.removeChild(d));return a}r.extend({htmlPrefilter:function(a){return a.replace(xa,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=r.contains(a.ownerDocument,a);if(!(o.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||r.isXMLDoc(a)))for(g=la(h),f=la(a),d=0,e=f.length;e>d;d++)Ga(f[d],g[d]);if(b)if(c)for(f=f||la(a),g=g||la(h),d=0,e=f.length;e>d;d++)Fa(f[d],g[d]);else Fa(a,h);return g=la(h,"script"),g.length>0&&ma(g,!i&&la(a,"script")),h},cleanData:function(a){for(var b,c,d,e=r.event.special,f=0;void 0!==(c=a[f]);f++)if(T(c)){if(b=c[V.expando]){if(b.events)for(d in b.events)e[d]?r.event.remove(c,d):r.removeEvent(c,d,b.handle);c[V.expando]=void 0}c[W.expando]&&(c[W.expando]=void 0)}}}),r.fn.extend({detach:function(a){return Ia(this,a,!0)},remove:function(a){return Ia(this,a)},text:function(a){return S(this,function(a){return void 0===a?r.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.appendChild(a)}})},prepend:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(r.cleanData(la(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return r.clone(this,a,b)})},html:function(a){return S(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!ya.test(a)&&!ka[(ia.exec(a)||["",""])[1].toLowerCase()]){a=r.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(r.cleanData(la(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ha(this,arguments,function(b){var c=this.parentNode;r.inArray(this,a)<0&&(r.cleanData(la(this)),c&&c.replaceChild(b,this))},a)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(a){for(var c,d=[],e=r(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),r(e[g])[b](c),h.apply(d,c.get());return this.pushStack(d)}});var Ja=/^margin/,Ka=new RegExp("^("+$+")(?!px)[a-z%]+$","i"),La=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(i){i.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i.innerHTML="",pa.appendChild(h);var b=a.getComputedStyle(i);c="1%"!==b.top,g="2px"===b.marginLeft,e="4px"===b.width,i.style.marginRight="50%",f="4px"===b.marginRight,pa.removeChild(h),i=null}}var c,e,f,g,h=d.createElement("div"),i=d.createElement("div");i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===i.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(i),r.extend(o,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();function Ma(a,b,c){var d,e,f,g,h=a.style;return c=c||La(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||r.contains(a.ownerDocument,a)||(g=r.style(a,b)),!o.pixelMarginRight()&&Ka.test(g)&&Ja.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Na(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Oa=/^(none|table(?!-c[ea]).+)/,Pa={position:"absolute",visibility:"hidden",display:"block"},Qa={letterSpacing:"0",fontWeight:"400"},Ra=["Webkit","Moz","ms"],Sa=d.createElement("div").style;function Ta(a){if(a in Sa)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ra.length;while(c--)if(a=Ra[c]+b,a in Sa)return a}function Ua(a,b,c){var d=_.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Va(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=r.css(a,c+aa[f],!0,e)),d?("content"===c&&(g-=r.css(a,"padding"+aa[f],!0,e)),"margin"!==c&&(g-=r.css(a,"border"+aa[f]+"Width",!0,e))):(g+=r.css(a,"padding"+aa[f],!0,e),"padding"!==c&&(g+=r.css(a,"border"+aa[f]+"Width",!0,e)));return g}function Wa(a,b,c){var d,e=!0,f=La(a),g="border-box"===r.css(a,"boxSizing",!1,f);if(a.getClientRects().length&&(d=a.getBoundingClientRect()[b]),0>=d||null==d){if(d=Ma(a,b,f),(0>d||null==d)&&(d=a.style[b]),Ka.test(d))return d;e=g&&(o.boxSizingReliable()||d===a.style[b]),d=parseFloat(d)||0}return d+Va(a,b,c||(g?"border":"content"),e,f)+"px"}r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ma(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=r.camelCase(b),i=a.style;return b=r.cssProps[h]||(r.cssProps[h]=Ta(h)||h),g=r.cssHooks[b]||r.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=_.exec(c))&&e[1]&&(c=da(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(r.cssNumber[h]?"":"px")),o.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=r.camelCase(b);return b=r.cssProps[h]||(r.cssProps[h]=Ta(h)||h),g=r.cssHooks[b]||r.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Ma(a,b,d)),"normal"===e&&b in Qa&&(e=Qa[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,d){return c?!Oa.test(r.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?Wa(a,b,d):ca(a,Pa,function(){return Wa(a,b,d)}):void 0},set:function(a,c,d){var e,f=d&&La(a),g=d&&Va(a,b,d,"border-box"===r.css(a,"boxSizing",!1,f),f);return g&&(e=_.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=r.css(a,b)),Ua(a,c,g)}}}),r.cssHooks.marginLeft=Na(o.reliableMarginLeft,function(a,b){return b?(parseFloat(Ma(a,"marginLeft"))||a.getBoundingClientRect().left-ca(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+aa[d]+b]=f[d]||f[d-2]||f[0];return e}},Ja.test(a)||(r.cssHooks[a+b].set=Ua)}),r.fn.extend({css:function(a,b){return S(this,function(a,b,c){var d,e,f={},g=0;if(r.isArray(b)){for(d=La(a),e=b.length;e>g;g++)f[b[g]]=r.css(a,b[g],!1,d);return f}return void 0!==c?r.style(a,b,c):r.css(a,b)},a,b,arguments.length>1)}});function Xa(a,b,c,d,e){return new Xa.prototype.init(a,b,c,d,e)}r.Tween=Xa,Xa.prototype={constructor:Xa,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||r.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(r.cssNumber[c]?"":"px")},cur:function(){var a=Xa.propHooks[this.prop];return a&&a.get?a.get(this):Xa.propHooks._default.get(this)},run:function(a){var b,c=Xa.propHooks[this.prop];return this.options.duration?this.pos=b=r.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Xa.propHooks._default.set(this),this}},Xa.prototype.init.prototype=Xa.prototype,Xa.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=r.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){r.fx.step[a.prop]?r.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[r.cssProps[a.prop]]&&!r.cssHooks[a.prop]?a.elem[a.prop]=a.now:r.style(a.elem,a.prop,a.now+a.unit)}}},Xa.propHooks.scrollTop=Xa.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},r.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},r.fx=Xa.prototype.init,r.fx.step={};var Ya,Za,$a=/^(?:toggle|show|hide)$/,_a=/queueHooks$/;function ab(){Za&&(a.requestAnimationFrame(ab),r.fx.tick())}function bb(){return a.setTimeout(function(){Ya=void 0}),Ya=r.now()}function cb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=aa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function db(a,b,c){for(var d,e=(gb.tweeners[b]||[]).concat(gb.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function eb(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&ba(a),q=V.get(a,"fxshow");c.queue||(g=r._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,r.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],$a.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||r.style(a,d)}if(i=!r.isEmptyObject(b),i||!r.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=V.get(a,"display")),k=r.css(a,"display"),"none"===k&&(j?k=j:(ga([a],!0),j=a.style.display||j,k=r.css(a,"display"),ga([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===r.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=V.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&ga([a],!0),m.done(function(){p||ga([a]),V.remove(a,"fxshow");for(d in n)r.style(a,d,n[d])})),i=db(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function fb(a,b){var c,d,e,f,g;for(c in a)if(d=r.camelCase(c),e=b[d],f=a[c],r.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=r.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function gb(a,b,c){var d,e,f=0,g=gb.prefilters.length,h=r.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Ya||bb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},c),originalProperties:b,originalOptions:c,startTime:Ya||bb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=r.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(fb(k,j.opts.specialEasing);g>f;f++)if(d=gb.prefilters[f].call(j,a,k,j.opts))return r.isFunction(d.stop)&&(r._queueHooks(j.elem,j.opts.queue).stop=r.proxy(d.stop,d)),d;return r.map(k,db,j),r.isFunction(j.opts.start)&&j.opts.start.call(a,j),r.fx.timer(r.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}r.Animation=r.extend(gb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return da(c.elem,a,_.exec(b),c),c}]},tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.match(K);for(var c,d=0,e=a.length;e>d;d++)c=a[d],gb.tweeners[c]=gb.tweeners[c]||[],gb.tweeners[c].unshift(b)},prefilters:[eb],prefilter:function(a,b){b?gb.prefilters.unshift(a):gb.prefilters.push(a)}}),r.speed=function(a,b,c){var e=a&&"object"==typeof a?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};return r.fx.off||d.hidden?e.duration=0:e.duration="number"==typeof e.duration?e.duration:e.duration in r.fx.speeds?r.fx.speeds[e.duration]:r.fx.speeds._default,null!=e.queue&&e.queue!==!0||(e.queue="fx"),e.old=e.complete,e.complete=function(){r.isFunction(e.old)&&e.old.call(this),e.queue&&r.dequeue(this,e.queue)},e},r.fn.extend({fadeTo:function(a,b,c,d){return this.filter(ba).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=r.isEmptyObject(a),f=r.speed(b,c,d),g=function(){var b=gb(this,r.extend({},a),f);(e||V.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=r.timers,g=V.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&_a.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||r.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=V.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=r.timers,g=d?d.length:0;for(c.finish=!0,r.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(cb(b,!0),a,d,e)}}),r.each({slideDown:cb("show"),slideUp:cb("hide"),slideToggle:cb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),r.timers=[],r.fx.tick=function(){var a,b=0,c=r.timers;for(Ya=r.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||r.fx.stop(),Ya=void 0},r.fx.timer=function(a){r.timers.push(a),a()?r.fx.start():r.timers.pop()},r.fx.interval=13,r.fx.start=function(){Za||(Za=a.requestAnimationFrame?a.requestAnimationFrame(ab):a.setInterval(r.fx.tick,r.fx.interval))},r.fx.stop=function(){a.cancelAnimationFrame?a.cancelAnimationFrame(Za):a.clearInterval(Za),Za=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(b,c){return b=r.fx?r.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",o.checkOn=""!==a.value,o.optSelected=c.selected,a=d.createElement("input"),a.value="t",a.type="radio",o.radioValue="t"===a.value}();var hb,ib=r.expr.attrHandle;r.fn.extend({attr:function(a,b){return S(this,r.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})}}),r.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?r.prop(a,b,c):(1===f&&r.isXMLDoc(a)||(e=r.attrHooks[b.toLowerCase()]||(r.expr.match.bool.test(b)?hb:void 0)),void 0!==c?null===c?void r.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=r.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!o.radioValue&&"radio"===b&&r.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(K);if(e&&1===a.nodeType)while(c=e[d++])a.removeAttribute(c);
}}),hb={set:function(a,b,c){return b===!1?r.removeAttr(a,c):a.setAttribute(c,c),c}},r.each(r.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ib[b]||r.find.attr;ib[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=ib[g],ib[g]=e,e=null!=c(a,b,d)?g:null,ib[g]=f),e}});var jb=/^(?:input|select|textarea|button)$/i,kb=/^(?:a|area)$/i;r.fn.extend({prop:function(a,b){return S(this,r.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[r.propFix[a]||a]})}}),r.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&r.isXMLDoc(a)||(b=r.propFix[b]||b,e=r.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=r.find.attr(a,"tabindex");return b?parseInt(b,10):jb.test(a.nodeName)||kb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),o.optSelected||(r.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this});var lb=/[\t\r\n\f]/g;function mb(a){return a.getAttribute&&a.getAttribute("class")||""}r.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,mb(this)))});if("string"==typeof a&&a){b=a.match(K)||[];while(c=this[i++])if(e=mb(c),d=1===c.nodeType&&(" "+e+" ").replace(lb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=r.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,b,mb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(K)||[];while(c=this[i++])if(e=mb(c),d=1===c.nodeType&&(" "+e+" ").replace(lb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=r.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):r.isFunction(a)?this.each(function(c){r(this).toggleClass(a.call(this,c,mb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=r(this),f=a.match(K)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=mb(this),b&&V.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":V.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+mb(c)+" ").replace(lb," ").indexOf(b)>-1)return!0;return!1}});var nb=/\r/g,ob=/[\x20\t\r\n\f]+/g;r.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=r.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,r(this).val()):a,null==e?e="":"number"==typeof e?e+="":r.isArray(e)&&(e=r.map(e,function(a){return null==a?"":a+""})),b=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=r.valHooks[e.type]||r.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(nb,""):null==c?"":c)}}}),r.extend({valHooks:{option:{get:function(a){var b=r.find.attr(a,"value");return null!=b?b:r.trim(r.text(a)).replace(ob," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&!c.disabled&&(!c.parentNode.disabled||!r.nodeName(c.parentNode,"optgroup"))){if(b=r(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=r.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=r.inArray(r.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(a,b){return r.isArray(b)?a.checked=r.inArray(r(a).val(),b)>-1:void 0}},o.checkOn||(r.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var pb=/^(?:focusinfocus|focusoutblur)$/;r.extend(r.event,{trigger:function(b,c,e,f){var g,h,i,j,k,m,n,o=[e||d],p=l.call(b,"type")?b.type:b,q=l.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!pb.test(p+r.event.triggered)&&(p.indexOf(".")>-1&&(q=p.split("."),p=q.shift(),q.sort()),k=p.indexOf(":")<0&&"on"+p,b=b[r.expando]?b:new r.Event(p,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:r.makeArray(c,[b]),n=r.event.special[p]||{},f||!n.trigger||n.trigger.apply(e,c)!==!1)){if(!f&&!n.noBubble&&!r.isWindow(e)){for(j=n.delegateType||p,pb.test(j+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),i=h;i===(e.ownerDocument||d)&&o.push(i.defaultView||i.parentWindow||a)}g=0;while((h=o[g++])&&!b.isPropagationStopped())b.type=g>1?j:n.bindType||p,m=(V.get(h,"events")||{})[b.type]&&V.get(h,"handle"),m&&m.apply(h,c),m=k&&h[k],m&&m.apply&&T(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=p,f||b.isDefaultPrevented()||n._default&&n._default.apply(o.pop(),c)!==!1||!T(e)||k&&r.isFunction(e[p])&&!r.isWindow(e)&&(i=e[k],i&&(e[k]=null),r.event.triggered=p,e[p](),r.event.triggered=void 0,i&&(e[k]=i)),b.result}},simulate:function(a,b,c){var d=r.extend(new r.Event,c,{type:a,isSimulated:!0});r.event.trigger(d,null,b)}}),r.fn.extend({trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?r.event.trigger(a,b,c,!0):void 0}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){r.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),r.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),o.focusin="onfocusin"in a,o.focusin||r.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){r.event.simulate(b,a.target,r.event.fix(a))};r.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=V.access(d,b);e||d.addEventListener(a,c,!0),V.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=V.access(d,b)-1;e?V.access(d,b,e):(d.removeEventListener(a,c,!0),V.remove(d,b))}}});var qb=a.location,rb=r.now(),sb=/\?/;r.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+b),c};var tb=/\[\]$/,ub=/\r?\n/g,vb=/^(?:submit|button|image|reset|file)$/i,wb=/^(?:input|select|textarea|keygen)/i;function xb(a,b,c,d){var e;if(r.isArray(b))r.each(b,function(b,e){c||tb.test(a)?d(a,e):xb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==r.type(b))d(a,b);else for(e in b)xb(a+"["+e+"]",b[e],c,d)}r.param=function(a,b){var c,d=[],e=function(a,b){var c=r.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(r.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){e(this.name,this.value)});else for(c in a)xb(c,a[c],b,e);return d.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=r.prop(this,"elements");return a?r.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!r(this).is(":disabled")&&wb.test(this.nodeName)&&!vb.test(a)&&(this.checked||!ha.test(a))}).map(function(a,b){var c=r(this).val();return null==c?null:r.isArray(c)?r.map(c,function(a){return{name:b.name,value:a.replace(ub,"\r\n")}}):{name:b.name,value:c.replace(ub,"\r\n")}}).get()}});var yb=/%20/g,zb=/#.*$/,Ab=/([?&])_=[^&]*/,Bb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Cb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Db=/^(?:GET|HEAD)$/,Eb=/^\/\//,Fb={},Gb={},Hb="*/".concat("*"),Ib=d.createElement("a");Ib.href=qb.href;function Jb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(K)||[];if(r.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Kb(a,b,c,d){var e={},f=a===Gb;function g(h){var i;return e[h]=!0,r.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Lb(a,b){var c,d,e=r.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&r.extend(!0,a,d),a}function Mb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Nb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qb.href,type:"GET",isLocal:Cb.test(qb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Lb(Lb(a,r.ajaxSettings),b):Lb(r.ajaxSettings,a)},ajaxPrefilter:Jb(Fb),ajaxTransport:Jb(Gb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=r.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?r(p):r.event,s=r.Deferred(),t=r.Callbacks("once memory"),u=o.statusCode||{},v={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h){h={};while(b=Bb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=w[a.toLowerCase()]=w[a.toLowerCase()]||a,v[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)y.always(a[y.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){var b=a||x;return e&&e.abort(b),A(0,b),this}};if(s.promise(y),o.url=((b||o.url||qb.href)+"").replace(Eb,qb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(K)||[""],null==o.crossDomain){j=d.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Ib.protocol+"//"+Ib.host!=j.protocol+"//"+j.host}catch(z){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=r.param(o.data,o.traditional)),Kb(Fb,o,c,y),k)return y;l=r.event&&o.global,l&&0===r.active++&&r.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Db.test(o.type),f=o.url.replace(zb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(yb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(sb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Ab,""),n=(sb.test(f)?"&":"?")+"_="+rb++ +n),o.url=f+n),o.ifModified&&(r.lastModified[f]&&y.setRequestHeader("If-Modified-Since",r.lastModified[f]),r.etag[f]&&y.setRequestHeader("If-None-Match",r.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",o.contentType),y.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Hb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)y.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,y,o)===!1||k))return y.abort();if(x="abort",t.add(o.complete),y.done(o.success),y.fail(o.error),e=Kb(Gb,o,c,y)){if(y.readyState=1,l&&q.trigger("ajaxSend",[y,o]),k)return y;o.async&&o.timeout>0&&(i=a.setTimeout(function(){y.abort("timeout")},o.timeout));try{k=!1,e.send(v,A)}catch(z){if(k)throw z;A(-1,z)}}else A(-1,"No Transport");function A(b,c,d,h){var j,m,n,v,w,x=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",y.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(v=Mb(o,y,d)),v=Nb(o,v,y,j),j?(o.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(r.lastModified[f]=w),w=y.getResponseHeader("etag"),w&&(r.etag[f]=w)),204===b||"HEAD"===o.type?x="nocontent":304===b?x="notmodified":(x=v.state,m=v.data,n=v.error,j=!n)):(n=x,!b&&x||(x="error",0>b&&(b=0))),y.status=b,y.statusText=(c||x)+"",j?s.resolveWith(p,[m,x,y]):s.rejectWith(p,[y,x,n]),y.statusCode(u),u=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[y,o,j?m:n]),t.fireWith(p,[y,x]),l&&(q.trigger("ajaxComplete",[y,o]),--r.active||r.event.trigger("ajaxStop")))}return y},getJSON:function(a,b,c){return r.get(a,b,c,"json")},getScript:function(a,b){return r.get(a,void 0,b,"script")}}),r.each(["get","post"],function(a,b){r[b]=function(a,c,d,e){return r.isFunction(c)&&(e=e||d,d=c,c=void 0),r.ajax(r.extend({url:a,type:b,dataType:e,data:c,success:d},r.isPlainObject(a)&&a))}}),r._evalUrl=function(a){return r.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},r.fn.extend({wrapAll:function(a){var b;return this[0]&&(r.isFunction(a)&&(a=a.call(this[0])),b=r(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return r.isFunction(a)?this.each(function(b){r(this).wrapInner(a.call(this,b))}):this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(a){return!r.expr.pseudos.visible(a)},r.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Ob={0:200,1223:204},Pb=r.ajaxSettings.xhr();o.cors=!!Pb&&"withCredentials"in Pb,o.ajax=Pb=!!Pb,r.ajaxTransport(function(b){var c,d;return o.cors||Pb&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Ob[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),r.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return r.globalEval(a),a}}}),r.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),r.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=r("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Qb=[],Rb=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Qb.pop()||r.expando+"_"+rb++;return this[a]=!0,a}}),r.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Rb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=r.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Rb,"$1"+e):b.jsonp!==!1&&(b.url+=(sb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||r.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?r(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Qb.push(e)),g&&r.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),o.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),r.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var e,f,g;return b||(o.createHTMLDocument?(b=d.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=d.location.href,b.head.appendChild(e)):b=d),f=B.exec(a),g=!c&&[],f?[b.createElement(f[1])]:(f=oa([a],b,g),g&&g.length&&r(g).remove(),r.merge([],f.childNodes))},r.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=r.trim(a.slice(h)),a=a.slice(0,h)),r.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&r.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?r("<div>").append(r.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){r.fn[b]=function(a){return this.on(b,a)}}),r.expr.pseudos.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length};function Sb(a){return r.isWindow(a)?a:9===a.nodeType&&a.defaultView}r.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=r.css(a,"position"),l=r(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=r.css(a,"top"),i=r.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),r.isFunction(b)&&(b=b.call(a,c,r.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},r.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){r.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),d.width||d.height?(e=f.ownerDocument,c=Sb(e),b=e.documentElement,{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}):d):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===r.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),r.nodeName(a[0],"html")||(d=a.offset()),d={top:d.top+r.css(a[0],"borderTopWidth",!0),left:d.left+r.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-r.css(c,"marginTop",!0),left:b.left-d.left-r.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===r.css(a,"position"))a=a.offsetParent;return a||pa})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;r.fn[a]=function(d){return S(this,function(a,d,e){var f=Sb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),r.each(["top","left"],function(a,b){r.cssHooks[b]=Na(o.pixelPosition,function(a,c){return c?(c=Ma(a,b),Ka.test(c)?r(a).position()[b]+"px":c):void 0})}),r.each({Height:"height",Width:"width"},function(a,b){r.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){r.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return S(this,function(b,c,e){var f;return r.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?r.css(b,c,h):r.style(b,c,e,h)},b,g?e:void 0,g)}})}),r.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),r.parseJSON=JSON.parse, true&&__nested_webpack_require_2448__(8)&&!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function(){return r}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));var Tb=a.jQuery,Ub=a.$;return r.noConflict=function(b){return a.$===r&&(a.$=Ub),b&&a.jQuery===r&&(a.jQuery=Tb),r},b||(a.jQuery=a.$=r),r});


/***/ }),
/* 1 */,
/* 2 */
/***/ (function(module, exports, __nested_webpack_require_89146__) {

"use strict";


var isOldIE = function isOldIE() {
  var memo;
  return function memorize() {
    if (typeof memo === 'undefined') {
      // Test for IE <= 9 as proposed by Browserhacks
      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
      // Tests for existence of standard globals is to allow style-loader
      // to operate correctly into non-standard environments
      // @see https://github.com/webpack-contrib/style-loader/issues/177
      memo = Boolean(window && document && document.all && !window.atob);
    }

    return memo;
  };
}();

var getTarget = function getTarget() {
  var memo = {};
  return function memorize(target) {
    if (typeof memo[target] === 'undefined') {
      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
        try {
          // This will throw an exception if access to iframe is blocked
          // due to cross-origin restrictions
          styleTarget = styleTarget.contentDocument.head;
        } catch (e) {
          // istanbul ignore next
          styleTarget = null;
        }
      }

      memo[target] = styleTarget;
    }

    return memo[target];
  };
}();

var stylesInDom = [];

function getIndexByIdentifier(identifier) {
  var result = -1;

  for (var i = 0; i < stylesInDom.length; i++) {
    if (stylesInDom[i].identifier === identifier) {
      result = i;
      break;
    }
  }

  return result;
}

function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var index = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3]
    };

    if (index !== -1) {
      stylesInDom[index].references++;
      stylesInDom[index].updater(obj);
    } else {
      stylesInDom.push({
        identifier: identifier,
        updater: addStyle(obj, options),
        references: 1
      });
    }

    identifiers.push(identifier);
  }

  return identifiers;
}

function insertStyleElement(options) {
  var style = document.createElement('style');
  var attributes = options.attributes || {};

  if (typeof attributes.nonce === 'undefined') {
    var nonce =   true ? __nested_webpack_require_89146__.nc : 0;

    if (nonce) {
      attributes.nonce = nonce;
    }
  }

  Object.keys(attributes).forEach(function (key) {
    style.setAttribute(key, attributes[key]);
  });

  if (typeof options.insert === 'function') {
    options.insert(style);
  } else {
    var target = getTarget(options.insert || 'head');

    if (!target) {
      throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
    }

    target.appendChild(style);
  }

  return style;
}

function removeStyleElement(style) {
  // istanbul ignore if
  if (style.parentNode === null) {
    return false;
  }

  style.parentNode.removeChild(style);
}
/* istanbul ignore next  */


var replaceText = function replaceText() {
  var textStore = [];
  return function replace(index, replacement) {
    textStore[index] = replacement;
    return textStore.filter(Boolean).join('\n');
  };
}();

function applyToSingletonTag(style, index, remove, obj) {
  var css = remove ? '' : obj.media ? "@media ".concat(obj.media, " {").concat(obj.css, "}") : obj.css; // For old IE

  /* istanbul ignore if  */

  if (style.styleSheet) {
    style.styleSheet.cssText = replaceText(index, css);
  } else {
    var cssNode = document.createTextNode(css);
    var childNodes = style.childNodes;

    if (childNodes[index]) {
      style.removeChild(childNodes[index]);
    }

    if (childNodes.length) {
      style.insertBefore(cssNode, childNodes[index]);
    } else {
      style.appendChild(cssNode);
    }
  }
}

function applyToTag(style, options, obj) {
  var css = obj.css;
  var media = obj.media;
  var sourceMap = obj.sourceMap;

  if (media) {
    style.setAttribute('media', media);
  } else {
    style.removeAttribute('media');
  }

  if (sourceMap && btoa) {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    while (style.firstChild) {
      style.removeChild(style.firstChild);
    }

    style.appendChild(document.createTextNode(css));
  }
}

var singleton = null;
var singletonCounter = 0;

function addStyle(obj, options) {
  var style;
  var update;
  var remove;

  if (options.singleton) {
    var styleIndex = singletonCounter++;
    style = singleton || (singleton = insertStyleElement(options));
    update = applyToSingletonTag.bind(null, style, styleIndex, false);
    remove = applyToSingletonTag.bind(null, style, styleIndex, true);
  } else {
    style = insertStyleElement(options);
    update = applyToTag.bind(null, style, options);

    remove = function remove() {
      removeStyleElement(style);
    };
  }

  update(obj);
  return function updateStyle(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {
        return;
      }

      update(obj = newObj);
    } else {
      remove();
    }
  };
}

module.exports = function (list, options) {
  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
  // tags it will allow on a page

  if (!options.singleton && typeof options.singleton !== 'boolean') {
    options.singleton = isOldIE();
  }

  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];

    if (Object.prototype.toString.call(newList) !== '[object Array]') {
      return;
    }

    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDom[index].references--;
    }

    var newLastIdentifiers = modulesToDom(newList, options);

    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];

      var _index = getIndexByIdentifier(_identifier);

      if (stylesInDom[_index].references === 0) {
        stylesInDom[_index].updater();

        stylesInDom.splice(_index, 1);
      }
    }

    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
// eslint-disable-next-line func-names
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return "@media ".concat(item[2], " {").concat(content, "}");
      }

      return content;
    }).join('');
  }; // import a list of modules into the list
  // eslint-disable-next-line func-names


  list.i = function (modules, mediaQuery, dedupe) {
    if (typeof modules === 'string') {
      // eslint-disable-next-line no-param-reassign
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var i = 0; i < this.length; i++) {
        // eslint-disable-next-line prefer-destructuring
        var id = this[i][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _i = 0; _i < modules.length; _i++) {
      var item = [].concat(modules[_i]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        // eslint-disable-next-line no-continue
        continue;
      }

      if (mediaQuery) {
        if (!item[2]) {
          item[2] = mediaQuery;
        } else {
          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);
        }
      }

      list.push(item);
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring

  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot || '').concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
  return "/*# ".concat(data, " */");
}

/***/ }),
/* 4 */
/***/ (function(module, exports, __nested_webpack_require_98593__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($, jQuery) {
// Python Tutor: https://github.com/pgbovine/OnlinePythonTutor/
// Copyright (C) Philip Guo (philip@pgbovine.net)
// LICENSE: https://github.com/pgbovine/OnlinePythonTutor/blob/master/LICENSE.txt
Object.defineProperty(exports, "__esModule", { value: true });
/* TODO:

- substitute in a non-live version of the live editor from opt-live.js
  in addition to the janky current version of the editor

*/
/* pytutor coding gotchas:

- *NEVER* use raw $(__) or d3.select(__) statements to select DOM elements.

  *ALWAYS* use myViz.domRoot or myViz.domRootD3 for jQuery and D3, respectively.

  Otherwise things will break in weird ways when you have more than one
  visualization embedded within a webpage, due to multiple matches in
  the global namespace.

  By doing myViz.domRoot / .domRootD3, you're guaranteed to select DOM elements
  within the current ExecutionVisualizer object

- always use generateID and generateHeapObjID to generate unique CSS
  IDs, or else things will break when multiple ExecutionVisualizer
  instances are on a webpage

*/
__nested_webpack_require_98593__(9);
__nested_webpack_require_98593__(0);
__nested_webpack_require_98593__(10); // DO NOT UPGRADE ABOVE 1.3.10 OR ELSE BREAKAGE WILL OCCUR
__nested_webpack_require_98593__(11);
__nested_webpack_require_98593__(12);
__nested_webpack_require_98593__(28); // contains slight pgbovine modifications
__nested_webpack_require_98593__(6); // for $.doTimeout
__nested_webpack_require_98593__(29);
var footer_html_1 = __nested_webpack_require_98593__(5);
exports.SVG_ARROW_POLYGON = '0,3 12,3 12,0 18,5 12,10 12,7 0,7';
var SVG_ARROW_HEIGHT = 10; // must match height of SVG_ARROW_POLYGON
/* colors - see pytutor.css for more colors */
exports.brightRed = '#e93f34';
var connectorBaseColor = '#005583';
var connectorHighlightColor = exports.brightRed;
var connectorInactiveColor = '#cccccc';
var errorColor = exports.brightRed;
var breakpointColor = exports.brightRed;
// Unicode arrow types: '\u21d2', '\u21f0', '\u2907'
exports.darkArrowColor = exports.brightRed;
exports.lightArrowColor = '#c9e6ca';
var heapPtrSrcRE = /__heap_pointer_src_/;
var rightwardNudgeHack = true; // suggested by John DeNero, toggle with global
// returns a list of length a.length * b.length with elements from both
// mixed. the elements of a and b should be primitives, but if the first element
// is a list, it flattens it. e.g.,:
//   multiplyLists([1, 2, 3], [4, 5]) -> [[1,4], [1,5], [2,4], [2,5], [3,4], [3,5]]
function multiplyLists(a, b) {
    var ret = [];
    for (var i = 0; i < a.length; i++) {
        for (var j = 0; j < b.length; j++) {
            var elt = a[i];
            // flatten list
            if ($.isArray(elt)) {
                ret.push(elt.concat(b[j]));
            }
            else {
                ret.push([elt, b[j]]);
            }
        }
    }
    return ret;
}
// BEGIN utilities for selectively hiding variables
// use htmlspecialchars to escape contents before printing to HTML,
// then UNDO &nbsp; -> ' ' since we want spaces to nicely line-wrap
// instead of being non-breaking
function varlistToHtml(lst) {
    return htmlspecialchars(lst.join(", ")).replace(/&nbsp;/g, ' ');
}
// take a string of something to hide, replace newlines with ','
// so users can conveniently use newlines as delimiters, then split
// by ',', filter out empty entries, and return trimmed ones:
function processHideString(s) {
    return s.replace(/\n/g, ',')
        .split(',')
        .filter(function (e) { return e.trim().length > 0; })
        .map(function (e) { return e.trim(); });
}
// END utilities for selectively hiding variables
var newlineAllRegex = new RegExp('\n', 'g');
var doubleQuoteAllRegex = new RegExp('\"', 'g');
var tabAllRegex = new RegExp("\t", 'g');
// the main event!
var ExecutionVisualizer = /** @class */ (function () {
    // Constructor with an ever-growing feature-crepped list of options :)
    // domRootID is the string ID of the root element where to render this instance
    //
    // dat is data returned by the Python Tutor backend consisting of two fields:
    //   code  - string of executed code
    //   trace - a full execution trace
    //
    // params is an object containing optional parameters, such as:
    //   jumpToEnd - if non-null, jump to the very end of execution if
    //               there's no error, or if there's an error, jump to the
    //               FIRST ENTRY with an error
    //   startingInstruction - the (zero-indexed) execution point to display upon rendering
    //                         if this is set, then it *overrides* jumpToEnd
    //   codeDivHeight - maximum height of #pyCodeOutputDiv (in integer pixels)
    //   codeDivWidth  - maximum width  of #pyCodeOutputDiv (in integer pixels)
    //   editCodeBaseURL - the base URL to visit when the user clicks 'Edit code' (if null, then 'Edit code' link hidden)
    //   embeddedMode         - shortcut for codeDivWidth=DEFAULT_EMBEDDED_CODE_DIV_WIDTH,
    //                                       codeDivHeight=DEFAULT_EMBEDDED_CODE_DIV_HEIGHT
    //                          (and hide a bunch of other stuff & don't activate keyboard shortcuts!)
    //   disableHeapNesting   - if true, then render all heap objects at the top level (i.e., no nested objects)
    //   alwaysNestTypes      - if non-null, a list of type names to ALWAYS nest within heap objects
    //                          (supersedes disableHeapNesting, defaults to DEFAULT_ALWAYS_NEST_TYPES)
    //   drawParentPointers   - if true, then draw environment diagram parent pointers for all frames
    //                          WARNING: there are hard-to-debug MEMORY LEAKS associated with activating this option
    //   textualMemoryLabels  - render references using textual memory labels rather than as jsPlumb arrows.
    //                          this is good for slow browsers or when used with disableHeapNesting
    //                          to prevent "arrow overload"
    //   updateOutputCallback - function to call (with 'this' as parameter)
    //                          whenever this.updateOutput() is called
    //                          (BEFORE rendering the output display)
    //   heightChangeCallback - function to call (with 'this' as parameter)
    //                          whenever the HEIGHT of #dataViz changes
    //   verticalStack - if true, then stack code display ON TOP of visualization
    //                   (else place side-by-side)
    //   visualizerIdOverride - override visualizer ID instead of auto-assigning it
    //                          (BE CAREFUL ABOUT NOT HAVING DUPLICATE IDs ON THE SAME PAGE,
    //                           OR ELSE ARROWS AND OTHER STUFF WILL GO HAYWIRE!)
    //   executeCodeWithRawInputFunc - function to call when you want to re-execute the given program
    //                                 with some new user input (somewhat hacky!)
    //   compactFuncLabels - render functions with a 'func' prefix and no type label
    //   showAllFrameLabels - display frame and parent frame labels for all functions (default: false)
    //   hideCode - hide the code display and show only the data structure viz
    //   lang - to render labels in a style appropriate for other languages,
    //          and to display the proper language in langDisplayDiv:
    //          'py2' for Python 2, 'py3' for Python 3, 'js' for JavaScript, 'java' for Java,
    //          'ts' for TypeScript, 'ruby' for Ruby, 'c' for C, 'cpp' for C++
    //          'py3anaconda' for Python 3 with Anaconda
    //          [default is Python-style labels]
    function ExecutionVisualizer(domRootID, dat, params) {
        this.params = {};
        // an array of objects with the following fields:
        //   'text' - the text of the line of code
        //   'lineNumber' - one-indexed (always the array index + 1)
        //   'executionPoints' - an ordered array of zero-indexed execution points where this line was executed
        //   'breakpointHere' - has a breakpoint been set here?
        this.codeOutputLines = [];
        this.curInstr = 0;
        // API for adding a hook, created by David Pritchard
        // keys, hook names; values, list of functions
        this.pytutor_hooks = {};
        // true iff trace ended prematurely since maximum instruction limit has
        // been reached
        this.instrLimitReached = false;
        this.hasRendered = false;
        this.breakpoints = d3.map(); // set of execution points to set as breakpoints
        this.sortedBreakpointsList = []; // sorted and synced with breakpoints
        this.curInputCode = dat.code.rtrim(); // kill trailing spaces
        this.params = params;
        this.curTrace = dat.trace;
        // postprocess the trace
        if (this.curTrace.length > 0) {
            var lastEntry = this.curTrace[this.curTrace.length - 1];
            // if the final entry is raw_input or mouse_input, then trim it from the trace and
            // set a flag to prompt for user input when execution advances to the
            // end of the trace
            if (lastEntry.event === 'raw_input') {
                this.promptForUserInput = true;
                this.userInputPromptStr = htmlspecialchars(lastEntry.prompt);
                this.curTrace.pop(); // kill last entry so that it doesn't get displayed
            }
            else if (lastEntry.event === 'mouse_input') {
                this.promptForMouseInput = true;
                this.userInputPromptStr = htmlspecialchars(lastEntry.prompt);
                this.curTrace.pop(); // kill last entry so that it doesn't get displayed
            }
            else if (lastEntry.event === 'instruction_limit_reached') {
                this.instrLimitReached = true;
                this.instrLimitReachedWarningMsg = lastEntry.exception_msg;
                this.curTrace.pop(); // postprocess to kill last entry
            }
        }
        // if you have multiple ExecutionVisualizer on a page, their IDs
        // better be unique or else you'll run into rendering problems
        if (this.params.visualizerIdOverride) {
            this.visualizerID = this.params.visualizerIdOverride;
        }
        else {
            this.visualizerID = ExecutionVisualizer.curVisualizerID;
            assert(this.visualizerID > 0);
            ExecutionVisualizer.curVisualizerID++;
        }
        // sanitize to avoid nasty 'undefined' states
        this.params.disableHeapNesting = (this.params.disableHeapNesting === true);
        this.params.drawParentPointers = (this.params.drawParentPointers === true);
        this.params.textualMemoryLabels = (this.params.textualMemoryLabels === true);
        this.params.showAllFrameLabels = (this.params.showAllFrameLabels === true);
        if (this.params.alwaysNestTypes === undefined) {
            this.params.alwaysNestTypes = ExecutionVisualizer.DEFAULT_ALWAYS_NEST_TYPES;
        }
        assert($.isArray(this.params.alwaysNestTypes));
        // insert ExecutionVisualizer into domRootID in the DOM
        var tmpRoot = $('#' + domRootID);
        var tmpRootD3 = d3.select('#' + domRootID);
        tmpRoot.html('<div class="ExecutionVisualizer"></div>');
        // the root elements for jQuery and D3 selections, respectively.
        // ALWAYS use these and never use raw $(__) or d3.select(__)
        this.domRoot = tmpRoot.find('div.ExecutionVisualizer');
        this.domRootD3 = tmpRootD3.select('div.ExecutionVisualizer');
        if (this.params.lang === 'java') {
            this.activateJavaFrontend(); // ohhhh yeah! do this before initializing codeOutputLines (ugh order dependency)
        }
        var lines = this.curInputCode.split('\n');
        for (var i = 0; i < lines.length; i++) {
            var cod = lines[i];
            var n = {
                text: cod,
                lineNumber: i + 1,
                executionPoints: [],
                breakpointHere: false,
            };
            $.each(this.curTrace, function (j, elt) {
                if (elt.line === n.lineNumber) {
                    n.executionPoints.push(j);
                }
            });
            // if there is a comment containing 'breakpoint' and this line was actually executed,
            // then set a breakpoint on this line
            var breakpointInComment = false;
            var toks = cod.split('#');
            for (var j = 1 /* start at index 1, not 0 */; j < toks.length; j++) {
                if (toks[j].indexOf('breakpoint') != -1) {
                    breakpointInComment = true;
                }
            }
            if (breakpointInComment && n.executionPoints.length > 0) {
                n.breakpointHere = true;
                this.addToBreakpoints(n.executionPoints);
            }
            this.codeOutputLines.push(n);
        }
        this.try_hook("end_constructor", { myViz: this });
        this.render(); // go for it!
    }
    ExecutionVisualizer.prototype.objInAlwaysNestTypes = function (obj) {
        if (!obj)
            return false;
        assert($.isArray(obj));
        if (this.params.alwaysNestTypes.indexOf(obj[0]) >= 0) {
            // is the type name in alwaysNestTypes?
            return true;
        }
        else if (obj.length >= 2 &&
            (obj[0] == 'INSTANCE' || obj[0] == 'INSTANCE_PPRINT') &&
            (this.params.alwaysNestTypes.indexOf(obj[1]) >= 0)) {
            // otherwise is this an INSTANCE with the type name (obj[1]) in alwaysNestTypes?
            return true;
        }
        else {
            return false;
        }
    };
    // should this object be nested within another one?
    ExecutionVisualizer.prototype.shouldNestObject = function (obj) {
        return (!this.params.disableHeapNesting || this.objInAlwaysNestTypes(obj));
    };
    /* API for adding a hook, created by David Pritchard
       https://github.com/daveagp
  
      [this documentation is a bit deprecated since Philip made try_hook a
       method of ExecutionVisualizer, but the general ideas remain]
  
     An external user should call
       add_pytutor_hook("hook_name_here", function(args) {...})
     args will be a javascript object with several named properties;
     this is meant to be similar to Python's keyword arguments.
  
     The hooked function should return an array whose first element is a boolean:
     true if it completely handled the situation (no further hooks
     nor the base function should be called); false otherwise (wasn't handled).
     If the hook semantically represents a function that returns something,
     the second value of the returned array is that semantic return value.
  
     E.g. for the Java visualizer a simplified version of a hook we use is:
  
    add_pytutor_hook(
      "isPrimitiveType",
      function(args) {
        var obj = args.obj; // unpack
        if (obj instanceof Array && obj[0] == "CHAR-LITERAL")
          return [true, true]; // yes we handled it, yes it's primitive
        return [false]; // didn't handle it, let someone else
      });
  
     Hook callbacks can return false or undefined (i.e. no return
     value) in lieu of [false].
  
     NB: If multiple functions are added to a hook, the oldest goes first. */
    ExecutionVisualizer.prototype.add_pytutor_hook = function (hook_name, func) {
        if (this.pytutor_hooks[hook_name])
            this.pytutor_hooks[hook_name].push(func);
        else
            this.pytutor_hooks[hook_name] = [func];
    };
    /*  [this documentation is a bit deprecated since Philip made try_hook a
         method of ExecutionVisualizer, but the general ideas remain]
  
    try_hook(hook_name, args): how the internal codebase invokes a hook.
  
    args will be a javascript object with several named properties;
    this is meant to be similar to Python's keyword arguments. E.g.,
  
    function isPrimitiveType(obj) {
      var hook_result = try_hook("isPrimitiveType", {obj:obj});
      if (hook_result[0]) return hook_result[1];
      // go on as normal if the hook didn't handle it
  
    Although add_pytutor_hook allows the hooked function to
    return false or undefined, try_hook will always return
    something with the strict format [false], [true] or [true, ...]. */
    ExecutionVisualizer.prototype.try_hook = function (hook_name, args) {
        if (this.pytutor_hooks[hook_name]) {
            for (var i = 0; i < this.pytutor_hooks[hook_name].length; i++) {
                // apply w/o "this", and pack sole arg into array as required by apply
                var handled_and_result = this.pytutor_hooks[hook_name][i].apply(null, [args]);
                if (handled_and_result && handled_and_result[0])
                    return handled_and_result;
            }
        }
        return [false];
    };
    // create a unique ID, which is often necessary so that jsPlumb doesn't get confused
    // due to multiple ExecutionVisualizer instances being displayed simultaneously
    ExecutionVisualizer.prototype.generateID = function (original_id) {
        // (it's safer to start names with a letter rather than a number)
        return 'v' + this.visualizerID + '__' + original_id;
    };
    ExecutionVisualizer.prototype.render = function () {
        var _this = this;
        if (this.hasRendered) {
            alert('ERROR: You should only call render() ONCE on an ExecutionVisualizer object.');
            return;
        }
        var myViz = this; // to prevent confusion of 'this' inside of nested functions
        if (this.params.verticalStack) {
            this.domRoot.html('<table border="0" class="visualizer">\
                           <tr><td class="vizLayoutTd" id="vizLayoutTdFirst""></td></tr>\
                           <tr><td class="vizLayoutTd" id="vizLayoutTdSecond"></td></tr>\
                         </table>');
        }
        else {
            this.domRoot.html('<table border="0" class="visualizer"><tr>\
                           <td class="vizLayoutTd" id="vizLayoutTdFirst"></td>\
                           <td class="vizLayoutTd" id="vizLayoutTdSecond"></td>\
                         </tr></table>');
        }
        // create a container for a resizable slider to encompass
        // both CodeDisplay and NavigationController
        this.domRoot.find('#vizLayoutTdFirst').append('<div id="codAndNav" style="width: 550px;"/>');
        var base = this.domRoot.find('#vizLayoutTdFirst #codAndNav');
        var baseD3 = this.domRootD3.select('#vizLayoutTdFirst #codAndNav');
        this.codDisplay = new CodeDisplay(this, base, baseD3, this.curInputCode, this.params.lang, this.params.editCodeBaseURL);
        this.navControls = new NavigationController(this, base, baseD3, this.curTrace.length);
        if (this.params.embeddedMode) {
            // don't override if they've already been set!
            if (this.params.codeDivWidth === undefined) {
                this.params.codeDivWidth = ExecutionVisualizer.DEFAULT_EMBEDDED_CODE_DIV_WIDTH;
            }
            if (this.params.codeDivHeight === undefined) {
                this.params.codeDivHeight = ExecutionVisualizer.DEFAULT_EMBEDDED_CODE_DIV_HEIGHT;
            }
            // add an extra label to link back to the main site, so that viewers
            // on the embedded page know that they're seeing an OPT visualization
            base.find('#creditsPane').html('<div style="font-size: 8pt; margin-top: 5px; margin-bottom: 5px;"><a href="http://pythontutor.com/" target="_blank" style="color: #3D58A2;">Python Tutor</a> by <a href="http://pgbovine.net/" target="_blank" style="color: #3D58A2;">Philip Guo</a></div>');
            base.find('#codeFooterDocs').hide(); // cut out extraneous docs
        }
        else {
        }
        // not enough room for these extra buttons ...
        if (this.params.codeDivWidth &&
            this.params.codeDivWidth < 470) {
            this.domRoot.find('#jmpFirstInstr').hide();
            this.domRoot.find('#jmpLastInstr').hide();
        }
        if (this.params.codeDivWidth) {
            this.domRoot.find('#codAndNav').width(this.params.codeDivWidth);
        }
        if (this.params.codeDivHeight) {
            this.domRoot.find('#pyCodeOutputDiv')
                .css('max-height', this.params.codeDivHeight + 'px');
        }
        // enable left-right draggable pane resizer (originally from David Pritchard)
        base.resizable({
            handles: "e",
            minWidth: 100,
            resize: function (event, ui) {
                _this.domRoot.find("#codeDisplayDiv").css("height", "auto"); // redetermine height if necessary
                _this.navControls.renderSliderBreakpoints(_this.sortedBreakpointsList); // update breakpoint display accordingly on resize
                if (_this.params.updateOutputCallback) // report size change
                    _this.params.updateOutputCallback(_this);
            }
        });
        this.outputBox = new ProgramOutputBox(this, this.domRoot.find('#vizLayoutTdSecond'), this.params.embeddedMode ? '45px' : null);
        this.dataViz = new DataVisualizer(this, this.domRoot.find('#vizLayoutTdSecond'), this.domRootD3.select('#vizLayoutTdSecond'));
        myViz.navControls.showError(this.instrLimitReachedWarningMsg);
        myViz.navControls.setupSlider(this.curTrace.length - 1);
        if (this.params.startingInstruction) {
            this.params.jumpToEnd = false; // override! make sure to handle FIRST
            // weird special case for something like:
            // e=raw_input(raw_input("Enter something:"))
            if (this.params.startingInstruction == this.curTrace.length) {
                this.params.startingInstruction--;
            }
            // fail-soft with out-of-bounds startingInstruction values:
            if (this.params.startingInstruction < 0) {
                this.params.startingInstruction = 0;
            }
            if (this.params.startingInstruction >= this.curTrace.length) {
                this.params.startingInstruction = this.curTrace.length - 1;
            }
            assert(0 <= this.params.startingInstruction &&
                this.params.startingInstruction < this.curTrace.length);
            this.curInstr = this.params.startingInstruction;
        }
        if (this.params.jumpToEnd) {
            var firstErrorStep = -1;
            for (var i = 0; i < this.curTrace.length; i++) {
                var e = this.curTrace[i];
                if (e.event == 'exception' || e.event == 'uncaught_exception') {
                    firstErrorStep = i;
                    break;
                }
            }
            // set to first error step if relevant since that's more informative
            // than simply jumping to the very end
            if (firstErrorStep >= 0) {
                this.curInstr = firstErrorStep;
            }
            else {
                this.curInstr = this.curTrace.length - 1;
            }
        }
        if (this.params.hideCode) {
            this.domRoot.find('#vizLayoutTdFirst').hide(); // gigantic hack!
        }
        this.dataViz.precomputeCurTraceLayouts();
        if (!this.params.hideCode) {
            this.codDisplay.renderPyCodeOutput();
        }
        this.updateOutput();
        this.redrawConnectors(); // do this at the end
        this.hasRendered = true;
        this.try_hook("end_render", { myViz: this });
    };
    ExecutionVisualizer.prototype._getSortedBreakpointsList = function () {
        var ret = [];
        this.breakpoints.forEach(function (k, v) {
            ret.push(Number(k)); // these should be NUMBERS, not strings
        });
        ret.sort(function (x, y) { return x - y; }); // WTF, javascript sort is lexicographic by default!
        return ret;
    };
    ExecutionVisualizer.prototype.addToBreakpoints = function (executionPoints) {
        var _this = this;
        $.each(executionPoints, function (i, ep) {
            _this.breakpoints.set(ep, 1);
        });
        this.sortedBreakpointsList = this._getSortedBreakpointsList(); // keep synced!
    };
    ExecutionVisualizer.prototype.removeFromBreakpoints = function (executionPoints) {
        var _this = this;
        $.each(executionPoints, function (i, ep) {
            _this.breakpoints.remove(ep);
        });
        this.sortedBreakpointsList = this._getSortedBreakpointsList(); // keep synced!
    };
    ExecutionVisualizer.prototype.setBreakpoint = function (d) {
        this.addToBreakpoints(d.executionPoints);
        this.navControls.renderSliderBreakpoints(this.sortedBreakpointsList);
    };
    ExecutionVisualizer.prototype.unsetBreakpoint = function (d) {
        this.removeFromBreakpoints(d.executionPoints);
        this.navControls.renderSliderBreakpoints(this.sortedBreakpointsList);
    };
    // find the previous/next breakpoint to c or return -1 if it doesn't exist
    ExecutionVisualizer.prototype.findPrevBreakpoint = function () {
        var c = this.curInstr;
        if (this.sortedBreakpointsList.length == 0) {
            return -1;
        }
        else {
            for (var i = 1; i < this.sortedBreakpointsList.length; i++) {
                var prev = this.sortedBreakpointsList[i - 1];
                var cur = this.sortedBreakpointsList[i];
                if (c <= prev)
                    return -1;
                if (cur >= c)
                    return prev;
            }
            // final edge case:
            var lastElt = this.sortedBreakpointsList[this.sortedBreakpointsList.length - 1];
            return (lastElt < c) ? lastElt : -1;
        }
    };
    ExecutionVisualizer.prototype.findNextBreakpoint = function () {
        var c = this.curInstr;
        if (this.sortedBreakpointsList.length == 0) {
            return -1;
        }
        // usability hack: if you're currently on a breakpoint, then
        // single-step forward to the next execution point, NOT the next
        // breakpoint. it's often useful to see what happens when the line
        // at a breakpoint executes.
        else if ($.inArray(c, this.sortedBreakpointsList) >= 0) {
            return c + 1;
        }
        else {
            for (var i = 0; i < this.sortedBreakpointsList.length - 1; i++) {
                var cur = this.sortedBreakpointsList[i];
                var next = this.sortedBreakpointsList[i + 1];
                if (c < cur)
                    return cur;
                if (cur <= c && c < next) // subtle
                    return next;
            }
            // final edge case:
            var lastElt = this.sortedBreakpointsList[this.sortedBreakpointsList.length - 1];
            return (lastElt > c) ? lastElt : -1;
        }
    };
    // returns true if action successfully taken
    ExecutionVisualizer.prototype.stepForward = function () {
        var myViz = this;
        if (myViz.curInstr < myViz.curTrace.length - 1) {
            // if there is a next breakpoint, then jump to it ...
            if (myViz.sortedBreakpointsList.length > 0) {
                var nextBreakpoint = myViz.findNextBreakpoint();
                if (nextBreakpoint != -1)
                    myViz.curInstr = nextBreakpoint;
                else
                    myViz.curInstr += 1; // prevent "getting stuck" on a solitary breakpoint
            }
            else {
                myViz.curInstr += 1;
            }
            myViz.updateOutput(true);
            return true;
        }
        return false;
    };
    // returns true if action successfully taken
    ExecutionVisualizer.prototype.stepBack = function () {
        var myViz = this;
        if (myViz.curInstr > 0) {
            // if there is a prev breakpoint, then jump to it ...
            if (myViz.sortedBreakpointsList.length > 0) {
                var prevBreakpoint = myViz.findPrevBreakpoint();
                if (prevBreakpoint != -1)
                    myViz.curInstr = prevBreakpoint;
                else
                    myViz.curInstr -= 1; // prevent "getting stuck" on a solitary breakpoint
            }
            else {
                myViz.curInstr -= 1;
            }
            myViz.updateOutput();
            return true;
        }
        return false;
    };
    // This function is called every time the display needs to be updated
    ExecutionVisualizer.prototype.updateOutput = function (smoothTransition) {
        if (smoothTransition === void 0) { smoothTransition = false; }
        if (this.params.hideCode) {
            this.updateOutputMini();
        }
        else {
            this.updateOutputFull(smoothTransition);
        }
        this.outputBox.renderOutput(this.curTrace[this.curInstr].stdout);
        this.try_hook("end_updateOutput", { myViz: this });
    };
    // does a LOT of stuff, called by updateOutput
    ExecutionVisualizer.prototype.updateOutputFull = function (smoothTransition) {
        assert(this.curTrace);
        assert(!this.params.hideCode);
        var myViz = this; // to prevent confusion of 'this' inside of nested functions
        // there's no point in re-rendering if this pane isn't even visible in the first place!
        if (!myViz.domRoot.is(':visible')) {
            return;
        }
        myViz.updateLineAndExceptionInfo(); // very important to call this before rendering code (argh order dependency)
        var prevDataVizHeight = myViz.dataViz.height();
        this.codDisplay.updateCodOutput(smoothTransition);
        // call the callback if necessary (BEFORE rendering)
        if (this.params.updateOutputCallback) {
            this.params.updateOutputCallback(this);
        }
        var totalInstrs = this.curTrace.length;
        var isFirstInstr = (this.curInstr == 0);
        var isLastInstr = (this.curInstr == (totalInstrs - 1));
        var msg = "Step " + String(this.curInstr + 1) + " of " + String(totalInstrs - 1);
        if (isLastInstr) {
            if (this.promptForUserInput || this.promptForMouseInput) {
                msg = '<b><font color="' + exports.brightRed + '">Enter user input:</font></b>';
            }
            else if (this.instrLimitReached) {
                msg = "Step limit reached";
            }
            else {
                msg = "Done running (" + String(totalInstrs - 1) + " steps)";
            }
        }
        this.navControls.setVcrControls(msg, isFirstInstr, isLastInstr);
        this.navControls.setSliderVal(this.curInstr);
        // render error (if applicable):
        if (myViz.curLineExceptionMsg) {
            if (myViz.curLineExceptionMsg === "Unknown error") {
                myViz.navControls.showError('Unknown error: ' + footer_html_1.unsupportedFeaturesStr);
            }
            else {
                myViz.navControls.showError(myViz.curLineExceptionMsg);
            }
        }
        else if (!this.instrLimitReached) { // ugly, I know :/
            myViz.navControls.showError(null);
        }
        // finally, render all of the data structures
        this.dataViz.renderDataStructures(this.curInstr);
        // call the callback if necessary (AFTER rendering)
        if (myViz.dataViz.height() != prevDataVizHeight) {
            if (this.params.heightChangeCallback) {
                this.params.heightChangeCallback(this);
            }
        }
        if (isLastInstr &&
            myViz.params.executeCodeWithRawInputFunc &&
            myViz.promptForUserInput) {
            this.navControls.showUserInputDiv();
        }
        else {
            this.navControls.hideUserInputDiv();
        }
    }; // end of updateOutputFull
    ExecutionVisualizer.prototype.updateOutputMini = function () {
        assert(this.params.hideCode);
        this.dataViz.renderDataStructures(this.curInstr);
    };
    ExecutionVisualizer.prototype.renderStep = function (step) {
        assert(0 <= step);
        assert(step < this.curTrace.length);
        // ignore redundant calls
        if (this.curInstr == step) {
            return;
        }
        this.curInstr = step;
        this.updateOutput();
    };
    ExecutionVisualizer.prototype.redrawConnectors = function () {
        this.dataViz.redrawConnectors();
    };
    // All of the Java frontend code in this function was written by David
    // Pritchard and Will Gwozdz, and integrated into pytutor.js by Philip Guo
    ExecutionVisualizer.prototype.activateJavaFrontend = function () {
        var prevLine = null;
        this.curTrace.forEach(function (e, i) {
            // ugh the Java backend doesn't attach line numbers to exception
            // events, so just take the previous line number as our best guess
            if (e.event === 'exception' && !e.line) {
                e.line = prevLine;
            }
            // super hack by Philip that reverses the direction of the stack so
            // that it grows DOWN and renders the same way as the Python and JS
            // visualizer stacks
            if (e.stack_to_render !== undefined) {
                e.stack_to_render.reverse();
            }
            prevLine = e.line;
        });
        this.add_pytutor_hook("renderPrimitiveObject", function (args) {
            var obj = args.obj, d3DomElement = args.d3DomElement;
            var typ = typeof obj;
            if (obj instanceof Array && obj[0] == "VOID") {
                d3DomElement.append('<span class="voidObj">void</span>');
            }
            else if (obj instanceof Array && obj[0] == "NUMBER-LITERAL") {
                // actually transmitted as a string
                d3DomElement.append('<span class="numberObj">' + obj[1] + '</span>');
            }
            else if (obj instanceof Array && obj[0] == "CHAR-LITERAL") {
                var asc = obj[1].charCodeAt(0);
                var ch = obj[1];
                // default
                var show = asc.toString(16);
                while (show.length < 4)
                    show = "0" + show;
                show = "\\u" + show;
                if (ch == "\n")
                    show = "\\n";
                else if (ch == "\r")
                    show = "\\r";
                else if (ch == "\t")
                    show = "\\t";
                else if (ch == "\b")
                    show = "\\b";
                else if (ch == "\f")
                    show = "\\f";
                else if (ch == "\'")
                    show = "\\\'";
                else if (ch == "\"")
                    show = "\\\"";
                else if (ch == "\\")
                    show = "\\\\";
                else if (asc >= 32)
                    show = ch;
                // stringObj to make monospace
                d3DomElement.append('<span class="stringObj">\'' + show + '\'</span>');
            }
            else
                return [false]; // we didn't handle it
            return [true]; // we handled it
        });
        this.add_pytutor_hook("isPrimitiveType", function (args) {
            var obj = args.obj;
            if ((obj instanceof Array && obj[0] == "VOID")
                || (obj instanceof Array && obj[0] == "NUMBER-LITERAL")
                || (obj instanceof Array && obj[0] == "CHAR-LITERAL")
                || (obj instanceof Array && obj[0] == "ELIDE"))
                return [true, true]; // we handled it, it's primitive
            return [false]; // didn't handle it
        });
        this.add_pytutor_hook("end_updateOutput", function (args) {
            var myViz = args.myViz;
            var curEntry = myViz.curTrace[myViz.curInstr];
            if (myViz.params.stdin && myViz.params.stdin != "") {
                var stdinPosition = curEntry.stdinPosition || 0;
                var stdinContent = '<span style="color:lightgray;text-decoration: line-through">' +
                    escapeHtml(myViz.params.stdin.substr(0, stdinPosition)) +
                    '</span>' +
                    escapeHtml(myViz.params.stdin.substr(stdinPosition));
                myViz.domRoot.find('#stdinShow').html(stdinContent);
            }
            return [false];
        });
        this.add_pytutor_hook("end_render", function (args) {
            var myViz = args.myViz;
            if (myViz.params.stdin && myViz.params.stdin != "") {
                var stdinHTML = '<div id="stdinWrap">stdin:<pre id="stdinShow" style="border:1px solid gray"></pre></div>';
                myViz.domRoot.find('#dataViz').append(stdinHTML); // TODO: leaky abstraction with #dataViz
            }
            myViz.domRoot.find('#' + myViz.generateID('globals_header')).html("Static fields");
        });
        this.add_pytutor_hook("isLinearObject", function (args) {
            var heapObj = args.heapObj;
            if (heapObj[0] == 'STACK' || heapObj[0] == 'QUEUE')
                return ['true', 'true'];
            return ['false'];
        });
        this.add_pytutor_hook("renderCompoundObject", function (args) {
            var objID = args.objID;
            var d3DomElement = args.d3DomElement;
            var obj = args.obj;
            var typeLabelPrefix = args.typeLabelPrefix;
            var myViz = args.myViz;
            var stepNum = args.stepNum;
            if (!(obj[0] == 'LIST' || obj[0] == 'QUEUE' || obj[0] == 'STACK'))
                return [false]; // didn't handle
            var label = obj[0].toLowerCase();
            var visibleLabel = { list: 'array', queue: 'queue', stack: 'stack' }[label];
            if (obj.length == 1) {
                d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + 'empty ' + visibleLabel + '</div>');
                return [true]; //handled
            }
            d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + visibleLabel + '</div>');
            d3DomElement.append('<table class="' + label + 'Tbl"></table>');
            var tbl = d3DomElement.children('table');
            if (obj[0] == 'LIST') {
                tbl.append('<tr></tr><tr></tr>');
                var headerTr = tbl.find('tr:first');
                var contentTr = tbl.find('tr:last');
                // i: actual index in json object; ind: apparent index
                for (var i = 1, ind = 0; i < obj.length; i++) {
                    var val = obj[i];
                    var elide = val instanceof Array && val[0] == 'ELIDE';
                    // add a new column and then pass in that newly-added column
                    // as d3DomElement to the recursive call to child:
                    headerTr.append('<td class="' + label + 'Header"></td>');
                    headerTr.find('td:last').append(elide ? "&hellip;" : ind);
                    contentTr.append('<td class="' + label + 'Elt"></td>');
                    if (!elide) {
                        myViz.renderNestedObject(val, stepNum, contentTr.find('td:last'));
                        ind++;
                    }
                    else {
                        contentTr.find('td:last').append("&hellip;");
                        ind += val[1]; // val[1] is the number of cells to skip
                    }
                }
            } // end of LIST handling
            // Stack and Queue handling code by Will Gwozdz
            /* The table produced for stacks and queues is formed slightly differently than the others,
           missing the header row. Two rows made the dashed border not line up properly */
            if (obj[0] == 'STACK') {
                tbl.append('<tr></tr><tr></tr>');
                var contentTr = tbl.find('tr:last');
                contentTr.append('<td class="' + label + 'FElt">' + '<span class="stringObj symbolic">&#8596;</span>' + '</td>');
                $.each(obj, function (ind, val) {
                    if (ind < 1)
                        return; // skip type tag and ID entry
                    contentTr.append('<td class="' + label + 'Elt"></td>');
                    myViz.renderNestedObject(val, stepNum, contentTr.find('td:last'));
                });
                contentTr.append('<td class="' + label + 'LElt">' + '</td>');
            }
            if (obj[0] == 'QUEUE') {
                tbl.append('<tr></tr><tr></tr>');
                var contentTr = tbl.find('tr:last');
                // Add arrows showing in/out direction
                contentTr.append('<td class="' + label + 'FElt">' + '<span class="stringObj symbolic">&#8592;</span></td>');
                $.each(obj, function (ind, val) {
                    if (ind < 1)
                        return; // skip type tag and ID entry
                    contentTr.append('<td class="' + label + 'Elt"></td>');
                    myViz.renderNestedObject(val, stepNum, contentTr.find('td:last'));
                });
                contentTr.append('<td class="' + label + 'LElt">' + '<span class="stringObj symbolic">&#8592;</span></td>');
            }
            return [true]; // did handle
        });
        this.add_pytutor_hook("end_renderDataStructures", function (args) {
            var myViz = args.myViz;
            myViz.domRoot.find("td.instKey:contains('___NO_LABEL!___')").hide();
            myViz.domRoot.find(".typeLabel:contains('dict')").each(function (i) {
                if ($(this).html() == 'dict')
                    $(this).html('symbol table');
                if ($(this).html() == 'empty dict')
                    $(this).html('empty symbol table');
            });
        });
        // java synthetics cause things which javascript doesn't like in an id
        // VERY important to bind(this) so that when it's called, 'this' is this current object
        var old_generateID = ExecutionVisualizer.prototype.generateID.bind(this);
        this.generateID = function (original_id) {
            var sanitized = original_id.replace(/[^0-9a-zA-Z_]/g, function (match) { return '-' + match.charCodeAt(0) + '-'; });
            return old_generateID(sanitized);
        };
        // utility functions
        var entityMap = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': '&quot;',
            "'": '&#39;',
            "/": '&#x2F;'
        };
        var escapeHtml = function (string) {
            return String(string).replace(/[&<>"'\/]/g, function (s) {
                return entityMap[s];
            });
        };
    };
    // update fields corresponding to the current and previously executed lines
    // in the trace so that they can be properly highlighted; must call before
    // rendering code output (NB: argh pesky ordering dependency)
    ExecutionVisualizer.prototype.updateLineAndExceptionInfo = function () {
        var myViz = this;
        var totalInstrs = myViz.curTrace.length;
        var isLastInstr = myViz.curInstr === (totalInstrs - 1);
        myViz.curLineNumber = undefined;
        myViz.prevLineNumber = undefined;
        myViz.curLineIsReturn = undefined;
        myViz.prevLineIsReturn = undefined;
        myViz.curLineExceptionMsg = undefined;
        /* if instrLimitReached, then treat like a normal non-terminating line */
        var isTerminated = (!myViz.instrLimitReached && isLastInstr);
        var curLineNumber = null;
        var prevLineNumber = null;
        var curEntry = myViz.curTrace[myViz.curInstr];
        var curIsReturn = (curEntry.event == 'return');
        var prevIsReturn = false;
        if (myViz.curInstr > 0) {
            prevLineNumber = myViz.curTrace[myViz.curInstr - 1].line;
            prevIsReturn = (myViz.curTrace[myViz.curInstr - 1].event == 'return');
            /* kinda nutsy hack: if the previous line is a return line, don't
               highlight it. instead, highlight the line in the enclosing
               function that called this one (i.e., the call site). e.g.,:
      
               1. def foo(lst):
               2.   return len(lst)
               3.
               4. y = foo([1,2,3])
               5. print y
      
               If prevLineNumber is 2 and prevIsReturn, then curLineNumber is
               5, since that's the line that executes right after line 2
               finishes. However, this looks confusing to the user since what
               actually happened here was that the return value of foo was
               assigned to y on line 4. I want to have prevLineNumber be line
               4 so that it gets highlighted. There's no ideal solution, but I
               think that looks more sensible, since line 4 was the previous
               line that executed *in this function's frame*.
            */
            if (prevIsReturn) {
                var idx = myViz.curInstr - 1;
                var retStack = myViz.curTrace[idx].stack_to_render;
                // retStack.length == 0 in rare cases such as inside of an
                // exec() statement. #weird
                if (retStack.length > 0) {
                    var retFrameId = retStack[retStack.length - 1].frame_id;
                    // now go backwards until we find a 'call' to this frame
                    while (idx >= 0) {
                        var entry = myViz.curTrace[idx];
                        if (entry.event == 'call' && entry.stack_to_render) {
                            var topFrame = entry.stack_to_render[entry.stack_to_render.length - 1];
                            if (topFrame.frame_id == retFrameId) {
                                break; // DONE, we found the call that corresponds to this return
                            }
                        }
                        idx--;
                    }
                    // now idx is the index of the 'call' entry. we need to find the
                    // entry before that, which is the instruction before the call.
                    // THAT's the line of the call site.
                    if (idx > 0) {
                        var callingEntry = myViz.curTrace[idx - 1];
                        prevLineNumber = callingEntry.line; // WOOHOO!!!
                        prevIsReturn = false; // this is now a call site, not a return
                    }
                }
            }
        }
        var hasError = false;
        if (curEntry.event === 'exception' || curEntry.event === 'uncaught_exception') {
            assert(curEntry.exception_msg);
            hasError = true;
            myViz.curLineExceptionMsg = curEntry.exception_msg;
        }
        curLineNumber = curEntry.line;
        // edge case for the final instruction :0
        if (isTerminated && !hasError) {
            // don't show redundant arrows on the same line when terminated ...
            if (prevLineNumber == curLineNumber) {
                curLineNumber = null;
            }
        }
        // add these fields to myViz, which is the point of this function!
        myViz.curLineNumber = curLineNumber;
        myViz.prevLineNumber = prevLineNumber;
        myViz.curLineIsReturn = curIsReturn;
        myViz.prevLineIsReturn = prevIsReturn;
        myViz.renderQuestionMaybe();
    };
    ExecutionVisualizer.prototype.isOutputLineVisibleForBubbles = function (lineDivID) {
        var pcod = this.domRoot.find('#pyCodeOutputDiv');
        var lineNoTd = $('#' + lineDivID);
        var LO = lineNoTd.offset().top;
        var PO = pcod.offset().top;
        var ST = pcod.scrollTop();
        var H = pcod.height();
        // add a few pixels of fudge factor on the bottom end due to bottom scrollbar
        return (PO <= LO) && (LO < (PO + H - 25));
    };
    ExecutionVisualizer.prototype.renderQuestionMaybe = function () {
        // bnm
        if (this.curInstr < 1)
            return;
        var curEntry = this.curTrace[this.curInstr - 1];
        if (curEntry.question) {
            var done = false;
            while (!done) {
                var ans = prompt(curEntry.question.text);
                var answer = curEntry.question.correct;
                var attrs = answer.split(".");
                var correctAns = this.curTrace[this.curInstr];
                for (var j in attrs) {
                    correctAns = correctAns[attrs[j]];
                }
                if (ans.length > 0 && ans == correctAns) {
                    alert('Correct');
                    done = true;
                    // Create a custom event so that we don't have to suck in all of runestone
                    // codelens.js  has code that binds to this event and generates the call to
                    // record the answer.
                    var e = new CustomEvent("codelens:answer", { detail: { divid: $(this.domRoot).closest(".pytutorVisualizer")[0].id,
                            correct: true,
                            answer: ans
                        } });
                    document.dispatchEvent(e);
                }
                else {
                    done = !confirm(curEntry.question.feedback + "\nClick OK to try again");
                    var e = new CustomEvent("codelens:answer", { detail: { divid: $(this.domRoot).closest(".pytutorVisualizer")[0].id,
                            correct: false,
                            answer: ans
                        } });
                    document.dispatchEvent(e);
                }
            }
        }
    };
    ExecutionVisualizer.curVisualizerID = 1;
    ExecutionVisualizer.DEFAULT_EMBEDDED_CODE_DIV_WIDTH = 350;
    ExecutionVisualizer.DEFAULT_EMBEDDED_CODE_DIV_HEIGHT = 400;
    // always nest values of these types within objects to make the
    // visualization look cleaner:
    // - functions should be nested within heap objects since that's a more
    //   intuitive rendering for methods (i.e., functions within objects)
    // - lots of special cases for function/property-like python types that we should inline
    ExecutionVisualizer.DEFAULT_ALWAYS_NEST_TYPES = ['FUNCTION', 'JS_FUNCTION',
        'property', 'classmethod', 'staticmethod', 'builtin_function_or_method',
        'member_descriptor', 'getset_descriptor', 'method_descriptor', 'wrapper_descriptor'];
    return ExecutionVisualizer;
}()); // END class ExecutionVisualizer
exports.ExecutionVisualizer = ExecutionVisualizer;
// implements the data structure visualization for an entire trace
var DataVisualizer = /** @class */ (function () {
    function DataVisualizer(owner, domRoot, domRootD3) {
        this.owner = owner;
        this.params = this.owner.params;
        this.curTrace = this.owner.curTrace;
        this.domRoot = domRoot;
        this.domRootD3 = domRootD3;
        this.hideVarsSet = null;
        this.hideFieldsSet = null;
        this.draggedHeapObjectCSS = d3.map(); // see above for description
        var codeVizHTML = "\n      <div id=\"selectiveHideStatus\"></div>\n      <div id=\"dataViz\">\n         <table id=\"stackHeapTable\">\n           <tr>\n             <td id=\"stack_td\">\n               <div id=\"globals_area\">\n                 <div id=\"stackHeader\">" + this.getRealLabel("Frames") + "</div>\n               </div>\n               <div id=\"stack\"></div>\n             </td>\n             <td id=\"heap_td\">\n               <div id=\"heap\">\n                 <div id=\"heapHeader\">" + this.getRealLabel("Objects") + "</div>\n               </div>\n             </td>\n           </tr>\n         </table>\n       </div>";
        this.domRoot.append(codeVizHTML);
        // create a persistent globals frame
        // (note that we need to keep #globals_area separate from #stack for d3 to work its magic)
        this.domRoot.find("#globals_area").append('<div class="stackFrame" id="'
            + this.owner.generateID('globals') + '"><div id="' + this.owner.generateID('globals_header')
            + '" class="stackFrameHeader">' + this.getRealLabel('Global frame') + '</div><table class="stackFrameVarTable" id="'
            + this.owner.generateID('global_table') + '"></table></div>');
        this.jsPlumbInstance = jsPlumb.getInstance({
            Endpoint: ["Dot", { radius: 3 }],
            EndpointStyles: [{ fillStyle: connectorBaseColor }, { fillstyle: null } /* make right endpoint invisible */],
            Anchors: ["RightMiddle", "LeftMiddle"],
            PaintStyle: { lineWidth: 1, strokeStyle: connectorBaseColor },
            // From: http://jsplumb.github.io/jsplumb/home.html#container
            // "It is strongly recommended that you set a Container before you begin plumbing."
            // - if you don't do this, then jsplumb arrow elements will live next to
            //   the elements that anchor them, which INTERACTS REALLY REALLY BADLY
            //   with jQuery draggable in weird ways. so set this.domRoot as container
            Container: this.domRoot,
            // note that this documentation covers a newer version of jsPlumb, and
            // we're still on a super-old jsPlumb-1.3.10 in lib/
            // https://docs.jsplumbtoolkit.com/toolkit/current/articles/connectors.html
            Connector: ["StateMachine"],
            Overlays: [["Arrow", { length: 10, width: 7, foldback: 0.55, location: 1 /* 1 = display at target */ }]],
            EndpointHoverStyles: [{ fillStyle: connectorHighlightColor }, { fillstyle: null } /* make right endpoint invisible */],
            HoverPaintStyle: { lineWidth: 1, strokeStyle: connectorHighlightColor },
        });
    }
    DataVisualizer.prototype.height = function () {
        return this.domRoot.find('#dataViz').height();
    };
    // create a unique CSS ID for a heap object, which should include both
    // its ID and the current step number. this is necessary if we want to
    // display the same heap object at multiple execution steps.
    //
    // 2020-02-05: why do we need stepNum in the ID? what happens if we
    // remove it? it may be more convenient if we remove it since we can
    // then track the state of the same object across multiple execution steps
    // such as its location (if the user dragged it to a custom location)
    // or whether it's hidden or not, since it will have the same CSS ID
    // when it's being rendered at different execution steps. what might go wrong?
    DataVisualizer.prototype.generateHeapObjID = function (objID, stepNum) {
        // 2020-02-05 - remove stepNum from returned CSS ID and see what happens:
        //return this.owner.generateID('heap_object_' + objID + '_s' + stepNum);
        return this.owner.generateID('heap_object_' + objID);
    };
    // customize labels for each language's preferred vocabulary
    DataVisualizer.prototype.getRealLabel = function (label) {
        if (this.params.lang === 'js' || this.params.lang === 'ts' || this.params.lang === 'ruby') {
            if (label === 'list') {
                return 'array';
            }
            else if (label === 'instance') {
                return 'object';
            }
            else if (label === 'True') {
                return 'true';
            }
            else if (label === 'False') {
                return 'false';
            }
        }
        if (this.params.lang === 'js') {
            if (label === 'dict') {
                return 'Map';
            }
            else if (label === 'set') {
                return 'Set';
            }
        }
        else if (this.params.lang === 'ruby') {
            if (label === 'dict') {
                return 'hash';
            }
            else if (label === 'set') {
                return 'Set'; // the Ruby Set class is capitalized
            }
            else if (label === 'function') {
                return 'method';
            }
            else if (label === 'None') {
                return 'nil';
            }
            else if (label === 'Global frame') {
                return 'Global Object';
            }
        }
        else if (this.params.lang === 'java') {
            if (label === 'None') {
                return 'null';
            }
            else if (label === 'True') {
                return 'true';
            }
            else if (label === 'False') {
                return 'false';
            }
        }
        else if (this.params.lang === 'c' || this.params.lang === 'cpp') {
            if (label === 'Global frame') {
                return 'Global variables';
            }
            else if (label === 'Frames') {
                return 'Stack';
            }
            else if (label === 'Objects') {
                return 'Heap';
            }
        }
        // default fallthrough case if no matches above
        return label;
    };
    // for managing state related to pesky jsPlumb connectors, need to reset
    // before every call to renderDataStructures, or else all hell breaks
    // loose. yeah, this is kludgy and stateful, but at least all of the
    // relevant state gets shoved into one unified place
    DataVisualizer.prototype.resetJsPlumbManager = function () {
        this.jsPlumbManager = {
            heap_pointer_src_id: 1,
            // Key:   CSS ID of the div element representing the stack frame variable
            //        (for stack->heap connections) or heap object (for heap->heap connections)
            //        the format is: '<this.visualizerID>__heap_pointer_src_<src id>'
            // Value: CSS ID of the div element representing the value rendered in the heap
            //        (the format is given by generateHeapObjID())
            //
            // The reason we need to prepend this.visualizerID is because jsPlumb needs
            // GLOBALLY UNIQUE IDs for use as connector endpoints.
            //
            // TODO: jsPlumb might be able to directly take DOM elements rather
            // than IDs, which makes the above point moot. But let's just stick
            // with this for now until I want to majorly refactor :)
            // the only elements in these sets are NEW elements to be rendered in this
            // particular call to renderDataStructures.
            connectionEndpointIDs: d3.map(),
            heapConnectionEndpointIDs: d3.map(),
            // analogous to connectionEndpointIDs, except for environment parent pointers
            parentPointerConnectionEndpointIDs: d3.map(),
            renderedHeapObjectIDs: d3.map(),
        };
    };
    // gets all global and local variable names used in this program
    // execution as indicated by this.curTrace
    DataVisualizer.prototype.getAllProgramVarnames = function () {
        var me = this;
        var allVarnames = [];
        $.each(this.curTrace, function (i, curEntry) {
            $.each(curEntry.ordered_globals, function (i, varname) {
                var encodedVarname = DataVisualizer.GLOBAL_PREFIX + ':' + varname;
                if (allVarnames.indexOf(encodedVarname) < 0) { // don't insert duplicates
                    allVarnames.push(encodedVarname);
                }
            });
            $.each(curEntry.stack_to_render, function (i, frame) {
                // some functions are unnamed, so use a placeholder:
                var func_prefix = frame.func_name ? frame.func_name : DataVisualizer.UNNAMED_PREFIX;
                $.each(frame.ordered_varnames, function (xxx, varname) {
                    var encodedVarname = func_prefix + ':' + varname;
                    if (allVarnames.indexOf(encodedVarname) < 0) { // don't insert duplicates
                        allVarnames.push(encodedVarname);
                    }
                });
            });
        });
        return allVarnames;
    };
    // gets all field names of classes, objects, dicts, C structs, and anything
    // else that has attribute/field names, as indicated by this.curTrace
    DataVisualizer.prototype.getAllProgramObjectFieldNames = function () {
        var me = this;
        var allFieldnames = [];
        // copied from recurseIntoCStructArray ...
        // see inside comments for an optimization opportunity:
        function traverseCStructArray(val) {
            if (val[0] == 'C_STRUCT') {
                // grab all field names and add to allFieldnames
                var structName_1 = val[2] ? val[2] : DataVisualizer.UNNAMED_PREFIX;
                $.each(val, function (ind, kvPair) {
                    if (ind < 3)
                        return; // these have 3 header fields
                    var fieldName = kvPair[0];
                    var encodedFieldname = structName_1 + ':' + fieldName;
                    if (allFieldnames.indexOf(encodedFieldname) < 0) { // don't insert duplicates
                        allFieldnames.push(encodedFieldname);
                    }
                });
            }
            // recurse inside if necessary ...
            //
            // TODO: if you really want to make this more efficient
            // (especially for huge arrays), you can simply traverse into the
            // *first element* of C_ARRAY or C_MULTIDIMENSIONAL_ARRAY since
            // they're supposedly homogeneous, so the type of the first element
            // should be identical to the type of all other elements :)
            // (just beware of the case of empty (zero-sized) arrays, though)
            if (val[0] === 'C_ARRAY') {
                $.each(val, function (ind, elt) {
                    if (ind < 2)
                        return; // these have 2 header fields
                    traverseCStructArray(elt);
                });
            }
            else if (val[0] === 'C_MULTIDIMENSIONAL_ARRAY' || val[0] === 'C_STRUCT') {
                $.each(val, function (ind, kvPair) {
                    if (ind < 3)
                        return; // these have 3 header fields
                    traverseCStructArray(kvPair[1]);
                });
            }
        }
        $.each(this.curTrace, function (i, curEntry) {
            //console.log(i, curEntry);
            // iterate through the heap looking for relevant objects with fields
            // expected format from ../pg_encoder.py
            // #   * instance - ['INSTANCE', class name, [attr1, value1], [attr2, value2], ..., [attrN, valueN]]
            // #   * instance with non-trivial __str__ defined - ['INSTANCE_PPRINT', class name, <__str__ value>, [attr1, value1], [attr2, value2], ..., [attrN, valueN]]
            // #   * class    - ['CLASS', class name, [list of superclass names], [attr1, value1], [attr2, value2], ..., [attrN, valueN]]
            //
            // also for javascript, JS_FUNCTION objects may have funcProperties
            //
            // [NB: we don't count DICT here since those don't technically contain
            // 'fields'; they contain dict keys, which don't necessarily need to be
            // strings, so it's confusing to try to ignore a non-string dict key]
            $.each(curEntry.heap, function (k, obj) {
                var typ = obj[0];
                if (typ == 'INSTANCE' || typ == 'INSTANCE_PPRINT' || typ == 'CLASS') {
                    var _a = DataVisualizer.getClassInstanceMetadata(obj), className = _a[0], headerLength = _a[1];
                    for (var i_1 = headerLength; i_1 < obj.length; i_1++) {
                        var fieldName = obj[i_1][0];
                        // className can possibly be null ...
                        var encodedFieldname = className ? className + ':' + fieldName : fieldName;
                        if (allFieldnames.indexOf(encodedFieldname) < 0) { // don't insert duplicates
                            allFieldnames.push(encodedFieldname);
                        }
                    }
                }
                else if (typ == 'JS_FUNCTION') {
                    var funcProperties = obj[3];
                    if (funcProperties) {
                        var funcName = obj[1];
                        // special-case handling: prefix with function name if appropriate
                        for (var i_2 = 0; i_2 < funcProperties.length; i_2++) {
                            var fieldName = funcProperties[i_2][0];
                            // funcName can possibly be empty ...
                            var encodedFieldname = funcName ? funcName + ':' + fieldName : fieldName;
                            if (allFieldnames.indexOf(encodedFieldname) < 0) { // don't insert duplicates
                                allFieldnames.push(encodedFieldname);
                            }
                        }
                    }
                }
                else if (typ == 'C_ARRAY' || typ == 'C_MULTIDIMENSIONAL_ARRAY' || typ == 'C_STRUCT') {
                    traverseCStructArray(obj);
                }
            });
            // C and C++ objects can exist directly within the global frame or
            // stack frames (not just on the heap), so we need to traverse
            // through those as well
            if (me.isCppMode()) {
                $.each(curEntry.ordered_globals, function (i, varname) {
                    var val = curEntry.globals[varname];
                    traverseCStructArray(val);
                });
                // iterate thru all stack frames
                $.each(curEntry.stack_to_render, function (i, frame) {
                    $.each(frame.ordered_varnames, function (xxx, varname) {
                        var val = frame.encoded_locals[varname];
                        traverseCStructArray(val);
                    });
                });
            }
        });
        return allFieldnames;
    };
    // this method initializes curTraceLayouts
    //
    // Pre-compute the layout of top-level heap objects for ALL execution
    // points as soon as a trace is first loaded. The reason why we want to
    // do this is so that when the user steps through execution points, the
    // heap objects don't "jiggle around" (i.e., preserving positional
    // invariance). Also, if we set up the layout objects properly, then we
    // can take full advantage of d3 to perform rendering and transitions.
    //
    // (also call this function whenever the user chooses to selectively
    //  hide/show variables/objects, since we want to get the latest layout)
    DataVisualizer.prototype.precomputeCurTraceLayouts = function () {
        //console.log('precomputeCurTraceLayouts');
        // curTraceLayouts is a list of top-level heap layout "objects" with the
        // same length as curTrace after it's been fully initialized. Each
        // element of curTraceLayouts is computed from the contents of its
        // immediate predecessor, thus ensuring that objects don't "jiggle
        // around" between consecutive execution points.
        //
        // Each top-level heap layout "object" is itself a LIST of LISTS of
        // object IDs, where each element of the outer list represents a row,
        // and each element of the inner list represents columns within a
        // particular row. Each row can have a different number of columns. Most
        // rows have exactly ONE column (representing ONE object ID), but rows
        // containing 1-D linked data structures have multiple columns. Each
        // inner list element looks something like ['row1', 3, 2, 1] where the
        // first element is a unique row ID tag, which is used as a key for d3 to
        // preserve "object constancy" for updates, transitions, etc. The row ID
        // is derived from the FIRST object ID inserted into the row. Since all
        // object IDs are unique, all row IDs will also be unique.
        /* This is a good, simple example to test whether objects "jiggle"
    
        x = [1, [2, [3, None]]]
        y = [4, [5, [6, None]]]
    
        x[1][1] = y[1]
    
        */
        this.curTraceLayouts = [];
        this.curTraceLayouts.push([]); // pre-seed with an empty sentinel to simplify the code
        var myViz = this; // to prevent confusion of 'this' inside of nested functions
        assert(this.curTrace && this.curTrace.length > 0);
        $.each(this.curTrace, function (i, curEntry) {
            var prevLayout = myViz.curTraceLayouts[myViz.curTraceLayouts.length - 1];
            // make a DEEP COPY of prevLayout to use as the basis for curLine
            var curLayout = $.extend(true /* deep copy */, [], prevLayout);
            // initialize with all IDs from curLayout
            var idsToRemove = d3.map();
            $.each(curLayout, function (i, row) {
                for (var j = 1 /* ignore row ID tag */; j < row.length; j++) {
                    idsToRemove.set(row[j], 1);
                }
            });
            var idsAlreadyLaidOut = d3.map(); // to prevent infinite recursion
            function curLayoutIndexOf(id) {
                for (var i = 0; i < curLayout.length; i++) {
                    var row = curLayout[i];
                    var index = row.indexOf(id);
                    if (index > 0) { // index of 0 is impossible since it's the row ID tag
                        return { row: row, index: index };
                    }
                }
                return null;
            }
            function isLinearObj(heapObj) {
                var hook_result = myViz.owner.try_hook("isLinearObj", { heapObj: heapObj });
                if (hook_result[0])
                    return hook_result[1];
                return heapObj[0] == 'LIST' || heapObj[0] == 'TUPLE' || heapObj[0] == 'SET';
            }
            function recurseIntoObject(id, curRow, newRow) {
                // heuristic for laying out 1-D linked data structures: check for enclosing elements
                // that are structurallyEquivalent() and then lay them out as siblings in the same "row"
                var heapObj = curEntry.heap[id];
                if (myViz.isCppMode()) {
                    // soften this assumption since C-style pointers might not point
                    // to the heap; they can point to any piece of data!
                    if (!heapObj) {
                        return;
                    }
                }
                else {
                    assert(heapObj);
                }
                if (isLinearObj(heapObj)) {
                    $.each(heapObj, function (ind, child) {
                        if (ind < 1)
                            return; // skip type tag
                        if (!myViz.isPrimitiveType(child)) {
                            var childID = getRefID(child);
                            if (myViz.structurallyEquivalent(heapObj, curEntry.heap[childID])) {
                                updateCurLayout(childID, curRow, newRow);
                            }
                            else if (!myViz.owner.shouldNestObject(curEntry.heap[childID])) {
                                updateCurLayout(childID, [], []);
                            }
                        }
                    });
                }
                else if (heapObj[0] == 'DICT') {
                    $.each(heapObj, function (ind, child) {
                        if (ind < 1)
                            return; // skip type tag
                        var dictKey = child[0];
                        if (!myViz.isPrimitiveType(dictKey)) {
                            var keyChildID = getRefID(dictKey);
                            if (!myViz.owner.shouldNestObject(curEntry.heap[keyChildID])) {
                                updateCurLayout(keyChildID, [], []);
                            }
                        }
                        var dictVal = child[1];
                        if (!myViz.isPrimitiveType(dictVal)) {
                            var childID = getRefID(dictVal);
                            if (myViz.structurallyEquivalent(heapObj, curEntry.heap[childID])) {
                                updateCurLayout(childID, curRow, newRow);
                            }
                            else if (!myViz.owner.shouldNestObject(curEntry.heap[childID])) {
                                updateCurLayout(childID, [], []);
                            }
                        }
                    });
                }
                else if (heapObj[0] == 'INSTANCE' || heapObj[0] == 'INSTANCE_PPRINT' || heapObj[0] == 'CLASS') {
                    var _a = DataVisualizer.getClassInstanceMetadata(heapObj), className_1 = _a[0], headerLength_1 = _a[1];
                    jQuery.each(heapObj, function (ind, child) {
                        if (ind < headerLength_1)
                            return;
                        var instKey = child[0];
                        if (myViz.inHideFieldsSet(className_1, instKey)) {
                            //console.log('precompute HIDING', className, instKey);
                            return; // get out!
                        }
                        if (!myViz.isPrimitiveType(instKey)) {
                            var keyChildID = getRefID(instKey);
                            if (!myViz.owner.shouldNestObject(curEntry.heap[keyChildID])) {
                                updateCurLayout(keyChildID, [], []);
                            }
                        }
                        var instVal = child[1];
                        if (!myViz.isPrimitiveType(instVal)) {
                            var childID = getRefID(instVal);
                            if (myViz.structurallyEquivalent(heapObj, curEntry.heap[childID])) {
                                updateCurLayout(childID, curRow, newRow);
                            }
                            else if (!myViz.owner.shouldNestObject(curEntry.heap[childID])) {
                                updateCurLayout(childID, [], []);
                            }
                        }
                    });
                }
                else if (heapObj[0] == 'FUNCTION' || heapObj[0] == 'JS_FUNCTION') {
                    // a Python function object has an optional element at index=3
                    // (zero-indexed) that represents default arg names/values
                    //
                    // a JavaScript function object has funcProperties that we should
                    // recurse into in order to precompute their layouts
                    var funcProperties = null;
                    // traverse into default argument values to precompute their
                    // layouts, if applicable
                    if (heapObj[0] == 'FUNCTION' && heapObj.length > 3) {
                        funcProperties = heapObj[3];
                    }
                    if (heapObj[0] == 'JS_FUNCTION') {
                        assert(heapObj.length == 5);
                        funcProperties = heapObj[3];
                    }
                    if (funcProperties) {
                        assert(funcProperties.length > 0);
                        var funcName_1 = heapObj[1];
                        $.each(funcProperties, function (ind, kvPair) {
                            // only check this for JS_FUNCTION! we're overloading
                            // funcProperties to use for both FUNCTION and
                            // JS_FUNCTION, which might be confusing ...
                            if (heapObj[0] == 'JS_FUNCTION') {
                                var instKey = kvPair[0];
                                if (myViz.inHideFieldsSet(funcName_1, instKey)) {
                                    //console.log('precompute HIDING', funcName, instKey);
                                    return; // get out!
                                }
                            }
                            // copy/paste from INSTANCE/CLASS code above
                            var instVal = kvPair[1];
                            if (!myViz.isPrimitiveType(instVal)) {
                                var childID = getRefID(instVal);
                                if (!myViz.owner.shouldNestObject(curEntry.heap[childID])) {
                                    updateCurLayout(childID, [], []);
                                }
                            }
                        });
                    }
                }
                else if ((heapObj[0] == 'C_ARRAY') || (heapObj[0] == 'C_MULTIDIMENSIONAL_ARRAY') || (heapObj[0] == 'C_STRUCT')) {
                    updateCurLayoutAndRecurse(heapObj);
                }
            }
            // a krazy function!
            // id     - the new object ID to be inserted somewhere in curLayout
            //          (if it's not already in there)
            // curRow - a row within curLayout where new linked list
            //          elements can be appended onto (might be null)
            // newRow - a new row that might be spliced into curRow or appended
            //          as a new row in curLayout
            function updateCurLayout(id, curRow, newRow) {
                if (idsAlreadyLaidOut.has(id)) {
                    return; // PUNT!
                }
                var curLayoutLoc = curLayoutIndexOf(id);
                var alreadyLaidOut = idsAlreadyLaidOut.has(id);
                idsAlreadyLaidOut.set(id, 1); // unconditionally set now
                // if id is already in curLayout ...
                if (curLayoutLoc) {
                    var foundRow = curLayoutLoc.row;
                    var foundIndex = curLayoutLoc.index;
                    idsToRemove.remove(id); // this id is already accounted for!
                    // very subtle ... if id hasn't already been handled in
                    // this iteration, then splice newRow into foundRow. otherwise
                    // (later) append newRow onto curLayout as a truly new row
                    if (!alreadyLaidOut) {
                        // splice the contents of newRow right BEFORE foundIndex.
                        // (Think about when you're trying to insert in id=3 into ['row1', 2, 1]
                        //  to represent a linked list 3->2->1. You want to splice the 3
                        //  entry right before the 2 to form ['row1', 3, 2, 1])
                        if (newRow.length > 1) {
                            var args = [foundIndex, 0];
                            for (var i = 1; i < newRow.length; i++) { // ignore row ID tag
                                args.push(newRow[i]);
                                idsToRemove.remove(newRow[i]);
                            }
                            foundRow.splice.apply(foundRow, args);
                            // remove ALL elements from newRow since they've all been accounted for
                            // (but don't reassign it away to an empty list, since the
                            // CALLER checks its value. TODO: how to get rid of this gross hack?!?)
                            newRow.splice(0, newRow.length);
                        }
                    }
                    // recurse to find more top-level linked entries to append onto foundRow
                    recurseIntoObject(id, foundRow, []);
                }
                else {
                    // push id into newRow ...
                    if (newRow.length == 0) {
                        newRow.push('row' + id); // unique row ID (since IDs are unique)
                    }
                    newRow.push(id);
                    // recurse to find more top-level linked entries ...
                    recurseIntoObject(id, curRow, newRow);
                    // if newRow hasn't been spliced into an existing row yet during
                    // a child recursive call ...
                    if (newRow.length > 0) {
                        if (curRow && curRow.length > 0) {
                            // append onto the END of curRow if it exists
                            for (var i = 1; i < newRow.length; i++) { // ignore row ID tag
                                curRow.push(newRow[i]);
                            }
                        }
                        else {
                            // otherwise push to curLayout as a new row
                            //
                            // TODO: this might not always look the best, since we might
                            // sometimes want to splice newRow in the MIDDLE of
                            // curLayout. Consider this example:
                            //
                            // x = [1,2,3]
                            // y = [4,5,6]
                            // x = [7,8,9]
                            //
                            // when the third line is executed, the arrows for x and y
                            // will be crossed (ugly!) since the new row for the [7,8,9]
                            // object is pushed to the end (bottom) of curLayout. The
                            // proper behavior is to push it to the beginning of
                            // curLayout where the old row for 'x' used to be.
                            curLayout.push($.extend(true /* make a deep copy */, [], newRow));
                        }
                        // regardless, newRow is now accounted for, so clear it
                        for (var i = 1; i < newRow.length; i++) { // ignore row ID tag
                            idsToRemove.remove(newRow[i]);
                        }
                        newRow.splice(0, newRow.length); // kill it!
                    }
                }
            }
            function updateCurLayoutAndRecurse(elt) {
                if (!elt)
                    return; // early bail out
                if (isHeapRef(elt, curEntry.heap)) {
                    var id = getRefID(elt);
                    updateCurLayout(id, null, []);
                }
                recurseIntoCStructArray(elt);
            }
            // traverse inside of C structs and arrays to find whether they
            // (recursively) contain any references to heap objects within
            // themselves. be able to handle arbitrary nesting!
            function recurseIntoCStructArray(val) {
                if (val[0] === 'C_ARRAY') {
                    $.each(val, function (ind, elt) {
                        if (ind < 2)
                            return; // these have 2 header fields
                        updateCurLayoutAndRecurse(elt);
                    });
                }
                else if (val[0] === 'C_MULTIDIMENSIONAL_ARRAY' || val[0] === 'C_STRUCT') {
                    $.each(val, function (ind, kvPair) {
                        if (ind < 3)
                            return; // these have 3 header fields
                        if (val[0] === 'C_STRUCT') {
                            var structName = val[2] ? val[2] : DataVisualizer.UNNAMED_PREFIX;
                            var fieldName = kvPair[0];
                            if (myViz.inHideFieldsSet(structName, fieldName)) {
                                //console.log('precompute HIDING', structName, fieldName);
                                return; // get out!
                            }
                        }
                        updateCurLayoutAndRecurse(kvPair[1]);
                    });
                }
            }
            // iterate through all globals and ordered stack frames and call updateCurLayout
            $.each(curEntry.ordered_globals, function (i, varname) {
                if (myViz.inHideVarsSet(DataVisualizer.GLOBAL_PREFIX, varname)) {
                    //console.log('precompute HIDING', DataVisualizer.GLOBAL_PREFIX, varname);
                    return; // get out!
                }
                var val = curEntry.globals[varname];
                if (val !== undefined) { // might not be defined at this line, which is OKAY!
                    // TODO: try to unify this behavior between C/C++ and other languages:
                    if (myViz.isCppMode()) {
                        updateCurLayoutAndRecurse(val);
                    }
                    else {
                        if (!myViz.isPrimitiveType(val)) {
                            var id = getRefID(val);
                            updateCurLayout(id, null, []);
                        }
                    }
                }
            });
            $.each(curEntry.stack_to_render, function (i, frame) {
                // some functions are unnamed, so use a placeholder:
                var func_prefix = frame.func_name ? frame.func_name : DataVisualizer.UNNAMED_PREFIX;
                $.each(frame.ordered_varnames, function (xxx, varname) {
                    if (myViz.inHideVarsSet(func_prefix, varname)) {
                        //console.log('precompute HIDING', func_prefix, varname);
                        return; // get out!
                    }
                    var val = frame.encoded_locals[varname];
                    // TODO: try to unify this behavior between C/C++ and other languages:
                    if (myViz.isCppMode()) {
                        updateCurLayoutAndRecurse(val);
                    }
                    else {
                        if (!myViz.isPrimitiveType(val)) {
                            var id = getRefID(val);
                            updateCurLayout(id, null, []);
                        }
                    }
                });
            });
            // iterate through remaining elements of idsToRemove and REMOVE them from curLayout
            idsToRemove.forEach(function (id, xxx) {
                var idInt = Number(id); // keys are stored as strings, so convert!!!
                $.each(curLayout, function (rownum, row) {
                    var ind = row.indexOf(idInt);
                    if (ind > 0) { // remember that index 0 of the row is the row ID tag
                        row.splice(ind, 1);
                    }
                });
            });
            // now remove empty rows (i.e., those with only a row ID tag) from curLayout
            curLayout = curLayout.filter(function (row) { return row.length > 1; });
            myViz.curTraceLayouts.push(curLayout);
        });
        this.curTraceLayouts.splice(0, 1); // remove seeded empty sentinel element
        assert(this.curTrace.length == this.curTraceLayouts.length);
    };
    // is this visualizer in C or C++ mode? the eventual goal is to remove
    // this special-case kludge check altogether and have the entire
    // codebase be unified. but for now, keep C/C++ separate because I don't
    // want to risk screwing up the visualizations for the other languages
    DataVisualizer.prototype.isCppMode = function () {
        return (this.params.lang === 'c' || this.params.lang === 'cpp');
    };
    // compare two JSON-encoded compound objects for structural equivalence:
    DataVisualizer.prototype.structurallyEquivalent = function (obj1, obj2) {
        // punt if either isn't a compound type
        if (this.isPrimitiveType(obj1) || this.isPrimitiveType(obj2)) {
            return false;
        }
        // must be the same compound type
        if (obj1[0] != obj2[0]) {
            return false;
        }
        // must have the same number of elements or fields
        if (obj1.length != obj2.length) {
            return false;
        }
        // for a list or tuple, same size (e.g., a cons cell is a list/tuple of size 2)
        if (obj1[0] == 'LIST' || obj1[0] == 'TUPLE') {
            return true;
        }
        else {
            var startingInd = -1;
            if (obj1[0] == 'DICT') {
                startingInd = 1;
            }
            else if (obj1[0] == 'INSTANCE') {
                startingInd = 2;
            }
            else if (obj1[0] == 'INSTANCE_PPRINT') {
                startingInd = 3;
            }
            else {
                return false; // punt on all other types
            }
            var obj1fields = d3.map();
            // for a dict or object instance, same names of fields (ordering doesn't matter)
            for (var i = startingInd; i < obj1.length; i++) {
                obj1fields.set(obj1[i][0], 1); // use as a set
            }
            for (var i = startingInd; i < obj2.length; i++) {
                if (!obj1fields.has(obj2[i][0])) {
                    return false;
                }
            }
            return true;
        }
    };
    DataVisualizer.prototype.isPrimitiveType = function (obj) {
        var hook_result = this.owner.try_hook("isPrimitiveType", { obj: obj });
        if (hook_result[0])
            return hook_result[1];
        // null is a primitive
        if (obj === null) {
            return true;
        }
        if (typeof obj == "object") {
            // kludgy
            return (obj[0] == 'IMPORTED_FAUX_PRIMITIVE' ||
                obj[0] == 'SPECIAL_FLOAT' || obj[0] == 'JS_SPECIAL_VAL' ||
                obj[0] == 'C_DATA' /* TODO: is this right?!? */);
        }
        else {
            // non-objects are primitives
            return true;
        }
    };
    // This is the main event right here!!!
    //
    // The "4.0" version of renderDataStructures was refactored to be much
    // less monolithic and more modular. It was made possible by first
    // creating a suite of frontend JS regression tests so that I felt more
    // comfortable mucking around with the super-brittle code in this
    // function. This version was created in April 2014. For reference,
    // before refactoring, this function was 1,030 lines of convoluted code!
    //
    // (Also added the rightward nudge hack to make tree-like structures
    // look more sane without any sophisticated graph rendering code. Thanks
    // to John DeNero for this suggestion all the way back in Fall 2012.)
    //
    // The "3.0" version of renderDataStructures renders variables in
    // a stack, values in a separate heap, and draws line connectors
    // to represent both stack->heap object references and, more importantly,
    // heap->heap references. This version was created in August 2012.
    //
    // The "2.0" version of renderDataStructures renders variables in
    // a stack and values in a separate heap, with data structure aliasing
    // explicitly represented via line connectors (thanks to jsPlumb lib).
    // This version was created in September 2011.
    //
    // The ORIGINAL "1.0" version of renderDataStructures
    // was created in January 2010 and rendered variables and values
    // INLINE within each stack frame without any explicit representation
    // of data structure aliasing. That is, aliased objects were rendered
    // multiple times, and a unique ID label was used to identify aliases.
    DataVisualizer.prototype.renderDataStructures = function (curInstr) {
        //console.log('renderDataStructures', curInstr);
        var myViz = this; // to prevent confusion of 'this' inside of nested functions
        var curEntry = this.curTrace[curInstr];
        var curToplevelLayout = this.curTraceLayouts[curInstr];
        myViz.resetJsPlumbManager(); // very important!!!
        // for simplicity (but sacrificing some performance), delete all
        // connectors and redraw them from scratch. doing so avoids mysterious
        // jsPlumb connector alignment issues when the visualizer's enclosing
        // div contains, say, a "position: relative;" CSS tag
        // (which happens in the IPython Notebook)
        var existingConnectionEndpointIDs = d3.map();
        myViz.jsPlumbInstance.select({ scope: 'varValuePointer' }).each(function (c) {
            // This is VERY crude, but to prevent multiple redundant HEAP->HEAP
            // connectors from being drawn with the same source and origin, we need to first
            // DELETE ALL existing HEAP->HEAP connections, and then re-render all of
            // them in each call to this function. The reason why we can't safely
            // hold onto them is because there's no way to guarantee that the
            // *__heap_pointer_src_<src id> IDs are consistent across execution points.
            //
            // thus, only add to existingConnectionEndpointIDs if this is NOT heap->heap
            if (!c.sourceId.match(heapPtrSrcRE)) {
                existingConnectionEndpointIDs.set(c.sourceId, c.targetId);
            }
        });
        var existingParentPointerConnectionEndpointIDs = d3.map();
        myViz.jsPlumbInstance.select({ scope: 'frameParentPointer' }).each(function (c) {
            existingParentPointerConnectionEndpointIDs.set(c.sourceId, c.targetId);
        });
        // what variables/fields were hidden in this call to renderDataStructures?
        // (make these fields and not locals so that we can access them in
        // other methods too, ergh)
        myViz.varsHidden = [];
        myViz.fieldsHidden = [];
        // Heap object rendering phase:
        // count everything in curToplevelLayout as already rendered since we will render them
        // in d3 .each() statements
        $.each(curToplevelLayout, function (xxx, row) {
            for (var i = 0; i < row.length; i++) {
                var objID = row[i];
                var heapObjID = myViz.generateHeapObjID(objID, curInstr);
                myViz.jsPlumbManager.renderedHeapObjectIDs.set(heapObjID, 1);
            }
        });
        // use d3 to render the heap by mapping curToplevelLayout into <table class="heapRow">
        // and <td class="toplevelHeapObject"> elements
        // before we clear the heap div below, record the custom positions
        // of any heapObjects that we've made as draggable *and* that's been
        // dragged somewhere different (as indicated by the jQuery
        // data('draggedCSS') attribute being set to the custom CSS of the
        // dragged object, which should contain its current custom position)
        myViz.domRoot.find('.heapObject').each(function (i, e) {
            var draggedCSS = $(e).data('draggedCSS');
            if (draggedCSS) {
                // save a mapping between the .heapObject id and its draggedCSS
                myViz.draggedHeapObjectCSS.set($(e).attr('id'), draggedCSS);
            }
        });
        // now it's safe to totally erase all .heapObject elements by
        // emptying '#heap' below ...
        // for simplicity, CLEAR this entire div every time, which totally
        // gets rid of the incremental benefits of using d3 for, say,
        // transitions or efficient updates. but it provides more
        // deterministic and predictable output for other functions. sigh, i'm
        // not really using d3 to the fullest, but oh wells!
        myViz.domRoot.find('#heap')
            .empty()
            .html("<div id=\"heapHeader\">" + myViz.getRealLabel("Objects") + "</div>");
        var heapRows = myViz.domRootD3.select('#heap')
            .selectAll('table.heapRow')
            .attr('id', function (d, i) { return 'heapRow' + i; }) // add unique ID
            .data(curToplevelLayout, function (objLst) {
            return objLst[0]; // return first element, which is the row ID tag
        });
        // insert new heap rows
        heapRows.enter().append('table')
            //.each(function(objLst, i) {console.log('NEW ROW:', objLst, i);})
            .attr('id', function (d, i) { return 'heapRow' + i; }) // add unique ID
            .attr('class', 'heapRow');
        // delete a heap row
        var hrExit = heapRows.exit();
        hrExit
            .each(function (d, idx) {
            //console.log('DEL ROW:', d, idx);
            $(this).empty(); // crucial for garbage collecting jsPlumb connectors!
        })
            .remove();
        // update an existing heap row
        var toplevelHeapObjects = heapRows
            //.each(function(objLst, i) { console.log('UPDATE ROW:', objLst, i); })
            .selectAll('td.toplevelHeapObject')
            .data(function (d, i) { return d.slice(1, d.length); }, /* map over each row, skipping row ID tag */ function (objID) { return objID; } /* each object ID is unique for constancy */);
        // insert a new toplevelHeapObject
        var tlhEnter = toplevelHeapObjects.enter().append('td')
            .attr('class', 'toplevelHeapObject')
            .attr('id', function (d, i) { return 'toplevel_heap_object_' + d; }); // TODO: is this CSS ID unique?
        // remember that the enter selection is added to the update
        // selection so that we can process it later ...
        // update a toplevelHeapObject
        toplevelHeapObjects
            .order() // VERY IMPORTANT to put in the order corresponding to data elements
            .each(function (objID, i) {
            //console.log('NEW/UPDATE ELT', objID);
            // TODO: add a smoother transition in the future
            // Right now, just delete the old element and render a new one in its place
            $(this).empty();
            if (myViz.isCppMode()) {
                // TODO: why might this be undefined?!? because the object
                // disappeared from the heap all of a sudden?!?
                if (curEntry.heap[objID] !== undefined) {
                    myViz.renderCompoundObject(objID, curInstr, $(this), true);
                }
            }
            else {
                myViz.renderCompoundObject(objID, curInstr, $(this), true);
            }
        });
        // delete a toplevelHeapObject
        var tlhExit = toplevelHeapObjects.exit();
        tlhExit
            .each(function (d, idx) {
            $(this).empty(); // crucial for garbage collecting jsPlumb connectors!
        })
            .remove();
        // Render globals and then stack frames using d3:
        // TODO: this sometimes seems buggy on Safari, so nix it for now:
        function highlightAliasedConnectors(d, i) {
            // if this row contains a stack pointer, then highlight its arrow and
            // ALL aliases that also point to the same heap object
            var stackPtrId = $(this).find('div.stack_pointer').attr('id');
            if (stackPtrId) {
                var foundTargetId = null;
                myViz.jsPlumbInstance.select({ source: stackPtrId }).each(function (c) { foundTargetId = c.targetId; });
                // use foundTargetId to highlight ALL ALIASES
                myViz.jsPlumbInstance.select().each(function (c) {
                    if (c.targetId == foundTargetId) {
                        c.setHover(true);
                        $(c.canvas).css("z-index", 2000); // ... and move it to the VERY FRONT
                    }
                    else {
                        c.setHover(false);
                    }
                });
            }
        }
        function unhighlightAllConnectors(d, i) {
            myViz.jsPlumbInstance.select().each(function (c) {
                c.setHover(false);
            });
        }
        // TODO: coalesce code for rendering globals and stack frames,
        // since there's so much copy-and-paste grossness right now
        // render all global variables IN THE ORDER they were created by the program,
        // in order to ensure continuity:
        // Derive a list where each element contains varname
        // as long as value is NOT undefined.
        // (Sometimes entries in curEntry.ordered_globals are undefined,
        // so filter those out.)
        var realGlobalsLst = [];
        $.each(curEntry.ordered_globals, function (i, varname) {
            if (myViz.inHideVarsSet(DataVisualizer.GLOBAL_PREFIX, varname)) {
                console.log('render HIDING', DataVisualizer.GLOBAL_PREFIX, varname);
                myViz.varsHidden.push(DataVisualizer.GLOBAL_PREFIX + ':' + varname);
                return; // get out!
            }
            var val = curEntry.globals[varname];
            // (use '!==' to do an EXACT match against undefined)
            if (val !== undefined) { // might not be defined at this line, which is OKAY!
                realGlobalsLst.push(varname);
            }
        });
        var globalsID = myViz.owner.generateID('globals');
        var globalTblID = myViz.owner.generateID('global_table');
        var globalVarTable = myViz.domRootD3.select('#' + globalTblID)
            .selectAll('tr')
            .data(realGlobalsLst, function (d) { return d; } // use variable name as key
        );
        globalVarTable
            .enter()
            .append('tr')
            .attr('class', 'variableTr')
            .attr('id', function (d, i) {
            return myViz.owner.generateID(varnameToCssID('global__' + d + '_tr')); // make globally unique (within the page)
        });
        var globalVarTableCells = globalVarTable
            .selectAll('td.stackFrameVar,td.stackFrameValue')
            .data(function (d, i) { return [d, d]; }); /* map varname down both columns */
        globalVarTableCells.enter()
            .append('td')
            .attr('class', function (d, i) { return (i == 0) ? 'stackFrameVar' : 'stackFrameValue'; });
        // remember that the enter selection is added to the update
        // selection so that we can process it later ...
        // UPDATE
        globalVarTableCells
            .order() // VERY IMPORTANT to put in the order corresponding to data elements
            .each(function (varname, i) {
            if (i == 0) {
                $(this).html(varname);
            }
            else {
                // always delete and re-render the global var ...
                // NB: trying to cache and compare the old value using,
                // say -- $(this).attr('data-curvalue', valStringRepr) -- leads to
                // a mysterious and killer memory leak that I can't figure out yet
                $(this).empty();
                // make sure varname doesn't contain any weird
                // characters that are illegal for CSS ID's ...
                var varDivID = myViz.owner.generateID('global__' + varnameToCssID(varname));
                // need to get rid of the old connector in preparation for rendering a new one:
                existingConnectionEndpointIDs.remove(varDivID);
                var val = curEntry.globals[varname];
                if (myViz.isPrimitiveType(val)) {
                    myViz.renderPrimitiveObject(val, curInstr, $(this));
                }
                else if (val[0] === 'C_STRUCT' || val[0] === 'C_ARRAY' || val[0] === 'C_MULTIDIMENSIONAL_ARRAY') {
                    // C structs and arrays can be inlined in frames
                    myViz.renderCStructArray(val, curInstr, $(this));
                }
                else {
                    var heapObjID = myViz.generateHeapObjID(getRefID(val), curInstr);
                    if (myViz.params.textualMemoryLabels) {
                        var labelID = varDivID + '_text_label';
                        $(this).append('<div class="objectIdLabel" id="' + labelID + '">id' + getRefID(val) + '</div>');
                        $(this).find('div#' + labelID).hover(function () {
                            myViz.jsPlumbInstance.connect({ source: labelID, target: heapObjID,
                                scope: 'varValuePointer' });
                        }, function () {
                            myViz.jsPlumbInstance.select({ source: labelID }).detach();
                        });
                    }
                    else {
                        // add a stub so that we can connect it with a connector later.
                        // IE needs this div to be NON-EMPTY in order to properly
                        // render jsPlumb endpoints, so that's why we add an "&nbsp;"!
                        $(this).append('<div class="stack_pointer" id="' + varDivID + '">&nbsp;</div>');
                        assert(!myViz.jsPlumbManager.connectionEndpointIDs.has(varDivID));
                        myViz.jsPlumbManager.connectionEndpointIDs.set(varDivID, heapObjID);
                        //console.log('STACK->HEAP', varDivID, heapObjID);
                    }
                }
            }
        });
        globalVarTableCells.exit()
            .each(function (d, idx) {
            $(this).empty(); // crucial for garbage collecting jsPlumb connectors!
        })
            .remove();
        globalVarTable.exit()
            .each(function (d, i) {
            // detach all stack_pointer connectors for divs that are being removed
            $(this).find('.stack_pointer').each(function (i, sp) {
                existingConnectionEndpointIDs.remove($(sp).attr('id'));
            });
            $(this).empty(); // crucial for garbage collecting jsPlumb connectors!
        })
            .remove();
        // for aesthetics, hide globals if there aren't any globals to display
        if (curEntry.ordered_globals.length == 0) {
            this.domRoot.find('#' + globalsID).hide();
        }
        else {
            this.domRoot.find('#' + globalsID).show();
        }
        // holy cow, the d3 code for stack rendering is ABSOLUTELY NUTS!
        var stackDiv = myViz.domRootD3.select('#stack');
        // VERY IMPORTANT for selectAll selector to be SUPER specific here!
        var stackFrameDiv = stackDiv.selectAll('div.stackFrame,div.zombieStackFrame')
            .data(curEntry.stack_to_render, function (frame) {
            // VERY VERY VERY IMPORTANT for properly handling closures and nested functions
            // (see the backend code for more details)
            return frame.unique_hash;
        });
        var sfdEnter = stackFrameDiv.enter()
            .append('div')
            .attr('class', function (d, i) { return d.is_zombie ? 'zombieStackFrame' : 'stackFrame'; })
            .attr('id', function (d, i) {
            return d.is_zombie ? myViz.owner.generateID("zombie_stack" + i)
                : myViz.owner.generateID("stack" + i);
        })
            // HTML5 custom data attributes
            .attr('data-frame_id', function (frame, i) { return frame.frame_id; })
            .attr('data-parent_frame_id', function (frame, i) {
            return (frame.parent_frame_id_list.length > 0) ? frame.parent_frame_id_list[0] : null;
        })
            .each(function (frame, i) {
            if (!myViz.params.drawParentPointers) {
                return;
            }
            // only run if myViz.params.drawParentPointers is true ...
            var my_CSS_id = $(this).attr('id');
            //console.log(my_CSS_id, 'ENTER');
            // render a parent pointer whose SOURCE node is this frame
            // i.e., connect this frame to p, where this.parent_frame_id == p.frame_id
            // (if this.parent_frame_id is null, then p is the global frame)
            if (frame.parent_frame_id_list.length > 0) {
                var parent_frame_id = frame.parent_frame_id_list[0];
                // tricky turkey!
                // ok this hack just HAPPENS to work by luck ... usually there will only be ONE frame
                // that matches this selector, but sometimes multiple frames match, in which case the
                // FINAL frame wins out (since parentPointerConnectionEndpointIDs is a map where each
                // key can be mapped to only ONE value). it so happens that the final frame winning
                // out looks "desirable" for some of the closure test cases that I've tried. but
                // this code is quite brittle :(
                myViz.domRoot.find('div#stack [data-frame_id=' + parent_frame_id + ']').each(function (i, e) {
                    var parent_CSS_id = $(this).attr('id');
                    //console.log('connect', my_CSS_id, parent_CSS_id);
                    myViz.jsPlumbManager.parentPointerConnectionEndpointIDs.set(my_CSS_id, parent_CSS_id);
                });
            }
            else {
                // render a parent pointer to the global frame
                //console.log('connect', my_CSS_id, globalsID);
                // only do this if there are actually some global variables to display ...
                if (curEntry.ordered_globals.length > 0) {
                    myViz.jsPlumbManager.parentPointerConnectionEndpointIDs.set(my_CSS_id, globalsID);
                }
            }
            // tricky turkey: render parent pointers whose TARGET node is this frame.
            // i.e., for all frames f such that f.parent_frame_id == my_frame_id,
            // connect f to this frame.
            // (make sure not to confuse frame IDs with CSS IDs!!!)
            var my_frame_id = frame.frame_id;
            myViz.domRoot.find('div#stack [data-parent_frame_id=' + my_frame_id + ']').each(function (i, e) {
                var child_CSS_id = $(this).attr('id');
                //console.log('connect', child_CSS_id, my_CSS_id);
                myViz.jsPlumbManager.parentPointerConnectionEndpointIDs.set(child_CSS_id, my_CSS_id);
            });
        });
        sfdEnter
            .append('div')
            .attr('class', 'stackFrameHeader')
            .html(function (frame, i) {
            // pretty-print lambdas and display other weird characters
            // (might contain '<' or '>' for weird names like <genexpr>)
            var funcName = htmlspecialchars(frame.func_name).replace('&lt;lambda&gt;', '\u03bb');
            var headerLabel = funcName;
            // only display if you're someone's parent (unless showAllFrameLabels)
            if (frame.is_parent || myViz.params.showAllFrameLabels) {
                headerLabel = 'f' + frame.frame_id + ': ' + headerLabel;
            }
            // optional (btw, this isn't a CSS id)
            if (frame.parent_frame_id_list.length > 0) {
                var parentFrameID = frame.parent_frame_id_list[0];
                headerLabel = headerLabel + ' [parent=f' + parentFrameID + ']';
            }
            else if (myViz.params.showAllFrameLabels) {
                headerLabel = headerLabel + ' [parent=Global]';
            }
            return headerLabel;
        });
        sfdEnter
            .append('table')
            .attr('class', 'stackFrameVarTable');
        var stackVarTable = stackFrameDiv
            .order() // VERY IMPORTANT to put in the order corresponding to data elements
            .select('table').selectAll('tr')
            .data(function (frame) {
            if (myViz.hideVarsSet) {
                // filter out everything in hideVarsSet
                var func_prefix_1 = frame.func_name ? frame.func_name : DataVisualizer.UNNAMED_PREFIX;
                // a bit inefficient since we call filter twice, but whateves :)
                var hiddenVarnamesLst = frame.ordered_varnames.filter(function (varname) { return myViz.inHideVarsSet(func_prefix_1, varname); });
                console.log('render HIDING', func_prefix_1, hiddenVarnamesLst);
                hiddenVarnamesLst.forEach(function (e) { myViz.varsHidden.push(func_prefix_1 + ':' + e); });
                return frame.ordered_varnames
                    .filter(function (varname) { return !myViz.inHideVarsSet(func_prefix_1, varname); })
                    .map(function (varname) { return { varname: varname, frame: frame }; });
            }
            else {
                // each list element contains a reference to the entire frame
                // object as well as the variable name
                // TODO: look into whether we can use d3 parent nodes to avoid
                // this hack ... http://bost.ocks.org/mike/nest/
                return frame.ordered_varnames.map(function (varname) { return { varname: varname, frame: frame }; });
            }
        }, function (d) {
            // TODO: why would d ever be null?!? weird
            if (d) {
                return d.varname; // use variable name as key
            }
        });
        stackVarTable
            .enter()
            .append('tr')
            .attr('class', 'variableTr')
            .attr('id', function (d, i) {
            return myViz.owner.generateID(varnameToCssID(d.frame.unique_hash + '__' + d.varname + '_tr')); // make globally unique (within the page)
        });
        var stackVarTableCells = stackVarTable
            .selectAll('td.stackFrameVar,td.stackFrameValue')
            .data(function (d, i) { return [d, d] /* map identical data down both columns */; });
        stackVarTableCells.enter()
            .append('td')
            .attr('class', function (d, i) { return (i == 0) ? 'stackFrameVar' : 'stackFrameValue'; });
        stackVarTableCells
            .order() // VERY IMPORTANT to put in the order corresponding to data elements
            .each(function (d, i) {
            var varname = d.varname;
            var frame = d.frame;
            if (i == 0) {
                if (varname == '__return__')
                    $(this).html('<span class="retval">Return<br/>value</span>');
                else
                    $(this).html(varname);
            }
            else {
                // always delete and re-render the stack var ...
                // NB: trying to cache and compare the old value using,
                // say -- $(this).attr('data-curvalue', valStringRepr) -- leads to
                // a mysterious and killer memory leak that I can't figure out yet
                $(this).empty();
                // make sure varname and frame.unique_hash don't contain any weird
                // characters that are illegal for CSS ID's ...
                var varDivID = myViz.owner.generateID(varnameToCssID(frame.unique_hash + '__' + varname));
                // need to get rid of the old connector in preparation for rendering a new one:
                existingConnectionEndpointIDs.remove(varDivID);
                var val = frame.encoded_locals[varname];
                if (myViz.isPrimitiveType(val)) {
                    myViz.renderPrimitiveObject(val, curInstr, $(this));
                }
                else if (val[0] === 'C_STRUCT' || val[0] === 'C_ARRAY' || val[0] === 'C_MULTIDIMENSIONAL_ARRAY') {
                    // C structs and arrays can be inlined in frames
                    myViz.renderCStructArray(val, curInstr, $(this));
                }
                else {
                    var heapObjID = myViz.generateHeapObjID(getRefID(val), curInstr);
                    if (myViz.params.textualMemoryLabels) {
                        var labelID = varDivID + '_text_label';
                        $(this).append('<div class="objectIdLabel" id="' + labelID + '">id' + getRefID(val) + '</div>');
                        $(this).find('div#' + labelID).hover(function () {
                            myViz.jsPlumbInstance.connect({ source: labelID, target: heapObjID,
                                scope: 'varValuePointer' });
                        }, function () {
                            myViz.jsPlumbInstance.select({ source: labelID }).detach();
                        });
                    }
                    else {
                        // add a stub so that we can connect it with a connector later.
                        // IE needs this div to be NON-EMPTY in order to properly
                        // render jsPlumb endpoints, so that's why we add an "&nbsp;"!
                        $(this).append('<div class="stack_pointer" id="' + varDivID + '">&nbsp;</div>');
                        assert(!myViz.jsPlumbManager.connectionEndpointIDs.has(varDivID));
                        myViz.jsPlumbManager.connectionEndpointIDs.set(varDivID, heapObjID);
                        //console.log('STACK->HEAP', varDivID, heapObjID);
                    }
                }
            }
        });
        stackVarTableCells.exit()
            .each(function (d, idx) {
            $(this).empty(); // crucial for garbage collecting jsPlumb connectors!
        })
            .remove();
        stackVarTable.exit()
            .each(function (d, i) {
            $(this).find('.stack_pointer').each(function (i, sp) {
                // detach all stack_pointer connectors for divs that are being removed
                existingConnectionEndpointIDs.remove($(sp).attr('id'));
            });
            $(this).empty(); // crucial for garbage collecting jsPlumb connectors!
        })
            .remove();
        stackFrameDiv.exit()
            .each(function (frame, i) {
            $(this).find('.stack_pointer').each(function (i, sp) {
                // detach all stack_pointer connectors for divs that are being removed
                existingConnectionEndpointIDs.remove($(sp).attr('id'));
            });
            var my_CSS_id = $(this).attr('id');
            //console.log(my_CSS_id, 'EXIT');
            // Remove all pointers where either the source or destination end is my_CSS_id
            existingParentPointerConnectionEndpointIDs.forEach(function (k, v) {
                if (k == my_CSS_id || v == my_CSS_id) {
                    //console.log('remove EPP', k, v);
                    existingParentPointerConnectionEndpointIDs.remove(k);
                }
            });
            $(this).empty(); // crucial for garbage collecting jsPlumb connectors!
        })
            .remove();
        // Rightward nudge hack to make tree-like structures look more sane
        // without any sophisticated graph rendering code. Thanks to John
        // DeNero for this suggestion in Fall 2012.
        //
        // This hack tries to ensure that all pointers that span different
        // rows point RIGHTWARD (as much as possible), which makes tree-like
        // structures look decent. e.g.,:
        //
        // t = [[['a', 'b'], ['c', 'd']], [[1,2], [3,4]]]
        //
        // Do it here since all of the divs have been rendered by now, but no
        // jsPlumb arrows have been rendered yet.
        if (rightwardNudgeHack) {
            // Basic idea: keep a set of all nudged ROWS for each nudger row, so
            // that when you get nudged, you can, in turn, nudge all of the rows
            // that you've nudged. this algorithm nicely takes care of the fact
            // that there might not be cycles in objects that you've nudged, but
            // there are cycles in entire rows.
            //
            // Key:   ID of .heapRow object that did the nudging
            // Value: set of .heapRow ID that were (transitively) nudged by this element
            //        (represented as a d3.map)
            var nudger_to_nudged_rows = {};
            // VERY IMPORTANT to sort these connector IDs in ascending order,
            // since I think they're rendered left-to-right, top-to-bottom in ID
            // order, so we want to run the nudging algorithm in that same order.
            var srcHeapConnectorIDs = myViz.jsPlumbManager.heapConnectionEndpointIDs.keys();
            srcHeapConnectorIDs.sort();
            $.each(srcHeapConnectorIDs, function (i, srcID) {
                var dstID = myViz.jsPlumbManager.heapConnectionEndpointIDs.get(srcID);
                var srcAnchorObject = myViz.domRoot.find('#' + srcID);
                var srcHeapObject = srcAnchorObject.closest('.heapObject');
                var dstAnchorObject = myViz.domRoot.find('#' + dstID);
                var dstHeapObject = dstAnchorObject.closest('.heapObject');
                var srcHeapRow = srcHeapObject.closest('.heapRow');
                var dstHeapRow = dstHeapObject.closest('.heapRow');
                var srcRowID = srcHeapRow.attr('id');
                var dstRowID = dstHeapRow.attr('id');
                // only consider nudging if srcID and dstID are on different rows
                if (srcRowID != dstRowID) {
                    var srcAnchorLeft = srcAnchorObject.offset().left;
                    var srcHeapObjectLeft = srcHeapObject.offset().left;
                    var dstHeapObjectLeft = dstHeapObject.offset().left;
                    // if srcAnchorObject is to the RIGHT of dstHeapObject, then nudge
                    // dstHeapObject to the right
                    if (srcAnchorLeft > dstHeapObjectLeft) {
                        // an extra nudge of 32px matches up pretty well with the
                        // current CSS padding around .toplevelHeapObject
                        var delta = (srcAnchorLeft - dstHeapObjectLeft) + 32;
                        // set margin rather than padding so that arrows tips still end
                        // at the left edge of the element.
                        // whoa, set relative CSS using +=, nice!
                        //
                        // TODO: tried looking into setting 'left' directly instead of
                        // 'margin-left', but somehow the results look different
                        dstHeapObject.css('margin-left', '+=' + delta);
                        //console.log(srcRowID, 'nudged', dstRowID, 'by', delta);
                        var cur_nudgee_set = nudger_to_nudged_rows[srcRowID];
                        if (cur_nudgee_set === undefined) {
                            cur_nudgee_set = d3.map();
                            nudger_to_nudged_rows[srcRowID] = cur_nudgee_set;
                        }
                        cur_nudgee_set.set(dstRowID, 1 /* useless value */);
                        // now if dstRowID itself nudged some other nodes, then nudge
                        // all of its nudgees by delta as well
                        var dst_nudgee_set = nudger_to_nudged_rows[dstRowID];
                        if (dst_nudgee_set) {
                            dst_nudgee_set.forEach(function (k, v) {
                                // don't nudge if it's yourself, to make cycles look
                                // somewhat reasonable (although still not ideal). e.g.,:
                                //   x = [1,2]
                                //   y = [3,x]
                                //   x[1] = y
                                if (k != srcRowID) {
                                    // nudge this entire ROW by delta as well
                                    // 2020-02-05: OK instead of nudging the .heapRow
                                    // object, we will traverse inside of it and nudge all
                                    // of its .heapObject children that reside directly
                                    // within .heapRow > .toplevelHeapObject > .heapObject
                                    //
                                    // why are we doing this? because we want it to
                                    // interact well with draggedHeapObjectCSS ... if an
                                    // element is dragged, we want to restore its
                                    // cached position from draggedHeapObjectCSS, which
                                    // will override all nudges. if we had nudged .heapRow
                                    // like we used to do, then .heapRow may itself be
                                    // nudged, which would kind of override
                                    // draggedHeapObjectCSS, which is applied to .heapObject
                                    //
                                    // old code: nudge .heapRow itself ...
                                    //myViz.domRoot.find('#' + k).css('margin-left', '+=' + delta);
                                    // new code: nudge all .heapObject children of .heapRow
                                    // (which is separated by an intermediary .toplevelHeapObject)
                                    myViz.domRoot.find('#' + k)
                                        .children('.toplevelHeapObject')
                                        .children('.heapObject')
                                        .css('margin-left', '+=' + delta);
                                    // NB: why don't we just use .find() to directly get
                                    // all .heapObject elements? because there are
                                    // sometimes .heapObject that are nested *within*
                                    // other .heapObject, and we don't want to unnecessarily
                                    // nudge those ... thus, we stick to .toplevelHeapObject
                                    // then transitively add to entry for srcRowID
                                    cur_nudgee_set.set(k, 1 /* useless value */);
                                }
                            });
                        }
                    }
                }
            });
        }
        // NB: ugh, I'm not very happy about this hack, but it seems necessary
        // for embedding within sophisticated webpages such as IPython Notebook
        // delete all connectors. do this AS LATE AS POSSIBLE so that
        // (presumably) the calls to $(this).empty() earlier in this function
        // will properly garbage collect the connectors
        //
        // WARNING: for environment parent pointers, garbage collection doesn't seem to
        // be working as intended :(
        //
        // I suspect that this is due to the fact that parent pointers are SIBLINGS
        // of stackFrame divs and not children, so when stackFrame divs get destroyed,
        // their associated parent pointers do NOT.)
        myViz.jsPlumbInstance.reset();
        // use jsPlumb scopes to keep the different kinds of pointers separated
        function renderVarValueConnector(varID, valueID) {
            // special-case handling for C/C++ pointers, just to keep from rocking
            // the boat on my existing (battle-tested) code
            if (myViz.isCppMode()) {
                if (myViz.domRoot.find('#' + valueID).length) {
                    myViz.jsPlumbInstance.connect({ source: varID, target: valueID, scope: 'varValuePointer' });
                }
                else {
                    // pointer isn't pointing to anything valid; put a poo emoji here
                    myViz.domRoot.find('#' + varID).html('\uD83D\uDCA9' /* pile of poo emoji */);
                }
            }
            else {
                myViz.jsPlumbInstance.connect({ source: varID, target: valueID, scope: 'varValuePointer' });
            }
        }
        var totalParentPointersRendered = 0;
        function renderParentPointerConnector(srcID, dstID) {
            // SUPER-DUPER-ugly hack since I can't figure out a cleaner solution for now:
            // if either srcID or dstID no longer exists, then SKIP rendering ...
            if ((myViz.domRoot.find('#' + srcID).length == 0) ||
                (myViz.domRoot.find('#' + dstID).length == 0)) {
                return;
            }
            //console.log('renderParentPointerConnector:', srcID, dstID);
            myViz.jsPlumbInstance.connect({ source: srcID, target: dstID,
                anchors: ["LeftMiddle", "LeftMiddle"],
                // 'horizontally offset' the parent pointers up so that they don't look as ugly ...
                //connector: ["Flowchart", { stub: 9 + (6 * (totalParentPointersRendered + 1)) }],
                // actually let's try a bezier curve ...
                connector: ["Bezier", { curviness: 45 }],
                endpoint: ["Dot", { radius: 4 }],
                //hoverPaintStyle: {lineWidth: 1, strokeStyle: connectorInactiveColor}, // no hover colors
                scope: 'frameParentPointer' });
            totalParentPointersRendered++;
        }
        if (!myViz.params.textualMemoryLabels) {
            // re-render existing connectors and then ...
            //
            // NB: in C/C++ mode, to keep things simple, don't try to redraw
            // existingConnectionEndpointIDs since we want to redraw all arrows
            // each and every time.
            if (!myViz.isCppMode()) {
                existingConnectionEndpointIDs.forEach(renderVarValueConnector);
            }
            // add all the NEW connectors that have arisen in this call to renderDataStructures
            myViz.jsPlumbManager.connectionEndpointIDs.forEach(renderVarValueConnector);
        }
        // do the same for environment parent pointers
        if (myViz.params.drawParentPointers) {
            existingParentPointerConnectionEndpointIDs.forEach(renderParentPointerConnector);
            myViz.jsPlumbManager.parentPointerConnectionEndpointIDs.forEach(renderParentPointerConnector);
        }
        /*
        myViz.jsPlumbInstance.select().each(function(c) {
          console.log('CONN:', c.sourceId, c.targetId);
        });
        */
        //console.log('---', myViz.jsPlumbInstance.select().length, '---');
        function highlight_frame(frameID) {
            myViz.jsPlumbInstance.select().each(function (c) {
                // find the enclosing .stackFrame ...
                var stackFrameDiv = c.source.closest('.stackFrame');
                // if this connector starts in the selected stack frame ...
                if (stackFrameDiv.attr('id') == frameID) {
                    // then HIGHLIGHT IT!
                    c.setPaintStyle({ lineWidth: 1, strokeStyle: connectorBaseColor });
                    c.endpoints[0].setPaintStyle({ fillStyle: connectorBaseColor });
                    //c.endpoints[1].setVisible(false, true, true); // JUST set right endpoint to be invisible
                    $(c.canvas).css("z-index", 1000); // ... and move it to the VERY FRONT
                }
                // for heap->heap connectors
                else if (myViz.jsPlumbManager.heapConnectionEndpointIDs.has(c.endpoints[0].elementId)) {
                    // NOP since it's already the color and style we set by default
                }
                // TODO: maybe this needs special consideration for C/C++ code? dunno
                else if (stackFrameDiv.length > 0) {
                    // else unhighlight it
                    // (only if c.source actually belongs to a stackFrameDiv (i.e.,
                    //  it originated from the stack). for instance, in C there are
                    //  heap pointers, but we doesn't use heapConnectionEndpointIDs
                    //  NB: 2020-02-04 - upgraded C/C++ to use heapConnectionEndpointIDs )
                    c.setPaintStyle({ lineWidth: 1, strokeStyle: connectorInactiveColor });
                    c.endpoints[0].setPaintStyle({ fillStyle: connectorInactiveColor });
                    //c.endpoints[1].setVisible(false, true, true); // JUST set right endpoint to be invisible
                    $(c.canvas).css("z-index", 0);
                }
            });
            // clear everything, then just activate this one ...
            myViz.domRoot.find(".stackFrame").removeClass("highlightedStackFrame");
            myViz.domRoot.find('#' + frameID).addClass("highlightedStackFrame");
        }
        // highlight the top-most non-zombie stack frame or, if not available, globals
        var frame_already_highlighted = false;
        $.each(curEntry.stack_to_render, function (i, e) {
            if (e.is_highlighted) {
                highlight_frame(myViz.owner.generateID('stack' + i));
                frame_already_highlighted = true;
            }
        });
        if (!frame_already_highlighted) {
            highlight_frame(myViz.owner.generateID('globals'));
        }
        // if customizeVizOptionsShown ...
        // use jQueryUI's draggable to make all heap objects contained
        // within YOURSELF draggable (NB: use myViz.domRoot.find() and *not*
        // $() since the latter may select heap objects belonging to OTHER
        // ExecutionVisualizer objects on page!)
        var needToRedrawConnectors = false;
        myViz.domRoot.find('.heapObject').each(function (i, e) {
            // very subtle: if this is a .heapObject that's *nested* within
            // another one, then don't make it draggable, since it's weird to
            // be able to drag a nested object inside of its parent object; in
            // other words, we want to drag only .toplevelHeapObject, but it's
            // cleaner to make the .heapObject element draggable and not the
            // .toplevelHeapObject element
            //
            // note that this code may break if we're nesting an entire
            // ExecutionVisualizer instance inside the .heapObject of another
            // ExecutionVisualizer so that every .heapObject in the inner one is
            // actually in the outer one, but i don't see who would actually do that!
            if ($(e).parents('.heapObject').length) {
                return;
            }
            // set a custom position if one was found in draggedHeapObjectCSS ...
            // make sure to do this after applying rightwardNudgeHack so that
            // we override the positions of any nudged elements with ones from
            // draggedHeapObjectCSS
            var savedDraggedCSS = myViz.draggedHeapObjectCSS.get($(e).attr('id'));
            if (savedDraggedCSS) {
                $(e).attr('style', savedDraggedCSS);
                //console.log('GOT POSITION FROM CACHE!', $(e).attr('id'));
                needToRedrawConnectors = true;
            }
            // 2020-02-06: only make draggable() if customizeVizOptionsShown
            // (i.e., when the user has clicked "Customize visualization" so that
            // they purposely want to customize ... we do this to be conservative
            // so as not to rock the boat because i haven't tested draggable()
            // widely yet)
            if (myViz.owner.navControls.customizeVizOptionsShown) {
                $(e).css('cursor', 'pointer') // make the cursor a hand when you hover over it
                    .draggable({
                    drag: function () {
                        // debounce to prevent excessive repaints, which can get super-slow
                        $.doTimeout('heapObjectDrag', 10, function () {
                            console.log('drag'); // to make sure we're not adding too many callbacks
                            myViz.redrawConnectors(); // redraw all arrows whenever you drag!
                        });
                    },
                    start: function () {
                    },
                    stop: function () {
                        myViz.redrawConnectors(); // redraw all arrows when you drag stops
                        // unset width and height fields since those don't seem
                        // relevant and we don't want to save them in draggedCSS
                        $(e).css('width', '').css('height', '');
                        // save your current CSS, which has your custom position
                        $(e).data('draggedCSS', $(e).attr('style'));
                    },
                });
            }
        });
        // show which variables/fields were actually hidden during this call
        // to renderDataStructures:
        if (myViz.owner.navControls.customizeVizOptionsShown) {
            needToRedrawConnectors = true; // always redraw! TODO: will this get inefficient?!?
            var shs = this.domRoot.find('#selectiveHideStatus');
            shs.empty(); // ALWAYS start from scratch each time!
            if (myViz.varsHidden.length > 0 || myViz.fieldsHidden.length > 0) {
                // printing hidden vars/fields may move elements in the heap visualization
                if (myViz.varsHidden.length > 0) {
                    // filter out duplicates:
                    var varsHiddenNoDups_1 = [];
                    myViz.varsHidden.forEach(function (e) {
                        if (varsHiddenNoDups_1.indexOf(e) < 0) {
                            varsHiddenNoDups_1.push(e);
                        }
                    });
                    shs.append("Hidden variables: " + varlistToHtml(varsHiddenNoDups_1));
                }
                if (myViz.fieldsHidden.length > 0) {
                    // filter out duplicates:
                    var fieldsHiddenNoDups_1 = [];
                    myViz.fieldsHidden.forEach(function (e) {
                        if (fieldsHiddenNoDups_1.indexOf(e) < 0) {
                            fieldsHiddenNoDups_1.push(e);
                        }
                    });
                    shs.append("<br/>Hidden object fields: " + varlistToHtml(fieldsHiddenNoDups_1));
                }
            }
        }
        if (needToRedrawConnectors) {
            myViz.redrawConnectors();
        }
        myViz.owner.try_hook("end_renderDataStructures", { myViz: myViz.owner /* tricky! use owner to be safe */ });
    };
    // rendering functions, which all take a d3 dom element to anchor the
    // new element to render
    DataVisualizer.prototype.renderPrimitiveObject = function (obj, stepNum, d3DomElement) {
        var myViz = this; // to prevent confusion of 'this' inside of nested functions
        if (this.owner.try_hook("renderPrimitiveObject", { obj: obj, d3DomElement: d3DomElement })[0])
            return;
        var typ = typeof obj;
        if (obj == null) {
            d3DomElement.append('<span class="nullObj">' + this.getRealLabel('None') + '</span>');
        }
        else if (typ == "number") {
            d3DomElement.append('<span class="numberObj">' + obj + '</span>');
        }
        else if (typ == "boolean") {
            if (obj) {
                d3DomElement.append('<span class="boolObj">' + this.getRealLabel('True') + '</span>');
            }
            else {
                d3DomElement.append('<span class="boolObj">' + this.getRealLabel('False') + '</span>');
            }
        }
        else if (typ == "string") {
            // escape using htmlspecialchars to prevent HTML/script injection
            var literalStr = htmlspecialchars(obj);
            // print as a double-quoted string literal
            literalStr = literalStr.replace(doubleQuoteAllRegex, '\\"'); // replace ALL
            literalStr = '"' + literalStr + '"';
            d3DomElement.append('<span class="stringObj">' + literalStr + '</span>');
        }
        else if (typ == "object") {
            if (obj[0] == 'C_DATA') {
                var typeName = obj[2];
                // special cases for brevity:
                if (typeName === 'short int') {
                    typeName = 'short';
                }
                else if (typeName === 'short unsigned int') {
                    typeName = 'unsigned short';
                }
                else if (typeName === 'long int') {
                    typeName = 'long';
                }
                else if (typeName === 'long long int') {
                    typeName = 'long long';
                }
                else if (typeName === 'long unsigned int') {
                    typeName = 'unsigned long';
                }
                else if (typeName === 'long long unsigned int') {
                    typeName = 'unsigned long long int';
                }
                var isValidPtr = ((typeName === 'pointer') &&
                    (obj[3] !== '<UNINITIALIZED>') &&
                    (obj[3] !== '<UNALLOCATED>'));
                var addr = obj[1];
                var leader = '';
                // prefix with 'cdata_' so that we can distinguish this from a
                // top-level heap ID generated by generateHeapObjID
                var cdataId = myViz.generateHeapObjID('cdata_' + addr, stepNum);
                if (isValidPtr) {
                    // for pointers, put cdataId in the header
                    d3DomElement.append('<div id="' + cdataId + '" class="cdataHeader">' + leader + typeName + '</div>');
                    var ptrVal = obj[3];
                    // add a stub so that we can connect it with a connector later.
                    // IE needs this div to be NON-EMPTY in order to properly
                    // render jsPlumb endpoints, so that's why we add an "&nbsp;"!
                    var ptrSrcId = myViz.generateHeapObjID('ptrSrc_' + addr, stepNum);
                    var ptrTargetId = myViz.generateHeapObjID('cdata_' + ptrVal, stepNum); // don't forget cdata_ prefix!
                    var debugInfo = '';
                    // make it really narrow so that the div doesn't STRETCH too wide
                    d3DomElement.append('<div style="width: 10px;" id="' + ptrSrcId + '" class="cdataElt">&nbsp;' + debugInfo + '</div>');
                    // special case: display 0x0 address as a NULL pointer value,
                    // to distinguish it from all other pointers, since sometimes
                    // C/C++ programmers *explicitly* set a pointer to null
                    if (ptrVal === '0x0') {
                        $('#' + ptrSrcId).html('<span class="cdataUninit">NULL</span>');
                    }
                    else {
                        //console.log(ptrSrcId, '->', ptrTargetId);
                        assert(!myViz.jsPlumbManager.connectionEndpointIDs.has(ptrSrcId));
                        myViz.jsPlumbManager.connectionEndpointIDs.set(ptrSrcId, ptrTargetId);
                        // note that we can't tell whether ptrSrcId or ptrTargetId
                        // are on the stack or heap (since the C trace allows pointer
                        // objects to exist in both), so a hack to find out is to find
                        // its DOM element, look upward in tree for closest heapObject,
                        // and if we find it, then we assume it's on the heap
                        var srcAnchorObject = myViz.domRoot.find('#' + ptrSrcId);
                        var dstAnchorObject = myViz.domRoot.find('#' + ptrTargetId);
                        var srcHeapObject = srcAnchorObject.closest('.heapObject');
                        var dstHeapObject = dstAnchorObject.closest('.heapObject');
                        // only do this if BOTH ptrSrcId and ptrTargetId are on the heap
                        if (srcHeapObject.length > 0 && dstHeapObject.length > 0) {
                            myViz.jsPlumbManager.heapConnectionEndpointIDs.set(ptrSrcId, ptrTargetId);
                        }
                    }
                }
                else {
                    // for non-pointers, put cdataId on the element itself, so that
                    // pointers can point directly at the element, not the header
                    d3DomElement.append('<div class="cdataHeader">' + leader + typeName + '</div>');
                    var rep = '';
                    if (typeof obj[3] === 'string') {
                        var literalStr = obj[3];
                        if (literalStr === '<UNINITIALIZED>') {
                            rep = '<span class="cdataUninit">?</span>';
                            //rep = '\uD83D\uDCA9'; // pile of poo emoji
                        }
                        else if (literalStr == '<UNALLOCATED>') {
                            rep = '\uD83D\uDC80'; // skull emoji
                        }
                        else {
                            // a regular string
                            literalStr = literalStr.replace(newlineAllRegex, '\\n'); // replace ALL
                            literalStr = literalStr.replace(tabAllRegex, '\\t'); // replace ALL
                            literalStr = literalStr.replace(doubleQuoteAllRegex, '\\"'); // replace ALL
                            // unprintable chars are denoted with '???', so show them as
                            // a special unicode character:
                            if (typeName === 'char' && literalStr === '???') {
                                literalStr = '\uFFFD'; // question mark in black diamond unicode character
                            }
                            else {
                                // print as a SINGLE-quoted string literal (to emulate C-style chars)
                                literalStr = "'" + literalStr + "'";
                            }
                            rep = htmlspecialchars(literalStr);
                        }
                    }
                    else {
                        rep = htmlspecialchars(obj[3]);
                    }
                    d3DomElement.append('<div id="' + cdataId + '" class="cdataElt">' + rep + '</div>');
                }
            }
            else if (obj[0] == 'IMPORTED_FAUX_PRIMITIVE') {
                // these represent objects that you've imported from external
                // libraries/modules, which should be displayed as 'primitives'
                // so that we don't clutter up the display by dedicating heap
                // space for them or trying to recurse into viewing their insides
                d3DomElement.append('<span class="importedObj">' + obj[1] + '</span>');
            }
            else {
                assert(obj[0] == 'SPECIAL_FLOAT' || obj[0] == 'JS_SPECIAL_VAL');
                d3DomElement.append('<span class="numberObj">' + obj[1] + '</span>');
            }
        }
        else {
            assert(false);
        }
    };
    DataVisualizer.prototype.renderNestedObject = function (obj, stepNum, d3DomElement) {
        if (this.isPrimitiveType(obj)) {
            this.renderPrimitiveObject(obj, stepNum, d3DomElement);
        }
        else {
            if (obj[0] === 'REF') {
                // obj is a ["REF", <int>] so dereference the 'pointer' to render that object
                this.renderCompoundObject(getRefID(obj), stepNum, d3DomElement, false);
            }
            else {
                assert(obj[0] === 'C_STRUCT' || obj[0] === 'C_ARRAY' || obj[0] === 'C_MULTIDIMENSIONAL_ARRAY');
                this.renderCStructArray(obj, stepNum, d3DomElement);
            }
        }
    };
    DataVisualizer.prototype.renderCompoundObject = function (objID, stepNum, d3DomElement, isTopLevel) {
        var myViz = this; // to prevent confusion of 'this' inside of nested functions
        var heapObjID = myViz.generateHeapObjID(objID, stepNum);
        if (!isTopLevel && myViz.jsPlumbManager.renderedHeapObjectIDs.has(heapObjID)) {
            var srcDivID = myViz.owner.generateID('heap_pointer_src_' + myViz.jsPlumbManager.heap_pointer_src_id);
            myViz.jsPlumbManager.heap_pointer_src_id++; // just make sure each source has a UNIQUE ID
            var dstDivID = heapObjID;
            if (myViz.params.textualMemoryLabels) {
                var labelID = srcDivID + '_text_label';
                d3DomElement.append('<div class="objectIdLabel" id="' + labelID + '">id' + objID + '</div>');
                myViz.domRoot.find('div#' + labelID).hover(function () {
                    myViz.jsPlumbInstance.connect({ source: labelID, target: dstDivID,
                        scope: 'varValuePointer' });
                }, function () {
                    myViz.jsPlumbInstance.select({ source: labelID }).detach();
                });
            }
            else {
                // render jsPlumb arrow source since this heap object has already been rendered
                // (or will be rendered soon)
                // add a stub so that we can connect it with a connector later.
                // IE needs this div to be NON-EMPTY in order to properly
                // render jsPlumb endpoints, so that's why we add an "&nbsp;"!
                d3DomElement.append('<div id="' + srcDivID + '">&nbsp;</div>');
                assert(!myViz.jsPlumbManager.connectionEndpointIDs.has(srcDivID));
                myViz.jsPlumbManager.connectionEndpointIDs.set(srcDivID, dstDivID);
                //console.log('HEAP->HEAP', srcDivID, dstDivID);
                assert(!myViz.jsPlumbManager.heapConnectionEndpointIDs.has(srcDivID));
                myViz.jsPlumbManager.heapConnectionEndpointIDs.set(srcDivID, dstDivID);
            }
            return; // early return!
        }
        // wrap ALL compound objects in a heapObject div so that jsPlumb
        // connectors can point to it:
        // TODO: what about C/C++ objects on the stack that are the target of pointers?
        d3DomElement.append('<div class="heapObject" id="' + heapObjID + '"></div>');
        d3DomElement = myViz.domRoot.find('#' + heapObjID); // TODO: maybe inefficient
        myViz.jsPlumbManager.renderedHeapObjectIDs.set(heapObjID, 1);
        var curHeap = myViz.curTrace[stepNum].heap;
        var obj = curHeap[objID];
        assert($.isArray(obj));
        // prepend the type label with a memory address label
        var typeLabelPrefix = '';
        if (myViz.params.textualMemoryLabels) {
            typeLabelPrefix = 'id' + objID + ':';
        }
        var hook_result = myViz.owner.try_hook("renderCompoundObject", { objID: objID, d3DomElement: d3DomElement,
            isTopLevel: isTopLevel, obj: obj,
            typeLabelPrefix: typeLabelPrefix,
            stepNum: stepNum,
            myViz: myViz });
        if (hook_result[0])
            return;
        if (obj[0] == 'LIST' || obj[0] == 'TUPLE' || obj[0] == 'SET' || obj[0] == 'DICT') {
            var label = obj[0].toLowerCase();
            assert(obj.length >= 1);
            if (obj.length == 1) {
                d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + ' empty ' + myViz.getRealLabel(label) + '</div>');
            }
            else {
                d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + myViz.getRealLabel(label) + '</div>');
                d3DomElement.append('<table class="' + label + 'Tbl"></table>');
                var tbl = d3DomElement.children('table');
                if (obj[0] == 'LIST' || obj[0] == 'TUPLE') {
                    tbl.append('<tr></tr><tr></tr>');
                    var headerTr = tbl.find('tr:first');
                    var contentTr = tbl.find('tr:last');
                    $.each(obj, function (ind, val) {
                        if (ind < 1)
                            return; // skip type tag and ID entry
                        // add a new column and then pass in that newly-added column
                        // as d3DomElement to the recursive call to child:
                        headerTr.append('<td class="' + label + 'Header"></td>');
                        headerTr.find('td:last').append(ind - 1);
                        contentTr.append('<td class="' + label + 'Elt"></td>');
                        myViz.renderNestedObject(val, stepNum, contentTr.find('td:last'));
                    });
                }
                else if (obj[0] == 'SET') {
                    // create an R x C matrix:
                    var numElts = obj.length - 1;
                    // gives roughly a 3x5 rectangular ratio, square is too, err,
                    // 'square' and boring
                    var numRows = Math.round(Math.sqrt(numElts));
                    if (numRows > 3) {
                        numRows -= 1;
                    }
                    var numCols = Math.round(numElts / numRows);
                    // round up if not a perfect multiple:
                    if (numElts % numRows) {
                        numCols += 1;
                    }
                    jQuery.each(obj, function (ind, val) {
                        if (ind < 1)
                            return; // skip 'SET' tag
                        if (((ind - 1) % numCols) == 0) {
                            tbl.append('<tr></tr>');
                        }
                        var curTr = tbl.find('tr:last');
                        curTr.append('<td class="setElt"></td>');
                        myViz.renderNestedObject(val, stepNum, curTr.find('td:last'));
                    });
                }
                else if (obj[0] == 'DICT') {
                    $.each(obj, function (ind, kvPair) {
                        if (ind < 1)
                            return; // skip 'DICT' tag
                        tbl.append('<tr class="dictEntry"><td class="dictKey"></td><td class="dictVal"></td></tr>');
                        var newRow = tbl.find('tr:last');
                        var keyTd = newRow.find('td:first');
                        var valTd = newRow.find('td:last');
                        var key = kvPair[0];
                        var val = kvPair[1];
                        myViz.renderNestedObject(key, stepNum, keyTd);
                        myViz.renderNestedObject(val, stepNum, valTd);
                    });
                }
            }
        }
        else if (obj[0] == 'INSTANCE' || obj[0] == 'INSTANCE_PPRINT' || obj[0] == 'CLASS') {
            var isInstance = (obj[0] == 'INSTANCE');
            var isPprintInstance = (obj[0] == 'INSTANCE_PPRINT');
            var _a = DataVisualizer.getClassInstanceMetadata(obj), className_2 = _a[0], headerLength_2 = _a[1];
            assert(obj.length >= headerLength_2);
            if (isInstance) {
                d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + obj[1] + ' ' + myViz.getRealLabel('instance') + '</div>');
            }
            else if (isPprintInstance) {
                d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + obj[1] + ' ' + myViz.getRealLabel('instance') + '</div>');
                d3DomElement.append('<table class="customObjTbl"><tr><td class="customObjElt">' + htmlspecialchars(obj[2]) + '</td></tr></table>');
            }
            else {
                var superclassStr = '';
                if (obj[2].length > 0) {
                    superclassStr += ('[extends ' + obj[2].join(', ') + '] ');
                }
                d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + obj[1] + ' class ' + superclassStr + '</div>');
            }
            if (obj.length > headerLength_2) {
                var lab = isInstance ? 'inst' : 'class';
                d3DomElement.append('<table class="' + lab + 'Tbl"></table>');
                var tbl = d3DomElement.children('table:last'); // tricky, there's more than 1 table if isPprintInstance is true
                $.each(obj, function (ind, kvPair) {
                    if (ind < headerLength_2)
                        return; // skip header tags
                    if (myViz.inHideFieldsSet(className_2, kvPair[0])) {
                        console.log('render HIDING', className_2, kvPair[0]);
                        myViz.fieldsHidden.push((className_2 ? className_2 + ':' : '') + kvPair[0]);
                        return; // get out!
                    }
                    tbl.append('<tr class="' + lab + 'Entry"><td class="' + lab + 'Key"></td><td class="' + lab + 'Val"></td></tr>');
                    var newRow = tbl.find('tr:last');
                    var keyTd = newRow.find('td:first');
                    var valTd = newRow.find('td:last');
                    // the keys should always be strings, so render them directly (and without quotes):
                    // (actually this isn't the case when strings are rendered on the heap)
                    if (typeof kvPair[0] == "string") {
                        // common case ...
                        var attrnameStr = htmlspecialchars(kvPair[0]);
                        keyTd.append('<span class="keyObj">' + attrnameStr + '</span>');
                    }
                    else {
                        // when strings are rendered as heap objects ...
                        myViz.renderNestedObject(kvPair[0], stepNum, keyTd);
                    }
                    // values can be arbitrary objects, so recurse:
                    myViz.renderNestedObject(kvPair[1], stepNum, valTd);
                });
            }
        }
        else if (obj[0] == 'FUNCTION') {
            assert(obj.length == 3 || obj.length == 4);
            // pretty-print lambdas and display other weird characters:
            var funcName = htmlspecialchars(obj[1]).replace('&lt;lambda&gt;', '\u03bb');
            var parentFrameID = obj[2]; // optional
            if (!myViz.params.compactFuncLabels) {
                d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + myViz.getRealLabel('function') + '</div>');
            }
            var funcPrefix = myViz.params.compactFuncLabels ? 'func' : '';
            if (parentFrameID) {
                d3DomElement.append('<div class="funcObj">' + funcPrefix + ' ' + funcName + ' [parent=f' + parentFrameID + ']</div>');
            }
            else if (myViz.params.showAllFrameLabels) {
                d3DomElement.append('<div class="funcObj">' + funcPrefix + ' ' + funcName + ' [parent=Global]</div>');
            }
            else {
                d3DomElement.append('<div class="funcObj">' + funcPrefix + ' ' + funcName + '</div>');
            }
            // render default argument names/values (see ../pg_encoder.py)
            if (obj.length > 3) {
                var funcProperties = obj[3];
                assert(funcProperties.length > 0);
                d3DomElement.append('<div class="typeLabel" style="margin-top: 3px;">default arguments:</div>');
                d3DomElement.append('<table class="instTbl"></table>');
                var tbl = d3DomElement.children('table');
                $.each(funcProperties, function (ind, kvPair) {
                    tbl.append('<tr class="instEntry"><td class="instKey"></td><td class="instVal"></td></tr>');
                    var newRow = tbl.find('tr:last');
                    var keyTd = newRow.find('td:first');
                    var valTd = newRow.find('td:last');
                    keyTd.append('<span class="keyObj">' + htmlspecialchars(kvPair[0]) + '</span>');
                    myViz.renderNestedObject(kvPair[1], stepNum, valTd);
                });
            }
        }
        else if (obj[0] == 'JS_FUNCTION') { /* TODO: refactor me */
            // JavaScript function
            assert(obj.length == 5);
            var funcName = htmlspecialchars(obj[1]);
            var funcCode = typeLabelPrefix + htmlspecialchars(obj[2]);
            var funcProperties = obj[3]; // either null or a non-empty list of key-value pairs
            var parentFrameID = obj[4];
            if (funcProperties || parentFrameID || myViz.params.showAllFrameLabels) {
                d3DomElement.append('<table class="classTbl"></table>');
                var tbl = d3DomElement.children('table');
                tbl.append('<tr><td class="funcCod" colspan="2"><pre class="funcCode">' + funcCode + '</pre>' + '</td></tr>');
                if (funcProperties) {
                    assert(funcProperties.length > 0);
                    var rawFuncName_1 = obj[1];
                    $.each(funcProperties, function (ind, kvPair) {
                        var instKey = kvPair[0];
                        if (myViz.inHideFieldsSet(rawFuncName_1, kvPair[0])) {
                            console.log('render HIDING', rawFuncName_1, kvPair[0]);
                            myViz.fieldsHidden.push((rawFuncName_1 ? rawFuncName_1 + ':' : '') + kvPair[0]);
                            return; // get out!
                        }
                        tbl.append('<tr class="classEntry"><td class="classKey"></td><td class="classVal"></td></tr>');
                        var newRow = tbl.find('tr:last');
                        var keyTd = newRow.find('td:first');
                        var valTd = newRow.find('td:last');
                        keyTd.append('<span class="keyObj">' + htmlspecialchars(kvPair[0]) + '</span>');
                        myViz.renderNestedObject(kvPair[1], stepNum, valTd);
                    });
                }
                if (parentFrameID) {
                    tbl.append('<tr class="classEntry"><td class="classKey">parent</td><td class="classVal">' + 'f' + parentFrameID + '</td></tr>');
                }
                else if (myViz.params.showAllFrameLabels) {
                    tbl.append('<tr class="classEntry"><td class="classKey">parent</td><td class="classVal">' + 'global' + '</td></tr>');
                }
            }
            else {
                // compact form:
                d3DomElement.append('<pre class="funcCode">' + funcCode + '</pre>');
            }
        }
        else if (obj[0] == 'HEAP_PRIMITIVE') {
            assert(obj.length == 3);
            var typeName = obj[1];
            var primitiveVal = obj[2];
            // add a bit of padding to heap primitives, for aesthetics
            d3DomElement.append('<div class="heapPrimitive"></div>');
            d3DomElement.find('div.heapPrimitive').append('<div class="typeLabel">' + typeLabelPrefix + typeName + '</div>');
            myViz.renderPrimitiveObject(primitiveVal, stepNum, d3DomElement.find('div.heapPrimitive'));
        }
        else if (obj[0] == 'C_STRUCT' || obj[0] == 'C_ARRAY' || obj[0] === 'C_MULTIDIMENSIONAL_ARRAY') {
            myViz.renderCStructArray(obj, stepNum, d3DomElement);
        }
        else {
            // render custom data type
            assert(obj.length == 2);
            var typeName = obj[0];
            var strRepr = obj[1];
            strRepr = htmlspecialchars(strRepr); // escape strings!
            d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + typeName + '</div>');
            d3DomElement.append('<table class="customObjTbl"><tr><td class="customObjElt">' + strRepr + '</td></tr></table>');
        }
    };
    // special-case kludge for C/C++
    DataVisualizer.prototype.renderCStructArray = function (obj, stepNum, d3DomElement) {
        var myViz = this; // to prevent confusion of 'this' inside of nested functions
        if (obj[0] == 'C_STRUCT') {
            assert(obj.length >= 3);
            var addr = obj[1];
            var typename = obj[2];
            var leader = '';
            if (myViz.params.lang === 'cpp') {
                // call it 'object' instead of 'struct'
                d3DomElement.append('<div class="typeLabel">' + leader + 'object ' + typename + '</div>');
            }
            else {
                d3DomElement.append('<div class="typeLabel">' + leader + 'struct ' + typename + '</div>');
            }
            if (obj.length > 3) {
                d3DomElement.append('<table class="instTbl"></table>');
                var tbl = d3DomElement.children('table');
                var structName_2 = obj[2] ? obj[2] : DataVisualizer.UNNAMED_PREFIX;
                $.each(obj, function (ind, kvPair) {
                    if (ind < 3)
                        return; // skip header tags
                    var fieldName = kvPair[0];
                    if (myViz.inHideFieldsSet(structName_2, fieldName)) {
                        console.log('render HIDING', structName_2, fieldName);
                        myViz.fieldsHidden.push(structName_2 + ':' + fieldName);
                        return; // get out!
                    }
                    tbl.append('<tr class="instEntry"><td class="instKey"></td><td class="instVal"></td></tr>');
                    var newRow = tbl.find('tr:last');
                    var keyTd = newRow.find('td:first');
                    var valTd = newRow.find('td:last');
                    // the keys should always be strings, so render them directly (and without quotes):
                    // (actually this isn't the case when strings are rendered on the heap)
                    assert(typeof kvPair[0] == "string");
                    // common case ...
                    var attrnameStr = htmlspecialchars(kvPair[0]);
                    keyTd.append('<span class="keyObj">' + attrnameStr + '</span>');
                    // values can be arbitrary objects, so recurse:
                    myViz.renderNestedObject(kvPair[1], stepNum, valTd);
                });
            }
        }
        else if (obj[0] == 'C_MULTIDIMENSIONAL_ARRAY') {
            // since we can display only 2 dimensions sensibly, make the first
            // dimension into rows and flatten all other dimensions together into
            // columns. in the common case for a 2-D array, this will do the
            // perfect thing: first dimension is rows, second dimension is columns.
            // e.g., for a 4-D array, the first dimension is rows, and dimensions
            // 2, 3, and 4 are flattened together into columns. we can't do
            // any better than this since it doesn't make sense to display
            // more than 2 dimensions at once on screen
            assert(obj.length >= 3);
            var addr = obj[1];
            var dimensions = obj[2];
            assert(dimensions.length > 1); // make sure we're really multidimensional!
            var leader = '';
            d3DomElement.append('<div class="typeLabel">' + leader + 'array</div>');
            d3DomElement.append('<table class="cArrayTbl"></table>');
            var tbl = d3DomElement.children('table');
            // a list of array indices for each dimension
            var indicesByDimension = [];
            for (var d = 0; d < dimensions.length; d++) {
                indicesByDimension.push(d3.range(dimensions[d]));
            }
            // common case is 2-D:
            var allDimensions = multiplyLists(indicesByDimension[0], indicesByDimension[1]);
            // for all dimensions above the second one ...
            for (var d = 2; d < dimensions.length; d++) {
                allDimensions = multiplyLists(allDimensions, indicesByDimension[d]);
            }
            //console.log('allDimensions', JSON.stringify(allDimensions));
            // ignore dimensions[0], which is rows
            var numColumns = 1;
            for (var i = 1; i < dimensions.length; i++) {
                numColumns *= dimensions[i];
            }
            for (var row = 0; row < dimensions[0]; row++) {
                //console.log('row', row);
                // a pair of rows for header + content, respectively
                tbl.append('<tr></tr>');
                var headerTr = tbl.find('tr:last');
                tbl.append('<tr></tr>');
                var contentTr = tbl.find('tr:last');
                for (var col = 0; col < numColumns; col++) {
                    var flattenedInd = (row * numColumns) + col; // the real index into the 1-D flattened array stored in obj[3:]
                    var realInd = flattenedInd + 3; // skip 3 header fields to get to the real index in obj
                    var val = obj[realInd];
                    var indToDisplay = allDimensions[flattenedInd].join(',');
                    //console.log('  col', col, '| flattenedInd:', flattenedInd, indToDisplay, 'contents:', val);
                    // add a new column and then pass in that newly-added column
                    // as d3DomElement to the recursive call to child:
                    headerTr.append('<td class="cMultidimArrayHeader"></td>');
                    headerTr.find('td:last').append(indToDisplay);
                    contentTr.append('<td class="cMultidimArrayElt"></td>');
                    myViz.renderNestedObject(val, stepNum, contentTr.find('td:last'));
                }
            }
        }
        else {
            assert(obj[0] == 'C_ARRAY');
            assert(obj.length >= 2);
            var addr = obj[1];
            var leader = '';
            d3DomElement.append('<div class="typeLabel">' + leader + 'array</div>');
            d3DomElement.append('<table class="cArrayTbl"></table>');
            var tbl = d3DomElement.children('table');
            tbl.append('<tr></tr><tr></tr>');
            var headerTr = tbl.find('tr:first');
            var contentTr = tbl.find('tr:last');
            $.each(obj, function (ind, val) {
                if (ind < 2)
                    return; // skip 'C_ARRAY' and addr
                // add a new column and then pass in that newly-added column
                // as d3DomElement to the recursive call to child:
                headerTr.append('<td class="cArrayHeader"></td>');
                headerTr.find('td:last').append(ind - 2 /* adjust */);
                contentTr.append('<td class="cArrayElt"></td>');
                myViz.renderNestedObject(val, stepNum, contentTr.find('td:last'));
            });
        }
    };
    DataVisualizer.prototype.redrawConnectors = function () {
        this.jsPlumbInstance.repaintEverything();
    };
    // selectively hiding variables or fields
    //
    // note that C++ uses '::' in member function names, so for
    // the names in hideVarsLst and hideFieldsLst, we can't
    // reliably split on ':' to reconstruct its original function/class
    // name and its variable name. e.g., "Computer::setspeed(int):p"
    //
    // the more robust strategy is to keep this string intact and try to
    // reconstruct it when matching up with variables in the execution trace
    // ... but consider the case where there are NO COLONS in the string,
    // which indicates a variable/field name that should be matched
    // regardless of what function/object it belongs to
    DataVisualizer.prototype.selectivelyHideVarsAndFields = function (hideVarsLst, hideFieldsLst) {
        var _this = this;
        if (hideVarsLst.length > 0) {
            this.hideVarsSet = d3.map();
            hideVarsLst.forEach(function (e) { return _this.hideVarsSet.set(e, true); });
        }
        else {
            this.hideVarsSet = null; // reset
        }
        if (hideFieldsLst.length > 0) {
            this.hideFieldsSet = d3.map();
            hideFieldsLst.forEach(function (e) { return _this.hideFieldsSet.set(e, true); });
        }
        else {
            this.hideFieldsSet = null; // reset
        }
        // now that this.hideVarsSet and this.hideFieldsSet have been updated ...
        this.precomputeCurTraceLayouts(); // recompute layouts to account for hidden vars/objects
        this.renderDataStructures(this.owner.curInstr); // render current step again
        //this.owner.updateOutput(); // alternatively, try this
    };
    // precondition: obj[0] is in {'INSTANCE', 'INSTANCE_PPRINT', 'CLASS'}
    // returns: [class name, header length]
    DataVisualizer.getClassInstanceMetadata = function (obj) {
        var typ = obj[0];
        assert(typ == 'INSTANCE' || typ == 'INSTANCE_PPRINT' || typ == 'CLASS');
        var className = obj[1]; // might possibly be ''
        var headerLength = (typ == 'INSTANCE') ? 2 : 3;
        return [className, headerLength];
    };
    // returns true if funcname:varname is in this.hideVarsSet
    // OR if varname alone (without a funcname qualifier) is in this.hideVarsSet
    DataVisualizer.prototype.inHideVarsSet = function (funcname, varname) {
        return DataVisualizer._inHideSetHelper(this.hideVarsSet, funcname, varname);
    };
    // same as inHideVarsSet except for classname/fieldname in this.hideFieldsSet
    DataVisualizer.prototype.inHideFieldsSet = function (classname, fieldname) {
        return DataVisualizer._inHideSetHelper(this.hideFieldsSet, classname, fieldname);
    };
    DataVisualizer._inHideSetHelper = function (myMap, first, second) {
        if (!myMap) {
            return false;
        }
        else if (!first) { // only match on second, in that case
            return myMap.has(second);
        }
        else { // match on either first:second or second
            return myMap.has(first + ':' + second) || myMap.has(second);
        }
    };
    DataVisualizer.GLOBAL_PREFIX = 'global';
    DataVisualizer.UNNAMED_PREFIX = '<unnamed>';
    return DataVisualizer;
}()); // END class DataVisualizer
var ProgramOutputBox = /** @class */ (function () {
    function ProgramOutputBox(owner, domRoot, heightOverride) {
        if (heightOverride === void 0) { heightOverride = null; }
        // how many *maximum* lines get printed to stdout in the entire trace?
        this.numStdoutLines = 0;
        this.owner = owner;
        this.domRoot = domRoot;
        var outputsHTML = '<div id="progOutputs">\
         <div id="printOutputDocs">Print output (drag lower right corner to resize)</div>\n\
         <textarea id="pyStdout" cols="40" rows="5" wrap="off" readonly></textarea>\
       </div>';
        this.domRoot.append(outputsHTML);
        // go backwards from the end ... sometimes the final entry doesn't
        // have an stdout
        var lastStdout;
        for (var i = this.owner.curTrace.length - 1; i >= 0; i--) {
            lastStdout = this.owner.curTrace[i].stdout;
            if (lastStdout) {
                break;
            }
        }
        if (lastStdout) {
            this.numStdoutLines = lastStdout.rtrim().split('\n').length;
        }
        var stdoutHeight = '75px';
        // heuristic for code with really small outputs
        if (this.numStdoutLines <= 3) {
            stdoutHeight = (25 * this.numStdoutLines) + 'px';
        }
        if (heightOverride) {
            stdoutHeight = heightOverride;
        }
        // do this only after adding outputsHTML to the DOM
        this.domRoot.find('#pyStdout').width('350px')
            .height(stdoutHeight)
            .resizable();
    }
    ProgramOutputBox.prototype.renderOutput = function (stdoutStr) {
        if (!stdoutStr) {
            stdoutStr = '';
        }
        // if there isn't anything to display, don't even bother
        // displaying the pane (but this may cause jumpiness later)
        if (this.numStdoutLines > 0) {
            this.domRoot.find('#progOutputs').show();
            var pyStdout = this.domRoot.find("#pyStdout");
            // keep original horizontal scroll level:
            var oldLeft = pyStdout.scrollLeft();
            pyStdout.val(stdoutStr.rtrim() /* trim trailing spaces */);
            pyStdout.scrollLeft(oldLeft);
            pyStdout.scrollTop(pyStdout[0].scrollHeight); // scroll to bottom, though
        }
        else {
            this.domRoot.find('#progOutputs').hide();
        }
    };
    return ProgramOutputBox;
}()); // END class ProgramOutputBox
var CodeDisplay = /** @class */ (function () {
    function CodeDisplay(owner, domRoot, domRootD3, codToDisplay, lang, editCodeBaseURL) {
        this.leftGutterSvgInitialized = false;
        this.owner = owner;
        this.domRoot = domRoot;
        this.domRootD3 = domRootD3;
        this.codToDisplay = codToDisplay;
        // 2018-03-15 - removed "Live programming" link from
        // visualization mode to simplify the UI, even if it drives
        // fewer people to live programming mode; they can always click
        // the "Live Programming Mode" button in the code editor:
        //<span id="liveModeSpan" style="display: none;">| <a id="editLiveModeBtn" href="#">Live programming</a></a>\
        //
        // also changed 'Edit code' link to 'Edit this code' to make
        // it more clear to users
        var codeDisplayHTML = '<div id="codeDisplayDiv">\
         <div id="langDisplayDiv"></div>\
         <div id="pyCodeOutputDiv"/>\
         <div id="editCodeLinkDiv"><a id="editBtn">Edit this code</a>\
         </div>\
         <div id="legendDiv"/>\
         <div id="codeFooterDocs"></div>\
       </div>';
        this.domRoot.append(codeDisplayHTML);
        if (this.owner.params.embeddedMode) {
            this.domRoot.find('#editCodeLinkDiv').css('font-size', '10pt');
        }
        this.domRoot.find('#legendDiv')
            .append('<svg id="prevLegendArrowSVG"/> line that just executed')
            .append('<p style="margin-top: 4px"><svg id="curLegendArrowSVG"/> next line to execute</p>');
        this.domRootD3.select('svg#prevLegendArrowSVG')
            .append('polygon')
            .attr('points', exports.SVG_ARROW_POLYGON)
            .attr('fill', exports.lightArrowColor);
        this.domRootD3.select('svg#curLegendArrowSVG')
            .append('polygon')
            .attr('points', exports.SVG_ARROW_POLYGON)
            .attr('fill', exports.darkArrowColor);
        if (editCodeBaseURL) {
            // kinda kludgy
            var pyVer = '2'; // default
            if (lang === 'js') {
                pyVer = 'js';
            }
            else if (lang === 'ts') {
                pyVer = 'ts';
            }
            else if (lang === 'java') {
                pyVer = 'java';
            }
            else if (lang === 'py3') {
                pyVer = '3';
            }
            else if (lang === 'py3anaconda') {
                pyVer = 'py3anaconda';
            }
            else if (lang === 'c') {
                pyVer = 'c';
            }
            else if (lang === 'cpp') {
                pyVer = 'cpp';
            }
            var urlStr = $.param.fragment(editCodeBaseURL, { code: this.codToDisplay, py: pyVer }, 2);
            this.domRoot.find('#editBtn').attr('href', urlStr);
        }
        else {
            this.domRoot.find('#editCodeLinkDiv').hide(); // just hide for simplicity!
            this.domRoot.find('#editBtn').attr('href', "#");
            this.domRoot.find('#editBtn').click(function () { return false; }); // DISABLE the link!
        }
        if (lang !== undefined) {
            if (lang === 'js') {
                this.domRoot.find('#langDisplayDiv').html('JavaScript');
            }
            else if (lang === 'ts') {
                this.domRoot.find('#langDisplayDiv').html('TypeScript');
            }
            else if (lang === 'ruby') {
                this.domRoot.find('#langDisplayDiv').html('Ruby');
            }
            else if (lang === 'java') {
                this.domRoot.find('#langDisplayDiv').html('Java');
            }
            else if (lang === 'py2') {
                this.domRoot.find('#langDisplayDiv').html('Python 2.7');
            }
            else if (lang === 'py3') {
                this.domRoot.find('#langDisplayDiv').html('Python 3.6');
            }
            else if (lang === 'py3anaconda') {
                this.domRoot.find('#langDisplayDiv').html('Python 3.6 with <a target="_blank" href="https://docs.anaconda.com/anaconda/">Anaconda 5.2</a> <font color="#e93f34">EXPERIMENTAL!</font><br/>(much slower than <a target="_blank" href="visualize.html#py=3">regular Python 3.6</a>, but lets you import more modules)');
            }
            else if (lang === 'c') {
                if (this.owner.params.embeddedMode) {
                    this.domRoot.find('#langDisplayDiv').html('C (gcc 4.8, C11)');
                }
                else {
                    this.domRoot.find('#langDisplayDiv').html('C (gcc 4.8, C11)<br/><font color="#e93f34">EXPERIMENTAL!</font> <a href="https://github.com/pgbovine/OnlinePythonTutor/blob/master/unsupported-features.md#c-and-c-unsupported-features" target="_blank">known limitations</a>');
                }
            }
            else if (lang === 'cpp') {
                if (this.owner.params.embeddedMode) {
                    this.domRoot.find('#langDisplayDiv').html('C++ (gcc 4.8, C++11)');
                }
                else {
                    this.domRoot.find('#langDisplayDiv').html('C++ (gcc 4.8, C++11)<br/><font color="#e93f34">EXPERIMENTAL!</font> <a href="https://github.com/pgbovine/OnlinePythonTutor/blob/master/unsupported-features.md#c-and-c-unsupported-features" target="_blank">known limitations</a>');
                }
            }
            else {
                this.domRoot.find('#langDisplayDiv').hide();
            }
        }
    }
    CodeDisplay.prototype.renderPyCodeOutput = function () {
        var _this = this;
        var myCodOutput = this; // capture
        this.domRoot.find('#pyCodeOutputDiv').empty();
        // maps codeOutputLines down both table columns
        // TODO: get rid of pesky owner dependency
        var codeOutputD3 = this.domRootD3.select('#pyCodeOutputDiv')
            .append('table')
            .attr('id', 'pyCodeOutput')
            .selectAll('tr')
            .data(this.owner.codeOutputLines)
            .enter().append('tr')
            .selectAll('td')
            .data(function (d, i) { return [d, d] /* map full data item down both columns */; })
            .enter().append('td')
            .attr('class', function (d, i) {
            // add the togetherjsCloneClick class on here so that we can
            // sync clicks via TogetherJS for setting breakpoints in shared
            // sessions (kinda leaky abstraction since pytutor.ts shouldn't
            // need to know about TogetherJS, but oh wells)
            if (i == 0) {
                return 'lineNo togetherjsCloneClick';
            }
            else {
                return 'cod togetherjsCloneClick';
            }
        })
            .attr('id', function (d, i) {
            if (i == 0) {
                return 'lineNo' + d.lineNumber;
            }
            else {
                return _this.owner.generateID('cod' + d.lineNumber); // make globally unique (within the page)
            }
        })
            .html(function (d, i) {
            if (i == 0) {
                return d.lineNumber;
            }
            else {
                return htmlspecialchars(d.text);
            }
        });
        // create a left-most gutter td that spans ALL rows ...
        // (NB: valign="top" is CRUCIAL for this to work in IE)
        this.domRoot.find('#pyCodeOutput tr:first')
            .prepend('<td id="gutterTD" valign="top" rowspan="' + this.owner.codeOutputLines.length + '"><svg id="leftCodeGutterSVG"/></td>');
        // create prevLineArrow and curLineArrow
        this.domRootD3.select('svg#leftCodeGutterSVG')
            .append('polygon')
            .attr('id', 'prevLineArrow')
            .attr('points', exports.SVG_ARROW_POLYGON)
            .attr('fill', exports.lightArrowColor);
        this.domRootD3.select('svg#leftCodeGutterSVG')
            .append('polygon')
            .attr('id', 'curLineArrow')
            .attr('points', exports.SVG_ARROW_POLYGON)
            .attr('fill', exports.darkArrowColor);
        // 2012-09-05: Disable breakpoints for now to simplify UX
        // 2016-05-01: Revive breakpoint functionality
        codeOutputD3
            .style('cursor', function (d, i) {
            // don't do anything if exePts empty (i.e., this line was never executed)
            var exePts = d.executionPoints;
            if (!exePts || exePts.length == 0) {
                return;
            }
            else {
                return 'pointer';
            }
        })
            .on('click', function (d, i) {
            // don't do anything if exePts empty (i.e., this line was never executed)
            var exePts = d.executionPoints;
            if (!exePts || exePts.length == 0) {
                return;
            }
            d.breakpointHere = !d.breakpointHere; // toggle
            if (d.breakpointHere) {
                myCodOutput.owner.setBreakpoint(d);
                d3.select(this.parentNode).select('td.lineNo').style('color', breakpointColor);
                d3.select(this.parentNode).select('td.lineNo').style('font-weight', 'bold');
                d3.select(this.parentNode).select('td.cod').style('color', breakpointColor);
            }
            else {
                myCodOutput.owner.unsetBreakpoint(d);
                d3.select(this.parentNode).select('td.lineNo').style('color', '');
                d3.select(this.parentNode).select('td.lineNo').style('font-weight', '');
                d3.select(this.parentNode).select('td.cod').style('color', '');
            }
        });
    };
    CodeDisplay.prototype.updateCodOutput = function (smoothTransition) {
        var _this = this;
        if (smoothTransition === void 0) { smoothTransition = false; }
        var gutterSVG = this.domRoot.find('svg#leftCodeGutterSVG');
        // one-time initialization of the left gutter
        // (we often can't do this earlier since the entire pane
        //  might be invisible and hence returns a height of zero or NaN
        //  -- the exact format depends on browser)
        if (!this.leftGutterSvgInitialized) {
            // set the gutter's height to match that of its parent
            gutterSVG.height(gutterSVG.parent().height());
            var firstRowOffsetY = this.domRoot.find('table#pyCodeOutput tr:first').offset().top;
            // first take care of edge case when there's only one line ...
            this.codeRowHeight = this.domRoot.find('table#pyCodeOutput td.cod:first').height();
            // ... then handle the (much more common) multi-line case ...
            // this weird contortion is necessary to get the accurate row height on Internet Explorer
            // (simpler methods work on all other major browsers, erghhhhhh!!!)
            if (this.owner.codeOutputLines.length > 1) {
                var secondRowOffsetY = this.domRoot.find('table#pyCodeOutput tr:nth-child(2)').offset().top;
                this.codeRowHeight = secondRowOffsetY - firstRowOffsetY;
            }
            assert(this.codeRowHeight > 0);
            var gutterOffsetY = gutterSVG.offset().top;
            var teenyAdjustment = gutterOffsetY - firstRowOffsetY;
            // super-picky detail to adjust the vertical alignment of arrows so that they line up
            // well with the pointed-to code text ...
            // (if you want to manually adjust tableTop, then ~5 is a reasonable number)
            this.arrowOffsetY = Math.floor((this.codeRowHeight / 2) - (SVG_ARROW_HEIGHT / 2)) - teenyAdjustment;
            this.leftGutterSvgInitialized = true;
        }
        assert(this.arrowOffsetY !== undefined);
        assert(this.codeRowHeight !== undefined);
        assert(0 <= this.arrowOffsetY && this.arrowOffsetY <= this.codeRowHeight);
        // assumes that this.owner.updateLineAndExceptionInfo has already
        // been run, so line number info is up-to-date!
        // TODO: get rid of this pesky 'owner' dependency
        var myViz = this.owner;
        var isLastInstr = (myViz.curInstr === (myViz.curTrace.length - 1));
        var curEntry = myViz.curTrace[myViz.curInstr];
        var hasError = (curEntry.event === 'exception' || curEntry.event === 'uncaught_exception');
        var isTerminated = (!myViz.instrLimitReached && isLastInstr);
        var pcod = this.domRoot.find('#pyCodeOutputDiv');
        var prevVerticalNudge = myViz.prevLineIsReturn ? Math.floor(this.codeRowHeight / 3) : 0;
        var curVerticalNudge = myViz.curLineIsReturn ? Math.floor(this.codeRowHeight / 3) : 0;
        // ugly edge case for the final instruction :0
        if (isTerminated && !hasError) {
            if (myViz.prevLineNumber !== myViz.curLineNumber) {
                curVerticalNudge = curVerticalNudge - 2;
            }
        }
        if (myViz.prevLineNumber) {
            var pla = this.domRootD3.select('#prevLineArrow');
            var translatePrevCmd = 'translate(0, ' + (((myViz.prevLineNumber - 1) * this.codeRowHeight) + this.arrowOffsetY + prevVerticalNudge) + ')';
            if (smoothTransition) {
                pla
                    .transition()
                    .duration(200)
                    .attr('fill', 'white')
                    .each('end', function () {
                    pla
                        .attr('transform', translatePrevCmd)
                        .attr('fill', exports.lightArrowColor);
                    gutterSVG.find('#prevLineArrow').show(); // show at the end to avoid flickering
                });
            }
            else {
                pla.attr('transform', translatePrevCmd);
                gutterSVG.find('#prevLineArrow').show();
            }
        }
        else {
            gutterSVG.find('#prevLineArrow').hide();
        }
        if (myViz.curLineNumber) {
            var cla = this.domRootD3.select('#curLineArrow');
            var translateCurCmd = 'translate(0, ' + (((myViz.curLineNumber - 1) * this.codeRowHeight) + this.arrowOffsetY + curVerticalNudge) + ')';
            if (smoothTransition) {
                cla
                    .transition()
                    .delay(200)
                    .duration(250)
                    .attr('transform', translateCurCmd);
            }
            else {
                cla.attr('transform', translateCurCmd);
            }
            gutterSVG.find('#curLineArrow').show();
        }
        else {
            gutterSVG.find('#curLineArrow').hide();
        }
        this.domRootD3.selectAll('#pyCodeOutputDiv td.cod')
            .style('border-top', function (d) {
            if (hasError && (d.lineNumber == curEntry.line)) {
                return '1px solid ' + errorColor;
            }
            else {
                return '';
            }
        })
            .style('border-bottom', function (d) {
            // COPY AND PASTE ALERT!
            if (hasError && (d.lineNumber == curEntry.line)) {
                return '1px solid ' + errorColor;
            }
            else {
                return '';
            }
        });
        // returns True iff lineNo is visible in pyCodeOutputDiv
        var isOutputLineVisible = function (lineNo) {
            var lineNoTd = _this.domRoot.find('#lineNo' + lineNo);
            // if we can't even find this lineNo div, then punt!
            if (!lineNoTd || lineNoTd.length /* jQuery selector returns a list */ === 0) {
                return false;
            }
            var LO = lineNoTd.offset().top;
            var PO = pcod.offset().top;
            var ST = pcod.scrollTop();
            var H = pcod.height();
            // add a few pixels of fudge factor on the bottom end due to bottom scrollbar
            return (PO <= LO) && (LO < (PO + H - 30));
        };
        // smoothly scroll pyCodeOutputDiv so that the given line is at the center
        var scrollCodeOutputToLine = function (lineNo) {
            var lineNoTd = _this.domRoot.find('#lineNo' + lineNo);
            // if we can't even find this lineNo div, then punt!
            if (!lineNoTd || lineNoTd.length /* jQuery selector returns a list */ === 0) {
                return false;
            }
            var LO = lineNoTd.offset().top;
            var PO = pcod.offset().top;
            var ST = pcod.scrollTop();
            var H = pcod.height();
            pcod.stop(); // first stop all previously-queued animations
            pcod.animate({ scrollTop: (ST + (LO - PO - (Math.round(H / 2)))) }, 300);
        };
        // smoothly scroll code display
        if (!isOutputLineVisible(curEntry.line)) {
            scrollCodeOutputToLine(curEntry.line);
        }
    };
    return CodeDisplay;
}()); // END class CodeDisplay
var NavigationController = /** @class */ (function () {
    function NavigationController(owner, domRoot, domRootD3, nSteps) {
        var _this = this;
        var myself = this;
        this.owner = owner;
        this.domRoot = domRoot;
        this.domRootD3 = domRootD3;
        this.nSteps = nSteps;
        this.customizeVizOptionsShown = false;
        var navHTML = '<div id="navControlsDiv">\
                     <div id="executionSlider"/>\
                     <div id="executionSliderFooter"/>\
                     <div id="vcrControls">\
                       <button id="jmpFirstInstr", type="button">&lt;&lt; First</button>\
                       <button id="jmpStepBack", type="button">&lt; Prev</button>\
                       <button id="jmpStepFwd", type="button">Next &gt;</button>\
                       <button id="jmpLastInstr", type="button">Last &gt;&gt;</button>\
                     </div>\
                     <div id="curInstr">Step ? of ?</div>\
                     <div id="rawUserInputDiv">\
                       <span id="userInputPromptStr"/>\
                       <input type="text" id="raw_input_textbox" size="30"/>\
                       <button id="raw_input_submit_btn">Submit</button>\
                     </div>\
                     <div id="errorOutput"/>\
                     <div id="creditsPane"></div>\
                     <div id="uiControlsPane"><a id="customizeVizLink" href="#">Customize visualization</a> (<font color="#e93f34">NEW!</font>)</div>\
                   </div>';
        this.domRoot.append(navHTML);
        this.domRoot.find("#jmpFirstInstr").click(function () { _this.owner.renderStep(0); });
        this.domRoot.find("#jmpLastInstr").click(function () { _this.owner.renderStep(_this.nSteps - 1); });
        this.domRoot.find("#jmpStepBack").click(function () { _this.owner.stepBack(); });
        this.domRoot.find("#jmpStepFwd").click(function () { _this.owner.stepForward(); });
        // disable controls initially ...
        this.domRoot.find("#vcrControls #jmpFirstInstr").attr("disabled", true);
        this.domRoot.find("#vcrControls #jmpStepBack").attr("disabled", true);
        this.domRoot.find("#vcrControls #jmpStepFwd").attr("disabled", true);
        this.domRoot.find("#vcrControls #jmpLastInstr").attr("disabled", true);
        var ruiDiv = this.domRoot.find('#rawUserInputDiv');
        ruiDiv.find('#userInputPromptStr').html(this.owner.userInputPromptStr);
        ruiDiv.find('#raw_input_submit_btn').click(function () {
            var userInput = ruiDiv.find('#raw_input_textbox').val();
            // advance instruction count by 1 to get to the NEXT instruction
            _this.owner.params.executeCodeWithRawInputFunc(userInput, _this.owner.curInstr + 1);
        });
        // create customize visualization UI
        var uiControlsPane = this.domRoot.find("#uiControlsPane");
        // expose the customization UI
        uiControlsPane.find("#customizeVizLink").click(function () {
            if (_this.customizeVizOptionsShown) {
                return;
            }
            // do this up top so that renderDataStructures is called,
            // customizeVizOptionsShown is on, so objects get made .draggable()
            _this.customizeVizOptionsShown = true;
            uiControlsPane.append(' \
        <div style="margin-top: 8px;"/>\
          <font color="#e93f34">Warning:</font> Reloading this page loses all changes;\
          customizations <em>NOT</em> shared in URL or chat sessions\
          <p/><b>Drag</b> any object around to move it. Customize its pointers:\
          <div style="margin-top: 12px; margin-bottom: 5px;">\
          Line style:\
          <select id="jsplumbConnectorType">\
            <option value="StateMachine" selected>Default</option>\
            <option value="Bezier">Bezier</option>\
            <option value="Straight">Straight</option>\
            <option value="Flowchart">Flowchart</option>\
          </select>\
          </div>\
          <div class="sliderWrapper">Curve: <input type="range" min="0" max="100" value="10" class="jsplumbOptionSlider" id="smCurviness"><span class="sliderVal">10</span></div>\
          <div class="sliderWrapper">Curve: <input type="range" min="0" max="500" value="150" class="jsplumbOptionSlider" id="bezierCurviness"><span class="sliderVal">150</span></div>\
          <div class="sliderWrapper">Margin: <input type="range" min="0" max="20" value="5" class="jsplumbOptionSlider" id="margin"><span class="sliderVal">5</span></div>\
          <div class="sliderWrapper">Stub: <input type="range" min="0" max="50" value="0" class="jsplumbOptionSlider" id="stub"><span class="sliderVal">0</span></div>\
          <div class="sliderWrapper">Gap: <input type="range" min="0" max="50" value="0" class="jsplumbOptionSlider" id="gap"><span class="sliderVal">0</span></div>\
          <div class="sliderWrapper">Midpoint: <input type="range" min="0" max="10" value="0.5" step="0.5" class="jsplumbOptionSlider" id="midpoint"><span class="sliderVal">0.5</span></div>\
          <div class="sliderWrapper">CornerRadius: <input type="range" min="0" max="10" value="0" class="jsplumbOptionSlider" id="cornerRadius"><span class="sliderVal">0</span></div>\
          <div class="sliderWrapper">Arrow length: <input type="range" min="1" max="30" value="10" class="jsplumbOptionSlider" id="arrowLength"><span class="sliderVal">10</span></div>\
          <div class="sliderWrapper">Arrow width: <input type="range" min="1" max="30" value="7" class="jsplumbOptionSlider" id="arrowWidth"><span class="sliderVal">7</span></div>\
          <div class="sliderWrapper">Arrow fold: <input type="range" min="0" max="1" value="0.55" step="0.05" class="jsplumbOptionSlider" id="arrowFoldback"><span class="sliderVal">0.55</span></div>\
          <div id="selectiveHideDiv" style="margin-top: 15px; padding: 6px 6px 6px 6px; border: 1px solid #ccc;">\
            <b>Hide variables/fields</b> (elements may end up out of order, so reload page to reset)<br/>\
            <button id="updateHideVarsBtn" style="margin-top: 8px;">Update visualization</button>\
            <p/>All choices below; use part after colon to match all variables/fields with that name.<br/>\
            <font color="#e93f34">(Double-check your spelling!)</font>\
            <p/>Hide these variables:<br/>\
            <textarea id="hideVars" rows="3" cols="70"/>\
            <div id="hideVarsChoices" style="width: 500px;"></div>\
            <p style="margin-top: 15px;"/>Hide these object fields:<br/>\
            <textarea id="hideFields" rows="3" cols="70"/>\
            <div id="hideFieldsChoices" style="width: 500px;"></div>\
          </div>\
        </div>\
      ');
            // note that many of these options aren't present in the OLD OLD
            // OLD version of ./lib/jquery.jsPlumb-1.3.10-all-min.js that
            // we're using, so they might not do anything when they're
            // triggered. look at the inline comments/documentation in the source code
            // here for details: lib/jsplumb-1.3.10.zip
            function rerenderJsPlumbConnectors() {
                var connectorType = uiControlsPane.find('#jsplumbConnectorType').val();
                var connectorSpec = null;
                if (connectorType === "StateMachine") {
                    var curviness = uiControlsPane.find('#smCurviness').val();
                    connectorSpec = [connectorType, { curviness: curviness }]; // margin seems to have no effect
                }
                else if (connectorType === "Bezier") {
                    var curviness = uiControlsPane.find('#bezierCurviness').val();
                    connectorSpec = [connectorType, { curviness: curviness }];
                }
                else if (connectorType === "Straight") {
                    connectorSpec = [connectorType]; // stub and gap seem to have no effect
                }
                else {
                    assert(connectorType === "Flowchart");
                    // stub, midpoint, and radius seem to have no effect (actually
                    // stub causes crashes, ergh)
                    var gap = uiControlsPane.find('#gap').val();
                    connectorSpec = [connectorType, { gap: gap }];
                }
                if (connectorSpec) {
                    myself.owner.dataViz.jsPlumbInstance.importDefaults({
                        Connector: connectorSpec,
                        Overlays: [["Arrow", { length: uiControlsPane.find('#arrowLength').val(),
                                    width: uiControlsPane.find('#arrowWidth').val(),
                                    foldback: uiControlsPane.find('#arrowFoldback').val(),
                                    location: 1 // always 1, which means to display at target
                                }
                            ]],
                    });
                    myself.owner.dataViz.renderDataStructures(myself.owner.curInstr); // UGLY!
                }
            }
            // when any slider is moved, update its numeric display and then
            // redraw all jsPlumb connectors with new options
            uiControlsPane.find('.jsplumbOptionSlider').each(function (i, e) {
                e.oninput = function () {
                    $(e).siblings('.sliderVal').html(this.value);
                    rerenderJsPlumbConnectors();
                };
            });
            // show certain sliders depending on value of jsplumbConnectorType
            // use this as a reference:
            // https://community.jsplumbtoolkit.com/doc/connectors.html
            uiControlsPane.find('#jsplumbConnectorType').change(function () {
                var v = $(this).val();
                uiControlsPane.find('.sliderWrapper').hide();
                if (v === "StateMachine") {
                    uiControlsPane.find('#smCurviness').parent('.sliderWrapper').show();
                    /* margin seems to have no effect ...
                    uiControlsPane.find('#margin').parent('.sliderWrapper').show();
                    */
                }
                else if (v === "Bezier") {
                    uiControlsPane.find('#bezierCurviness').parent('.sliderWrapper').show();
                }
                else if (v === "Straight") {
                    /* neither stub nor gap seem to have any effect :/
                    uiControlsPane.find('#stub').val(0).siblings('.sliderVal').html(0); // set default
                    uiControlsPane.find('#stub').parent('.sliderWrapper').show();
                    uiControlsPane.find('#gap').parent('.sliderWrapper').show();
                    */
                }
                else {
                    assert(v === "Flowchart");
                    /* stub seems to be bogus and result in errors
                    uiControlsPane.find('#stub').val(30).siblings('.sliderVal').html(30); // set default
                    uiControlsPane.find('#stub').parent('.sliderWrapper').show();
          
                    // midpoint and cornerRadius seem equally useless
                    uiControlsPane.find('#midpoint').parent('.sliderWrapper').show();
                    uiControlsPane.find('#cornerRadius').parent('.sliderWrapper').show();
                    */
                    uiControlsPane.find('#gap').parent('.sliderWrapper').show();
                }
                // always show arrow stuff
                uiControlsPane.find('#arrowLength,#arrowWidth,#arrowFoldback').parent('.sliderWrapper').show();
                rerenderJsPlumbConnectors(); // re-render based on new connector type choice
            }).val('StateMachine').change(); // <-- trigger a change event on this
            // initial setting to get the change
            // handler above to run
            // set up infrastructure for showing/hiding variables / object fields
            var allVarnames = _this.owner.dataViz.getAllProgramVarnames();
            var allFieldnames = _this.owner.dataViz.getAllProgramObjectFieldNames();
            var varnameChoices = varlistToHtml(allVarnames);
            var fieldnameChoices = varlistToHtml(allFieldnames);
            uiControlsPane.find('#hideVarsChoices').html('<b><em>Choices:</em></b> ' + varnameChoices);
            uiControlsPane.find('#hideFieldsChoices').html('<b><em>Choices:</em></b> ' + fieldnameChoices);
            uiControlsPane.find('#updateHideVarsBtn').click(function () {
                var hideVarsLst = processHideString(uiControlsPane.find('#hideVars').val());
                var hideFieldsLst = processHideString(uiControlsPane.find('#hideFields').val());
                _this.owner.dataViz.selectivelyHideVarsAndFields(hideVarsLst, hideFieldsLst);
            });
            return false; // don't follow the link and reload the page!
        });
    }
    NavigationController.prototype.hideUserInputDiv = function () {
        this.domRoot.find('#rawUserInputDiv').hide();
    };
    NavigationController.prototype.showUserInputDiv = function () {
        this.domRoot.find('#rawUserInputDiv').show();
    };
    NavigationController.prototype.setSliderVal = function (v) {
        // PROGRAMMATICALLY change the value, so evt.originalEvent should be undefined
        this.domRoot.find('#executionSlider').slider('value', v);
    };
    NavigationController.prototype.setVcrControls = function (msg, isFirstInstr, isLastInstr) {
        var vcrControls = this.domRoot.find("#vcrControls");
        vcrControls.find("#jmpFirstInstr").attr("disabled", false);
        vcrControls.find("#jmpStepBack").attr("disabled", false);
        vcrControls.find("#jmpStepFwd").attr("disabled", false);
        vcrControls.find("#jmpLastInstr").attr("disabled", false);
        this.domRoot.find("#curInstr").html(msg);
        if (isFirstInstr) {
            vcrControls.find("#jmpFirstInstr").attr("disabled", true);
            vcrControls.find("#jmpStepBack").attr("disabled", true);
        }
        if (isLastInstr) {
            vcrControls.find("#jmpLastInstr").attr("disabled", true);
            vcrControls.find("#jmpStepFwd").attr("disabled", true);
        }
    };
    NavigationController.prototype.setupSlider = function (maxSliderVal) {
        var _this = this;
        assert(maxSliderVal >= 0);
        var sliderDiv = this.domRoot.find('#executionSlider');
        sliderDiv.slider({ min: 0, max: maxSliderVal, step: 1 });
        // disable keyboard actions on the slider itself (to prevent double-firing
        // of events), and make skinnier and taller
        sliderDiv
            .find(".ui-slider-handle")
            .unbind('keydown')
            .css('width', '0.8em')
            .css('height', '1.4em');
        this.domRoot.find(".ui-widget-content").css('font-size', '0.9em');
        this.domRoot.find('#executionSlider').bind('slide', function (evt, ui) {
            // this is SUPER subtle. if this value was changed programmatically,
            // then evt.originalEvent will be undefined. however, if this value
            // was changed by a user-initiated event, then this code should be
            // executed ...
            if (evt.originalEvent) {
                _this.owner.renderStep(ui.value);
            }
        });
    };
    NavigationController.prototype.renderSliderBreakpoints = function (sortedBreakpointsList) {
        this.domRoot.find("#executionSliderFooter").empty();
        var w = this.domRoot.find('#executionSlider').width();
        // I originally didn't want to delete and re-create this overlay every time,
        // but if I don't do so, there are weird flickering artifacts with clearing
        // the SVG container; so it's best to just delete and re-create the container each time
        var sliderOverlay = this.domRootD3.select('#executionSliderFooter')
            .append('svg')
            .attr('id', 'sliderOverlay')
            .attr('width', w)
            .attr('height', 12);
        var xrange = d3.scale.linear()
            .domain([0, this.nSteps - 1])
            .range([0, w]);
        sliderOverlay.selectAll('rect')
            .data(sortedBreakpointsList)
            .enter().append('rect')
            .attr('x', function (d, i) {
            // make edge case of 0 look decent:
            return (d === 0) ? 0 : xrange(d) - 1;
        })
            .attr('y', 0)
            .attr('width', 2)
            .attr('height', 12)
            .style('fill', function (d) {
            return breakpointColor;
        });
    };
    NavigationController.prototype.showError = function (msg) {
        if (msg) {
            this.domRoot.find("#errorOutput").html(htmlspecialchars(msg) + ("\n      <div style=\"font-size: 11pt; color: #666\">(" + footer_html_1.unsupportedFeaturesStr + ")</div>")).show();
        }
        else {
            this.domRoot.find("#errorOutput").hide();
        }
    };
    return NavigationController;
}()); // END class NavigationController
// Utilities
function assert(cond) {
    if (!cond) {
        console.trace();
        alert("Assertion Failure (see console log for backtrace)");
        throw 'Assertion Failure';
    }
}
exports.assert = assert;
// taken from http://www.toao.net/32-my-htmlspecialchars-function-for-javascript
function htmlspecialchars(str) {
    if (typeof (str) == "string") {
        str = str.replace(/&/g, "&amp;"); /* must do &amp; first */
        // ignore these for now ...
        //str = str.replace(/"/g, "&quot;");
        //str = str.replace(/'/g, "&#039;");
        str = str.replace(/</g, "&lt;");
        str = str.replace(/>/g, "&gt;");
        // replace spaces:
        str = str.replace(/ /g, "&nbsp;");
        // replace tab as four spaces:
        str = str.replace(/\t/g, "&nbsp;&nbsp;&nbsp;&nbsp;");
        // replace newline as <br/>
        str = str.replace(newlineAllRegex, '<br/>');
    }
    return str;
}
exports.htmlspecialchars = htmlspecialchars;
// same as htmlspecialchars except don't worry about expanding spaces or
// tabs since we want proper word wrapping in divs.
function htmlsanitize(str) {
    if (typeof (str) == "string") {
        str = str.replace(/&/g, "&amp;"); /* must do &amp; first */
        str = str.replace(/</g, "&lt;");
        str = str.replace(/>/g, "&gt;");
    }
    return str;
}
String.prototype /* TS too strict */.rtrim = function () {
    return this.replace(/\s*$/g, "");
};
// make sure varname doesn't contain any weird
// characters that are illegal for CSS ID's ...
//
// I know for a fact that iterator tmp variables named '_[1]'
// are NOT legal names for CSS ID's.
// I also threw in '{', '}', '(', ')', '<', '>' as illegal characters.
//
// also some variable names are like '.0' (for generator expressions),
// and '.' seems to be illegal.
//
// also '=', '!', and '?' are common in Ruby names, so escape those as well
// '$' sometimes found in JavaScript names, so escape as well
//
// also spaces are illegal, so convert to '_'
// TODO: what other characters are illegal???
var lbRE = new RegExp('\\[|{|\\(|<', 'g');
var rbRE = new RegExp('\\]|}|\\)|>', 'g');
function varnameToCssID(varname) {
    // make sure to REPLACE ALL (using the 'g' option)
    // rather than just replacing the first entry
    return varname.replace(lbRE, 'LeftB_')
        .replace(rbRE, '_RightB')
        .replace(/[!]/g, '_BANG_')
        .replace(/[?]/g, '_QUES_')
        .replace(/[:]/g, '_COLON_')
        .replace(/[=]/g, '_EQ_')
        .replace(/[.]/g, '_DOT_')
        .replace(/[$]/g, '_DOLLAR_')
        .replace(/ /g, '_');
}
function isHeapRef(obj, heap) {
    // ordinary REF
    if (obj[0] === 'REF') {
        return (heap[obj[1]] !== undefined);
    }
    else if (obj[0] === 'C_DATA' && obj[2] === 'pointer') {
        // C-style pointer that has a valid value
        if (obj[3] != '<UNINITIALIZED>' && obj[3] != '<UNALLOCATED>') {
            return (heap[obj[3]] !== undefined);
        }
    }
    return false;
}
function getRefID(obj) {
    if (obj[0] == 'REF') {
        return obj[1];
    }
    else {
        assert(obj[0] === 'C_DATA' && obj[2] === 'pointer');
        assert(obj[3] != '<UNINITIALIZED>' && obj[3] != '<UNALLOCATED>');
        return obj[3]; // pointed-to address
    }
}

/* WEBPACK VAR INJECTION */}.call(exports, __nested_webpack_require_98593__(0), __nested_webpack_require_98593__(0)))

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.privacyAndEndingHTML = "\n\n<p style=\"margin-top: 30px;\">Privacy Policy: By using Python Tutor, your\nvisualized code, options, user interactions, text chats, and IP address\nare logged on our server and may be analyzed for research purposes.\nNearly all web services collect this basic information from users in\ntheir server logs. However, Python Tutor does not collect any personally\nidentifiable information from its users. It uses Google Analytics for\nwebsite analytics.</p>\n\n<p>Terms of Service: The Python Tutor service is provided for free on an\nas-is basis. Use this service at your own risk. Do not use it to share\nconfidential information. The developers of Python Tutor are not\nresponsible for the chat messages or behaviors of any of the users on\nthis website. We are also not responsible for any damages caused by\nusing this website. Finally, it is your responsibility to follow\nappropriate academic integrity standards.</p>\n\n<p style=\"margin-top: 25px;\">\nCopyright &copy; <a href=\"http://www.pgbovine.net/\">Philip Guo</a>.  All rights reserved.\n</p>";
exports.footerHtml = "\n<p style=\"margin-top: 20px; margin-bottom: 30px;\"><a href=\"https://github.com/pgbovine/OnlinePythonTutor/blob/master/unsupported-features.md\" target=\"_blank\">unsupported features</a> |\n<a href=\"https://www.youtube.com/watch?v=80ztTXP90Vs&list=PLzV58Zm8FuBL2WxxZKGZ6j1dH8NKb_HYI&index=5\" target=\"_blank\">setting breakpoints</a> |\n<a href=\"https://www.youtube.com/watch?v=Mxt9HZWgwAM&list=PLzV58Zm8FuBL2WxxZKGZ6j1dH8NKb_HYI&index=6\" target=\"_blank\">hiding variables</a> |\n<a href=\"https://www.youtube.com/watch?v=JjGt95Te0wo&index=3&list=PLzV58Zm8FuBL2WxxZKGZ6j1dH8NKb_HYI\" target=\"_blank\">live programming</a>\n</p>\n\n<p>\n  <button id=\"genUrlBtn\" class=\"smallBtn\" type=\"button\">Generate permanent link</button> <input type=\"text\" id=\"urlOutput\" size=\"60\"/>\n(<a href=\"https://www.youtube.com/watch?v=h4q3UKdEFKE\" target=\"_blank\">video demo</a>)\n</p>\n\n<div id=\"embedLinkDiv\">\n<p>\n  <button id=\"genEmbedBtn\" class=\"smallBtn\" type=\"button\">Generate embed code</button> <input type=\"text\" id=\"embedCodeOutput\" size=\"60\"/> (also supports https://)\n</p>\n</div>\n\n<p style=\"margin-top: 25px;\">\n<a href=\"http://pythontutor.com/\">Python Tutor</a> (<a href=\"https://github.com/pgbovine/OnlinePythonTutor\">code on GitHub</a>) supports:\n\nPython <a href=\"https://docs.python.org/3.6/\">3.6</a> and <a\nhref=\"https://docs.python.org/2.7/\">2.7</a> with limited imports\n(__future__, abc, array, bisect, calendar,\ncmath, collections, copy, datetime, decimal,\ndoctest, fractions, functools, hashlib, heapq,\nio, itertools, json, locale, math,\noperator, pickle, pprint, random, re,\nstring, time, types, unittest, StringIO (Python 2), typing (Python 3)),\n\nOracle Java 8 (implemented by <a href=\"https://github.com/daveagp\">David Pritchard</a> and Will Gwozdz,\nsupports\n<code><a href=\"http://introcs.cs.princeton.edu/java/stdlib/javadoc/StdIn.html\">StdIn</a></code>, \n<code><a href=\"http://introcs.cs.princeton.edu/java/stdlib/javadoc/StdOut.html\">StdOut</a></code>, \nmost other <a href=\"http://introcs.cs.princeton.edu/java/stdlib\"><tt>stdlib</tt> libraries</a>,\n<a href=\"http://introcs.cs.princeton.edu/java/43stack/Stack.java.html\"><tt>Stack</tt></a>,\n<a href=\"http://introcs.cs.princeton.edu/java/43stack/Queue.java.html\"><tt>Queue</tt></a>,\nand <a href=\"http://introcs.cs.princeton.edu/java/44st/ST.java.html\"><tt>ST</tt></a>.\nTo access built-in <tt>Stack</tt>/<tt>Queue</tt> classes, write:\n<tt>import java.util.Stack;</tt> This won't work: <tt>import\njava.util.*;</tt>),\n\nJavaScript ES6 and TypeScript 1.4.1 (Node.js v6.0.0), Ruby 2 (MRI 2.2.2), C and C++ (gcc 4.8, C11/C++11, Valgrind Memcheck)</p>\n\n" + exports.privacyAndEndingHTML;
exports.nullTraceErrorLst = [
    "Unknown error: The server is OVERLOADED or your code has UNSUPPORTED FEATURES.",
    "Try again later. This site is free with NO available technical support. [#NullTrace]"
];
exports.unsupportedFeaturesStr = 'see <a target="_blank" href="https://github.com/pgbovine/OnlinePythonTutor/blob/master/unsupported-features.md">UNSUPPORTED FEATURES</a>';


/***/ }),
/* 6 */
/***/ (function(module, exports, __nested_webpack_require_313999__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {/*
 * jQuery doTimeout: Like setTimeout, but better! - v1.0 - 3/3/2010
 * http://benalman.com/projects/jquery-dotimeout-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($){var a={},c="doTimeout",d=Array.prototype.slice;$[c]=function(){return b.apply(window,[0].concat(d.call(arguments)))};$.fn[c]=function(){var f=d.call(arguments),e=b.apply(this,[c+f[0]].concat(f));return typeof f[0]==="number"||typeof f[1]==="number"?this:e};function b(l){var m=this,h,k={},g=l?$.fn:$,n=arguments,i=4,f=n[1],j=n[2],p=n[3];if(typeof f!=="string"){i--;f=l=0;j=n[1];p=n[2]}if(l){h=m.eq(0);h.data(l,k=h.data(l)||{})}else{if(f){k=a[f]||(a[f]={})}}k.id&&clearTimeout(k.id);delete k.id;function e(){if(l){h.removeData(l)}else{if(f){delete a[f]}}}function o(){k.id=setTimeout(function(){k.fn()},j)}if(p){k.fn=function(q){if(typeof p==="string"){p=g[p]}p.apply(m,d.call(n,i))===true&&!q?o():e()};o()}else{if(k.fn){j===undefined?e():k.fn(j===false);return true}else{e()}}}})(jQuery);
/* WEBPACK VAR INJECTION */}.call(exports, __nested_webpack_require_313999__(0)))

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function (url, options) {
  if (!options) {
    // eslint-disable-next-line no-param-reassign
    options = {};
  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign


  url = url && url.__esModule ? url.default : url;

  if (typeof url !== 'string') {
    return url;
  } // If url is already wrapped in quotes, remove them


  if (/^['"].*['"]$/.test(url)) {
    // eslint-disable-next-line no-param-reassign
    url = url.slice(1, -1);
  }

  if (options.hash) {
    // eslint-disable-next-line no-param-reassign
    url += options.hash;
  } // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls


  if (/["'() \t\n]/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, '\\n'), "\"");
  }

  return url;
};

/***/ }),
/* 8 */
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(exports, {}))

/***/ }),
/* 9 */
/***/ (function(module, exports) {

(function(){function d(a,b){try{for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}catch(d){a.prototype=b}}function f(a){var b=-1,c=a.length,d=[];while(++b<c)d.push(a[b]);return d}function g(a){return Array.prototype.slice.call(a)}function j(){}function m(a){return a}function n(){return this}function o(){return!0}function p(a){return typeof a=="function"?a:function(){return a}}function q(a,b,c){return function(){var d=c.apply(b,arguments);return arguments.length?a:d}}function r(a){return a!=null&&!isNaN(a)}function s(a){return a.length}function u(a){return a==null}function v(a){return a.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ")}function w(a){var b=1;while(a*b%1)b*=10;return b}function z(){}function A(a){function d(){var c=b,d=-1,e=c.length,f;while(++d<e)(f=c[d].on)&&f.apply(this,arguments);return a}var b=[],c=new j;return d.on=function(d,e){var f=c.get(d),g;return arguments.length<2?f&&f.on:(f&&(f.on=null,b=b.slice(0,g=b.indexOf(f)).concat(b.slice(g+1)),c.remove(d)),e&&b.push(c.set(d,{on:e})),a)},d}function D(a,b){return b-(a?1+Math.floor(Math.log(a+Math.pow(10,1+Math.floor(Math.log(a)/Math.LN10)-b))/Math.LN10):1)}function E(a){return a+""}function F(a){var b=a.lastIndexOf("."),c=b>=0?a.substring(b):(b=a.length,""),d=[];while(b>0)d.push(a.substring(b-=3,b+3));return d.reverse().join(",")+c}function H(a,b){var c=Math.pow(10,Math.abs(8-b)*3);return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function N(a){return function(b){return b<=0?0:b>=1?1:a(b)}}function O(a){return function(b){return 1-a(1-b)}}function P(a){return function(b){return.5*(b<.5?a(2*b):2-a(2-2*b))}}function Q(a){return a}function R(a){return function(b){return Math.pow(b,a)}}function S(a){return 1-Math.cos(a*Math.PI/2)}function T(a){return Math.pow(2,10*(a-1))}function U(a){return 1-Math.sqrt(1-a*a)}function V(a,b){var c;return arguments.length<2&&(b=.45),arguments.length<1?(a=1,c=b/4):c=b/(2*Math.PI)*Math.asin(1/a),function(d){return 1+a*Math.pow(2,10*-d)*Math.sin((d-c)*2*Math.PI/b)}}function W(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function X(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Y(){d3.event.stopPropagation(),d3.event.preventDefault()}function Z(){var a=d3.event,b;while(b=a.sourceEvent)a=b;return a}function $(a){var b=new z,c=0,d=arguments.length;while(++c<d)b[arguments[c]]=A(b);return b.of=function(c,d){return function(e){try{var f=e.sourceEvent=d3.event;e.target=a,d3.event=e,b[e.type].apply(c,d)}finally{d3.event=f}}},b}function ba(a){return a=="transform"?d3.interpolateTransform:d3.interpolate}function bb(a,b){return b=b-(a=+a)?1/(b-a):0,function(c){return(c-a)*b}}function bc(a,b){return b=b-(a=+a)?1/(b-a):0,function(c){return Math.max(0,Math.min(1,(c-a)*b))}}function bd(a,b,c){return new be(a,b,c)}function be(a,b,c){this.r=a,this.g=b,this.b=c}function bf(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function bg(a,b,c){var d=0,e=0,f=0,g,h,i;g=/([a-z]+)\((.*)\)/i.exec(a);if(g){h=g[2].split(",");switch(g[1]){case"hsl":return c(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100);case"rgb":return b(bi(h[0]),bi(h[1]),bi(h[2]))}}return(i=bj.get(a))?b(i.r,i.g,i.b):(a!=null&&a.charAt(0)==="#"&&(a.length===4?(d=a.charAt(1),d+=d,e=a.charAt(2),e+=e,f=a.charAt(3),f+=f):a.length===7&&(d=a.substring(1,3),e=a.substring(3,5),f=a.substring(5,7)),d=parseInt(d,16),e=parseInt(e,16),f=parseInt(f,16)),b(d,e,f))}function bh(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),f=e-d,g,h,i=(e+d)/2;return f?(h=i<.5?f/(e+d):f/(2-e-d),a==e?g=(b-c)/f+(b<c?6:0):b==e?g=(c-a)/f+2:g=(a-b)/f+4,g*=60):h=g=0,bk(g,h,i)}function bi(a){var b=parseFloat(a);return a.charAt(a.length-1)==="%"?Math.round(b*2.55):b}function bk(a,b,c){return new bl(a,b,c)}function bl(a,b,c){this.h=a,this.s=b,this.l=c}function bm(a,b,c){function f(a){return a>360?a-=360:a<0&&(a+=360),a<60?d+(e-d)*a/60:a<180?e:a<240?d+(e-d)*(240-a)/60:d}function g(a){return Math.round(f(a)*255)}var d,e;return a%=360,a<0&&(a+=360),b=b<0?0:b>1?1:b,c=c<0?0:c>1?1:c,e=c<=.5?c*(1+b):c+b-c*b,d=2*c-e,bd(g(a+120),g(a),g(a-120))}function bn(a){return i(a,bt),a}function bu(a){return function(){return bo(a,this)}}function bv(a){return function(){return bp(a,this)}}function bw(a,b){function f(){if(b=this.classList)return b.add(a);var b=this.className,d=b.baseVal!=null,e=d?b.baseVal:b;c.lastIndex=0,c.test(e)||(e=v(e+" "+a),d?b.baseVal=e:this.className=e)}function g(){if(b=this.classList)return b.remove(a);var b=this.className,d=b.baseVal!=null,e=d?b.baseVal:b;e=v(e.replace(c," ")),d?b.baseVal=e:this.className=e}function h(){(b.apply(this,arguments)?f:g).call(this)}var c=new RegExp("(^|\\s+)"+d3.requote(a)+"(\\s+|$)","g");if(arguments.length<2){var d=this.node();if(e=d.classList)return e.contains(a);var e=d.className;return c.lastIndex=0,c.test(e.baseVal!=null?e.baseVal:e)}return this.each(typeof b=="function"?h:b?f:g)}function bx(a){return{__data__:a}}function by(a){return function(){return bs(this,a)}}function bz(a){return arguments.length||(a=d3.ascending),function(b,c){return a(b&&b.__data__,c&&c.__data__)}}function bA(a,b){for(var c=0,d=a.length;c<d;c++)for(var e=a[c],f=0,g=e.length,h;f<g;f++)(h=e[f])&&b(h,f,c);return a}function bC(a){return i(a,bD),a}function bE(a,b,c){i(a,bI);var d=new j,e=d3.dispatch("start","end"),f=bQ;return a.id=b,a.time=c,a.tween=function(b,c){return arguments.length<2?d.get(b):(c==null?d.remove(b):d.set(b,c),a)},a.ease=function(b){return arguments.length?(f=typeof b=="function"?b:d3.ease.apply(d3,arguments),a):f},a.each=function(b,c){return arguments.length<2?bR.call(a,b):(e.on(b,c),a)},d3.timer(function(g){return bA(a,function(a,h,i){function o(f){return m.active>b?q():(m.active=b,d.forEach(function(b,c){(c=c.call(a,n,h))&&j.push(c)}),e.start.call(a,n,h),p(f)||d3.timer(p,0,c),1)}function p(c){if(m.active!==b)return q();var d=(c-k)/l,g=f(d),i=j.length;while(i>0)j[--i].call(a,g);if(d>=1)return q(),bK=b,e.end.call(a,n,h),bK=0,1}function q(){return--m.count||delete a.__transition__,1}var j=[],k=a.delay,l=a.duration,m=(a=a.node).__transition__||(a.__transition__={active:0,count:0}),n=a.__data__;++m.count,k<=g?o(g):d3.timer(o,k,c)})},0,c),a}function bG(a,b,c){return c!=""&&bF}function bH(a,b){function d(a,d,e){var f=b.call(this,a,d);return f==null?e!=""&&bF:e!=f&&c(e,f)}function e(a,d,e){return e!=b&&c(e,b)}var c=ba(a);return typeof b=="function"?d:b==null?bG:(b+="",e)}function bR(a){var b=bK,c=bQ,d=bO,e=bP;return bK=this.id,bQ=this.ease(),bA(this,function(b,c,d){bO=b.delay,bP=b.duration,a.call(b=b.node,b.__data__,c,d)}),bK=b,bQ=c,bO=d,bP=e,this}function bV(){var a,b=Date.now(),c=bS;while(c)a=b-c.then,a>=c.delay&&(c.flush=c.callback(a)),c=c.next;var d=bW()-b;d>24?(isFinite(d)&&(clearTimeout(bU),bU=setTimeout(bV,d)),bT=0):(bT=1,bX(bV))}function bW(){var a=null,b=bS,c=Infinity;while(b)b.flush?b=a?a.next=b.next:bS=b.next:(c=Math.min(c,b.then+b.delay),b=(a=b).next);return c}function bY(a){var b=[a.a,a.b],c=[a.c,a.d],d=b$(b),e=bZ(b,c),f=b$(b_(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*ca,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*ca:0}function bZ(a,b){return a[0]*b[0]+a[1]*b[1]}function b$(a){var b=Math.sqrt(bZ(a,a));return b&&(a[0]/=b,a[1]/=b),b}function b_(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function cc(a,b){var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();if(cb<0&&(window.scrollX||window.scrollY)){c=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var e=c[0][0].getScreenCTM();cb=!e.f&&!e.e,c.remove()}return cb?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY),d=d.matrixTransform(a.getScreenCTM().inverse()),[d.x,d.y]}var f=a.getBoundingClientRect();return[b.clientX-f.left-a.clientLeft,b.clientY-f.top-a.clientTop]}function cd(){}function ce(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function cf(a){return a.rangeExtent?a.rangeExtent():ce(a.range())}function cg(a,b){var c=0,d=a.length-1,e=a[c],f=a[d],g;f<e&&(g=c,c=d,d=g,g=e,e=f,f=g);if(g=f-e)b=b(g),a[c]=b.floor(e),a[d]=b.ceil(f);return a}function ch(){return Math}function ci(a,b,c,d){function g(){var g=Math.min(a.length,b.length)>2?cp:co,i=d?bc:bb;return e=g(a,b,i,c),f=g(b,a,i,d3.interpolate),h}function h(a){return e(a)}var e,f;return h.invert=function(a){return f(a)},h.domain=function(b){return arguments.length?(a=b.map(Number),g()):a},h.range=function(a){return arguments.length?(b=a,g()):b},h.rangeRound=function(a){return h.range(a).interpolate(d3.interpolateRound)},h.clamp=function(a){return arguments.length?(d=a,g()):d},h.interpolate=function(a){return arguments.length?(c=a,g()):c},h.ticks=function(b){return cm(a,b)},h.tickFormat=function(b){return cn(a,b)},h.nice=function(){return cg(a,ck),g()},h.copy=function(){return ci(a,b,c,d)},g()}function cj(a,b){return d3.rebind(a,b,"range","rangeRound","interpolate","clamp")}function ck(a){return a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1),{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}}function cl(a,b){var c=ce(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return f<=.15?e*=10:f<=.35?e*=5:f<=.75&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+e*.5,c[2]=e,c}function cm(a,b){return d3.range.apply(d3,cl(a,b))}function cn(a,b){return d3.format(",."+Math.max(0,-Math.floor(Math.log(cl(a,b)[2])/Math.LN10+.01))+"f")}function co(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function cp(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());while(++g<=h)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=d3.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function cq(a,b){function d(c){return a(b(c))}var c=b.pow;return d.invert=function(b){return c(a.invert(b))},d.domain=function(e){return arguments.length?(b=e[0]<0?ct:cs,c=b.pow,a.domain(e.map(b)),d):a.domain().map(c)},d.nice=function(){return a.domain(cg(a.domain(),ch)),d},d.ticks=function(){var d=ce(a.domain()),e=[];if(d.every(isFinite)){var f=Math.floor(d[0]),g=Math.ceil(d[1]),h=c(d[0]),i=c(d[1]);if(b===ct){e.push(c(f));for(;f++<g;)for(var j=9;j>0;j--)e.push(c(f)*j)}else{for(;f<g;f++)for(var j=1;j<10;j++)e.push(c(f)*j);e.push(c(f))}for(f=0;e[f]<h;f++);for(g=e.length;e[g-1]>i;g--);e=e.slice(f,g)}return e},d.tickFormat=function(a,e){arguments.length<2&&(e=cr);if(arguments.length<1)return e;var f=Math.max(.1,a/d.ticks().length),g=b===ct?(h=-1e-12,Math.floor):(h=1e-12,Math.ceil),h;return function(a){return a/c(g(b(a)+h))<=f?e(a):""}},d.copy=function(){return cq(a.copy(),b)},cj(d,a)}function cs(a){return Math.log(a<0?0:a)/Math.LN10}function ct(a){return-Math.log(a>0?0:-a)/Math.LN10}function cu(a,b){function e(b){return a(c(b))}var c=cv(b),d=cv(1/b);return e.invert=function(b){return d(a.invert(b))},e.domain=function(b){return arguments.length?(a.domain(b.map(c)),e):a.domain().map(d)},e.ticks=function(a){return cm(e.domain(),a)},e.tickFormat=function(a){return cn(e.domain(),a)},e.nice=function(){return e.domain(cg(e.domain(),ck))},e.exponent=function(a){if(!arguments.length)return b;var f=e.domain();return c=cv(b=a),d=cv(1/b),e.domain(f)},e.copy=function(){return cu(a.copy(),b)},cj(e,a)}function cv(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function cw(a,b){function f(b){return d[((c.get(b)||c.set(b,a.push(b)))-1)%d.length]}function g(b,c){return d3.range(a.length).map(function(a){return b+c*a})}var c,d,e;return f.domain=function(d){if(!arguments.length)return a;a=[],c=new j;var e=-1,g=d.length,h;while(++e<g)c.has(h=d[e])||c.set(h,a.push(h));return f[b.t](b.x,b.p)},f.range=function(a){return arguments.length?(d=a,e=0,b={t:"range",x:a},f):d},f.rangePoints=function(c,h){arguments.length<2&&(h=0);var i=c[0],j=c[1],k=(j-i)/(a.length-1+h);return d=g(a.length<2?(i+j)/2:i+k*h/2,k),e=0,b={t:"rangePoints",x:c,p:h},f},f.rangeBands=function(c,h){arguments.length<2&&(h=0);var i=c[1]<c[0],j=c[i-0],k=c[1-i],l=(k-j)/(a.length+h);return d=g(j+l*h,l),i&&d.reverse(),e=l*(1-h),b={t:"rangeBands",x:c,p:h},f},f.rangeRoundBands=function(c,h){arguments.length<2&&(h=0);var i=c[1]<c[0],j=c[i-0],k=c[1-i],l=Math.floor((k-j)/(a.length+h)),m=k-j-(a.length-h)*l;return d=g(j+Math.round(m/2),l),i&&d.reverse(),e=Math.round(l*(1-h)),b={t:"rangeRoundBands",x:c,p:h},f},f.rangeBand=function(){return e},f.rangeExtent=function(){return ce(b.x)},f.copy=function(){return cw(a,b)},f.domain(a)}function cB(a,b){function d(){var d=0,f=a.length,g=b.length;c=[];while(++d<g)c[d-1]=d3.quantile(a,d/g);return e}function e(a){return isNaN(a=+a)?NaN:b[d3.bisect(c,a)]}var c;return e.domain=function(b){return arguments.length?(a=b.filter(function(a){return!isNaN(a)}).sort(d3.ascending),d()):a},e.range=function(a){return arguments.length?(b=a,d()):b},e.quantiles=function(){return c},e.copy=function(){return cB(a,b)},d()}function cC(a,b,c){function f(b){return c[Math.max(0,Math.min(e,Math.floor(d*(b-a))))]}function g(){return d=c.length/(b-a),e=c.length-1,f}var d,e;return f.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],g()):[a,b]},f.range=function(a){return arguments.length?(c=a,g()):c},f.copy=function(){return cC(a,b,c)},g()}function cD(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return cm(a,b)},b.tickFormat=function(b){return cn(a,b)},b.copy=function(){return cD(a)},b}function cG(a){return a.innerRadius}function cH(a){return a.outerRadius}function cI(a){return a.startAngle}function cJ(a){return a.endAngle}function cK(a){function h(e){function o(){h.push("M",f(a(i),g))}var h=[],i=[],j=-1,k=e.length,l,m=p(b),n=p(c);while(++j<k)d.call(this,l=e[j],j)?i.push([+m.call(this,l,j),+n.call(this,l,j)]):i.length&&(o(),i=[]);return i.length&&o(),h.length?h.join(""):null}var b=cL,c=cM,d=o,e=cN,f=cP,g=.7;return h.x=function(a){return arguments.length?(b=a,h):b},h.y=function(a){return arguments.length?(c=a,h):c},h.defined=function(a){return arguments.length?(d=a,h):d},h.interpolate=function(a){return arguments.length?(cO.has(a+="")||(a=cN),f=cO.get(e=a),h):e},h.tension=function(a){return arguments.length?(g=a,h):g},h}function cL(a){return a[0]}function cM(a){return a[1]}function cP(a){var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];while(++b<c)e.push("L",(d=a[b])[0],",",d[1]);return e.join("")}function cQ(a){var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];while(++b<c)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function cR(a){var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];while(++b<c)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function cS(a,b){return a.length<4?cP(a):a[1]+cV(a.slice(1,a.length-1),cW(a,b))}function cT(a,b){return a.length<3?cP(a):a[0]+cV((a.push(a[0]),a),cW([a[a.length-2]].concat(a,[a[1]]),b))}function cU(a,b,c){return a.length<3?cP(a):a[0]+cV(a,cW(a,b))}function cV(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return cP(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;c&&(d+="Q"+(f[0]-g[0]*2/3)+","+(f[1]-g[1]*2/3)+","+f[0]+","+f[1],e=a[1],i=2);if(b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+h[0]*2/3)+","+(f[1]+h[1]*2/3)+","+k[0]+","+k[1]}return d}function cW(a,b){var c=[],d=(1-b)/2,e,f=a[0],g=a[1],h=1,i=a.length;while(++h<i)e=f,f=g,g=a[h],c.push([d*(g[0]-e[0]),d*(g[1]-e[1])]);return c}function cX(a){if(a.length<3)return cP(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f];dd(i,g,h);while(++b<c)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),dd(i,g,h);b=-1;while(++b<2)g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),dd(i,g,h);return i.join("")}function cY(a){if(a.length<4)return cP(a);var b=[],c=-1,d=a.length,e,f=[0],g=[0];while(++c<3)e=a[c],f.push(e[0]),g.push(e[1]);b.push(c_(dc,f)+","+c_(dc,g)),--c;while(++c<d)e=a[c],f.shift(),f.push(e[0]),g.shift(),g.push(e[1]),dd(b,f,g);return b.join("")}function cZ(a){var b,c=-1,d=a.length,e=d+4,f,g=[],h=[];while(++c<4)f=a[c%d],g.push(f[0]),h.push(f[1]);b=[c_(dc,g),",",c_(dc,h)],--c;while(++c<e)f=a[c%d],g.shift(),g.push(f[0]),h.shift(),h.push(f[1]),dd(b,g,h);return b.join("")}function c$(a,b){var c=a.length-1;if(c){var d=a[0][0],e=a[0][1],f=a[c][0]-d,g=a[c][1]-e,h=-1,i,j;while(++h<=c)i=a[h],j=h/c,i[0]=b*i[0]+(1-b)*(d+j*f),i[1]=b*i[1]+(1-b)*(e+j*g)}return cX(a)}function c_(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function dd(a,b,c){a.push("C",c_(da,b),",",c_(da,c),",",c_(db,b),",",c_(db,c),",",c_(dc,b),",",c_(dc,c))}function de(a,b){return(b[1]-a[1])/(b[0]-a[0])}function df(a){var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=de(e,f);while(++b<c)d[b]=g+(g=de(e=f,f=a[b+1]));return d[b]=g,d}function dg(a){var b=[],c,d,e,f,g=df(a),h=-1,i=a.length-1;while(++h<i)c=de(a[h],a[h+1]),Math.abs(c)<1e-6?g[h]=g[h+1]=0:(d=g[h]/c,e=g[h+1]/c,f=d*d+e*e,f>9&&(f=c*3/Math.sqrt(f),g[h]=f*d,g[h+1]=f*e));h=-1;while(++h<=i)f=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),b.push([f||0,g[h]*f||0]);return b}function dh(a){return a.length<3?cP(a):a[0]+cV(a,dg(a))}function di(a){var b,c=-1,d=a.length,e,f;while(++c<d)b=a[c],e=b[0],f=b[1]+cE,b[0]=e*Math.cos(f),b[1]=e*Math.sin(f);return a}function dj(a){function l(g){function y(){l.push("M",h(a(n),k),j,i(a(m.reverse()),k),"Z")}var l=[],m=[],n=[],o=-1,q=g.length,r,s=p(b),t=p(d),u=b===c?function(){return w}:p(c),v=d===e?function(){return x}:p(e),w,x;while(++o<q)f.call(this,r=g[o],o)?(m.push([w=+s.call(this,r,o),x=+t.call(this,r,o)]),n.push([+u.call(this,r,o),+v.call(this,r,o)])):m.length&&(y(),m=[],n=[]);return m.length&&y(),l.length?l.join(""):null}var b=cL,c=cL,d=0,e=cM,f=o,g=cN,h=cP,i=cP,j="L",k=.7;return l.x=function(a){return arguments.length?(b=c=a,l):c},l.x0=function(a){return arguments.length?(b=a,l):b},l.x1=function(a){return arguments.length?(c=a,l):c},l.y=function(a){return arguments.length?(d=e=a,l):e},l.y0=function(a){return arguments.length?(d=a,l):d},l.y1=function(a){return arguments.length?(e=a,l):e},l.defined=function(a){return arguments.length?(f=a,l):f},l.interpolate=function(a){return arguments.length?(cO.has(a+="")||(a=cN),h=cO.get(g=a),i=h.reverse||h,j=/-closed$/.test(a)?"M":"L",l):g},l.tension=function(a){return arguments.length?(k=a,l):k},l}function dk(a){return a.source}function dl(a){return a.target}function dm(a){return a.radius}function dn(a){return a.startAngle}function dp(a){return a.endAngle}function dq(a){return[a.x,a.y]}function dr(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]+cE;return[c*Math.cos(d),c*Math.sin(d)]}}function ds(){return 64}function dt(){return"circle"}function du(a){var b=Math.sqrt(a/Math.PI);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+ -b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function dy(a,b){a.attr("transform",function(a){return"translate("+b(a)+",0)"})}function dz(a,b){a.attr("transform",function(a){return"translate(0,"+b(a)+")"})}function dA(a,b,c){e=[];if(c&&b.length>1){var d=ce(a.domain()),e,f=-1,g=b.length,h=(b[1]-b[0])/++c,i,j;while(++f<g)for(i=c;--i>0;)(j=+b[f]-i*h)>=d[0]&&e.push(j);for(--f,i=0;++i<c&&(j=+b[f]+i*h)<d[1];)e.push(j)}return e}function dF(){dD||(dD=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var a=d3.event,b;try{dD.scrollTop=1e3,dD.dispatchEvent(a),b=1e3-dD.scrollTop}catch(c){b=a.wheelDelta||-a.detail*5}return b}function dG(a){var b=a.source,c=a.target,d=dI(b,c),e=[b];while(b!==d)b=b.parent,e.push(b);var f=e.length;while(c!==d)e.splice(f,0,c),c=c.parent;return e}function dH(a){var b=[],c=a.parent;while(c!=null)b.push(a),a=c,c=c.parent;return b.push(a),b}function dI(a,b){if(a===b)return a;var c=dH(a),d=dH(b),e=c.pop(),f=d.pop(),g=null;while(e===f)g=e,e=c.pop(),f=d.pop();return g}function dL(a){a.fixed|=2}function dM(a){a!==dK&&(a.fixed&=1)}function dN(){dK.fixed&=1,dJ=dK=null}function dO(){dK.px=d3.event.x,dK.py=d3.event.y,dJ.resume()}function dP(a,b,c){var d=0,e=0;a.charge=0;if(!a.leaf){var f=a.nodes,g=f.length,h=-1,i;while(++h<g){i=f[h];if(i==null)continue;dP(i,b,c),a.charge+=i.charge,d+=i.charge*i.cx,e+=i.charge*i.cy}}if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function dQ(a){return 20}function dR(a){return 1}function dT(a){return a.x}function dU(a){return a.y}function dV(a,b,c){a.y0=b,a.y=c}function dY(a){return d3.range(a.length)}function dZ(a){var b=-1,c=a[0].length,d=[];while(++b<c)d[b]=0;return d}function d$(a){var b=1,c=0,d=a[0][1],e,f=a.length;for(;b<f;++b)(e=a[b][1])>d&&(c=b,d=e);return c}function d_(a){return a.reduce(ea,0)}function ea(a,b){return a+b[1]}function eb(a,b){return ec(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function ec(a,b){var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];while(++c<=b)f[c]=e*c+d;return f}function ed(a){return[d3.min(a),d3.max(a)]}function ee(a,b){return d3.rebind(a,b,"sort","children","value"),a.links=ei,a.nodes=function(b){return ej=!0,(a.nodes=a)(b)},a}function ef(a){return a.children}function eg(a){return a.value}function eh(a,b){return b.value-a.value}function ei(a){return d3.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function ek(a,b){return a.value-b.value}function el(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function em(a,b){a._pack_next=b,b._pack_prev=a}function en(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return e*e-c*c-d*d>.001}function eo(a){function l(a){b=Math.min(a.x-a.r,b),c=Math.max(a.x+a.r,c),d=Math.min(a.y-a.r,d),e=Math.max(a.y+a.r,e)}var b=Infinity,c=-Infinity,d=Infinity,e=-Infinity,f=a.length,g,h,i,j,k;a.forEach(ep),g=a[0],g.x=-g.r,g.y=0,l(g);if(f>1){h=a[1],h.x=h.r,h.y=0,l(h);if(f>2){i=a[2],et(g,h,i),l(i),el(g,i),g._pack_prev=i,el(i,h),h=g._pack_next;for(var m=3;m<f;m++){et(g,h,i=a[m]);var n=0,o=1,p=1;for(j=h._pack_next;j!==h;j=j._pack_next,o++)if(en(j,i)){n=1;break}if(n==1)for(k=g._pack_prev;k!==j._pack_prev;k=k._pack_prev,p++)if(en(k,i))break;n?(o<p||o==p&&h.r<g.r?em(g,h=j):em(g=k,h),m--):(el(g,i),h=i,l(i))}}}var q=(b+c)/2,r=(d+e)/2,s=0;for(var m=0;m<f;m++){var t=a[m];t.x-=q,t.y-=r,s=Math.max(s,t.r+Math.sqrt(t.x*t.x+t.y*t.y))}return a.forEach(eq),s}function ep(a){a._pack_next=a._pack_prev=a}function eq(a){delete a._pack_next,delete a._pack_prev}function er(a){var b=a.children;b&&b.length?(b.forEach(er),a.r=eo(b)):a.r=Math.sqrt(a.value)}function es(a,b,c,d){var e=a.children;a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d;if(e){var f=-1,g=e.length;while(++f<g)es(e[f],b,c,d)}}function et(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=Math.sqrt(e*e+f*f),i=Math.max(-1,Math.min(1,(d*d+h*h-g*g)/(2*d*h))),j=Math.acos(i),k=i*(d/=h),l=Math.sin(j)*d;c.x=a.x+k*e+l*f,c.y=a.y+k*f-l*e}else c.x=a.x+d,c.y=a.y}function eu(a){return 1+d3.max(a,function(a){return a.y})}function ev(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function ew(a){var b=a.children;return b&&b.length?ew(b[0]):a}function ex(a){var b=a.children,c;return b&&(c=b.length)?ex(b[c-1]):a}function ey(a,b){return a.parent==b.parent?1:2}function ez(a){var b=a.children;return b&&b.length?b[0]:a._tree.thread}function eA(a){var b=a.children,c;return b&&(c=b.length)?b[c-1]:a._tree.thread}function eB(a,b){var c=a.children;if(c&&(e=c.length)){var d,e,f=-1;while(++f<e)b(d=eB(c[f],b),a)>0&&(a=d)}return a}function eC(a,b){return a.x-b.x}function eD(a,b){return b.x-a.x}function eE(a,b){return a.depth-b.depth}function eF(a,b){function c(a,d){var e=a.children;if(e&&(i=e.length)){var f,g=null,h=-1,i;while(++h<i)f=e[h],c(f,g),g=f}b(a,d)}c(a,null)}function eG(a){var b=0,c=0,d=a.children,e=d.length,f;while(--e>=0)f=d[e]._tree,f.prelim+=b,f.mod+=b,b+=f.shift+(c+=f.change)}function eH(a,b,c){a=a._tree,b=b._tree;var d=c/(b.number-a.number);a.change+=d,b.change-=d,b.shift+=c,b.prelim+=c,b.mod+=c}function eI(a,b,c){return a._tree.ancestor.parent==b.parent?a._tree.ancestor:c}function eJ(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function eK(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return e<0&&(c+=e/2,e=0),f<0&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function eL(a){return a.map(eM).join(",")}function eM(a){return/[",\n]/.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}function eO(a,b){return function(c){return c&&a.hasOwnProperty(c.type)?a[c.type](c):b}}function eP(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+ -2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function eQ(a,b){eR.hasOwnProperty(a.type)&&eR[a.type](a,b)}function eS(a,b){eQ(a.geometry,b)}function eT(a,b){for(var c=a.features,d=0,e=c.length;d<e;d++)eQ(c[d].geometry,b)}function eU(a,b){for(var c=a.geometries,d=0,e=c.length;d<e;d++)eQ(c[d],b)}function eV(a,b){for(var c=a.coordinates,d=0,e=c.length;d<e;d++)b.apply(null,c[d])}function eW(a,b){for(var c=a.coordinates,d=0,e=c.length;d<e;d++)for(var f=c[d],g=0,h=f.length;g<h;g++)b.apply(null,f[g])}function eX(a,b){for(var c=a.coordinates,d=0,e=c.length;d<e;d++)for(var f=c[d][0],g=0,h=f.length;g<h;g++)b.apply(null,f[g])}function eY(a,b){b.apply(null,a.coordinates)}function eZ(a,b){for(var c=a.coordinates[0],d=0,e=c.length;d<e;d++)b.apply(null,c[d])}function e$(a){return a.source}function e_(a){return a.target}function fa(){function o(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,g=c*e+b*k,h=c*f+b*l,i=c*d+b*j;return[Math.atan2(h,g)/eN,Math.atan2(i,Math.sqrt(g*g+h*h))/eN]}var a,b,c,d,e,f,g,h,i,j,k,l,m,n;return o.distance=function(){return m==null&&(n=1/Math.sin(m=Math.acos(Math.max(-1,Math.min(1,d*j+c*i*Math.cos(g-a)))))),m},o.source=function(g){var h=Math.cos(a=g[0]*eN),i=Math.sin(a);return c=Math.cos(b=g[1]*eN),d=Math.sin(b),e=c*h,f=c*i,m=null,o},o.target=function(a){var b=Math.cos(g=a[0]*eN),c=Math.sin(g);return i=Math.cos(h=a[1]*eN),j=Math.sin(h),k=i*b,l=i*c,m=null,o},o}function fb(a,b){var c=fa().source(a).target(b);return c.distance(),c}function fe(a){var b=0,c=0;for(;;){if(a(b,c))return[b,c];b===0?(b=c+1,c=0):(b-=1,c+=1)}}function ff(a,b,c,d){var e,f,g,h,i,j,k;return e=d[a],f=e[0],g=e[1],e=d[b],h=e[0],i=e[1],e=d[c],j=e[0],k=e[1],(k-g)*(h-f)-(i-g)*(j-f)>0}function fg(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function fh(a,b,c,d){var e=a[0],f=b[0],g=c[0],h=d[0],i=a[1],j=b[1],k=c[1],l=d[1],m=e-g,n=f-e,o=h-g,p=i-k,q=j-i,r=l-k,s=(o*p-r*m)/(r*n-o*q);return[e+s*n,i+s*q]}function fj(a,b){var c={list:a.map(function(a,b){return{index:b,x:a[0],y:a[1]}}).sort(function(a,b){return a.y<b.y?-1:a.y>b.y?1:a.x<b.x?-1:a.x>b.x?1:0}),bottomSite:null},d={list:[],leftEnd:null,rightEnd:null,init:function(){d.leftEnd=d.createHalfEdge(null,"l"),d.rightEnd=d.createHalfEdge(null,"l"),d.leftEnd.r=d.rightEnd,d.rightEnd.l=d.leftEnd,d.list.unshift(d.leftEnd,d.rightEnd)},createHalfEdge:function(a,b){return{edge:a,side:b,vertex:null,l:null,r:null}},insert:function(a,b){b.l=a,b.r=a.r,a.r.l=b,a.r=b},leftBound:function(a){var b=d.leftEnd;do b=b.r;while(b!=d.rightEnd&&e.rightOf(b,a));return b=b.l,b},del:function(a){a.l.r=a.r,a.r.l=a.l,a.edge=null},right:function(a){return a.r},left:function(a){return a.l},leftRegion:function(a){return a.edge==null?c.bottomSite:a.edge.region[a.side]},rightRegion:function(a){return a.edge==null?c.bottomSite:a.edge.region[fi[a.side]]}},e={bisect:function(a,b){var c={region:{l:a,r:b},ep:{l:null,r:null}},d=b.x-a.x,e=b.y-a.y,f=d>0?d:-d,g=e>0?e:-e;return c.c=a.x*d+a.y*e+(d*d+e*e)*.5,f>g?(c.a=1,c.b=e/d,c.c/=d):(c.b=1,c.a=d/e,c.c/=e),c},intersect:function(a,b){var c=a.edge,d=b.edge;if(!c||!d||c.region.r==d.region.r)return null;var e=c.a*d.b-c.b*d.a;if(Math.abs(e)<1e-10)return null;var f=(c.c*d.b-d.c*c.b)/e,g=(d.c*c.a-c.c*d.a)/e,h=c.region.r,i=d.region.r,j,k;h.y<i.y||h.y==i.y&&h.x<i.x?(j=a,k=c):(j=b,k=d);var l=f>=k.region.r.x;return l&&j.side==="l"||!l&&j.side==="r"?null:{x:f,y:g}},rightOf:function(a,b){var c=a.edge,d=c.region.r,e=b.x>d.x;if(e&&a.side==="l")return 1;if(!e&&a.side==="r")return 0;if(c.a===1){var f=b.y-d.y,g=b.x-d.x,h=0,i=0;!e&&c.b<0||e&&c.b>=0?i=h=f>=c.b*g:(i=b.x+b.y*c.b>c.c,c.b<0&&(i=!i),i||(h=1));if(!h){var j=d.x-c.region.l.x;i=c.b*(g*g-f*f)<j*f*(1+2*g/j+c.b*c.b),c.b<0&&(i=!i)}}else{var k=c.c-c.a*b.x,l=b.y-k,m=b.x-d.x,n=k-d.y;i=l*l>m*m+n*n}return a.side==="l"?i:!i},endPoint:function(a,c,d){a.ep[c]=d;if(!a.ep[fi[c]])return;b(a)},distance:function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}},f={list:[],insert:function(a,b,c){a.vertex=b,a.ystar=b.y+c;for(var d=0,e=f.list,g=e.length;d<g;d++){var h=e[d];if(a.ystar>h.ystar||a.ystar==h.ystar&&b.x>h.vertex.x)continue;break}e.splice(d,0,a)},del:function(a){for(var b=0,c=f.list,d=c.length;b<d&&c[b]!=a;++b);c.splice(b,1)},empty:function(){return f.list.length===0},nextEvent:function(a){for(var b=0,c=f.list,d=c.length;b<d;++b)if(c[b]==a)return c[b+1];return null},min:function(){var a=f.list[0];return{x:a.vertex.x,y:a.ystar}},extractMin:function(){return f.list.shift()}};d.init(),c.bottomSite=c.list.shift();var g=c.list.shift(),h,i,j,k,l,m,n,o,p,q,r,s,t;for(;;){f.empty()||(h=f.min());if(g&&(f.empty()||g.y<h.y||g.y==h.y&&g.x<h.x))i=d.leftBound(g),j=d.right(i),n=d.rightRegion(i),s=e.bisect(n,g),m=d.createHalfEdge(s,"l"),d.insert(i,m),q=e.intersect(i,m),q&&(f.del(i),f.insert(i,q,e.distance(q,g))),i=m,m=d.createHalfEdge(s,"r"),d.insert(i,m),q=e.intersect(m,j),q&&f.insert(m,q,e.distance(q,g)),g=c.list.shift();else if(!f.empty())i=f.extractMin(),k=d.left(i),j=d.right(i),l=d.right(j),n=d.leftRegion(i),o=d.rightRegion(j),r=i.vertex,e.endPoint(i.edge,i.side,r),e.endPoint(j.edge,j.side,r),d.del(i),f.del(j),d.del(j),t="l",n.y>o.y&&(p=n,n=o,o=p,t="r"),s=e.bisect(n,o),m=d.createHalfEdge(s,t),d.insert(k,m),e.endPoint(s,fi[t],r),q=e.intersect(k,m),q&&(f.del(k),f.insert(k,q,e.distance(q,n))),q=e.intersect(m,l),q&&f.insert(m,q,e.distance(q,n));else break}for(i=d.right(d.leftEnd);i!=d.rightEnd;i=d.right(i))b(i.edge)}function fk(){return{leaf:!0,nodes:[],point:null}}function fl(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=(c+e)*.5,h=(d+f)*.5,i=b.nodes;i[0]&&fl(a,i[0],c,d,g,h),i[1]&&fl(a,i[1],g,d,e,h),i[2]&&fl(a,i[2],c,h,g,f),i[3]&&fl(a,i[3],g,h,e,f)}}function fm(a){return{x:a[0],y:a[1]}}function fo(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function fq(a,b,c,d){var e,f,g=0,h=b.length,i=c.length;while(g<h){if(d>=i)return-1;e=b.charCodeAt(g++);if(e==37){f=fw[b.charAt(g++)];if(!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function fx(a,b,c){return fz.test(b.substring(c,c+=3))?c:-1}function fy(a,b,c){fA.lastIndex=0;var d=fA.exec(b.substring(c,c+10));return d?c+=d[0].length:-1}function fC(a,b,c){var d=fD.get(b.substring(c,c+=3).toLowerCase());return d==null?-1:(a.m=d,c)}function fE(a,b,c){fF.lastIndex=0;var d=fF.exec(b.substring(c,c+12));return d?(a.m=fG.get(d[0].toLowerCase()),c+=d[0].length):-1}function fI(a,b,c){return fq(a,fv.c.toString(),b,c)}function fJ(a,b,c){return fq(a,fv.x.toString(),b,c)}function fK(a,b,c){return fq(a,fv.X.toString(),b,c)}function fL(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+4));return d?(a.y=+d[0],c+=d[0].length):-1}function fM(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+2));return d?(a.y=fN()+ +d[0],c+=d[0].length):-1}function fN(){return~~((new Date).getFullYear()/1e3)*1e3}function fO(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+2));return d?(a.m=d[0]-1,c+=d[0].length):-1}function fP(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+2));return d?(a.d=+d[0],c+=d[0].length):-1}function fQ(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+2));return d?(a.H=+d[0],c+=d[0].length):-1}function fR(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+2));return d?(a.M=+d[0],c+=d[0].length):-1}function fS(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+2));return d?(a.S=+d[0],c+=d[0].length):-1}function fT(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+3));return d?(a.L=+d[0],c+=d[0].length):-1}function fV(a,b,c){var d=fW.get(b.substring(c,c+=2).toLowerCase());return d==null?-1:(a.p=d,c)}function fX(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=~~(Math.abs(b)/60),e=Math.abs(b)%60;return c+fr(d)+fr(e)}function fZ(a){return a.toISOString()}function f$(a,b,c){function d(b){var c=a(b),d=f(c,1);return b-c<d-b?c:d}function e(c){return b(c=a(new fn(c-1)),1),c}function f(a,c){return b(a=new fn(+a),c),a}function g(a,d,f){var g=e(a),h=[];if(f>1)while(g<d)c(g)%f||h.push(new Date(+g)),b(g,1);else while(g<d)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{
fn=fo;var d=new fo;return d._=a,g(d,b,c)}finally{fn=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=f_(a);return i.floor=i,i.round=f_(d),i.ceil=f_(e),i.offset=f_(f),i.range=h,a}function f_(a){return function(b,c){try{fn=fo;var d=new fo;return d._=b,a(d,c)._}finally{fn=Date}}}function ga(a,b,c){function d(b){return a(b)}return d.invert=function(b){return gc(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain(b),d):a.domain().map(gc)},d.nice=function(a){var b=gb(d.domain());return d.domain([a.floor(b[0]),a.ceil(b[1])])},d.ticks=function(c,e){var f=gb(d.domain());if(typeof c!="function"){var g=f[1]-f[0],h=g/c,i=d3.bisect(gg,h);if(i==gg.length)return b.year(f,c);if(!i)return a.ticks(c).map(gc);Math.log(h/gg[i-1])<Math.log(gg[i]/h)&&--i,c=b[i],e=c[1],c=c[0].range}return c(f[0],new Date(+f[1]+1),e)},d.tickFormat=function(){return c},d.copy=function(){return ga(a.copy(),b,c)},d3.rebind(d,a,"range","rangeRound","interpolate","clamp")}function gb(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function gc(a){return new Date(a)}function gd(a){return function(b){var c=a.length-1,d=a[c];while(!d[1](b))d=a[--c];return d[0](b)}}function ge(a){var b=new Date(a,0,1);return b.setFullYear(a),b}function gf(a){var b=a.getFullYear(),c=ge(b),d=ge(b+1);return b+(a-c)/(d-c)}function go(a){var b=new Date(Date.UTC(a,0,1));return b.setUTCFullYear(a),b}function gp(a){var b=a.getUTCFullYear(),c=go(b),d=go(b+1);return b+(a-c)/(d-c)}Date.now||(Date.now=function(){return+(new Date)});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(a){var b=CSSStyleDeclaration.prototype,c=b.setProperty;b.setProperty=function(a,b,d){c.call(this,a,b+"",d)}}d3={version:"2.9.6"};var e=g;try{e(document.documentElement.childNodes)[0].nodeType}catch(h){e=f}var i=[].__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]};d3.map=function(a){var b=new j;for(var c in a)b.set(c,a[c]);return b},d(j,{has:function(a){return k+a in this},get:function(a){return this[k+a]},set:function(a,b){return this[k+a]=b},remove:function(a){return a=k+a,a in this&&delete this[a]},keys:function(){var a=[];return this.forEach(function(b){a.push(b)}),a},values:function(){var a=[];return this.forEach(function(b,c){a.push(c)}),a},entries:function(){var a=[];return this.forEach(function(b,c){a.push({key:b,value:c})}),a},forEach:function(a){for(var b in this)b.charCodeAt(0)===l&&a.call(this,b.substring(1),this[b])}});var k="\0",l=k.charCodeAt(0);d3.functor=p,d3.rebind=function(a,b){var c=1,d=arguments.length,e;while(++c<d)a[e=arguments[c]]=q(a,b,b[e]);return a},d3.ascending=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},d3.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},d3.mean=function(a,b){var c=a.length,d,e=0,f=-1,g=0;if(arguments.length===1)while(++f<c)r(d=a[f])&&(e+=(d-e)/++g);else while(++f<c)r(d=b.call(a,a[f],f))&&(e+=(d-e)/++g);return g?e:undefined},d3.median=function(a,b){return arguments.length>1&&(a=a.map(b)),a=a.filter(r),a.length?d3.quantile(a.sort(d3.ascending),.5):undefined},d3.min=function(a,b){var c=-1,d=a.length,e,f;if(arguments.length===1){while(++c<d&&((e=a[c])==null||e!=e))e=undefined;while(++c<d)(f=a[c])!=null&&e>f&&(e=f)}else{while(++c<d&&((e=b.call(a,a[c],c))==null||e!=e))e=undefined;while(++c<d)(f=b.call(a,a[c],c))!=null&&e>f&&(e=f)}return e},d3.max=function(a,b){var c=-1,d=a.length,e,f;if(arguments.length===1){while(++c<d&&((e=a[c])==null||e!=e))e=undefined;while(++c<d)(f=a[c])!=null&&f>e&&(e=f)}else{while(++c<d&&((e=b.call(a,a[c],c))==null||e!=e))e=undefined;while(++c<d)(f=b.call(a,a[c],c))!=null&&f>e&&(e=f)}return e},d3.extent=function(a,b){var c=-1,d=a.length,e,f,g;if(arguments.length===1){while(++c<d&&((e=g=a[c])==null||e!=e))e=g=undefined;while(++c<d)(f=a[c])!=null&&(e>f&&(e=f),g<f&&(g=f))}else{while(++c<d&&((e=g=b.call(a,a[c],c))==null||e!=e))e=undefined;while(++c<d)(f=b.call(a,a[c],c))!=null&&(e>f&&(e=f),g<f&&(g=f))}return[e,g]},d3.random={normal:function(a,b){return arguments.length<2&&(b=1),arguments.length<1&&(a=0),function(){var c,d,e;do c=Math.random()*2-1,d=Math.random()*2-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}}},d3.sum=function(a,b){var c=0,d=a.length,e,f=-1;if(arguments.length===1)while(++f<d)isNaN(e=+a[f])||(c+=e);else while(++f<d)isNaN(e=+b.call(a,a[f],f))||(c+=e);return c},d3.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=a[d-1],f=c-d;return f?e+f*(a[d]-e):e},d3.transpose=function(a){return d3.zip.apply(d3,a)},d3.zip=function(){if(!(e=arguments.length))return[];for(var a=-1,b=d3.min(arguments,s),c=new Array(b);++a<b;)for(var d=-1,e,f=c[a]=new Array(e);++d<e;)f[d]=arguments[d][a];return c},d3.bisector=function(a){return{left:function(b,c,d,e){arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);while(d<e){var f=d+e>>1;a.call(b,b[f],f)<c?d=f+1:e=f}return d},right:function(b,c,d,e){arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);while(d<e){var f=d+e>>1;c<a.call(b,b[f],f)?e=f:d=f+1}return d}}};var t=d3.bisector(function(a){return a});d3.bisectLeft=t.left,d3.bisect=d3.bisectRight=t.right,d3.first=function(a,b){var c=0,d=a.length,e=a[0],f;arguments.length===1&&(b=d3.ascending);while(++c<d)b.call(a,e,f=a[c])>0&&(e=f);return e},d3.last=function(a,b){var c=0,d=a.length,e=a[0],f;arguments.length===1&&(b=d3.ascending);while(++c<d)b.call(a,e,f=a[c])<=0&&(e=f);return e},d3.nest=function(){function f(c,g){if(g>=b.length)return e?e.call(a,c):d?c.sort(d):c;var h=-1,i=c.length,k=b[g++],l,m,n=new j,o,p={};while(++h<i)(o=n.get(l=k(m=c[h])))?o.push(m):n.set(l,[m]);return n.forEach(function(a){p[a]=f(n.get(a),g)}),p}function g(a,d){if(d>=b.length)return a;var e=[],f=c[d++],h;for(h in a)e.push({key:h,values:g(a[h],d)});return f&&e.sort(function(a,b){return f(a.key,b.key)}),e}var a={},b=[],c=[],d,e;return a.map=function(a){return f(a,0)},a.entries=function(a){return g(f(a,0),0)},a.key=function(c){return b.push(c),a},a.sortKeys=function(d){return c[b.length-1]=d,a},a.sortValues=function(b){return d=b,a},a.rollup=function(b){return e=b,a},a},d3.keys=function(a){var b=[];for(var c in a)b.push(c);return b},d3.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},d3.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},d3.permute=function(a,b){var c=[],d=-1,e=b.length;while(++d<e)c[d]=a[b[d]];return c},d3.merge=function(a){return Array.prototype.concat.apply([],a)},d3.split=function(a,b){var c=[],d=[],e,f=-1,g=a.length;arguments.length<2&&(b=u);while(++f<g)b.call(d,e=a[f],f)?d=[]:(d.length||c.push(d),d.push(e));return c},d3.range=function(a,b,c){arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0));if((b-a)/c===Infinity)throw new Error("infinite range");var d=[],e=w(Math.abs(c)),f=-1,g;a*=e,b*=e,c*=e;if(c<0)while((g=a+c*++f)>b)d.push(g/e);else while((g=a+c*++f)<b)d.push(g/e);return d},d3.requote=function(a){return a.replace(x,"\\$&")};var x=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)},d3.xhr=function(a,b,c){var d=new XMLHttpRequest;arguments.length<3?(c=b,b=null):b&&d.overrideMimeType&&d.overrideMimeType(b),d.open("GET",a,!0),b&&d.setRequestHeader("Accept",b),d.onreadystatechange=function(){if(d.readyState===4){var a=d.status;c(!a&&d.response||a>=200&&a<300||a===304?d:null)}},d.send(null)},d3.text=function(a,b,c){function d(a){c(a&&a.responseText)}arguments.length<3&&(c=b,b=null),d3.xhr(a,b,d)},d3.json=function(a,b){d3.text(a,"application/json",function(a){b(a?JSON.parse(a):null)})},d3.html=function(a,b){d3.text(a,"text/html",function(a){if(a!=null){var c=document.createRange();c.selectNode(document.body),a=c.createContextualFragment(a)}b(a)})},d3.xml=function(a,b,c){function d(a){c(a&&a.responseXML)}arguments.length<3&&(c=b,b=null),d3.xhr(a,b,d)};var y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:y,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&(c=a.substring(0,b),a=a.substring(b+1)),y.hasOwnProperty(c)?{space:y[c],local:a}:a}},d3.dispatch=function(){var a=new z,b=-1,c=arguments.length;while(++b<c)a[arguments[b]]=A(a);return a},z.prototype.on=function(a,b){var c=a.indexOf("."),d="";return c>0&&(d=a.substring(c+1),a=a.substring(0,c)),arguments.length<2?this[a].on(d):this[a].on(d,b)},d3.format=function(a){var b=B.exec(a),c=b[1]||" ",d=b[3]||"",e=b[5],f=+b[6],g=b[7],h=b[8],i=b[9],j=1,k="",l=!1;h&&(h=+h.substring(1)),e&&(c="0",g&&(f-=Math.floor((f-1)/4)));switch(i){case"n":g=!0,i="g";break;case"%":j=100,k="%",i="f";break;case"p":j=100,k="%",i="r";break;case"d":l=!0,h=0;break;case"s":j=-1,i="r"}return i=="r"&&!h&&(i="g"),i=C.get(i)||E,function(a){if(l&&a%1)return"";var b=a<0&&(a=-a)?"":d;if(j<0){var m=d3.formatPrefix(a,h);a=m.scale(a),k=m.symbol}else a*=j;a=i(a,h);if(e){var n=a.length+b.length;n<f&&(a=(new Array(f-n+1)).join(c)+a),g&&(a=F(a)),a=b+a}else{g&&(a=F(a)),a=b+a;var n=a.length;n<f&&(a=(new Array(f-n+1)).join(c)+a)}return a+k}};var B=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,C=d3.map({g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return d3.round(a,b=D(a,b)).toFixed(Math.max(0,Math.min(20,b)))}}),G=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(H);d3.formatPrefix=function(a,b){var c=0;return a&&(a<0&&(a*=-1),b&&(a=d3.round(a,D(a,b))),c=1+Math.floor(1e-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,Math.floor((c<=0?c+1:c-1)/3)*3))),G[8+c/3]};var I=R(2),J=R(3),K=function(){return Q},L=d3.map({linear:K,poly:R,quad:function(){return I},cubic:function(){return J},sin:function(){return S},exp:function(){return T},circle:function(){return U},elastic:V,back:W,bounce:function(){return X}}),M=d3.map({"in":Q,out:O,"in-out":P,"out-in":function(a){return P(O(a))}});d3.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.substring(0,b):a,d=b>=0?a.substring(b+1):"in";return c=L.get(c)||K,d=M.get(d)||Q,N(d(c.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.interpolate=function(a,b){var c=d3.interpolators.length,d;while(--c>=0&&!(d=d3.interpolators[c](a,b)));return d},d3.interpolateNumber=function(a,b){return b-=a,function(c){return a+b*c}},d3.interpolateRound=function(a,b){return b-=a,function(c){return Math.round(a+b*c)}},d3.interpolateString=function(a,b){var c,d,e,f=0,g=0,h=[],i=[],j,k;_.lastIndex=0;for(d=0;c=_.exec(b);++d)c.index&&h.push(b.substring(f,g=c.index)),i.push({i:h.length,x:c[0]}),h.push(null),f=_.lastIndex;f<b.length&&h.push(b.substring(f));for(d=0,j=i.length;(c=_.exec(a))&&d<j;++d){k=i[d];if(k.x==c[0]){if(k.i)if(h[k.i+1]==null){h[k.i-1]+=k.x,h.splice(k.i,1);for(e=d+1;e<j;++e)i[e].i--}else{h[k.i-1]+=k.x+h[k.i+1],h.splice(k.i,2);for(e=d+1;e<j;++e)i[e].i-=2}else if(h[k.i+1]==null)h[k.i]=k.x;else{h[k.i]=k.x+h[k.i+1],h.splice(k.i+1,1);for(e=d+1;e<j;++e)i[e].i--}i.splice(d,1),j--,d--}else k.x=d3.interpolateNumber(parseFloat(c[0]),parseFloat(k.x))}while(d<j)k=i.pop(),h[k.i+1]==null?h[k.i]=k.x:(h[k.i]=k.x+h[k.i+1],h.splice(k.i+1,1)),j--;return h.length===1?h[0]==null?i[0].x:function(){return b}:function(a){for(d=0;d<j;++d)h[(k=i[d]).i]=k.x(a);return h.join("")}},d3.interpolateTransform=function(a,b){var c=[],d=[],e,f=d3.transform(a),g=d3.transform(b),h=f.translate,i=g.translate,j=f.rotate,k=g.rotate,l=f.skew,m=g.skew,n=f.scale,o=g.scale;return h[0]!=i[0]||h[1]!=i[1]?(c.push("translate(",null,",",null,")"),d.push({i:1,x:d3.interpolateNumber(h[0],i[0])},{i:3,x:d3.interpolateNumber(h[1],i[1])})):i[0]||i[1]?c.push("translate("+i+")"):c.push(""),j!=k?(j-k>180?k+=360:k-j>180&&(j+=360),d.push({i:c.push(c.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(j,k)})):k&&c.push(c.pop()+"rotate("+k+")"),l!=m?d.push({i:c.push(c.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(l,m)}):m&&c.push(c.pop()+"skewX("+m+")"),n[0]!=o[0]||n[1]!=o[1]?(e=c.push(c.pop()+"scale(",null,",",null,")"),d.push({i:e-4,x:d3.interpolateNumber(n[0],o[0])},{i:e-2,x:d3.interpolateNumber(n[1],o[1])})):(o[0]!=1||o[1]!=1)&&c.push(c.pop()+"scale("+o+")"),e=d.length,function(a){var b=-1,f;while(++b<e)c[(f=d[b]).i]=f.x(a);return c.join("")}},d3.interpolateRgb=function(a,b){a=d3.rgb(a),b=d3.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+bf(Math.round(c+f*a))+bf(Math.round(d+g*a))+bf(Math.round(e+h*a))}},d3.interpolateHsl=function(a,b){a=d3.hsl(a),b=d3.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;return f>180?f-=360:f<-180&&(f+=360),function(a){return bm(c+f*a,d+g*a,e+h*a).toString()}},d3.interpolateArray=function(a,b){var c=[],d=[],e=a.length,f=b.length,g=Math.min(a.length,b.length),h;for(h=0;h<g;++h)c.push(d3.interpolate(a[h],b[h]));for(;h<e;++h)d[h]=a[h];for(;h<f;++h)d[h]=b[h];return function(a){for(h=0;h<g;++h)d[h]=c[h](a);return d}},d3.interpolateObject=function(a,b){var c={},d={},e;for(e in a)e in b?c[e]=ba(e)(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}};var _=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(a,b){return b instanceof Array&&d3.interpolateArray(a,b)},function(a,b){return(typeof a=="string"||typeof b=="string")&&d3.interpolateString(a+"",b+"")},function(a,b){return(typeof b=="string"?bj.has(b)||/^(#|rgb\(|hsl\()/.test(b):b instanceof be||b instanceof bl)&&d3.interpolateRgb(a,b)},function(a,b){return!isNaN(a=+a)&&!isNaN(b=+b)&&d3.interpolateNumber(a,b)}],d3.rgb=function(a,b,c){return arguments.length===1?a instanceof be?bd(a.r,a.g,a.b):bg(""+a,bd,bm):bd(~~a,~~b,~~c)},be.prototype.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return!b&&!c&&!d?bd(e,e,e):(b&&b<e&&(b=e),c&&c<e&&(c=e),d&&d<e&&(d=e),bd(Math.min(255,Math.floor(b/a)),Math.min(255,Math.floor(c/a)),Math.min(255,Math.floor(d/a))))},be.prototype.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),bd(Math.floor(a*this.r),Math.floor(a*this.g),Math.floor(a*this.b))},be.prototype.hsl=function(){return bh(this.r,this.g,this.b)},be.prototype.toString=function(){return"#"+bf(this.r)+bf(this.g)+bf(this.b)};var bj=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});bj.forEach(function(a,b){bj.set(a,bg(b,bd,bm))}),d3.hsl=function(a,b,c){return arguments.length===1?a instanceof bl?bk(a.h,a.s,a.l):bg(""+a,bh,bk):bk(+a,+b,+c)},bl.prototype.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),bk(this.h,this.s,this.l/a)},bl.prototype.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),bk(this.h,this.s,a*this.l)},bl.prototype.rgb=function(){return bm(this.h,this.s,this.l)},bl.prototype.toString=function(){return this.rgb().toString()};var bo=function(a,b){return b.querySelector(a)},bp=function(a,b){return b.querySelectorAll(a)},bq=document.documentElement,br=bq.matchesSelector||bq.webkitMatchesSelector||bq.mozMatchesSelector||bq.msMatchesSelector||bq.oMatchesSelector,bs=function(a,b){return br.call(a,b)};typeof Sizzle=="function"&&(bo=function(a,b){return Sizzle(a,b)[0]||null},bp=function(a,b){return Sizzle.uniqueSort(Sizzle(a,b))},bs=Sizzle.matchesSelector);var bt=[];d3.selection=function(){return bB},d3.selection.prototype=bt,bt.select=function(a){var b=[],c,d,e,f;typeof a!="function"&&(a=bu(a));for(var g=-1,h=this.length;++g<h;){b.push(c=[]),c.parentNode=(e=this[g]).parentNode;for(var i=-1,j=e.length;++i<j;)(f=e[i])?(c.push(d=a.call(f,f.__data__,i)),d&&"__data__"in f&&(d.__data__=f.__data__)):c.push(null)}return bn(b)},bt.selectAll=function(a){var b=[],c,d;typeof a!="function"&&(a=bv(a));for(var f=-1,g=this.length;++f<g;)for(var h=this[f],i=-1,j=h.length;++i<j;)if(d=h[i])b.push(c=e(a.call(d,d.__data__,i))),c.parentNode=d;return bn(b)},bt.attr=function(a,b){function d(){this.removeAttribute(a)}function e(){this.removeAttributeNS(a.space,a.local)}function f(){this.setAttribute(a,b)}function g(){this.setAttributeNS(a.space,a.local,b)}function h(){var c=b.apply(this,arguments);c==null?this.removeAttribute(a):this.setAttribute(a,c)}function i(){var c=b.apply(this,arguments);c==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}a=d3.ns.qualify(a);if(arguments.length<2){var c=this.node();return a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}return this.each(b==null?a.local?e:d:typeof b=="function"?a.local?i:h:a.local?g:f)},bt.classed=function(a,b){var c=v(a).split(" "),d=c.length,e=-1;if(arguments.length>1){while(++e<d)bw.call(this,c[e],b);return this}while(++e<d)if(!bw.call(this,c[e]))return!1;return!0},bt.style=function(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);d==null?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return arguments.length<3&&(c=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(a):this.each(b==null?d:typeof b=="function"?f:e)},bt.property=function(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);c==null?delete this[a]:this[a]=c}return arguments.length<2?this.node()[a]:this.each(b==null?c:typeof b=="function"?e:d)},bt.text=function(a){return arguments.length<1?this.node().textContent:this.each(typeof a=="function"?function(){var b=a.apply(this,arguments);this.textContent=b==null?"":b}:a==null?function(){this.textContent=""}:function(){this.textContent=a})},bt.html=function(a){return arguments.length<1?this.node().innerHTML:this.each(typeof a=="function"?function(){var b=a.apply(this,arguments);this.innerHTML=b==null?"":b}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a})},bt.append=function(a){function b(){return this.appendChild(document.createElementNS(this.namespaceURI,a))}function c(){return this.appendChild(document.createElementNS(a.space,a.local))}return a=d3.ns.qualify(a),this.select(a.local?c:b)},bt.insert=function(a,b){function c(){return this.insertBefore(document.createElementNS(this.namespaceURI,a),bo(b,this))}function d(){return this.insertBefore(document.createElementNS(a.space,a.local),bo(b,this))}return a=d3.ns.qualify(a),this.select(a.local?d:c)},bt.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})},bt.data=function(a,b){function g(a,c){var d,e=a.length,f=c.length,g=Math.min(e,f),l=Math.max(e,f),m=[],n=[],o=[],p,q;if(b){var r=new j,s=[],t,u=c.length;for(d=-1;++d<e;)t=b.call(p=a[d],p.__data__,d),r.has(t)?o[u++]=p:r.set(t,p),s.push(t);for(d=-1;++d<f;)t=b.call(c,q=c[d],d),r.has(t)?(m[d]=p=r.get(t),p.__data__=q,n[d]=o[d]=null):(n[d]=bx(q),m[d]=o[d]=null),r.remove(t);for(d=-1;++d<e;)r.has(s[d])&&(o[d]=a[d])}else{for(d=-1;++d<g;)p=a[d],q=c[d],p?(p.__data__=q,m[d]=p,n[d]=o[d]=null):(n[d]=bx(q),m[d]=o[d]=null);for(;d<f;++d)n[d]=bx(c[d]),m[d]=o[d]=null;for(;d<l;++d)o[d]=a[d],n[d]=m[d]=null}n.update=m,n.parentNode=m.parentNode=o.parentNode=a.parentNode,h.push(n),i.push(m),k.push(o)}var c=-1,d=this.length,e,f;if(!arguments.length){a=new Array(d=(e=this[0]).length);while(++c<d)if(f=e[c])a[c]=f.__data__;return a}var h=bC([]),i=bn([]),k=bn([]);if(typeof a=="function")while(++c<d)g(e=this[c],a.call(e,e.parentNode.__data__,c));else while(++c<d)g(e=this[c],a);return i.enter=function(){return h},i.exit=function(){return k},i},bt.datum=bt.map=function(a){return arguments.length<1?this.property("__data__"):this.property("__data__",a)},bt.filter=function(a){var b=[],c,d,e;typeof a!="function"&&(a=by(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]),c.parentNode=(d=this[f]).parentNode;for(var h=0,i=d.length;h<i;h++)(e=d[h])&&a.call(e,e.__data__,h)&&c.push(e)}return bn(b)},bt.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c=this[a],d=c.length-1,e=c[d],f;--d>=0;)if(f=c[d])e&&e!==f.nextSibling&&e.parentNode.insertBefore(f,e),e=f;return this},bt.sort=function(a){a=bz.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},bt.on=function(a,b,c){arguments.length<3&&(c=!1);var d="__on"+a,e=a.indexOf(".");return e>0&&(a=a.substring(0,e)),arguments.length<2?(e=this.node()[d])&&e._:this.each(function(e,f){function i(a){var c=d3.event;d3.event=a;try{b.call(g,g.__data__,f)}finally{d3.event=c}}var g=this,h=g[d];h&&(g.removeEventListener(a,h,h.$),delete g[d]),b&&(g.addEventListener(a,g[d]=i,i.$=c),i._=b)})},bt.each=function(a){return bA(this,function(b,c,d){a.call(b,b.__data__,c,d)})},bt.call=function(a){return a.apply(this,(arguments[0]=this,arguments)),this},bt.empty=function(){return!this.node()},bt.node=function(a){for(var b=0,c=this.length;b<c;b++)for(var d=this[b],e=0,f=d.length;e<f;e++){var g=d[e];if(g)return g}return null},bt.transition=function(){var a=[],b,c;for(var d=-1,e=this.length;++d<e;){a.push(b=[]);for(var f=this[d],g=-1,h=f.length;++g<h;)b.push((c=f[g])?{node:c,delay:bO,duration:bP}:null)}return bE(a,bK||++bJ,Date.now())};var bB=bn([[document]]);bB[0].parentNode=bq,d3.select=function(a){return typeof a=="string"?bB.select(a):bn([[a]])},d3.selectAll=function(a){return typeof a=="string"?bB.selectAll(a):bn([e(a)])};var bD=[];d3.selection.enter=bC,d3.selection.enter.prototype=bD,bD.append=bt.append,bD.insert=bt.insert,bD.empty=bt.empty,bD.node=bt.node,bD.select=function(a){var b=[],c,d,e,f,g;for(var h=-1,i=this.length;++h<i;){e=(f=this[h]).update,b.push(c=[]),c.parentNode=f.parentNode;for(var j=-1,k=f.length;++j<k;)(g=f[j])?(c.push(e[j]=d=a.call(f.parentNode,g.__data__,j)),d.__data__=g.__data__):c.push(null)}return bn(b)};var bF={},bI=[],bJ=0,bK=0,bL=0,bM=250,bN=d3.ease("cubic-in-out"),bO=bL,bP=bM,bQ=bN;bI.call=bt.call,d3.transition=function(a){return arguments.length?bK?a.transition():a:bB.transition()},d3.transition.prototype=bI,bI.select=function(a){var b=[],c,d,e;typeof a!="function"&&(a=bu(a));for(var f=-1,g=this.length;++f<g;){b.push(c=[]);for(var h=this[f],i=-1,j=h.length;++i<j;)(e=h[i])&&(d=a.call(e.node,e.node.__data__,i))?("__data__"in e.node&&(d.__data__=e.node.__data__),c.push({node:d,delay:e.delay,duration:e.duration})):c.push(null)}return bE(b,this.id,this.time).ease(this.ease())},bI.selectAll=function(a){var b=[],c,d,e;typeof a!="function"&&(a=bv(a));for(var f=-1,g=this.length;++f<g;)for(var h=this[f],i=-1,j=h.length;++i<j;)if(e=h[i]){d=a.call(e.node,e.node.__data__,i),b.push(c=[]);for(var k=-1,l=d.length;++k<l;)c.push({node:d[k],delay:e.delay,duration:e.duration})}return bE(b,this.id,this.time).ease(this.ease())},bI.attr=function(a,b){return this.attrTween(a,bH(a,b))},bI.attrTween=function(a,b){function d(a,d){var e=b.call(this,a,d,this.getAttribute(c));return e===bF?(this.removeAttribute(c),null):e&&function(a){this.setAttribute(c,e(a))}}function e(a,d){var e=b.call(this,a,d,this.getAttributeNS(c.space,c.local));return e===bF?(this.removeAttributeNS(c.space,c.local),null):e&&function(a){this.setAttributeNS(c.space,c.local,e(a))}}var c=d3.ns.qualify(a);return this.tween("attr."+a,c.local?e:d)},bI.style=function(a,b,c){return arguments.length<3&&(c=""),this.styleTween(a,bH(a,b),c)},bI.styleTween=function(a,b,c){return arguments.length<3&&(c=""),this.tween("style."+a,function(d,e){var f=b.call(this,d,e,window.getComputedStyle(this,null).getPropertyValue(a));return f===bF?(this.style.removeProperty(a),null):f&&function(b){this.style.setProperty(a,f(b),c)}})},bI.text=function(a){return this.tween("text",function(b,c){this.textContent=typeof a=="function"?a.call(this,b,c):a})},bI.remove=function(){return this.each("end.transition",function(){var a;!this.__transition__&&(a=this.parentNode)&&a.removeChild(this)})},bI.delay=function(a){return bA(this,typeof a=="function"?function(b,c,d){b.delay=a.call(b=b.node,b.__data__,c,d)|0}:(a|=0,function(b){b.delay=a}))},bI.duration=function(a){return bA(this,typeof a=="function"?function(b,c,d){b.duration=Math.max(1,a.call(b=b.node,b.__data__,c,d)|0)}:(a=Math.max(1,a|0),function(b){b.duration=a}))},bI.transition=function(){return this.select(n)};var bS=null,bT,bU;d3.timer=function(a,b,c){var d=!1,e,f=bS;if(arguments.length<3){if(arguments.length<2)b=0;else if(!isFinite(b))return;c=Date.now()}while(f){if(f.callback===a){f.then=c,f.delay=b,d=!0;break}e=f,f=f.next}d||(bS={callback:a,then:c,delay:b,next:bS}),bT||(bU=clearTimeout(bU),bT=1,bX(bV))},d3.timer.flush=function(){var a,b=Date.now(),c=bS;while(c)a=b-c.then,c.delay||(c.flush=c.callback(a)),c=c.next;bW()};var bX=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,17)};d3.transform=function(a){var b=document.createElementNS(d3.ns.prefix.svg,"g"),c={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(a){b.setAttribute("transform",a);var d=b.transform.baseVal.consolidate();return new bY(d?d.matrix:c)})(a)},bY.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ca=180/Math.PI;d3.mouse=function(a){return cc(a,Z())};var cb=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(a,b){return arguments.length<2&&(b=Z().touches),b?e(b).map(function(b){var c=cc(a,b);return c.identifier=b.identifier,c}):[]},d3.scale={},d3.scale.linear=function(){return ci([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return cq(d3.scale.linear(),cs)};var cr=d3.format(".0e");cs.pow=function(a){return Math.pow(10,a)},ct.pow=function(a){return-Math.pow(10,-a)},d3.scale.pow=function(){return cu(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return cw([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(cx)},d3.scale.category20=function(){return d3.scale.ordinal().range(cy)},d3.scale.category20b=function(){return d3.scale.ordinal().range(cz)},d3.scale.category20c=function(){return d3.scale.ordinal().range(cA)};var cx=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],cy=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],cz=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],cA=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return cB([],[])},d3.scale.quantize=function(){return cC(0,1,[0,1])},d3.scale.identity=function(){return cD([0,1])},d3.svg={},d3.svg.arc=function(){function e(){var e=a.apply(this,arguments),f=b.apply(this,arguments),g=c.apply(this,arguments)+cE,h=d.apply(this,arguments)+cE,i=(h<g&&(i=g,g=h,h=i),h-g),j=i<Math.PI?"0":"1",k=Math.cos(g),l=Math.sin(g),m=Math.cos(h),n=Math.sin(h);return i>=cF?e?"M0,"+f+"A"+f+","+f+" 0 1,1 0,"+ -f+"A"+f+","+f+" 0 1,1 0,"+f+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+ -e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+f+"A"+f+","+f+" 0 1,1 0,"+ -f+"A"+f+","+f+" 0 1,1 0,"+f+"Z":e?"M"+f*k+","+f*l+"A"+f+","+f+" 0 "+j+",1 "+f*m+","+f*n+"L"+e*m+","+e*n+"A"+e+","+e+" 0 "+j+",0 "+e*k+","+e*l+"Z":"M"+f*k+","+f*l+"A"+f+","+f+" 0 "+j+",1 "+f*m+","+f*n+"L0,0"+"Z"}var a=cG,b=cH,c=cI,d=cJ;return e.innerRadius=function(b){return arguments.length?(a=p(b),e):a},e.outerRadius=function(a){return arguments.length?(b=p(a),e):b},e.startAngle=function(a){return arguments.length?(c=p(a),e):c},e.endAngle=function(a){return arguments.length?(d=p(a),e):d},e.centroid=function(){var e=(a.apply(this,arguments)+b.apply(this,arguments))/2,f=(c.apply(this,arguments)+d.apply(this,arguments))/2+cE;return[Math.cos(f)*e,Math.sin(f)*e]},e};var cE=-Math.PI/2,cF=2*Math.PI-1e-6;d3.svg.line=function(){return cK(m)};var cN="linear",cO=d3.map({linear:cP,"step-before":cQ,"step-after":cR,basis:cX,"basis-open":cY,"basis-closed":cZ,bundle:c$,cardinal:cU,"cardinal-open":cS,"cardinal-closed":cT,monotone:dh}),da=[0,2/3,1/3,0],db=[0,1/3,2/3,0],dc=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var a=cK(di);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},cQ.reverse=cR,cR.reverse=cQ,d3.svg.area=function(){return dj(Object)},d3.svg.area.radial=function(){var a=dj(di);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},d3.svg.chord=function(){function f(c,d){var e=g(this,a,c,d),f=g(this,b,c,d);return"M"+e.p0+i(e.r,e.p1,e.a1-e.a0)+(h(e,f)?j(e.r,e.p1,e.r,e.p0):j(e.r,e.p1,f.r,f.p0)+i(f.r,f.p1,f.a1-f.a0)+j(f.r,f.p1,e.r,e.p0))+"Z"}function g(a,b,f,g){var h=b.call(a,f,g),i=c.call(a,h,g),j=d.call(a,h,g)+cE,k=e.call(a,h,g)+cE;return{r:i,a0:j,a1:k,p0:[i*Math.cos(j),i*Math.sin(j)],p1:[i*Math.cos(k),i*Math.sin(k)]}}function h(a,b){return a.a0==b.a0&&a.a1==b.a1}function i(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Math.PI)+",1 "+b}function j(a,b,c,d){return"Q 0,0 "+d}var a=dk,b=dl,c=dm,d=cI,e=cJ;return f.radius=function(a){return arguments.length?(c=p(a),f):c},f.source=function(b){return arguments.length?(a=p(b),f):a},f.target=function(a){return arguments.length?(b=p(a),f):b},f.startAngle=function(a){return arguments.length?(d=p(a),f):d},f.endAngle=function(a){return arguments.length?(e=p(a),f):e},f},d3.svg.diagonal=function(){function d(d,e){var f=a.call(this,d,e),g=b.call(this,d,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(c),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}var a=dk,b=dl,c=dq;return d.source=function(b){return arguments.length?(a=p(b),d):a},d.target=function(a){return arguments.length?(b=p(a),d):b},d.projection=function(a){return arguments.length?(c=a,d):c},d},d3.svg.diagonal
.radial=function(){var a=d3.svg.diagonal(),b=dq,c=a.projection;return a.projection=function(a){return arguments.length?c(dr(b=a)):b},a},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function c(c,d){return(dv.get(a.call(this,c,d))||du)(b.call(this,c,d))}var a=dt,b=ds;return c.type=function(b){return arguments.length?(a=p(b),c):a},c.size=function(a){return arguments.length?(b=p(a),c):b},c};var dv=d3.map({circle:du,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+ -3*b+","+ -b+"H"+ -b+"V"+ -3*b+"H"+b+"V"+ -b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+ -b+"V"+b+"H"+ -3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*dx)),c=b*dx;return"M0,"+ -b+"L"+c+",0"+" 0,"+b+" "+ -c+",0"+"Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+ -b+","+ -b+"L"+b+","+ -b+" "+b+","+b+" "+ -b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/dw),c=b*dw/2;return"M0,"+c+"L"+b+","+ -c+" "+ -b+","+ -c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/dw),c=b*dw/2;return"M0,"+ -c+"L"+b+","+c+" "+ -b+","+c+"Z"}});d3.svg.symbolTypes=dv.keys();var dw=Math.sqrt(3),dx=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function k(k){k.each(function(){var k=d3.select(this),l=h==null?a.ticks?a.ticks.apply(a,g):a.domain():h,m=i==null?a.tickFormat?a.tickFormat.apply(a,g):String:i,n=dA(a,l,j),o=k.selectAll(".minor").data(n,String),p=o.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),q=d3.transition(o.exit()).style("opacity",1e-6).remove(),r=d3.transition(o).style("opacity",1),s=k.selectAll("g").data(l,String),t=s.enter().insert("g","path").style("opacity",1e-6),u=d3.transition(s.exit()).style("opacity",1e-6).remove(),v=d3.transition(s).style("opacity",1),w,x=cf(a),y=k.selectAll(".domain").data([0]),z=y.enter().append("path").attr("class","domain"),A=d3.transition(y),B=a.copy(),C=this.__chart__||B;this.__chart__=B,t.append("line").attr("class","tick"),t.append("text");var D=t.select("line"),E=v.select("line"),F=s.select("text").text(m),G=t.select("text"),H=v.select("text");switch(b){case"bottom":w=dy,p.attr("y2",d),r.attr("x2",0).attr("y2",d),D.attr("y2",c),G.attr("y",Math.max(c,0)+f),E.attr("x2",0).attr("y2",c),H.attr("x",0).attr("y",Math.max(c,0)+f),F.attr("dy",".71em").attr("text-anchor","middle"),A.attr("d","M"+x[0]+","+e+"V0H"+x[1]+"V"+e);break;case"top":w=dy,p.attr("y2",-d),r.attr("x2",0).attr("y2",-d),D.attr("y2",-c),G.attr("y",-(Math.max(c,0)+f)),E.attr("x2",0).attr("y2",-c),H.attr("x",0).attr("y",-(Math.max(c,0)+f)),F.attr("dy","0em").attr("text-anchor","middle"),A.attr("d","M"+x[0]+","+ -e+"V0H"+x[1]+"V"+ -e);break;case"left":w=dz,p.attr("x2",-d),r.attr("x2",-d).attr("y2",0),D.attr("x2",-c),G.attr("x",-(Math.max(c,0)+f)),E.attr("x2",-c).attr("y2",0),H.attr("x",-(Math.max(c,0)+f)).attr("y",0),F.attr("dy",".32em").attr("text-anchor","end"),A.attr("d","M"+ -e+","+x[0]+"H0V"+x[1]+"H"+ -e);break;case"right":w=dz,p.attr("x2",d),r.attr("x2",d).attr("y2",0),D.attr("x2",c),G.attr("x",Math.max(c,0)+f),E.attr("x2",c).attr("y2",0),H.attr("x",Math.max(c,0)+f).attr("y",0),F.attr("dy",".32em").attr("text-anchor","start"),A.attr("d","M"+e+","+x[0]+"H0V"+x[1]+"H"+e)}if(a.ticks)t.call(w,C),v.call(w,B),u.call(w,B),p.call(w,C),r.call(w,B),q.call(w,B);else{var I=B.rangeBand()/2,J=function(a){return B(a)+I};t.call(w,J),v.call(w,J)}})}var a=d3.scale.linear(),b="bottom",c=6,d=6,e=6,f=3,g=[10],h=null,i,j=0;return k.scale=function(b){return arguments.length?(a=b,k):a},k.orient=function(a){return arguments.length?(b=a,k):b},k.ticks=function(){return arguments.length?(g=arguments,k):g},k.tickValues=function(a){return arguments.length?(h=a,k):h},k.tickFormat=function(a){return arguments.length?(i=a,k):i},k.tickSize=function(a,b,f){if(!arguments.length)return c;var g=arguments.length-1;return c=+a,d=g>1?+b:c,e=g>0?+arguments[g]:c,k},k.tickPadding=function(a){return arguments.length?(f=+a,k):f},k.tickSubdivide=function(a){return arguments.length?(j=+a,k):j},k},d3.svg.brush=function(){function g(a){a.each(function(){var a=d3.select(this),e=a.selectAll(".background").data([0]),f=a.selectAll(".extent").data([0]),l=a.selectAll(".resize").data(d,String),m;a.style("pointer-events","all").on("mousedown.brush",k).on("touchstart.brush",k),e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),f.enter().append("rect").attr("class","extent").style("cursor","move"),l.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return dB[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),l.style("display",g.empty()?"none":null),l.exit().remove(),b&&(m=cf(b),e.attr("x",m[0]).attr("width",m[1]-m[0]),i(a)),c&&(m=cf(c),e.attr("y",m[0]).attr("height",m[1]-m[0]),j(a)),h(a)})}function h(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+e[+/e$/.test(a)][0]+","+e[+/^s/.test(a)][1]+")"})}function i(a){a.select(".extent").attr("x",e[0][0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",e[1][0]-e[0][0])}function j(a){a.select(".extent").attr("y",e[0][1]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",e[1][1]-e[0][1])}function k(){function x(){var a=d3.event.changedTouches;return a?d3.touches(d,a)[0]:d3.mouse(d)}function y(){d3.event.keyCode==32&&(q||(r=null,s[0]-=e[1][0],s[1]-=e[1][1],q=2),Y())}function z(){d3.event.keyCode==32&&q==2&&(s[0]+=e[1][0],s[1]+=e[1][1],q=0,Y())}function A(){var a=x(),d=!1;t&&(a[0]+=t[0],a[1]+=t[1]),q||(d3.event.altKey?(r||(r=[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]),s[0]=e[+(a[0]<r[0])][0],s[1]=e[+(a[1]<r[1])][1]):r=null),o&&B(a,b,0)&&(i(m),d=!0),p&&B(a,c,1)&&(j(m),d=!0),d&&(h(m),l({type:"brush",mode:q?"move":"resize"}))}function B(a,b,c){var d=cf(b),g=d[0],h=d[1],i=s[c],j=e[1][c]-e[0][c],k,l;q&&(g-=i,h-=j+i),k=Math.max(g,Math.min(h,a[c])),q?l=(k+=i)+j:(r&&(i=Math.max(g,Math.min(h,2*r[c]-k))),i<k?(l=k,k=i):l=i);if(e[0][c]!==k||e[1][c]!==l)return f=null,e[0][c]=k,e[1][c]=l,!0}function C(){A(),m.style("pointer-events","all").selectAll(".resize").style("display",g.empty()?"none":null),d3.select("body").style("cursor",null),u.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),l({type:"brushend"}),Y()}var d=this,k=d3.select(d3.event.target),l=a.of(d,arguments),m=d3.select(d),n=k.datum(),o=!/^(n|s)$/.test(n)&&b,p=!/^(e|w)$/.test(n)&&c,q=k.classed("extent"),r,s=x(),t,u=d3.select(window).on("mousemove.brush",A).on("mouseup.brush",C).on("touchmove.brush",A).on("touchend.brush",C).on("keydown.brush",y).on("keyup.brush",z);if(q)s[0]=e[0][0]-s[0],s[1]=e[0][1]-s[1];else if(n){var v=+/w$/.test(n),w=+/^n/.test(n);t=[e[1-v][0]-s[0],e[1-w][1]-s[1]],s[0]=e[v][0],s[1]=e[w][1]}else d3.event.altKey&&(r=s.slice());m.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",k.style("cursor")),l({type:"brushstart"}),A(),Y()}var a=$(g,"brushstart","brush","brushend"),b=null,c=null,d=dC[0],e=[[0,0],[0,0]],f;return g.x=function(a){return arguments.length?(b=a,d=dC[!b<<1|!c],g):b},g.y=function(a){return arguments.length?(c=a,d=dC[!b<<1|!c],g):c},g.extent=function(a){var d,h,i,j,k;return arguments.length?(f=[[0,0],[0,0]],b&&(d=a[0],h=a[1],c&&(d=d[0],h=h[0]),f[0][0]=d,f[1][0]=h,b.invert&&(d=b(d),h=b(h)),h<d&&(k=d,d=h,h=k),e[0][0]=d|0,e[1][0]=h|0),c&&(i=a[0],j=a[1],b&&(i=i[1],j=j[1]),f[0][1]=i,f[1][1]=j,c.invert&&(i=c(i),j=c(j)),j<i&&(k=i,i=j,j=k),e[0][1]=i|0,e[1][1]=j|0),g):(a=f||e,b&&(d=a[0][0],h=a[1][0],f||(d=e[0][0],h=e[1][0],b.invert&&(d=b.invert(d),h=b.invert(h)),h<d&&(k=d,d=h,h=k))),c&&(i=a[0][1],j=a[1][1],f||(i=e[0][1],j=e[1][1],c.invert&&(i=c.invert(i),j=c.invert(j)),j<i&&(k=i,i=j,j=k))),b&&c?[[d,i],[h,j]]:b?[d,h]:c&&[i,j])},g.clear=function(){return f=null,e[0][0]=e[0][1]=e[1][0]=e[1][1]=0,g},g.empty=function(){return b&&e[0][0]===e[1][0]||c&&e[0][1]===e[1][1]},d3.rebind(g,a,"on")};var dB={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},dC=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function c(){this.on("mousedown.drag",d).on("touchstart.drag",d)}function d(){function j(){var a=c.parentNode,b=d3.event.changedTouches;return b?d3.touches(a,b)[0]:d3.mouse(a)}function k(){if(!c.parentNode)return l();var a=j(),b=a[0]-g[0],e=a[1]-g[1];h|=b|e,g=a,Y(),d({type:"drag",x:a[0]+f[0],y:a[1]+f[1],dx:b,dy:e})}function l(){d({type:"dragend"}),h&&(Y(),d3.event.target===e&&i.on("click.drag",m,!0)),i.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function m(){Y(),i.on("click.drag",null)}var c=this,d=a.of(c,arguments),e=d3.event.target,f,g=j(),h=0,i=d3.select(window).on("mousemove.drag",k).on("touchmove.drag",k).on("mouseup.drag",l,!0).on("touchend.drag",l,!0);b?(f=b.apply(c,arguments),f=[f.x-g[0],f.y-g[1]]):f=[0,0],Y(),d({type:"dragstart"})}var a=$(c,"drag","dragstart","dragend"),b=null;return c.origin=function(a){return arguments.length?(b=a,c):b},d3.rebind(c,a,"on")},d3.behavior.zoom=function(){function l(){this.on("mousedown.zoom",r).on("mousewheel.zoom",s).on("mousemove.zoom",t).on("DOMMouseScroll.zoom",s).on("dblclick.zoom",u).on("touchstart.zoom",v).on("touchmove.zoom",w).on("touchend.zoom",v)}function m(b){return[(b[0]-a[0])/c,(b[1]-a[1])/c]}function n(b){return[b[0]*c+a[0],b[1]*c+a[1]]}function o(a){c=Math.max(e[0],Math.min(e[1],a))}function p(b,c){c=n(c),a[0]+=b[0]-c[0],a[1]+=b[1]-c[1]}function q(b){h&&h.domain(g.range().map(function(b){return(b-a[0])/c}).map(g.invert)),j&&j.domain(i.range().map(function(b){return(b-a[1])/c}).map(i.invert)),d3.event.preventDefault(),b({type:"zoom",scale:c,translate:a})}function r(){function h(){d=1,p(d3.mouse(a),g),q(b)}function i(){d&&Y(),e.on("mousemove.zoom",null).on("mouseup.zoom",null),d&&d3.event.target===c&&e.on("click.zoom",j,!0)}function j(){Y(),e.on("click.zoom",null)}var a=this,b=f.of(a,arguments),c=d3.event.target,d=0,e=d3.select(window).on("mousemove.zoom",h).on("mouseup.zoom",i),g=m(d3.mouse(a));window.focus(),Y()}function s(){b||(b=m(d3.mouse(this))),o(Math.pow(2,dF()*.002)*c),p(d3.mouse(this),b),q(f.of(this,arguments))}function t(){b=null}function u(){var a=d3.mouse(this),b=m(a);o(d3.event.shiftKey?c/2:c*2),p(a,b),q(f.of(this,arguments))}function v(){var a=d3.touches(this),e=Date.now();d=c,b={},a.forEach(function(a){b[a.identifier]=m(a)}),Y();if(a.length===1&&e-k<500){var g=a[0],h=m(a[0]);o(c*2),p(g,h),q(f.of(this,arguments))}k=e}function w(){var a=d3.touches(this),c=a[0],e=b[c.identifier];if(g=a[1]){var g,h=b[g.identifier];c=[(c[0]+g[0])/2,(c[1]+g[1])/2],e=[(e[0]+h[0])/2,(e[1]+h[1])/2],o(d3.event.scale*d)}p(c,e),q(f.of(this,arguments))}var a=[0,0],b,c=1,d,e=dE,f=$(l,"zoom"),g,h,i,j,k;return l.translate=function(b){return arguments.length?(a=b.map(Number),l):a},l.scale=function(a){return arguments.length?(c=+a,l):c},l.scaleExtent=function(a){return arguments.length?(e=a==null?dE:a.map(Number),l):e},l.x=function(a){return arguments.length?(h=a,g=a.copy(),l):h},l.y=function(a){return arguments.length?(j=a,i=a.copy(),l):j},d3.rebind(l,f,"on")};var dD,dE=[0,Infinity];d3.layout={},d3.layout.bundle=function(){return function(a){var b=[],c=-1,d=a.length;while(++c<d)b.push(dG(a[c]));return b}},d3.layout.chord=function(){function j(){var a={},j=[],l=d3.range(e),m=[],n,o,p,q,r;b=[],c=[],n=0,q=-1;while(++q<e){o=0,r=-1;while(++r<e)o+=d[q][r];j.push(o),m.push(d3.range(e)),n+=o}g&&l.sort(function(a,b){return g(j[a],j[b])}),h&&m.forEach(function(a,b){a.sort(function(a,c){return h(d[b][a],d[b][c])})}),n=(2*Math.PI-f*e)/n,o=0,q=-1;while(++q<e){p=o,r=-1;while(++r<e){var s=l[q],t=m[s][r],u=d[s][t],v=o,w=o+=u*n;a[s+"-"+t]={index:s,subindex:t,startAngle:v,endAngle:w,value:u}}c[s]={index:s,startAngle:p,endAngle:o,value:(o-p)/n},o+=f}q=-1;while(++q<e){r=q-1;while(++r<e){var x=a[q+"-"+r],y=a[r+"-"+q];(x.value||y.value)&&b.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}}i&&k()}function k(){b.sort(function(a,b){return i((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var a={},b,c,d,e,f=0,g,h,i;return a.matrix=function(f){return arguments.length?(e=(d=f)&&d.length,b=c=null,a):d},a.padding=function(d){return arguments.length?(f=d,b=c=null,a):f},a.sortGroups=function(d){return arguments.length?(g=d,b=c=null,a):g},a.sortSubgroups=function(c){return arguments.length?(h=c,b=null,a):h},a.sortChords=function(c){return arguments.length?(i=c,b&&k(),a):i},a.chords=function(){return b||j(),b},a.groups=function(){return c||j(),c},a},d3.layout.force=function(){function t(a){return function(b,c,d,e,f){if(b.point!==a){var g=b.cx-a.x,h=b.cy-a.y,i=1/Math.sqrt(g*g+h*h);if((e-c)*i<k){var j=b.charge*i*i;return a.px-=g*j,a.py-=h*j,!0}if(b.point&&isFinite(i)){var j=b.pointCharge*i*i;a.px-=g*j,a.py-=h*j}}return!b.charge}}function u(b){dL(dK=b),dJ=a}var a={},b=d3.dispatch("start","tick","end"),c=[1,1],d,e,f=.9,g=dQ,h=dR,i=-30,j=.1,k=.8,l,n=[],o=[],q,r,s;return a.tick=function(){if((e*=.99)<.005)return b.end({type:"end",alpha:e=0}),!0;var a=n.length,d=o.length,g,h,k,l,m,p,u,v,w;for(h=0;h<d;++h){k=o[h],l=k.source,m=k.target,v=m.x-l.x,w=m.y-l.y;if(p=v*v+w*w)p=e*r[h]*((p=Math.sqrt(p))-q[h])/p,v*=p,w*=p,m.x-=v*(u=l.weight/(m.weight+l.weight)),m.y-=w*u,l.x+=v*(u=1-u),l.y+=w*u}if(u=e*j){v=c[0]/2,w=c[1]/2,h=-1;if(u)while(++h<a)k=n[h],k.x+=(v-k.x)*u,k.y+=(w-k.y)*u}if(i){dP(g=d3.geom.quadtree(n),e,s),h=-1;while(++h<a)(k=n[h]).fixed||g.visit(t(k))}h=-1;while(++h<a)k=n[h],k.fixed?(k.x=k.px,k.y=k.py):(k.x-=(k.px-(k.px=k.x))*f,k.y-=(k.py-(k.py=k.y))*f);b.tick({type:"tick",alpha:e})},a.nodes=function(b){return arguments.length?(n=b,a):n},a.links=function(b){return arguments.length?(o=b,a):o},a.size=function(b){return arguments.length?(c=b,a):c},a.linkDistance=function(b){return arguments.length?(g=p(b),a):g},a.distance=a.linkDistance,a.linkStrength=function(b){return arguments.length?(h=p(b),a):h},a.friction=function(b){return arguments.length?(f=b,a):f},a.charge=function(b){return arguments.length?(i=typeof b=="function"?b:+b,a):i},a.gravity=function(b){return arguments.length?(j=b,a):j},a.theta=function(b){return arguments.length?(k=b,a):k},a.alpha=function(c){return arguments.length?(e?c>0?e=c:e=0:c>0&&(b.start({type:"start",alpha:e=c}),d3.timer(a.tick)),a):e},a.start=function(){function p(a,c){var d=t(b),e=-1,f=d.length,g;while(++e<f)if(!isNaN(g=d[e][a]))return g;return Math.random()*c}function t(){if(!l){l=[];for(d=0;d<e;++d)l[d]=[];for(d=0;d<f;++d){var a=o[d];l[a.source.index].push(a.target),l[a.target.index].push(a.source)}}return l[b]}var b,d,e=n.length,f=o.length,j=c[0],k=c[1],l,m;for(b=0;b<e;++b)(m=n[b]).index=b,m.weight=0;q=[],r=[];for(b=0;b<f;++b)m=o[b],typeof m.source=="number"&&(m.source=n[m.source]),typeof m.target=="number"&&(m.target=n[m.target]),q[b]=g.call(this,m,b),r[b]=h.call(this,m,b),++m.source.weight,++m.target.weight;for(b=0;b<e;++b)m=n[b],isNaN(m.x)&&(m.x=p("x",j)),isNaN(m.y)&&(m.y=p("y",k)),isNaN(m.px)&&(m.px=m.x),isNaN(m.py)&&(m.py=m.y);s=[];if(typeof i=="function")for(b=0;b<e;++b)s[b]=+i.call(this,n[b],b);else for(b=0;b<e;++b)s[b]=i;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){d||(d=d3.behavior.drag().origin(m).on("dragstart",u).on("drag",dO).on("dragend",dN)),this.on("mouseover.force",dL).on("mouseout.force",dM).call(d)},d3.rebind(a,b,"on")};var dJ,dK;d3.layout.partition=function(){function c(a,b,d,e){var f=a.children;a.x=b,a.y=a.depth*e,a.dx=d,a.dy=e;if(f&&(h=f.length)){var g=-1,h,i,j;d=a.value?d/a.value:0;while(++g<h)c(i=f[g],b,j=i.value*d,e),b+=j}}function d(a){var b=a.children,c=0;if(b&&(f=b.length)){var e=-1,f;while(++e<f)c=Math.max(c,d(b[e]))}return 1+c}function e(e,f){var g=a.call(this,e,f);return c(g[0],0,b[0],b[1]/d(g[0])),g}var a=d3.layout.hierarchy(),b=[1,1];return e.size=function(a){return arguments.length?(b=a,e):b},ee(e,a)},d3.layout.pie=function(){function e(f,g){var h=f.map(function(b,c){return+a.call(e,b,c)}),i=+(typeof c=="function"?c.apply(this,arguments):c),j=((typeof d=="function"?d.apply(this,arguments):d)-c)/d3.sum(h),k=d3.range(f.length);b!=null&&k.sort(b===dS?function(a,b){return h[b]-h[a]}:function(a,c){return b(f[a],f[c])});var l=[];return k.forEach(function(a){var b;l[a]={data:f[a],value:b=h[a],startAngle:i,endAngle:i+=b*j}}),l}var a=Number,b=dS,c=0,d=2*Math.PI;return e.value=function(b){return arguments.length?(a=b,e):a},e.sort=function(a){return arguments.length?(b=a,e):b},e.startAngle=function(a){return arguments.length?(c=a,e):c},e.endAngle=function(a){return arguments.length?(d=a,e):d},e};var dS={};d3.layout.stack=function(){function g(h,i){var j=h.map(function(b,c){return a.call(g,b,c)}),k=j.map(function(a,b){return a.map(function(a,b){return[e.call(g,a,b),f.call(g,a,b)]})}),l=b.call(g,k,i);j=d3.permute(j,l),k=d3.permute(k,l);var m=c.call(g,k,i),n=j.length,o=j[0].length,p,q,r;for(q=0;q<o;++q){d.call(g,j[0][q],r=m[q],k[0][q][1]);for(p=1;p<n;++p)d.call(g,j[p][q],r+=k[p-1][q][1],k[p][q][1])}return h}var a=m,b=dY,c=dZ,d=dV,e=dT,f=dU;return g.values=function(b){return arguments.length?(a=b,g):a},g.order=function(a){return arguments.length?(b=typeof a=="function"?a:dW.get(a)||dY,g):b},g.offset=function(a){return arguments.length?(c=typeof a=="function"?a:dX.get(a)||dZ,g):c},g.x=function(a){return arguments.length?(e=a,g):e},g.y=function(a){return arguments.length?(f=a,g):f},g.out=function(a){return arguments.length?(d=a,g):d},g};var dW=d3.map({"inside-out":function(a){var b=a.length,c,d,e=a.map(d$),f=a.map(d_),g=d3.range(b).sort(function(a,b){return e[a]-e[b]}),h=0,i=0,j=[],k=[];for(c=0;c<b;++c)d=g[c],h<i?(h+=f[d],j.push(d)):(i+=f[d],k.push(d));return k.reverse().concat(j)},reverse:function(a){return d3.range(a.length).reverse()},"default":dY}),dX=d3.map({silhouette:function(a){var b=a.length,c=a[0].length,d=[],e=0,f,g,h,i=[];for(g=0;g<c;++g){for(f=0,h=0;f<b;f++)h+=a[f][g][1];h>e&&(e=h),d.push(h)}for(g=0;g<c;++g)i[g]=(e-d[g])/2;return i},wiggle:function(a){var b=a.length,c=a[0],d=c.length,e=0,f,g,h,i,j,k,l,m,n,o=[];o[0]=m=n=0;for(g=1;g<d;++g){for(f=0,i=0;f<b;++f)i+=a[f][g][1];for(f=0,j=0,l=c[g][0]-c[g-1][0];f<b;++f){for(h=0,k=(a[f][g][1]-a[f][g-1][1])/(2*l);h<f;++h)k+=(a[h][g][1]-a[h][g-1][1])/l;j+=k*a[f][g][1]}o[g]=m-=i?j/i*l:0,m<n&&(n=m)}for(g=0;g<d;++g)o[g]-=n;return o},expand:function(a){var b=a.length,c=a[0].length,d=1/b,e,f,g,h=[];for(f=0;f<c;++f){for(e=0,g=0;e<b;e++)g+=a[e][f][1];if(g)for(e=0;e<b;e++)a[e][f][1]/=g;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)h[f]=0;return h},zero:dZ});d3.layout.histogram=function(){function e(e,f){var g=[],h=e.map(b,this),i=c.call(this,h,f),j=d.call(this,i,h,f),k,f=-1,l=h.length,m=j.length-1,n=a?1:1/l,o;while(++f<m)k=g[f]=[],k.dx=j[f+1]-(k.x=j[f]),k.y=0;if(m>0){f=-1;while(++f<l)o=h[f],o>=i[0]&&o<=i[1]&&(k=g[d3.bisect(j,o,1,m)-1],k.y+=n,k.push(e[f]))}return g}var a=!0,b=Number,c=ed,d=eb;return e.value=function(a){return arguments.length?(b=a,e):b},e.range=function(a){return arguments.length?(c=p(a),e):c},e.bins=function(a){return arguments.length?(d=typeof a=="number"?function(b){return ec(b,a)}:p(a),e):d},e.frequency=function(b){return arguments.length?(a=!!b,e):a},e},d3.layout.hierarchy=function(){function d(e,g,h){var i=b.call(f,e,g),j=ej?e:{data:e};j.depth=g,h.push(j);if(i&&(l=i.length)){var k=-1,l,m=j.children=[],n=0,o=g+1,p;while(++k<l)p=d(i[k],o,h),p.parent=j,m.push(p),n+=p.value;a&&m.sort(a),c&&(j.value=n)}else c&&(j.value=+c.call(f,e,g)||0);return j}function e(a,b){var d=a.children,g=0;if(d&&(i=d.length)){var h=-1,i,j=b+1;while(++h<i)g+=e(d[h],j)}else c&&(g=+c.call(f,ej?a:a.data,b)||0);return c&&(a.value=g),g}function f(a){var b=[];return d(a,0,b),b}var a=eh,b=ef,c=eg;return f.sort=function(b){return arguments.length?(a=b,f):a},f.children=function(a){return arguments.length?(b=a,f):b},f.value=function(a){return arguments.length?(c=a,f):c},f.revalue=function(a){return e(a,0),a},f};var ej=!1;d3.layout.pack=function(){function c(c,d){var e=a.call(this,c,d),f=e[0];f.x=0,f.y=0,er(f);var g=b[0],h=b[1],i=1/Math.max(2*f.r/g,2*f.r/h);return es(f,g/2,h/2,i),e}var a=d3.layout.hierarchy().sort(ek),b=[1,1];return c.size=function(a){return arguments.length?(b=a,c):b},ee(c,a)},d3.layout.cluster=function(){function d(d,e){var f=a.call(this,d,e),g=f[0],h,i=0,j,k;eF(g,function(a){var c=a.children;c&&c.length?(a.x=ev(c),a.y=eu(c)):(a.x=h?i+=b(a,h):0,a.y=0,h=a)});var l=ew(g),m=ex(g),n=l.x-b(l,m)/2,o=m.x+b(m,l)/2;return eF(g,function(a){a.x=(a.x-n)/(o-n)*c[0],a.y=(1-(g.y?a.y/g.y:1))*c[1]}),f}var a=d3.layout.hierarchy().sort(null).value(null),b=ey,c=[1,1];return d.separation=function(a){return arguments.length?(b=a,d):b},d.size=function(a){return arguments.length?(c=a,d):c},ee(d,a)},d3.layout.tree=function(){function d(d,e){function h(a,c){var d=a.children,e=a._tree;if(d&&(f=d.length)){var f,g=d[0],i,k=g,l,m=-1;while(++m<f)l=d[m],h(l,i),k=j(l,i,k),i=l;eG(a);var n=.5*(g._tree.prelim+l._tree.prelim);c?(e.prelim=c._tree.prelim+b(a,c),e.mod=e.prelim-n):e.prelim=n}else c&&(e.prelim=c._tree.prelim+b(a,c))}function i(a,b){a.x=a._tree.prelim+b;var c=a.children;if(c&&(e=c.length)){var d=-1,e;b+=a._tree.mod;while(++d<e)i(c[d],b)}}function j(a,c,d){if(c){var e=a,f=a,g=c,h=a.parent.children[0],i=e._tree.mod,j=f._tree.mod,k=g._tree.mod,l=h._tree.mod,m;while(g=eA(g),e=ez(e),g&&e)h=ez(h),f=eA(f),f._tree.ancestor=a,m=g._tree.prelim+k-e._tree.prelim-i+b(g,e),m>0&&(eH(eI(g,a,d),a,m),i+=m,j+=m),k+=g._tree.mod,i+=e._tree.mod,l+=h._tree.mod,j+=f._tree.mod;g&&!eA(f)&&(f._tree.thread=g,f._tree.mod+=k-j),e&&!ez(h)&&(h._tree.thread=e,h._tree.mod+=i-l,d=a)}return d}var f=a.call(this,d,e),g=f[0];eF(g,function(a,b){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:b?b._tree.number+1:0}}),h(g),i(g,-g._tree.prelim);var k=eB(g,eD),l=eB(g,eC),m=eB(g,eE),n=k.x-b(k,l)/2,o=l.x+b(l,k)/2,p=m.depth||1;return eF(g,function(a){a.x=(a.x-n)/(o-n)*c[0],a.y=a.depth/p*c[1],delete a._tree}),f}var a=d3.layout.hierarchy().sort(null).value(null),b=ey,c=[1,1];return d.separation=function(a){return arguments.length?(b=a,d):b},d.size=function(a){return arguments.length?(c=a,d):c},ee(d,a)},d3.layout.treemap=function(){function i(a,b){var c=-1,d=a.length,e,f;while(++c<d)f=(e=a[c]).value*(b<0?0:b),e.area=isNaN(f)||f<=0?0:f}function j(a){var b=a.children;if(b&&b.length){var c=e(a),d=[],f=b.slice(),g,h=Infinity,k,n=Math.min(c.dx,c.dy),o;i(f,c.dx*c.dy/a.value),d.area=0;while((o=f.length)>0)d.push(g=f[o-1]),d.area+=g.area,(k=l(d,n))<=h?(f.pop(),h=k):(d.area-=d.pop().area,m(d,n,c,!1),n=Math.min(c.dx,c.dy),d.length=d.area=0,h=Infinity);d.length&&(m(d,n,c,!0),d.length=d.area=0),b.forEach(j)}}function k(a){var b=a.children;if(b&&b.length){var c=e(a),d=b.slice(),f,g=[];i(d,c.dx*c.dy/a.value),g.area=0;while(f=d.pop())g.push(f),g.area+=f.area,f.z!=null&&(m(g,f.z?c.dx:c.dy,c,!d.length),g.length=g.area=0);b.forEach(k)}}function l(a,b){var c=a.area,d,e=0,f=Infinity,g=-1,i=a.length;while(++g<i){if(!(d=a[g].area))continue;d<f&&(f=d),d>e&&(e=d)}return c*=c,b*=b,c?Math.max(b*e*h/c,c/(b*f*h)):Infinity}function m(a,c,d,e){var f=-1,g=a.length,h=d.x,i=d.y,j=c?b(a.area/c):0,k;if(c==d.dx){if(e||j>d.dy)j=d.dy;while(++f<g)k=a[f],k.x=h,k.y=i,k.dy=j,h+=k.dx=Math.min(d.x+d.dx-h,j?b(k.area/j):0);k.z=!0,k.dx+=d.x+d.dx-h,d.y+=j,d.dy-=j}else{if(e||j>d.dx)j=d.dx;while(++f<g)k=a[f],k.x=h,k.y=i,k.dx=j,i+=k.dy=Math.min(d.y+d.dy-i,j?b(k.area/j):0);k.z=!1,k.dy+=d.y+d.dy-i,d.x+=j,d.dx-=j}}function n(b){var d=g||a(b),e=d[0];return e.x=0,e.y=0,e.dx=c[0],e.dy=c[1],g&&a.revalue(e),i([e],e.dx*e.dy/e.value),(g?k:j)(e),f&&(g=d),d}var a=d3.layout.hierarchy(),b=Math.round,c=[1,1],d=null,e=eJ,f=!1,g,h=.5*(1+Math.sqrt(5));return n.size=function(a){return arguments.length?(c=a,n):c},n.padding=function(a){function b(b){var c=a.call(n,b,b.depth);return c==null?eJ(b):eK(b,typeof c=="number"?[c,c,c,c]:c)}function c(b){return eK(b,a)}if(!arguments.length)return d;var f;return e=(d=a)==null?eJ:(f=typeof a)==="function"?b:f==="number"?(a=[a,a,a,a],c):c,n},n.round=function(a){return arguments.length?(b=a?Math.round:Number,n):b!=Number},n.sticky=function(a){return arguments.length?(f=a,g=null,n):f},n.ratio=function(a){return arguments.length?(h=a,n):h},ee(n,a)},d3.csv=function(a,b){d3.text(a,"text/csv",function(a){b(a&&d3.csv.parse(a))})},d3.csv.parse=function(a){var b;return d3.csv.parseRows(a,function(a,c){if(c){var d={},e=-1,f=b.length;while(++e<f)d[b[e]]=a[e];return d}return b=a,null})},d3.csv.parseRows=function(a,b){function j(){if(f.lastIndex>=a.length)return d;if(i)return i=!1,c;var b=f.lastIndex;if(a.charCodeAt(b)===34){var e=b;while(e++<a.length)if(a.charCodeAt(e)===34){if(a.charCodeAt(e+1)!==34)break;e++}f.lastIndex=e+2;var g=a.charCodeAt(e+1);return g===13?(i=!0,a.charCodeAt(e+2)===10&&f.lastIndex++):g===10&&(i=!0),a.substring(b+1,e).replace(/""/g,'"')}var h=f.exec(a);return h?(i=h[0].charCodeAt(0)!==44,a.substring(b,h.index)):(f.lastIndex=a.length,a.substring(b))}var c={},d={},e=[],f=/\r\n|[,\r\n]/g,g=0,h,i;f.lastIndex=0;while((h=j())!==d){var k=[];while(h!==c&&h!==d)k.push(h),h=j();if(b&&!(k=b(k,g++)))continue;e.push(k)}return e},d3.csv.format=function(a){return a.map(eL).join("\n")},d3.geo={};var eN=Math.PI/180;d3.geo.azimuthal=function(){function i(b){var f=b[0]*eN-e,i=b[1]*eN,j=Math.cos(f),k=Math.sin(f),l=Math.cos(i),m=Math.sin(i),n=a!=="orthographic"?h*m+g*l*j:null,o,p=a==="stereographic"?1/(1+n):a==="gnomonic"?1/n:a==="equidistant"?(o=Math.acos(n),o?o/Math.sin(o):0):a==="equalarea"?Math.sqrt(2/(1+n)):1,q=p*l*k,r=p*(h*l*j-g*m);return[c*q+d[0],c*r+d[1]]}var a="orthographic",b,c=200,d=[480,250],e,f,g,h;return i.invert=function(b){var f=(b[0]-d[0])/c,i=(b[1]-d[1])/c,j=Math.sqrt(f*f+i*i),k=a==="stereographic"?2*Math.atan(j):a==="gnomonic"?Math.atan(j):a==="equidistant"?j:a==="equalarea"?2*Math.asin(.5*j):Math.asin(j),l=Math.sin(k),m=Math.cos(k);return[(e+Math.atan2(f*l,j*g*m+i*h*l))/eN,Math.asin(m*h-(j?i*l*g/j:0))/eN]},i.mode=function(b){return arguments.length?(a=b+"",i):a},i.origin=function(a){return arguments.length?(b=a,e=b[0]*eN,f=b[1]*eN,g=Math.cos(f),h=Math.sin(f),i):b},i.scale=function(a){return arguments.length?(c=+a,i):c},i.translate=function(a){return arguments.length?(d=[+a[0],+a[1]],i):d},i.origin([0,0])},d3.geo.albers=function(){function i(a){var b=f*(eN*a[0]-e),i=Math.sqrt(g-2*f*Math.sin(eN*a[1]))/f;return[c*i*Math.sin(b)+d[0],c*(i*Math.cos(b)-h)+d[1]]}function j(){var c=eN*b[0],d=eN*b[1],j=eN*a[1],k=Math.sin(c),l=Math.cos(c);return e=eN*a[0],f=.5*(k+Math.sin(d)),g=l*l+2*f*k,h=Math.sqrt(g-2*f*Math.sin(j))/f,i}var a=[-98,38],b=[29.5,45.5],c=1e3,d=[480,250],e,f,g,h;return i.invert=function(a){var b=(a[0]-d[0])/c,i=(a[1]-d[1])/c,j=h+i,k=Math.atan2(b,j),l=Math.sqrt(b*b+j*j);return[(e+k/f)/eN,Math.asin((g-l*l*f*f)/(2*f))/eN]},i.origin=function(b){return arguments.length?(a=[+b[0],+b[1]],j()):a},i.parallels=function(a){return arguments.length?(b=[+a[0],+a[1]],j()):b},i.scale=function(a){return arguments.length?(c=+a,i):c},i.translate=function(a){return arguments.length?(d=[+a[0],+a[1]],i):d},j()},d3.geo.albersUsa=function(){function e(e){var f=e[0],g=e[1];return(g>50?b:f<-140?c:g<21?d:a)(e)}var a=d3.geo.albers(),b=d3.geo.albers().origin([-160,60]).parallels([55,65]),c=d3.geo.albers().origin([-160,20]).parallels([8,18]),d=d3.geo.albers().origin([-60,10]).parallels([8,18]);return e.scale=function(f){return arguments.length?(a.scale(f),b.scale(f*.6),c.scale(f),d.scale(f*1.5),e.translate(a.translate())):a.scale()},e.translate=function(f){if(!arguments.length)return a.translate();var g=a.scale()/1e3,h=f[0],i=f[1];return a.translate(f),b.translate([h-400*g,i+170*g]),c.translate([h-190*g,i+200*g]),d.translate([h+580*g,i+430*g]),e},e.scale(a.scale())},d3.geo.bonne=function(){function g(g){var h=g[0]*eN-c,i=g[1]*eN-d;if(e){var j=f+e-i,k=h*Math.cos(i)/j;h=j*Math.sin(k),i=j*Math.cos(k)-f}else h*=Math.cos(i),i*=-1;return[a*h+b[0],a*i+b[1]]}var a=200,b=[480,250],c,d,e,f;return g.invert=function(d){var g=(d[0]-b[0])/a,h=(d[1]-b[1])/a;if(e){var i=f+h,j=Math.sqrt(g*g+i*i);h=f+e-j,g=c+j*Math.atan2(g,i)/Math.cos(h)}else h*=-1,g/=Math.cos(h);return[g/eN,h/eN]},g.parallel=function(a){return arguments.length?(f=1/Math.tan(e=a*eN),g):e/eN},g.origin=function(a){return arguments.length?(c=a[0]*eN,d=a[1]*eN,g):[c/eN,d/eN]},g.scale=function(b){return arguments.length?(a=+b,g):a},g.translate=function(a){return arguments.length?(b=[+a[0],+a[1]],g):b},g.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function c(c){var d=c[0]/360,e=-c[1]/360;return[a*d+b[0],a*e+b[1]]}var a=500,b=[480,250];return c.invert=function(c){var d=(c[0]-b[0])/a,e=(c[1]-b[1])/a;return[360*d,-360*e]},c.scale=function(b){return arguments.length?(a=+b,c):a},c.translate=function(a){return arguments.length?(b=[+a[0],+a[1]],c):b},c},d3.geo.mercator=function(){function c(c){var d=c[0]/360,e=-(Math.log(Math.tan(Math.PI/4+c[1]*eN/2))/eN)/360;return[a*d+b[0],a*Math.max(-0.5,Math.min(.5,e))+b[1]]}var a=500,b=[480,250];return c.invert=function(c){var d=(c[0]-b[0])/a,e=(c[1]-b[1])/a;return[360*d,2*Math.atan(Math.exp(-360*e*eN))/eN-90]},c.scale=function(b){return arguments.length?(a=+b,c):a},c.translate=function(a){return arguments.length?(b=[+a[0],+a[1]],c):b},c},d3.geo.path=function(){function e(c,e){typeof a=="function"&&(b=eP(a.apply(this,arguments))),g(c);var f=d.length?d.join(""):null;return d=[],f}function f(a){return c(a).join(",")}function i(a){var b=l(a[0]),c=0,d=a.length;while(++c<d)b-=l(a[c]);return b}function j(a){var b=d3.geom.polygon(a[0].map(c)),d=b.area(),e=b.centroid(d<0?(d*=-1,1):-1),f=e[0],g=e[1],h=d,i=0,j=a.length;while(++i<j)b=d3.geom.polygon(a[i].map(c)),d=b.area(),e=b.centroid(d<0?(d*=-1,1):-1),f-=e[0],g-=e[1],h-=d;return[f,g,6*h]}function l(a){return Math.abs(d3.geom.polygon(a.map(c)).area())}var a=4.5,b=eP(a),c=d3.geo.albersUsa(),d=[],g=eO({FeatureCollection:function(a){var b=a.features,c=-1,e=b.length;while(++c<e)d.push(g(b[c].geometry))},Feature:function(a){g(a.geometry)},Point:function(a){d.push("M",f(a.coordinates),b)},MultiPoint:function(a){var c=a.coordinates,e=-1,g=c.length;while(++e<g)d.push("M",f(c[e]),b)},LineString:function(a){var b=a.coordinates,c=-1,e=b.length;d.push("M");while(++c<e)d.push(f(b[c]),"L");d.pop()},MultiLineString:function(a){var b=a.coordinates,c=-1,e=b.length,g,h,i;while(++c<e){g=b[c],h=-1,i=g.length,d.push("M");while(++h<i)d.push(f(g[h]),"L");d.pop()}},Polygon:function(a){var b=a.coordinates,c=-1,e=b.length,g,h,i;while(++c<e){g=b[c],h=-1;if((i=g.length-1)>0){d.push("M");while(++h<i)d.push(f(g[h]),"L");d[d.length-1]="Z"}}},MultiPolygon:function(a){var b=a.coordinates,c=-1,e=b.length,g,h,i,j,k,l;while(++c<e){g=b[c],h=-1,i=g.length;while(++h<i){j=g[h],k=-1;if((l=j.length-1)>0){d.push("M");while(++k<l)d.push(f(j[k]),"L");d[d.length-1]="Z"}}}},GeometryCollection:function(a){var b=a.geometries,c=-1,e=b.length;while(++c<e)d.push(g(b[c]))}}),h=e.area=eO({FeatureCollection:function(a){var b=0,c=a.features,d=-1,e=c.length;while(++d<e)b+=h(c[d]);return b},Feature:function(a){return h(a.geometry)},Polygon:function(a){return i(a.coordinates)},MultiPolygon:function(a){var b=0,c=a.coordinates,d=-1,e=c.length;while(++d<e)b+=i(c[d]);return b},GeometryCollection:function(a){var b=0,c=a.geometries,d=-1,e=c.length;while(++d<e)b+=h(c[d]);return b}},0),k=e.centroid=eO({Feature:function(a){return k(a.geometry)},Polygon:function(a){var b=j(a.coordinates);return[b[0]/b[2],b[1]/b[2]]},MultiPolygon:function(a){var b=0,c=a.coordinates,d,e=0,f=0,g=0,h=-1,i=c.length;while(++h<i)d=j(c[h]),e+=d[0],f+=d[1],g+=d[2];return[e/g,f/g]}});return e.projection=function(a){return c=a,e},e.pointRadius=function(c){return typeof c=="function"?a=c:(a=+c,b=eP(a)),e},e},d3.geo.bounds=function(a){var b=Infinity,c=Infinity,d=-Infinity,e=-Infinity;return eQ(a,function(a,f){a<b&&(b=a),a>d&&(d=a),f<c&&(c=f),f>e&&(e=f)}),[[b,c],[d,e]]};var eR={Feature:eS,FeatureCollection:eT,GeometryCollection:eU,LineString:eV,MultiLineString:eW,MultiPoint:eV,MultiPolygon:eX,Point:eY,Polygon:eZ};d3.geo.circle=function(){function e(){}function f(a){return d.distance(a)<c}function h(a){var b=-1,e=a.length,f=[],g,h,j,k,l;while(++b<e)l=d.distance(j=a[b]),l<c?(h&&f.push(fb(h,j)((k-c)/(k-l))),f.push(j),g=h=null):(h=j,!g&&f.length&&(f.push(fb(f[f.length-1],h)((c-k)/(l-k))),g=h)),k=l;return g=a[0],h=f[0],h&&j[0]===g[0]&&j[1]===g[1]&&(j[0]!==h[0]||j[1]!==h[1])&&f.push(h),i(f)}function i(a){var b=0,c=a.length,e,f,g=c?[a[0]]:a,h,i=d.source();while(++b<c){h=d.source(a[b-1])(a[b]).coordinates;for(e=0,f=h.length;++e<f;)g.push(h[e])}return d.source(i),g}var a=[0,0],b=89.99,c=b*eN,d=d3.geo.greatArc().source(a).target(m);e.clip=function(b){return typeof a=="function"&&d.source(a.apply(this,arguments)),g(b)||null};var g=eO({FeatureCollection:function(a){var b=a.features.map(g)
.filter(m);return b&&(a=Object.create(a),a.features=b,a)},Feature:function(a){var b=g(a.geometry);return b&&(a=Object.create(a),a.geometry=b,a)},Point:function(a){return f(a.coordinates)&&a},MultiPoint:function(a){var b=a.coordinates.filter(f);return b.length&&{type:a.type,coordinates:b}},LineString:function(a){var b=h(a.coordinates);return b.length&&(a=Object.create(a),a.coordinates=b,a)},MultiLineString:function(a){var b=a.coordinates.map(h).filter(function(a){return a.length});return b.length&&(a=Object.create(a),a.coordinates=b,a)},Polygon:function(a){var b=a.coordinates.map(h);return b[0].length&&(a=Object.create(a),a.coordinates=b,a)},MultiPolygon:function(a){var b=a.coordinates.map(function(a){return a.map(h)}).filter(function(a){return a[0].length});return b.length&&(a=Object.create(a),a.coordinates=b,a)},GeometryCollection:function(a){var b=a.geometries.map(g).filter(m);return b.length&&(a=Object.create(a),a.geometries=b,a)}});return e.origin=function(b){return arguments.length?(a=b,typeof a!="function"&&d.source(a),e):a},e.angle=function(a){return arguments.length?(c=(b=+a)*eN,e):b},d3.rebind(e,d,"precision")},d3.geo.greatArc=function(){function g(){var a=g.distance.apply(this,arguments),c=0,h=e/a,i=[b];while((c+=h)<1)i.push(f(c));return i.push(d),{type:"LineString",coordinates:i}}var a=e$,b,c=e_,d,e=6*eN,f=fa();return g.distance=function(){return typeof a=="function"&&f.source(b=a.apply(this,arguments)),typeof c=="function"&&f.target(d=c.apply(this,arguments)),f.distance()},g.source=function(c){return arguments.length?(a=c,typeof a!="function"&&f.source(b=a),g):a},g.target=function(a){return arguments.length?(c=a,typeof c!="function"&&f.target(d=c),g):c},g.precision=function(a){return arguments.length?(e=a*eN,g):e/eN},g},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(a,b){var c=b||fe(a),d=[],e=c[0],f=c[1],g=0,h=0,i=NaN,j=NaN,k=0;do k=0,a(e-1,f-1)&&(k+=1),a(e,f-1)&&(k+=2),a(e-1,f)&&(k+=4),a(e,f)&&(k+=8),k===6?(g=j===-1?-1:1,h=0):k===9?(g=0,h=i===1?-1:1):(g=fc[k],h=fd[k]),g!=i&&h!=j&&(d.push([e,f]),i=g,j=h),e+=g,f+=h;while(c[0]!=e||c[1]!=f);return d};var fc=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],fd=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(a){if(a.length<3)return[];var b=a.length,c=b-1,d=[],e=[],f,g,h=0,i,j,k,l,m,n,o,p;for(f=1;f<b;++f)a[f][1]<a[h][1]?h=f:a[f][1]==a[h][1]&&(h=a[f][0]<a[h][0]?f:h);for(f=0;f<b;++f){if(f===h)continue;j=a[f][1]-a[h][1],i=a[f][0]-a[h][0],d.push({angle:Math.atan2(j,i),index:f})}d.sort(function(a,b){return a.angle-b.angle}),o=d[0].angle,n=d[0].index,m=0;for(f=1;f<c;++f)g=d[f].index,o==d[f].angle?(i=a[n][0]-a[h][0],j=a[n][1]-a[h][1],k=a[g][0]-a[h][0],l=a[g][1]-a[h][1],i*i+j*j>=k*k+l*l?d[f].index=-1:(d[m].index=-1,o=d[f].angle,m=f,n=g)):(o=d[f].angle,m=f,n=g);e.push(h);for(f=0,g=0;f<2;++g)d[g].index!==-1&&(e.push(d[g].index),f++);p=e.length;for(;g<c;++g){if(d[g].index===-1)continue;while(!ff(e[p-2],e[p-1],d[g].index,a))--p;e[p++]=d[g].index}var q=[];for(f=0;f<p;++f)q.push(a[e[f]]);return q},d3.geom.polygon=function(a){return a.area=function(){var b=0,c=a.length,d=a[c-1][0]*a[0][1],e=a[c-1][1]*a[0][0];while(++b<c)d+=a[b-1][0]*a[b][1],e+=a[b-1][1]*a[b][0];return(e-d)*.5},a.centroid=function(b){var c=-1,d=a.length,e=0,f=0,g,h=a[d-1],i;arguments.length||(b=-1/(6*a.area()));while(++c<d)g=h,h=a[c],i=g[0]*h[1]-h[0]*g[1],e+=(g[0]+h[0])*i,f+=(g[1]+h[1])*i;return[e*b,f*b]},a.clip=function(b){var c,d=-1,e=a.length,f,g,h=a[e-1],i,j,k;while(++d<e){c=b.slice(),b.length=0,i=a[d],j=c[(g=c.length)-1],f=-1;while(++f<g)k=c[f],fg(k,h,i)?(fg(j,h,i)||b.push(fh(j,k,h,i)),b.push(k)):fg(j,h,i)&&b.push(fh(j,k,h,i)),j=k;h=i}return b},a},d3.geom.voronoi=function(a){var b=a.map(function(){return[]});return fj(a,function(a){var c,d,e,f,g,h;a.a===1&&a.b>=0?(c=a.ep.r,d=a.ep.l):(c=a.ep.l,d=a.ep.r),a.a===1?(g=c?c.y:-1e6,e=a.c-a.b*g,h=d?d.y:1e6,f=a.c-a.b*h):(e=c?c.x:-1e6,g=a.c-a.a*e,f=d?d.x:1e6,h=a.c-a.a*f);var i=[e,g],j=[f,h];b[a.region.l.index].push(i,j),b[a.region.r.index].push(i,j)}),b.map(function(b,c){var d=a[c][0],e=a[c][1];return b.forEach(function(a){a.angle=Math.atan2(a[0]-d,a[1]-e)}),b.sort(function(a,b){return a.angle-b.angle}).filter(function(a,c){return!c||a.angle-b[c-1].angle>1e-10})})};var fi={l:"r",r:"l"};d3.geom.delaunay=function(a){var b=a.map(function(){return[]}),c=[];return fj(a,function(c){b[c.region.l.index].push(a[c.region.r.index])}),b.forEach(function(b,d){var e=a[d],f=e[0],g=e[1];b.forEach(function(a){a.angle=Math.atan2(a[0]-f,a[1]-g)}),b.sort(function(a,b){return a.angle-b.angle});for(var h=0,i=b.length-1;h<i;h++)c.push([e,b[h],b[h+1]])}),c},d3.geom.quadtree=function(a,b,c,d,e){function k(a,b,c,d,e,f){if(isNaN(b.x)||isNaN(b.y))return;if(a.leaf){var g=a.point;g?Math.abs(g.x-b.x)+Math.abs(g.y-b.y)<.01?l(a,b,c,d,e,f):(a.point=null,l(a,g,c,d,e,f),l(a,b,c,d,e,f)):a.point=b}else l(a,b,c,d,e,f)}function l(a,b,c,d,e,f){var g=(c+e)*.5,h=(d+f)*.5,i=b.x>=g,j=b.y>=h,l=(j<<1)+i;a.leaf=!1,a=a.nodes[l]||(a.nodes[l]=fk()),i?c=g:e=g,j?d=h:f=h,k(a,b,c,d,e,f)}var f,g=-1,h=a.length;h&&isNaN(a[0].x)&&(a=a.map(fm));if(arguments.length<5)if(arguments.length===3)e=d=c,c=b;else{b=c=Infinity,d=e=-Infinity;while(++g<h)f=a[g],f.x<b&&(b=f.x),f.y<c&&(c=f.y),f.x>d&&(d=f.x),f.y>e&&(e=f.y);var i=d-b,j=e-c;i>j?e=c+i:d=b+j}var m=fk();return m.add=function(a){k(m,a,b,c,d,e)},m.visit=function(a){fl(a,m,b,c,d,e)},a.forEach(m.add),m},d3.time={};var fn=Date;fo.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){fp.setUTCDate.apply(this._,arguments)},setDay:function(){fp.setUTCDay.apply(this._,arguments)},setFullYear:function(){fp.setUTCFullYear.apply(this._,arguments)},setHours:function(){fp.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){fp.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){fp.setUTCMinutes.apply(this._,arguments)},setMonth:function(){fp.setUTCMonth.apply(this._,arguments)},setSeconds:function(){fp.setUTCSeconds.apply(this._,arguments)},setTime:function(){fp.setTime.apply(this._,arguments)}};var fp=Date.prototype;d3.time.format=function(a){function c(c){var d=[],e=-1,f=0,g,h;while(++e<b)a.charCodeAt(e)==37&&(d.push(a.substring(f,e),(h=fv[g=a.charAt(++e)])?h(c):g),f=e+1);return d.push(a.substring(f,e)),d.join("")}var b=a.length;return c.parse=function(b){var c={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},d=fq(c,a,b,0);if(d!=b.length)return null;"p"in c&&(c.H=c.H%12+c.p*12);var e=new fn;return e.setFullYear(c.y,c.m,c.d),e.setHours(c.H,c.M,c.S,c.L),e},c.toString=function(){return a},c};var fr=d3.format("02d"),fs=d3.format("03d"),ft=d3.format("04d"),fu=d3.format("2d"),fv={a:function(a){return fB[a.getDay()].substring(0,3)},A:function(a){return fB[a.getDay()]},b:function(a){return fH[a.getMonth()].substring(0,3)},B:function(a){return fH[a.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(a){return fr(a.getDate())},e:function(a){return fu(a.getDate())},H:function(a){return fr(a.getHours())},I:function(a){return fr(a.getHours()%12||12)},j:function(a){return fs(1+d3.time.dayOfYear(a))},L:function(a){return fs(a.getMilliseconds())},m:function(a){return fr(a.getMonth()+1)},M:function(a){return fr(a.getMinutes())},p:function(a){return a.getHours()>=12?"PM":"AM"},S:function(a){return fr(a.getSeconds())},U:function(a){return fr(d3.time.sundayOfYear(a))},w:function(a){return a.getDay()},W:function(a){return fr(d3.time.mondayOfYear(a))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(a){return fr(a.getFullYear()%100)},Y:function(a){return ft(a.getFullYear()%1e4)},Z:fX,"%":function(a){return"%"}},fw={a:fx,A:fy,b:fC,B:fE,c:fI,d:fP,e:fP,H:fQ,I:fQ,L:fT,m:fO,M:fR,p:fV,S:fS,x:fJ,X:fK,y:fM,Y:fL},fz=/^(?:sun|mon|tue|wed|thu|fri|sat)/i,fA=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i,fB=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],fD=d3.map({jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}),fF=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig,fG=d3.map({january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11}),fH=["January","February","March","April","May","June","July","August","September","October","November","December"],fU=/\s*\d+/,fW=d3.map({am:0,pm:1});d3.time.format.utc=function(a){function c(a){try{fn=fo;var c=new fn;return c._=a,b(c)}finally{fn=Date}}var b=d3.time.format(a);return c.parse=function(a){try{fn=fo;var c=b.parse(a);return c&&c._}finally{fn=Date}},c.toString=b.toString,c};var fY=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?fZ:fY,fZ.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},fZ.toString=fY.toString,d3.time.second=f$(function(a){return new fn(Math.floor(a/1e3)*1e3)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*1e3)},function(a){return a.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=f$(function(a){return new fn(Math.floor(a/6e4)*6e4)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*6e4)},function(a){return a.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=f$(function(a){var b=a.getTimezoneOffset()/60;return new fn((Math.floor(a/36e5-b)+b)*36e5)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*36e5)},function(a){return a.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=f$(function(a){return new fn(a.getFullYear(),a.getMonth(),a.getDate())},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(a){var b=d3.time.year(a);return Math.floor((a-b)/864e5-(a.getTimezoneOffset()-b.getTimezoneOffset())/1440)},fB.forEach(function(a,b){a=a.toLowerCase(),b=7-b;var c=d3.time[a]=f$(function(a){return(a=d3.time.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+Math.floor(b)*7)},function(a){var c=d3.time.year(a).getDay();return Math.floor((d3.time.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});d3.time[a+"s"]=c.range,d3.time[a+"s"].utc=c.utc.range,d3.time[a+"OfYear"]=function(a){var c=d3.time.year(a).getDay();return Math.floor((d3.time.dayOfYear(a)+(c+b)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=f$(function(a){return new fn(a.getFullYear(),a.getMonth(),1)},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=f$(function(a){return new fn(a.getFullYear(),0,1)},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var gg=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],gh=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],gi=[[d3.time.format("%Y"),function(a){return!0}],[d3.time.format("%B"),function(a){return a.getMonth()}],[d3.time.format("%b %d"),function(a){return a.getDate()!=1}],[d3.time.format("%a %d"),function(a){return a.getDay()&&a.getDate()!=1}],[d3.time.format("%I %p"),function(a){return a.getHours()}],[d3.time.format("%I:%M"),function(a){return a.getMinutes()}],[d3.time.format(":%S"),function(a){return a.getSeconds()}],[d3.time.format(".%L"),function(a){return a.getMilliseconds()}]],gj=d3.scale.linear(),gk=gd(gi);gh.year=function(a,b){return gj.domain(a.map(gf)).ticks(b).map(ge)},d3.time.scale=function(){return ga(d3.scale.linear(),gh,gk)};var gl=gh.map(function(a){return[a[0].utc,a[1]]}),gm=[[d3.time.format.utc("%Y"),function(a){return!0}],[d3.time.format.utc("%B"),function(a){return a.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(a){return a.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(a){return a.getUTCDay()&&a.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(a){return a.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(a){return a.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(a){return a.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(a){return a.getUTCMilliseconds()}]],gn=gd(gm);gl.year=function(a,b){return gj.domain(a.map(gp)).ticks(b).map(go)},d3.time.scale.utc=function(){return ga(d3.scale.linear(),gl,gn)}})();

/***/ }),
/* 10 */
/***/ (function(module, exports, __nested_webpack_require_428012__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {jsPlumbUtil={isArray:function(b){return Object.prototype.toString.call(b)==="[object Array]"},isString:function(a){return typeof a==="string"},isObject:function(a){return Object.prototype.toString.call(a)==="[object Object]"},convertStyle:function(b,a){if("transparent"===b){return b}var g=b,f=function(h){return h.length==1?"0"+h:h},c=function(h){return f(Number(h).toString(16))},d=/(rgb[a]?\()(.*)(\))/;if(b.match(d)){var e=b.match(d)[2].split(",");g="#"+c(e[0])+c(e[1])+c(e[2]);if(!a&&e.length==4){g=g+c(e[3])}}return g},gradient:function(b,a){b=jsPlumbUtil.isArray(b)?b:[b.x,b.y];a=jsPlumbUtil.isArray(a)?a:[a.x,a.y];return(a[1]-b[1])/(a[0]-b[0])},normal:function(b,a){return -1/jsPlumbUtil.gradient(b,a)},lineLength:function(b,a){b=jsPlumbUtil.isArray(b)?b:[b.x,b.y];a=jsPlumbUtil.isArray(a)?a:[a.x,a.y];return Math.sqrt(Math.pow(a[1]-b[1],2)+Math.pow(a[0]-b[0],2))},segment:function(b,a){b=jsPlumbUtil.isArray(b)?b:[b.x,b.y];a=jsPlumbUtil.isArray(a)?a:[a.x,a.y];if(a[0]>b[0]){return(a[1]>b[1])?2:1}else{return(a[1]>b[1])?3:4}},intersects:function(f,e){var c=f.x,a=f.x+f.w,k=f.y,h=f.y+f.h,d=e.x,b=e.x+e.w,i=e.y,g=e.y+e.h;return((c<=d&&d<=a)&&(k<=i&&i<=h))||((c<=b&&b<=a)&&(k<=i&&i<=h))||((c<=d&&d<=a)&&(k<=g&&g<=h))||((c<=b&&d<=a)&&(k<=g&&g<=h))||((d<=c&&c<=b)&&(i<=k&&k<=g))||((d<=a&&a<=b)&&(i<=k&&k<=g))||((d<=c&&c<=b)&&(i<=h&&h<=g))||((d<=a&&c<=b)&&(i<=h&&h<=g))},segmentMultipliers:[null,[1,-1],[1,1],[-1,1],[-1,-1]],inverseSegmentMultipliers:[null,[-1,-1],[-1,1],[1,1],[1,-1]],pointOnLine:function(a,e,b){var d=jsPlumbUtil.gradient(a,e),i=jsPlumbUtil.segment(a,e),h=b>0?jsPlumbUtil.segmentMultipliers[i]:jsPlumbUtil.inverseSegmentMultipliers[i],c=Math.atan(d),f=Math.abs(b*Math.sin(c))*h[1],g=Math.abs(b*Math.cos(c))*h[0];return{x:a.x+g,y:a.y+f}},perpendicularLineTo:function(c,d,e){var b=jsPlumbUtil.gradient(c,d),f=Math.atan(-1/b),g=e/2*Math.sin(f),a=e/2*Math.cos(f);return[{x:d.x+a,y:d.y+g},{x:d.x-a,y:d.y-g}]},findWithFunction:function(b,d){if(b){for(var c=0;c<b.length;c++){if(d(b[c])){return c}}}return -1},indexOf:function(a,b){return jsPlumbUtil.findWithFunction(a,function(c){return c==b})},removeWithFunction:function(c,d){var b=jsPlumbUtil.findWithFunction(c,d);if(b>-1){c.splice(b,1)}return b!=-1},remove:function(b,c){var a=jsPlumbUtil.indexOf(b,c);if(a>-1){b.splice(a,1)}return a!=-1},addWithFunction:function(c,b,a){if(jsPlumbUtil.findWithFunction(c,a)==-1){c.push(b)}},addToList:function(d,b,c){var a=d[b];if(a==null){a=[],d[b]=a}a.push(c);return a},EventGenerator:function(){var c={},b=this;var a=["ready"];this.bind=function(d,e){jsPlumbUtil.addToList(c,d,e);return b};this.fire=function(g,h,d){if(c[g]){for(var f=0;f<c[g].length;f++){if(jsPlumbUtil.findWithFunction(a,function(i){return i===g})!=-1){c[g][f](h,d)}else{try{c[g][f](h,d)}catch(k){jsPlumbUtil.log("jsPlumb: fire failed for event "+g+" : "+k)}}}}return b};this.unbind=function(d){if(d){delete c[d]}else{delete c;c={}}return b};this.getListener=function(d){return c[d]}},logEnabled:true,log:function(){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){try{var b=arguments[arguments.length-1];console.log(b)}catch(a){}}},group:function(a){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){console.group(a)}},groupEnd:function(a){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){console.groupEnd(a)}},time:function(a){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){console.time(a)}},timeEnd:function(a){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){console.timeEnd(a)}}};(function(){var A=!!document.createElement("canvas").getContext,e=!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),b=function(){if(b.vml==undefined){var L=document.body.appendChild(document.createElement("div"));L.innerHTML='<v:shape id="vml_flag1" adj="1" />';var K=L.firstChild;K.style.behavior="url(#default#VML)";b.vml=K?typeof K.adj=="object":true;L.parentNode.removeChild(L)}return b.vml};var i=jsPlumbUtil.findWithFunction,J=jsPlumbUtil.indexOf,D=jsPlumbUtil.removeWithFunction,m=jsPlumbUtil.remove,u=jsPlumbUtil.addWithFunction,l=jsPlumbUtil.addToList,n=jsPlumbUtil.isArray,C=jsPlumbUtil.isString,w=jsPlumbUtil.isObject;if(!window.console){window.console={time:function(){},timeEnd:function(){},group:function(){},groupEnd:function(){},log:function(){}}}var x=null,d=function(K,L){return p.CurrentLibrary.getAttribute(F(K),L)},f=function(L,M,K){p.CurrentLibrary.setAttribute(F(L),M,K)},B=function(L,K){p.CurrentLibrary.addClass(F(L),K)},k=function(L,K){return p.CurrentLibrary.hasClass(F(L),K)},o=function(L,K){p.CurrentLibrary.removeClass(F(L),K)},F=function(K){return p.CurrentLibrary.getElementObject(K)},t=function(K){return p.CurrentLibrary.getOffset(F(K))},a=function(K){return p.CurrentLibrary.getSize(F(K))},q=jsPlumbUtil.log,I=jsPlumbUtil.group,h=jsPlumbUtil.groupEnd,H=jsPlumbUtil.time,v=jsPlumbUtil.timeEnd,r=function(){return""+(new Date()).getTime()},E=function(Z){var U=this,aa=arguments,R=false,O=Z.parameters||{},M=U.idPrefix,W=M+(new Date()).getTime(),V=null,ab=null;U._jsPlumb=Z._jsPlumb;U.getId=function(){return W};U.tooltip=Z.tooltip;U.hoverClass=Z.hoverClass||U._jsPlumb.Defaults.HoverClass||p.Defaults.HoverClass;jsPlumbUtil.EventGenerator.apply(this);this.clone=function(){var ac=new Object();U.constructor.apply(ac,aa);return ac};this.getParameter=function(ac){return O[ac]},this.getParameters=function(){return O},this.setParameter=function(ac,ad){O[ac]=ad},this.setParameters=function(ac){O=ac},this.overlayPlacements=[];var N=Z.beforeDetach;this.isDetachAllowed=function(ac){var ad=U._jsPlumb.checkCondition("beforeDetach",ac);if(N){try{ad=N(ac)}catch(ae){q("jsPlumb: beforeDetach callback failed",ae)}}return ad};var Q=Z.beforeDrop;this.isDropAllowed=function(ah,ae,af,ac,ad){var ag=U._jsPlumb.checkCondition("beforeDrop",{sourceId:ah,targetId:ae,scope:af,connection:ac,dropEndpoint:ad});if(Q){try{ag=Q({sourceId:ah,targetId:ae,scope:af,connection:ac,dropEndpoint:ad})}catch(ai){q("jsPlumb: beforeDrop callback failed",ai)}}return ag};var X=function(){if(V&&ab){var ac={};p.extend(ac,V);p.extend(ac,ab);delete U.hoverPaintStyle;if(ac.gradient&&V.fillStyle){delete ac.gradient}ab=ac}};this.setPaintStyle=function(ac,ad){V=ac;U.paintStyleInUse=V;X();if(!ad){U.repaint()}};this.getPaintStyle=function(){return V};this.setHoverPaintStyle=function(ac,ad){ab=ac;X();if(!ad){U.repaint()}};this.getHoverPaintStyle=function(){return ab};this.setHover=function(ac,ae,ad){if(!U._jsPlumb.currentlyDragging&&!U._jsPlumb.isHoverSuspended()){R=ac;if(U.hoverClass!=null&&U.canvas!=null){if(ac){L.addClass(U.canvas,U.hoverClass)}else{L.removeClass(U.canvas,U.hoverClass)}}if(ab!=null){U.paintStyleInUse=ac?ab:V;ad=ad||r();U.repaint({timestamp:ad,recalc:false})}if(U.getAttachedElements&&!ae){Y(ac,r(),U)}}};this.isHover=function(){return R};var L=p.CurrentLibrary,K=["click","dblclick","mouseenter","mouseout","mousemove","mousedown","mouseup","contextmenu"],T={mouseout:"mouseexit"},P=function(ae,af,ad){var ac=T[ad]||ad;L.bind(ae,ad,function(ag){af.fire(ac,af,ag)})},S=function(ae,ad){var ac=T[ad]||ad;L.unbind(ae,ad)};this.attachListeners=function(ad,ae){for(var ac=0;ac<K.length;ac++){P(ad,ae,K[ac])}};var Y=function(ag,af,ac){var ae=U.getAttachedElements();if(ae){for(var ad=0;ad<ae.length;ad++){if(!ac||ac!=ae[ad]){ae[ad].setHover(ag,true,af)}}}};this.reattachListenersForElement=function(ad){if(arguments.length>1){for(var ac=0;ac<K.length;ac++){S(ad,K[ac])}for(var ac=1;ac<arguments.length;ac++){U.attachListeners(ad,arguments[ac])}}}},z=function(P){E.apply(this,arguments);var U=this;this.overlays=[];var N=function(Z){var X=null;if(n(Z)){var W=Z[0],Y=p.extend({component:U,_jsPlumb:U._jsPlumb},Z[1]);if(Z.length==3){p.extend(Y,Z[2])}X=new p.Overlays[U._jsPlumb.getRenderMode()][W](Y);if(Y.events){for(var V in Y.events){X.bind(V,Y.events[V])}}}else{if(Z.constructor==String){X=new p.Overlays[U._jsPlumb.getRenderMode()][Z]({component:U,_jsPlumb:U._jsPlumb})}else{X=Z}}U.overlays.push(X)},O=function(Z){var V=U.defaultOverlayKeys||[],Y=Z.overlays,W=function(aa){return U._jsPlumb.Defaults[aa]||p.Defaults[aa]||[]};if(!Y){Y=[]}for(var X=0;X<V.length;X++){Y.unshift.apply(Y,W(V[X]))}return Y};var L=O(P);if(L){for(var Q=0;Q<L.length;Q++){N(L[Q])}}var K=function(X){var V=-1;for(var W=0;W<U.overlays.length;W++){if(X===U.overlays[W].id){V=W;break}}return V};this.addOverlay=function(V){N(V);U.repaint()};this.getOverlay=function(W){var V=K(W);return V>=0?U.overlays[V]:null};this.getOverlays=function(){return U.overlays};this.hideOverlay=function(W){var V=U.getOverlay(W);if(V){V.hide()}};this.hideOverlays=function(){for(var V=0;V<U.overlays.length;V++){U.overlays[V].hide()}};this.showOverlay=function(W){var V=U.getOverlay(W);if(V){V.show()}};this.showOverlays=function(){for(var V=0;V<U.overlays.length;V++){U.overlays[V].show()}};this.removeAllOverlays=function(){for(var V in U.overlays){U.overlays[V].cleanup()}U.overlays.splice(0,U.overlays.length);U.repaint()};this.removeOverlay=function(W){var V=K(W);if(V!=-1){var X=U.overlays[V];X.cleanup();U.overlays.splice(V,1)}};this.removeOverlays=function(){for(var V=0;V<arguments.length;V++){U.removeOverlay(arguments[V])}};var M="__label",T=function(X){var V={cssClass:X.cssClass,labelStyle:this.labelStyle,id:M,component:U,_jsPlumb:U._jsPlumb},W=p.extend(V,X);return new p.Overlays[U._jsPlumb.getRenderMode()].Label(W)};if(P.label){var R=P.labelLocation||U.defaultLabelLocation||0.5,S=P.labelStyle||U._jsPlumb.Defaults.LabelStyle||p.Defaults.LabelStyle;this.overlays.push(T({label:P.label,location:R,labelStyle:S}))}this.setLabel=function(V){var W=U.getOverlay(M);if(!W){var X=V.constructor==String||V.constructor==Function?{label:V}:V;W=T(X);this.overlays.push(W)}else{if(V.constructor==String||V.constructor==Function){W.setLabel(V)}else{if(V.label){W.setLabel(V.label)}if(V.location){W.setLocation(V.location)}}}U.repaint()};this.getLabel=function(){var V=U.getOverlay(M);return V!=null?V.getLabel():null};this.getLabelOverlay=function(){return U.getOverlay(M)}},G=function(M,K,L){M.bind("click",function(N,O){K.fire("click",K,O)});M.bind("dblclick",function(N,O){K.fire("dblclick",K,O)});M.bind("contextmenu",function(N,O){K.fire("contextmenu",K,O)});M.bind("mouseenter",function(N,O){if(!K.isHover()){L(true);K.fire("mouseenter",K,O)}});M.bind("mouseexit",function(N,O){if(K.isHover()){L(false);K.fire("mouseexit",K,O)}})};var g=0,c=function(){var K=g+1;g++;return K};var y=function(L){this.Defaults={Anchor:"BottomCenter",Anchors:[null,null],ConnectionsDetachable:true,ConnectionOverlays:[],Connector:"Bezier",Container:null,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:false,Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:8,strokeStyle:"#456"},RenderMode:"svg",Scope:"jsPlumb_DefaultScope"};if(L){p.extend(this.Defaults,L)}this.logEnabled=this.Defaults.LogEnabled;jsPlumbUtil.EventGenerator.apply(this);var bn=this,aL=c(),aO=bn.bind,aC={};for(var aB in this.Defaults){aC[aB]=this.Defaults[aB]}this.bind=function(bw,bv){if("ready"===bw&&M){bv()}else{aO.apply(bn,[bw,bv])}};bn.importDefaults=function(bw){for(var bv in bw){bn.Defaults[bv]=bw[bv]}};bn.restoreDefaults=function(){bn.Defaults=p.extend({},aC)};var P=null,ar=function(){p.repaintEverything()},bp=true,aP=function(){if(bp){ar()}},be=null,M=false,aY={},aT={},aU={},ah={},br={},bf={},bm={},bu=[],ae=[],Q=this.Defaults.Scope,X=null,V=function(by,bw,bx){var bv=by[bw];if(bv==null){bv=[];by[bw]=bv}bv.push(bx);return bv},aW=function(bw,bv){if(bn.Defaults.Container){p.CurrentLibrary.appendElement(bw,bn.Defaults.Container)}else{if(!bv){document.body.appendChild(bw)}else{p.CurrentLibrary.appendElement(bw,bv)}}},aD=1,ak=function(){return""+aD++},aI=function(bv){return bv._nodes?bv._nodes:bv},a6=false,bg=function(bw,bv){a6=bw;if(bv){bn.repaintEverything()}},ba=function(bx,bz,by){if(!a6){var bA=d(bx,"id"),bv=bn.dragManager.getElementsForDraggable(bA);if(by==null){by=r()}bn.anchorManager.redraw(bA,bz,by);if(bv){for(var bw in bv){bn.anchorManager.redraw(bv[bw].id,bz,by,bv[bw].offset)}}}},aG=function(bw,by){var bz=null;if(n(bw)){bz=[];for(var bv=0;bv<bw.length;bv++){var bx=F(bw[bv]),bA=d(bx,"id");bz.push(by(bx,bA))}}else{var bx=F(bw),bA=d(bx,"id");bz=by(bx,bA)}return bz},av=function(bv){return aU[bv]},bb=function(bz,bv,bC){var bE=bv==null?false:bv,bA=p.CurrentLibrary;if(bE){if(bA.isDragSupported(bz)&&!bA.isAlreadyDraggable(bz)){var bD=bC||bn.Defaults.DragOptions||p.Defaults.DragOptions;bD=p.extend({},bD);var bB=bA.dragEvents.drag,bw=bA.dragEvents.stop,by=bA.dragEvents.start;bD[by]=am(bD[by],function(){bn.setHoverSuspended(true)});bD[bB]=am(bD[bB],function(){var bF=bA.getUIPosition(arguments);ba(bz,bF);B(bz,"jsPlumb_dragged")});bD[bw]=am(bD[bw],function(){var bF=bA.getUIPosition(arguments);ba(bz,bF);o(bz,"jsPlumb_dragged");bn.setHoverSuspended(false)});var bx=K(bz);bm[bx]=true;var bE=bm[bx];bD.disabled=bE==null?false:!bE;bA.initDraggable(bz,bD,false);bn.dragManager.register(bz)}}},aA=function(bB,bw){var bv=p.extend({},bB);if(bw){p.extend(bv,bw)}if(bv.source&&bv.source.endpoint){bv.sourceEndpoint=bv.source}if(bv.source&&bv.target.endpoint){bv.targetEndpoint=bv.target}if(bB.uuids){bv.sourceEndpoint=av(bB.uuids[0]);bv.targetEndpoint=av(bB.uuids[1])}if(bv.sourceEndpoint&&bv.sourceEndpoint.isFull()){q(bn,"could not add connection; source endpoint is full");return}if(bv.targetEndpoint&&bv.targetEndpoint.isFull()){q(bn,"could not add connection; target endpoint is full");return}if(bv.sourceEndpoint&&bv.sourceEndpoint.connectorOverlays){bv.overlays=bv.overlays||[];for(var bz=0;bz<bv.sourceEndpoint.connectorOverlays.length;bz++){bv.overlays.push(bv.sourceEndpoint.connectorOverlays[bz])}}bv.tooltip=bB.tooltip;if(!bv.tooltip&&bv.sourceEndpoint&&bv.sourceEndpoint.connectorTooltip){bv.tooltip=bv.sourceEndpoint.connectorTooltip}if(bv.target&&!bv.target.endpoint&&!bv.targetEndpoint&&!bv.newConnection){var bA=K(bv.target),bC=aZ[bA],bx=aH[bA];if(bC){if(!aj[bA]){return}var by=bx!=null?bx:bn.addEndpoint(bv.target,bC);if(bh[bA]){aH[bA]=by}bv.targetEndpoint=by;by._makeTargetCreator=true}}if(bv.source&&!bv.source.endpoint&&!bv.sourceEndpoint&&!bv.newConnection){var bA=K(bv.source),bC=az[bA],bx=a5[bA];if(bC){if(!ac[bA]){return}var by=bx!=null?bx:bn.addEndpoint(bv.source,bC);if(a9[bA]){a5[bA]=by}bv.sourceEndpoint=by}}return bv},ad=function(bz){var by=bn.Defaults.ConnectionType||bn.getDefaultConnectionType(),bx=bn.Defaults.EndpointType||af,bw=p.CurrentLibrary.getParent;if(bz.container){bz.parent=bz.container}else{if(bz.sourceEndpoint){bz.parent=bz.sourceEndpoint.parent}else{if(bz.source.constructor==bx){bz.parent=bz.source.parent}else{bz.parent=bw(bz.source)}}}bz._jsPlumb=bn;var bv=new by(bz);bv.id="con_"+ak();bs("click","click",bv);bs("dblclick","dblclick",bv);bs("contextmenu","contextmenu",bv);return bv},bt=function(bw,bx,bv){bx=bx||{};if(!bw.suspendedEndpoint){V(aY,bw.scope,bw)}if(!bx.doNotFireConnectionEvent&&bx.fireEvent!==false){bn.fire("jsPlumbConnection",{connection:bw,source:bw.source,target:bw.target,sourceId:bw.sourceId,targetId:bw.targetId,sourceEndpoint:bw.endpoints[0],targetEndpoint:bw.endpoints[1]},bv)}bn.anchorManager.newConnection(bw);ba(bw.source)},bs=function(bv,bw,bx){bx.bind(bv,function(bz,by){bn.fire(bw,bx,by)})},aw=function(bx){if(bx.container){return bx.container}else{var bv=p.CurrentLibrary.getTagName(bx.source),bw=p.CurrentLibrary.getParent(bx.source);if(bv&&bv.toLowerCase()==="td"){return p.CurrentLibrary.getParent(bw)}else{return bw}}},aF=function(bx){var bw=bn.Defaults.EndpointType||af;bx.parent=aw(bx);bx._jsPlumb=bn;var bv=new bw(bx);bv.id="ep_"+ak();bs("click","endpointClick",bv);bs("dblclick","endpointDblClick",bv);bs("contextmenu","contextmenu",bv);return bv},U=function(bx,bA,bz){var bv=aT[bx];if(bv&&bv.length){for(var by=0;by<bv.length;by++){for(var bw=0;bw<bv[by].connections.length;bw++){var bB=bA(bv[by].connections[bw]);if(bB){return}}if(bz){bz(bv[by])}}}},Y=function(bw){for(var bv in aT){U(bv,bw)}},au=function(bv,bw){if(bv!=null&&bv.parentNode!=null){bv.parentNode.removeChild(bv)}},aX=function(bx,bw){for(var bv=0;bv<bx.length;bv++){au(bx[bv],bw)}},bk=function(bw,bv){return aG(bw,function(bx,by){bm[by]=bv;if(p.CurrentLibrary.isDragSupported(bx)){p.CurrentLibrary.setDraggable(bx,bv)}})},a3=function(bx,by,bv){by=by==="block";var bw=null;if(bv){if(by){bw=function(bA){bA.setVisible(true,true,true)}}else{bw=function(bA){bA.setVisible(false,true,true)}}}var bz=d(bx,"id");U(bz,function(bB){if(by&&bv){var bA=bB.sourceId===bz?1:0;if(bB.endpoints[bA].isVisible()){bB.setVisible(true)}}else{bB.setVisible(by)}},bw)},bi=function(bv){return aG(bv,function(bx,bw){var by=bm[bw]==null?false:bm[bw];by=!by;bm[bw]=by;p.CurrentLibrary.setDraggable(bx,by);return by})},aQ=function(bv,bx){var bw=null;if(bx){bw=function(by){var bz=by.isVisible();by.setVisible(!bz)}}U(bv,function(bz){var by=bz.isVisible();bz.setVisible(!by)},bw)},W=function(bA){var by=bA.timestamp,bv=bA.recalc,bz=bA.offset,bw=bA.elId;if(!bv){if(by&&by===br[bw]){return ah[bw]}}if(bv||!bz){var bx=F(bw);if(bx!=null){ae[bw]=a(bx);ah[bw]=t(bx);br[bw]=by}}else{ah[bw]=bz;if(ae[bw]==null){var bx=F(bw);if(bx!=null){ae[bw]=a(bx)}}}if(ah[bw]&&!ah[bw].right){ah[bw].right=ah[bw].left+ae[bw][0];ah[bw].bottom=ah[bw].top+ae[bw][1];ah[bw].width=ae[bw][0];ah[bw].height=ae[bw][1];ah[bw].centerx=ah[bw].left+(ah[bw].width/2);ah[bw].centery=ah[bw].top+(ah[bw].height/2)}return ah[bw]},aN=function(bv){var bw=ah[bv];if(!bw){bw=W({elId:bv})}return{o:bw,s:ae[bv]}},K=function(bv,bw,by){var bx=F(bv);var bz=d(bx,"id");if(!bz||bz=="undefined"){if(arguments.length==2&&arguments[1]!=undefined){bz=bw}else{if(arguments.length==1||(arguments.length==3&&!arguments[2])){bz="jsPlumb_"+aL+"_"+ak()}}f(bx,"id",bz)}return bz},am=function(bx,bv,bw){bx=bx||function(){};bv=bv||function(){};return function(){var by=null;try{by=bv.apply(this,arguments)}catch(bz){q(bn,"jsPlumb function failed : "+bz)}if(bw==null||(by!==bw)){try{bx.apply(this,arguments)}catch(bz){q(bn,"wrapped function failed : "+bz)}}return by}};this.connectorClass="_jsPlumb_connector";this.endpointClass="_jsPlumb_endpoint";this.overlayClass="_jsPlumb_overlay";this.Anchors={};this.Connectors={canvas:{},svg:{},vml:{}};this.Endpoints={canvas:{},svg:{},vml:{}};this.Overlays={canvas:{},svg:{},vml:{}};this.addClass=function(bw,bv){return p.CurrentLibrary.addClass(bw,bv)};this.removeClass=function(bw,bv){return p.CurrentLibrary.removeClass(bw,bv)};this.hasClass=function(bw,bv){return p.CurrentLibrary.hasClass(bw,bv)};this.addEndpoint=function(bx,by,bH){bH=bH||{};var bw=p.extend({},bH);p.extend(bw,by);bw.endpoint=bw.endpoint||bn.Defaults.Endpoint||p.Defaults.Endpoint;bw.paintStyle=bw.paintStyle||bn.Defaults.EndpointStyle||p.Defaults.EndpointStyle;bx=aI(bx);var bz=[],bC=bx.length&&bx.constructor!=String?bx:[bx];for(var bA=0;bA<bC.length;bA++){var bF=F(bC[bA]),bv=K(bF);bw.source=bF;W({elId:bv});var bE=aF(bw);if(bw.parentAnchor){bE.parentAnchor=bw.parentAnchor}V(aT,bv,bE);var bD=ah[bv],bB=ae[bv];var bG=bE.anchor.compute({xy:[bD.left,bD.top],wh:bB,element:bE});bE.paint({anchorLoc:bG});bz.push(bE);bn.dragManager.endpointAdded(bF)}return bz.length==1?bz[0]:bz};this.addEndpoints=function(bz,bw,bv){var by=[];for(var bx=0;bx<bw.length;bx++){var bA=bn.addEndpoint(bz,bw[bx],bv);if(n(bA)){Array.prototype.push.apply(by,bA)}else{by.push(bA)}}return by};this.animate=function(bx,bw,bv){var by=F(bx),bB=d(bx,"id");bv=bv||{};var bA=p.CurrentLibrary.dragEvents.step;var bz=p.CurrentLibrary.dragEvents.complete;bv[bA]=am(bv[bA],function(){bn.repaint(bB)});bv[bz]=am(bv[bz],function(){bn.repaint(bB)});p.CurrentLibrary.animate(by,bw,bv)};this.checkCondition=function(bx,bz){var bv=bn.getListener(bx);var by=true;if(bv&&bv.length>0){try{for(var bw=0;bw<bv.length;bw++){by=by&&bv[bw](bz)}}catch(bA){q(bn,"cannot check condition ["+bx+"]"+bA)}}return by};this.connect=function(by,bw){var bv=aA(by,bw);if(bv){if(bv.deleteEndpointsOnDetach==null){bv.deleteEndpointsOnDetach=true}var bx=ad(bv);bt(bx,bv);return bx}};this.deleteEndpoint=function(bw){var bB=(typeof bw=="string")?aU[bw]:bw;if(bB){var by=bB.getUuid();if(by){aU[by]=null}bB.detachAll();aX(bB.endpoint.getDisplayElements());bn.anchorManager.deleteEndpoint(bB);for(var bA in aT){var bv=aT[bA];if(bv){var bz=[];for(var bx=0;bx<bv.length;bx++){if(bv[bx]!=bB){bz.push(bv[bx])}}aT[bA]=bz}}bn.dragManager.endpointDeleted(bB)}};this.deleteEveryEndpoint=function(){for(var bx in aT){var bv=aT[bx];if(bv&&bv.length){for(var bw=0;bw<bv.length;bw++){bn.deleteEndpoint(bv[bw])}}}delete aT;aT={};delete aU;aU={}};var a7=function(by,bA,bv){var bx=bn.Defaults.ConnectionType||bn.getDefaultConnectionType(),bw=by.constructor==bx,bz=bw?{connection:by,source:by.source,target:by.target,sourceId:by.sourceId,targetId:by.targetId,sourceEndpoint:by.endpoints[0],targetEndpoint:by.endpoints[1]}:by;if(bA){bn.fire("jsPlumbConnectionDetached",bz,bv)}bn.anchorManager.connectionDetached(bz)},a4=function(bv){bn.fire("connectionDrag",bv)},aR=function(bv){bn.fire("connectionDragStop",bv)};this.detach=function(){if(arguments.length==0){return}var bz=bn.Defaults.ConnectionType||bn.getDefaultConnectionType(),bA=arguments[0].constructor==bz,by=arguments.length==2?bA?(arguments[1]||{}):arguments[0]:arguments[0],bD=(by.fireEvent!==false),bx=by.forceDetach,bw=bA?arguments[0]:by.connection;if(bw){if(bx||(bw.isDetachAllowed(bw)&&bw.endpoints[0].isDetachAllowed(bw)&&bw.endpoints[1].isDetachAllowed(bw))){if(bx||bn.checkCondition("beforeDetach",bw)){bw.endpoints[0].detach(bw,false,true,bD)}}}else{var bv=p.extend({},by);if(bv.uuids){av(bv.uuids[0]).detachFrom(av(bv.uuids[1]),bD)}else{if(bv.sourceEndpoint&&bv.targetEndpoint){bv.sourceEndpoint.detachFrom(bv.targetEndpoint)}else{var bC=K(bv.source),bB=K(bv.target);U(bC,function(bE){if((bE.sourceId==bC&&bE.targetId==bB)||(bE.targetId==bC&&bE.sourceId==bB)){if(bn.checkCondition("beforeDetach",bE)){bE.endpoints[0].detach(bE,false,true,bD)}}})}}}};this.detachAllConnections=function(bx,by){by=by||{};bx=F(bx);var bz=d(bx,"id"),bv=aT[bz];if(bv&&bv.length){for(var bw=0;bw<bv.length;bw++){bv[bw].detachAll(by.fireEvent)}}};this.detachEveryConnection=function(bx){bx=bx||{};for(var by in aT){var bv=aT[by];if(bv&&bv.length){for(var bw=0;bw<bv.length;bw++){bv[bw].detachAll(bx.fireEvent)}}}delete aY;aY={}};this.draggable=function(bx,bv){if(typeof bx=="object"&&bx.length){for(var bw=0;bw<bx.length;bw++){var by=F(bx[bw]);if(by){bb(by,true,bv)}}}else{if(bx._nodes){for(var bw=0;bw<bx._nodes.length;bw++){var by=F(bx._nodes[bw]);if(by){bb(by,true,bv)}}}else{var by=F(bx);if(by){bb(by,true,bv)}}}};this.extend=function(bw,bv){return p.CurrentLibrary.extend(bw,bv)};this.getDefaultEndpointType=function(){return af};this.getDefaultConnectionType=function(){return ax};var bq=function(bz,by,bw,bv){for(var bx=0;bx<bz.length;bx++){bz[bx][by].apply(bz[bx],bw)}return bv(bz)},S=function(bz,by,bw){var bv=[];for(var bx=0;bx<bz.length;bx++){bv.push([bz[bx][by].apply(bz[bx],bw),bz[bx]])}return bv},an=function(bx,bw,bv){return function(){return bq(bx,bw,arguments,bv)}},ay=function(bw,bv){return function(){return S(bw,bv,arguments)}};this.getConnections=function(bH,bw){if(!bH){bH={}}else{if(bH.constructor==String){bH={scope:bH}}}var bE=function(bI){var bJ=[];if(bI){if(typeof bI=="string"){if(bI==="*"){return bI}bJ.push(bI)}else{bJ=bI}}return bJ},bF=bH.scope||bn.getDefaultScope(),bD=bE(bF),bv=bE(bH.source),bB=bE(bH.target),bx=function(bJ,bI){if(bJ==="*"){return true}return bJ.length>0?J(bJ,bI)!=-1:true},bA=(!bw&&bD.length>1)?{}:[],bG=function(bJ,bK){if(!bw&&bD.length>1){var bI=bA[bJ];if(bI==null){bI=[];bA[bJ]=bI}bI.push(bK)}else{bA.push(bK)}};for(var bz in aY){if(bx(bD,bz)){for(var by=0;by<aY[bz].length;by++){var bC=aY[bz][by];if(bx(bv,bC.sourceId)&&bx(bB,bC.targetId)){bG(bz,bC)}}}}return bA};var aK=function(bv){return{setHover:an(bv,"setHover",aK),removeAllOverlays:an(bv,"removeAllOverlays",aK),setLabel:an(bv,"setLabel",aK),addOverlay:an(bv,"addOverlay",aK),removeOverlay:an(bv,"removeOverlay",aK),removeOverlays:an(bv,"removeOverlays",aK),showOverlay:an(bv,"showOverlay",aK),hideOverlay:an(bv,"hideOverlay",aK),showOverlays:an(bv,"showOverlays",aK),hideOverlays:an(bv,"hideOverlays",aK),setPaintStyle:an(bv,"setPaintStyle",aK),setHoverPaintStyle:an(bv,"setHoverPaintStyle",aK),setDetachable:an(bv,"setDetachable",aK),setConnector:an(bv,"setConnector",aK),setParameter:an(bv,"setParameter",aK),setParameters:an(bv,"setParameters",aK),detach:function(){for(var bw=0;bw<bv.length;bw++){bn.detach(bv[bw])}},getLabel:ay(bv,"getLabel"),getOverlay:ay(bv,"getOverlay"),isHover:ay(bv,"isHover"),isDetachable:ay(bv,"isDetachable"),getParameter:ay(bv,"getParameter"),getParameters:ay(bv,"getParameters"),getPaintStyle:ay(bv,"getPaintStyle"),getHoverPaintStyle:ay(bv,"getHoverPaintStyle"),length:bv.length,each:function(bx){for(var bw=0;bw<bv.length;bw++){bx(bv[bw])}return aK(bv)},get:function(bw){return bv[bw]}}};this.select=function(bv){bv=bv||{};bv.scope=bv.scope||"*";var bw=bn.getConnections(bv,true);return aK(bw)};this.getAllConnections=function(){return aY};this.getDefaultScope=function(){return Q};this.getEndpoint=av;this.getEndpoints=function(bv){return aT[K(bv)]};this.getId=K;this.getOffset=function(bw){var bv=ah[bw];return W({elId:bw})};this.getSelector=function(bv){return p.CurrentLibrary.getSelector(bv)};this.getSize=function(bw){var bv=ae[bw];if(!bv){W({elId:bw})}return ae[bw]};this.appendElement=aW;var aS=false;this.isHoverSuspended=function(){return aS};this.setHoverSuspended=function(bv){aS=bv};this.isCanvasAvailable=function(){return A};this.isSVGAvailable=function(){return e};this.isVMLAvailable=b;this.hide=function(bv,bw){a3(bv,"none",bw)};this.idstamp=ak;this.init=function(){if(!M){bn.setRenderMode(bn.Defaults.RenderMode);var bv=function(bw){p.CurrentLibrary.bind(document,bw,function(bC){if(!bn.currentlyDragging&&X==p.CANVAS){for(var bB in aY){var bD=aY[bB];for(var bz=0;bz<bD.length;bz++){var by=bD[bz].connector[bw](bC);if(by){return}}}for(var bA in aT){var bx=aT[bA];for(var bz=0;bz<bx.length;bz++){if(bx[bz].endpoint[bw](bC)){return}}}}})};bv("click");bv("dblclick");bv("mousemove");bv("mousedown");bv("mouseup");bv("contextmenu");M=true;bn.fire("ready")}};this.log=P;this.jsPlumbUIComponent=E;this.makeAnchor=function(){if(arguments.length==0){return null}var bA=arguments[0],bx=arguments[1],bw=arguments[2],by=null;if(bA.compute&&bA.getOrientation){return bA}else{if(typeof bA=="string"){by=p.Anchors[arguments[0]]({elementId:bx,jsPlumbInstance:bn})}else{if(n(bA)){if(n(bA[0])||C(bA[0])){if(bA.length==2&&C(bA[0])&&w(bA[1])){var bv=p.extend({elementId:bx,jsPlumbInstance:bn},bA[1]);by=p.Anchors[bA[0]](bv)}else{by=new aq(bA,null,bx)}}else{var bz={x:bA[0],y:bA[1],orientation:(bA.length>=4)?[bA[2],bA[3]]:[0,0],offsets:(bA.length==6)?[bA[4],bA[5]]:[0,0],elementId:bx};by=new aa(bz);by.clone=function(){return new aa(bz)}}}}}if(!by.id){by.id="anchor_"+ak()}return by};this.makeAnchors=function(by,bw,bv){var bz=[];for(var bx=0;bx<by.length;bx++){if(typeof by[bx]=="string"){bz.push(p.Anchors[by[bx]]({elementId:bw,jsPlumbInstance:bv}))}else{if(n(by[bx])){bz.push(bn.makeAnchor(by[bx],bw,bv))}}}return bz};this.makeDynamicAnchor=function(bv,bw){return new aq(bv,bw)};var aZ={},aH={},bh={},ap={},ab=function(bv,bw){bv.paintStyle=bv.paintStyle||bn.Defaults.EndpointStyles[bw]||bn.Defaults.EndpointStyle||p.Defaults.EndpointStyles[bw]||p.Defaults.EndpointStyle;bv.hoverPaintStyle=bv.hoverPaintStyle||bn.Defaults.EndpointHoverStyles[bw]||bn.Defaults.EndpointHoverStyle||p.Defaults.EndpointHoverStyles[bw]||p.Defaults.EndpointHoverStyle;bv.anchor=bv.anchor||bn.Defaults.Anchors[bw]||bn.Defaults.Anchor||p.Defaults.Anchors[bw]||p.Defaults.Anchor;bv.endpoint=bv.endpoint||bn.Defaults.Endpoints[bw]||bn.Defaults.Endpoint||p.Defaults.Endpoints[bw]||p.Defaults.Endpoint};this.makeTarget=function(by,bz,bF){var bw=p.extend({_jsPlumb:bn},bF);p.extend(bw,bz);ab(bw,1);var bD=p.CurrentLibrary,bE=bw.scope||bn.Defaults.Scope,bA=!(bw.deleteEndpointsOnDetach===false),bx=bw.maxConnections||-1,bv=function(bK){var bI=K(bK);aZ[bI]=bw;bh[bI]=bw.uniqueEndpoint,ap[bI]=bx,aj[bI]=true,proxyComponent=new E(bw);var bH=p.extend({},bw.dropOptions||{}),bG=function(){var bN=p.CurrentLibrary.getDropEvent(arguments),bP=bn.select({target:bI}).length;if(!aj[bI]||ap[bI]>0&&bP>=ap[bI]){console.log("target element "+bI+" is full.");return false}bn.currentlyDragging=false;var bZ=F(bD.getDragObject(arguments)),bO=d(bZ,"dragId"),bX=d(bZ,"originalScope"),bU=bf[bO],bM=bU.endpoints[0],bL=bw.endpoint?p.extend({},bw.endpoint):{};bM.anchor.locked=false;if(bX){bD.setDragScope(bZ,bX)}var bS=proxyComponent.isDropAllowed(bU.sourceId,K(bK),bU.scope,bU,null);if(bU.endpointsToDeleteOnDetach){if(bM===bU.endpointsToDeleteOnDetach[0]){bU.endpointsToDeleteOnDetach[0]=null}else{if(bM===bU.endpointsToDeleteOnDetach[1]){bU.endpointsToDeleteOnDetach[1]=null}}}if(bU.suspendedEndpoint){bU.targetId=bU.suspendedEndpoint.elementId;bU.target=bD.getElementObject(bU.suspendedEndpoint.elementId);bU.endpoints[1]=bU.suspendedEndpoint}if(bS){bM.detach(bU,false,true,false);var bY=aH[bI]||bn.addEndpoint(bK,bw);if(bw.uniqueEndpoint){aH[bI]=bY}bY._makeTargetCreator=true;if(bY.anchor.positionFinder!=null){var bV=bD.getUIPosition(arguments),bR=bD.getOffset(bK),bW=bD.getSize(bK),bQ=bY.anchor.positionFinder(bV,bR,bW,bY.anchor.constructorParams);bY.anchor.x=bQ[0];bY.anchor.y=bQ[1]}var bT=bn.connect({source:bM,target:bY,scope:bX,previousConnection:bU,container:bU.parent,deleteEndpointsOnDetach:bA,doNotFireConnectionEvent:bM.endpointWillMoveAfterConnection});if(bU.endpoints[1]._makeTargetCreator&&bU.endpoints[1].connections.length<2){bn.deleteEndpoint(bU.endpoints[1])}if(bA){bT.endpointsToDeleteOnDetach=[bM,bY]}bT.repaint()}else{if(bU.suspendedEndpoint){if(bM.isReattach){bU.setHover(false);bU.floatingAnchorIndex=null;bU.suspendedEndpoint.addConnection(bU);bn.repaint(bM.elementId)}else{bM.detach(bU,false,true,true,bN)}}}};var bJ=bD.dragEvents.drop;bH.scope=bH.scope||bE;bH[bJ]=am(bH[bJ],bG);bD.initDroppable(bK,bH,true)};by=aI(by);var bC=by.length&&by.constructor!=String?by:[by];for(var bB=0;bB<bC.length;bB++){bv(F(bC[bB]))}return bn};this.unmakeTarget=function(bw,bx){bw=p.CurrentLibrary.getElementObject(bw);var bv=K(bw);if(!bx){delete aZ[bv];delete bh[bv];delete ap[bv];delete aj[bv]}return bn};this.makeTargets=function(bx,by,bv){for(var bw=0;bw<bx.length;bw++){bn.makeTarget(bx[bw],by,bv)}};var az={},a5={},a9={},ac={},N={},aj={};this.makeSource=function(bz,bC,bv){var bA=p.extend({},bv);p.extend(bA,bC);ab(bA,0);var by=p.CurrentLibrary,bB=function(bK){var bE=K(bK),bL=bA.parent,bD=bL!=null?bn.getId(by.getElementObject(bL)):bE;az[bD]=bA;a9[bD]=bA.uniqueEndpoint;ac[bD]=true;var bF=by.dragEvents.stop,bJ=by.dragEvents.drag,bM=p.extend({},bA.dragOptions||{}),bH=bM.drag,bN=bM.stop,bO=null,bI=false;bM.scope=bM.scope||bA.scope;bM[bJ]=am(bM[bJ],function(){if(bH){bH.apply(this,arguments)}bI=false});bM[bF]=am(bM[bF],function(){if(bN){bN.apply(this,arguments)}bn.currentlyDragging=false;if(bO.connections.length==0){bn.deleteEndpoint(bO)}else{by.unbind(bO.canvas,"mousedown");var bQ=bA.anchor||bn.Defaults.Anchor,bR=bO.anchor,bT=bO.connections[0];bO.anchor=bn.makeAnchor(bQ,bE,bn);if(bA.parent){var bS=by.getElementObject(bA.parent);if(bS){var bP=bO.elementId;var bU=bA.container||bn.Defaults.Container||p.Defaults.Container;bO.setElement(bS,bU);bO.endpointWillMoveAfterConnection=false;bn.anchorManager.rehomeEndpoint(bP,bS);bT.previousConnection=null;D(aY[bT.scope],function(bV){return bV.id===bT.id});bn.anchorManager.connectionDetached({sourceId:bT.sourceId,targetId:bT.targetId,connection:bT});bt(bT)}}bO.repaint();bn.repaint(bO.elementId);bn.repaint(bT.targetId)}});var bG=function(bS){if(!ac[bD]){return}if(bC.filter){var bP=bC.filter(by.getOriginalEvent(bS),bK);if(bP===false){return}}var bW=W({elId:bE});var bV=((bS.pageX||bS.page.x)-bW.left)/bW.width,bU=((bS.pageY||bS.page.y)-bW.top)/bW.height,b0=bV,bZ=bU;if(bA.parent){var bT=by.getElementObject(bA.parent),bR=K(bT);bW=W({elId:bR});b0=((bS.pageX||bS.page.x)-bW.left)/bW.width,bZ=((bS.pageY||bS.page.y)-bW.top)/bW.height}var bY={};p.extend(bY,bA);bY.isSource=true;bY.anchor=[bV,bU,0,0];bY.parentAnchor=[b0,bZ,0,0];bY.dragOptions=bM;if(bA.parent){var bQ=bY.container||bn.Defaults.Container||p.Defaults.Container;if(bQ){bY.container=bQ}else{bY.container=p.CurrentLibrary.getParent(bA.parent)}}bO=bn.addEndpoint(bE,bY);bI=true;bO.endpointWillMoveAfterConnection=bA.parent!=null;bO.endpointWillMoveTo=bA.parent?by.getElementObject(bA.parent):null;var bX=function(){if(bI){bn.deleteEndpoint(bO)}};bn.registerListener(bO.canvas,"mouseup",bX);bn.registerListener(bK,"mouseup",bX);by.trigger(bO.canvas,"mousedown",bS)};bn.registerListener(bK,"mousedown",bG);N[bE]=bG};bz=aI(bz);var bw=bz.length&&bz.constructor!=String?bz:[bz];for(var bx=0;bx<bw.length;bx++){bB(F(bw[bx]))}return bn};this.unmakeSource=function(bw,bx){bw=p.CurrentLibrary.getElementObject(bw);var by=K(bw),bv=N[by];if(bv){bn.unregisterListener(_el,"mousedown",bv)}if(!bx){delete az[by];delete a9[by];delete ac[by];delete N[by]}return bn};this.unmakeEverySource=function(){for(var bv in ac){bn.unmakeSource(bv,true)}az={};a9={};ac={};N={}};this.unmakeEveryTarget=function(){for(var bv in aj){bn.unmakeTarget(bv,true)}aZ={};bh={};ap={};aj={};return bn};this.makeSources=function(bx,by,bv){for(var bw=0;bw<bx.length;bw++){bn.makeSource(bx[bw],by,bv)}return bn};var aM=function(bz,by,bA,bv){var bw=bz=="source"?ac:aj;if(C(by)){bw[by]=bv?!bw[by]:bA}else{if(by.length){by=aI(by);for(var bx=0;bx<by.length;bx++){var bB=_el=p.CurrentLibrary.getElementObject(by[bx]),bB=K(_el);bw[bB]=bv?!bw[bB]:bA}}}return bn};this.setSourceEnabled=function(bv,bw){return aM("source",bv,bw)};this.toggleSourceEnabled=function(bv){aM("source",bv,null,true);return bn.isSourceEnabled(bv)};this.isSource=function(bv){bv=p.CurrentLibrary.getElementObject(bv);return ac[K(bv)]!=null};this.isSourceEnabled=function(bv){bv=p.CurrentLibrary.getElementObject(bv);return ac[K(bv)]===true};this.setTargetEnabled=function(bv,bw){return aM("target",bv,bw)};this.toggleTargetEnabled=function(bv){return aM("target",bv,null,true);return bn.isTargetEnabled(bv)};this.isTarget=function(bv){bv=p.CurrentLibrary.getElementObject(bv);return aj[K(bv)]!=null};this.isTargetEnabled=function(bv){bv=p.CurrentLibrary.getElementObject(bv);return aj[K(bv)]===true};this.ready=function(bv){bn.bind("ready",bv)},this.repaint=function(bw){var bx=function(by){ba(F(by))};if(typeof bw=="object"){for(var bv=0;bv<bw.length;bv++){bx(bw[bv])}}else{bx(bw)}};this.repaintEverything=function(){for(var bv in aT){ba(F(bv),null,null)}};this.removeAllEndpoints=function(bx){var bv=d(bx,"id"),by=aT[bv];if(by){for(var bw=0;bw<by.length;bw++){bn.deleteEndpoint(by[bw])}}aT[bv]=[]};this.removeEveryEndpoint=this.deleteEveryEndpoint;this.removeEndpoint=function(bv,bw){bn.deleteEndpoint(bw)};var ag={},bd=function(){for(var bw in ag){for(var bv=0;bv<ag[bw].length;bv++){var bx=ag[bw][bv];p.CurrentLibrary.unbind(bx.el,bx.event,bx.listener)}}ag={}};this.registerListener=function(bw,bv,bx){p.CurrentLibrary.bind(bw,bv,bx);V(ag,bv,{el:bw,event:bv,listener:bx})};this.unregisterListener=function(bw,bv,bx){p.CurrentLibrary.unbind(bw,bv,bx);D(ag,function(by){return by.type==bv&&by.listener==bx})};this.reset=function(){bn.deleteEveryEndpoint();bn.unbind();aZ={};aH={};bh={};ap={};az={};a5={};a9={};bd();bn.anchorManager.reset();bn.dragManager.reset()};this.setDefaultScope=function(bv){Q=bv};this.setDraggable=bk;this.setId=function(bz,bv,bB){var bC=bz.constructor==String?bz:bn.getId(bz),by=bn.getConnections({source:bC,scope:"*"},true),bx=bn.getConnections({target:bC,scope:"*"},true);bv=""+bv;if(!bB){bz=p.CurrentLibrary.getElementObject(bC);p.CurrentLibrary.setAttribute(bz,"id",bv)}bz=p.CurrentLibrary.getElementObject(bv);aT[bv]=aT[bC]||[];for(var bw=0;bw<aT[bv].length;bw++){aT[bv][bw].elementId=bv;aT[bv][bw].element=bz;aT[bv][bw].anchor.elementId=bv}delete aT[bC];bn.anchorManager.changeId(bC,bv);var bA=function(bG,bD,bF){for(var bE=0;bE<bG.length;bE++){bG[bE].endpoints[bD].elementId=bv;bG[bE].endpoints[bD].element=bz;bG[bE][bF+"Id"]=bv;bG[bE][bF]=bz}};bA(by,0,"source");bA(bx,1,"target")};this.setIdChanged=function(bw,bv){bn.setId(bw,bv,true)};this.setDebugLog=function(bv){P=bv};this.setRepaintFunction=function(bv){ar=bv};this.setSuspendDrawing=bg;this.CANVAS="canvas";this.SVG="svg";this.VML="vml";this.setRenderMode=function(bv){if(bv){bv=bv.toLowerCase()}else{return}if(bv!==p.CANVAS&&bv!==p.SVG&&bv!==p.VML){throw new Error("render mode must be one of jsPlumb.CANVAS, jsPlumb.SVG or jsPlumb.VML")}if(bv===p.SVG){if(e){X=p.SVG}else{if(A){X=p.CANVAS}else{if(b()){X=p.VML}}}}else{if(bv===p.CANVAS&&A){X=p.CANVAS}else{if(b()){X=p.VML}}}return X};this.getRenderMode=function(){return X};this.show=function(bv,bw){a3(bv,"block",bw)};this.sizeCanvas=function(bx,bv,bz,bw,by){if(bx){bx.style.height=by+"px";bx.height=by;bx.style.width=bw+"px";bx.width=bw;bx.style.left=bv+"px";bx.style.top=bz+"px"}};this.getTestHarness=function(){return{endpointsByElement:aT,endpointCount:function(bv){var bw=aT[bv];return bw?bw.length:0},connectionCount:function(bv){bv=bv||Q;var bw=aY[bv];return bw?bw.length:0},getId:K,makeAnchor:self.makeAnchor,makeDynamicAnchor:self.makeDynamicAnchor}};this.toggle=aQ;this.toggleVisible=aQ;this.toggleDraggable=bi;this.unload=function(){};this.wrap=am;this.addListener=this.bind;var bo=function(bA,bx){var by=null,bv=bA;if(bx.tagName.toLowerCase()==="svg"&&bx.parentNode){by=bx.parentNode}else{if(bx.offsetParent){by=bx.offsetParent}}if(by!=null){var bw=by.tagName.toLowerCase()==="body"?{left:0,top:0}:t(by),bz=by.tagName.toLowerCase()==="body"?{left:0,top:0}:{left:by.scrollLeft,top:by.scrollTop};bv[0]=bA[0]-bw.left+bz.left;bv[1]=bA[1]-bw.top+bz.top}return bv};var aa=function(bz){var bx=this;this.x=bz.x||0;this.y=bz.y||0;this.elementId=bz.elementId;var bw=bz.orientation||[0,0];var by=null,bv=null;this.offsets=bz.offsets||[0,0];bx.timestamp=null;this.compute=function(bE){var bD=bE.xy,bA=bE.wh,bB=bE.element,bC=bE.timestamp;if(bC&&bC===bx.timestamp){return bv}bv=[bD[0]+(bx.x*bA[0])+bx.offsets[0],bD[1]+(bx.y*bA[1])+bx.offsets[1]];bv=bo(bv,bB.canvas);bx.timestamp=bC;return bv};this.getOrientation=function(bA){return bw};this.equals=function(bA){if(!bA){return false}var bB=bA.getOrientation();var bC=this.getOrientation();return this.x==bA.x&&this.y==bA.y&&this.offsets[0]==bA.offsets[0]&&this.offsets[1]==bA.offsets[1]&&bC[0]==bB[0]&&bC[1]==bB[1]};this.getCurrentLocation=function(){return bv}};var a1=function(bB){var bz=bB.reference,bA=bB.referenceCanvas,bx=a(F(bA)),bw=0,bC=0,bv=null,by=null;this.x=0;this.y=0;this.isFloating=true;this.compute=function(bG){var bF=bG.xy,bE=bG.element,bD=[bF[0]+(bx[0]/2),bF[1]+(bx[1]/2)];bD=bo(bD,bE.canvas);by=bD;return bD};this.getOrientation=function(bE){if(bv){return bv}else{var bD=bz.getOrientation(bE);return[Math.abs(bD[0])*bw*-1,Math.abs(bD[1])*bC*-1]}};this.over=function(bD){bv=bD.getOrientation()};this.out=function(){bv=null};this.getCurrentLocation=function(){return by}};var aq=function(bx,bw,bC){this.isSelective=true;this.isDynamic=true;var bF=[],bE=this,bD=function(bG){return bG.constructor==aa?bG:bn.makeAnchor(bG,bC,bn)};for(var bB=0;bB<bx.length;bB++){bF[bB]=bD(bx[bB])}this.addAnchor=function(bG){bF.push(bD(bG))};this.getAnchors=function(){return bF};this.locked=false;var by=bF.length>0?bF[0]:null,bA=bF.length>0?0:-1,bE=this,bz=function(bI,bG,bM,bL,bH){var bK=bL[0]+(bI.x*bH[0]),bJ=bL[1]+(bI.y*bH[1]);return Math.sqrt(Math.pow(bG-bK,2)+Math.pow(bM-bJ,2))},bv=bw||function(bQ,bH,bI,bJ,bG){var bL=bI[0]+(bJ[0]/2),bK=bI[1]+(bJ[1]/2);var bN=-1,bP=Infinity;for(var bM=0;bM<bG.length;bM++){var bO=bz(bG[bM],bL,bK,bQ,bH);if(bO<bP){bN=bM+0;bP=bO}}return bG[bN]};this.compute=function(bK){var bJ=bK.xy,bG=bK.wh,bI=bK.timestamp,bH=bK.txy,bL=bK.twh;if(bE.locked||bH==null||bL==null){return by.compute(bK)}else{bK.timestamp=null}by=bv(bJ,bG,bH,bL,bF);bE.x=by.x;bE.y=by.y;return by.compute(bK)};this.getCurrentLocation=function(){return by!=null?by.getCurrentLocation():null};this.getOrientation=function(bG){return by!=null?by.getOrientation(bG):[0,0]};this.over=function(bG){if(by!=null){by.over(bG)}};this.out=function(){if(by!=null){by.out()}}};var bj={},ai={},aJ={},T={HORIZONTAL:"horizontal",VERTICAL:"vertical",DIAGONAL:"diagonal",IDENTITY:"identity"},bl=function(bE,bF,bB,by){if(bE===bF){return{orientation:T.IDENTITY,a:["top","top"]}}var bw=Math.atan2((by.centery-bB.centery),(by.centerx-bB.centerx)),bz=Math.atan2((bB.centery-by.centery),(bB.centerx-by.centerx)),bA=((bB.left<=by.left&&bB.right>=by.left)||(bB.left<=by.right&&bB.right>=by.right)||(bB.left<=by.left&&bB.right>=by.right)||(by.left<=bB.left&&by.right>=bB.right)),bG=((bB.top<=by.top&&bB.bottom>=by.top)||(bB.top<=by.bottom&&bB.bottom>=by.bottom)||(bB.top<=by.top&&bB.bottom>=by.bottom)||(by.top<=bB.top&&by.bottom>=bB.bottom));if(!(bA||bG)){var bD=null,bx=false,bv=false,bC=null;if(by.left>bB.left&&by.top>bB.top){bD=["right","top"]}else{if(by.left>bB.left&&bB.top>by.top){bD=["top","left"]}else{if(by.left<bB.left&&by.top<bB.top){bD=["top","right"]}else{if(by.left<bB.left&&by.top>bB.top){bD=["left","top"]}}}}return{orientation:T.DIAGONAL,a:bD,theta:bw,theta2:bz}}else{if(bA){return{orientation:T.HORIZONTAL,a:bB.top<by.top?["bottom","top"]:["top","bottom"],theta:bw,theta2:bz}}else{return{orientation:T.VERTICAL,a:bB.left<by.left?["right","left"]:["left","right"],theta:bw,theta2:bz}}}},a2=function(bJ,bF,bD,bE,bK,bG,bx){var bL=[],bw=bF[bK?0:1]/(bE.length+1);for(var bH=0;bH<bE.length;bH++){var bM=(bH+1)*bw,bv=bG*bF[bK?1:0];if(bx){bM=bF[bK?0:1]-bM}var bC=(bK?bM:bv),bz=bD[0]+bC,bB=bC/bF[0],bA=(bK?bv:bM),by=bD[1]+bA,bI=bA/bF[1];bL.push([bz,by,bB,bI,bE[bH][1],bE[bH][2]])}return bL},a8=function(bw,bv){return bw[0]>bv[0]?1:-1},Z=function(bv){return function(bx,bw){var by=true;if(bv){if(bx[0][0]<bw[0][0]){by=true}else{by=bx[0][1]>bw[0][1]}}else{if(bx[0][0]>bw[0][0]){by=true}else{by=bx[0][1]>bw[0][1]}}return by===false?-1:1}},O=function(bw,bv){var by=bw[0][0]<0?-Math.PI-bw[0][0]:Math.PI-bw[0][0],bx=bv[0][0]<0?-Math.PI-bv[0][0]:Math.PI-bv[0][0];if(by>bx){return 1}else{return bw[0][1]>bv[0][1]?1:-1}},a0={top:a8,right:Z(true),bottom:Z(true),left:O},ao=function(bv,bw){return bv.sort(bw)},al=function(bw,bv){var by=ae[bw],bz=ah[bw],bx=function(bG,bN,bC,bF,bL,bK,bB){if(bF.length>0){var bJ=ao(bF,a0[bG]),bH=bG==="right"||bG==="top",bA=a2(bG,bN,bC,bJ,bL,bK,bH);var bO=function(bR,bQ){var bP=bo([bQ[0],bQ[1]],bR.canvas);ai[bR.id]=[bP[0],bP[1],bQ[2],bQ[3]];aJ[bR.id]=bB};for(var bD=0;bD<bA.length;bD++){var bI=bA[bD][4],bM=bI.endpoints[0].elementId===bw,bE=bI.endpoints[1].elementId===bw;if(bM){bO(bI.endpoints[0],bA[bD])}else{if(bE){bO(bI.endpoints[1],bA[bD])}}}}};bx("bottom",by,[bz.left,bz.top],bv.bottom,true,1,[0,1]);bx("top",by,[bz.left,bz.top],bv.top,true,0,[0,-1]);bx("left",by,[bz.left,bz.top],bv.left,false,0,[-1,0]);bx("right",by,[bz.left,bz.top],bv.right,false,1,[1,0])},aE=function(){var bv={},bz={},bw=this,by={};this.reset=function(){bv={};bz={};by={}};this.newConnection=function(bD){var bF=bD.sourceId,bC=bD.targetId,bA=bD.endpoints,bE=true,bB=function(bG,bH,bJ,bI,bK){if((bF==bC)&&bJ.isContinuous){p.CurrentLibrary.removeElement(bA[1].canvas);bE=false}V(bz,bI,[bK,bH,bJ.constructor==aq])};bB(0,bA[0],bA[0].anchor,bC,bD);if(bE){bB(1,bA[1],bA[1].anchor,bF,bD)}};this.connectionDetached=function(bA){var bB=bA.connection||bA;var bG=bB.sourceId,bH=bB.targetId,bK=bB.endpoints,bF=function(bL,bM,bO,bN,bP){if(bO.constructor==a1){}else{D(bz[bN],function(bQ){return bQ[0].id==bP.id})}};bF(1,bK[1],bK[1].anchor,bG,bB);bF(0,bK[0],bK[0].anchor,bH,bB);var bC=bB.sourceId,bD=bB.targetId,bJ=bB.endpoints[0].id,bE=bB.endpoints[1].id,bI=function(bN,bL){if(bN){var bM=function(bO){return bO[4]==bL};D(bN.top,bM);D(bN.left,bM);D(bN.bottom,bM);D(bN.right,bM)}};bI(by[bC],bJ);bI(by[bD],bE);bw.redraw(bC);bw.redraw(bD)};this.add=function(bB,bA){V(bv,bA,bB)};this.changeId=function(bB,bA){bz[bA]=bz[bB];bv[bA]=bv[bB];delete bz[bB];delete bv[bB]};this.getConnectionsFor=function(bA){return bz[bA]||[]};this.getEndpointsFor=function(bA){return bv[bA]||[]};this.deleteEndpoint=function(bA){D(bv[bA.elementId],function(bB){return bB.id==bA.id})};this.clearFor=function(bA){delete bv[bA];bv[bA]=[]};var bx=function(bU,bH,bP,bE,bK,bL,bN,bJ,bW,bM,bD,bT){var bR=-1,bC=-1,bF=bE.endpoints[bN],bO=bF.id,bI=[1,0][bN],bA=[[bH,bP],bE,bK,bL,bO],bB=bU[bW],bV=bF._continuousAnchorEdge?bU[bF._continuousAnchorEdge]:null;if(bV){var bS=i(bV,function(bX){return bX[4]==bO});if(bS!=-1){bV.splice(bS,1);for(var bQ=0;bQ<bV.length;bQ++){u(bD,bV[bQ][1],function(bX){return bX.id==bV[bQ][1].id});u(bT,bV[bQ][1].endpoints[bN],function(bX){return bX.id==bV[bQ][1].endpoints[bN].id})}}}for(var bQ=0;bQ<bB.length;bQ++){if(bN==1&&bB[bQ][3]===bL&&bC==-1){bC=bQ}u(bD,bB[bQ][1],function(bX){return bX.id==bB[bQ][1].id});u(bT,bB[bQ][1].endpoints[bN],function(bX){return bX.id==bB[bQ][1].endpoints[bN].id})}if(bR!=-1){bB[bR]=bA}else{var bG=bJ?bC!=-1?bC:0:bB.length;bB.splice(bG,0,bA)}bF._continuousAnchorEdge=bW};this.redraw=function(bP,bR,bC,bF){var b0=bv[bP]||[],bZ=bz[bP]||[],bB=[],bY=[],bD=[];bC=bC||r();bF=bF||{left:0,top:0};if(bR){bR={left:bR.left+bF.left,top:bR.top+bF.top}}W({elId:bP,offset:bR,recalc:false,timestamp:bC});var bK=ah[bP],bG=ae[bP],bM={};for(var bW=0;bW<bZ.length;bW++){var bH=bZ[bW][0],bJ=bH.sourceId,bE=bH.targetId,bI=bH.endpoints[0].anchor.isContinuous,bO=bH.endpoints[1].anchor.isContinuous;if(bI||bO){var bX=bJ+"_"+bE,bU=bE+"_"+bJ,bT=bM[bX],bN=bH.sourceId==bP?1:0;if(bI&&!by[bJ]){by[bJ]={top:[],right:[],bottom:[],left:[]}}if(bO&&!by[bE]){by[bE]={top:[],right:[],bottom:[],left:[]}}if(bP!=bE){W({elId:bE,timestamp:bC})}if(bP!=bJ){W({elId:bJ,timestamp:bC})}var bL=aN(bE),bA=aN(bJ);if(bE==bJ&&(bI||bO)){bx(by[bJ],-Math.PI/2,0,bH,false,bE,0,false,"top",bJ,bB,bY)}else{if(!bT){bT=bl(bJ,bE,bA.o,bL.o);bM[bX]=bT}if(bI){bx(by[bJ],bT.theta,0,bH,false,bE,0,false,bT.a[0],bJ,bB,bY)}if(bO){bx(by[bE],bT.theta2,-1,bH,true,bJ,1,true,bT.a[1],bE,bB,bY)}}if(bI){u(bD,bJ,function(b1){return b1===bJ})}if(bO){u(bD,bE,function(b1){return b1===bE})}u(bB,bH,function(b1){return b1.id==bH.id});if((bI&&bN==0)||(bO&&bN==1)){u(bY,bH.endpoints[bN],function(b1){return b1.id==bH.endpoints[bN].id})}}}for(var bW=0;bW<bD.length;bW++){al(bD[bW],by[bD[bW]])}for(var bW=0;bW<b0.length;bW++){b0[bW].paint({timestamp:bC,offset:bK,dimensions:bG})}for(var bW=0;bW<bY.length;bW++){bY[bW].paint({timestamp:bC,offset:bK,dimensions:bG})}for(var bW=0;bW<bZ.length;bW++){var bQ=bZ[bW][1];if(bQ.anchor.constructor==aq){bQ.paint({elementWithPrecedence:bP});u(bB,bZ[bW][0],function(b1){return b1.id==bZ[bW][0].id});for(var bV=0;bV<bQ.connections.length;bV++){if(bQ.connections[bV]!==bZ[bW][0]){u(bB,bQ.connections[bV],function(b1){return b1.id==bQ.connections[bV].id})}}}else{if(bQ.anchor.constructor==aa){u(bB,bZ[bW][0],function(b1){return b1.id==bZ[bW][0].id})}}}var bS=bf[bP];if(bS){bS.paint({timestamp:bC,recalc:false,elId:bP})}for(var bW=0;bW<bB.length;bW++){bB[bW].paint({elId:bP,timestamp:bC,recalc:false})}};this.rehomeEndpoint=function(bA,bE){var bB=bv[bA]||[],bC=bn.getId(bE);for(var bD=0;bD<bB.length;bD++){bw.add(bB[bD],bC)}bB.splice(0,bB.length)}};bn.anchorManager=new aE();bn.continuousAnchorFactory={get:function(bw){var bv=bj[bw.elementId];if(!bv){bv={type:"Continuous",compute:function(bx){return ai[bx.element.id]||[0,0]},getCurrentLocation:function(bx){return ai[bx.id]||[0,0]},getOrientation:function(bx){return aJ[bx.id]||[0,0]},isDynamic:true,isContinuous:true};bj[bw.elementId]=bv}return bv}};var aV=function(){var by={},bx=[],bw={},bv={};this.register=function(bB){var bA=p.CurrentLibrary;bB=bA.getElementObject(bB);var bD=bn.getId(bB),bz=bA.getDOMElement(bB);if(!by[bD]){by[bD]=bB;bx.push(bB);bw[bD]={}}var bC=function(bH){var bK=bA.getElementObject(bH),bJ=bA.getOffset(bK);for(var bE=0;bE<bH.childNodes.length;bE++){if(bH.childNodes[bE].nodeType!=3){var bG=bA.getElementObject(bH.childNodes[bE]),bI=bn.getId(bG,null,true);if(bI&&bv[bI]&&bv[bI]>0){var bF=bA.getOffset(bG);bw[bD][bI]={id:bI,offset:{left:bF.left-bJ.left,top:bF.top-bJ.top}}}}}};bC(bz)};this.endpointAdded=function(bB){var bF=p.CurrentLibrary,bI=document.body,bz=bn.getId(bB),bH=bF.getDOMElement(bB),bA=bH.parentNode,bD=bA==bI;bv[bz]=bv[bz]?bv[bz]+1:1;while(bA!=bI){var bE=bn.getId(bA);if(by[bE]){var bK=-1,bG=bF.getElementObject(bA),bC=bF.getOffset(bG);if(bw[bE][bz]==null){var bJ=p.CurrentLibrary.getOffset(bB);bw[bE][bz]={id:bz,offset:{left:bJ.left-bC.left,top:bJ.top-bC.top}}}break}bA=bA.parentNode}};this.endpointDeleted=function(bA){if(bv[bA.elementId]){bv[bA.elementId]--;if(bv[bA.elementId]<=0){for(var bz in bw){delete bw[bz][bA.elementId]}}}};this.getElementsForDraggable=function(bz){return bw[bz]};this.reset=function(){by={};bx=[];bw={};bv={}}};bn.dragManager=new aV();var ax=function(bN){var bG=this,bx=true;bG.idPrefix="_jsplumb_c_";bG.defaultLabelLocation=0.5;bG.defaultOverlayKeys=["Overlays","ConnectionOverlays"];this.parent=bN.parent;z.apply(this,arguments);this.isVisible=function(){return bx};this.setVisible=function(bP){bx=bP;bG[bP?"showOverlays":"hideOverlays"]();if(bG.connector&&bG.connector.canvas){bG.connector.canvas.style.display=bP?"block":"none"}};this.source=F(bN.source);this.target=F(bN.target);if(bN.sourceEndpoint){this.source=bN.sourceEndpoint.endpointWillMoveTo||bN.sourceEndpoint.getElement()}if(bN.targetEndpoint){this.target=bN.targetEndpoint.getElement()}bG.previousConnection=bN.previousConnection;var bD=bN.cost;bG.getCost=function(){return bD};bG.setCost=function(bP){bD=bP};var bB=bN.bidirectional===false?false:true;bG.isBidirectional=function(){return bB};this.sourceId=d(this.source,"id");this.targetId=d(this.target,"id");this.getAttachedElements=function(){return bG.endpoints};this.scope=bN.scope;this.endpoints=[];this.endpointStyles=[];var bM=function(bQ,bP){if(bQ){return bn.makeAnchor(bQ,bP,bn)}},bK=function(bP,bV,bQ,bS,bT,bR,bU){if(bP){bG.endpoints[bV]=bP;bP.addConnection(bG)}else{if(!bQ.endpoints){bQ.endpoints=[null,null]}var b1=bQ.endpoints[bV]||bQ.endpoint||bn.Defaults.Endpoints[bV]||p.Defaults.Endpoints[bV]||bn.Defaults.Endpoint||p.Defaults.Endpoint;if(!bQ.endpointStyles){bQ.endpointStyles=[null,null]}if(!bQ.endpointHoverStyles){bQ.endpointHoverStyles=[null,null]}var bZ=bQ.endpointStyles[bV]||bQ.endpointStyle||bn.Defaults.EndpointStyles[bV]||p.Defaults.EndpointStyles[bV]||bn.Defaults.EndpointStyle||p.Defaults.EndpointStyle;if(bZ.fillStyle==null&&bR!=null){bZ.fillStyle=bR.strokeStyle}if(bZ.outlineColor==null&&bR!=null){bZ.outlineColor=bR.outlineColor}if(bZ.outlineWidth==null&&bR!=null){bZ.outlineWidth=bR.outlineWidth}var bY=bQ.endpointHoverStyles[bV]||bQ.endpointHoverStyle||bn.Defaults.EndpointHoverStyles[bV]||p.Defaults.EndpointHoverStyles[bV]||bn.Defaults.EndpointHoverStyle||p.Defaults.EndpointHoverStyle;if(bU!=null){if(bY==null){bY={}}if(bY.fillStyle==null){bY.fillStyle=bU.strokeStyle}}var bX=bQ.anchors?bQ.anchors[bV]:bQ.anchor?bQ.anchor:bM(bn.Defaults.Anchors[bV],bT)||bM(p.Defaults.Anchors[bV],bT)||bM(bn.Defaults.Anchor,bT)||bM(p.Defaults.Anchor,bT),b0=bQ.uuids?bQ.uuids[bV]:null,bW=aF({paintStyle:bZ,hoverPaintStyle:bY,endpoint:b1,connections:[bG],uuid:b0,anchor:bX,source:bS,scope:bQ.scope,container:bQ.container,reattach:bQ.reattach,detachable:bQ.detachable});bG.endpoints[bV]=bW;if(bQ.drawEndpoints===false){bW.setVisible(false,true,true)}return bW}};var bI=bK(bN.sourceEndpoint,0,bN,bG.source,bG.sourceId,bN.paintStyle,bN.hoverPaintStyle);if(bI){V(aT,this.sourceId,bI)}var by=((bG.sourceId==bG.targetId)&&bN.targetEndpoint==null)?bI:bN.targetEndpoint,bH=bK(by,1,bN,bG.target,bG.targetId,bN.paintStyle,bN.hoverPaintStyle);if(bH){V(aT,this.targetId,bH)}if(!this.scope){this.scope=this.endpoints[0].scope}if(bN.deleteEndpointsOnDetach){bG.endpointsToDeleteOnDetach=[bI,bH]}var bw=bn.Defaults.ConnectionsDetachable;if(bN.detachable===false){bw=false}if(bG.endpoints[0].connectionsDetachable===false){bw=false}if(bG.endpoints[1].connectionsDetachable===false){bw=false}if(bD==null){bD=bG.endpoints[0].getConnectionCost()}if(bN.bidirectional==null){bB=bG.endpoints[0].areConnectionsBidirectional()}this.isDetachable=function(){return bw===true};this.setDetachable=function(bP){bw=bP===true};var bO=p.extend({},this.endpoints[0].getParameters());p.extend(bO,this.endpoints[1].getParameters());p.extend(bO,bG.getParameters());bG.setParameters(bO);var bE=bG.setHover;bG.setHover=function(bP){bG.connector.setHover.apply(bG.connector,arguments);bE.apply(bG,arguments)};var bL=function(bP){if(x==null){bG.setHover(bP,false)}};this.setConnector=function(bP,bQ){if(bG.connector!=null){aX(bG.connector.getDisplayElements(),bG.parent)}var bR={_jsPlumb:bG._jsPlumb,parent:bN.parent,cssClass:bN.cssClass,container:bN.container,tooltip:bG.tooltip};if(C(bP)){this.connector=new p.Connectors[X][bP](bR)}else{if(n(bP)){this.connector=new p.Connectors[X][bP[0]](p.extend(bP[1],bR))}}bG.canvas=bG.connector.canvas;G(bG.connector,bG,bL);if(!bQ){bG.repaint()}};bG.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||bN.connector||bn.Defaults.Connector||p.Defaults.Connector,true);this.setPaintStyle(this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||bN.paintStyle||bn.Defaults.PaintStyle||p.Defaults.PaintStyle,true);this.setHoverPaintStyle(this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||bN.hoverPaintStyle||bn.Defaults.HoverPaintStyle||p.Defaults.HoverPaintStyle,true);this.paintStyleInUse=this.getPaintStyle();this.moveParent=function(bS){var bR=p.CurrentLibrary,bQ=bR.getParent(bG.connector.canvas);if(bG.connector.bgCanvas){bR.removeElement(bG.connector.bgCanvas,bQ);bR.appendElement(bG.connector.bgCanvas,bS)}bR.removeElement(bG.connector.canvas,bQ);bR.appendElement(bG.connector.canvas,bS);for(var bP=0;bP<bG.overlays.length;bP++){if(bG.overlays[bP].isAppendedAtTopLevel){bR.removeElement(bG.overlays[bP].canvas,bQ);bR.appendElement(bG.overlays[bP].canvas,bS);if(bG.overlays[bP].reattachListeners){bG.overlays[bP].reattachListeners(bG.connector)}}}if(bG.connector.reattachListeners){bG.connector.reattachListeners()}};W({elId:this.sourceId});W({elId:this.targetId});var bA=ah[this.sourceId],bz=ae[this.sourceId],bv=ah[this.targetId],bC=ae[this.targetId],bF=r(),bJ=this.endpoints[0].anchor.compute({xy:[bA.left,bA.top],wh:bz,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[bv.left,bv.top],twh:bC,tElement:this.endpoints[1],timestamp:bF});this.endpoints[0].paint({anchorLoc:bJ,timestamp:bF});bJ=this.endpoints[1].anchor.compute({xy:[bv.left,bv.top],wh:bC,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[bA.left,bA.top],twh:bz,tElement:this.endpoints[0],timestamp:bF});this.endpoints[1].paint({anchorLoc:bJ,timestamp:bF});this.paint=function(b6){b6=b6||{};var bX=b6.elId,bY=b6.ui,bV=b6.recalc,bQ=b6.timestamp,bZ=false,b5=bZ?this.sourceId:this.targetId,bU=bZ?this.targetId:this.sourceId,bR=bZ?0:1,b7=bZ?1:0;var b8=W({elId:bX,offset:bY,recalc:bV,timestamp:bQ}),bW=W({elId:b5,timestamp:bQ});var b1=this.endpoints[b7],bP=this.endpoints[bR],bT=b1.anchor.getCurrentLocation(b1),b4=bP.anchor.getCurrentLocation(bP);var bS=0;for(var b3=0;b3<bG.overlays.length;b3++){var b0=bG.overlays[b3];if(b0.isVisible()){bS=Math.max(bS,b0.computeMaxSize(bG.connector))}}var b2=this.connector.compute(bT,b4,this.endpoints[b7],this.endpoints[bR],this.endpoints[b7].anchor,this.endpoints[bR].anchor,bG.paintStyleInUse.lineWidth,bS,b8,bW);bG.connector.paint(b2,bG.paintStyleInUse);for(var b3=0;b3<bG.overlays.length;b3++){var b0=bG.overlays[b3];if(b0.isVisible){bG.overlayPlacements[b3]=b0.draw(bG.connector,bG.paintStyleInUse,b2)}}};this.repaint=function(bQ){bQ=bQ||{};var bP=!(bQ.recalc===false);this.paint({elId:this.sourceId,recalc:bP,timestamp:bQ.timestamp})}};var bc=function(bw){var bv=false;return{drag:function(){if(bv){bv=false;return true}var bx=p.CurrentLibrary.getUIPosition(arguments),by=bw.element;if(by){p.CurrentLibrary.setOffset(by,bx);ba(F(by),bx)}},stopDrag:function(){bv=true}}};var at=function(bz,by,bA,bx,bv){var bw=new a1({reference:by,referenceCanvas:bx});return aF({paintStyle:bz,endpoint:bA,anchor:bw,source:bv,scope:"__floating"})};var R=function(bx,bv){var bz=document.createElement("div");bz.style.position="absolute";var bw=F(bz);aW(bz,bv);var by=K(bw);W({elId:by});bx.id=by;bx.element=bw};var af=function(b0){var bO=this;bO.idPrefix="_jsplumb_e_";bO.defaultLabelLocation=[0.5,0.5];bO.defaultOverlayKeys=["Overlays","EndpointOverlays"];this.parent=b0.parent;z.apply(this,arguments);b0=b0||{};var bA=true,by=!(b0.enabled===false);this.isVisible=function(){return bA};this.setVisible=function(b3,b6,b2){bA=b3;if(bO.canvas){bO.canvas.style.display=b3?"block":"none"}bO[b3?"showOverlays":"hideOverlays"]();if(!b6){for(var b5=0;b5<bO.connections.length;b5++){bO.connections[b5].setVisible(b3);if(!b2){var b4=bO===bO.connections[b5].endpoints[0]?1:0;if(bO.connections[b5].endpoints[b4].connections.length==1){bO.connections[b5].endpoints[b4].setVisible(b3,true,true)}}}}};this.isEnabled=function(){return by};this.setEnabled=function(b2){by=b2};var bN=b0.source,bH=b0.uuid,bY=null,bC=null;if(bH){aU[bH]=bO}var bF=d(bN,"id");this.elementId=bF;this.element=bN;var bx=b0.connectionCost;this.getConnectionCost=function(){return bx};this.setConnectionCost=function(b2){bx=b2};var bX=b0.connectionsBidirectional===false?false:true;this.areConnectionsBidirectional=function(){return bX};this.setConnectionsBidirectional=function(b2){bX=b2};bO.anchor=b0.anchor?bn.makeAnchor(b0.anchor,bF,bn):b0.anchors?bn.makeAnchor(b0.anchors,bF,bn):bn.makeAnchor("TopCenter",bF,bn);if(!b0._transient){bn.anchorManager.add(bO,bF)}var bL=null,bQ=null;this.setEndpoint=function(b2){var b3={_jsPlumb:bO._jsPlumb,parent:b0.parent,container:b0.container,tooltip:b0.tooltip,connectorTooltip:b0.connectorTooltip,endpoint:bO};if(C(b2)){bL=new p.Endpoints[X][b2](b3)}else{if(n(b2)){b3=p.extend(b2[1],b3);bL=new p.Endpoints[X][b2[0]](b3)}else{bL=b2.clone()}}var b4=p.extend({},b3);bL.clone=function(){var b5=new Object();bL.constructor.apply(b5,[b4]);return b5};bO.endpoint=bL;bO.type=bO.endpoint.type};this.setEndpoint(b0.endpoint||bn.Defaults.Endpoint||p.Defaults.Endpoint||"Dot");bQ=bL;var bM=bO.setHover;bO.setHover=function(){bO.endpoint.setHover.apply(bO.endpoint,arguments);bM.apply(bO,arguments)};var b1=function(b2){if(bO.connections.length>0){bO.connections[0].setHover(b2,false)}else{bO.setHover(b2)}};G(bO.endpoint,bO,b1);this.setPaintStyle(b0.paintStyle||b0.style||bn.Defaults.EndpointStyle||p.Defaults.EndpointStyle,true);this.setHoverPaintStyle(b0.hoverPaintStyle||bn.Defaults.EndpointHoverStyle||p.Defaults.EndpointHoverStyle,true);this.paintStyleInUse=this.getPaintStyle();var bJ=this.getPaintStyle();this.connectorStyle=b0.connectorStyle;this.connectorHoverStyle=b0.connectorHoverStyle;this.connectorOverlays=b0.connectorOverlays;this.connector=b0.connector;this.connectorTooltip=b0.connectorTooltip;this.isSource=b0.isSource||false;this.isTarget=b0.isTarget||false;var bU=b0.maxConnections||bn.Defaults.MaxConnections;this.getAttachedElements=function(){return bO.connections};this.canvas=this.endpoint.canvas;this.connections=b0.connections||[];this.scope=b0.scope||Q;this.timestamp=null;bO.isReattach=b0.reattach||false;bO.connectionsDetachable=bn.Defaults.ConnectionsDetachable;if(b0.connectionsDetachable===false||b0.detachable===false){bO.connectionsDetachable=false}var bI=b0.dragAllowedWhenFull||true;this.computeAnchor=function(b2){return bO.anchor.compute(b2)};this.addConnection=function(b2){bO.connections.push(b2)};this.detach=function(b3,b8,b4,cb,b2){var ca=i(bO.connections,function(cd){return cd.id==b3.id}),b9=false;cb=(cb!==false);if(ca>=0){if(b4||b3._forceDetach||b3.isDetachable()||b3.isDetachAllowed(b3)){var cc=b3.endpoints[0]==bO?b3.endpoints[1]:b3.endpoints[0];if(b4||b3._forceDetach||(bO.isDetachAllowed(b3))){bO.connections.splice(ca,1);if(!b8){cc.detach(b3,true,b4);if(b3.endpointsToDeleteOnDetach){for(var b7=0;b7<b3.endpointsToDeleteOnDetach.length;b7++){var b5=b3.endpointsToDeleteOnDetach[b7];if(b5&&b5.connections.length==0){bn.deleteEndpoint(b5)}}}}aX(b3.connector.getDisplayElements(),b3.parent);D(aY[b3.scope],function(cd){return cd.id==b3.id});b9=true;var b6=(!b8&&cb);a7(b3,b6,b2)}}}return b9};this.detachAll=function(b3,b2){while(bO.connections.length>0){bO.detach(bO.connections[0],false,true,b3,b2)}};this.detachFrom=function(b5,b4,b2){var b6=[];for(var b3=0;b3<bO.connections.length;b3++){if(bO.connections[b3].endpoints[1]==b5||bO.connections[b3].endpoints[0]==b5){b6.push(bO.connections[b3])}}for(var b3=0;b3<b6.length;b3++){if(bO.detach(b6[b3],false,true,b4,b2)){b6[b3].setHover(false,false)}}};this.detachFromConnection=function(b3){var b2=i(bO.connections,function(b4){return b4.id==b3.id});if(b2>=0){bO.connections.splice(b2,1)}};this.getElement=function(){return bN};this.setElement=function(b5,b2){var b7=K(b5);D(aT[bO.elementId],function(b8){return b8.id==bO.id});bN=F(b5);bF=K(bN);bO.elementId=bF;var b6=aw({source:b7,container:b2}),b4=bz.getParent(bO.canvas);bz.removeElement(bO.canvas,b4);bz.appendElement(bO.canvas,b6);for(var b3=0;b3<bO.connections.length;b3++){bO.connections[b3].moveParent(b6);bO.connections[b3].sourceId=bF;bO.connections[b3].source=bN}V(aT,b7,bO)};this.getUuid=function(){return bH};this.makeInPlaceCopy=function(){var b4=bO.anchor.getCurrentLocation(bO),b3=bO.anchor.getOrientation(bO),b2={compute:function(){return[b4[0],b4[1]]},getCurrentLocation:function(){return[b4[0],b4[1]]},getOrientation:function(){return b3}};return aF({anchor:b2,source:bN,paintStyle:this.getPaintStyle(),endpoint:bL,_transient:true,scope:bO.scope})};this.isConnectedTo=function(b4){var b3=false;if(b4){for(var b2=0;b2<bO.connections.length;b2++){if(bO.connections[b2].endpoints[1]==b4){b3=true;break}}}return b3};this.isFloating=function(){return bY!=null};this.connectorSelector=function(){var b2=bO.connections[0];if(bO.isTarget&&b2){return b2}else{return(bO.connections.length<bU)||bU==-1?null:b2}};this.isFull=function(){return !(bO.isFloating()||bU<1||bO.connections.length<bU)};this.setDragAllowedWhenFull=function(b2){bI=b2};this.setStyle=bO.setPaintStyle;this.equals=function(b2){return this.anchor.equals(b2.anchor)};var bK=function(b3){var b2=0;if(b3!=null){for(var b4=0;b4<bO.connections.length;b4++){if(bO.connections[b4].sourceId==b3||bO.connections[b4].targetId==b3){b2=b4;break}}}return bO.connections[b2]};this.paint=function(b5){b5=b5||{};var cb=b5.timestamp,ca=!(b5.recalc===false);if(!cb||bO.timestamp!==cb){W({elId:bF,timestamp:cb,recalc:ca});var ch=b5.offset||ah[bF];if(ch){var b8=b5.anchorPoint,b6=b5.connectorPaintStyle;if(b8==null){var b2=b5.dimensions||ae[bF];if(ch==null||b2==null){W({elId:bF,timestamp:cb});ch=ah[bF];b2=ae[bF]}var b4={xy:[ch.left,ch.top],wh:b2,element:bO,timestamp:cb};if(ca&&bO.anchor.isDynamic&&bO.connections.length>0){var ce=bK(b5.elementWithPrecedence),cg=ce.endpoints[0]==bO?1:0,b7=cg==0?ce.sourceId:ce.targetId,cd=ah[b7],cf=ae[b7];b4.txy=[cd.left,cd.top];b4.twh=cf;b4.tElement=ce.endpoints[cg]}b8=bO.anchor.compute(b4)}var cc=bL.compute(b8,bO.anchor.getOrientation(bO),bO.paintStyleInUse,b6||bO.paintStyleInUse);bL.paint(cc,bO.paintStyleInUse,bO.anchor);bO.timestamp=cb;for(var b9=0;b9<bO.overlays.length;b9++){var b3=bO.overlays[b9];if(b3.isVisible){bO.overlayPlacements[b9]=b3.draw(bO.endpoint,bO.paintStyleInUse,cc)}}}}};this.repaint=this.paint;this.removeConnection=this.detach;if(p.CurrentLibrary.isDragSupported(bN)){var bT={id:null,element:null},bS=null,bw=false,bB=null,bv=bc(bT);var bD=function(){bS=bO.connectorSelector();var b2=true;if(!bO.isEnabled()){b2=false}if(bS==null&&!b0.isSource){b2=false}if(b0.isSource&&bO.isFull()&&!bI){b2=false}if(bS!=null&&!bS.isDetachable()){b2=false}if(b2===false){if(p.CurrentLibrary.stopDrag){p.CurrentLibrary.stopDrag()}bv.stopDrag();return false}if(bS&&!bO.isFull()&&b0.isSource){bS=null}W({elId:bF});bC=bO.makeInPlaceCopy();bC.paint();R(bT,bO.parent);var b8=F(bC.canvas),b6=p.CurrentLibrary.getOffset(b8),b3=bo([b6.left,b6.top],bC.canvas);p.CurrentLibrary.setOffset(bT.element,{left:b3[0],top:b3[1]});if(bO.parentAnchor){bO.anchor=bn.makeAnchor(bO.parentAnchor,bO.elementId,bn)}f(F(bO.canvas),"dragId",bT.id);f(F(bO.canvas),"elId",bF);if(b0.proxy){bO.setPaintStyle(b0.proxy.paintStyle)}bY=at(bO.getPaintStyle(),bO.anchor,bL,bO.canvas,bT.element);if(bS==null){bO.anchor.locked=true;bO.setHover(false,false);bS=ad({sourceEndpoint:bO,targetEndpoint:bY,source:bO.endpointWillMoveTo||F(bN),target:bT.element,anchors:[bO.anchor,bY.anchor],paintStyle:b0.connectorStyle,hoverPaintStyle:b0.connectorHoverStyle,connector:b0.connector,overlays:b0.connectorOverlays})}else{bw=true;bS.connector.setHover(false,false);bE(F(bC.canvas),false,true);var b5=bS.endpoints[0].id==bO.id?0:1;bS.floatingAnchorIndex=b5;bO.detachFromConnection(bS);var b9=F(bO.canvas),b7=p.CurrentLibrary.getDragScope(b9);f(b9,"originalScope",b7);var b4=p.CurrentLibrary.getDropScope(b9);p.CurrentLibrary.setDragScope(b9,b4);if(b5==0){bB=[bS.source,bS.sourceId,bW,b7];bS.source=bT.element;bS.sourceId=bT.id}else{bB=[bS.target,bS.targetId,bW,b7];bS.target=bT.element;bS.targetId=bT.id}bS.endpoints[b5==0?1:0].anchor.locked=true;bS.suspendedEndpoint=bS.endpoints[b5];bS.suspendedEndpoint.setHover(false);bS.endpoints[b5]=bY;a4(bS)}bf[bT.id]=bS;bY.addConnection(bS);V(aT,bT.id,bY);bn.currentlyDragging=true};var bz=p.CurrentLibrary,bV=b0.dragOptions||{},bP=p.extend({},bz.defaultDragOptions),bR=bz.dragEvents.start,bZ=bz.dragEvents.stop,bG=bz.dragEvents.drag;bV=p.extend(bP,bV);bV.scope=bV.scope||bO.scope;bV[bR]=am(bV[bR],bD);bV[bG]=am(bV[bG],bv.drag);bV[bZ]=am(bV[bZ],function(){var b3=bz.getDropEvent(arguments);bn.currentlyDragging=false;D(aT[bT.id],function(b4){return b4.id==bY.id});aX([bT.element[0],bY.canvas],bN);au(bC.canvas,bN);bn.anchorManager.clearFor(bT.id);var b2=bS.floatingAnchorIndex==null?1:bS.floatingAnchorIndex;bS.endpoints[b2==0?1:0].anchor.locked=false;bO.setPaintStyle(bJ);if(bS.endpoints[b2]==bY){if(bw&&bS.suspendedEndpoint){if(b2==0){bS.source=bB[0];bS.sourceId=bB[1]}else{bS.target=bB[0];bS.targetId=bB[1]}p.CurrentLibrary.setDragScope(bB[2],bB[3]);bS.endpoints[b2]=bS.suspendedEndpoint;if(bO.isReattach||bS._forceDetach||!bS.endpoints[b2==0?1:0].detach(bS,false,false,true,b3)){bS.setHover(false);bS.floatingAnchorIndex=null;bS.suspendedEndpoint.addConnection(bS);bn.repaint(bB[1])}bS._forceDetach=null}else{aX(bS.connector.getDisplayElements(),bO.parent);bO.detachFromConnection(bS)}}bO.anchor.locked=false;bO.paint({recalc:false});bS.setHover(false,false);aR(bS);bS=null;bC=null;delete aT[bY.elementId];bY.anchor=null;bY=null;bn.currentlyDragging=false});var bW=F(bO.canvas);p.CurrentLibrary.initDraggable(bW,bV,true)}var bE=function(b4,b9,b7,ca){if((b0.isTarget||b9)&&p.CurrentLibrary.isDropSupported(bN)){var b5=b0.dropOptions||bn.Defaults.DropOptions||p.Defaults.DropOptions;b5=p.extend({},b5);b5.scope=b5.scope||bO.scope;var b3=p.CurrentLibrary.dragEvents.drop,b8=p.CurrentLibrary.dragEvents.over,b2=p.CurrentLibrary.dragEvents.out,b6=function(){var cb=p.CurrentLibrary.getDropEvent(arguments),co=F(p.CurrentLibrary.getDragObject(arguments)),cc=d(co,"dragId"),cf=d(co,"elId"),cn=d(co,"originalScope"),ci=bf[cc];if(ci!=null){var ck=ci.floatingAnchorIndex==null?1:ci.floatingAnchorIndex,cl=ck==0?1:0;if(cn){p.CurrentLibrary.setDragScope(co,cn)}var cm=ca!=null?ca.isEnabled():true;if(!bO.isFull()&&!(ck==0&&!bO.isSource)&&!(ck==1&&!bO.isTarget)&&cm){var cg=true;if(ci.suspendedEndpoint&&ci.suspendedEndpoint.id!=bO.id){if(ck==0){ci.source=ci.suspendedEndpoint.element;ci.sourceId=ci.suspendedEndpoint.elementId}else{ci.target=ci.suspendedEndpoint.element;ci.targetId=ci.suspendedEndpoint.elementId}if(!ci.isDetachAllowed(ci)||!ci.endpoints[ck].isDetachAllowed(ci)||!ci.suspendedEndpoint.isDetachAllowed(ci)||!bn.checkCondition("beforeDetach",ci)){cg=false}}if(ck==0){ci.source=bO.element;ci.sourceId=bO.elementId}else{ci.target=bO.element;ci.targetId=bO.elementId}cg=cg&&bO.isDropAllowed(ci.sourceId,ci.targetId,ci.scope,ci,bO);if(cg){ci.endpoints[ck].detachFromConnection(ci);if(ci.suspendedEndpoint){ci.suspendedEndpoint.detachFromConnection(ci)}ci.endpoints[ck]=bO;bO.addConnection(ci);var ce=bO.getParameters();for(var cj in ce){ci.setParameter(cj,ce[cj])}if(!ci.suspendedEndpoint){if(ce.draggable){p.CurrentLibrary.initDraggable(bO.element,bV,true)}}else{var ch=ci.suspendedEndpoint.getElement(),cd=ci.suspendedEndpoint.elementId;a7({source:ck==0?ch:ci.source,target:ck==1?ch:ci.target,sourceId:ck==0?cd:ci.sourceId,targetId:ck==1?cd:ci.targetId,sourceEndpoint:ck==0?ci.suspendedEndpoint:ci.endpoints[0],targetEndpoint:ck==1?ci.suspendedEndpoint:ci.endpoints[1],connection:ci},true,cb)}bt(ci,null,cb)}else{if(ci.suspendedEndpoint){ci.endpoints[ck]=ci.suspendedEndpoint;ci.setHover(false);ci._forceDetach=true;if(ck==0){ci.source=ci.suspendedEndpoint.element;ci.sourceId=ci.suspendedEndpoint.elementId}else{ci.target=ci.suspendedEndpoint.element;ci.targetId=ci.suspendedEndpoint.elementId}ci.suspendedEndpoint.addConnection(ci);ci.endpoints[0].repaint();ci.repaint();bn.repaint(ci.source.elementId);ci._forceDetach=false}}ci.floatingAnchorIndex=null}bn.currentlyDragging=false;delete bf[cc]}};b5[b3]=am(b5[b3],b6);b5[b8]=am(b5[b8],function(){if(bO.isTarget){var cc=p.CurrentLibrary.getDragObject(arguments),ce=d(F(cc),"dragId"),cd=bf[ce];if(cd!=null){var cb=cd.floatingAnchorIndex==null?1:cd.floatingAnchorIndex;cd.endpoints[cb].anchor.over(bO.anchor)}}});b5[b2]=am(b5[b2],function(){if(bO.isTarget){var cc=p.CurrentLibrary.getDragObject(arguments),ce=d(F(cc),"dragId"),cd=bf[ce];if(cd!=null){var cb=cd.floatingAnchorIndex==null?1:cd.floatingAnchorIndex;cd.endpoints[cb].anchor.out()}}});p.CurrentLibrary.initDroppable(b4,b5,true,b7)}};bE(F(bO.canvas),true,!(b0._transient||bO.anchor.isFloating),bO);return bO}};var p=window.jsPlumb=new y();p.getInstance=function(L){var K=new y(L);K.init();return K};var s=function(K,P,M,L,O,N){return function(R){R=R||{};var Q=R.jsPlumbInstance.makeAnchor([K,P,M,L,0,0],R.elementId,R.jsPlumbInstance);Q.type=O;if(N){N(Q,R)}return Q}};p.Anchors.TopCenter=s(0.5,0,0,-1,"TopCenter");p.Anchors.BottomCenter=s(0.5,1,0,1,"BottomCenter");p.Anchors.LeftMiddle=s(0,0.5,-1,0,"LeftMiddle");p.Anchors.RightMiddle=s(1,0.5,1,0,"RightMiddle");p.Anchors.Center=s(0.5,0.5,0,0,"Center");p.Anchors.TopRight=s(1,0,0,-1,"TopRight");p.Anchors.BottomRight=s(1,1,0,1,"BottomRight");p.Anchors.TopLeft=s(0,0,0,-1,"TopLeft");p.Anchors.BottomLeft=s(0,1,0,1,"BottomLeft");p.Defaults.DynamicAnchors=function(K){return K.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],K.elementId,K.jsPlumbInstance)};p.Anchors.AutoDefault=function(L){var K=L.jsPlumbInstance.makeDynamicAnchor(p.Defaults.DynamicAnchors(L));K.type="AutoDefault";return K};p.Anchors.Assign=s(0,0,0,0,"Assign",function(L,M){var K=M.position||"Fixed";L.positionFinder=K.constructor==String?M.jsPlumbInstance.AnchorPositionFinders[K]:K;L.constructorParams=M});p.Anchors.Continuous=function(K){return K.jsPlumbInstance.continuousAnchorFactory.get(K)};p.AnchorPositionFinders={Fixed:function(N,K,M,L){return[(N.left-K.left)/M[0],(N.top-K.top)/M[1]]},Grid:function(K,T,O,L){var S=K.left-T.left,R=K.top-T.top,Q=O[0]/(L.grid[0]),P=O[1]/(L.grid[1]),N=Math.floor(S/Q),M=Math.floor(R/P);return[((N*Q)+(Q/2))/O[0],((M*P)+(P/2))/O[1]]}}})();(function(){jsPlumb.DOMElementComponent=function(c){jsPlumb.jsPlumbUIComponent.apply(this,arguments);this.mousemove=this.dblclick=this.click=this.mousedown=this.mouseup=function(d){}};jsPlumb.Connectors.Straight=function(){this.type="Straight";var r=this,i=null,e,k,p,n,l,f,q,h,g,d,c,o,m;this.compute=function(A,J,s,z,F,t,D,v){var I=Math.abs(A[0]-J[0]),C=Math.abs(A[1]-J[1]),B=0.45*I,u=0.45*C;I*=1.9;C*=1.9;var G=Math.min(A[0],J[0])-B;var E=Math.min(A[1],J[1])-u;var H=Math.max(2*D,v);if(I<H){I=H;G=A[0]+((J[0]-A[0])/2)-(H/2);B=(I-Math.abs(A[0]-J[0]))/2}if(C<H){C=H;E=A[1]+((J[1]-A[1])/2)-(H/2);u=(C-Math.abs(A[1]-J[1]))/2}h=A[0]<J[0]?B:I-B;g=A[1]<J[1]?u:C-u;d=A[0]<J[0]?I-B:B;c=A[1]<J[1]?C-u:u;i=[G,E,I,C,h,g,d,c];n=d-h,l=c-g;e=jsPlumbUtil.gradient({x:h,y:g},{x:d,y:c}),k=-1/e;p=-1*((e*h)-g);f=Math.atan(e);q=Math.atan(k);m=Math.sqrt((n*n)+(l*l));return i};this.pointOnPath=function(t,u){if(t==0&&!u){return{x:h,y:g}}else{if(t==1&&!u){return{x:d,y:c}}else{var s=u?t>0?t:m+t:t*m;return jsPlumbUtil.pointOnLine({x:h,y:g},{x:d,y:c},s)}}};this.gradientAtPoint=function(s){return e};this.pointAlongPathFrom=function(s,w,v){var u=r.pointOnPath(s,v),t=s==1?{x:h+((d-h)*10),y:g+((g-c)*10)}:{x:d,y:c};return jsPlumbUtil.pointOnLine(u,t,w)}};jsPlumb.Connectors.Bezier=function(v){var p=this;v=v||{};this.majorAnchor=v.curviness||150;this.minorAnchor=10;var t=null;this.type="Bezier";this._findControlPoint=function(H,w,C,x,A,F,y){var E=F.getOrientation(x),G=y.getOrientation(A),B=E[0]!=G[0]||E[1]==G[1],z=[],I=p.majorAnchor,D=p.minorAnchor;if(!B){if(E[0]==0){z.push(w[0]<C[0]?H[0]+D:H[0]-D)}else{z.push(H[0]-(I*E[0]))}if(E[1]==0){z.push(w[1]<C[1]?H[1]+D:H[1]-D)}else{z.push(H[1]+(I*G[1]))}}else{if(G[0]==0){z.push(C[0]<w[0]?H[0]+D:H[0]-D)}else{z.push(H[0]+(I*G[0]))}if(G[1]==0){z.push(C[1]<w[1]?H[1]+D:H[1]-D)}else{z.push(H[1]+(I*E[1]))}}return z};var q,l,f,o,n,f,e,s,r,u,d,h,g,k,i;this.compute=function(S,z,M,A,Q,x,w,L){w=w||0;u=Math.abs(S[0]-z[0])+w;d=Math.abs(S[1]-z[1])+w;s=Math.min(S[0],z[0])-(w/2);r=Math.min(S[1],z[1])-(w/2);f=S[0]<z[0]?u-(w/2):(w/2);e=S[1]<z[1]?d-(w/2):(w/2);o=S[0]<z[0]?(w/2):u-(w/2);n=S[1]<z[1]?(w/2):d-(w/2);q=p._findControlPoint([f,e],S,z,M,A,Q,x);l=p._findControlPoint([o,n],z,S,A,M,x,Q);var K=Math.min(f,o),J=Math.min(q[0],l[0]),F=Math.min(K,J),R=Math.max(f,o),O=Math.max(q[0],l[0]),C=Math.max(R,O);if(C>u){u=C}if(F<0){s+=F;var H=Math.abs(F);u+=H;q[0]+=H;f+=H;o+=H;l[0]+=H}var P=Math.min(e,n),N=Math.min(q[1],l[1]),B=Math.min(P,N),G=Math.max(e,n),E=Math.max(q[1],l[1]),y=Math.max(G,E);if(y>d){d=y}if(B<0){r+=B;var D=Math.abs(B);d+=D;q[1]+=D;e+=D;n+=D;l[1]+=D}if(L&&u<L){var I=(L-u)/2;u=L;s-=I;f=f+I;o=o+I;q[0]=q[0]+I;l[0]=l[0]+I}if(L&&d<L){var I=(L-d)/2;d=L;r-=I;e=e+I;n=n+I;q[1]=q[1]+I;l[1]=l[1]+I}t=[s,r,u,d,f,e,o,n,q[0],q[1],l[0],l[1]];return t};var c=function(){return[{x:f,y:e},{x:q[0],y:q[1]},{x:l[0],y:l[1]},{x:o,y:n}]};var m=function(x,w,y){if(y){w=jsBezier.locationAlongCurveFrom(x,w>0?0:1,w)}return w};this.pointOnPath=function(w,y){var x=c();w=m(x,w,y);return jsBezier.pointOnCurve(x,w)};this.gradientAtPoint=function(w,y){var x=c();w=m(x,w,y);return jsBezier.gradientAtPoint(x,w)};this.pointAlongPathFrom=function(w,z,y){var x=c();w=m(x,w,y);return jsBezier.pointAlongCurveFrom(x,w,z)}};jsPlumb.Connectors.Flowchart=function(v){this.type="Flowchart";v=v||{};var n=this,c=v.stub||v.minStubLength||30,f=jsPlumbUtil.isArray(c)?c[0]:c,k=jsPlumbUtil.isArray(c)?c[1]:c,p=v.gap||0,q=[],i=0,d=[],m=[],r=[],o,l,u=-Infinity,s=-Infinity,w=Infinity,t=Infinity,x=function(z,y,D,C){var B=0;for(var A=0;A<q.length;A++){m[A]=q[A][5]/i;d[A]=[B,(B+=(q[A][5]/i))]}},h=function(){r.push(q.length);for(var y=0;y<q.length;y++){r.push(q[y][0]);r.push(q[y][1])}},g=function(I,F,H,G,E,D){var A=q.length==0?H:q[q.length-1][0],z=q.length==0?G:q[q.length-1][1],B=I==A?Infinity:0,C=Math.abs(I==A?F-z:I-A);q.push([I,F,A,z,B,C]);i+=C;u=Math.max(u,I);s=Math.max(s,F);w=Math.min(w,I);t=Math.min(t,F)},e=function(A,C){if(C){A=A>0?A/i:(i+A)/i}var y=d.length-1,z=1;for(var B=0;B<d.length;B++){if(d[B][1]>=A){y=B;z=(A-d[B][0])/m[B];break}}return{segment:q[y],proportion:z,index:y}};this.compute=function(W,ak,z,Q,av,K,U,P,ap,am){q=[];d=[];i=0;m=[];u=s=-Infinity;w=t=Infinity;o=ak[0]<W[0];l=ak[1]<W[1];var aa=U||1,E=(aa/2)+(f+k),B=(aa/2)+(k+f),D=(aa/2)+(f+k),A=(aa/2)+(k+f),N=av.orientation||av.getOrientation(z),aw=K.orientation||K.getOrientation(Q),aj=o?ak[0]:W[0],ai=l?ak[1]:W[1],al=Math.abs(ak[0]-W[0])+E+B,au=Math.abs(ak[1]-W[1])+D+A;if(N[0]==0&&N[1]==0||aw[0]==0&&aw[1]==0){var ac=al>au?0:1,ae=[1,0][ac];N=[];aw=[];N[ac]=W[ac]>ak[ac]?-1:1;aw[ac]=W[ac]>ak[ac]?1:-1;N[ae]=0;aw[ae]=0}if(al<P){E+=(P-al)/2;al=P}if(au<P){D+=(P-au)/2;au=P}var I=o?(al-B)+(p*N[0]):E+(p*N[0]),H=l?(au-A)+(p*N[1]):D+(p*N[1]),ar=o?E+(p*aw[0]):(al-B)+(p*aw[0]),aq=l?D+(p*aw[1]):(au-A)+(p*aw[1]),Z=I+(N[0]*f),Y=H+(N[1]*f),L=ar+(aw[0]*k),J=aq+(aw[1]*k),V=Math.abs(I-ar)>(f+k),X=Math.abs(H-aq)>(f+k),ah=Z+((L-Z)/2),af=Y+((J-Y)/2),O=((N[0]*aw[0])+(N[1]*aw[1])),ab=O==-1,ad=O==0,C=O==1;aj-=E;ai-=D;r=[aj,ai,al,au,I,H,ar,aq];var ao=[];var S=N[0]==0?"y":"x",M=ab?"opposite":C?"orthogonal":"perpendicular",F=jsPlumbUtil.segment([I,H],[ar,aq]),ag=N[S=="x"?0:1]==-1,R={x:[null,4,3,2,1],y:[null,2,1,4,3]};if(ag){F=R[S][F]}g(Z,Y,I,H,ar,aq);var T=function(az,ay,y,ax){return az+(ay*((1-y)*ax)+Math.max(f,k))},G={oppositex:function(){if(z.elementId==Q.elementId){var y=Y+((1-av.y)*ap.height)+Math.max(f,k);return[[Z,y],[L,y]]}else{if(V&&(F==1||F==2)){return[[ah,H],[ah,aq]]}else{return[[Z,af],[L,af]]}}},orthogonalx:function(){if(F==1||F==2){return[[L,Y]]}else{return[[Z,J]]}},perpendicularx:function(){var y=(aq+H)/2;if((F==1&&aw[1]==1)||(F==2&&aw[1]==-1)){if(Math.abs(ar-I)>Math.max(f,k)){return[[L,Y]]}else{return[[Z,Y],[Z,y],[L,y]]}}else{if((F==3&&aw[1]==-1)||(F==4&&aw[1]==1)){return[[Z,y],[L,y]]}else{if((F==3&&aw[1]==1)||(F==4&&aw[1]==-1)){return[[Z,J]]}else{if((F==1&&aw[1]==-1)||(F==2&&aw[1]==1)){if(Math.abs(ar-I)>Math.max(f,k)){return[[ah,Y],[ah,J]]}else{return[[Z,J]]}}}}}},oppositey:function(){if(z.elementId==Q.elementId){var y=Z+((1-av.x)*ap.width)+Math.max(f,k);return[[y,Y],[y,J]]}else{if(X&&(F==2||F==3)){return[[I,af],[ar,af]]}else{return[[ah,Y],[ah,J]]}}},orthogonaly:function(){if(F==2||F==3){return[[Z,J]]}else{return[[L,Y]]}},perpendiculary:function(){var y=(ar+I)/2;if((F==2&&aw[0]==-1)||(F==3&&aw[0]==1)){if(Math.abs(ar-I)>Math.max(f,k)){return[[Z,J]]}else{return[[Z,af],[L,af]]}}else{if((F==1&&aw[0]==-1)||(F==4&&aw[0]==1)){var y=(ar+I)/2;return[[y,Y],[y,J]]}else{if((F==1&&aw[0]==1)||(F==4&&aw[0]==-1)){return[[L,Y]]}else{if((F==2&&aw[0]==1)||(F==3&&aw[0]==-1)){if(Math.abs(aq-H)>Math.max(f,k)){return[[Z,af],[L,af]]}else{return[[L,Y]]}}}}}}};var an=G[M+S]();if(an){for(var at=0;at<an.length;at++){g(an[at][0],an[at][1],I,H,ar,aq)}}g(L,J,I,H,ar,aq);g(ar,aq,I,H,ar,aq);h();x(I,H,ar,aq);if(s>r[3]){r[3]=s+(U*2)}if(u>r[2]){r[2]=u+(U*2)}return r};this.pointOnPath=function(y,z){return n.pointAlongPathFrom(y,0,z)};this.gradientAtPoint=function(y,z){return q[e(y,z)["index"]][4]};this.pointAlongPathFrom=function(F,y,E){var G=e(F,E),C=G.segment,z=G.proportion,B=q[G.index][5],A=q[G.index][4];var D={x:A==Infinity?C[2]:C[2]>C[0]?C[0]+((1-z)*B)-y:C[2]+(z*B)+y,y:A==0?C[3]:C[3]>C[1]?C[1]+((1-z)*B)-y:C[3]+(z*B)+y,segmentInfo:G};return D}};jsPlumb.Endpoints.Dot=function(d){this.type="Dot";var c=this;d=d||{};this.radius=d.radius||10;this.defaultOffset=0.5*this.radius;this.defaultInnerRadius=this.radius/3;this.compute=function(i,f,l,h){var g=l.radius||c.radius,e=i[0]-g,k=i[1]-g;return[e,k,g*2,g*2,g]}};jsPlumb.Endpoints.Rectangle=function(d){this.type="Rectangle";var c=this;d=d||{};this.width=d.width||20;this.height=d.height||20;this.compute=function(k,g,m,i){var h=m.width||c.width,f=m.height||c.height,e=k[0]-(h/2),l=k[1]-(f/2);return[e,l,h,f]}};var a=function(e){jsPlumb.DOMElementComponent.apply(this,arguments);var c=this;var d=[];this.getDisplayElements=function(){return d};this.appendDisplayElement=function(f){d.push(f)}};jsPlumb.Endpoints.Image=function(g){this.type="Image";a.apply(this,arguments);var l=this,f=false,e=g.width,d=g.height,i=null,c=g.endpoint;this.img=new Image();l.ready=false;this.img.onload=function(){l.ready=true;e=e||l.img.width;d=d||l.img.height;if(i){i(l)}};c.setImage=function(m,o){var n=m.constructor==String?m:m.src;i=o;l.img.src=m;if(l.canvas!=null){l.canvas.setAttribute("src",m)}};c.setImage(g.src||g.url,g.onload);this.compute=function(o,m,p,n){l.anchorPoint=o;if(l.ready){return[o[0]-e/2,o[1]-d/2,e,d]}else{return[0,0,0,0]}};l.canvas=document.createElement("img"),f=false;l.canvas.style.margin=0;l.canvas.style.padding=0;l.canvas.style.outline=0;l.canvas.style.position="absolute";var h=g.cssClass?" "+g.cssClass:"";l.canvas.className=jsPlumb.endpointClass+h;if(e){l.canvas.setAttribute("width",e)}if(d){l.canvas.setAttribute("height",d)}jsPlumb.appendElement(l.canvas,g.parent);l.attachListeners(l.canvas,l);var k=function(p,o,n){if(!f){l.canvas.setAttribute("src",l.img.src);l.appendDisplayElement(l.canvas);f=true}var m=l.anchorPoint[0]-(e/2),q=l.anchorPoint[1]-(d/2);jsPlumb.sizeCanvas(l.canvas,m,q,e,d)};this.paint=function(o,n,m){if(l.ready){k(o,n,m)}else{window.setTimeout(function(){l.paint(o,n,m)},200)}}};jsPlumb.Endpoints.Blank=function(d){var c=this;this.type="Blank";a.apply(this,arguments);this.compute=function(g,e,h,f){return[g[0],g[1],10,0]};c.canvas=document.createElement("div");c.canvas.style.display="block";c.canvas.style.width="1px";c.canvas.style.height="1px";c.canvas.style.background="transparent";c.canvas.style.position="absolute";c.canvas.className=c._jsPlumb.endpointClass;jsPlumb.appendElement(c.canvas,d.parent);this.paint=function(g,f,e){jsPlumb.sizeCanvas(c.canvas,g[0],g[1],g[2],g[3])}};jsPlumb.Endpoints.Triangle=function(c){this.type="Triangle";c=c||{};c.width=c.width||55;c.height=c.height||55;this.width=c.width;this.height=c.height;this.compute=function(i,f,l,h){var g=l.width||self.width,e=l.height||self.height,d=i[0]-(g/2),k=i[1]-(e/2);return[d,k,g,e]}};var b=function(e){var d=true,c=this;this.isAppendedAtTopLevel=true;this.component=e.component;this.loc=e.location==null?0.5:e.location;this.endpointLoc=e.endpointLocation==null?[0.5,0.5]:e.endpointLocation;this.setVisible=function(f){d=f;c.component.repaint()};this.isVisible=function(){return d};this.hide=function(){c.setVisible(false)};this.show=function(){c.setVisible(true)};this.incrementLocation=function(f){c.loc+=f;c.component.repaint()};this.setLocation=function(f){c.loc=f;c.component.repaint()};this.getLocation=function(){return c.loc}};jsPlumb.Overlays.Arrow=function(g){this.type="Arrow";b.apply(this,arguments);this.isAppendedAtTopLevel=false;g=g||{};var d=this;this.length=g.length||20;this.width=g.width||20;this.id=g.id;var f=(g.direction||1)<0?-1:1,e=g.paintStyle||{lineWidth:1},c=g.foldback||0.623;this.computeMaxSize=function(){return d.width*1.5};this.cleanup=function(){};this.draw=function(k,z,u){var o,v,h,p,n;if(k.pointAlongPathFrom){if(jsPlumbUtil.isString(d.loc)||d.loc>1||d.loc<0){var i=parseInt(d.loc);o=k.pointAlongPathFrom(i,f*d.length/2,true),v=k.pointOnPath(i,true),h=jsPlumbUtil.pointOnLine(o,v,d.length)}else{if(d.loc==1){o=k.pointOnPath(d.loc);v=k.pointAlongPathFrom(d.loc,-1);h=jsPlumbUtil.pointOnLine(o,v,d.length)}else{if(d.loc==0){h=k.pointOnPath(d.loc);v=k.pointAlongPathFrom(d.loc,1);o=jsPlumbUtil.pointOnLine(h,v,d.length)}else{o=k.pointAlongPathFrom(d.loc,f*d.length/2),v=k.pointOnPath(d.loc),h=jsPlumbUtil.pointOnLine(o,v,d.length)}}}p=jsPlumbUtil.perpendicularLineTo(o,h,d.width);n=jsPlumbUtil.pointOnLine(o,h,c*d.length);var y=Math.min(o.x,p[0].x,p[1].x),s=Math.max(o.x,p[0].x,p[1].x),x=Math.min(o.y,p[0].y,p[1].y),r=Math.max(o.y,p[0].y,p[1].y);var q={hxy:o,tail:p,cxy:n},t=e.strokeStyle||z.strokeStyle,w=e.fillStyle||z.strokeStyle,m=e.lineWidth||z.lineWidth;d.paint(k,q,m,t,w,u);return[y,s,x,r]}else{return[0,0,0,0]}}};jsPlumb.Overlays.PlainArrow=function(d){d=d||{};var c=jsPlumb.extend(d,{foldback:1});jsPlumb.Overlays.Arrow.call(this,c);this.type="PlainArrow"};jsPlumb.Overlays.Diamond=function(e){e=e||{};var c=e.length||40,d=jsPlumb.extend(e,{length:c/2,foldback:2});jsPlumb.Overlays.Arrow.call(this,d);this.type="Diamond"};jsPlumb.Overlays.Label=function(i){this.type="Label";jsPlumb.DOMElementComponent.apply(this,arguments);b.apply(this,arguments);this.labelStyle=i.labelStyle||jsPlumb.Defaults.LabelStyle;this.id=i.id;this.cachedDimensions=null;var e=i.label||"",c=this,f=false,k=document.createElement("div"),g=null;k.style.position="absolute";var d=i._jsPlumb.overlayClass+" "+(c.labelStyle.cssClass?c.labelStyle.cssClass:i.cssClass?i.cssClass:"");k.className=d;jsPlumb.appendElement(k,i.component.parent);jsPlumb.getId(k);c.attachListeners(k,c);c.canvas=k;var h=c.setVisible;c.setVisible=function(l){h(l);k.style.display=l?"block":"none"};this.getElement=function(){return k};this.cleanup=function(){if(k!=null){jsPlumb.CurrentLibrary.removeElement(k)}};this.setLabel=function(m){e=m;g=null;c.component.repaint()};this.getLabel=function(){return e};this.paint=function(l,n,m){if(!f){l.appendDisplayElement(k);c.attachListeners(k,l);f=true}k.style.left=(m[0]+n.minx)+"px";k.style.top=(m[1]+n.miny)+"px"};this.getTextDimensions=function(){if(typeof e=="function"){var l=e(c);k.innerHTML=l.replace(/\r\n/g,"<br/>")}else{if(g==null){g=e;k.innerHTML=g.replace(/\r\n/g,"<br/>")}}var n=jsPlumb.CurrentLibrary.getElementObject(k),m=jsPlumb.CurrentLibrary.getSize(n);return{width:m[0],height:m[1]}};this.computeMaxSize=function(l){var m=c.getTextDimensions(l);return m.width?Math.max(m.width,m.height)*1.5:0};this.draw=function(m,n,o){var s=c.getTextDimensions(m);if(s.width!=null){var p={x:0,y:0};if(m.pointOnPath){var q=c.loc,r=false;if(jsPlumbUtil.isString(c.loc)||c.loc<0||c.loc>1){q=parseInt(c.loc);r=true}p=m.pointOnPath(q,r)}else{var l=c.loc.constructor==Array?c.loc:c.endpointLoc;p={x:l[0]*o[2],y:l[1]*o[3]}}minx=p.x-(s.width/2),miny=p.y-(s.height/2);c.paint(m,{minx:minx,miny:miny,td:s,cxy:p},o);return[minx,minx+s.width,miny,miny+s.height]}else{return[0,0,0,0]}};this.reattachListeners=function(l){if(k){c.reattachListenersForElement(k,c,l)}}};jsPlumb.Overlays.GuideLines=function(){var c=this;c.length=50;c.lineWidth=5;this.type="GuideLines";b.apply(this,arguments);jsPlumb.jsPlumbUIComponent.apply(this,arguments);this.draw=function(e,l,k){var i=e.pointAlongPathFrom(c.loc,c.length/2),h=e.pointOnPath(c.loc),g=jsPlumbUtil.pointOnLine(i,h,c.length),f=jsPlumbUtil.perpendicularLineTo(i,g,40),d=jsPlumbUtil.perpendicularLineTo(g,i,20);c.paint(e,[i,g,f,d],c.lineWidth,"red",null,k);return[Math.min(i.x,g.x),Math.min(i.y,g.y),Math.max(i.x,g.x),Math.max(i.y,g.y)]};this.computeMaxSize=function(){return 50};this.cleanup=function(){}}})();(function(){var c=function(e,g,d,f){this.m=(f-g)/(d-e);this.b=-1*((this.m*e)-g);this.rectIntersect=function(q,p,s,o){var n=[];var k=(p-this.b)/this.m;if(k>=q&&k<=(q+s)){n.push([k,(this.m*k)+this.b])}var t=(this.m*(q+s))+this.b;if(t>=p&&t<=(p+o)){n.push([(t-this.b)/this.m,t])}var k=((p+o)-this.b)/this.m;if(k>=q&&k<=(q+s)){n.push([k,(this.m*k)+this.b])}var t=(this.m*q)+this.b;if(t>=p&&t<=(p+o)){n.push([(t-this.b)/this.m,t])}if(n.length==2){var m=(n[0][0]+n[1][0])/2,l=(n[0][1]+n[1][1])/2;n.push([m,l]);var i=m<=q+(s/2)?-1:1,r=l<=p+(o/2)?-1:1;n.push([i,r]);return n}return null}},a=function(e,g,d,f){if(e<=d&&f<=g){return 1}else{if(e<=d&&g<=f){return 2}else{if(d<=e&&f>=g){return 3}}}return 4},b=function(g,f,i,e,h,m,l,d,k){if(d<=k){return[g,f]}if(i==1){if(e[3]<=0&&h[3]>=1){return[g+(e[2]<0.5?-1*m:m),f]}else{if(e[2]>=1&&h[2]<=0){return[g,f+(e[3]<0.5?-1*l:l)]}else{return[g+(-1*m),f+(-1*l)]}}}else{if(i==2){if(e[3]>=1&&h[3]<=0){return[g+(e[2]<0.5?-1*m:m),f]}else{if(e[2]>=1&&h[2]<=0){return[g,f+(e[3]<0.5?-1*l:l)]}else{return[g+(1*m),f+(-1*l)]}}}else{if(i==3){if(e[3]>=1&&h[3]<=0){return[g+(e[2]<0.5?-1*m:m),f]}else{if(e[2]<=0&&h[2]>=1){return[g,f+(e[3]<0.5?-1*l:l)]}else{return[g+(-1*m),f+(-1*l)]}}}else{if(i==4){if(e[3]<=0&&h[3]>=1){return[g+(e[2]<0.5?-1*m:m),f]}else{if(e[2]<=0&&h[2]>=1){return[g,f+(e[3]<0.5?-1*l:l)]}else{return[g+(1*m),f+(-1*l)]}}}}}}};jsPlumb.Connectors.StateMachine=function(l){var u=this,n=null,o,m,g,e,p=[],d=l.curviness||10,k=l.margin||5,q=l.proximityLimit||80,f=l.orientation&&l.orientation=="clockwise",i=l.loopbackRadius||25,h=false,t=l.showLoopback!==false;this.type="StateMachine";l=l||{};this.compute=function(ad,H,W,I,ac,z,v,U){var Q=Math.abs(ad[0]-H[0]),Y=Math.abs(ad[1]-H[1]),S=0.45*Q,ab=0.45*Y;Q*=1.9;Y*=1.9;v=v||1;var O=Math.min(ad[0],H[0])-S,M=Math.min(ad[1],H[1])-ab;if(!t||(W.elementId!=I.elementId)){h=false;o=ad[0]<H[0]?S:Q-S;m=ad[1]<H[1]?ab:Y-ab;g=ad[0]<H[0]?Q-S:S;e=ad[1]<H[1]?Y-ab:ab;if(ad[2]==0){o-=k}if(ad[2]==1){o+=k}if(ad[3]==0){m-=k}if(ad[3]==1){m+=k}if(H[2]==0){g-=k}if(H[2]==1){g+=k}if(H[3]==0){e-=k}if(H[3]==1){e+=k}var N=(o+g)/2,L=(m+e)/2,A=(-1*N)/L,V=Math.atan(A),P=(A==Infinity||A==-Infinity)?0:Math.abs(d/2*Math.sin(V)),R=(A==Infinity||A==-Infinity)?0:Math.abs(d/2*Math.cos(V)),B=a(o,m,g,e),J=Math.sqrt(Math.pow(g-o,2)+Math.pow(e-m,2));p=b(N,L,B,ad,H,d,d,J,q);var G=Math.max(Math.abs(p[0]-o)*3,Math.abs(p[0]-g)*3,Math.abs(g-o),2*v,U),K=Math.max(Math.abs(p[1]-m)*3,Math.abs(p[1]-e)*3,Math.abs(e-m),2*v,U);if(Q<G){var T=G-Q;O-=(T/2);o+=(T/2);g+=(T/2);Q=G;p[0]+=(T/2)}if(Y<K){var aa=K-Y;M-=(aa/2);m+=(aa/2);e+=(aa/2);Y=K;p[1]+=(aa/2)}n=[O,M,Q,Y,o,m,g,e,p[0],p[1]]}else{h=true;var Z=ad[0],X=ad[0],F=ad[1]-k,D=ad[1]-k,E=Z,C=F-i;Q=((2*v)+(4*i)),Y=((2*v)+(4*i));O=E-i-v-i,M=C-i-v-i;n=[O,M,Q,Y,E-O,C-M,i,f,Z-O,F-M,X-O,D-M]}return n};var r=function(){return[{x:g,y:e},{x:p[0],y:p[1]},{x:p[0]+1,y:p[1]+1},{x:o,y:m}]};var s=function(w,v,x){if(x){v=jsBezier.locationAlongCurveFrom(w,v>0?0:1,v)}return v};this.pointOnPath=function(x,B){if(h){if(B){var y=Math.PI*2*i;x=x/y}if(x>0&&x<1){x=1-x}var z=(x*2*Math.PI)+(Math.PI/2),w=n[4]+(n[6]*Math.cos(z)),v=n[5]+(n[6]*Math.sin(z));return{x:w,y:v}}else{var A=r();x=s(A,x,B);return jsBezier.pointOnCurve(A,x)}};this.gradientAtPoint=function(v,y){if(h){if(y){var w=Math.PI*2*i;v=v/w}return Math.atan(v*2*Math.PI)}else{var x=r();v=s(x,v,y);return jsBezier.gradientAtPoint(x,v)}};this.pointAlongPathFrom=function(D,v,C){if(h){if(C){var B=Math.PI*2*i;D=D/B}if(D>0&&D<1){D=1-D}var B=2*Math.PI*n[6],w=v/B*2*Math.PI,z=(D*2*Math.PI)-w+(Math.PI/2),y=n[4]+(n[6]*Math.cos(z)),x=n[5]+(n[6]*Math.sin(z));return{x:y,y:x}}else{var A=r();D=s(A,D,C);return jsBezier.pointAlongCurveFrom(A,D,v)}}};jsPlumb.Connectors.canvas.StateMachine=function(f){f=f||{};var d=this,g=f.drawGuideline||true,e=f.avoidSelector;jsPlumb.Connectors.StateMachine.apply(this,arguments);jsPlumb.CanvasConnector.apply(this,arguments);this._paint=function(l){if(l.length==10){d.ctx.beginPath();d.ctx.moveTo(l[4],l[5]);d.ctx.bezierCurveTo(l[8],l[9],l[8],l[9],l[6],l[7]);d.ctx.stroke()}else{d.ctx.save();d.ctx.beginPath();var k=0,i=2*Math.PI,h=l[7];d.ctx.arc(l[4],l[5],l[6],0,i,h);d.ctx.stroke();d.ctx.closePath();d.ctx.restore()}};this.createGradient=function(i,h){return h.createLinearGradient(i[4],i[5],i[6],i[7])}};jsPlumb.Connectors.svg.StateMachine=function(){var d=this;jsPlumb.Connectors.StateMachine.apply(this,arguments);jsPlumb.SvgConnector.apply(this,arguments);this.getPath=function(e){if(e.length==10){return"M "+e[4]+" "+e[5]+" C "+e[8]+" "+e[9]+" "+e[8]+" "+e[9]+" "+e[6]+" "+e[7]}else{return"M"+(e[8]+4)+" "+e[9]+" A "+e[6]+" "+e[6]+" 0 1,0 "+(e[8]-4)+" "+e[9]}}};jsPlumb.Connectors.vml.StateMachine=function(){jsPlumb.Connectors.StateMachine.apply(this,arguments);jsPlumb.VmlConnector.apply(this,arguments);var d=jsPlumb.vml.convertValue;this.getPath=function(k){if(k.length==10){return"m"+d(k[4])+","+d(k[5])+" c"+d(k[8])+","+d(k[9])+","+d(k[8])+","+d(k[9])+","+d(k[6])+","+d(k[7])+" e"}else{var h=d(k[8]-k[6]),g=d(k[9]-(2*k[6])),f=h+d(2*k[6]),e=g+d(2*k[6]),l=h+","+g+","+f+","+e;var i="ar "+l+","+d(k[8])+","+d(k[9])+","+d(k[8])+","+d(k[9])+" e";return i}}}})();(function(){var h={"stroke-linejoin":"joinstyle",joinstyle:"joinstyle",endcap:"endcap",miterlimit:"miterlimit"},c=null;if(document.createStyleSheet&&document.namespaces){var m=[".jsplumb_vml","jsplumb\\:textbox","jsplumb\\:oval","jsplumb\\:rect","jsplumb\\:stroke","jsplumb\\:shape","jsplumb\\:group"],g="behavior:url(#default#VML);position:absolute;";c=document.createStyleSheet();for(var r=0;r<m.length;r++){c.addRule(m[r],g)}document.namespaces.add("jsplumb","urn:schemas-microsoft-com:vml")}jsPlumb.vml={};var t=1000,s={},a=function(u,i){var w=jsPlumb.getId(u),v=s[w];if(!v){v=f("group",[0,0,t,t],{"class":i});v.style.backgroundColor="red";s[w]=v;jsPlumb.appendElement(v,u)}return v},e=function(v,w){for(var u in w){v[u]=w[u]}},f=function(u,x,y,v,i){y=y||{};var w=document.createElement("jsplumb:"+u);i.appendElement(w,v);w.className=(y["class"]?y["class"]+" ":"")+"jsplumb_vml";k(w,x);e(w,y);return w},k=function(u,i){u.style.left=i[0]+"px";u.style.top=i[1]+"px";u.style.width=i[2]+"px";u.style.height=i[3]+"px";u.style.position="absolute"},p=jsPlumb.vml.convertValue=function(i){return Math.floor(i*t)},b=function(w,u,v,i){if("transparent"===u){i.setOpacity(v,"0.0")}else{i.setOpacity(v,"1.0")}},q=function(y,u,B,C){var x={};if(u.strokeStyle){x.stroked="true";var D=jsPlumbUtil.convertStyle(u.strokeStyle,true);x.strokecolor=D;b(x,D,"stroke",B);x.strokeweight=u.lineWidth+"px"}else{x.stroked="false"}if(u.fillStyle){x.filled="true";var v=jsPlumbUtil.convertStyle(u.fillStyle,true);x.fillcolor=v;b(x,v,"fill",B)}else{x.filled="false"}if(u.dashstyle){if(B.strokeNode==null){B.strokeNode=f("stroke",[0,0,0,0],{dashstyle:u.dashstyle},y,C)}else{B.strokeNode.dashstyle=u.dashstyle}}else{if(u["stroke-dasharray"]&&u.lineWidth){var E=u["stroke-dasharray"].indexOf(",")==-1?" ":",",z=u["stroke-dasharray"].split(E),w="";for(var A=0;A<z.length;A++){w+=(Math.floor(z[A]/u.lineWidth)+E)}if(B.strokeNode==null){B.strokeNode=f("stroke",[0,0,0,0],{dashstyle:w},y,C)}else{B.strokeNode.dashstyle=w}}}e(y,x)},n=function(){var i=this;jsPlumb.jsPlumbUIComponent.apply(this,arguments);this.opacityNodes={stroke:null,fill:null};this.initOpacityNodes=function(v){i.opacityNodes.stroke=f("stroke",[0,0,1,1],{opacity:"0.0"},v,i._jsPlumb);i.opacityNodes.fill=f("fill",[0,0,1,1],{opacity:"0.0"},v,i._jsPlumb)};this.setOpacity=function(v,x){var w=i.opacityNodes[v];if(w){w.opacity=""+x}};var u=[];this.getDisplayElements=function(){return u};this.appendDisplayElement=function(w,v){if(!v){i.canvas.parentNode.appendChild(w)}u.push(w)}},d=jsPlumb.VmlConnector=function(v){var i=this;i.strokeNode=null;i.canvas=null;n.apply(this,arguments);var u=i._jsPlumb.connectorClass+(v.cssClass?(" "+v.cssClass):"");this.paint=function(A,x,z){if(x!=null){var E=i.getPath(A),y={path:E};if(x.outlineColor){var C=x.outlineWidth||1,D=x.lineWidth+(2*C),B={strokeStyle:jsPlumbUtil.convertStyle(x.outlineColor),lineWidth:D};for(var w in h){B[w]=x[w]}if(i.bgCanvas==null){y["class"]=u;y.coordsize=(A[2]*t)+","+(A[3]*t);i.bgCanvas=f("shape",A,y,v.parent,i._jsPlumb);k(i.bgCanvas,A);i.appendDisplayElement(i.bgCanvas,true);i.attachListeners(i.bgCanvas,i);i.initOpacityNodes(i.bgCanvas,["stroke"])}else{y.coordsize=(A[2]*t)+","+(A[3]*t);k(i.bgCanvas,A);e(i.bgCanvas,y)}q(i.bgCanvas,B,i)}if(i.canvas==null){y["class"]=u;y.coordsize=(A[2]*t)+","+(A[3]*t);if(i.tooltip){y.label=i.tooltip}i.canvas=f("shape",A,y,v.parent,i._jsPlumb);i.appendDisplayElement(i.canvas,true);i.attachListeners(i.canvas,i);i.initOpacityNodes(i.canvas,["stroke"])}else{y.coordsize=(A[2]*t)+","+(A[3]*t);k(i.canvas,A);e(i.canvas,y)}q(i.canvas,x,i,i._jsPlumb)}};this.reattachListeners=function(){if(i.canvas){i.reattachListenersForElement(i.canvas,i)}}},l=window.VmlEndpoint=function(y){n.apply(this,arguments);var i=null,v=this,u=null,x=null;v.canvas=document.createElement("div");v.canvas.style.position="absolute";var w=v._jsPlumb.endpointClass+(y.cssClass?(" "+y.cssClass):"");y._jsPlumb.appendElement(v.canvas,y.parent);if(v.tooltip){v.canvas.setAttribute("label",v.tooltip)}this.paint=function(C,A,z){var B={};jsPlumb.sizeCanvas(v.canvas,C[0],C[1],C[2],C[3]);if(i==null){B["class"]=w;i=v.getVml([0,0,C[2],C[3]],B,z,v.canvas,v._jsPlumb);v.attachListeners(i,v);v.appendDisplayElement(i,true);v.appendDisplayElement(v.canvas,true);v.initOpacityNodes(i,["fill"])}else{k(i,[0,0,C[2],C[3]]);e(i,B)}q(i,A,v)};this.reattachListeners=function(){if(i){v.reattachListenersForElement(i,v)}}};jsPlumb.Connectors.vml.Bezier=function(){jsPlumb.Connectors.Bezier.apply(this,arguments);d.apply(this,arguments);this.getPath=function(i){return"m"+p(i[4])+","+p(i[5])+" c"+p(i[8])+","+p(i[9])+","+p(i[10])+","+p(i[11])+","+p(i[6])+","+p(i[7])+" e"}};jsPlumb.Connectors.vml.Straight=function(){jsPlumb.Connectors.Straight.apply(this,arguments);d.apply(this,arguments);this.getPath=function(i){return"m"+p(i[4])+","+p(i[5])+" l"+p(i[6])+","+p(i[7])+" e"}};jsPlumb.Connectors.vml.Flowchart=function(){jsPlumb.Connectors.Flowchart.apply(this,arguments);d.apply(this,arguments);this.getPath=function(v){var w="m "+p(v[4])+","+p(v[5])+" l";for(var u=0;u<v[8];u++){w=w+" "+p(v[9+(u*2)])+","+p(v[10+(u*2)])}w=w+" "+p(v[6])+","+p(v[7])+" e";return w}};jsPlumb.Endpoints.vml.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments);l.apply(this,arguments);this.getVml=function(w,x,u,v,i){return f("oval",w,x,v,i)}};jsPlumb.Endpoints.vml.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments);l.apply(this,arguments);this.getVml=function(w,x,u,v,i){return f("rect",w,x,v,i)}};jsPlumb.Endpoints.vml.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.vml.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.vml.Label=jsPlumb.Overlays.Label;var o=function(x,v){x.apply(this,v);n.apply(this,v);var u=this,w=null;u.canvas=null;u.isAppendedAtTopLevel=true;var i=function(z,y){return"m "+p(z.hxy.x)+","+p(z.hxy.y)+" l "+p(z.tail[0].x)+","+p(z.tail[0].y)+" "+p(z.cxy.x)+","+p(z.cxy.y)+" "+p(z.tail[1].x)+","+p(z.tail[1].y)+" x e"};this.paint=function(B,G,F,H,L,K){var z={};if(H){z.stroked="true";z.strokecolor=jsPlumbUtil.convertStyle(H,true)}if(F){z.strokeweight=F+"px"}if(L){z.filled="true";z.fillcolor=L}var y=Math.min(G.hxy.x,G.tail[0].x,G.tail[1].x,G.cxy.x),J=Math.min(G.hxy.y,G.tail[0].y,G.tail[1].y,G.cxy.y),C=Math.max(G.hxy.x,G.tail[0].x,G.tail[1].x,G.cxy.x),A=Math.max(G.hxy.y,G.tail[0].y,G.tail[1].y,G.cxy.y),I=Math.abs(C-y),E=Math.abs(A-J),D=[y,J,I,E];z.path=i(G,K);z.coordsize=(K[2]*t)+","+(K[3]*t);D[0]=K[0];D[1]=K[1];D[2]=K[2];D[3]=K[3];if(u.canvas==null){u.canvas=f("shape",D,z,B.canvas.parentNode,B._jsPlumb);B.appendDisplayElement(u.canvas,true);u.attachListeners(u.canvas,B);u.attachListeners(u.canvas,u)}else{k(u.canvas,D);e(u.canvas,z)}};this.reattachListeners=function(){if(u.canvas){u.reattachListenersForElement(u.canvas,u)}};this.cleanup=function(){if(u.canvas!=null){jsPlumb.CurrentLibrary.removeElement(u.canvas)}}};jsPlumb.Overlays.vml.Arrow=function(){o.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumb.Overlays.vml.PlainArrow=function(){o.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumb.Overlays.vml.Diamond=function(){o.apply(this,[jsPlumb.Overlays.Diamond,arguments])}})();(function(){var l={joinstyle:"stroke-linejoin","stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},w="stroke-dasharray",A="dashstyle",e="linearGradient",b="radialGradient",c="fill",a="stop",z="stroke",q="stroke-width",h="style",m="none",t="jsplumb_gradient_",o="lineWidth",C={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},g=function(F,D){for(var E in D){F.setAttribute(E,""+D[E])}},f=function(E,D){var F=document.createElementNS(C.svg,E);D=D||{};D.version="1.1";D.xmlns=C.xhtml;g(F,D);return F},n=function(D){return"position:absolute;left:"+D[0]+"px;top:"+D[1]+"px"},i=function(E){for(var D=0;D<E.childNodes.length;D++){if(E.childNodes[D].tagName==e||E.childNodes[D].tagName==b){E.removeChild(E.childNodes[D])}}},v=function(N,I,F,D,J){var G=t+J._jsPlumb.idstamp();i(N);if(!F.gradient.offset){var L=f(e,{id:G,gradientUnits:"userSpaceOnUse"});N.appendChild(L)}else{var L=f(b,{id:G});N.appendChild(L)}for(var K=0;K<F.gradient.stops.length;K++){var H=K;if(D.length==8){H=D[4]<D[6]?K:F.gradient.stops.length-1-K}else{H=D[4]<D[6]?F.gradient.stops.length-1-K:K}var M=jsPlumbUtil.convertStyle(F.gradient.stops[H][1],true);var O=f(a,{offset:Math.floor(F.gradient.stops[K][0]*100)+"%","stop-color":M});L.appendChild(O)}var E=F.strokeStyle?z:c;I.setAttribute(h,E+":url(#"+G+")")},x=function(K,G,E,D,H){if(E.gradient){v(K,G,E,D,H)}else{i(K);G.setAttribute(h,"")}G.setAttribute(c,E.fillStyle?jsPlumbUtil.convertStyle(E.fillStyle,true):m);G.setAttribute(z,E.strokeStyle?jsPlumbUtil.convertStyle(E.strokeStyle,true):m);if(E.lineWidth){G.setAttribute(q,E.lineWidth)}if(E[A]&&E[o]&&!E[w]){var L=E[A].indexOf(",")==-1?" ":",",I=E[A].split(L),F="";I.forEach(function(M){F+=(Math.floor(M*E.lineWidth)+L)});G.setAttribute(w,F)}else{if(E[w]){G.setAttribute(w,E[w])}}for(var J in l){if(E[J]){G.setAttribute(l[J],E[J])}}},B=function(F){var D=/([0-9].)(p[xt])\s(.*)/;var E=F.match(D);return{size:E[1]+E[2],font:E[3]}},r=function(I,J,E){var K=E.split(" "),H=I.className,G=H.baseVal.split(" ");for(var F=0;F<K.length;F++){if(J){if(G.indexOf(K[F])==-1){G.push(K[F])}}else{var D=G.indexOf(K[F]);if(D!=-1){G.splice(D,1)}}}I.className.baseVal=G.join(" ")},u=function(E,D){r(E,true,D)},k=function(E,D){r(E,false,D)};jsPlumbUtil.svg={addClass:u,removeClass:k,node:f,attr:g,pos:n};var s=function(H){var D=this,G=H.pointerEventsSpec||"all";jsPlumb.jsPlumbUIComponent.apply(this,H.originalArgs);D.canvas=null,D.path=null,D.svg=null;var F=H.cssClass+" "+(H.originalArgs[0].cssClass||""),I={style:"",width:0,height:0,"pointer-events":G,position:"absolute"};if(D.tooltip){I.title=D.tooltip}D.svg=f("svg",I);if(H.useDivWrapper){D.canvas=document.createElement("div");D.canvas.style.position="absolute";jsPlumb.sizeCanvas(D.canvas,0,0,1,1);D.canvas.className=F;if(D.tooltip){D.canvas.setAttribute("title",D.tooltip)}}else{g(D.svg,{"class":F});D.canvas=D.svg}H._jsPlumb.appendElement(D.canvas,H.originalArgs[0]["parent"]);if(H.useDivWrapper){D.canvas.appendChild(D.svg)}var E=[D.canvas];this.getDisplayElements=function(){return E};this.appendDisplayElement=function(J){E.push(J)};this.paint=function(M,L,K){if(L!=null){var J=M[0],N=M[1];if(H.useDivWrapper){jsPlumb.sizeCanvas(D.canvas,M[0],M[1],M[2],M[3]);J=0,N=0}g(D.svg,{style:n([J,N,M[2],M[3]]),width:M[2],height:M[3]});D._paint.apply(this,arguments)}}};var d=jsPlumb.SvgConnector=function(E){var D=this;s.apply(this,[{cssClass:E._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",tooltip:E.tooltip,_jsPlumb:E._jsPlumb}]);this._paint=function(L,H){var K=D.getPath(L),F={d:K},J=null;F["pointer-events"]="all";if(H.outlineColor){var I=H.outlineWidth||1,G=H.lineWidth+(2*I),J=jsPlumb.CurrentLibrary.extend({},H);J.strokeStyle=jsPlumbUtil.convertStyle(H.outlineColor);J.lineWidth=G;if(D.bgPath==null){D.bgPath=f("path",F);D.svg.appendChild(D.bgPath);D.attachListeners(D.bgPath,D)}else{g(D.bgPath,F)}x(D.svg,D.bgPath,J,L,D)}if(D.path==null){D.path=f("path",F);D.svg.appendChild(D.path);D.attachListeners(D.path,D)}else{g(D.path,F)}x(D.svg,D.path,H,L,D)};this.reattachListeners=function(){if(D.bgPath){D.reattachListenersForElement(D.bgPath,D)}if(D.path){D.reattachListenersForElement(D.path,D)}}};jsPlumb.Connectors.svg.Bezier=function(D){jsPlumb.Connectors.Bezier.apply(this,arguments);d.apply(this,arguments);this.getPath=function(F){var E="M "+F[4]+" "+F[5];E+=(" C "+F[8]+" "+F[9]+" "+F[10]+" "+F[11]+" "+F[6]+" "+F[7]);return E}};jsPlumb.Connectors.svg.Straight=function(D){jsPlumb.Connectors.Straight.apply(this,arguments);d.apply(this,arguments);this.getPath=function(E){return"M "+E[4]+" "+E[5]+" L "+E[6]+" "+E[7]}};jsPlumb.Connectors.svg.Flowchart=function(){var D=this;jsPlumb.Connectors.Flowchart.apply(this,arguments);d.apply(this,arguments);this.getPath=function(F){var G="M "+F[4]+","+F[5];for(var E=0;E<F[8];E++){G=G+" L "+F[9+(E*2)]+" "+F[10+(E*2)]}G=G+" "+F[6]+","+F[7];return G}};var y=window.SvgEndpoint=function(E){var D=this;s.apply(this,[{cssClass:E._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:true,_jsPlumb:E._jsPlumb}]);this._paint=function(H,G){var F=jsPlumb.extend({},G);if(F.outlineColor){F.strokeWidth=F.outlineWidth;F.strokeStyle=jsPlumbUtil.convertStyle(F.outlineColor,true)}if(D.node==null){D.node=D.makeNode(H,F);D.svg.appendChild(D.node);D.attachListeners(D.node,D)}x(D.svg,D.node,F,H,D);n(D.node,H)};this.reattachListeners=function(){if(D.node){D.reattachListenersForElement(D.node,D)}}};jsPlumb.Endpoints.svg.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments);y.apply(this,arguments);this.makeNode=function(E,D){return f("circle",{cx:E[2]/2,cy:E[3]/2,r:E[2]/2})}};jsPlumb.Endpoints.svg.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments);y.apply(this,arguments);this.makeNode=function(E,D){return f("rect",{width:E[2],height:E[3]})}};jsPlumb.Endpoints.svg.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.svg.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.svg.Label=jsPlumb.Overlays.Label;var p=function(H,F){H.apply(this,F);jsPlumb.jsPlumbUIComponent.apply(this,F);this.isAppendedAtTopLevel=false;var D=this,G=null;this.paint=function(J,M,I,N,K){if(G==null){G=f("path",{"pointer-events":"all"});J.svg.appendChild(G);D.attachListeners(G,J);D.attachListeners(G,D)}var L=F&&(F.length==1)?(F[0].cssClass||""):"";g(G,{d:E(M),"class":L,stroke:N?N:null,fill:K?K:null})};var E=function(I){return"M"+I.hxy.x+","+I.hxy.y+" L"+I.tail[0].x+","+I.tail[0].y+" L"+I.cxy.x+","+I.cxy.y+" L"+I.tail[1].x+","+I.tail[1].y+" L"+I.hxy.x+","+I.hxy.y};this.reattachListeners=function(){if(G){D.reattachListenersForElement(G,D)}};this.cleanup=function(){if(G!=null){jsPlumb.CurrentLibrary.removeElement(G)}}};jsPlumb.Overlays.svg.Arrow=function(){p.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumb.Overlays.svg.PlainArrow=function(){p.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumb.Overlays.svg.Diamond=function(){p.apply(this,[jsPlumb.Overlays.Diamond,arguments])};jsPlumb.Overlays.svg.GuideLines=function(){var I=null,D=this,H=null,G,F;jsPlumb.Overlays.GuideLines.apply(this,arguments);this.paint=function(K,M,J,N,L){if(I==null){I=f("path");K.svg.appendChild(I);D.attachListeners(I,K);D.attachListeners(I,D);G=f("path");K.svg.appendChild(G);D.attachListeners(G,K);D.attachListeners(G,D);F=f("path");K.svg.appendChild(F);D.attachListeners(F,K);D.attachListeners(F,D)}g(I,{d:E(M[0],M[1]),stroke:"red",fill:null});g(G,{d:E(M[2][0],M[2][1]),stroke:"blue",fill:null});g(F,{d:E(M[3][0],M[3][1]),stroke:"green",fill:null})};var E=function(K,J){return"M "+K.x+","+K.y+" L"+J.x+","+J.y}}})();(function(){var d=null,i=function(p,o){return jsPlumb.CurrentLibrary.hasClass(a(p),o)},a=function(o){return jsPlumb.CurrentLibrary.getElementObject(o)},m=function(o){return jsPlumb.CurrentLibrary.getOffset(a(o))},n=function(o){return jsPlumb.CurrentLibrary.getPageXY(o)},f=function(o){return jsPlumb.CurrentLibrary.getClientXY(o)};var k=function(){var q=this;q.overlayPlacements=[];jsPlumb.jsPlumbUIComponent.apply(this,arguments);jsPlumbUtil.EventGenerator.apply(this,arguments);this._over=function(z){var B=m(a(q.canvas)),D=n(z),u=D[0]-B.left,C=D[1]-B.top;if(u>0&&C>0&&u<q.canvas.width&&C<q.canvas.height){for(var v=0;v<q.overlayPlacements.length;v++){var w=q.overlayPlacements[v];if(w&&(w[0]<=u&&w[1]>=u&&w[2]<=C&&w[3]>=C)){return true}}var A=q.canvas.getContext("2d").getImageData(parseInt(u),parseInt(C),1,1);return A.data[0]!=0||A.data[1]!=0||A.data[2]!=0||A.data[3]!=0}return false};var p=false,o=false,t=null,s=false,r=function(v,u){return v!=null&&i(v,u)};this.mousemove=function(x){var z=n(x),w=f(x),v=document.elementFromPoint(w[0],w[1]),y=r(v,"_jsPlumb_overlay");var u=d==null&&(r(v,"_jsPlumb_endpoint")||r(v,"_jsPlumb_connector"));if(!p&&u&&q._over(x)){p=true;q.fire("mouseenter",q,x);return true}else{if(p&&(!q._over(x)||!u)&&!y){p=false;q.fire("mouseexit",q,x)}}q.fire("mousemove",q,x)};this.click=function(u){if(p&&q._over(u)&&!s){q.fire("click",q,u)}s=false};this.dblclick=function(u){if(p&&q._over(u)&&!s){q.fire("dblclick",q,u)}s=false};this.mousedown=function(u){if(q._over(u)&&!o){o=true;t=m(a(q.canvas));q.fire("mousedown",q,u)}};this.mouseup=function(u){o=false;q.fire("mouseup",q,u)};this.contextmenu=function(u){if(p&&q._over(u)&&!s){q.fire("contextmenu",q,u)}s=false}};var c=function(p){var o=document.createElement("canvas");p._jsPlumb.appendElement(o,p.parent);o.style.position="absolute";if(p["class"]){o.className=p["class"]}p._jsPlumb.getId(o,p.uuid);if(p.tooltip){o.setAttribute("title",p.tooltip)}return o};var l=function(p){k.apply(this,arguments);var o=[];this.getDisplayElements=function(){return o};this.appendDisplayElement=function(q){o.push(q)}};var h=jsPlumb.CanvasConnector=function(r){l.apply(this,arguments);var o=function(v,t){p.ctx.save();jsPlumb.extend(p.ctx,t);if(t.gradient){var u=p.createGradient(v,p.ctx);for(var s=0;s<t.gradient.stops.length;s++){u.addColorStop(t.gradient.stops[s][0],t.gradient.stops[s][1])}p.ctx.strokeStyle=u}p._paint(v,t);p.ctx.restore()};var p=this,q=p._jsPlumb.connectorClass+" "+(r.cssClass||"");p.canvas=c({"class":q,_jsPlumb:p._jsPlumb,parent:r.parent,tooltip:r.tooltip});p.ctx=p.canvas.getContext("2d");p.appendDisplayElement(p.canvas);p.paint=function(w,t){if(t!=null){jsPlumb.sizeCanvas(p.canvas,w[0],w[1],w[2],w[3]);if(t.outlineColor!=null){var v=t.outlineWidth||1,s=t.lineWidth+(2*v),u={strokeStyle:t.outlineColor,lineWidth:s};o(w,u)}o(w,t)}}};var b=function(r){var p=this;l.apply(this,arguments);var q=p._jsPlumb.endpointClass+" "+(r.cssClass||""),o={"class":q,_jsPlumb:p._jsPlumb,parent:r.parent,tooltip:p.tooltip};p.canvas=c(o);p.ctx=p.canvas.getContext("2d");p.appendDisplayElement(p.canvas);this.paint=function(x,u,s){jsPlumb.sizeCanvas(p.canvas,x[0],x[1],x[2],x[3]);if(u.outlineColor!=null){var w=u.outlineWidth||1,t=u.lineWidth+(2*w);var v={strokeStyle:u.outlineColor,lineWidth:t}}p._paint.apply(this,arguments)}};jsPlumb.Endpoints.canvas.Dot=function(r){jsPlumb.Endpoints.Dot.apply(this,arguments);b.apply(this,arguments);var q=this,p=function(s){try{return parseInt(s)}catch(t){if(s.substring(s.length-1)=="%"){return parseInt(s.substring(0,s-1))}}},o=function(u){var s=q.defaultOffset,t=q.defaultInnerRadius;u.offset&&(s=p(u.offset));u.innerRadius&&(t=p(u.innerRadius));return[s,t]};this._paint=function(A,t,x){if(t!=null){var B=q.canvas.getContext("2d"),u=x.getOrientation(q);jsPlumb.extend(B,t);if(t.gradient){var v=o(t.gradient),y=u[1]==1?v[0]*-1:v[0],s=u[0]==1?v[0]*-1:v[0],z=B.createRadialGradient(A[4],A[4],A[4],A[4]+s,A[4]+y,v[1]);for(var w=0;w<t.gradient.stops.length;w++){z.addColorStop(t.gradient.stops[w][0],t.gradient.stops[w][1])}B.fillStyle=z}B.beginPath();B.arc(A[4],A[4],A[4],0,Math.PI*2,true);B.closePath();if(t.fillStyle||t.gradient){B.fill()}if(t.strokeStyle){B.stroke()}}}};jsPlumb.Endpoints.canvas.Rectangle=function(p){var o=this;jsPlumb.Endpoints.Rectangle.apply(this,arguments);b.apply(this,arguments);this._paint=function(x,r,v){var A=o.canvas.getContext("2d"),t=v.getOrientation(o);jsPlumb.extend(A,r);if(r.gradient){var z=t[1]==1?x[3]:t[1]==0?x[3]/2:0;var y=t[1]==-1?x[3]:t[1]==0?x[3]/2:0;var s=t[0]==1?x[2]:t[0]==0?x[2]/2:0;var q=t[0]==-1?x[2]:t[0]==0?x[2]/2:0;var w=A.createLinearGradient(s,z,q,y);for(var u=0;u<r.gradient.stops.length;u++){w.addColorStop(r.gradient.stops[u][0],r.gradient.stops[u][1])}A.fillStyle=w}A.beginPath();A.rect(0,0,x[2],x[3]);A.closePath();if(r.fillStyle||r.gradient){A.fill()}if(r.strokeStyle){A.stroke()}}};jsPlumb.Endpoints.canvas.Triangle=function(p){var o=this;jsPlumb.Endpoints.Triangle.apply(this,arguments);b.apply(this,arguments);this._paint=function(z,q,v){var s=z[2],C=z[3],B=z[0],A=z[1],D=o.canvas.getContext("2d"),w=0,u=0,t=0,r=v.getOrientation(o);if(r[0]==1){w=s;u=C;t=180}if(r[1]==-1){w=s;t=90}if(r[1]==1){u=C;t=-90}D.fillStyle=q.fillStyle;D.translate(w,u);D.rotate(t*Math.PI/180);D.beginPath();D.moveTo(0,0);D.lineTo(s/2,C/2);D.lineTo(0,C);D.closePath();if(q.fillStyle||q.gradient){D.fill()}if(q.strokeStyle){D.stroke()}}};jsPlumb.Endpoints.canvas.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.canvas.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Connectors.canvas.Bezier=function(){var o=this;jsPlumb.Connectors.Bezier.apply(this,arguments);h.apply(this,arguments);this._paint=function(q,p){o.ctx.beginPath();o.ctx.moveTo(q[4],q[5]);o.ctx.bezierCurveTo(q[8],q[9],q[10],q[11],q[6],q[7]);o.ctx.stroke()};this.createGradient=function(r,p,q){return o.ctx.createLinearGradient(r[6],r[7],r[4],r[5])}};jsPlumb.Connectors.canvas.Straight=function(){var p=this,o=[null,[1,-1],[1,1],[-1,1],[-1,-1]];jsPlumb.Connectors.Straight.apply(this,arguments);h.apply(this,arguments);this._paint=function(r,t){p.ctx.beginPath();if(t.dashstyle&&t.dashstyle.split(" ").length==2){var v=t.dashstyle.split(" ");if(v.length!=2){v=[2,2]}var C=[v[0]*t.lineWidth,v[1]*t.lineWidth],y=(r[6]-r[4])/(r[7]-r[5]),G=jsPlumbUtil.segment([r[4],r[5]],[r[6],r[7]]),x=o[G],u=Math.atan(y),z=Math.sqrt(Math.pow(r[6]-r[4],2)+Math.pow(r[7]-r[5],2)),B=Math.floor(z/(C[0]+C[1])),w=[r[4],r[5]];for(var A=0;A<B;A++){p.ctx.moveTo(w[0],w[1]);var q=w[0]+(Math.abs(Math.sin(u)*C[0])*x[0]),F=w[1]+(Math.abs(Math.cos(u)*C[0])*x[1]),E=w[0]+(Math.abs(Math.sin(u)*(C[0]+C[1]))*x[0]),D=w[1]+(Math.abs(Math.cos(u)*(C[0]+C[1]))*x[1]);p.ctx.lineTo(q,F);w=[E,D]}p.ctx.moveTo(w[0],w[1]);p.ctx.lineTo(r[6],r[7])}else{p.ctx.moveTo(r[4],r[5]);p.ctx.lineTo(r[6],r[7])}p.ctx.stroke()};this.createGradient=function(r,q){return q.createLinearGradient(r[4],r[5],r[6],r[7])}};jsPlumb.Connectors.canvas.Flowchart=function(){var o=this;jsPlumb.Connectors.Flowchart.apply(this,arguments);h.apply(this,arguments);this._paint=function(r,q){o.ctx.beginPath();o.ctx.moveTo(r[4],r[5]);for(var p=0;p<r[8];p++){o.ctx.lineTo(r[9+(p*2)],r[10+(p*2)])}o.ctx.lineTo(r[6],r[7]);o.ctx.stroke()};this.createGradient=function(q,p){return p.createLinearGradient(q[4],q[5],q[6],q[7])}};jsPlumb.Overlays.canvas.Label=jsPlumb.Overlays.Label;var g=function(){jsPlumb.jsPlumbUIComponent.apply(this,arguments)};var e=function(p,o){p.apply(this,o);g.apply(this,o);this.paint=function(s,u,q,v,t){var r=s.ctx;r.lineWidth=q;r.beginPath();r.moveTo(u.hxy.x,u.hxy.y);r.lineTo(u.tail[0].x,u.tail[0].y);r.lineTo(u.cxy.x,u.cxy.y);r.lineTo(u.tail[1].x,u.tail[1].y);r.lineTo(u.hxy.x,u.hxy.y);r.closePath();if(v){r.strokeStyle=v;r.stroke()}if(t){r.fillStyle=t;r.fill()}}};jsPlumb.Overlays.canvas.Arrow=function(){e.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumb.Overlays.canvas.PlainArrow=function(){e.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumb.Overlays.canvas.Diamond=function(){e.apply(this,[jsPlumb.Overlays.Diamond,arguments])}})();(function(a){jsPlumb.CurrentLibrary={addClass:function(c,b){c=jsPlumb.CurrentLibrary.getElementObject(c);try{if(c[0].className.constructor==SVGAnimatedString){jsPlumb.util.svg.addClass(c[0],b)}}catch(d){}c.addClass(b)},animate:function(d,c,b){d.animate(c,b)},appendElement:function(c,b){jsPlumb.CurrentLibrary.getElementObject(b).append(c)},ajax:function(b){b=b||{};b.type=b.type||"get";a.ajax(b)},bind:function(b,c,d){b=jsPlumb.CurrentLibrary.getElementObject(b);b.bind(c,d)},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete"},extend:function(c,b){return a.extend(c,b)},getAttribute:function(b,c){return b.attr(c)},getClientXY:function(b){return[b.clientX,b.clientY]},getDocumentElement:function(){return document},getDragObject:function(b){return b[1].draggable},getDragScope:function(b){return b.draggable("option","scope")},getDropEvent:function(b){return b[0]},getDropScope:function(b){return b.droppable("option","scope")},getDOMElement:function(b){if(typeof(b)=="string"){return document.getElementById(b)}else{if(b.context){return b[0]}else{return b}}},getElementObject:function(b){return typeof(b)=="string"?a("#"+b):a(b)},getOffset:function(b){return b.offset()},getOriginalEvent:function(b){return b.originalEvent},getPageXY:function(b){return[b.pageX,b.pageY]},getParent:function(b){return jsPlumb.CurrentLibrary.getElementObject(b).parent()},getScrollLeft:function(b){return b.scrollLeft()},getScrollTop:function(b){return b.scrollTop()},getSelector:function(b){return a(b)},getSize:function(b){return[b.outerWidth(),b.outerHeight()]},getTagName:function(b){var c=jsPlumb.CurrentLibrary.getElementObject(b);return c.length>0?c[0].tagName:null},getUIPosition:function(c){if(c.length==1){ret={left:c[0].pageX,top:c[0].pageY}}else{var d=c[1],b=d.offset;ret=b||d.absolutePosition}return ret},hasClass:function(c,b){return c.hasClass(b)},initDraggable:function(c,b,d){b=b||{};b.helper=null;if(d){b.scope=b.scope||jsPlumb.Defaults.Scope}c.draggable(b)},initDroppable:function(c,b){b.scope=b.scope||jsPlumb.Defaults.Scope;c.droppable(b)},isAlreadyDraggable:function(b){b=jsPlumb.CurrentLibrary.getElementObject(b);return b.hasClass("ui-draggable")},isDragSupported:function(c,b){return c.draggable},isDropSupported:function(c,b){return c.droppable},removeClass:function(c,b){c=jsPlumb.CurrentLibrary.getElementObject(c);try{if(c[0].className.constructor==SVGAnimatedString){jsPlumb.util.svg.removeClass(c[0],b)}}catch(d){}c.removeClass(b)},removeElement:function(b,c){jsPlumb.CurrentLibrary.getElementObject(b).remove()},setAttribute:function(c,d,b){c.attr(d,b)},setDraggable:function(c,b){c.draggable("option","disabled",!b)},setDragScope:function(c,b){c.draggable("option","scope",b)},setOffset:function(b,c){jsPlumb.CurrentLibrary.getElementObject(b).offset(c)},trigger:function(d,e,b){var c=jQuery._data(jsPlumb.CurrentLibrary.getElementObject(d)[0],"handle");c(b)},unbind:function(b,c,d){b=jsPlumb.CurrentLibrary.getElementObject(b);b.unbind(c,d)}};a(document).ready(jsPlumb.init)})(jQuery);(function(){"undefined"==typeof Math.sgn&&(Math.sgn=function(l){return 0==l?0:0<l?1:-1});var d={subtract:function(m,l){return{x:m.x-l.x,y:m.y-l.y}},dotProduct:function(m,l){return m.x*l.x+m.y*l.y},square:function(l){return Math.sqrt(l.x*l.x+l.y*l.y)},scale:function(m,l){return{x:m.x*l,y:m.y*l}}},f=Math.pow(2,-65),h=function(y,x){for(var t=[],v=x.length-1,r=2*v-1,s=[],w=[],p=[],q=[],o=[[1,0.6,0.3,0.1],[0.4,0.6,0.6,0.4],[0.1,0.3,0.6,1]],u=0;u<=v;u++){s[u]=d.subtract(x[u],y)}for(u=0;u<=v-1;u++){w[u]=d.subtract(x[u+1],x[u]);w[u]=d.scale(w[u],3)}for(u=0;u<=v-1;u++){for(var m=0;m<=v;m++){p[u]||(p[u]=[]);p[u][m]=d.dotProduct(w[u],s[m])}}for(u=0;u<=r;u++){q[u]||(q[u]=[]);q[u].y=0;q[u].x=parseFloat(u)/r}r=v-1;for(s=0;s<=v+r;s++){u=Math.max(0,s-r);for(w=Math.min(s,v);u<=w;u++){j=s-u;q[u+j].y=q[u+j].y+p[j][u]*o[j][u]}}v=x.length-1;q=a(q,2*v-1,t,0);r=d.subtract(y,x[0]);p=d.square(r);for(u=o=0;u<q;u++){r=d.subtract(y,k(x,v,t[u],null,null));r=d.square(r);if(r<p){p=r;o=t[u]}}r=d.subtract(y,x[v]);r=d.square(r);if(r<p){p=r;o=1}return{location:o,distance:p}},a=function(C,B,x,z){var v=[],w=[],A=[],t=[],u=0,s,y;y=Math.sgn(C[0].y);for(var q=1;q<=B;q++){s=Math.sgn(C[q].y);s!=y&&u++;y=s}switch(u){case 0:return 0;case 1:if(z>=64){x[0]=(C[0].x+C[B].x)/2;return 1}var p,u=C[0].y-C[B].y;y=C[B].x-C[0].x;q=C[0].x*C[B].y-C[B].x*C[0].y;s=max_distance_below=0;for(p=1;p<B;p++){var r=u*C[p].x+y*C[p].y+q;r>s?s=r:r<max_distance_below&&(max_distance_below=r)}p=y;s=(1*(q-s)-p*0)*(1/(0*p-u*1));p=y;y=q-max_distance_below;u=(1*y-p*0)*(1/(0*p-u*1));y=Math.min(s,u);if(Math.max(s,u)-y<f){A=C[B].x-C[0].x;t=C[B].y-C[0].y;x[0]=0+1*(A*(C[0].y-0)-t*(C[0].x-0))*(1/(A*0-t*1));return 1}}k(C,B,0.5,v,w);C=a(v,B,A,z+1);B=a(w,B,t,z+1);for(z=0;z<C;z++){x[z]=A[z]}for(z=0;z<B;z++){x[z+C]=t[z]}return C+B},k=function(m,l,p,q,n){for(var o=[[]],r=0;r<=l;r++){o[0][r]=m[r]}for(m=1;m<=l;m++){for(r=0;r<=l-m;r++){o[m]||(o[m]=[]);o[m][r]||(o[m][r]={});o[m][r].x=(1-p)*o[m-1][r].x+p*o[m-1][r+1].x;o[m][r].y=(1-p)*o[m-1][r].y+p*o[m-1][r+1].y}}if(q!=null){for(r=0;r<=l;r++){q[r]=o[r][0]}}if(n!=null){for(r=0;r<=l;r++){n[r]=o[l-r][r]}}return o[l][0]},g={},e=function(t){var s=g[t];if(!s){var s=[],p=function(u){return function(){return u}},q=function(){return function(u){return u}},n=function(){return function(u){return 1-u}},o=function(u){return function(v){for(var x=1,w=0;w<u.length;w++){x=x*u[w](v)}return x}};s.push(new function(){return function(u){return Math.pow(u,t)}});for(var r=1;r<t;r++){for(var l=[new p(t)],m=0;m<t-r;m++){l.push(new q)}for(m=0;m<r;m++){l.push(new n)}s.push(new o(l))}s.push(new function(){return function(u){return Math.pow(1-u,t)}});g[t]=s}return s},c=function(m,l){for(var p=e(m.length-1),q=0,n=0,o=0;o<m.length;o++){q=q+m[o].x*p[o](l);n=n+m[o].y*p[o](l)}return{x:q,y:n}},b=function(m,l,p){for(var q=c(m,l),n=0,o=p>0?1:-1,r=null;n<Math.abs(p);){l=l+0.005*o;r=c(m,l);n=n+Math.sqrt(Math.pow(r.x-q.x,2)+Math.pow(r.y-q.y,2));q=r}return{point:r,location:l}},i=function(m,l){var o=c(m,l),p=c(m.slice(0,m.length-1),l),n=p.y-o.y,o=p.x-o.x;return n==0?Infinity:Math.atan(n/o)};window.jsBezier={distanceFromCurve:h,gradientAtPoint:i,gradientAtPointAlongCurveFrom:function(m,l,n){l=b(m,l,n);if(l.location>1){l.location=1}if(l.location<0){l.location=0}return i(m,l.location)},nearestPointOnCurve:function(m,l){var n=h(m,l);return{point:k(l,l.length-1,n.location,null,null),location:n.location}},pointOnCurve:c,pointAlongCurveFrom:function(m,l,n){return b(m,l,n).point},perpendicularToCurveAt:function(m,l,n,o){l=b(m,l,o==null?0:o);m=i(m,l.location);o=Math.atan(-1/m);m=n/2*Math.sin(o);n=n/2*Math.cos(o);return[{x:l.point.x+n,y:l.point.y+m},{x:l.point.x-n,y:l.point.y-m}]},locationAlongCurveFrom:function(m,l,n){return b(m,l,n).location}}})();
/* WEBPACK VAR INJECTION */}.call(exports, __nested_webpack_require_428012__(0)))

/***/ }),
/* 11 */
/***/ (function(module, exports, __nested_webpack_require_548749__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! jQuery UI - v1.11.4 - 2015-03-11
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

(function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __nested_webpack_require_548749__(0) ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}(function( $ ) {
/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */


// $.ui might exist from components with no dependencies, e.g., $.ui.position
$.ui = $.ui || {};

$.extend( $.ui, {
	version: "1.11.4",

	keyCode: {
		BACKSPACE: 8,
		COMMA: 188,
		DELETE: 46,
		DOWN: 40,
		END: 35,
		ENTER: 13,
		ESCAPE: 27,
		HOME: 36,
		LEFT: 37,
		PAGE_DOWN: 34,
		PAGE_UP: 33,
		PERIOD: 190,
		RIGHT: 39,
		SPACE: 32,
		TAB: 9,
		UP: 38
	}
});

// plugins
$.fn.extend({
	scrollParent: function( includeHidden ) {
		var position = this.css( "position" ),
			excludeStaticParent = position === "absolute",
			overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
			scrollParent = this.parents().filter( function() {
				var parent = $( this );
				if ( excludeStaticParent && parent.css( "position" ) === "static" ) {
					return false;
				}
				return overflowRegex.test( parent.css( "overflow" ) + parent.css( "overflow-y" ) + parent.css( "overflow-x" ) );
			}).eq( 0 );

		return position === "fixed" || !scrollParent.length ? $( this[ 0 ].ownerDocument || document ) : scrollParent;
	},

	uniqueId: (function() {
		var uuid = 0;

		return function() {
			return this.each(function() {
				if ( !this.id ) {
					this.id = "ui-id-" + ( ++uuid );
				}
			});
		};
	})(),

	removeUniqueId: function() {
		return this.each(function() {
			if ( /^ui-id-\d+$/.test( this.id ) ) {
				$( this ).removeAttr( "id" );
			}
		});
	}
});

// selectors
function focusable( element, isTabIndexNotNaN ) {
	var map, mapName, img,
		nodeName = element.nodeName.toLowerCase();
	if ( "area" === nodeName ) {
		map = element.parentNode;
		mapName = map.name;
		if ( !element.href || !mapName || map.nodeName.toLowerCase() !== "map" ) {
			return false;
		}
		img = $( "img[usemap='#" + mapName + "']" )[ 0 ];
		return !!img && visible( img );
	}
	return ( /^(input|select|textarea|button|object)$/.test( nodeName ) ?
		!element.disabled :
		"a" === nodeName ?
			element.href || isTabIndexNotNaN :
			isTabIndexNotNaN) &&
		// the element and all of its ancestors must be visible
		visible( element );
}

function visible( element ) {
	return $.expr.filters.visible( element ) &&
		!$( element ).parents().addBack().filter(function() {
			return $.css( this, "visibility" ) === "hidden";
		}).length;
}

$.extend( $.expr[ ":" ], {
	data: $.expr.createPseudo ?
		$.expr.createPseudo(function( dataName ) {
			return function( elem ) {
				return !!$.data( elem, dataName );
			};
		}) :
		// support: jQuery <1.8
		function( elem, i, match ) {
			return !!$.data( elem, match[ 3 ] );
		},

	focusable: function( element ) {
		return focusable( element, !isNaN( $.attr( element, "tabindex" ) ) );
	},

	tabbable: function( element ) {
		var tabIndex = $.attr( element, "tabindex" ),
			isTabIndexNaN = isNaN( tabIndex );
		return ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );
	}
});

// support: jQuery <1.8
if ( !$( "<a>" ).outerWidth( 1 ).jquery ) {
	$.each( [ "Width", "Height" ], function( i, name ) {
		var side = name === "Width" ? [ "Left", "Right" ] : [ "Top", "Bottom" ],
			type = name.toLowerCase(),
			orig = {
				innerWidth: $.fn.innerWidth,
				innerHeight: $.fn.innerHeight,
				outerWidth: $.fn.outerWidth,
				outerHeight: $.fn.outerHeight
			};

		function reduce( elem, size, border, margin ) {
			$.each( side, function() {
				size -= parseFloat( $.css( elem, "padding" + this ) ) || 0;
				if ( border ) {
					size -= parseFloat( $.css( elem, "border" + this + "Width" ) ) || 0;
				}
				if ( margin ) {
					size -= parseFloat( $.css( elem, "margin" + this ) ) || 0;
				}
			});
			return size;
		}

		$.fn[ "inner" + name ] = function( size ) {
			if ( size === undefined ) {
				return orig[ "inner" + name ].call( this );
			}

			return this.each(function() {
				$( this ).css( type, reduce( this, size ) + "px" );
			});
		};

		$.fn[ "outer" + name] = function( size, margin ) {
			if ( typeof size !== "number" ) {
				return orig[ "outer" + name ].call( this, size );
			}

			return this.each(function() {
				$( this).css( type, reduce( this, size, true, margin ) + "px" );
			});
		};
	});
}

// support: jQuery <1.8
if ( !$.fn.addBack ) {
	$.fn.addBack = function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	};
}

// support: jQuery 1.6.1, 1.6.2 (http://bugs.jquery.com/ticket/9413)
if ( $( "<a>" ).data( "a-b", "a" ).removeData( "a-b" ).data( "a-b" ) ) {
	$.fn.removeData = (function( removeData ) {
		return function( key ) {
			if ( arguments.length ) {
				return removeData.call( this, $.camelCase( key ) );
			} else {
				return removeData.call( this );
			}
		};
	})( $.fn.removeData );
}

// deprecated
$.ui.ie = !!/msie [\w.]+/.exec( navigator.userAgent.toLowerCase() );

$.fn.extend({
	focus: (function( orig ) {
		return function( delay, fn ) {
			return typeof delay === "number" ?
				this.each(function() {
					var elem = this;
					setTimeout(function() {
						$( elem ).focus();
						if ( fn ) {
							fn.call( elem );
						}
					}, delay );
				}) :
				orig.apply( this, arguments );
		};
	})( $.fn.focus ),

	disableSelection: (function() {
		var eventType = "onselectstart" in document.createElement( "div" ) ?
			"selectstart" :
			"mousedown";

		return function() {
			return this.bind( eventType + ".ui-disableSelection", function( event ) {
				event.preventDefault();
			});
		};
	})(),

	enableSelection: function() {
		return this.unbind( ".ui-disableSelection" );
	},

	zIndex: function( zIndex ) {
		if ( zIndex !== undefined ) {
			return this.css( "zIndex", zIndex );
		}

		if ( this.length ) {
			var elem = $( this[ 0 ] ), position, value;
			while ( elem.length && elem[ 0 ] !== document ) {
				// Ignore z-index if position is set to a value where z-index is ignored by the browser
				// This makes behavior of this function consistent across browsers
				// WebKit always returns auto if the element is positioned
				position = elem.css( "position" );
				if ( position === "absolute" || position === "relative" || position === "fixed" ) {
					// IE returns 0 when zIndex is not specified
					// other browsers return a string
					// we ignore the case of nested elements with an explicit value of 0
					// <div style="z-index: -10;"><div style="z-index: 0;"></div></div>
					value = parseInt( elem.css( "zIndex" ), 10 );
					if ( !isNaN( value ) && value !== 0 ) {
						return value;
					}
				}
				elem = elem.parent();
			}
		}

		return 0;
	}
});

// $.ui.plugin is deprecated. Use $.widget() extensions instead.
$.ui.plugin = {
	add: function( module, option, set ) {
		var i,
			proto = $.ui[ module ].prototype;
		for ( i in set ) {
			proto.plugins[ i ] = proto.plugins[ i ] || [];
			proto.plugins[ i ].push( [ option, set[ i ] ] );
		}
	},
	call: function( instance, name, args, allowDisconnected ) {
		var i,
			set = instance.plugins[ name ];

		if ( !set ) {
			return;
		}

		if ( !allowDisconnected && ( !instance.element[ 0 ].parentNode || instance.element[ 0 ].parentNode.nodeType === 11 ) ) {
			return;
		}

		for ( i = 0; i < set.length; i++ ) {
			if ( instance.options[ set[ i ][ 0 ] ] ) {
				set[ i ][ 1 ].apply( instance.element, args );
			}
		}
	}
};


/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */


var widget_uuid = 0,
	widget_slice = Array.prototype.slice;

$.cleanData = (function( orig ) {
	return function( elems ) {
		var events, elem, i;
		for ( i = 0; (elem = elems[i]) != null; i++ ) {
			try {

				// Only trigger remove when necessary to save time
				events = $._data( elem, "events" );
				if ( events && events.remove ) {
					$( elem ).triggerHandler( "remove" );
				}

			// http://bugs.jquery.com/ticket/8235
			} catch ( e ) {}
		}
		orig( elems );
	};
})( $.cleanData );

$.widget = function( name, base, prototype ) {
	var fullName, existingConstructor, constructor, basePrototype,
		// proxiedPrototype allows the provided prototype to remain unmodified
		// so that it can be used as a mixin for multiple widgets (#8876)
		proxiedPrototype = {},
		namespace = name.split( "." )[ 0 ];

	name = name.split( "." )[ 1 ];
	fullName = namespace + "-" + name;

	if ( !prototype ) {
		prototype = base;
		base = $.Widget;
	}

	// create selector for plugin
	$.expr[ ":" ][ fullName.toLowerCase() ] = function( elem ) {
		return !!$.data( elem, fullName );
	};

	$[ namespace ] = $[ namespace ] || {};
	existingConstructor = $[ namespace ][ name ];
	constructor = $[ namespace ][ name ] = function( options, element ) {
		// allow instantiation without "new" keyword
		if ( !this._createWidget ) {
			return new constructor( options, element );
		}

		// allow instantiation without initializing for simple inheritance
		// must use "new" keyword (the code above always passes args)
		if ( arguments.length ) {
			this._createWidget( options, element );
		}
	};
	// extend with the existing constructor to carry over any static properties
	$.extend( constructor, existingConstructor, {
		version: prototype.version,
		// copy the object used to create the prototype in case we need to
		// redefine the widget later
		_proto: $.extend( {}, prototype ),
		// track widgets that inherit from this widget in case this widget is
		// redefined after a widget inherits from it
		_childConstructors: []
	});

	basePrototype = new base();
	// we need to make the options hash a property directly on the new instance
	// otherwise we'll modify the options hash on the prototype that we're
	// inheriting from
	basePrototype.options = $.widget.extend( {}, basePrototype.options );
	$.each( prototype, function( prop, value ) {
		if ( !$.isFunction( value ) ) {
			proxiedPrototype[ prop ] = value;
			return;
		}
		proxiedPrototype[ prop ] = (function() {
			var _super = function() {
					return base.prototype[ prop ].apply( this, arguments );
				},
				_superApply = function( args ) {
					return base.prototype[ prop ].apply( this, args );
				};
			return function() {
				var __super = this._super,
					__superApply = this._superApply,
					returnValue;

				this._super = _super;
				this._superApply = _superApply;

				returnValue = value.apply( this, arguments );

				this._super = __super;
				this._superApply = __superApply;

				return returnValue;
			};
		})();
	});
	constructor.prototype = $.widget.extend( basePrototype, {
		// TODO: remove support for widgetEventPrefix
		// always use the name + a colon as the prefix, e.g., draggable:start
		// don't prefix for widgets that aren't DOM-based
		widgetEventPrefix: existingConstructor ? (basePrototype.widgetEventPrefix || name) : name
	}, proxiedPrototype, {
		constructor: constructor,
		namespace: namespace,
		widgetName: name,
		widgetFullName: fullName
	});

	// If this widget is being redefined then we need to find all widgets that
	// are inheriting from it and redefine all of them so that they inherit from
	// the new version of this widget. We're essentially trying to replace one
	// level in the prototype chain.
	if ( existingConstructor ) {
		$.each( existingConstructor._childConstructors, function( i, child ) {
			var childPrototype = child.prototype;

			// redefine the child widget using the same prototype that was
			// originally used, but inherit from the new version of the base
			$.widget( childPrototype.namespace + "." + childPrototype.widgetName, constructor, child._proto );
		});
		// remove the list of existing child constructors from the old constructor
		// so the old child constructors can be garbage collected
		delete existingConstructor._childConstructors;
	} else {
		base._childConstructors.push( constructor );
	}

	$.widget.bridge( name, constructor );

	return constructor;
};

$.widget.extend = function( target ) {
	var input = widget_slice.call( arguments, 1 ),
		inputIndex = 0,
		inputLength = input.length,
		key,
		value;
	for ( ; inputIndex < inputLength; inputIndex++ ) {
		for ( key in input[ inputIndex ] ) {
			value = input[ inputIndex ][ key ];
			if ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {
				// Clone objects
				if ( $.isPlainObject( value ) ) {
					target[ key ] = $.isPlainObject( target[ key ] ) ?
						$.widget.extend( {}, target[ key ], value ) :
						// Don't extend strings, arrays, etc. with objects
						$.widget.extend( {}, value );
				// Copy everything else by reference
				} else {
					target[ key ] = value;
				}
			}
		}
	}
	return target;
};

$.widget.bridge = function( name, object ) {
	var fullName = object.prototype.widgetFullName || name;
	$.fn[ name ] = function( options ) {
		var isMethodCall = typeof options === "string",
			args = widget_slice.call( arguments, 1 ),
			returnValue = this;

		if ( isMethodCall ) {
			this.each(function() {
				var methodValue,
					instance = $.data( this, fullName );
				if ( options === "instance" ) {
					returnValue = instance;
					return false;
				}
				if ( !instance ) {
					return $.error( "cannot call methods on " + name + " prior to initialization; " +
						"attempted to call method '" + options + "'" );
				}
				if ( !$.isFunction( instance[options] ) || options.charAt( 0 ) === "_" ) {
					return $.error( "no such method '" + options + "' for " + name + " widget instance" );
				}
				methodValue = instance[ options ].apply( instance, args );
				if ( methodValue !== instance && methodValue !== undefined ) {
					returnValue = methodValue && methodValue.jquery ?
						returnValue.pushStack( methodValue.get() ) :
						methodValue;
					return false;
				}
			});
		} else {

			// Allow multiple hashes to be passed on init
			if ( args.length ) {
				options = $.widget.extend.apply( null, [ options ].concat(args) );
			}

			this.each(function() {
				var instance = $.data( this, fullName );
				if ( instance ) {
					instance.option( options || {} );
					if ( instance._init ) {
						instance._init();
					}
				} else {
					$.data( this, fullName, new object( options, this ) );
				}
			});
		}

		return returnValue;
	};
};

$.Widget = function( /* options, element */ ) {};
$.Widget._childConstructors = [];

$.Widget.prototype = {
	widgetName: "widget",
	widgetEventPrefix: "",
	defaultElement: "<div>",
	options: {
		disabled: false,

		// callbacks
		create: null
	},
	_createWidget: function( options, element ) {
		element = $( element || this.defaultElement || this )[ 0 ];
		this.element = $( element );
		this.uuid = widget_uuid++;
		this.eventNamespace = "." + this.widgetName + this.uuid;

		this.bindings = $();
		this.hoverable = $();
		this.focusable = $();

		if ( element !== this ) {
			$.data( element, this.widgetFullName, this );
			this._on( true, this.element, {
				remove: function( event ) {
					if ( event.target === element ) {
						this.destroy();
					}
				}
			});
			this.document = $( element.style ?
				// element within the document
				element.ownerDocument :
				// element is window or document
				element.document || element );
			this.window = $( this.document[0].defaultView || this.document[0].parentWindow );
		}

		this.options = $.widget.extend( {},
			this.options,
			this._getCreateOptions(),
			options );

		this._create();
		this._trigger( "create", null, this._getCreateEventData() );
		this._init();
	},
	_getCreateOptions: $.noop,
	_getCreateEventData: $.noop,
	_create: $.noop,
	_init: $.noop,

	destroy: function() {
		this._destroy();
		// we can probably remove the unbind calls in 2.0
		// all event bindings should go through this._on()
		this.element
			.unbind( this.eventNamespace )
			.removeData( this.widgetFullName )
			// support: jquery <1.6.3
			// http://bugs.jquery.com/ticket/9413
			.removeData( $.camelCase( this.widgetFullName ) );
		this.widget()
			.unbind( this.eventNamespace )
			.removeAttr( "aria-disabled" )
			.removeClass(
				this.widgetFullName + "-disabled " +
				"ui-state-disabled" );

		// clean up events and states
		this.bindings.unbind( this.eventNamespace );
		this.hoverable.removeClass( "ui-state-hover" );
		this.focusable.removeClass( "ui-state-focus" );
	},
	_destroy: $.noop,

	widget: function() {
		return this.element;
	},

	option: function( key, value ) {
		var options = key,
			parts,
			curOption,
			i;

		if ( arguments.length === 0 ) {
			// don't return a reference to the internal hash
			return $.widget.extend( {}, this.options );
		}

		if ( typeof key === "string" ) {
			// handle nested keys, e.g., "foo.bar" => { foo: { bar: ___ } }
			options = {};
			parts = key.split( "." );
			key = parts.shift();
			if ( parts.length ) {
				curOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );
				for ( i = 0; i < parts.length - 1; i++ ) {
					curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};
					curOption = curOption[ parts[ i ] ];
				}
				key = parts.pop();
				if ( arguments.length === 1 ) {
					return curOption[ key ] === undefined ? null : curOption[ key ];
				}
				curOption[ key ] = value;
			} else {
				if ( arguments.length === 1 ) {
					return this.options[ key ] === undefined ? null : this.options[ key ];
				}
				options[ key ] = value;
			}
		}

		this._setOptions( options );

		return this;
	},
	_setOptions: function( options ) {
		var key;

		for ( key in options ) {
			this._setOption( key, options[ key ] );
		}

		return this;
	},
	_setOption: function( key, value ) {
		this.options[ key ] = value;

		if ( key === "disabled" ) {
			this.widget()
				.toggleClass( this.widgetFullName + "-disabled", !!value );

			// If the widget is becoming disabled, then nothing is interactive
			if ( value ) {
				this.hoverable.removeClass( "ui-state-hover" );
				this.focusable.removeClass( "ui-state-focus" );
			}
		}

		return this;
	},

	enable: function() {
		return this._setOptions({ disabled: false });
	},
	disable: function() {
		return this._setOptions({ disabled: true });
	},

	_on: function( suppressDisabledCheck, element, handlers ) {
		var delegateElement,
			instance = this;

		// no suppressDisabledCheck flag, shuffle arguments
		if ( typeof suppressDisabledCheck !== "boolean" ) {
			handlers = element;
			element = suppressDisabledCheck;
			suppressDisabledCheck = false;
		}

		// no element argument, shuffle and use this.element
		if ( !handlers ) {
			handlers = element;
			element = this.element;
			delegateElement = this.widget();
		} else {
			element = delegateElement = $( element );
			this.bindings = this.bindings.add( element );
		}

		$.each( handlers, function( event, handler ) {
			function handlerProxy() {
				// allow widgets to customize the disabled handling
				// - disabled as an array instead of boolean
				// - disabled class as method for disabling individual parts
				if ( !suppressDisabledCheck &&
						( instance.options.disabled === true ||
							$( this ).hasClass( "ui-state-disabled" ) ) ) {
					return;
				}
				return ( typeof handler === "string" ? instance[ handler ] : handler )
					.apply( instance, arguments );
			}

			// copy the guid so direct unbinding works
			if ( typeof handler !== "string" ) {
				handlerProxy.guid = handler.guid =
					handler.guid || handlerProxy.guid || $.guid++;
			}

			var match = event.match( /^([\w:-]*)\s*(.*)$/ ),
				eventName = match[1] + instance.eventNamespace,
				selector = match[2];
			if ( selector ) {
				delegateElement.delegate( selector, eventName, handlerProxy );
			} else {
				element.bind( eventName, handlerProxy );
			}
		});
	},

	_off: function( element, eventName ) {
		eventName = (eventName || "").split( " " ).join( this.eventNamespace + " " ) +
			this.eventNamespace;
		element.unbind( eventName ).undelegate( eventName );

		// Clear the stack to avoid memory leaks (#10056)
		this.bindings = $( this.bindings.not( element ).get() );
		this.focusable = $( this.focusable.not( element ).get() );
		this.hoverable = $( this.hoverable.not( element ).get() );
	},

	_delay: function( handler, delay ) {
		function handlerProxy() {
			return ( typeof handler === "string" ? instance[ handler ] : handler )
				.apply( instance, arguments );
		}
		var instance = this;
		return setTimeout( handlerProxy, delay || 0 );
	},

	_hoverable: function( element ) {
		this.hoverable = this.hoverable.add( element );
		this._on( element, {
			mouseenter: function( event ) {
				$( event.currentTarget ).addClass( "ui-state-hover" );
			},
			mouseleave: function( event ) {
				$( event.currentTarget ).removeClass( "ui-state-hover" );
			}
		});
	},

	_focusable: function( element ) {
		this.focusable = this.focusable.add( element );
		this._on( element, {
			focusin: function( event ) {
				$( event.currentTarget ).addClass( "ui-state-focus" );
			},
			focusout: function( event ) {
				$( event.currentTarget ).removeClass( "ui-state-focus" );
			}
		});
	},

	_trigger: function( type, event, data ) {
		var prop, orig,
			callback = this.options[ type ];

		data = data || {};
		event = $.Event( event );
		event.type = ( type === this.widgetEventPrefix ?
			type :
			this.widgetEventPrefix + type ).toLowerCase();
		// the original event may come from any element
		// so we need to reset the target on the new event
		event.target = this.element[ 0 ];

		// copy original event properties over to the new event
		orig = event.originalEvent;
		if ( orig ) {
			for ( prop in orig ) {
				if ( !( prop in event ) ) {
					event[ prop ] = orig[ prop ];
				}
			}
		}

		this.element.trigger( event, data );
		return !( $.isFunction( callback ) &&
			callback.apply( this.element[0], [ event ].concat( data ) ) === false ||
			event.isDefaultPrevented() );
	}
};

$.each( { show: "fadeIn", hide: "fadeOut" }, function( method, defaultEffect ) {
	$.Widget.prototype[ "_" + method ] = function( element, options, callback ) {
		if ( typeof options === "string" ) {
			options = { effect: options };
		}
		var hasOptions,
			effectName = !options ?
				method :
				options === true || typeof options === "number" ?
					defaultEffect :
					options.effect || defaultEffect;
		options = options || {};
		if ( typeof options === "number" ) {
			options = { duration: options };
		}
		hasOptions = !$.isEmptyObject( options );
		options.complete = callback;
		if ( options.delay ) {
			element.delay( options.delay );
		}
		if ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {
			element[ method ]( options );
		} else if ( effectName !== method && element[ effectName ] ) {
			element[ effectName ]( options.duration, options.easing, callback );
		} else {
			element.queue(function( next ) {
				$( this )[ method ]();
				if ( callback ) {
					callback.call( element[ 0 ] );
				}
				next();
			});
		}
	};
});

var widget = $.widget;


/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */


var mouseHandled = false;
$( document ).mouseup( function() {
	mouseHandled = false;
});

var mouse = $.widget("ui.mouse", {
	version: "1.11.4",
	options: {
		cancel: "input,textarea,button,select,option",
		distance: 1,
		delay: 0
	},
	_mouseInit: function() {
		var that = this;

		this.element
			.bind("mousedown." + this.widgetName, function(event) {
				return that._mouseDown(event);
			})
			.bind("click." + this.widgetName, function(event) {
				if (true === $.data(event.target, that.widgetName + ".preventClickEvent")) {
					$.removeData(event.target, that.widgetName + ".preventClickEvent");
					event.stopImmediatePropagation();
					return false;
				}
			});

		this.started = false;
	},

	// TODO: make sure destroying one instance of mouse doesn't mess with
	// other instances of mouse
	_mouseDestroy: function() {
		this.element.unbind("." + this.widgetName);
		if ( this._mouseMoveDelegate ) {
			this.document
				.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
				.unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
		}
	},

	_mouseDown: function(event) {
		// don't let more than one widget handle mouseStart
		if ( mouseHandled ) {
			return;
		}

		this._mouseMoved = false;

		// we may have missed mouseup (out of window)
		(this._mouseStarted && this._mouseUp(event));

		this._mouseDownEvent = event;

		var that = this,
			btnIsLeft = (event.which === 1),
			// event.target.nodeName works around a bug in IE 8 with
			// disabled inputs (#7620)
			elIsCancel = (typeof this.options.cancel === "string" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);
		if (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {
			return true;
		}

		this.mouseDelayMet = !this.options.delay;
		if (!this.mouseDelayMet) {
			this._mouseDelayTimer = setTimeout(function() {
				that.mouseDelayMet = true;
			}, this.options.delay);
		}

		if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
			this._mouseStarted = (this._mouseStart(event) !== false);
			if (!this._mouseStarted) {
				event.preventDefault();
				return true;
			}
		}

		// Click event may never have fired (Gecko & Opera)
		if (true === $.data(event.target, this.widgetName + ".preventClickEvent")) {
			$.removeData(event.target, this.widgetName + ".preventClickEvent");
		}

		// these delegates are required to keep context
		this._mouseMoveDelegate = function(event) {
			return that._mouseMove(event);
		};
		this._mouseUpDelegate = function(event) {
			return that._mouseUp(event);
		};

		this.document
			.bind( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.bind( "mouseup." + this.widgetName, this._mouseUpDelegate );

		event.preventDefault();

		mouseHandled = true;
		return true;
	},

	_mouseMove: function(event) {
		// Only check for mouseups outside the document if you've moved inside the document
		// at least once. This prevents the firing of mouseup in the case of IE<9, which will
		// fire a mousemove event if content is placed under the cursor. See #7778
		// Support: IE <9
		if ( this._mouseMoved ) {
			// IE mouseup check - mouseup happened when mouse was out of window
			if ($.ui.ie && ( !document.documentMode || document.documentMode < 9 ) && !event.button) {
				return this._mouseUp(event);

			// Iframe mouseup check - mouseup occurred in another document
			} else if ( !event.which ) {
				return this._mouseUp( event );
			}
		}

		if ( event.which || event.button ) {
			this._mouseMoved = true;
		}

		if (this._mouseStarted) {
			this._mouseDrag(event);
			return event.preventDefault();
		}

		if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
			this._mouseStarted =
				(this._mouseStart(this._mouseDownEvent, event) !== false);
			(this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));
		}

		return !this._mouseStarted;
	},

	_mouseUp: function(event) {
		this.document
			.unbind( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.unbind( "mouseup." + this.widgetName, this._mouseUpDelegate );

		if (this._mouseStarted) {
			this._mouseStarted = false;

			if (event.target === this._mouseDownEvent.target) {
				$.data(event.target, this.widgetName + ".preventClickEvent", true);
			}

			this._mouseStop(event);
		}

		mouseHandled = false;
		return false;
	},

	_mouseDistanceMet: function(event) {
		return (Math.max(
				Math.abs(this._mouseDownEvent.pageX - event.pageX),
				Math.abs(this._mouseDownEvent.pageY - event.pageY)
			) >= this.options.distance
		);
	},

	_mouseDelayMet: function(/* event */) {
		return this.mouseDelayMet;
	},

	// These are placeholder methods, to be overriden by extending plugin
	_mouseStart: function(/* event */) {},
	_mouseDrag: function(/* event */) {},
	_mouseStop: function(/* event */) {},
	_mouseCapture: function(/* event */) { return true; }
});


/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */

(function() {

$.ui = $.ui || {};

var cachedScrollbarWidth, supportsOffsetFractions,
	max = Math.max,
	abs = Math.abs,
	round = Math.round,
	rhorizontal = /left|center|right/,
	rvertical = /top|center|bottom/,
	roffset = /[\+\-]\d+(\.[\d]+)?%?/,
	rposition = /^\w+/,
	rpercent = /%$/,
	_position = $.fn.position;

function getOffsets( offsets, width, height ) {
	return [
		parseFloat( offsets[ 0 ] ) * ( rpercent.test( offsets[ 0 ] ) ? width / 100 : 1 ),
		parseFloat( offsets[ 1 ] ) * ( rpercent.test( offsets[ 1 ] ) ? height / 100 : 1 )
	];
}

function parseCss( element, property ) {
	return parseInt( $.css( element, property ), 10 ) || 0;
}

function getDimensions( elem ) {
	var raw = elem[0];
	if ( raw.nodeType === 9 ) {
		return {
			width: elem.width(),
			height: elem.height(),
			offset: { top: 0, left: 0 }
		};
	}
	if ( $.isWindow( raw ) ) {
		return {
			width: elem.width(),
			height: elem.height(),
			offset: { top: elem.scrollTop(), left: elem.scrollLeft() }
		};
	}
	if ( raw.preventDefault ) {
		return {
			width: 0,
			height: 0,
			offset: { top: raw.pageY, left: raw.pageX }
		};
	}
	return {
		width: elem.outerWidth(),
		height: elem.outerHeight(),
		offset: elem.offset()
	};
}

$.position = {
	scrollbarWidth: function() {
		if ( cachedScrollbarWidth !== undefined ) {
			return cachedScrollbarWidth;
		}
		var w1, w2,
			div = $( "<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>" ),
			innerDiv = div.children()[0];

		$( "body" ).append( div );
		w1 = innerDiv.offsetWidth;
		div.css( "overflow", "scroll" );

		w2 = innerDiv.offsetWidth;

		if ( w1 === w2 ) {
			w2 = div[0].clientWidth;
		}

		div.remove();

		return (cachedScrollbarWidth = w1 - w2);
	},
	getScrollInfo: function( within ) {
		var overflowX = within.isWindow || within.isDocument ? "" :
				within.element.css( "overflow-x" ),
			overflowY = within.isWindow || within.isDocument ? "" :
				within.element.css( "overflow-y" ),
			hasOverflowX = overflowX === "scroll" ||
				( overflowX === "auto" && within.width < within.element[0].scrollWidth ),
			hasOverflowY = overflowY === "scroll" ||
				( overflowY === "auto" && within.height < within.element[0].scrollHeight );
		return {
			width: hasOverflowY ? $.position.scrollbarWidth() : 0,
			height: hasOverflowX ? $.position.scrollbarWidth() : 0
		};
	},
	getWithinInfo: function( element ) {
		var withinElement = $( element || window ),
			isWindow = $.isWindow( withinElement[0] ),
			isDocument = !!withinElement[ 0 ] && withinElement[ 0 ].nodeType === 9;
		return {
			element: withinElement,
			isWindow: isWindow,
			isDocument: isDocument,
			offset: withinElement.offset() || { left: 0, top: 0 },
			scrollLeft: withinElement.scrollLeft(),
			scrollTop: withinElement.scrollTop(),

			// support: jQuery 1.6.x
			// jQuery 1.6 doesn't support .outerWidth/Height() on documents or windows
			width: isWindow || isDocument ? withinElement.width() : withinElement.outerWidth(),
			height: isWindow || isDocument ? withinElement.height() : withinElement.outerHeight()
		};
	}
};

$.fn.position = function( options ) {
	if ( !options || !options.of ) {
		return _position.apply( this, arguments );
	}

	// make a copy, we don't want to modify arguments
	options = $.extend( {}, options );

	var atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions,
		target = $( options.of ),
		within = $.position.getWithinInfo( options.within ),
		scrollInfo = $.position.getScrollInfo( within ),
		collision = ( options.collision || "flip" ).split( " " ),
		offsets = {};

	dimensions = getDimensions( target );
	if ( target[0].preventDefault ) {
		// force left top to allow flipping
		options.at = "left top";
	}
	targetWidth = dimensions.width;
	targetHeight = dimensions.height;
	targetOffset = dimensions.offset;
	// clone to reuse original targetOffset later
	basePosition = $.extend( {}, targetOffset );

	// force my and at to have valid horizontal and vertical positions
	// if a value is missing or invalid, it will be converted to center
	$.each( [ "my", "at" ], function() {
		var pos = ( options[ this ] || "" ).split( " " ),
			horizontalOffset,
			verticalOffset;

		if ( pos.length === 1) {
			pos = rhorizontal.test( pos[ 0 ] ) ?
				pos.concat( [ "center" ] ) :
				rvertical.test( pos[ 0 ] ) ?
					[ "center" ].concat( pos ) :
					[ "center", "center" ];
		}
		pos[ 0 ] = rhorizontal.test( pos[ 0 ] ) ? pos[ 0 ] : "center";
		pos[ 1 ] = rvertical.test( pos[ 1 ] ) ? pos[ 1 ] : "center";

		// calculate offsets
		horizontalOffset = roffset.exec( pos[ 0 ] );
		verticalOffset = roffset.exec( pos[ 1 ] );
		offsets[ this ] = [
			horizontalOffset ? horizontalOffset[ 0 ] : 0,
			verticalOffset ? verticalOffset[ 0 ] : 0
		];

		// reduce to just the positions without the offsets
		options[ this ] = [
			rposition.exec( pos[ 0 ] )[ 0 ],
			rposition.exec( pos[ 1 ] )[ 0 ]
		];
	});

	// normalize collision option
	if ( collision.length === 1 ) {
		collision[ 1 ] = collision[ 0 ];
	}

	if ( options.at[ 0 ] === "right" ) {
		basePosition.left += targetWidth;
	} else if ( options.at[ 0 ] === "center" ) {
		basePosition.left += targetWidth / 2;
	}

	if ( options.at[ 1 ] === "bottom" ) {
		basePosition.top += targetHeight;
	} else if ( options.at[ 1 ] === "center" ) {
		basePosition.top += targetHeight / 2;
	}

	atOffset = getOffsets( offsets.at, targetWidth, targetHeight );
	basePosition.left += atOffset[ 0 ];
	basePosition.top += atOffset[ 1 ];

	return this.each(function() {
		var collisionPosition, using,
			elem = $( this ),
			elemWidth = elem.outerWidth(),
			elemHeight = elem.outerHeight(),
			marginLeft = parseCss( this, "marginLeft" ),
			marginTop = parseCss( this, "marginTop" ),
			collisionWidth = elemWidth + marginLeft + parseCss( this, "marginRight" ) + scrollInfo.width,
			collisionHeight = elemHeight + marginTop + parseCss( this, "marginBottom" ) + scrollInfo.height,
			position = $.extend( {}, basePosition ),
			myOffset = getOffsets( offsets.my, elem.outerWidth(), elem.outerHeight() );

		if ( options.my[ 0 ] === "right" ) {
			position.left -= elemWidth;
		} else if ( options.my[ 0 ] === "center" ) {
			position.left -= elemWidth / 2;
		}

		if ( options.my[ 1 ] === "bottom" ) {
			position.top -= elemHeight;
		} else if ( options.my[ 1 ] === "center" ) {
			position.top -= elemHeight / 2;
		}

		position.left += myOffset[ 0 ];
		position.top += myOffset[ 1 ];

		// if the browser doesn't support fractions, then round for consistent results
		if ( !supportsOffsetFractions ) {
			position.left = round( position.left );
			position.top = round( position.top );
		}

		collisionPosition = {
			marginLeft: marginLeft,
			marginTop: marginTop
		};

		$.each( [ "left", "top" ], function( i, dir ) {
			if ( $.ui.position[ collision[ i ] ] ) {
				$.ui.position[ collision[ i ] ][ dir ]( position, {
					targetWidth: targetWidth,
					targetHeight: targetHeight,
					elemWidth: elemWidth,
					elemHeight: elemHeight,
					collisionPosition: collisionPosition,
					collisionWidth: collisionWidth,
					collisionHeight: collisionHeight,
					offset: [ atOffset[ 0 ] + myOffset[ 0 ], atOffset [ 1 ] + myOffset[ 1 ] ],
					my: options.my,
					at: options.at,
					within: within,
					elem: elem
				});
			}
		});

		if ( options.using ) {
			// adds feedback as second argument to using callback, if present
			using = function( props ) {
				var left = targetOffset.left - position.left,
					right = left + targetWidth - elemWidth,
					top = targetOffset.top - position.top,
					bottom = top + targetHeight - elemHeight,
					feedback = {
						target: {
							element: target,
							left: targetOffset.left,
							top: targetOffset.top,
							width: targetWidth,
							height: targetHeight
						},
						element: {
							element: elem,
							left: position.left,
							top: position.top,
							width: elemWidth,
							height: elemHeight
						},
						horizontal: right < 0 ? "left" : left > 0 ? "right" : "center",
						vertical: bottom < 0 ? "top" : top > 0 ? "bottom" : "middle"
					};
				if ( targetWidth < elemWidth && abs( left + right ) < targetWidth ) {
					feedback.horizontal = "center";
				}
				if ( targetHeight < elemHeight && abs( top + bottom ) < targetHeight ) {
					feedback.vertical = "middle";
				}
				if ( max( abs( left ), abs( right ) ) > max( abs( top ), abs( bottom ) ) ) {
					feedback.important = "horizontal";
				} else {
					feedback.important = "vertical";
				}
				options.using.call( this, props, feedback );
			};
		}

		elem.offset( $.extend( position, { using: using } ) );
	});
};

$.ui.position = {
	fit: {
		left: function( position, data ) {
			var within = data.within,
				withinOffset = within.isWindow ? within.scrollLeft : within.offset.left,
				outerWidth = within.width,
				collisionPosLeft = position.left - data.collisionPosition.marginLeft,
				overLeft = withinOffset - collisionPosLeft,
				overRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,
				newOverRight;

			// element is wider than within
			if ( data.collisionWidth > outerWidth ) {
				// element is initially over the left side of within
				if ( overLeft > 0 && overRight <= 0 ) {
					newOverRight = position.left + overLeft + data.collisionWidth - outerWidth - withinOffset;
					position.left += overLeft - newOverRight;
				// element is initially over right side of within
				} else if ( overRight > 0 && overLeft <= 0 ) {
					position.left = withinOffset;
				// element is initially over both left and right sides of within
				} else {
					if ( overLeft > overRight ) {
						position.left = withinOffset + outerWidth - data.collisionWidth;
					} else {
						position.left = withinOffset;
					}
				}
			// too far left -> align with left edge
			} else if ( overLeft > 0 ) {
				position.left += overLeft;
			// too far right -> align with right edge
			} else if ( overRight > 0 ) {
				position.left -= overRight;
			// adjust based on position and margin
			} else {
				position.left = max( position.left - collisionPosLeft, position.left );
			}
		},
		top: function( position, data ) {
			var within = data.within,
				withinOffset = within.isWindow ? within.scrollTop : within.offset.top,
				outerHeight = data.within.height,
				collisionPosTop = position.top - data.collisionPosition.marginTop,
				overTop = withinOffset - collisionPosTop,
				overBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,
				newOverBottom;

			// element is taller than within
			if ( data.collisionHeight > outerHeight ) {
				// element is initially over the top of within
				if ( overTop > 0 && overBottom <= 0 ) {
					newOverBottom = position.top + overTop + data.collisionHeight - outerHeight - withinOffset;
					position.top += overTop - newOverBottom;
				// element is initially over bottom of within
				} else if ( overBottom > 0 && overTop <= 0 ) {
					position.top = withinOffset;
				// element is initially over both top and bottom of within
				} else {
					if ( overTop > overBottom ) {
						position.top = withinOffset + outerHeight - data.collisionHeight;
					} else {
						position.top = withinOffset;
					}
				}
			// too far up -> align with top
			} else if ( overTop > 0 ) {
				position.top += overTop;
			// too far down -> align with bottom edge
			} else if ( overBottom > 0 ) {
				position.top -= overBottom;
			// adjust based on position and margin
			} else {
				position.top = max( position.top - collisionPosTop, position.top );
			}
		}
	},
	flip: {
		left: function( position, data ) {
			var within = data.within,
				withinOffset = within.offset.left + within.scrollLeft,
				outerWidth = within.width,
				offsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,
				collisionPosLeft = position.left - data.collisionPosition.marginLeft,
				overLeft = collisionPosLeft - offsetLeft,
				overRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,
				myOffset = data.my[ 0 ] === "left" ?
					-data.elemWidth :
					data.my[ 0 ] === "right" ?
						data.elemWidth :
						0,
				atOffset = data.at[ 0 ] === "left" ?
					data.targetWidth :
					data.at[ 0 ] === "right" ?
						-data.targetWidth :
						0,
				offset = -2 * data.offset[ 0 ],
				newOverRight,
				newOverLeft;

			if ( overLeft < 0 ) {
				newOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth - outerWidth - withinOffset;
				if ( newOverRight < 0 || newOverRight < abs( overLeft ) ) {
					position.left += myOffset + atOffset + offset;
				}
			} else if ( overRight > 0 ) {
				newOverLeft = position.left - data.collisionPosition.marginLeft + myOffset + atOffset + offset - offsetLeft;
				if ( newOverLeft > 0 || abs( newOverLeft ) < overRight ) {
					position.left += myOffset + atOffset + offset;
				}
			}
		},
		top: function( position, data ) {
			var within = data.within,
				withinOffset = within.offset.top + within.scrollTop,
				outerHeight = within.height,
				offsetTop = within.isWindow ? within.scrollTop : within.offset.top,
				collisionPosTop = position.top - data.collisionPosition.marginTop,
				overTop = collisionPosTop - offsetTop,
				overBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,
				top = data.my[ 1 ] === "top",
				myOffset = top ?
					-data.elemHeight :
					data.my[ 1 ] === "bottom" ?
						data.elemHeight :
						0,
				atOffset = data.at[ 1 ] === "top" ?
					data.targetHeight :
					data.at[ 1 ] === "bottom" ?
						-data.targetHeight :
						0,
				offset = -2 * data.offset[ 1 ],
				newOverTop,
				newOverBottom;
			if ( overTop < 0 ) {
				newOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight - outerHeight - withinOffset;
				if ( newOverBottom < 0 || newOverBottom < abs( overTop ) ) {
					position.top += myOffset + atOffset + offset;
				}
			} else if ( overBottom > 0 ) {
				newOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset + offset - offsetTop;
				if ( newOverTop > 0 || abs( newOverTop ) < overBottom ) {
					position.top += myOffset + atOffset + offset;
				}
			}
		}
	},
	flipfit: {
		left: function() {
			$.ui.position.flip.left.apply( this, arguments );
			$.ui.position.fit.left.apply( this, arguments );
		},
		top: function() {
			$.ui.position.flip.top.apply( this, arguments );
			$.ui.position.fit.top.apply( this, arguments );
		}
	}
};

// fraction support test
(function() {
	var testElement, testElementParent, testElementStyle, offsetLeft, i,
		body = document.getElementsByTagName( "body" )[ 0 ],
		div = document.createElement( "div" );

	//Create a "fake body" for testing based on method used in jQuery.support
	testElement = document.createElement( body ? "div" : "body" );
	testElementStyle = {
		visibility: "hidden",
		width: 0,
		height: 0,
		border: 0,
		margin: 0,
		background: "none"
	};
	if ( body ) {
		$.extend( testElementStyle, {
			position: "absolute",
			left: "-1000px",
			top: "-1000px"
		});
	}
	for ( i in testElementStyle ) {
		testElement.style[ i ] = testElementStyle[ i ];
	}
	testElement.appendChild( div );
	testElementParent = body || document.documentElement;
	testElementParent.insertBefore( testElement, testElementParent.firstChild );

	div.style.cssText = "position: absolute; left: 10.7432222px;";

	offsetLeft = $( div ).offset().left;
	supportsOffsetFractions = offsetLeft > 10 && offsetLeft < 11;

	testElement.innerHTML = "";
	testElementParent.removeChild( testElement );
})();

})();

var position = $.ui.position;


/*!
 * jQuery UI Accordion 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/accordion/
 */


var accordion = $.widget( "ui.accordion", {
	version: "1.11.4",
	options: {
		active: 0,
		animate: {},
		collapsible: false,
		event: "click",
		header: "> li > :first-child,> :not(li):even",
		heightStyle: "auto",
		icons: {
			activeHeader: "ui-icon-triangle-1-s",
			header: "ui-icon-triangle-1-e"
		},

		// callbacks
		activate: null,
		beforeActivate: null
	},

	hideProps: {
		borderTopWidth: "hide",
		borderBottomWidth: "hide",
		paddingTop: "hide",
		paddingBottom: "hide",
		height: "hide"
	},

	showProps: {
		borderTopWidth: "show",
		borderBottomWidth: "show",
		paddingTop: "show",
		paddingBottom: "show",
		height: "show"
	},

	_create: function() {
		var options = this.options;
		this.prevShow = this.prevHide = $();
		this.element.addClass( "ui-accordion ui-widget ui-helper-reset" )
			// ARIA
			.attr( "role", "tablist" );

		// don't allow collapsible: false and active: false / null
		if ( !options.collapsible && (options.active === false || options.active == null) ) {
			options.active = 0;
		}

		this._processPanels();
		// handle negative values
		if ( options.active < 0 ) {
			options.active += this.headers.length;
		}
		this._refresh();
	},

	_getCreateEventData: function() {
		return {
			header: this.active,
			panel: !this.active.length ? $() : this.active.next()
		};
	},

	_createIcons: function() {
		var icons = this.options.icons;
		if ( icons ) {
			$( "<span>" )
				.addClass( "ui-accordion-header-icon ui-icon " + icons.header )
				.prependTo( this.headers );
			this.active.children( ".ui-accordion-header-icon" )
				.removeClass( icons.header )
				.addClass( icons.activeHeader );
			this.headers.addClass( "ui-accordion-icons" );
		}
	},

	_destroyIcons: function() {
		this.headers
			.removeClass( "ui-accordion-icons" )
			.children( ".ui-accordion-header-icon" )
				.remove();
	},

	_destroy: function() {
		var contents;

		// clean up main element
		this.element
			.removeClass( "ui-accordion ui-widget ui-helper-reset" )
			.removeAttr( "role" );

		// clean up headers
		this.headers
			.removeClass( "ui-accordion-header ui-accordion-header-active ui-state-default " +
				"ui-corner-all ui-state-active ui-state-disabled ui-corner-top" )
			.removeAttr( "role" )
			.removeAttr( "aria-expanded" )
			.removeAttr( "aria-selected" )
			.removeAttr( "aria-controls" )
			.removeAttr( "tabIndex" )
			.removeUniqueId();

		this._destroyIcons();

		// clean up content panels
		contents = this.headers.next()
			.removeClass( "ui-helper-reset ui-widget-content ui-corner-bottom " +
				"ui-accordion-content ui-accordion-content-active ui-state-disabled" )
			.css( "display", "" )
			.removeAttr( "role" )
			.removeAttr( "aria-hidden" )
			.removeAttr( "aria-labelledby" )
			.removeUniqueId();

		if ( this.options.heightStyle !== "content" ) {
			contents.css( "height", "" );
		}
	},

	_setOption: function( key, value ) {
		if ( key === "active" ) {
			// _activate() will handle invalid values and update this.options
			this._activate( value );
			return;
		}

		if ( key === "event" ) {
			if ( this.options.event ) {
				this._off( this.headers, this.options.event );
			}
			this._setupEvents( value );
		}

		this._super( key, value );

		// setting collapsible: false while collapsed; open first panel
		if ( key === "collapsible" && !value && this.options.active === false ) {
			this._activate( 0 );
		}

		if ( key === "icons" ) {
			this._destroyIcons();
			if ( value ) {
				this._createIcons();
			}
		}

		// #5332 - opacity doesn't cascade to positioned elements in IE
		// so we need to add the disabled class to the headers and panels
		if ( key === "disabled" ) {
			this.element
				.toggleClass( "ui-state-disabled", !!value )
				.attr( "aria-disabled", value );
			this.headers.add( this.headers.next() )
				.toggleClass( "ui-state-disabled", !!value );
		}
	},

	_keydown: function( event ) {
		if ( event.altKey || event.ctrlKey ) {
			return;
		}

		var keyCode = $.ui.keyCode,
			length = this.headers.length,
			currentIndex = this.headers.index( event.target ),
			toFocus = false;

		switch ( event.keyCode ) {
			case keyCode.RIGHT:
			case keyCode.DOWN:
				toFocus = this.headers[ ( currentIndex + 1 ) % length ];
				break;
			case keyCode.LEFT:
			case keyCode.UP:
				toFocus = this.headers[ ( currentIndex - 1 + length ) % length ];
				break;
			case keyCode.SPACE:
			case keyCode.ENTER:
				this._eventHandler( event );
				break;
			case keyCode.HOME:
				toFocus = this.headers[ 0 ];
				break;
			case keyCode.END:
				toFocus = this.headers[ length - 1 ];
				break;
		}

		if ( toFocus ) {
			$( event.target ).attr( "tabIndex", -1 );
			$( toFocus ).attr( "tabIndex", 0 );
			toFocus.focus();
			event.preventDefault();
		}
	},

	_panelKeyDown: function( event ) {
		if ( event.keyCode === $.ui.keyCode.UP && event.ctrlKey ) {
			$( event.currentTarget ).prev().focus();
		}
	},

	refresh: function() {
		var options = this.options;
		this._processPanels();

		// was collapsed or no panel
		if ( ( options.active === false && options.collapsible === true ) || !this.headers.length ) {
			options.active = false;
			this.active = $();
		// active false only when collapsible is true
		} else if ( options.active === false ) {
			this._activate( 0 );
		// was active, but active panel is gone
		} else if ( this.active.length && !$.contains( this.element[ 0 ], this.active[ 0 ] ) ) {
			// all remaining panel are disabled
			if ( this.headers.length === this.headers.find(".ui-state-disabled").length ) {
				options.active = false;
				this.active = $();
			// activate previous panel
			} else {
				this._activate( Math.max( 0, options.active - 1 ) );
			}
		// was active, active panel still exists
		} else {
			// make sure active index is correct
			options.active = this.headers.index( this.active );
		}

		this._destroyIcons();

		this._refresh();
	},

	_processPanels: function() {
		var prevHeaders = this.headers,
			prevPanels = this.panels;

		this.headers = this.element.find( this.options.header )
			.addClass( "ui-accordion-header ui-state-default ui-corner-all" );

		this.panels = this.headers.next()
			.addClass( "ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom" )
			.filter( ":not(.ui-accordion-content-active)" )
			.hide();

		// Avoid memory leaks (#10056)
		if ( prevPanels ) {
			this._off( prevHeaders.not( this.headers ) );
			this._off( prevPanels.not( this.panels ) );
		}
	},

	_refresh: function() {
		var maxHeight,
			options = this.options,
			heightStyle = options.heightStyle,
			parent = this.element.parent();

		this.active = this._findActive( options.active )
			.addClass( "ui-accordion-header-active ui-state-active ui-corner-top" )
			.removeClass( "ui-corner-all" );
		this.active.next()
			.addClass( "ui-accordion-content-active" )
			.show();

		this.headers
			.attr( "role", "tab" )
			.each(function() {
				var header = $( this ),
					headerId = header.uniqueId().attr( "id" ),
					panel = header.next(),
					panelId = panel.uniqueId().attr( "id" );
				header.attr( "aria-controls", panelId );
				panel.attr( "aria-labelledby", headerId );
			})
			.next()
				.attr( "role", "tabpanel" );

		this.headers
			.not( this.active )
			.attr({
				"aria-selected": "false",
				"aria-expanded": "false",
				tabIndex: -1
			})
			.next()
				.attr({
					"aria-hidden": "true"
				})
				.hide();

		// make sure at least one header is in the tab order
		if ( !this.active.length ) {
			this.headers.eq( 0 ).attr( "tabIndex", 0 );
		} else {
			this.active.attr({
				"aria-selected": "true",
				"aria-expanded": "true",
				tabIndex: 0
			})
			.next()
				.attr({
					"aria-hidden": "false"
				});
		}

		this._createIcons();

		this._setupEvents( options.event );

		if ( heightStyle === "fill" ) {
			maxHeight = parent.height();
			this.element.siblings( ":visible" ).each(function() {
				var elem = $( this ),
					position = elem.css( "position" );

				if ( position === "absolute" || position === "fixed" ) {
					return;
				}
				maxHeight -= elem.outerHeight( true );
			});

			this.headers.each(function() {
				maxHeight -= $( this ).outerHeight( true );
			});

			this.headers.next()
				.each(function() {
					$( this ).height( Math.max( 0, maxHeight -
						$( this ).innerHeight() + $( this ).height() ) );
				})
				.css( "overflow", "auto" );
		} else if ( heightStyle === "auto" ) {
			maxHeight = 0;
			this.headers.next()
				.each(function() {
					maxHeight = Math.max( maxHeight, $( this ).css( "height", "" ).height() );
				})
				.height( maxHeight );
		}
	},

	_activate: function( index ) {
		var active = this._findActive( index )[ 0 ];

		// trying to activate the already active panel
		if ( active === this.active[ 0 ] ) {
			return;
		}

		// trying to collapse, simulate a click on the currently active header
		active = active || this.active[ 0 ];

		this._eventHandler({
			target: active,
			currentTarget: active,
			preventDefault: $.noop
		});
	},

	_findActive: function( selector ) {
		return typeof selector === "number" ? this.headers.eq( selector ) : $();
	},

	_setupEvents: function( event ) {
		var events = {
			keydown: "_keydown"
		};
		if ( event ) {
			$.each( event.split( " " ), function( index, eventName ) {
				events[ eventName ] = "_eventHandler";
			});
		}

		this._off( this.headers.add( this.headers.next() ) );
		this._on( this.headers, events );
		this._on( this.headers.next(), { keydown: "_panelKeyDown" });
		this._hoverable( this.headers );
		this._focusable( this.headers );
	},

	_eventHandler: function( event ) {
		var options = this.options,
			active = this.active,
			clicked = $( event.currentTarget ),
			clickedIsActive = clicked[ 0 ] === active[ 0 ],
			collapsing = clickedIsActive && options.collapsible,
			toShow = collapsing ? $() : clicked.next(),
			toHide = active.next(),
			eventData = {
				oldHeader: active,
				oldPanel: toHide,
				newHeader: collapsing ? $() : clicked,
				newPanel: toShow
			};

		event.preventDefault();

		if (
				// click on active header, but not collapsible
				( clickedIsActive && !options.collapsible ) ||
				// allow canceling activation
				( this._trigger( "beforeActivate", event, eventData ) === false ) ) {
			return;
		}

		options.active = collapsing ? false : this.headers.index( clicked );

		// when the call to ._toggle() comes after the class changes
		// it causes a very odd bug in IE 8 (see #6720)
		this.active = clickedIsActive ? $() : clicked;
		this._toggle( eventData );

		// switch classes
		// corner classes on the previously active header stay after the animation
		active.removeClass( "ui-accordion-header-active ui-state-active" );
		if ( options.icons ) {
			active.children( ".ui-accordion-header-icon" )
				.removeClass( options.icons.activeHeader )
				.addClass( options.icons.header );
		}

		if ( !clickedIsActive ) {
			clicked
				.removeClass( "ui-corner-all" )
				.addClass( "ui-accordion-header-active ui-state-active ui-corner-top" );
			if ( options.icons ) {
				clicked.children( ".ui-accordion-header-icon" )
					.removeClass( options.icons.header )
					.addClass( options.icons.activeHeader );
			}

			clicked
				.next()
				.addClass( "ui-accordion-content-active" );
		}
	},

	_toggle: function( data ) {
		var toShow = data.newPanel,
			toHide = this.prevShow.length ? this.prevShow : data.oldPanel;

		// handle activating a panel during the animation for another activation
		this.prevShow.add( this.prevHide ).stop( true, true );
		this.prevShow = toShow;
		this.prevHide = toHide;

		if ( this.options.animate ) {
			this._animate( toShow, toHide, data );
		} else {
			toHide.hide();
			toShow.show();
			this._toggleComplete( data );
		}

		toHide.attr({
			"aria-hidden": "true"
		});
		toHide.prev().attr({
			"aria-selected": "false",
			"aria-expanded": "false"
		});
		// if we're switching panels, remove the old header from the tab order
		// if we're opening from collapsed state, remove the previous header from the tab order
		// if we're collapsing, then keep the collapsing header in the tab order
		if ( toShow.length && toHide.length ) {
			toHide.prev().attr({
				"tabIndex": -1,
				"aria-expanded": "false"
			});
		} else if ( toShow.length ) {
			this.headers.filter(function() {
				return parseInt( $( this ).attr( "tabIndex" ), 10 ) === 0;
			})
			.attr( "tabIndex", -1 );
		}

		toShow
			.attr( "aria-hidden", "false" )
			.prev()
				.attr({
					"aria-selected": "true",
					"aria-expanded": "true",
					tabIndex: 0
				});
	},

	_animate: function( toShow, toHide, data ) {
		var total, easing, duration,
			that = this,
			adjust = 0,
			boxSizing = toShow.css( "box-sizing" ),
			down = toShow.length &&
				( !toHide.length || ( toShow.index() < toHide.index() ) ),
			animate = this.options.animate || {},
			options = down && animate.down || animate,
			complete = function() {
				that._toggleComplete( data );
			};

		if ( typeof options === "number" ) {
			duration = options;
		}
		if ( typeof options === "string" ) {
			easing = options;
		}
		// fall back from options to animation in case of partial down settings
		easing = easing || options.easing || animate.easing;
		duration = duration || options.duration || animate.duration;

		if ( !toHide.length ) {
			return toShow.animate( this.showProps, duration, easing, complete );
		}
		if ( !toShow.length ) {
			return toHide.animate( this.hideProps, duration, easing, complete );
		}

		total = toShow.show().outerHeight();
		toHide.animate( this.hideProps, {
			duration: duration,
			easing: easing,
			step: function( now, fx ) {
				fx.now = Math.round( now );
			}
		});
		toShow
			.hide()
			.animate( this.showProps, {
				duration: duration,
				easing: easing,
				complete: complete,
				step: function( now, fx ) {
					fx.now = Math.round( now );
					if ( fx.prop !== "height" ) {
						if ( boxSizing === "content-box" ) {
							adjust += fx.now;
						}
					} else if ( that.options.heightStyle !== "content" ) {
						fx.now = Math.round( total - toHide.outerHeight() - adjust );
						adjust = 0;
					}
				}
			});
	},

	_toggleComplete: function( data ) {
		var toHide = data.oldPanel;

		toHide
			.removeClass( "ui-accordion-content-active" )
			.prev()
				.removeClass( "ui-corner-top" )
				.addClass( "ui-corner-all" );

		// Work around for rendering bug in IE (#5421)
		if ( toHide.length ) {
			toHide.parent()[ 0 ].className = toHide.parent()[ 0 ].className;
		}
		this._trigger( "activate", null, data );
	}
});


/*!
 * jQuery UI Menu 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 */


var menu = $.widget( "ui.menu", {
	version: "1.11.4",
	defaultElement: "<ul>",
	delay: 300,
	options: {
		icons: {
			submenu: "ui-icon-carat-1-e"
		},
		items: "> *",
		menus: "ul",
		position: {
			my: "left-1 top",
			at: "right top"
		},
		role: "menu",

		// callbacks
		blur: null,
		focus: null,
		select: null
	},

	_create: function() {
		this.activeMenu = this.element;

		// Flag used to prevent firing of the click handler
		// as the event bubbles up through nested menus
		this.mouseHandled = false;
		this.element
			.uniqueId()
			.addClass( "ui-menu ui-widget ui-widget-content" )
			.toggleClass( "ui-menu-icons", !!this.element.find( ".ui-icon" ).length )
			.attr({
				role: this.options.role,
				tabIndex: 0
			});

		if ( this.options.disabled ) {
			this.element
				.addClass( "ui-state-disabled" )
				.attr( "aria-disabled", "true" );
		}

		this._on({
			// Prevent focus from sticking to links inside menu after clicking
			// them (focus should always stay on UL during navigation).
			"mousedown .ui-menu-item": function( event ) {
				event.preventDefault();
			},
			"click .ui-menu-item": function( event ) {
				var target = $( event.target );
				if ( !this.mouseHandled && target.not( ".ui-state-disabled" ).length ) {
					this.select( event );

					// Only set the mouseHandled flag if the event will bubble, see #9469.
					if ( !event.isPropagationStopped() ) {
						this.mouseHandled = true;
					}

					// Open submenu on click
					if ( target.has( ".ui-menu" ).length ) {
						this.expand( event );
					} else if ( !this.element.is( ":focus" ) && $( this.document[ 0 ].activeElement ).closest( ".ui-menu" ).length ) {

						// Redirect focus to the menu
						this.element.trigger( "focus", [ true ] );

						// If the active item is on the top level, let it stay active.
						// Otherwise, blur the active item since it is no longer visible.
						if ( this.active && this.active.parents( ".ui-menu" ).length === 1 ) {
							clearTimeout( this.timer );
						}
					}
				}
			},
			"mouseenter .ui-menu-item": function( event ) {
				// Ignore mouse events while typeahead is active, see #10458.
				// Prevents focusing the wrong item when typeahead causes a scroll while the mouse
				// is over an item in the menu
				if ( this.previousFilter ) {
					return;
				}
				var target = $( event.currentTarget );
				// Remove ui-state-active class from siblings of the newly focused menu item
				// to avoid a jump caused by adjacent elements both having a class with a border
				target.siblings( ".ui-state-active" ).removeClass( "ui-state-active" );
				this.focus( event, target );
			},
			mouseleave: "collapseAll",
			"mouseleave .ui-menu": "collapseAll",
			focus: function( event, keepActiveItem ) {
				// If there's already an active item, keep it active
				// If not, activate the first item
				var item = this.active || this.element.find( this.options.items ).eq( 0 );

				if ( !keepActiveItem ) {
					this.focus( event, item );
				}
			},
			blur: function( event ) {
				this._delay(function() {
					if ( !$.contains( this.element[0], this.document[0].activeElement ) ) {
						this.collapseAll( event );
					}
				});
			},
			keydown: "_keydown"
		});

		this.refresh();

		// Clicks outside of a menu collapse any open menus
		this._on( this.document, {
			click: function( event ) {
				if ( this._closeOnDocumentClick( event ) ) {
					this.collapseAll( event );
				}

				// Reset the mouseHandled flag
				this.mouseHandled = false;
			}
		});
	},

	_destroy: function() {
		// Destroy (sub)menus
		this.element
			.removeAttr( "aria-activedescendant" )
			.find( ".ui-menu" ).addBack()
				.removeClass( "ui-menu ui-widget ui-widget-content ui-menu-icons ui-front" )
				.removeAttr( "role" )
				.removeAttr( "tabIndex" )
				.removeAttr( "aria-labelledby" )
				.removeAttr( "aria-expanded" )
				.removeAttr( "aria-hidden" )
				.removeAttr( "aria-disabled" )
				.removeUniqueId()
				.show();

		// Destroy menu items
		this.element.find( ".ui-menu-item" )
			.removeClass( "ui-menu-item" )
			.removeAttr( "role" )
			.removeAttr( "aria-disabled" )
			.removeUniqueId()
			.removeClass( "ui-state-hover" )
			.removeAttr( "tabIndex" )
			.removeAttr( "role" )
			.removeAttr( "aria-haspopup" )
			.children().each( function() {
				var elem = $( this );
				if ( elem.data( "ui-menu-submenu-carat" ) ) {
					elem.remove();
				}
			});

		// Destroy menu dividers
		this.element.find( ".ui-menu-divider" ).removeClass( "ui-menu-divider ui-widget-content" );
	},

	_keydown: function( event ) {
		var match, prev, character, skip,
			preventDefault = true;

		switch ( event.keyCode ) {
		case $.ui.keyCode.PAGE_UP:
			this.previousPage( event );
			break;
		case $.ui.keyCode.PAGE_DOWN:
			this.nextPage( event );
			break;
		case $.ui.keyCode.HOME:
			this._move( "first", "first", event );
			break;
		case $.ui.keyCode.END:
			this._move( "last", "last", event );
			break;
		case $.ui.keyCode.UP:
			this.previous( event );
			break;
		case $.ui.keyCode.DOWN:
			this.next( event );
			break;
		case $.ui.keyCode.LEFT:
			this.collapse( event );
			break;
		case $.ui.keyCode.RIGHT:
			if ( this.active && !this.active.is( ".ui-state-disabled" ) ) {
				this.expand( event );
			}
			break;
		case $.ui.keyCode.ENTER:
		case $.ui.keyCode.SPACE:
			this._activate( event );
			break;
		case $.ui.keyCode.ESCAPE:
			this.collapse( event );
			break;
		default:
			preventDefault = false;
			prev = this.previousFilter || "";
			character = String.fromCharCode( event.keyCode );
			skip = false;

			clearTimeout( this.filterTimer );

			if ( character === prev ) {
				skip = true;
			} else {
				character = prev + character;
			}

			match = this._filterMenuItems( character );
			match = skip && match.index( this.active.next() ) !== -1 ?
				this.active.nextAll( ".ui-menu-item" ) :
				match;

			// If no matches on the current filter, reset to the last character pressed
			// to move down the menu to the first item that starts with that character
			if ( !match.length ) {
				character = String.fromCharCode( event.keyCode );
				match = this._filterMenuItems( character );
			}

			if ( match.length ) {
				this.focus( event, match );
				this.previousFilter = character;
				this.filterTimer = this._delay(function() {
					delete this.previousFilter;
				}, 1000 );
			} else {
				delete this.previousFilter;
			}
		}

		if ( preventDefault ) {
			event.preventDefault();
		}
	},

	_activate: function( event ) {
		if ( !this.active.is( ".ui-state-disabled" ) ) {
			if ( this.active.is( "[aria-haspopup='true']" ) ) {
				this.expand( event );
			} else {
				this.select( event );
			}
		}
	},

	refresh: function() {
		var menus, items,
			that = this,
			icon = this.options.icons.submenu,
			submenus = this.element.find( this.options.menus );

		this.element.toggleClass( "ui-menu-icons", !!this.element.find( ".ui-icon" ).length );

		// Initialize nested menus
		submenus.filter( ":not(.ui-menu)" )
			.addClass( "ui-menu ui-widget ui-widget-content ui-front" )
			.hide()
			.attr({
				role: this.options.role,
				"aria-hidden": "true",
				"aria-expanded": "false"
			})
			.each(function() {
				var menu = $( this ),
					item = menu.parent(),
					submenuCarat = $( "<span>" )
						.addClass( "ui-menu-icon ui-icon " + icon )
						.data( "ui-menu-submenu-carat", true );

				item
					.attr( "aria-haspopup", "true" )
					.prepend( submenuCarat );
				menu.attr( "aria-labelledby", item.attr( "id" ) );
			});

		menus = submenus.add( this.element );
		items = menus.find( this.options.items );

		// Initialize menu-items containing spaces and/or dashes only as dividers
		items.not( ".ui-menu-item" ).each(function() {
			var item = $( this );
			if ( that._isDivider( item ) ) {
				item.addClass( "ui-widget-content ui-menu-divider" );
			}
		});

		// Don't refresh list items that are already adapted
		items.not( ".ui-menu-item, .ui-menu-divider" )
			.addClass( "ui-menu-item" )
			.uniqueId()
			.attr({
				tabIndex: -1,
				role: this._itemRole()
			});

		// Add aria-disabled attribute to any disabled menu item
		items.filter( ".ui-state-disabled" ).attr( "aria-disabled", "true" );

		// If the active item has been removed, blur the menu
		if ( this.active && !$.contains( this.element[ 0 ], this.active[ 0 ] ) ) {
			this.blur();
		}
	},

	_itemRole: function() {
		return {
			menu: "menuitem",
			listbox: "option"
		}[ this.options.role ];
	},

	_setOption: function( key, value ) {
		if ( key === "icons" ) {
			this.element.find( ".ui-menu-icon" )
				.removeClass( this.options.icons.submenu )
				.addClass( value.submenu );
		}
		if ( key === "disabled" ) {
			this.element
				.toggleClass( "ui-state-disabled", !!value )
				.attr( "aria-disabled", value );
		}
		this._super( key, value );
	},

	focus: function( event, item ) {
		var nested, focused;
		this.blur( event, event && event.type === "focus" );

		this._scrollIntoView( item );

		this.active = item.first();
		focused = this.active.addClass( "ui-state-focus" ).removeClass( "ui-state-active" );
		// Only update aria-activedescendant if there's a role
		// otherwise we assume focus is managed elsewhere
		if ( this.options.role ) {
			this.element.attr( "aria-activedescendant", focused.attr( "id" ) );
		}

		// Highlight active parent menu item, if any
		this.active
			.parent()
			.closest( ".ui-menu-item" )
			.addClass( "ui-state-active" );

		if ( event && event.type === "keydown" ) {
			this._close();
		} else {
			this.timer = this._delay(function() {
				this._close();
			}, this.delay );
		}

		nested = item.children( ".ui-menu" );
		if ( nested.length && event && ( /^mouse/.test( event.type ) ) ) {
			this._startOpening(nested);
		}
		this.activeMenu = item.parent();

		this._trigger( "focus", event, { item: item } );
	},

	_scrollIntoView: function( item ) {
		var borderTop, paddingTop, offset, scroll, elementHeight, itemHeight;
		if ( this._hasScroll() ) {
			borderTop = parseFloat( $.css( this.activeMenu[0], "borderTopWidth" ) ) || 0;
			paddingTop = parseFloat( $.css( this.activeMenu[0], "paddingTop" ) ) || 0;
			offset = item.offset().top - this.activeMenu.offset().top - borderTop - paddingTop;
			scroll = this.activeMenu.scrollTop();
			elementHeight = this.activeMenu.height();
			itemHeight = item.outerHeight();

			if ( offset < 0 ) {
				this.activeMenu.scrollTop( scroll + offset );
			} else if ( offset + itemHeight > elementHeight ) {
				this.activeMenu.scrollTop( scroll + offset - elementHeight + itemHeight );
			}
		}
	},

	blur: function( event, fromFocus ) {
		if ( !fromFocus ) {
			clearTimeout( this.timer );
		}

		if ( !this.active ) {
			return;
		}

		this.active.removeClass( "ui-state-focus" );
		this.active = null;

		this._trigger( "blur", event, { item: this.active } );
	},

	_startOpening: function( submenu ) {
		clearTimeout( this.timer );

		// Don't open if already open fixes a Firefox bug that caused a .5 pixel
		// shift in the submenu position when mousing over the carat icon
		if ( submenu.attr( "aria-hidden" ) !== "true" ) {
			return;
		}

		this.timer = this._delay(function() {
			this._close();
			this._open( submenu );
		}, this.delay );
	},

	_open: function( submenu ) {
		var position = $.extend({
			of: this.active
		}, this.options.position );

		clearTimeout( this.timer );
		this.element.find( ".ui-menu" ).not( submenu.parents( ".ui-menu" ) )
			.hide()
			.attr( "aria-hidden", "true" );

		submenu
			.show()
			.removeAttr( "aria-hidden" )
			.attr( "aria-expanded", "true" )
			.position( position );
	},

	collapseAll: function( event, all ) {
		clearTimeout( this.timer );
		this.timer = this._delay(function() {
			// If we were passed an event, look for the submenu that contains the event
			var currentMenu = all ? this.element :
				$( event && event.target ).closest( this.element.find( ".ui-menu" ) );

			// If we found no valid submenu ancestor, use the main menu to close all sub menus anyway
			if ( !currentMenu.length ) {
				currentMenu = this.element;
			}

			this._close( currentMenu );

			this.blur( event );
			this.activeMenu = currentMenu;
		}, this.delay );
	},

	// With no arguments, closes the currently active menu - if nothing is active
	// it closes all menus.  If passed an argument, it will search for menus BELOW
	_close: function( startMenu ) {
		if ( !startMenu ) {
			startMenu = this.active ? this.active.parent() : this.element;
		}

		startMenu
			.find( ".ui-menu" )
				.hide()
				.attr( "aria-hidden", "true" )
				.attr( "aria-expanded", "false" )
			.end()
			.find( ".ui-state-active" ).not( ".ui-state-focus" )
				.removeClass( "ui-state-active" );
	},

	_closeOnDocumentClick: function( event ) {
		return !$( event.target ).closest( ".ui-menu" ).length;
	},

	_isDivider: function( item ) {

		// Match hyphen, em dash, en dash
		return !/[^\-\u2014\u2013\s]/.test( item.text() );
	},

	collapse: function( event ) {
		var newItem = this.active &&
			this.active.parent().closest( ".ui-menu-item", this.element );
		if ( newItem && newItem.length ) {
			this._close();
			this.focus( event, newItem );
		}
	},

	expand: function( event ) {
		var newItem = this.active &&
			this.active
				.children( ".ui-menu " )
				.find( this.options.items )
				.first();

		if ( newItem && newItem.length ) {
			this._open( newItem.parent() );

			// Delay so Firefox will not hide activedescendant change in expanding submenu from AT
			this._delay(function() {
				this.focus( event, newItem );
			});
		}
	},

	next: function( event ) {
		this._move( "next", "first", event );
	},

	previous: function( event ) {
		this._move( "prev", "last", event );
	},

	isFirstItem: function() {
		return this.active && !this.active.prevAll( ".ui-menu-item" ).length;
	},

	isLastItem: function() {
		return this.active && !this.active.nextAll( ".ui-menu-item" ).length;
	},

	_move: function( direction, filter, event ) {
		var next;
		if ( this.active ) {
			if ( direction === "first" || direction === "last" ) {
				next = this.active
					[ direction === "first" ? "prevAll" : "nextAll" ]( ".ui-menu-item" )
					.eq( -1 );
			} else {
				next = this.active
					[ direction + "All" ]( ".ui-menu-item" )
					.eq( 0 );
			}
		}
		if ( !next || !next.length || !this.active ) {
			next = this.activeMenu.find( this.options.items )[ filter ]();
		}

		this.focus( event, next );
	},

	nextPage: function( event ) {
		var item, base, height;

		if ( !this.active ) {
			this.next( event );
			return;
		}
		if ( this.isLastItem() ) {
			return;
		}
		if ( this._hasScroll() ) {
			base = this.active.offset().top;
			height = this.element.height();
			this.active.nextAll( ".ui-menu-item" ).each(function() {
				item = $( this );
				return item.offset().top - base - height < 0;
			});

			this.focus( event, item );
		} else {
			this.focus( event, this.activeMenu.find( this.options.items )
				[ !this.active ? "first" : "last" ]() );
		}
	},

	previousPage: function( event ) {
		var item, base, height;
		if ( !this.active ) {
			this.next( event );
			return;
		}
		if ( this.isFirstItem() ) {
			return;
		}
		if ( this._hasScroll() ) {
			base = this.active.offset().top;
			height = this.element.height();
			this.active.prevAll( ".ui-menu-item" ).each(function() {
				item = $( this );
				return item.offset().top - base + height > 0;
			});

			this.focus( event, item );
		} else {
			this.focus( event, this.activeMenu.find( this.options.items ).first() );
		}
	},

	_hasScroll: function() {
		return this.element.outerHeight() < this.element.prop( "scrollHeight" );
	},

	select: function( event ) {
		// TODO: It should never be possible to not have an active item at this
		// point, but the tests don't trigger mouseenter before click.
		this.active = this.active || $( event.target ).closest( ".ui-menu-item" );
		var ui = { item: this.active };
		if ( !this.active.has( ".ui-menu" ).length ) {
			this.collapseAll( event, true );
		}
		this._trigger( "select", event, ui );
	},

	_filterMenuItems: function(character) {
		var escapedCharacter = character.replace( /[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&" ),
			regex = new RegExp( "^" + escapedCharacter, "i" );

		return this.activeMenu
			.find( this.options.items )

			// Only match on items, not dividers or other content (#10571)
			.filter( ".ui-menu-item" )
			.filter(function() {
				return regex.test( $.trim( $( this ).text() ) );
			});
	}
});


/*!
 * jQuery UI Autocomplete 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */


$.widget( "ui.autocomplete", {
	version: "1.11.4",
	defaultElement: "<input>",
	options: {
		appendTo: null,
		autoFocus: false,
		delay: 300,
		minLength: 1,
		position: {
			my: "left top",
			at: "left bottom",
			collision: "none"
		},
		source: null,

		// callbacks
		change: null,
		close: null,
		focus: null,
		open: null,
		response: null,
		search: null,
		select: null
	},

	requestIndex: 0,
	pending: 0,

	_create: function() {
		// Some browsers only repeat keydown events, not keypress events,
		// so we use the suppressKeyPress flag to determine if we've already
		// handled the keydown event. #7269
		// Unfortunately the code for & in keypress is the same as the up arrow,
		// so we use the suppressKeyPressRepeat flag to avoid handling keypress
		// events when we know the keydown event was used to modify the
		// search term. #7799
		var suppressKeyPress, suppressKeyPressRepeat, suppressInput,
			nodeName = this.element[ 0 ].nodeName.toLowerCase(),
			isTextarea = nodeName === "textarea",
			isInput = nodeName === "input";

		this.isMultiLine =
			// Textareas are always multi-line
			isTextarea ? true :
			// Inputs are always single-line, even if inside a contentEditable element
			// IE also treats inputs as contentEditable
			isInput ? false :
			// All other element types are determined by whether or not they're contentEditable
			this.element.prop( "isContentEditable" );

		this.valueMethod = this.element[ isTextarea || isInput ? "val" : "text" ];
		this.isNewMenu = true;

		this.element
			.addClass( "ui-autocomplete-input" )
			.attr( "autocomplete", "off" );

		this._on( this.element, {
			keydown: function( event ) {
				if ( this.element.prop( "readOnly" ) ) {
					suppressKeyPress = true;
					suppressInput = true;
					suppressKeyPressRepeat = true;
					return;
				}

				suppressKeyPress = false;
				suppressInput = false;
				suppressKeyPressRepeat = false;
				var keyCode = $.ui.keyCode;
				switch ( event.keyCode ) {
				case keyCode.PAGE_UP:
					suppressKeyPress = true;
					this._move( "previousPage", event );
					break;
				case keyCode.PAGE_DOWN:
					suppressKeyPress = true;
					this._move( "nextPage", event );
					break;
				case keyCode.UP:
					suppressKeyPress = true;
					this._keyEvent( "previous", event );
					break;
				case keyCode.DOWN:
					suppressKeyPress = true;
					this._keyEvent( "next", event );
					break;
				case keyCode.ENTER:
					// when menu is open and has focus
					if ( this.menu.active ) {
						// #6055 - Opera still allows the keypress to occur
						// which causes forms to submit
						suppressKeyPress = true;
						event.preventDefault();
						this.menu.select( event );
					}
					break;
				case keyCode.TAB:
					if ( this.menu.active ) {
						this.menu.select( event );
					}
					break;
				case keyCode.ESCAPE:
					if ( this.menu.element.is( ":visible" ) ) {
						if ( !this.isMultiLine ) {
							this._value( this.term );
						}
						this.close( event );
						// Different browsers have different default behavior for escape
						// Single press can mean undo or clear
						// Double press in IE means clear the whole form
						event.preventDefault();
					}
					break;
				default:
					suppressKeyPressRepeat = true;
					// search timeout should be triggered before the input value is changed
					this._searchTimeout( event );
					break;
				}
			},
			keypress: function( event ) {
				if ( suppressKeyPress ) {
					suppressKeyPress = false;
					if ( !this.isMultiLine || this.menu.element.is( ":visible" ) ) {
						event.preventDefault();
					}
					return;
				}
				if ( suppressKeyPressRepeat ) {
					return;
				}

				// replicate some key handlers to allow them to repeat in Firefox and Opera
				var keyCode = $.ui.keyCode;
				switch ( event.keyCode ) {
				case keyCode.PAGE_UP:
					this._move( "previousPage", event );
					break;
				case keyCode.PAGE_DOWN:
					this._move( "nextPage", event );
					break;
				case keyCode.UP:
					this._keyEvent( "previous", event );
					break;
				case keyCode.DOWN:
					this._keyEvent( "next", event );
					break;
				}
			},
			input: function( event ) {
				if ( suppressInput ) {
					suppressInput = false;
					event.preventDefault();
					return;
				}
				this._searchTimeout( event );
			},
			focus: function() {
				this.selectedItem = null;
				this.previous = this._value();
			},
			blur: function( event ) {
				if ( this.cancelBlur ) {
					delete this.cancelBlur;
					return;
				}

				clearTimeout( this.searching );
				this.close( event );
				this._change( event );
			}
		});

		this._initSource();
		this.menu = $( "<ul>" )
			.addClass( "ui-autocomplete ui-front" )
			.appendTo( this._appendTo() )
			.menu({
				// disable ARIA support, the live region takes care of that
				role: null
			})
			.hide()
			.menu( "instance" );

		this._on( this.menu.element, {
			mousedown: function( event ) {
				// prevent moving focus out of the text field
				event.preventDefault();

				// IE doesn't prevent moving focus even with event.preventDefault()
				// so we set a flag to know when we should ignore the blur event
				this.cancelBlur = true;
				this._delay(function() {
					delete this.cancelBlur;
				});

				// clicking on the scrollbar causes focus to shift to the body
				// but we can't detect a mouseup or a click immediately afterward
				// so we have to track the next mousedown and close the menu if
				// the user clicks somewhere outside of the autocomplete
				var menuElement = this.menu.element[ 0 ];
				if ( !$( event.target ).closest( ".ui-menu-item" ).length ) {
					this._delay(function() {
						var that = this;
						this.document.one( "mousedown", function( event ) {
							if ( event.target !== that.element[ 0 ] &&
									event.target !== menuElement &&
									!$.contains( menuElement, event.target ) ) {
								that.close();
							}
						});
					});
				}
			},
			menufocus: function( event, ui ) {
				var label, item;
				// support: Firefox
				// Prevent accidental activation of menu items in Firefox (#7024 #9118)
				if ( this.isNewMenu ) {
					this.isNewMenu = false;
					if ( event.originalEvent && /^mouse/.test( event.originalEvent.type ) ) {
						this.menu.blur();

						this.document.one( "mousemove", function() {
							$( event.target ).trigger( event.originalEvent );
						});

						return;
					}
				}

				item = ui.item.data( "ui-autocomplete-item" );
				if ( false !== this._trigger( "focus", event, { item: item } ) ) {
					// use value to match what will end up in the input, if it was a key event
					if ( event.originalEvent && /^key/.test( event.originalEvent.type ) ) {
						this._value( item.value );
					}
				}

				// Announce the value in the liveRegion
				label = ui.item.attr( "aria-label" ) || item.value;
				if ( label && $.trim( label ).length ) {
					this.liveRegion.children().hide();
					$( "<div>" ).text( label ).appendTo( this.liveRegion );
				}
			},
			menuselect: function( event, ui ) {
				var item = ui.item.data( "ui-autocomplete-item" ),
					previous = this.previous;

				// only trigger when focus was lost (click on menu)
				if ( this.element[ 0 ] !== this.document[ 0 ].activeElement ) {
					this.element.focus();
					this.previous = previous;
					// #6109 - IE triggers two focus events and the second
					// is asynchronous, so we need to reset the previous
					// term synchronously and asynchronously :-(
					this._delay(function() {
						this.previous = previous;
						this.selectedItem = item;
					});
				}

				if ( false !== this._trigger( "select", event, { item: item } ) ) {
					this._value( item.value );
				}
				// reset the term after the select event
				// this allows custom select handling to work properly
				this.term = this._value();

				this.close( event );
				this.selectedItem = item;
			}
		});

		this.liveRegion = $( "<span>", {
				role: "status",
				"aria-live": "assertive",
				"aria-relevant": "additions"
			})
			.addClass( "ui-helper-hidden-accessible" )
			.appendTo( this.document[ 0 ].body );

		// turning off autocomplete prevents the browser from remembering the
		// value when navigating through history, so we re-enable autocomplete
		// if the page is unloaded before the widget is destroyed. #7790
		this._on( this.window, {
			beforeunload: function() {
				this.element.removeAttr( "autocomplete" );
			}
		});
	},

	_destroy: function() {
		clearTimeout( this.searching );
		this.element
			.removeClass( "ui-autocomplete-input" )
			.removeAttr( "autocomplete" );
		this.menu.element.remove();
		this.liveRegion.remove();
	},

	_setOption: function( key, value ) {
		this._super( key, value );
		if ( key === "source" ) {
			this._initSource();
		}
		if ( key === "appendTo" ) {
			this.menu.element.appendTo( this._appendTo() );
		}
		if ( key === "disabled" && value && this.xhr ) {
			this.xhr.abort();
		}
	},

	_appendTo: function() {
		var element = this.options.appendTo;

		if ( element ) {
			element = element.jquery || element.nodeType ?
				$( element ) :
				this.document.find( element ).eq( 0 );
		}

		if ( !element || !element[ 0 ] ) {
			element = this.element.closest( ".ui-front" );
		}

		if ( !element.length ) {
			element = this.document[ 0 ].body;
		}

		return element;
	},

	_initSource: function() {
		var array, url,
			that = this;
		if ( $.isArray( this.options.source ) ) {
			array = this.options.source;
			this.source = function( request, response ) {
				response( $.ui.autocomplete.filter( array, request.term ) );
			};
		} else if ( typeof this.options.source === "string" ) {
			url = this.options.source;
			this.source = function( request, response ) {
				if ( that.xhr ) {
					that.xhr.abort();
				}
				that.xhr = $.ajax({
					url: url,
					data: request,
					dataType: "json",
					success: function( data ) {
						response( data );
					},
					error: function() {
						response([]);
					}
				});
			};
		} else {
			this.source = this.options.source;
		}
	},

	_searchTimeout: function( event ) {
		clearTimeout( this.searching );
		this.searching = this._delay(function() {

			// Search if the value has changed, or if the user retypes the same value (see #7434)
			var equalValues = this.term === this._value(),
				menuVisible = this.menu.element.is( ":visible" ),
				modifierKey = event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;

			if ( !equalValues || ( equalValues && !menuVisible && !modifierKey ) ) {
				this.selectedItem = null;
				this.search( null, event );
			}
		}, this.options.delay );
	},

	search: function( value, event ) {
		value = value != null ? value : this._value();

		// always save the actual value, not the one passed as an argument
		this.term = this._value();

		if ( value.length < this.options.minLength ) {
			return this.close( event );
		}

		if ( this._trigger( "search", event ) === false ) {
			return;
		}

		return this._search( value );
	},

	_search: function( value ) {
		this.pending++;
		this.element.addClass( "ui-autocomplete-loading" );
		this.cancelSearch = false;

		this.source( { term: value }, this._response() );
	},

	_response: function() {
		var index = ++this.requestIndex;

		return $.proxy(function( content ) {
			if ( index === this.requestIndex ) {
				this.__response( content );
			}

			this.pending--;
			if ( !this.pending ) {
				this.element.removeClass( "ui-autocomplete-loading" );
			}
		}, this );
	},

	__response: function( content ) {
		if ( content ) {
			content = this._normalize( content );
		}
		this._trigger( "response", null, { content: content } );
		if ( !this.options.disabled && content && content.length && !this.cancelSearch ) {
			this._suggest( content );
			this._trigger( "open" );
		} else {
			// use ._close() instead of .close() so we don't cancel future searches
			this._close();
		}
	},

	close: function( event ) {
		this.cancelSearch = true;
		this._close( event );
	},

	_close: function( event ) {
		if ( this.menu.element.is( ":visible" ) ) {
			this.menu.element.hide();
			this.menu.blur();
			this.isNewMenu = true;
			this._trigger( "close", event );
		}
	},

	_change: function( event ) {
		if ( this.previous !== this._value() ) {
			this._trigger( "change", event, { item: this.selectedItem } );
		}
	},

	_normalize: function( items ) {
		// assume all items have the right format when the first item is complete
		if ( items.length && items[ 0 ].label && items[ 0 ].value ) {
			return items;
		}
		return $.map( items, function( item ) {
			if ( typeof item === "string" ) {
				return {
					label: item,
					value: item
				};
			}
			return $.extend( {}, item, {
				label: item.label || item.value,
				value: item.value || item.label
			});
		});
	},

	_suggest: function( items ) {
		var ul = this.menu.element.empty();
		this._renderMenu( ul, items );
		this.isNewMenu = true;
		this.menu.refresh();

		// size and position menu
		ul.show();
		this._resizeMenu();
		ul.position( $.extend({
			of: this.element
		}, this.options.position ) );

		if ( this.options.autoFocus ) {
			this.menu.next();
		}
	},

	_resizeMenu: function() {
		var ul = this.menu.element;
		ul.outerWidth( Math.max(
			// Firefox wraps long text (possibly a rounding bug)
			// so we add 1px to avoid the wrapping (#7513)
			ul.width( "" ).outerWidth() + 1,
			this.element.outerWidth()
		) );
	},

	_renderMenu: function( ul, items ) {
		var that = this;
		$.each( items, function( index, item ) {
			that._renderItemData( ul, item );
		});
	},

	_renderItemData: function( ul, item ) {
		return this._renderItem( ul, item ).data( "ui-autocomplete-item", item );
	},

	_renderItem: function( ul, item ) {
		return $( "<li>" ).text( item.label ).appendTo( ul );
	},

	_move: function( direction, event ) {
		if ( !this.menu.element.is( ":visible" ) ) {
			this.search( null, event );
			return;
		}
		if ( this.menu.isFirstItem() && /^previous/.test( direction ) ||
				this.menu.isLastItem() && /^next/.test( direction ) ) {

			if ( !this.isMultiLine ) {
				this._value( this.term );
			}

			this.menu.blur();
			return;
		}
		this.menu[ direction ]( event );
	},

	widget: function() {
		return this.menu.element;
	},

	_value: function() {
		return this.valueMethod.apply( this.element, arguments );
	},

	_keyEvent: function( keyEvent, event ) {
		if ( !this.isMultiLine || this.menu.element.is( ":visible" ) ) {
			this._move( keyEvent, event );

			// prevents moving cursor to beginning/end of the text field in some browsers
			event.preventDefault();
		}
	}
});

$.extend( $.ui.autocomplete, {
	escapeRegex: function( value ) {
		return value.replace( /[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&" );
	},
	filter: function( array, term ) {
		var matcher = new RegExp( $.ui.autocomplete.escapeRegex( term ), "i" );
		return $.grep( array, function( value ) {
			return matcher.test( value.label || value.value || value );
		});
	}
});

// live region extension, adding a `messages` option
// NOTE: This is an experimental API. We are still investigating
// a full solution for string manipulation and internationalization.
$.widget( "ui.autocomplete", $.ui.autocomplete, {
	options: {
		messages: {
			noResults: "No search results.",
			results: function( amount ) {
				return amount + ( amount > 1 ? " results are" : " result is" ) +
					" available, use up and down arrow keys to navigate.";
			}
		}
	},

	__response: function( content ) {
		var message;
		this._superApply( arguments );
		if ( this.options.disabled || this.cancelSearch ) {
			return;
		}
		if ( content && content.length ) {
			message = this.options.messages.results( content.length );
		} else {
			message = this.options.messages.noResults;
		}
		this.liveRegion.children().hide();
		$( "<div>" ).text( message ).appendTo( this.liveRegion );
	}
});

var autocomplete = $.ui.autocomplete;


/*!
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */


var lastActive,
	baseClasses = "ui-button ui-widget ui-state-default ui-corner-all",
	typeClasses = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
	formResetHandler = function() {
		var form = $( this );
		setTimeout(function() {
			form.find( ":ui-button" ).button( "refresh" );
		}, 1 );
	},
	radioGroup = function( radio ) {
		var name = radio.name,
			form = radio.form,
			radios = $( [] );
		if ( name ) {
			name = name.replace( /'/g, "\\'" );
			if ( form ) {
				radios = $( form ).find( "[name='" + name + "'][type=radio]" );
			} else {
				radios = $( "[name='" + name + "'][type=radio]", radio.ownerDocument )
					.filter(function() {
						return !this.form;
					});
			}
		}
		return radios;
	};

$.widget( "ui.button", {
	version: "1.11.4",
	defaultElement: "<button>",
	options: {
		disabled: null,
		text: true,
		label: null,
		icons: {
			primary: null,
			secondary: null
		}
	},
	_create: function() {
		this.element.closest( "form" )
			.unbind( "reset" + this.eventNamespace )
			.bind( "reset" + this.eventNamespace, formResetHandler );

		if ( typeof this.options.disabled !== "boolean" ) {
			this.options.disabled = !!this.element.prop( "disabled" );
		} else {
			this.element.prop( "disabled", this.options.disabled );
		}

		this._determineButtonType();
		this.hasTitle = !!this.buttonElement.attr( "title" );

		var that = this,
			options = this.options,
			toggleButton = this.type === "checkbox" || this.type === "radio",
			activeClass = !toggleButton ? "ui-state-active" : "";

		if ( options.label === null ) {
			options.label = (this.type === "input" ? this.buttonElement.val() : this.buttonElement.html());
		}

		this._hoverable( this.buttonElement );

		this.buttonElement
			.addClass( baseClasses )
			.attr( "role", "button" )
			.bind( "mouseenter" + this.eventNamespace, function() {
				if ( options.disabled ) {
					return;
				}
				if ( this === lastActive ) {
					$( this ).addClass( "ui-state-active" );
				}
			})
			.bind( "mouseleave" + this.eventNamespace, function() {
				if ( options.disabled ) {
					return;
				}
				$( this ).removeClass( activeClass );
			})
			.bind( "click" + this.eventNamespace, function( event ) {
				if ( options.disabled ) {
					event.preventDefault();
					event.stopImmediatePropagation();
				}
			});

		// Can't use _focusable() because the element that receives focus
		// and the element that gets the ui-state-focus class are different
		this._on({
			focus: function() {
				this.buttonElement.addClass( "ui-state-focus" );
			},
			blur: function() {
				this.buttonElement.removeClass( "ui-state-focus" );
			}
		});

		if ( toggleButton ) {
			this.element.bind( "change" + this.eventNamespace, function() {
				that.refresh();
			});
		}

		if ( this.type === "checkbox" ) {
			this.buttonElement.bind( "click" + this.eventNamespace, function() {
				if ( options.disabled ) {
					return false;
				}
			});
		} else if ( this.type === "radio" ) {
			this.buttonElement.bind( "click" + this.eventNamespace, function() {
				if ( options.disabled ) {
					return false;
				}
				$( this ).addClass( "ui-state-active" );
				that.buttonElement.attr( "aria-pressed", "true" );

				var radio = that.element[ 0 ];
				radioGroup( radio )
					.not( radio )
					.map(function() {
						return $( this ).button( "widget" )[ 0 ];
					})
					.removeClass( "ui-state-active" )
					.attr( "aria-pressed", "false" );
			});
		} else {
			this.buttonElement
				.bind( "mousedown" + this.eventNamespace, function() {
					if ( options.disabled ) {
						return false;
					}
					$( this ).addClass( "ui-state-active" );
					lastActive = this;
					that.document.one( "mouseup", function() {
						lastActive = null;
					});
				})
				.bind( "mouseup" + this.eventNamespace, function() {
					if ( options.disabled ) {
						return false;
					}
					$( this ).removeClass( "ui-state-active" );
				})
				.bind( "keydown" + this.eventNamespace, function(event) {
					if ( options.disabled ) {
						return false;
					}
					if ( event.keyCode === $.ui.keyCode.SPACE || event.keyCode === $.ui.keyCode.ENTER ) {
						$( this ).addClass( "ui-state-active" );
					}
				})
				// see #8559, we bind to blur here in case the button element loses
				// focus between keydown and keyup, it would be left in an "active" state
				.bind( "keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
					$( this ).removeClass( "ui-state-active" );
				});

			if ( this.buttonElement.is("a") ) {
				this.buttonElement.keyup(function(event) {
					if ( event.keyCode === $.ui.keyCode.SPACE ) {
						// TODO pass through original event correctly (just as 2nd argument doesn't work)
						$( this ).click();
					}
				});
			}
		}

		this._setOption( "disabled", options.disabled );
		this._resetButton();
	},

	_determineButtonType: function() {
		var ancestor, labelSelector, checked;

		if ( this.element.is("[type=checkbox]") ) {
			this.type = "checkbox";
		} else if ( this.element.is("[type=radio]") ) {
			this.type = "radio";
		} else if ( this.element.is("input") ) {
			this.type = "input";
		} else {
			this.type = "button";
		}

		if ( this.type === "checkbox" || this.type === "radio" ) {
			// we don't search against the document in case the element
			// is disconnected from the DOM
			ancestor = this.element.parents().last();
			labelSelector = "label[for='" + this.element.attr("id") + "']";
			this.buttonElement = ancestor.find( labelSelector );
			if ( !this.buttonElement.length ) {
				ancestor = ancestor.length ? ancestor.siblings() : this.element.siblings();
				this.buttonElement = ancestor.filter( labelSelector );
				if ( !this.buttonElement.length ) {
					this.buttonElement = ancestor.find( labelSelector );
				}
			}
			this.element.addClass( "ui-helper-hidden-accessible" );

			checked = this.element.is( ":checked" );
			if ( checked ) {
				this.buttonElement.addClass( "ui-state-active" );
			}
			this.buttonElement.prop( "aria-pressed", checked );
		} else {
			this.buttonElement = this.element;
		}
	},

	widget: function() {
		return this.buttonElement;
	},

	_destroy: function() {
		this.element
			.removeClass( "ui-helper-hidden-accessible" );
		this.buttonElement
			.removeClass( baseClasses + " ui-state-active " + typeClasses )
			.removeAttr( "role" )
			.removeAttr( "aria-pressed" )
			.html( this.buttonElement.find(".ui-button-text").html() );

		if ( !this.hasTitle ) {
			this.buttonElement.removeAttr( "title" );
		}
	},

	_setOption: function( key, value ) {
		this._super( key, value );
		if ( key === "disabled" ) {
			this.widget().toggleClass( "ui-state-disabled", !!value );
			this.element.prop( "disabled", !!value );
			if ( value ) {
				if ( this.type === "checkbox" || this.type === "radio" ) {
					this.buttonElement.removeClass( "ui-state-focus" );
				} else {
					this.buttonElement.removeClass( "ui-state-focus ui-state-active" );
				}
			}
			return;
		}
		this._resetButton();
	},

	refresh: function() {
		//See #8237 & #8828
		var isDisabled = this.element.is( "input, button" ) ? this.element.is( ":disabled" ) : this.element.hasClass( "ui-button-disabled" );

		if ( isDisabled !== this.options.disabled ) {
			this._setOption( "disabled", isDisabled );
		}
		if ( this.type === "radio" ) {
			radioGroup( this.element[0] ).each(function() {
				if ( $( this ).is( ":checked" ) ) {
					$( this ).button( "widget" )
						.addClass( "ui-state-active" )
						.attr( "aria-pressed", "true" );
				} else {
					$( this ).button( "widget" )
						.removeClass( "ui-state-active" )
						.attr( "aria-pressed", "false" );
				}
			});
		} else if ( this.type === "checkbox" ) {
			if ( this.element.is( ":checked" ) ) {
				this.buttonElement
					.addClass( "ui-state-active" )
					.attr( "aria-pressed", "true" );
			} else {
				this.buttonElement
					.removeClass( "ui-state-active" )
					.attr( "aria-pressed", "false" );
			}
		}
	},

	_resetButton: function() {
		if ( this.type === "input" ) {
			if ( this.options.label ) {
				this.element.val( this.options.label );
			}
			return;
		}
		var buttonElement = this.buttonElement.removeClass( typeClasses ),
			buttonText = $( "<span></span>", this.document[0] )
				.addClass( "ui-button-text" )
				.html( this.options.label )
				.appendTo( buttonElement.empty() )
				.text(),
			icons = this.options.icons,
			multipleIcons = icons.primary && icons.secondary,
			buttonClasses = [];

		if ( icons.primary || icons.secondary ) {
			if ( this.options.text ) {
				buttonClasses.push( "ui-button-text-icon" + ( multipleIcons ? "s" : ( icons.primary ? "-primary" : "-secondary" ) ) );
			}

			if ( icons.primary ) {
				buttonElement.prepend( "<span class='ui-button-icon-primary ui-icon " + icons.primary + "'></span>" );
			}

			if ( icons.secondary ) {
				buttonElement.append( "<span class='ui-button-icon-secondary ui-icon " + icons.secondary + "'></span>" );
			}

			if ( !this.options.text ) {
				buttonClasses.push( multipleIcons ? "ui-button-icons-only" : "ui-button-icon-only" );

				if ( !this.hasTitle ) {
					buttonElement.attr( "title", $.trim( buttonText ) );
				}
			}
		} else {
			buttonClasses.push( "ui-button-text-only" );
		}
		buttonElement.addClass( buttonClasses.join( " " ) );
	}
});

$.widget( "ui.buttonset", {
	version: "1.11.4",
	options: {
		items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
	},

	_create: function() {
		this.element.addClass( "ui-buttonset" );
	},

	_init: function() {
		this.refresh();
	},

	_setOption: function( key, value ) {
		if ( key === "disabled" ) {
			this.buttons.button( "option", key, value );
		}

		this._super( key, value );
	},

	refresh: function() {
		var rtl = this.element.css( "direction" ) === "rtl",
			allButtons = this.element.find( this.options.items ),
			existingButtons = allButtons.filter( ":ui-button" );

		// Initialize new buttons
		allButtons.not( ":ui-button" ).button();

		// Refresh existing buttons
		existingButtons.button( "refresh" );

		this.buttons = allButtons
			.map(function() {
				return $( this ).button( "widget" )[ 0 ];
			})
				.removeClass( "ui-corner-all ui-corner-left ui-corner-right" )
				.filter( ":first" )
					.addClass( rtl ? "ui-corner-right" : "ui-corner-left" )
				.end()
				.filter( ":last" )
					.addClass( rtl ? "ui-corner-left" : "ui-corner-right" )
				.end()
			.end();
	},

	_destroy: function() {
		this.element.removeClass( "ui-buttonset" );
		this.buttons
			.map(function() {
				return $( this ).button( "widget" )[ 0 ];
			})
				.removeClass( "ui-corner-left ui-corner-right" )
			.end()
			.button( "destroy" );
	}
});

var button = $.ui.button;


/*!
 * jQuery UI Datepicker 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */


$.extend($.ui, { datepicker: { version: "1.11.4" } });

var datepicker_instActive;

function datepicker_getZindex( elem ) {
	var position, value;
	while ( elem.length && elem[ 0 ] !== document ) {
		// Ignore z-index if position is set to a value where z-index is ignored by the browser
		// This makes behavior of this function consistent across browsers
		// WebKit always returns auto if the element is positioned
		position = elem.css( "position" );
		if ( position === "absolute" || position === "relative" || position === "fixed" ) {
			// IE returns 0 when zIndex is not specified
			// other browsers return a string
			// we ignore the case of nested elements with an explicit value of 0
			// <div style="z-index: -10;"><div style="z-index: 0;"></div></div>
			value = parseInt( elem.css( "zIndex" ), 10 );
			if ( !isNaN( value ) && value !== 0 ) {
				return value;
			}
		}
		elem = elem.parent();
	}

	return 0;
}
/* Date picker manager.
   Use the singleton instance of this class, $.datepicker, to interact with the date picker.
   Settings for (groups of) date pickers are maintained in an instance object,
   allowing multiple different settings on the same page. */

function Datepicker() {
	this._curInst = null; // The current instance in use
	this._keyEvent = false; // If the last event was a key event
	this._disabledInputs = []; // List of date picker inputs that have been disabled
	this._datepickerShowing = false; // True if the popup picker is showing , false if not
	this._inDialog = false; // True if showing within a "dialog", false if not
	this._mainDivId = "ui-datepicker-div"; // The ID of the main datepicker division
	this._inlineClass = "ui-datepicker-inline"; // The name of the inline marker class
	this._appendClass = "ui-datepicker-append"; // The name of the append marker class
	this._triggerClass = "ui-datepicker-trigger"; // The name of the trigger marker class
	this._dialogClass = "ui-datepicker-dialog"; // The name of the dialog marker class
	this._disableClass = "ui-datepicker-disabled"; // The name of the disabled covering marker class
	this._unselectableClass = "ui-datepicker-unselectable"; // The name of the unselectable cell marker class
	this._currentClass = "ui-datepicker-current-day"; // The name of the current day marker class
	this._dayOverClass = "ui-datepicker-days-cell-over"; // The name of the day hover marker class
	this.regional = []; // Available regional settings, indexed by language code
	this.regional[""] = { // Default regional settings
		closeText: "Done", // Display text for close link
		prevText: "Prev", // Display text for previous month link
		nextText: "Next", // Display text for next month link
		currentText: "Today", // Display text for current month link
		monthNames: ["January","February","March","April","May","June",
			"July","August","September","October","November","December"], // Names of months for drop-down and formatting
		monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], // For formatting
		dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], // For formatting
		dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], // For formatting
		dayNamesMin: ["Su","Mo","Tu","We","Th","Fr","Sa"], // Column headings for days starting at Sunday
		weekHeader: "Wk", // Column header for week of the year
		dateFormat: "mm/dd/yy", // See format options on parseDate
		firstDay: 0, // The first day of the week, Sun = 0, Mon = 1, ...
		isRTL: false, // True if right-to-left language, false if left-to-right
		showMonthAfterYear: false, // True if the year select precedes month, false for month then year
		yearSuffix: "" // Additional text to append to the year in the month headers
	};
	this._defaults = { // Global defaults for all the date picker instances
		showOn: "focus", // "focus" for popup on focus,
			// "button" for trigger button, or "both" for either
		showAnim: "fadeIn", // Name of jQuery animation for popup
		showOptions: {}, // Options for enhanced animations
		defaultDate: null, // Used when field is blank: actual date,
			// +/-number for offset from today, null for today
		appendText: "", // Display text following the input box, e.g. showing the format
		buttonText: "...", // Text for trigger button
		buttonImage: "", // URL for trigger button image
		buttonImageOnly: false, // True if the image appears alone, false if it appears on a button
		hideIfNoPrevNext: false, // True to hide next/previous month links
			// if not applicable, false to just disable them
		navigationAsDateFormat: false, // True if date formatting applied to prev/today/next links
		gotoCurrent: false, // True if today link goes back to current selection instead
		changeMonth: false, // True if month can be selected directly, false if only prev/next
		changeYear: false, // True if year can be selected directly, false if only prev/next
		yearRange: "c-10:c+10", // Range of years to display in drop-down,
			// either relative to today's year (-nn:+nn), relative to currently displayed year
			// (c-nn:c+nn), absolute (nnnn:nnnn), or a combination of the above (nnnn:-n)
		showOtherMonths: false, // True to show dates in other months, false to leave blank
		selectOtherMonths: false, // True to allow selection of dates in other months, false for unselectable
		showWeek: false, // True to show week of the year, false to not show it
		calculateWeek: this.iso8601Week, // How to calculate the week of the year,
			// takes a Date and returns the number of the week for it
		shortYearCutoff: "+10", // Short year values < this are in the current century,
			// > this are in the previous century,
			// string value starting with "+" for current year + value
		minDate: null, // The earliest selectable date, or null for no limit
		maxDate: null, // The latest selectable date, or null for no limit
		duration: "fast", // Duration of display/closure
		beforeShowDay: null, // Function that takes a date and returns an array with
			// [0] = true if selectable, false if not, [1] = custom CSS class name(s) or "",
			// [2] = cell title (optional), e.g. $.datepicker.noWeekends
		beforeShow: null, // Function that takes an input field and
			// returns a set of custom settings for the date picker
		onSelect: null, // Define a callback function when a date is selected
		onChangeMonthYear: null, // Define a callback function when the month or year is changed
		onClose: null, // Define a callback function when the datepicker is closed
		numberOfMonths: 1, // Number of months to show at a time
		showCurrentAtPos: 0, // The position in multipe months at which to show the current month (starting at 0)
		stepMonths: 1, // Number of months to step back/forward
		stepBigMonths: 12, // Number of months to step back/forward for the big links
		altField: "", // Selector for an alternate field to store selected dates into
		altFormat: "", // The date format to use for the alternate field
		constrainInput: true, // The input is constrained by the current date format
		showButtonPanel: false, // True to show button panel, false to not show it
		autoSize: false, // True to size the input for the date format, false to leave as is
		disabled: false // The initial disabled state
	};
	$.extend(this._defaults, this.regional[""]);
	this.regional.en = $.extend( true, {}, this.regional[ "" ]);
	this.regional[ "en-US" ] = $.extend( true, {}, this.regional.en );
	this.dpDiv = datepicker_bindHover($("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));
}

$.extend(Datepicker.prototype, {
	/* Class name added to elements to indicate already configured with a date picker. */
	markerClassName: "hasDatepicker",

	//Keep track of the maximum number of rows displayed (see #7043)
	maxRows: 4,

	// TODO rename to "widget" when switching to widget factory
	_widgetDatepicker: function() {
		return this.dpDiv;
	},

	/* Override the default settings for all instances of the date picker.
	 * @param  settings  object - the new settings to use as defaults (anonymous object)
	 * @return the manager object
	 */
	setDefaults: function(settings) {
		datepicker_extendRemove(this._defaults, settings || {});
		return this;
	},

	/* Attach the date picker to a jQuery selection.
	 * @param  target	element - the target input field or division or span
	 * @param  settings  object - the new settings to use for this date picker instance (anonymous)
	 */
	_attachDatepicker: function(target, settings) {
		var nodeName, inline, inst;
		nodeName = target.nodeName.toLowerCase();
		inline = (nodeName === "div" || nodeName === "span");
		if (!target.id) {
			this.uuid += 1;
			target.id = "dp" + this.uuid;
		}
		inst = this._newInst($(target), inline);
		inst.settings = $.extend({}, settings || {});
		if (nodeName === "input") {
			this._connectDatepicker(target, inst);
		} else if (inline) {
			this._inlineDatepicker(target, inst);
		}
	},

	/* Create a new instance object. */
	_newInst: function(target, inline) {
		var id = target[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"); // escape jQuery meta chars
		return {id: id, input: target, // associated target
			selectedDay: 0, selectedMonth: 0, selectedYear: 0, // current selection
			drawMonth: 0, drawYear: 0, // month being drawn
			inline: inline, // is datepicker inline or not
			dpDiv: (!inline ? this.dpDiv : // presentation div
			datepicker_bindHover($("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))};
	},

	/* Attach the date picker to an input field. */
	_connectDatepicker: function(target, inst) {
		var input = $(target);
		inst.append = $([]);
		inst.trigger = $([]);
		if (input.hasClass(this.markerClassName)) {
			return;
		}
		this._attachments(input, inst);
		input.addClass(this.markerClassName).keydown(this._doKeyDown).
			keypress(this._doKeyPress).keyup(this._doKeyUp);
		this._autoSize(inst);
		$.data(target, "datepicker", inst);
		//If disabled option is true, disable the datepicker once it has been attached to the input (see ticket #5665)
		if( inst.settings.disabled ) {
			this._disableDatepicker( target );
		}
	},

	/* Make attachments based on settings. */
	_attachments: function(input, inst) {
		var showOn, buttonText, buttonImage,
			appendText = this._get(inst, "appendText"),
			isRTL = this._get(inst, "isRTL");

		if (inst.append) {
			inst.append.remove();
		}
		if (appendText) {
			inst.append = $("<span class='" + this._appendClass + "'>" + appendText + "</span>");
			input[isRTL ? "before" : "after"](inst.append);
		}

		input.unbind("focus", this._showDatepicker);

		if (inst.trigger) {
			inst.trigger.remove();
		}

		showOn = this._get(inst, "showOn");
		if (showOn === "focus" || showOn === "both") { // pop-up date picker when in the marked field
			input.focus(this._showDatepicker);
		}
		if (showOn === "button" || showOn === "both") { // pop-up date picker when button clicked
			buttonText = this._get(inst, "buttonText");
			buttonImage = this._get(inst, "buttonImage");
			inst.trigger = $(this._get(inst, "buttonImageOnly") ?
				$("<img/>").addClass(this._triggerClass).
					attr({ src: buttonImage, alt: buttonText, title: buttonText }) :
				$("<button type='button'></button>").addClass(this._triggerClass).
					html(!buttonImage ? buttonText : $("<img/>").attr(
					{ src:buttonImage, alt:buttonText, title:buttonText })));
			input[isRTL ? "before" : "after"](inst.trigger);
			inst.trigger.click(function() {
				if ($.datepicker._datepickerShowing && $.datepicker._lastInput === input[0]) {
					$.datepicker._hideDatepicker();
				} else if ($.datepicker._datepickerShowing && $.datepicker._lastInput !== input[0]) {
					$.datepicker._hideDatepicker();
					$.datepicker._showDatepicker(input[0]);
				} else {
					$.datepicker._showDatepicker(input[0]);
				}
				return false;
			});
		}
	},

	/* Apply the maximum length for the date format. */
	_autoSize: function(inst) {
		if (this._get(inst, "autoSize") && !inst.inline) {
			var findMax, max, maxI, i,
				date = new Date(2009, 12 - 1, 20), // Ensure double digits
				dateFormat = this._get(inst, "dateFormat");

			if (dateFormat.match(/[DM]/)) {
				findMax = function(names) {
					max = 0;
					maxI = 0;
					for (i = 0; i < names.length; i++) {
						if (names[i].length > max) {
							max = names[i].length;
							maxI = i;
						}
					}
					return maxI;
				};
				date.setMonth(findMax(this._get(inst, (dateFormat.match(/MM/) ?
					"monthNames" : "monthNamesShort"))));
				date.setDate(findMax(this._get(inst, (dateFormat.match(/DD/) ?
					"dayNames" : "dayNamesShort"))) + 20 - date.getDay());
			}
			inst.input.attr("size", this._formatDate(inst, date).length);
		}
	},

	/* Attach an inline date picker to a div. */
	_inlineDatepicker: function(target, inst) {
		var divSpan = $(target);
		if (divSpan.hasClass(this.markerClassName)) {
			return;
		}
		divSpan.addClass(this.markerClassName).append(inst.dpDiv);
		$.data(target, "datepicker", inst);
		this._setDate(inst, this._getDefaultDate(inst), true);
		this._updateDatepicker(inst);
		this._updateAlternate(inst);
		//If disabled option is true, disable the datepicker before showing it (see ticket #5665)
		if( inst.settings.disabled ) {
			this._disableDatepicker( target );
		}
		// Set display:block in place of inst.dpDiv.show() which won't work on disconnected elements
		// http://bugs.jqueryui.com/ticket/7552 - A Datepicker created on a detached div has zero height
		inst.dpDiv.css( "display", "block" );
	},

	/* Pop-up the date picker in a "dialog" box.
	 * @param  input element - ignored
	 * @param  date	string or Date - the initial date to display
	 * @param  onSelect  function - the function to call when a date is selected
	 * @param  settings  object - update the dialog date picker instance's settings (anonymous object)
	 * @param  pos int[2] - coordinates for the dialog's position within the screen or
	 *					event - with x/y coordinates or
	 *					leave empty for default (screen centre)
	 * @return the manager object
	 */
	_dialogDatepicker: function(input, date, onSelect, settings, pos) {
		var id, browserWidth, browserHeight, scrollX, scrollY,
			inst = this._dialogInst; // internal instance

		if (!inst) {
			this.uuid += 1;
			id = "dp" + this.uuid;
			this._dialogInput = $("<input type='text' id='" + id +
				"' style='position: absolute; top: -100px; width: 0px;'/>");
			this._dialogInput.keydown(this._doKeyDown);
			$("body").append(this._dialogInput);
			inst = this._dialogInst = this._newInst(this._dialogInput, false);
			inst.settings = {};
			$.data(this._dialogInput[0], "datepicker", inst);
		}
		datepicker_extendRemove(inst.settings, settings || {});
		date = (date && date.constructor === Date ? this._formatDate(inst, date) : date);
		this._dialogInput.val(date);

		this._pos = (pos ? (pos.length ? pos : [pos.pageX, pos.pageY]) : null);
		if (!this._pos) {
			browserWidth = document.documentElement.clientWidth;
			browserHeight = document.documentElement.clientHeight;
			scrollX = document.documentElement.scrollLeft || document.body.scrollLeft;
			scrollY = document.documentElement.scrollTop || document.body.scrollTop;
			this._pos = // should use actual width/height below
				[(browserWidth / 2) - 100 + scrollX, (browserHeight / 2) - 150 + scrollY];
		}

		// move input on screen for focus, but hidden behind dialog
		this._dialogInput.css("left", (this._pos[0] + 20) + "px").css("top", this._pos[1] + "px");
		inst.settings.onSelect = onSelect;
		this._inDialog = true;
		this.dpDiv.addClass(this._dialogClass);
		this._showDatepicker(this._dialogInput[0]);
		if ($.blockUI) {
			$.blockUI(this.dpDiv);
		}
		$.data(this._dialogInput[0], "datepicker", inst);
		return this;
	},

	/* Detach a datepicker from its control.
	 * @param  target	element - the target input field or division or span
	 */
	_destroyDatepicker: function(target) {
		var nodeName,
			$target = $(target),
			inst = $.data(target, "datepicker");

		if (!$target.hasClass(this.markerClassName)) {
			return;
		}

		nodeName = target.nodeName.toLowerCase();
		$.removeData(target, "datepicker");
		if (nodeName === "input") {
			inst.append.remove();
			inst.trigger.remove();
			$target.removeClass(this.markerClassName).
				unbind("focus", this._showDatepicker).
				unbind("keydown", this._doKeyDown).
				unbind("keypress", this._doKeyPress).
				unbind("keyup", this._doKeyUp);
		} else if (nodeName === "div" || nodeName === "span") {
			$target.removeClass(this.markerClassName).empty();
		}

		if ( datepicker_instActive === inst ) {
			datepicker_instActive = null;
		}
	},

	/* Enable the date picker to a jQuery selection.
	 * @param  target	element - the target input field or division or span
	 */
	_enableDatepicker: function(target) {
		var nodeName, inline,
			$target = $(target),
			inst = $.data(target, "datepicker");

		if (!$target.hasClass(this.markerClassName)) {
			return;
		}

		nodeName = target.nodeName.toLowerCase();
		if (nodeName === "input") {
			target.disabled = false;
			inst.trigger.filter("button").
				each(function() { this.disabled = false; }).end().
				filter("img").css({opacity: "1.0", cursor: ""});
		} else if (nodeName === "div" || nodeName === "span") {
			inline = $target.children("." + this._inlineClass);
			inline.children().removeClass("ui-state-disabled");
			inline.find("select.ui-datepicker-month, select.ui-datepicker-year").
				prop("disabled", false);
		}
		this._disabledInputs = $.map(this._disabledInputs,
			function(value) { return (value === target ? null : value); }); // delete entry
	},

	/* Disable the date picker to a jQuery selection.
	 * @param  target	element - the target input field or division or span
	 */
	_disableDatepicker: function(target) {
		var nodeName, inline,
			$target = $(target),
			inst = $.data(target, "datepicker");

		if (!$target.hasClass(this.markerClassName)) {
			return;
		}

		nodeName = target.nodeName.toLowerCase();
		if (nodeName === "input") {
			target.disabled = true;
			inst.trigger.filter("button").
				each(function() { this.disabled = true; }).end().
				filter("img").css({opacity: "0.5", cursor: "default"});
		} else if (nodeName === "div" || nodeName === "span") {
			inline = $target.children("." + this._inlineClass);
			inline.children().addClass("ui-state-disabled");
			inline.find("select.ui-datepicker-month, select.ui-datepicker-year").
				prop("disabled", true);
		}
		this._disabledInputs = $.map(this._disabledInputs,
			function(value) { return (value === target ? null : value); }); // delete entry
		this._disabledInputs[this._disabledInputs.length] = target;
	},

	/* Is the first field in a jQuery collection disabled as a datepicker?
	 * @param  target	element - the target input field or division or span
	 * @return boolean - true if disabled, false if enabled
	 */
	_isDisabledDatepicker: function(target) {
		if (!target) {
			return false;
		}
		for (var i = 0; i < this._disabledInputs.length; i++) {
			if (this._disabledInputs[i] === target) {
				return true;
			}
		}
		return false;
	},

	/* Retrieve the instance data for the target control.
	 * @param  target  element - the target input field or division or span
	 * @return  object - the associated instance data
	 * @throws  error if a jQuery problem getting data
	 */
	_getInst: function(target) {
		try {
			return $.data(target, "datepicker");
		}
		catch (err) {
			throw "Missing instance data for this datepicker";
		}
	},

	/* Update or retrieve the settings for a date picker attached to an input field or division.
	 * @param  target  element - the target input field or division or span
	 * @param  name	object - the new settings to update or
	 *				string - the name of the setting to change or retrieve,
	 *				when retrieving also "all" for all instance settings or
	 *				"defaults" for all global defaults
	 * @param  value   any - the new value for the setting
	 *				(omit if above is an object or to retrieve a value)
	 */
	_optionDatepicker: function(target, name, value) {
		var settings, date, minDate, maxDate,
			inst = this._getInst(target);

		if (arguments.length === 2 && typeof name === "string") {
			return (name === "defaults" ? $.extend({}, $.datepicker._defaults) :
				(inst ? (name === "all" ? $.extend({}, inst.settings) :
				this._get(inst, name)) : null));
		}

		settings = name || {};
		if (typeof name === "string") {
			settings = {};
			settings[name] = value;
		}

		if (inst) {
			if (this._curInst === inst) {
				this._hideDatepicker();
			}

			date = this._getDateDatepicker(target, true);
			minDate = this._getMinMaxDate(inst, "min");
			maxDate = this._getMinMaxDate(inst, "max");
			datepicker_extendRemove(inst.settings, settings);
			// reformat the old minDate/maxDate values if dateFormat changes and a new minDate/maxDate isn't provided
			if (minDate !== null && settings.dateFormat !== undefined && settings.minDate === undefined) {
				inst.settings.minDate = this._formatDate(inst, minDate);
			}
			if (maxDate !== null && settings.dateFormat !== undefined && settings.maxDate === undefined) {
				inst.settings.maxDate = this._formatDate(inst, maxDate);
			}
			if ( "disabled" in settings ) {
				if ( settings.disabled ) {
					this._disableDatepicker(target);
				} else {
					this._enableDatepicker(target);
				}
			}
			this._attachments($(target), inst);
			this._autoSize(inst);
			this._setDate(inst, date);
			this._updateAlternate(inst);
			this._updateDatepicker(inst);
		}
	},

	// change method deprecated
	_changeDatepicker: function(target, name, value) {
		this._optionDatepicker(target, name, value);
	},

	/* Redraw the date picker attached to an input field or division.
	 * @param  target  element - the target input field or division or span
	 */
	_refreshDatepicker: function(target) {
		var inst = this._getInst(target);
		if (inst) {
			this._updateDatepicker(inst);
		}
	},

	/* Set the dates for a jQuery selection.
	 * @param  target element - the target input field or division or span
	 * @param  date	Date - the new date
	 */
	_setDateDatepicker: function(target, date) {
		var inst = this._getInst(target);
		if (inst) {
			this._setDate(inst, date);
			this._updateDatepicker(inst);
			this._updateAlternate(inst);
		}
	},

	/* Get the date(s) for the first entry in a jQuery selection.
	 * @param  target element - the target input field or division or span
	 * @param  noDefault boolean - true if no default date is to be used
	 * @return Date - the current date
	 */
	_getDateDatepicker: function(target, noDefault) {
		var inst = this._getInst(target);
		if (inst && !inst.inline) {
			this._setDateFromField(inst, noDefault);
		}
		return (inst ? this._getDate(inst) : null);
	},

	/* Handle keystrokes. */
	_doKeyDown: function(event) {
		var onSelect, dateStr, sel,
			inst = $.datepicker._getInst(event.target),
			handled = true,
			isRTL = inst.dpDiv.is(".ui-datepicker-rtl");

		inst._keyEvent = true;
		if ($.datepicker._datepickerShowing) {
			switch (event.keyCode) {
				case 9: $.datepicker._hideDatepicker();
						handled = false;
						break; // hide on tab out
				case 13: sel = $("td." + $.datepicker._dayOverClass + ":not(." +
									$.datepicker._currentClass + ")", inst.dpDiv);
						if (sel[0]) {
							$.datepicker._selectDay(event.target, inst.selectedMonth, inst.selectedYear, sel[0]);
						}

						onSelect = $.datepicker._get(inst, "onSelect");
						if (onSelect) {
							dateStr = $.datepicker._formatDate(inst);

							// trigger custom callback
							onSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]);
						} else {
							$.datepicker._hideDatepicker();
						}

						return false; // don't submit the form
				case 27: $.datepicker._hideDatepicker();
						break; // hide on escape
				case 33: $.datepicker._adjustDate(event.target, (event.ctrlKey ?
							-$.datepicker._get(inst, "stepBigMonths") :
							-$.datepicker._get(inst, "stepMonths")), "M");
						break; // previous month/year on page up/+ ctrl
				case 34: $.datepicker._adjustDate(event.target, (event.ctrlKey ?
							+$.datepicker._get(inst, "stepBigMonths") :
							+$.datepicker._get(inst, "stepMonths")), "M");
						break; // next month/year on page down/+ ctrl
				case 35: if (event.ctrlKey || event.metaKey) {
							$.datepicker._clearDate(event.target);
						}
						handled = event.ctrlKey || event.metaKey;
						break; // clear on ctrl or command +end
				case 36: if (event.ctrlKey || event.metaKey) {
							$.datepicker._gotoToday(event.target);
						}
						handled = event.ctrlKey || event.metaKey;
						break; // current on ctrl or command +home
				case 37: if (event.ctrlKey || event.metaKey) {
							$.datepicker._adjustDate(event.target, (isRTL ? +1 : -1), "D");
						}
						handled = event.ctrlKey || event.metaKey;
						// -1 day on ctrl or command +left
						if (event.originalEvent.altKey) {
							$.datepicker._adjustDate(event.target, (event.ctrlKey ?
								-$.datepicker._get(inst, "stepBigMonths") :
								-$.datepicker._get(inst, "stepMonths")), "M");
						}
						// next month/year on alt +left on Mac
						break;
				case 38: if (event.ctrlKey || event.metaKey) {
							$.datepicker._adjustDate(event.target, -7, "D");
						}
						handled = event.ctrlKey || event.metaKey;
						break; // -1 week on ctrl or command +up
				case 39: if (event.ctrlKey || event.metaKey) {
							$.datepicker._adjustDate(event.target, (isRTL ? -1 : +1), "D");
						}
						handled = event.ctrlKey || event.metaKey;
						// +1 day on ctrl or command +right
						if (event.originalEvent.altKey) {
							$.datepicker._adjustDate(event.target, (event.ctrlKey ?
								+$.datepicker._get(inst, "stepBigMonths") :
								+$.datepicker._get(inst, "stepMonths")), "M");
						}
						// next month/year on alt +right
						break;
				case 40: if (event.ctrlKey || event.metaKey) {
							$.datepicker._adjustDate(event.target, +7, "D");
						}
						handled = event.ctrlKey || event.metaKey;
						break; // +1 week on ctrl or command +down
				default: handled = false;
			}
		} else if (event.keyCode === 36 && event.ctrlKey) { // display the date picker on ctrl+home
			$.datepicker._showDatepicker(this);
		} else {
			handled = false;
		}

		if (handled) {
			event.preventDefault();
			event.stopPropagation();
		}
	},

	/* Filter entered characters - based on date format. */
	_doKeyPress: function(event) {
		var chars, chr,
			inst = $.datepicker._getInst(event.target);

		if ($.datepicker._get(inst, "constrainInput")) {
			chars = $.datepicker._possibleChars($.datepicker._get(inst, "dateFormat"));
			chr = String.fromCharCode(event.charCode == null ? event.keyCode : event.charCode);
			return event.ctrlKey || event.metaKey || (chr < " " || !chars || chars.indexOf(chr) > -1);
		}
	},

	/* Synchronise manual entry and field/alternate field. */
	_doKeyUp: function(event) {
		var date,
			inst = $.datepicker._getInst(event.target);

		if (inst.input.val() !== inst.lastVal) {
			try {
				date = $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"),
					(inst.input ? inst.input.val() : null),
					$.datepicker._getFormatConfig(inst));

				if (date) { // only if valid
					$.datepicker._setDateFromField(inst);
					$.datepicker._updateAlternate(inst);
					$.datepicker._updateDatepicker(inst);
				}
			}
			catch (err) {
			}
		}
		return true;
	},

	/* Pop-up the date picker for a given input field.
	 * If false returned from beforeShow event handler do not show.
	 * @param  input  element - the input field attached to the date picker or
	 *					event - if triggered by focus
	 */
	_showDatepicker: function(input) {
		input = input.target || input;
		if (input.nodeName.toLowerCase() !== "input") { // find from button/image trigger
			input = $("input", input.parentNode)[0];
		}

		if ($.datepicker._isDisabledDatepicker(input) || $.datepicker._lastInput === input) { // already here
			return;
		}

		var inst, beforeShow, beforeShowSettings, isFixed,
			offset, showAnim, duration;

		inst = $.datepicker._getInst(input);
		if ($.datepicker._curInst && $.datepicker._curInst !== inst) {
			$.datepicker._curInst.dpDiv.stop(true, true);
			if ( inst && $.datepicker._datepickerShowing ) {
				$.datepicker._hideDatepicker( $.datepicker._curInst.input[0] );
			}
		}

		beforeShow = $.datepicker._get(inst, "beforeShow");
		beforeShowSettings = beforeShow ? beforeShow.apply(input, [input, inst]) : {};
		if(beforeShowSettings === false){
			return;
		}
		datepicker_extendRemove(inst.settings, beforeShowSettings);

		inst.lastVal = null;
		$.datepicker._lastInput = input;
		$.datepicker._setDateFromField(inst);

		if ($.datepicker._inDialog) { // hide cursor
			input.value = "";
		}
		if (!$.datepicker._pos) { // position below input
			$.datepicker._pos = $.datepicker._findPos(input);
			$.datepicker._pos[1] += input.offsetHeight; // add the height
		}

		isFixed = false;
		$(input).parents().each(function() {
			isFixed |= $(this).css("position") === "fixed";
			return !isFixed;
		});

		offset = {left: $.datepicker._pos[0], top: $.datepicker._pos[1]};
		$.datepicker._pos = null;
		//to avoid flashes on Firefox
		inst.dpDiv.empty();
		// determine sizing offscreen
		inst.dpDiv.css({position: "absolute", display: "block", top: "-1000px"});
		$.datepicker._updateDatepicker(inst);
		// fix width for dynamic number of date pickers
		// and adjust position before showing
		offset = $.datepicker._checkOffset(inst, offset, isFixed);
		inst.dpDiv.css({position: ($.datepicker._inDialog && $.blockUI ?
			"static" : (isFixed ? "fixed" : "absolute")), display: "none",
			left: offset.left + "px", top: offset.top + "px"});

		if (!inst.inline) {
			showAnim = $.datepicker._get(inst, "showAnim");
			duration = $.datepicker._get(inst, "duration");
			inst.dpDiv.css( "z-index", datepicker_getZindex( $( input ) ) + 1 );
			$.datepicker._datepickerShowing = true;

			if ( $.effects && $.effects.effect[ showAnim ] ) {
				inst.dpDiv.show(showAnim, $.datepicker._get(inst, "showOptions"), duration);
			} else {
				inst.dpDiv[showAnim || "show"](showAnim ? duration : null);
			}

			if ( $.datepicker._shouldFocusInput( inst ) ) {
				inst.input.focus();
			}

			$.datepicker._curInst = inst;
		}
	},

	/* Generate the date picker content. */
	_updateDatepicker: function(inst) {
		this.maxRows = 4; //Reset the max number of rows being displayed (see #7043)
		datepicker_instActive = inst; // for delegate hover events
		inst.dpDiv.empty().append(this._generateHTML(inst));
		this._attachHandlers(inst);

		var origyearshtml,
			numMonths = this._getNumberOfMonths(inst),
			cols = numMonths[1],
			width = 17,
			activeCell = inst.dpDiv.find( "." + this._dayOverClass + " a" );

		if ( activeCell.length > 0 ) {
			datepicker_handleMouseover.apply( activeCell.get( 0 ) );
		}

		inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");
		if (cols > 1) {
			inst.dpDiv.addClass("ui-datepicker-multi-" + cols).css("width", (width * cols) + "em");
		}
		inst.dpDiv[(numMonths[0] !== 1 || numMonths[1] !== 1 ? "add" : "remove") +
			"Class"]("ui-datepicker-multi");
		inst.dpDiv[(this._get(inst, "isRTL") ? "add" : "remove") +
			"Class"]("ui-datepicker-rtl");

		if (inst === $.datepicker._curInst && $.datepicker._datepickerShowing && $.datepicker._shouldFocusInput( inst ) ) {
			inst.input.focus();
		}

		// deffered render of the years select (to avoid flashes on Firefox)
		if( inst.yearshtml ){
			origyearshtml = inst.yearshtml;
			setTimeout(function(){
				//assure that inst.yearshtml didn't change.
				if( origyearshtml === inst.yearshtml && inst.yearshtml ){
					inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);
				}
				origyearshtml = inst.yearshtml = null;
			}, 0);
		}
	},

	// #6694 - don't focus the input if it's already focused
	// this breaks the change event in IE
	// Support: IE and jQuery <1.9
	_shouldFocusInput: function( inst ) {
		return inst.input && inst.input.is( ":visible" ) && !inst.input.is( ":disabled" ) && !inst.input.is( ":focus" );
	},

	/* Check positioning to remain on screen. */
	_checkOffset: function(inst, offset, isFixed) {
		var dpWidth = inst.dpDiv.outerWidth(),
			dpHeight = inst.dpDiv.outerHeight(),
			inputWidth = inst.input ? inst.input.outerWidth() : 0,
			inputHeight = inst.input ? inst.input.outerHeight() : 0,
			viewWidth = document.documentElement.clientWidth + (isFixed ? 0 : $(document).scrollLeft()),
			viewHeight = document.documentElement.clientHeight + (isFixed ? 0 : $(document).scrollTop());

		offset.left -= (this._get(inst, "isRTL") ? (dpWidth - inputWidth) : 0);
		offset.left -= (isFixed && offset.left === inst.input.offset().left) ? $(document).scrollLeft() : 0;
		offset.top -= (isFixed && offset.top === (inst.input.offset().top + inputHeight)) ? $(document).scrollTop() : 0;

		// now check if datepicker is showing outside window viewport - move to a better place if so.
		offset.left -= Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ?
			Math.abs(offset.left + dpWidth - viewWidth) : 0);
		offset.top -= Math.min(offset.top, (offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ?
			Math.abs(dpHeight + inputHeight) : 0);

		return offset;
	},

	/* Find an object's position on the screen. */
	_findPos: function(obj) {
		var position,
			inst = this._getInst(obj),
			isRTL = this._get(inst, "isRTL");

		while (obj && (obj.type === "hidden" || obj.nodeType !== 1 || $.expr.filters.hidden(obj))) {
			obj = obj[isRTL ? "previousSibling" : "nextSibling"];
		}

		position = $(obj).offset();
		return [position.left, position.top];
	},

	/* Hide the date picker from view.
	 * @param  input  element - the input field attached to the date picker
	 */
	_hideDatepicker: function(input) {
		var showAnim, duration, postProcess, onClose,
			inst = this._curInst;

		if (!inst || (input && inst !== $.data(input, "datepicker"))) {
			return;
		}

		if (this._datepickerShowing) {
			showAnim = this._get(inst, "showAnim");
			duration = this._get(inst, "duration");
			postProcess = function() {
				$.datepicker._tidyDialog(inst);
			};

			// DEPRECATED: after BC for 1.8.x $.effects[ showAnim ] is not needed
			if ( $.effects && ( $.effects.effect[ showAnim ] || $.effects[ showAnim ] ) ) {
				inst.dpDiv.hide(showAnim, $.datepicker._get(inst, "showOptions"), duration, postProcess);
			} else {
				inst.dpDiv[(showAnim === "slideDown" ? "slideUp" :
					(showAnim === "fadeIn" ? "fadeOut" : "hide"))]((showAnim ? duration : null), postProcess);
			}

			if (!showAnim) {
				postProcess();
			}
			this._datepickerShowing = false;

			onClose = this._get(inst, "onClose");
			if (onClose) {
				onClose.apply((inst.input ? inst.input[0] : null), [(inst.input ? inst.input.val() : ""), inst]);
			}

			this._lastInput = null;
			if (this._inDialog) {
				this._dialogInput.css({ position: "absolute", left: "0", top: "-100px" });
				if ($.blockUI) {
					$.unblockUI();
					$("body").append(this.dpDiv);
				}
			}
			this._inDialog = false;
		}
	},

	/* Tidy up after a dialog display. */
	_tidyDialog: function(inst) {
		inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");
	},

	/* Close date picker if clicked elsewhere. */
	_checkExternalClick: function(event) {
		if (!$.datepicker._curInst) {
			return;
		}

		var $target = $(event.target),
			inst = $.datepicker._getInst($target[0]);

		if ( ( ( $target[0].id !== $.datepicker._mainDivId &&
				$target.parents("#" + $.datepicker._mainDivId).length === 0 &&
				!$target.hasClass($.datepicker.markerClassName) &&
				!$target.closest("." + $.datepicker._triggerClass).length &&
				$.datepicker._datepickerShowing && !($.datepicker._inDialog && $.blockUI) ) ) ||
			( $target.hasClass($.datepicker.markerClassName) && $.datepicker._curInst !== inst ) ) {
				$.datepicker._hideDatepicker();
		}
	},

	/* Adjust one of the date sub-fields. */
	_adjustDate: function(id, offset, period) {
		var target = $(id),
			inst = this._getInst(target[0]);

		if (this._isDisabledDatepicker(target[0])) {
			return;
		}
		this._adjustInstDate(inst, offset +
			(period === "M" ? this._get(inst, "showCurrentAtPos") : 0), // undo positioning
			period);
		this._updateDatepicker(inst);
	},

	/* Action for current link. */
	_gotoToday: function(id) {
		var date,
			target = $(id),
			inst = this._getInst(target[0]);

		if (this._get(inst, "gotoCurrent") && inst.currentDay) {
			inst.selectedDay = inst.currentDay;
			inst.drawMonth = inst.selectedMonth = inst.currentMonth;
			inst.drawYear = inst.selectedYear = inst.currentYear;
		} else {
			date = new Date();
			inst.selectedDay = date.getDate();
			inst.drawMonth = inst.selectedMonth = date.getMonth();
			inst.drawYear = inst.selectedYear = date.getFullYear();
		}
		this._notifyChange(inst);
		this._adjustDate(target);
	},

	/* Action for selecting a new month/year. */
	_selectMonthYear: function(id, select, period) {
		var target = $(id),
			inst = this._getInst(target[0]);

		inst["selected" + (period === "M" ? "Month" : "Year")] =
		inst["draw" + (period === "M" ? "Month" : "Year")] =
			parseInt(select.options[select.selectedIndex].value,10);

		this._notifyChange(inst);
		this._adjustDate(target);
	},

	/* Action for selecting a day. */
	_selectDay: function(id, month, year, td) {
		var inst,
			target = $(id);

		if ($(td).hasClass(this._unselectableClass) || this._isDisabledDatepicker(target[0])) {
			return;
		}

		inst = this._getInst(target[0]);
		inst.selectedDay = inst.currentDay = $("a", td).html();
		inst.selectedMonth = inst.currentMonth = month;
		inst.selectedYear = inst.currentYear = year;
		this._selectDate(id, this._formatDate(inst,
			inst.currentDay, inst.currentMonth, inst.currentYear));
	},

	/* Erase the input field and hide the date picker. */
	_clearDate: function(id) {
		var target = $(id);
		this._selectDate(target, "");
	},

	/* Update the input field with the selected date. */
	_selectDate: function(id, dateStr) {
		var onSelect,
			target = $(id),
			inst = this._getInst(target[0]);

		dateStr = (dateStr != null ? dateStr : this._formatDate(inst));
		if (inst.input) {
			inst.input.val(dateStr);
		}
		this._updateAlternate(inst);

		onSelect = this._get(inst, "onSelect");
		if (onSelect) {
			onSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]);  // trigger custom callback
		} else if (inst.input) {
			inst.input.trigger("change"); // fire the change event
		}

		if (inst.inline){
			this._updateDatepicker(inst);
		} else {
			this._hideDatepicker();
			this._lastInput = inst.input[0];
			if (typeof(inst.input[0]) !== "object") {
				inst.input.focus(); // restore focus
			}
			this._lastInput = null;
		}
	},

	/* Update any alternate field to synchronise with the main field. */
	_updateAlternate: function(inst) {
		var altFormat, date, dateStr,
			altField = this._get(inst, "altField");

		if (altField) { // update alternate field too
			altFormat = this._get(inst, "altFormat") || this._get(inst, "dateFormat");
			date = this._getDate(inst);
			dateStr = this.formatDate(altFormat, date, this._getFormatConfig(inst));
			$(altField).each(function() { $(this).val(dateStr); });
		}
	},

	/* Set as beforeShowDay function to prevent selection of weekends.
	 * @param  date  Date - the date to customise
	 * @return [boolean, string] - is this date selectable?, what is its CSS class?
	 */
	noWeekends: function(date) {
		var day = date.getDay();
		return [(day > 0 && day < 6), ""];
	},

	/* Set as calculateWeek to determine the week of the year based on the ISO 8601 definition.
	 * @param  date  Date - the date to get the week for
	 * @return  number - the number of the week within the year that contains this date
	 */
	iso8601Week: function(date) {
		var time,
			checkDate = new Date(date.getTime());

		// Find Thursday of this week starting on Monday
		checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));

		time = checkDate.getTime();
		checkDate.setMonth(0); // Compare with Jan 1
		checkDate.setDate(1);
		return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
	},

	/* Parse a string value into a date object.
	 * See formatDate below for the possible formats.
	 *
	 * @param  format string - the expected format of the date
	 * @param  value string - the date in the above format
	 * @param  settings Object - attributes include:
	 *					shortYearCutoff  number - the cutoff year for determining the century (optional)
	 *					dayNamesShort	string[7] - abbreviated names of the days from Sunday (optional)
	 *					dayNames		string[7] - names of the days from Sunday (optional)
	 *					monthNamesShort string[12] - abbreviated names of the months (optional)
	 *					monthNames		string[12] - names of the months (optional)
	 * @return  Date - the extracted date value or null if value is blank
	 */
	parseDate: function (format, value, settings) {
		if (format == null || value == null) {
			throw "Invalid arguments";
		}

		value = (typeof value === "object" ? value.toString() : value + "");
		if (value === "") {
			return null;
		}

		var iFormat, dim, extra,
			iValue = 0,
			shortYearCutoffTemp = (settings ? settings.shortYearCutoff : null) || this._defaults.shortYearCutoff,
			shortYearCutoff = (typeof shortYearCutoffTemp !== "string" ? shortYearCutoffTemp :
				new Date().getFullYear() % 100 + parseInt(shortYearCutoffTemp, 10)),
			dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort,
			dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames,
			monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort,
			monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames,
			year = -1,
			month = -1,
			day = -1,
			doy = -1,
			literal = false,
			date,
			// Check whether a format character is doubled
			lookAhead = function(match) {
				var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
				if (matches) {
					iFormat++;
				}
				return matches;
			},
			// Extract a number from the string value
			getNumber = function(match) {
				var isDoubled = lookAhead(match),
					size = (match === "@" ? 14 : (match === "!" ? 20 :
					(match === "y" && isDoubled ? 4 : (match === "o" ? 3 : 2)))),
					minSize = (match === "y" ? size : 1),
					digits = new RegExp("^\\d{" + minSize + "," + size + "}"),
					num = value.substring(iValue).match(digits);
				if (!num) {
					throw "Missing number at position " + iValue;
				}
				iValue += num[0].length;
				return parseInt(num[0], 10);
			},
			// Extract a name from the string value and convert to an index
			getName = function(match, shortNames, longNames) {
				var index = -1,
					names = $.map(lookAhead(match) ? longNames : shortNames, function (v, k) {
						return [ [k, v] ];
					}).sort(function (a, b) {
						return -(a[1].length - b[1].length);
					});

				$.each(names, function (i, pair) {
					var name = pair[1];
					if (value.substr(iValue, name.length).toLowerCase() === name.toLowerCase()) {
						index = pair[0];
						iValue += name.length;
						return false;
					}
				});
				if (index !== -1) {
					return index + 1;
				} else {
					throw "Unknown name at position " + iValue;
				}
			},
			// Confirm that a literal character matches the string value
			checkLiteral = function() {
				if (value.charAt(iValue) !== format.charAt(iFormat)) {
					throw "Unexpected literal at position " + iValue;
				}
				iValue++;
			};

		for (iFormat = 0; iFormat < format.length; iFormat++) {
			if (literal) {
				if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
					literal = false;
				} else {
					checkLiteral();
				}
			} else {
				switch (format.charAt(iFormat)) {
					case "d":
						day = getNumber("d");
						break;
					case "D":
						getName("D", dayNamesShort, dayNames);
						break;
					case "o":
						doy = getNumber("o");
						break;
					case "m":
						month = getNumber("m");
						break;
					case "M":
						month = getName("M", monthNamesShort, monthNames);
						break;
					case "y":
						year = getNumber("y");
						break;
					case "@":
						date = new Date(getNumber("@"));
						year = date.getFullYear();
						month = date.getMonth() + 1;
						day = date.getDate();
						break;
					case "!":
						date = new Date((getNumber("!") - this._ticksTo1970) / 10000);
						year = date.getFullYear();
						month = date.getMonth() + 1;
						day = date.getDate();
						break;
					case "'":
						if (lookAhead("'")){
							checkLiteral();
						} else {
							literal = true;
						}
						break;
					default:
						checkLiteral();
				}
			}
		}

		if (iValue < value.length){
			extra = value.substr(iValue);
			if (!/^\s+/.test(extra)) {
				throw "Extra/unparsed characters found in date: " + extra;
			}
		}

		if (year === -1) {
			year = new Date().getFullYear();
		} else if (year < 100) {
			year += new Date().getFullYear() - new Date().getFullYear() % 100 +
				(year <= shortYearCutoff ? 0 : -100);
		}

		if (doy > -1) {
			month = 1;
			day = doy;
			do {
				dim = this._getDaysInMonth(year, month - 1);
				if (day <= dim) {
					break;
				}
				month++;
				day -= dim;
			} while (true);
		}

		date = this._daylightSavingAdjust(new Date(year, month - 1, day));
		if (date.getFullYear() !== year || date.getMonth() + 1 !== month || date.getDate() !== day) {
			throw "Invalid date"; // E.g. 31/02/00
		}
		return date;
	},

	/* Standard date formats. */
	ATOM: "yy-mm-dd", // RFC 3339 (ISO 8601)
	COOKIE: "D, dd M yy",
	ISO_8601: "yy-mm-dd",
	RFC_822: "D, d M y",
	RFC_850: "DD, dd-M-y",
	RFC_1036: "D, d M y",
	RFC_1123: "D, d M yy",
	RFC_2822: "D, d M yy",
	RSS: "D, d M y", // RFC 822
	TICKS: "!",
	TIMESTAMP: "@",
	W3C: "yy-mm-dd", // ISO 8601

	_ticksTo1970: (((1970 - 1) * 365 + Math.floor(1970 / 4) - Math.floor(1970 / 100) +
		Math.floor(1970 / 400)) * 24 * 60 * 60 * 10000000),

	/* Format a date object into a string value.
	 * The format can be combinations of the following:
	 * d  - day of month (no leading zero)
	 * dd - day of month (two digit)
	 * o  - day of year (no leading zeros)
	 * oo - day of year (three digit)
	 * D  - day name short
	 * DD - day name long
	 * m  - month of year (no leading zero)
	 * mm - month of year (two digit)
	 * M  - month name short
	 * MM - month name long
	 * y  - year (two digit)
	 * yy - year (four digit)
	 * @ - Unix timestamp (ms since 01/01/1970)
	 * ! - Windows ticks (100ns since 01/01/0001)
	 * "..." - literal text
	 * '' - single quote
	 *
	 * @param  format string - the desired format of the date
	 * @param  date Date - the date value to format
	 * @param  settings Object - attributes include:
	 *					dayNamesShort	string[7] - abbreviated names of the days from Sunday (optional)
	 *					dayNames		string[7] - names of the days from Sunday (optional)
	 *					monthNamesShort string[12] - abbreviated names of the months (optional)
	 *					monthNames		string[12] - names of the months (optional)
	 * @return  string - the date in the above format
	 */
	formatDate: function (format, date, settings) {
		if (!date) {
			return "";
		}

		var iFormat,
			dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort,
			dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames,
			monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort,
			monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames,
			// Check whether a format character is doubled
			lookAhead = function(match) {
				var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
				if (matches) {
					iFormat++;
				}
				return matches;
			},
			// Format a number, with leading zero if necessary
			formatNumber = function(match, value, len) {
				var num = "" + value;
				if (lookAhead(match)) {
					while (num.length < len) {
						num = "0" + num;
					}
				}
				return num;
			},
			// Format a name, short or long as requested
			formatName = function(match, value, shortNames, longNames) {
				return (lookAhead(match) ? longNames[value] : shortNames[value]);
			},
			output = "",
			literal = false;

		if (date) {
			for (iFormat = 0; iFormat < format.length; iFormat++) {
				if (literal) {
					if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
						literal = false;
					} else {
						output += format.charAt(iFormat);
					}
				} else {
					switch (format.charAt(iFormat)) {
						case "d":
							output += formatNumber("d", date.getDate(), 2);
							break;
						case "D":
							output += formatName("D", date.getDay(), dayNamesShort, dayNames);
							break;
						case "o":
							output += formatNumber("o",
								Math.round((new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / 86400000), 3);
							break;
						case "m":
							output += formatNumber("m", date.getMonth() + 1, 2);
							break;
						case "M":
							output += formatName("M", date.getMonth(), monthNamesShort, monthNames);
							break;
						case "y":
							output += (lookAhead("y") ? date.getFullYear() :
								(date.getYear() % 100 < 10 ? "0" : "") + date.getYear() % 100);
							break;
						case "@":
							output += date.getTime();
							break;
						case "!":
							output += date.getTime() * 10000 + this._ticksTo1970;
							break;
						case "'":
							if (lookAhead("'")) {
								output += "'";
							} else {
								literal = true;
							}
							break;
						default:
							output += format.charAt(iFormat);
					}
				}
			}
		}
		return output;
	},

	/* Extract all possible characters from the date format. */
	_possibleChars: function (format) {
		var iFormat,
			chars = "",
			literal = false,
			// Check whether a format character is doubled
			lookAhead = function(match) {
				var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
				if (matches) {
					iFormat++;
				}
				return matches;
			};

		for (iFormat = 0; iFormat < format.length; iFormat++) {
			if (literal) {
				if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
					literal = false;
				} else {
					chars += format.charAt(iFormat);
				}
			} else {
				switch (format.charAt(iFormat)) {
					case "d": case "m": case "y": case "@":
						chars += "0123456789";
						break;
					case "D": case "M":
						return null; // Accept anything
					case "'":
						if (lookAhead("'")) {
							chars += "'";
						} else {
							literal = true;
						}
						break;
					default:
						chars += format.charAt(iFormat);
				}
			}
		}
		return chars;
	},

	/* Get a setting value, defaulting if necessary. */
	_get: function(inst, name) {
		return inst.settings[name] !== undefined ?
			inst.settings[name] : this._defaults[name];
	},

	/* Parse existing date and initialise date picker. */
	_setDateFromField: function(inst, noDefault) {
		if (inst.input.val() === inst.lastVal) {
			return;
		}

		var dateFormat = this._get(inst, "dateFormat"),
			dates = inst.lastVal = inst.input ? inst.input.val() : null,
			defaultDate = this._getDefaultDate(inst),
			date = defaultDate,
			settings = this._getFormatConfig(inst);

		try {
			date = this.parseDate(dateFormat, dates, settings) || defaultDate;
		} catch (event) {
			dates = (noDefault ? "" : dates);
		}
		inst.selectedDay = date.getDate();
		inst.drawMonth = inst.selectedMonth = date.getMonth();
		inst.drawYear = inst.selectedYear = date.getFullYear();
		inst.currentDay = (dates ? date.getDate() : 0);
		inst.currentMonth = (dates ? date.getMonth() : 0);
		inst.currentYear = (dates ? date.getFullYear() : 0);
		this._adjustInstDate(inst);
	},

	/* Retrieve the default date shown on opening. */
	_getDefaultDate: function(inst) {
		return this._restrictMinMax(inst,
			this._determineDate(inst, this._get(inst, "defaultDate"), new Date()));
	},

	/* A date may be specified as an exact value or a relative one. */
	_determineDate: function(inst, date, defaultDate) {
		var offsetNumeric = function(offset) {
				var date = new Date();
				date.setDate(date.getDate() + offset);
				return date;
			},
			offsetString = function(offset) {
				try {
					return $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"),
						offset, $.datepicker._getFormatConfig(inst));
				}
				catch (e) {
					// Ignore
				}

				var date = (offset.toLowerCase().match(/^c/) ?
					$.datepicker._getDate(inst) : null) || new Date(),
					year = date.getFullYear(),
					month = date.getMonth(),
					day = date.getDate(),
					pattern = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,
					matches = pattern.exec(offset);

				while (matches) {
					switch (matches[2] || "d") {
						case "d" : case "D" :
							day += parseInt(matches[1],10); break;
						case "w" : case "W" :
							day += parseInt(matches[1],10) * 7; break;
						case "m" : case "M" :
							month += parseInt(matches[1],10);
							day = Math.min(day, $.datepicker._getDaysInMonth(year, month));
							break;
						case "y": case "Y" :
							year += parseInt(matches[1],10);
							day = Math.min(day, $.datepicker._getDaysInMonth(year, month));
							break;
					}
					matches = pattern.exec(offset);
				}
				return new Date(year, month, day);
			},
			newDate = (date == null || date === "" ? defaultDate : (typeof date === "string" ? offsetString(date) :
				(typeof date === "number" ? (isNaN(date) ? defaultDate : offsetNumeric(date)) : new Date(date.getTime()))));

		newDate = (newDate && newDate.toString() === "Invalid Date" ? defaultDate : newDate);
		if (newDate) {
			newDate.setHours(0);
			newDate.setMinutes(0);
			newDate.setSeconds(0);
			newDate.setMilliseconds(0);
		}
		return this._daylightSavingAdjust(newDate);
	},

	/* Handle switch to/from daylight saving.
	 * Hours may be non-zero on daylight saving cut-over:
	 * > 12 when midnight changeover, but then cannot generate
	 * midnight datetime, so jump to 1AM, otherwise reset.
	 * @param  date  (Date) the date to check
	 * @return  (Date) the corrected date
	 */
	_daylightSavingAdjust: function(date) {
		if (!date) {
			return null;
		}
		date.setHours(date.getHours() > 12 ? date.getHours() + 2 : 0);
		return date;
	},

	/* Set the date(s) directly. */
	_setDate: function(inst, date, noChange) {
		var clear = !date,
			origMonth = inst.selectedMonth,
			origYear = inst.selectedYear,
			newDate = this._restrictMinMax(inst, this._determineDate(inst, date, new Date()));

		inst.selectedDay = inst.currentDay = newDate.getDate();
		inst.drawMonth = inst.selectedMonth = inst.currentMonth = newDate.getMonth();
		inst.drawYear = inst.selectedYear = inst.currentYear = newDate.getFullYear();
		if ((origMonth !== inst.selectedMonth || origYear !== inst.selectedYear) && !noChange) {
			this._notifyChange(inst);
		}
		this._adjustInstDate(inst);
		if (inst.input) {
			inst.input.val(clear ? "" : this._formatDate(inst));
		}
	},

	/* Retrieve the date(s) directly. */
	_getDate: function(inst) {
		var startDate = (!inst.currentYear || (inst.input && inst.input.val() === "") ? null :
			this._daylightSavingAdjust(new Date(
			inst.currentYear, inst.currentMonth, inst.currentDay)));
			return startDate;
	},

	/* Attach the onxxx handlers.  These are declared statically so
	 * they work with static code transformers like Caja.
	 */
	_attachHandlers: function(inst) {
		var stepMonths = this._get(inst, "stepMonths"),
			id = "#" + inst.id.replace( /\\\\/g, "\\" );
		inst.dpDiv.find("[data-handler]").map(function () {
			var handler = {
				prev: function () {
					$.datepicker._adjustDate(id, -stepMonths, "M");
				},
				next: function () {
					$.datepicker._adjustDate(id, +stepMonths, "M");
				},
				hide: function () {
					$.datepicker._hideDatepicker();
				},
				today: function () {
					$.datepicker._gotoToday(id);
				},
				selectDay: function () {
					$.datepicker._selectDay(id, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this);
					return false;
				},
				selectMonth: function () {
					$.datepicker._selectMonthYear(id, this, "M");
					return false;
				},
				selectYear: function () {
					$.datepicker._selectMonthYear(id, this, "Y");
					return false;
				}
			};
			$(this).bind(this.getAttribute("data-event"), handler[this.getAttribute("data-handler")]);
		});
	},

	/* Generate the HTML for the current state of the date picker. */
	_generateHTML: function(inst) {
		var maxDraw, prevText, prev, nextText, next, currentText, gotoDate,
			controls, buttonPanel, firstDay, showWeek, dayNames, dayNamesMin,
			monthNames, monthNamesShort, beforeShowDay, showOtherMonths,
			selectOtherMonths, defaultDate, html, dow, row, group, col, selectedDate,
			cornerClass, calender, thead, day, daysInMonth, leadDays, curRows, numRows,
			printDate, dRow, tbody, daySettings, otherMonth, unselectable,
			tempDate = new Date(),
			today = this._daylightSavingAdjust(
				new Date(tempDate.getFullYear(), tempDate.getMonth(), tempDate.getDate())), // clear time
			isRTL = this._get(inst, "isRTL"),
			showButtonPanel = this._get(inst, "showButtonPanel"),
			hideIfNoPrevNext = this._get(inst, "hideIfNoPrevNext"),
			navigationAsDateFormat = this._get(inst, "navigationAsDateFormat"),
			numMonths = this._getNumberOfMonths(inst),
			showCurrentAtPos = this._get(inst, "showCurrentAtPos"),
			stepMonths = this._get(inst, "stepMonths"),
			isMultiMonth = (numMonths[0] !== 1 || numMonths[1] !== 1),
			currentDate = this._daylightSavingAdjust((!inst.currentDay ? new Date(9999, 9, 9) :
				new Date(inst.currentYear, inst.currentMonth, inst.currentDay))),
			minDate = this._getMinMaxDate(inst, "min"),
			maxDate = this._getMinMaxDate(inst, "max"),
			drawMonth = inst.drawMonth - showCurrentAtPos,
			drawYear = inst.drawYear;

		if (drawMonth < 0) {
			drawMonth += 12;
			drawYear--;
		}
		if (maxDate) {
			maxDraw = this._daylightSavingAdjust(new Date(maxDate.getFullYear(),
				maxDate.getMonth() - (numMonths[0] * numMonths[1]) + 1, maxDate.getDate()));
			maxDraw = (minDate && maxDraw < minDate ? minDate : maxDraw);
			while (this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1)) > maxDraw) {
				drawMonth--;
				if (drawMonth < 0) {
					drawMonth = 11;
					drawYear--;
				}
			}
		}
		inst.drawMonth = drawMonth;
		inst.drawYear = drawYear;

		prevText = this._get(inst, "prevText");
		prevText = (!navigationAsDateFormat ? prevText : this.formatDate(prevText,
			this._daylightSavingAdjust(new Date(drawYear, drawMonth - stepMonths, 1)),
			this._getFormatConfig(inst)));

		prev = (this._canAdjustMonth(inst, -1, drawYear, drawMonth) ?
			"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'" +
			" title='" + prevText + "'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "e" : "w") + "'>" + prevText + "</span></a>" :
			(hideIfNoPrevNext ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+ prevText +"'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "e" : "w") + "'>" + prevText + "</span></a>"));

		nextText = this._get(inst, "nextText");
		nextText = (!navigationAsDateFormat ? nextText : this.formatDate(nextText,
			this._daylightSavingAdjust(new Date(drawYear, drawMonth + stepMonths, 1)),
			this._getFormatConfig(inst)));

		next = (this._canAdjustMonth(inst, +1, drawYear, drawMonth) ?
			"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'" +
			" title='" + nextText + "'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "w" : "e") + "'>" + nextText + "</span></a>" :
			(hideIfNoPrevNext ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+ nextText + "'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "w" : "e") + "'>" + nextText + "</span></a>"));

		currentText = this._get(inst, "currentText");
		gotoDate = (this._get(inst, "gotoCurrent") && inst.currentDay ? currentDate : today);
		currentText = (!navigationAsDateFormat ? currentText :
			this.formatDate(currentText, gotoDate, this._getFormatConfig(inst)));

		controls = (!inst.inline ? "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" +
			this._get(inst, "closeText") + "</button>" : "");

		buttonPanel = (showButtonPanel) ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (isRTL ? controls : "") +
			(this._isInRange(inst, gotoDate) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'" +
			">" + currentText + "</button>" : "") + (isRTL ? "" : controls) + "</div>" : "";

		firstDay = parseInt(this._get(inst, "firstDay"),10);
		firstDay = (isNaN(firstDay) ? 0 : firstDay);

		showWeek = this._get(inst, "showWeek");
		dayNames = this._get(inst, "dayNames");
		dayNamesMin = this._get(inst, "dayNamesMin");
		monthNames = this._get(inst, "monthNames");
		monthNamesShort = this._get(inst, "monthNamesShort");
		beforeShowDay = this._get(inst, "beforeShowDay");
		showOtherMonths = this._get(inst, "showOtherMonths");
		selectOtherMonths = this._get(inst, "selectOtherMonths");
		defaultDate = this._getDefaultDate(inst);
		html = "";
		dow;
		for (row = 0; row < numMonths[0]; row++) {
			group = "";
			this.maxRows = 4;
			for (col = 0; col < numMonths[1]; col++) {
				selectedDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, inst.selectedDay));
				cornerClass = " ui-corner-all";
				calender = "";
				if (isMultiMonth) {
					calender += "<div class='ui-datepicker-group";
					if (numMonths[1] > 1) {
						switch (col) {
							case 0: calender += " ui-datepicker-group-first";
								cornerClass = " ui-corner-" + (isRTL ? "right" : "left"); break;
							case numMonths[1]-1: calender += " ui-datepicker-group-last";
								cornerClass = " ui-corner-" + (isRTL ? "left" : "right"); break;
							default: calender += " ui-datepicker-group-middle"; cornerClass = ""; break;
						}
					}
					calender += "'>";
				}
				calender += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + cornerClass + "'>" +
					(/all|left/.test(cornerClass) && row === 0 ? (isRTL ? next : prev) : "") +
					(/all|right/.test(cornerClass) && row === 0 ? (isRTL ? prev : next) : "") +
					this._generateMonthYearHeader(inst, drawMonth, drawYear, minDate, maxDate,
					row > 0 || col > 0, monthNames, monthNamesShort) + // draw month headers
					"</div><table class='ui-datepicker-calendar'><thead>" +
					"<tr>";
				thead = (showWeek ? "<th class='ui-datepicker-week-col'>" + this._get(inst, "weekHeader") + "</th>" : "");
				for (dow = 0; dow < 7; dow++) { // days of the week
					day = (dow + firstDay) % 7;
					thead += "<th scope='col'" + ((dow + firstDay + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" +
						"<span title='" + dayNames[day] + "'>" + dayNamesMin[day] + "</span></th>";
				}
				calender += thead + "</tr></thead><tbody>";
				daysInMonth = this._getDaysInMonth(drawYear, drawMonth);
				if (drawYear === inst.selectedYear && drawMonth === inst.selectedMonth) {
					inst.selectedDay = Math.min(inst.selectedDay, daysInMonth);
				}
				leadDays = (this._getFirstDayOfMonth(drawYear, drawMonth) - firstDay + 7) % 7;
				curRows = Math.ceil((leadDays + daysInMonth) / 7); // calculate the number of rows to generate
				numRows = (isMultiMonth ? this.maxRows > curRows ? this.maxRows : curRows : curRows); //If multiple months, use the higher number of rows (see #7043)
				this.maxRows = numRows;
				printDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1 - leadDays));
				for (dRow = 0; dRow < numRows; dRow++) { // create date picker rows
					calender += "<tr>";
					tbody = (!showWeek ? "" : "<td class='ui-datepicker-week-col'>" +
						this._get(inst, "calculateWeek")(printDate) + "</td>");
					for (dow = 0; dow < 7; dow++) { // create date picker days
						daySettings = (beforeShowDay ?
							beforeShowDay.apply((inst.input ? inst.input[0] : null), [printDate]) : [true, ""]);
						otherMonth = (printDate.getMonth() !== drawMonth);
						unselectable = (otherMonth && !selectOtherMonths) || !daySettings[0] ||
							(minDate && printDate < minDate) || (maxDate && printDate > maxDate);
						tbody += "<td class='" +
							((dow + firstDay + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + // highlight weekends
							(otherMonth ? " ui-datepicker-other-month" : "") + // highlight days from other months
							((printDate.getTime() === selectedDate.getTime() && drawMonth === inst.selectedMonth && inst._keyEvent) || // user pressed key
							(defaultDate.getTime() === printDate.getTime() && defaultDate.getTime() === selectedDate.getTime()) ?
							// or defaultDate is current printedDate and defaultDate is selectedDate
							" " + this._dayOverClass : "") + // highlight selected day
							(unselectable ? " " + this._unselectableClass + " ui-state-disabled": "") +  // highlight unselectable days
							(otherMonth && !showOtherMonths ? "" : " " + daySettings[1] + // highlight custom dates
							(printDate.getTime() === currentDate.getTime() ? " " + this._currentClass : "") + // highlight selected day
							(printDate.getTime() === today.getTime() ? " ui-datepicker-today" : "")) + "'" + // highlight today (if different)
							((!otherMonth || showOtherMonths) && daySettings[2] ? " title='" + daySettings[2].replace(/'/g, "&#39;") + "'" : "") + // cell title
							(unselectable ? "" : " data-handler='selectDay' data-event='click' data-month='" + printDate.getMonth() + "' data-year='" + printDate.getFullYear() + "'") + ">" + // actions
							(otherMonth && !showOtherMonths ? "&#xa0;" : // display for other months
							(unselectable ? "<span class='ui-state-default'>" + printDate.getDate() + "</span>" : "<a class='ui-state-default" +
							(printDate.getTime() === today.getTime() ? " ui-state-highlight" : "") +
							(printDate.getTime() === currentDate.getTime() ? " ui-state-active" : "") + // highlight selected day
							(otherMonth ? " ui-priority-secondary" : "") + // distinguish dates from other months
							"' href='#'>" + printDate.getDate() + "</a>")) + "</td>"; // display selectable date
						printDate.setDate(printDate.getDate() + 1);
						printDate = this._daylightSavingAdjust(printDate);
					}
					calender += tbody + "</tr>";
				}
				drawMonth++;
				if (drawMonth > 11) {
					drawMonth = 0;
					drawYear++;
				}
				calender += "</tbody></table>" + (isMultiMonth ? "</div>" +
							((numMonths[0] > 0 && col === numMonths[1]-1) ? "<div class='ui-datepicker-row-break'></div>" : "") : "");
				group += calender;
			}
			html += group;
		}
		html += buttonPanel;
		inst._keyEvent = false;
		return html;
	},

	/* Generate the month and year header. */
	_generateMonthYearHeader: function(inst, drawMonth, drawYear, minDate, maxDate,
			secondary, monthNames, monthNamesShort) {

		var inMinYear, inMaxYear, month, years, thisYear, determineYear, year, endYear,
			changeMonth = this._get(inst, "changeMonth"),
			changeYear = this._get(inst, "changeYear"),
			showMonthAfterYear = this._get(inst, "showMonthAfterYear"),
			html = "<div class='ui-datepicker-title'>",
			monthHtml = "";

		// month selection
		if (secondary || !changeMonth) {
			monthHtml += "<span class='ui-datepicker-month'>" + monthNames[drawMonth] + "</span>";
		} else {
			inMinYear = (minDate && minDate.getFullYear() === drawYear);
			inMaxYear = (maxDate && maxDate.getFullYear() === drawYear);
			monthHtml += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";
			for ( month = 0; month < 12; month++) {
				if ((!inMinYear || month >= minDate.getMonth()) && (!inMaxYear || month <= maxDate.getMonth())) {
					monthHtml += "<option value='" + month + "'" +
						(month === drawMonth ? " selected='selected'" : "") +
						">" + monthNamesShort[month] + "</option>";
				}
			}
			monthHtml += "</select>";
		}

		if (!showMonthAfterYear) {
			html += monthHtml + (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "");
		}

		// year selection
		if ( !inst.yearshtml ) {
			inst.yearshtml = "";
			if (secondary || !changeYear) {
				html += "<span class='ui-datepicker-year'>" + drawYear + "</span>";
			} else {
				// determine range of years to display
				years = this._get(inst, "yearRange").split(":");
				thisYear = new Date().getFullYear();
				determineYear = function(value) {
					var year = (value.match(/c[+\-].*/) ? drawYear + parseInt(value.substring(1), 10) :
						(value.match(/[+\-].*/) ? thisYear + parseInt(value, 10) :
						parseInt(value, 10)));
					return (isNaN(year) ? thisYear : year);
				};
				year = determineYear(years[0]);
				endYear = Math.max(year, determineYear(years[1] || ""));
				year = (minDate ? Math.max(year, minDate.getFullYear()) : year);
				endYear = (maxDate ? Math.min(endYear, maxDate.getFullYear()) : endYear);
				inst.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";
				for (; year <= endYear; year++) {
					inst.yearshtml += "<option value='" + year + "'" +
						(year === drawYear ? " selected='selected'" : "") +
						">" + year + "</option>";
				}
				inst.yearshtml += "</select>";

				html += inst.yearshtml;
				inst.yearshtml = null;
			}
		}

		html += this._get(inst, "yearSuffix");
		if (showMonthAfterYear) {
			html += (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "") + monthHtml;
		}
		html += "</div>"; // Close datepicker_header
		return html;
	},

	/* Adjust one of the date sub-fields. */
	_adjustInstDate: function(inst, offset, period) {
		var year = inst.drawYear + (period === "Y" ? offset : 0),
			month = inst.drawMonth + (period === "M" ? offset : 0),
			day = Math.min(inst.selectedDay, this._getDaysInMonth(year, month)) + (period === "D" ? offset : 0),
			date = this._restrictMinMax(inst, this._daylightSavingAdjust(new Date(year, month, day)));

		inst.selectedDay = date.getDate();
		inst.drawMonth = inst.selectedMonth = date.getMonth();
		inst.drawYear = inst.selectedYear = date.getFullYear();
		if (period === "M" || period === "Y") {
			this._notifyChange(inst);
		}
	},

	/* Ensure a date is within any min/max bounds. */
	_restrictMinMax: function(inst, date) {
		var minDate = this._getMinMaxDate(inst, "min"),
			maxDate = this._getMinMaxDate(inst, "max"),
			newDate = (minDate && date < minDate ? minDate : date);
		return (maxDate && newDate > maxDate ? maxDate : newDate);
	},

	/* Notify change of month/year. */
	_notifyChange: function(inst) {
		var onChange = this._get(inst, "onChangeMonthYear");
		if (onChange) {
			onChange.apply((inst.input ? inst.input[0] : null),
				[inst.selectedYear, inst.selectedMonth + 1, inst]);
		}
	},

	/* Determine the number of months to show. */
	_getNumberOfMonths: function(inst) {
		var numMonths = this._get(inst, "numberOfMonths");
		return (numMonths == null ? [1, 1] : (typeof numMonths === "number" ? [1, numMonths] : numMonths));
	},

	/* Determine the current maximum date - ensure no time components are set. */
	_getMinMaxDate: function(inst, minMax) {
		return this._determineDate(inst, this._get(inst, minMax + "Date"), null);
	},

	/* Find the number of days in a given month. */
	_getDaysInMonth: function(year, month) {
		return 32 - this._daylightSavingAdjust(new Date(year, month, 32)).getDate();
	},

	/* Find the day of the week of the first of a month. */
	_getFirstDayOfMonth: function(year, month) {
		return new Date(year, month, 1).getDay();
	},

	/* Determines if we should allow a "next/prev" month display change. */
	_canAdjustMonth: function(inst, offset, curYear, curMonth) {
		var numMonths = this._getNumberOfMonths(inst),
			date = this._daylightSavingAdjust(new Date(curYear,
			curMonth + (offset < 0 ? offset : numMonths[0] * numMonths[1]), 1));

		if (offset < 0) {
			date.setDate(this._getDaysInMonth(date.getFullYear(), date.getMonth()));
		}
		return this._isInRange(inst, date);
	},

	/* Is the given date in the accepted range? */
	_isInRange: function(inst, date) {
		var yearSplit, currentYear,
			minDate = this._getMinMaxDate(inst, "min"),
			maxDate = this._getMinMaxDate(inst, "max"),
			minYear = null,
			maxYear = null,
			years = this._get(inst, "yearRange");
			if (years){
				yearSplit = years.split(":");
				currentYear = new Date().getFullYear();
				minYear = parseInt(yearSplit[0], 10);
				maxYear = parseInt(yearSplit[1], 10);
				if ( yearSplit[0].match(/[+\-].*/) ) {
					minYear += currentYear;
				}
				if ( yearSplit[1].match(/[+\-].*/) ) {
					maxYear += currentYear;
				}
			}

		return ((!minDate || date.getTime() >= minDate.getTime()) &&
			(!maxDate || date.getTime() <= maxDate.getTime()) &&
			(!minYear || date.getFullYear() >= minYear) &&
			(!maxYear || date.getFullYear() <= maxYear));
	},

	/* Provide the configuration settings for formatting/parsing. */
	_getFormatConfig: function(inst) {
		var shortYearCutoff = this._get(inst, "shortYearCutoff");
		shortYearCutoff = (typeof shortYearCutoff !== "string" ? shortYearCutoff :
			new Date().getFullYear() % 100 + parseInt(shortYearCutoff, 10));
		return {shortYearCutoff: shortYearCutoff,
			dayNamesShort: this._get(inst, "dayNamesShort"), dayNames: this._get(inst, "dayNames"),
			monthNamesShort: this._get(inst, "monthNamesShort"), monthNames: this._get(inst, "monthNames")};
	},

	/* Format the given date for display. */
	_formatDate: function(inst, day, month, year) {
		if (!day) {
			inst.currentDay = inst.selectedDay;
			inst.currentMonth = inst.selectedMonth;
			inst.currentYear = inst.selectedYear;
		}
		var date = (day ? (typeof day === "object" ? day :
			this._daylightSavingAdjust(new Date(year, month, day))) :
			this._daylightSavingAdjust(new Date(inst.currentYear, inst.currentMonth, inst.currentDay)));
		return this.formatDate(this._get(inst, "dateFormat"), date, this._getFormatConfig(inst));
	}
});

/*
 * Bind hover events for datepicker elements.
 * Done via delegate so the binding only occurs once in the lifetime of the parent div.
 * Global datepicker_instActive, set by _updateDatepicker allows the handlers to find their way back to the active picker.
 */
function datepicker_bindHover(dpDiv) {
	var selector = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
	return dpDiv.delegate(selector, "mouseout", function() {
			$(this).removeClass("ui-state-hover");
			if (this.className.indexOf("ui-datepicker-prev") !== -1) {
				$(this).removeClass("ui-datepicker-prev-hover");
			}
			if (this.className.indexOf("ui-datepicker-next") !== -1) {
				$(this).removeClass("ui-datepicker-next-hover");
			}
		})
		.delegate( selector, "mouseover", datepicker_handleMouseover );
}

function datepicker_handleMouseover() {
	if (!$.datepicker._isDisabledDatepicker( datepicker_instActive.inline? datepicker_instActive.dpDiv.parent()[0] : datepicker_instActive.input[0])) {
		$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");
		$(this).addClass("ui-state-hover");
		if (this.className.indexOf("ui-datepicker-prev") !== -1) {
			$(this).addClass("ui-datepicker-prev-hover");
		}
		if (this.className.indexOf("ui-datepicker-next") !== -1) {
			$(this).addClass("ui-datepicker-next-hover");
		}
	}
}

/* jQuery extend now ignores nulls! */
function datepicker_extendRemove(target, props) {
	$.extend(target, props);
	for (var name in props) {
		if (props[name] == null) {
			target[name] = props[name];
		}
	}
	return target;
}

/* Invoke the datepicker functionality.
   @param  options  string - a command, optionally followed by additional parameters or
					Object - settings for attaching new datepicker functionality
   @return  jQuery object */
$.fn.datepicker = function(options){

	/* Verify an empty collection wasn't passed - Fixes #6976 */
	if ( !this.length ) {
		return this;
	}

	/* Initialise the date picker. */
	if (!$.datepicker.initialized) {
		$(document).mousedown($.datepicker._checkExternalClick);
		$.datepicker.initialized = true;
	}

	/* Append datepicker main container to body if not exist. */
	if ($("#"+$.datepicker._mainDivId).length === 0) {
		$("body").append($.datepicker.dpDiv);
	}

	var otherArgs = Array.prototype.slice.call(arguments, 1);
	if (typeof options === "string" && (options === "isDisabled" || options === "getDate" || options === "widget")) {
		return $.datepicker["_" + options + "Datepicker"].
			apply($.datepicker, [this[0]].concat(otherArgs));
	}
	if (options === "option" && arguments.length === 2 && typeof arguments[1] === "string") {
		return $.datepicker["_" + options + "Datepicker"].
			apply($.datepicker, [this[0]].concat(otherArgs));
	}
	return this.each(function() {
		typeof options === "string" ?
			$.datepicker["_" + options + "Datepicker"].
				apply($.datepicker, [this].concat(otherArgs)) :
			$.datepicker._attachDatepicker(this, options);
	});
};

$.datepicker = new Datepicker(); // singleton instance
$.datepicker.initialized = false;
$.datepicker.uuid = new Date().getTime();
$.datepicker.version = "1.11.4";

var datepicker = $.datepicker;


/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */


$.widget("ui.draggable", $.ui.mouse, {
	version: "1.11.4",
	widgetEventPrefix: "drag",
	options: {
		addClasses: true,
		appendTo: "parent",
		axis: false,
		connectToSortable: false,
		containment: false,
		cursor: "auto",
		cursorAt: false,
		grid: false,
		handle: false,
		helper: "original",
		iframeFix: false,
		opacity: false,
		refreshPositions: false,
		revert: false,
		revertDuration: 500,
		scope: "default",
		scroll: true,
		scrollSensitivity: 20,
		scrollSpeed: 20,
		snap: false,
		snapMode: "both",
		snapTolerance: 20,
		stack: false,
		zIndex: false,

		// callbacks
		drag: null,
		start: null,
		stop: null
	},
	_create: function() {

		if ( this.options.helper === "original" ) {
			this._setPositionRelative();
		}
		if (this.options.addClasses){
			this.element.addClass("ui-draggable");
		}
		if (this.options.disabled){
			this.element.addClass("ui-draggable-disabled");
		}
		this._setHandleClassName();

		this._mouseInit();
	},

	_setOption: function( key, value ) {
		this._super( key, value );
		if ( key === "handle" ) {
			this._removeHandleClassName();
			this._setHandleClassName();
		}
	},

	_destroy: function() {
		if ( ( this.helper || this.element ).is( ".ui-draggable-dragging" ) ) {
			this.destroyOnClear = true;
			return;
		}
		this.element.removeClass( "ui-draggable ui-draggable-dragging ui-draggable-disabled" );
		this._removeHandleClassName();
		this._mouseDestroy();
	},

	_mouseCapture: function(event) {
		var o = this.options;

		this._blurActiveElement( event );

		// among others, prevent a drag on a resizable-handle
		if (this.helper || o.disabled || $(event.target).closest(".ui-resizable-handle").length > 0) {
			return false;
		}

		//Quit if we're not on a valid handle
		this.handle = this._getHandle(event);
		if (!this.handle) {
			return false;
		}

		this._blockFrames( o.iframeFix === true ? "iframe" : o.iframeFix );

		return true;

	},

	_blockFrames: function( selector ) {
		this.iframeBlocks = this.document.find( selector ).map(function() {
			var iframe = $( this );

			return $( "<div>" )
				.css( "position", "absolute" )
				.appendTo( iframe.parent() )
				.outerWidth( iframe.outerWidth() )
				.outerHeight( iframe.outerHeight() )
				.offset( iframe.offset() )[ 0 ];
		});
	},

	_unblockFrames: function() {
		if ( this.iframeBlocks ) {
			this.iframeBlocks.remove();
			delete this.iframeBlocks;
		}
	},

	_blurActiveElement: function( event ) {
		var document = this.document[ 0 ];

		// Only need to blur if the event occurred on the draggable itself, see #10527
		if ( !this.handleElement.is( event.target ) ) {
			return;
		}

		// support: IE9
		// IE9 throws an "Unspecified error" accessing document.activeElement from an <iframe>
		try {

			// Support: IE9, IE10
			// If the <body> is blurred, IE will switch windows, see #9520
			if ( document.activeElement && document.activeElement.nodeName.toLowerCase() !== "body" ) {

				// Blur any element that currently has focus, see #4261
				$( document.activeElement ).blur();
			}
		} catch ( error ) {}
	},

	_mouseStart: function(event) {

		var o = this.options;

		//Create and append the visible helper
		this.helper = this._createHelper(event);

		this.helper.addClass("ui-draggable-dragging");

		//Cache the helper size
		this._cacheHelperProportions();

		//If ddmanager is used for droppables, set the global draggable
		if ($.ui.ddmanager) {
			$.ui.ddmanager.current = this;
		}

		/*
		 * - Position generation -
		 * This block generates everything position related - it's the core of draggables.
		 */

		//Cache the margins of the original element
		this._cacheMargins();

		//Store the helper's css position
		this.cssPosition = this.helper.css( "position" );
		this.scrollParent = this.helper.scrollParent( true );
		this.offsetParent = this.helper.offsetParent();
		this.hasFixedAncestor = this.helper.parents().filter(function() {
				return $( this ).css( "position" ) === "fixed";
			}).length > 0;

		//The element's absolute position on the page minus margins
		this.positionAbs = this.element.offset();
		this._refreshOffsets( event );

		//Generate the original position
		this.originalPosition = this.position = this._generatePosition( event, false );
		this.originalPageX = event.pageX;
		this.originalPageY = event.pageY;

		//Adjust the mouse offset relative to the helper if "cursorAt" is supplied
		(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));

		//Set a containment if given in the options
		this._setContainment();

		//Trigger event + callbacks
		if (this._trigger("start", event) === false) {
			this._clear();
			return false;
		}

		//Recache the helper size
		this._cacheHelperProportions();

		//Prepare the droppable offsets
		if ($.ui.ddmanager && !o.dropBehaviour) {
			$.ui.ddmanager.prepareOffsets(this, event);
		}

		// Reset helper's right/bottom css if they're set and set explicit width/height instead
		// as this prevents resizing of elements with right/bottom set (see #7772)
		this._normalizeRightBottom();

		this._mouseDrag(event, true); //Execute the drag once - this causes the helper not to be visible before getting its correct position

		//If the ddmanager is used for droppables, inform the manager that dragging has started (see #5003)
		if ( $.ui.ddmanager ) {
			$.ui.ddmanager.dragStart(this, event);
		}

		return true;
	},

	_refreshOffsets: function( event ) {
		this.offset = {
			top: this.positionAbs.top - this.margins.top,
			left: this.positionAbs.left - this.margins.left,
			scroll: false,
			parent: this._getParentOffset(),
			relative: this._getRelativeOffset()
		};

		this.offset.click = {
			left: event.pageX - this.offset.left,
			top: event.pageY - this.offset.top
		};
	},

	_mouseDrag: function(event, noPropagation) {
		// reset any necessary cached properties (see #5009)
		if ( this.hasFixedAncestor ) {
			this.offset.parent = this._getParentOffset();
		}

		//Compute the helpers position
		this.position = this._generatePosition( event, true );
		this.positionAbs = this._convertPositionTo("absolute");

		//Call plugins and callbacks and use the resulting position if something is returned
		if (!noPropagation) {
			var ui = this._uiHash();
			if (this._trigger("drag", event, ui) === false) {
				this._mouseUp({});
				return false;
			}
			this.position = ui.position;
		}

		this.helper[ 0 ].style.left = this.position.left + "px";
		this.helper[ 0 ].style.top = this.position.top + "px";

		if ($.ui.ddmanager) {
			$.ui.ddmanager.drag(this, event);
		}

		return false;
	},

	_mouseStop: function(event) {

		//If we are using droppables, inform the manager about the drop
		var that = this,
			dropped = false;
		if ($.ui.ddmanager && !this.options.dropBehaviour) {
			dropped = $.ui.ddmanager.drop(this, event);
		}

		//if a drop comes from outside (a sortable)
		if (this.dropped) {
			dropped = this.dropped;
			this.dropped = false;
		}

		if ((this.options.revert === "invalid" && !dropped) || (this.options.revert === "valid" && dropped) || this.options.revert === true || ($.isFunction(this.options.revert) && this.options.revert.call(this.element, dropped))) {
			$(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
				if (that._trigger("stop", event) !== false) {
					that._clear();
				}
			});
		} else {
			if (this._trigger("stop", event) !== false) {
				this._clear();
			}
		}

		return false;
	},

	_mouseUp: function( event ) {
		this._unblockFrames();

		//If the ddmanager is used for droppables, inform the manager that dragging has stopped (see #5003)
		if ( $.ui.ddmanager ) {
			$.ui.ddmanager.dragStop(this, event);
		}

		// Only need to focus if the event occurred on the draggable itself, see #10527
		if ( this.handleElement.is( event.target ) ) {
			// The interaction is over; whether or not the click resulted in a drag, focus the element
			this.element.focus();
		}

		return $.ui.mouse.prototype._mouseUp.call(this, event);
	},

	cancel: function() {

		if (this.helper.is(".ui-draggable-dragging")) {
			this._mouseUp({});
		} else {
			this._clear();
		}

		return this;

	},

	_getHandle: function(event) {
		return this.options.handle ?
			!!$( event.target ).closest( this.element.find( this.options.handle ) ).length :
			true;
	},

	_setHandleClassName: function() {
		this.handleElement = this.options.handle ?
			this.element.find( this.options.handle ) : this.element;
		this.handleElement.addClass( "ui-draggable-handle" );
	},

	_removeHandleClassName: function() {
		this.handleElement.removeClass( "ui-draggable-handle" );
	},

	_createHelper: function(event) {

		var o = this.options,
			helperIsFunction = $.isFunction( o.helper ),
			helper = helperIsFunction ?
				$( o.helper.apply( this.element[ 0 ], [ event ] ) ) :
				( o.helper === "clone" ?
					this.element.clone().removeAttr( "id" ) :
					this.element );

		if (!helper.parents("body").length) {
			helper.appendTo((o.appendTo === "parent" ? this.element[0].parentNode : o.appendTo));
		}

		// http://bugs.jqueryui.com/ticket/9446
		// a helper function can return the original element
		// which wouldn't have been set to relative in _create
		if ( helperIsFunction && helper[ 0 ] === this.element[ 0 ] ) {
			this._setPositionRelative();
		}

		if (helper[0] !== this.element[0] && !(/(fixed|absolute)/).test(helper.css("position"))) {
			helper.css("position", "absolute");
		}

		return helper;

	},

	_setPositionRelative: function() {
		if ( !( /^(?:r|a|f)/ ).test( this.element.css( "position" ) ) ) {
			this.element[ 0 ].style.position = "relative";
		}
	},

	_adjustOffsetFromHelper: function(obj) {
		if (typeof obj === "string") {
			obj = obj.split(" ");
		}
		if ($.isArray(obj)) {
			obj = { left: +obj[0], top: +obj[1] || 0 };
		}
		if ("left" in obj) {
			this.offset.click.left = obj.left + this.margins.left;
		}
		if ("right" in obj) {
			this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
		}
		if ("top" in obj) {
			this.offset.click.top = obj.top + this.margins.top;
		}
		if ("bottom" in obj) {
			this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
		}
	},

	_isRootNode: function( element ) {
		return ( /(html|body)/i ).test( element.tagName ) || element === this.document[ 0 ];
	},

	_getParentOffset: function() {

		//Get the offsetParent and cache its position
		var po = this.offsetParent.offset(),
			document = this.document[ 0 ];

		// This is a special case where we need to modify a offset calculated on start, since the following happened:
		// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent
		// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that
		//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag
		if (this.cssPosition === "absolute" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {
			po.left += this.scrollParent.scrollLeft();
			po.top += this.scrollParent.scrollTop();
		}

		if ( this._isRootNode( this.offsetParent[ 0 ] ) ) {
			po = { top: 0, left: 0 };
		}

		return {
			top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
			left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
		};

	},

	_getRelativeOffset: function() {
		if ( this.cssPosition !== "relative" ) {
			return { top: 0, left: 0 };
		}

		var p = this.element.position(),
			scrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );

		return {
			top: p.top - ( parseInt(this.helper.css( "top" ), 10) || 0 ) + ( !scrollIsRootNode ? this.scrollParent.scrollTop() : 0 ),
			left: p.left - ( parseInt(this.helper.css( "left" ), 10) || 0 ) + ( !scrollIsRootNode ? this.scrollParent.scrollLeft() : 0 )
		};

	},

	_cacheMargins: function() {
		this.margins = {
			left: (parseInt(this.element.css("marginLeft"), 10) || 0),
			top: (parseInt(this.element.css("marginTop"), 10) || 0),
			right: (parseInt(this.element.css("marginRight"), 10) || 0),
			bottom: (parseInt(this.element.css("marginBottom"), 10) || 0)
		};
	},

	_cacheHelperProportions: function() {
		this.helperProportions = {
			width: this.helper.outerWidth(),
			height: this.helper.outerHeight()
		};
	},

	_setContainment: function() {

		var isUserScrollable, c, ce,
			o = this.options,
			document = this.document[ 0 ];

		this.relativeContainer = null;

		if ( !o.containment ) {
			this.containment = null;
			return;
		}

		if ( o.containment === "window" ) {
			this.containment = [
				$( window ).scrollLeft() - this.offset.relative.left - this.offset.parent.left,
				$( window ).scrollTop() - this.offset.relative.top - this.offset.parent.top,
				$( window ).scrollLeft() + $( window ).width() - this.helperProportions.width - this.margins.left,
				$( window ).scrollTop() + ( $( window ).height() || document.body.parentNode.scrollHeight ) - this.helperProportions.height - this.margins.top
			];
			return;
		}

		if ( o.containment === "document") {
			this.containment = [
				0,
				0,
				$( document ).width() - this.helperProportions.width - this.margins.left,
				( $( document ).height() || document.body.parentNode.scrollHeight ) - this.helperProportions.height - this.margins.top
			];
			return;
		}

		if ( o.containment.constructor === Array ) {
			this.containment = o.containment;
			return;
		}

		if ( o.containment === "parent" ) {
			o.containment = this.helper[ 0 ].parentNode;
		}

		c = $( o.containment );
		ce = c[ 0 ];

		if ( !ce ) {
			return;
		}

		isUserScrollable = /(scroll|auto)/.test( c.css( "overflow" ) );

		this.containment = [
			( parseInt( c.css( "borderLeftWidth" ), 10 ) || 0 ) + ( parseInt( c.css( "paddingLeft" ), 10 ) || 0 ),
			( parseInt( c.css( "borderTopWidth" ), 10 ) || 0 ) + ( parseInt( c.css( "paddingTop" ), 10 ) || 0 ),
			( isUserScrollable ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -
				( parseInt( c.css( "borderRightWidth" ), 10 ) || 0 ) -
				( parseInt( c.css( "paddingRight" ), 10 ) || 0 ) -
				this.helperProportions.width -
				this.margins.left -
				this.margins.right,
			( isUserScrollable ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -
				( parseInt( c.css( "borderBottomWidth" ), 10 ) || 0 ) -
				( parseInt( c.css( "paddingBottom" ), 10 ) || 0 ) -
				this.helperProportions.height -
				this.margins.top -
				this.margins.bottom
		];
		this.relativeContainer = c;
	},

	_convertPositionTo: function(d, pos) {

		if (!pos) {
			pos = this.position;
		}

		var mod = d === "absolute" ? 1 : -1,
			scrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );

		return {
			top: (
				pos.top	+																// The absolute mouse position
				this.offset.relative.top * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.top * mod -										// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.offset.scroll.top : ( scrollIsRootNode ? 0 : this.offset.scroll.top ) ) * mod)
			),
			left: (
				pos.left +																// The absolute mouse position
				this.offset.relative.left * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.left * mod	-										// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.offset.scroll.left : ( scrollIsRootNode ? 0 : this.offset.scroll.left ) ) * mod)
			)
		};

	},

	_generatePosition: function( event, constrainPosition ) {

		var containment, co, top, left,
			o = this.options,
			scrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] ),
			pageX = event.pageX,
			pageY = event.pageY;

		// Cache the scroll
		if ( !scrollIsRootNode || !this.offset.scroll ) {
			this.offset.scroll = {
				top: this.scrollParent.scrollTop(),
				left: this.scrollParent.scrollLeft()
			};
		}

		/*
		 * - Position constraining -
		 * Constrain the position to a mix of grid, containment.
		 */

		// If we are not dragging yet, we won't check for options
		if ( constrainPosition ) {
			if ( this.containment ) {
				if ( this.relativeContainer ){
					co = this.relativeContainer.offset();
					containment = [
						this.containment[ 0 ] + co.left,
						this.containment[ 1 ] + co.top,
						this.containment[ 2 ] + co.left,
						this.containment[ 3 ] + co.top
					];
				} else {
					containment = this.containment;
				}

				if (event.pageX - this.offset.click.left < containment[0]) {
					pageX = containment[0] + this.offset.click.left;
				}
				if (event.pageY - this.offset.click.top < containment[1]) {
					pageY = containment[1] + this.offset.click.top;
				}
				if (event.pageX - this.offset.click.left > containment[2]) {
					pageX = containment[2] + this.offset.click.left;
				}
				if (event.pageY - this.offset.click.top > containment[3]) {
					pageY = containment[3] + this.offset.click.top;
				}
			}

			if (o.grid) {
				//Check for grid elements set to 0 to prevent divide by 0 error causing invalid argument errors in IE (see ticket #6950)
				top = o.grid[1] ? this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY;
				pageY = containment ? ((top - this.offset.click.top >= containment[1] || top - this.offset.click.top > containment[3]) ? top : ((top - this.offset.click.top >= containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;

				left = o.grid[0] ? this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX;
				pageX = containment ? ((left - this.offset.click.left >= containment[0] || left - this.offset.click.left > containment[2]) ? left : ((left - this.offset.click.left >= containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
			}

			if ( o.axis === "y" ) {
				pageX = this.originalPageX;
			}

			if ( o.axis === "x" ) {
				pageY = this.originalPageY;
			}
		}

		return {
			top: (
				pageY -																	// The absolute mouse position
				this.offset.click.top	-												// Click offset (relative to the element)
				this.offset.relative.top -												// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.top +												// The offsetParent's offset without borders (offset + border)
				( this.cssPosition === "fixed" ? -this.offset.scroll.top : ( scrollIsRootNode ? 0 : this.offset.scroll.top ) )
			),
			left: (
				pageX -																	// The absolute mouse position
				this.offset.click.left -												// Click offset (relative to the element)
				this.offset.relative.left -												// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.left +												// The offsetParent's offset without borders (offset + border)
				( this.cssPosition === "fixed" ? -this.offset.scroll.left : ( scrollIsRootNode ? 0 : this.offset.scroll.left ) )
			)
		};

	},

	_clear: function() {
		this.helper.removeClass("ui-draggable-dragging");
		if (this.helper[0] !== this.element[0] && !this.cancelHelperRemoval) {
			this.helper.remove();
		}
		this.helper = null;
		this.cancelHelperRemoval = false;
		if ( this.destroyOnClear ) {
			this.destroy();
		}
	},

	_normalizeRightBottom: function() {
		if ( this.options.axis !== "y" && this.helper.css( "right" ) !== "auto" ) {
			this.helper.width( this.helper.width() );
			this.helper.css( "right", "auto" );
		}
		if ( this.options.axis !== "x" && this.helper.css( "bottom" ) !== "auto" ) {
			this.helper.height( this.helper.height() );
			this.helper.css( "bottom", "auto" );
		}
	},

	// From now on bulk stuff - mainly helpers

	_trigger: function( type, event, ui ) {
		ui = ui || this._uiHash();
		$.ui.plugin.call( this, type, [ event, ui, this ], true );

		// Absolute position and offset (see #6884 ) have to be recalculated after plugins
		if ( /^(drag|start|stop)/.test( type ) ) {
			this.positionAbs = this._convertPositionTo( "absolute" );
			ui.offset = this.positionAbs;
		}
		return $.Widget.prototype._trigger.call( this, type, event, ui );
	},

	plugins: {},

	_uiHash: function() {
		return {
			helper: this.helper,
			position: this.position,
			originalPosition: this.originalPosition,
			offset: this.positionAbs
		};
	}

});

$.ui.plugin.add( "draggable", "connectToSortable", {
	start: function( event, ui, draggable ) {
		var uiSortable = $.extend( {}, ui, {
			item: draggable.element
		});

		draggable.sortables = [];
		$( draggable.options.connectToSortable ).each(function() {
			var sortable = $( this ).sortable( "instance" );

			if ( sortable && !sortable.options.disabled ) {
				draggable.sortables.push( sortable );

				// refreshPositions is called at drag start to refresh the containerCache
				// which is used in drag. This ensures it's initialized and synchronized
				// with any changes that might have happened on the page since initialization.
				sortable.refreshPositions();
				sortable._trigger("activate", event, uiSortable);
			}
		});
	},
	stop: function( event, ui, draggable ) {
		var uiSortable = $.extend( {}, ui, {
			item: draggable.element
		});

		draggable.cancelHelperRemoval = false;

		$.each( draggable.sortables, function() {
			var sortable = this;

			if ( sortable.isOver ) {
				sortable.isOver = 0;

				// Allow this sortable to handle removing the helper
				draggable.cancelHelperRemoval = true;
				sortable.cancelHelperRemoval = false;

				// Use _storedCSS To restore properties in the sortable,
				// as this also handles revert (#9675) since the draggable
				// may have modified them in unexpected ways (#8809)
				sortable._storedCSS = {
					position: sortable.placeholder.css( "position" ),
					top: sortable.placeholder.css( "top" ),
					left: sortable.placeholder.css( "left" )
				};

				sortable._mouseStop(event);

				// Once drag has ended, the sortable should return to using
				// its original helper, not the shared helper from draggable
				sortable.options.helper = sortable.options._helper;
			} else {
				// Prevent this Sortable from removing the helper.
				// However, don't set the draggable to remove the helper
				// either as another connected Sortable may yet handle the removal.
				sortable.cancelHelperRemoval = true;

				sortable._trigger( "deactivate", event, uiSortable );
			}
		});
	},
	drag: function( event, ui, draggable ) {
		$.each( draggable.sortables, function() {
			var innermostIntersecting = false,
				sortable = this;

			// Copy over variables that sortable's _intersectsWith uses
			sortable.positionAbs = draggable.positionAbs;
			sortable.helperProportions = draggable.helperProportions;
			sortable.offset.click = draggable.offset.click;

			if ( sortable._intersectsWith( sortable.containerCache ) ) {
				innermostIntersecting = true;

				$.each( draggable.sortables, function() {
					// Copy over variables that sortable's _intersectsWith uses
					this.positionAbs = draggable.positionAbs;
					this.helperProportions = draggable.helperProportions;
					this.offset.click = draggable.offset.click;

					if ( this !== sortable &&
							this._intersectsWith( this.containerCache ) &&
							$.contains( sortable.element[ 0 ], this.element[ 0 ] ) ) {
						innermostIntersecting = false;
					}

					return innermostIntersecting;
				});
			}

			if ( innermostIntersecting ) {
				// If it intersects, we use a little isOver variable and set it once,
				// so that the move-in stuff gets fired only once.
				if ( !sortable.isOver ) {
					sortable.isOver = 1;

					// Store draggable's parent in case we need to reappend to it later.
					draggable._parent = ui.helper.parent();

					sortable.currentItem = ui.helper
						.appendTo( sortable.element )
						.data( "ui-sortable-item", true );

					// Store helper option to later restore it
					sortable.options._helper = sortable.options.helper;

					sortable.options.helper = function() {
						return ui.helper[ 0 ];
					};

					// Fire the start events of the sortable with our passed browser event,
					// and our own helper (so it doesn't create a new one)
					event.target = sortable.currentItem[ 0 ];
					sortable._mouseCapture( event, true );
					sortable._mouseStart( event, true, true );

					// Because the browser event is way off the new appended portlet,
					// modify necessary variables to reflect the changes
					sortable.offset.click.top = draggable.offset.click.top;
					sortable.offset.click.left = draggable.offset.click.left;
					sortable.offset.parent.left -= draggable.offset.parent.left -
						sortable.offset.parent.left;
					sortable.offset.parent.top -= draggable.offset.parent.top -
						sortable.offset.parent.top;

					draggable._trigger( "toSortable", event );

					// Inform draggable that the helper is in a valid drop zone,
					// used solely in the revert option to handle "valid/invalid".
					draggable.dropped = sortable.element;

					// Need to refreshPositions of all sortables in the case that
					// adding to one sortable changes the location of the other sortables (#9675)
					$.each( draggable.sortables, function() {
						this.refreshPositions();
					});

					// hack so receive/update callbacks work (mostly)
					draggable.currentItem = draggable.element;
					sortable.fromOutside = draggable;
				}

				if ( sortable.currentItem ) {
					sortable._mouseDrag( event );
					// Copy the sortable's position because the draggable's can potentially reflect
					// a relative position, while sortable is always absolute, which the dragged
					// element has now become. (#8809)
					ui.position = sortable.position;
				}
			} else {
				// If it doesn't intersect with the sortable, and it intersected before,
				// we fake the drag stop of the sortable, but make sure it doesn't remove
				// the helper by using cancelHelperRemoval.
				if ( sortable.isOver ) {

					sortable.isOver = 0;
					sortable.cancelHelperRemoval = true;

					// Calling sortable's mouseStop would trigger a revert,
					// so revert must be temporarily false until after mouseStop is called.
					sortable.options._revert = sortable.options.revert;
					sortable.options.revert = false;

					sortable._trigger( "out", event, sortable._uiHash( sortable ) );
					sortable._mouseStop( event, true );

					// restore sortable behaviors that were modfied
					// when the draggable entered the sortable area (#9481)
					sortable.options.revert = sortable.options._revert;
					sortable.options.helper = sortable.options._helper;

					if ( sortable.placeholder ) {
						sortable.placeholder.remove();
					}

					// Restore and recalculate the draggable's offset considering the sortable
					// may have modified them in unexpected ways. (#8809, #10669)
					ui.helper.appendTo( draggable._parent );
					draggable._refreshOffsets( event );
					ui.position = draggable._generatePosition( event, true );

					draggable._trigger( "fromSortable", event );

					// Inform draggable that the helper is no longer in a valid drop zone
					draggable.dropped = false;

					// Need to refreshPositions of all sortables just in case removing
					// from one sortable changes the location of other sortables (#9675)
					$.each( draggable.sortables, function() {
						this.refreshPositions();
					});
				}
			}
		});
	}
});

$.ui.plugin.add("draggable", "cursor", {
	start: function( event, ui, instance ) {
		var t = $( "body" ),
			o = instance.options;

		if (t.css("cursor")) {
			o._cursor = t.css("cursor");
		}
		t.css("cursor", o.cursor);
	},
	stop: function( event, ui, instance ) {
		var o = instance.options;
		if (o._cursor) {
			$("body").css("cursor", o._cursor);
		}
	}
});

$.ui.plugin.add("draggable", "opacity", {
	start: function( event, ui, instance ) {
		var t = $( ui.helper ),
			o = instance.options;
		if (t.css("opacity")) {
			o._opacity = t.css("opacity");
		}
		t.css("opacity", o.opacity);
	},
	stop: function( event, ui, instance ) {
		var o = instance.options;
		if (o._opacity) {
			$(ui.helper).css("opacity", o._opacity);
		}
	}
});

$.ui.plugin.add("draggable", "scroll", {
	start: function( event, ui, i ) {
		if ( !i.scrollParentNotHidden ) {
			i.scrollParentNotHidden = i.helper.scrollParent( false );
		}

		if ( i.scrollParentNotHidden[ 0 ] !== i.document[ 0 ] && i.scrollParentNotHidden[ 0 ].tagName !== "HTML" ) {
			i.overflowOffset = i.scrollParentNotHidden.offset();
		}
	},
	drag: function( event, ui, i  ) {

		var o = i.options,
			scrolled = false,
			scrollParent = i.scrollParentNotHidden[ 0 ],
			document = i.document[ 0 ];

		if ( scrollParent !== document && scrollParent.tagName !== "HTML" ) {
			if ( !o.axis || o.axis !== "x" ) {
				if ( ( i.overflowOffset.top + scrollParent.offsetHeight ) - event.pageY < o.scrollSensitivity ) {
					scrollParent.scrollTop = scrolled = scrollParent.scrollTop + o.scrollSpeed;
				} else if ( event.pageY - i.overflowOffset.top < o.scrollSensitivity ) {
					scrollParent.scrollTop = scrolled = scrollParent.scrollTop - o.scrollSpeed;
				}
			}

			if ( !o.axis || o.axis !== "y" ) {
				if ( ( i.overflowOffset.left + scrollParent.offsetWidth ) - event.pageX < o.scrollSensitivity ) {
					scrollParent.scrollLeft = scrolled = scrollParent.scrollLeft + o.scrollSpeed;
				} else if ( event.pageX - i.overflowOffset.left < o.scrollSensitivity ) {
					scrollParent.scrollLeft = scrolled = scrollParent.scrollLeft - o.scrollSpeed;
				}
			}

		} else {

			if (!o.axis || o.axis !== "x") {
				if (event.pageY - $(document).scrollTop() < o.scrollSensitivity) {
					scrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);
				} else if ($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {
					scrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);
				}
			}

			if (!o.axis || o.axis !== "y") {
				if (event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {
					scrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);
				} else if ($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {
					scrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);
				}
			}

		}

		if (scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
			$.ui.ddmanager.prepareOffsets(i, event);
		}

	}
});

$.ui.plugin.add("draggable", "snap", {
	start: function( event, ui, i ) {

		var o = i.options;

		i.snapElements = [];

		$(o.snap.constructor !== String ? ( o.snap.items || ":data(ui-draggable)" ) : o.snap).each(function() {
			var $t = $(this),
				$o = $t.offset();
			if (this !== i.element[0]) {
				i.snapElements.push({
					item: this,
					width: $t.outerWidth(), height: $t.outerHeight(),
					top: $o.top, left: $o.left
				});
			}
		});

	},
	drag: function( event, ui, inst ) {

		var ts, bs, ls, rs, l, r, t, b, i, first,
			o = inst.options,
			d = o.snapTolerance,
			x1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,
			y1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;

		for (i = inst.snapElements.length - 1; i >= 0; i--){

			l = inst.snapElements[i].left - inst.margins.left;
			r = l + inst.snapElements[i].width;
			t = inst.snapElements[i].top - inst.margins.top;
			b = t + inst.snapElements[i].height;

			if ( x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d || !$.contains( inst.snapElements[ i ].item.ownerDocument, inst.snapElements[ i ].item ) ) {
				if (inst.snapElements[i].snapping) {
					(inst.options.snap.release && inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));
				}
				inst.snapElements[i].snapping = false;
				continue;
			}

			if (o.snapMode !== "inner") {
				ts = Math.abs(t - y2) <= d;
				bs = Math.abs(b - y1) <= d;
				ls = Math.abs(l - x2) <= d;
				rs = Math.abs(r - x1) <= d;
				if (ts) {
					ui.position.top = inst._convertPositionTo("relative", { top: t - inst.helperProportions.height, left: 0 }).top;
				}
				if (bs) {
					ui.position.top = inst._convertPositionTo("relative", { top: b, left: 0 }).top;
				}
				if (ls) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: l - inst.helperProportions.width }).left;
				}
				if (rs) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: r }).left;
				}
			}

			first = (ts || bs || ls || rs);

			if (o.snapMode !== "outer") {
				ts = Math.abs(t - y1) <= d;
				bs = Math.abs(b - y2) <= d;
				ls = Math.abs(l - x1) <= d;
				rs = Math.abs(r - x2) <= d;
				if (ts) {
					ui.position.top = inst._convertPositionTo("relative", { top: t, left: 0 }).top;
				}
				if (bs) {
					ui.position.top = inst._convertPositionTo("relative", { top: b - inst.helperProportions.height, left: 0 }).top;
				}
				if (ls) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: l }).left;
				}
				if (rs) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: r - inst.helperProportions.width }).left;
				}
			}

			if (!inst.snapElements[i].snapping && (ts || bs || ls || rs || first)) {
				(inst.options.snap.snap && inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));
			}
			inst.snapElements[i].snapping = (ts || bs || ls || rs || first);

		}

	}
});

$.ui.plugin.add("draggable", "stack", {
	start: function( event, ui, instance ) {
		var min,
			o = instance.options,
			group = $.makeArray($(o.stack)).sort(function(a, b) {
				return (parseInt($(a).css("zIndex"), 10) || 0) - (parseInt($(b).css("zIndex"), 10) || 0);
			});

		if (!group.length) { return; }

		min = parseInt($(group[0]).css("zIndex"), 10) || 0;
		$(group).each(function(i) {
			$(this).css("zIndex", min + i);
		});
		this.css("zIndex", (min + group.length));
	}
});

$.ui.plugin.add("draggable", "zIndex", {
	start: function( event, ui, instance ) {
		var t = $( ui.helper ),
			o = instance.options;

		if (t.css("zIndex")) {
			o._zIndex = t.css("zIndex");
		}
		t.css("zIndex", o.zIndex);
	},
	stop: function( event, ui, instance ) {
		var o = instance.options;

		if (o._zIndex) {
			$(ui.helper).css("zIndex", o._zIndex);
		}
	}
});

var draggable = $.ui.draggable;


/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */


$.widget("ui.resizable", $.ui.mouse, {
	version: "1.11.4",
	widgetEventPrefix: "resize",
	options: {
		alsoResize: false,
		animate: false,
		animateDuration: "slow",
		animateEasing: "swing",
		aspectRatio: false,
		autoHide: false,
		containment: false,
		ghost: false,
		grid: false,
		handles: "e,s,se",
		helper: false,
		maxHeight: null,
		maxWidth: null,
		minHeight: 10,
		minWidth: 10,
		// See #7960
		zIndex: 90,

		// callbacks
		resize: null,
		start: null,
		stop: null
	},

	_num: function( value ) {
		return parseInt( value, 10 ) || 0;
	},

	_isNumber: function( value ) {
		return !isNaN( parseInt( value, 10 ) );
	},

	_hasScroll: function( el, a ) {

		if ( $( el ).css( "overflow" ) === "hidden") {
			return false;
		}

		var scroll = ( a && a === "left" ) ? "scrollLeft" : "scrollTop",
			has = false;

		if ( el[ scroll ] > 0 ) {
			return true;
		}

		// TODO: determine which cases actually cause this to happen
		// if the element doesn't have the scroll set, see if it's possible to
		// set the scroll
		el[ scroll ] = 1;
		has = ( el[ scroll ] > 0 );
		el[ scroll ] = 0;
		return has;
	},

	_create: function() {

		var n, i, handle, axis, hname,
			that = this,
			o = this.options;
		this.element.addClass("ui-resizable");

		$.extend(this, {
			_aspectRatio: !!(o.aspectRatio),
			aspectRatio: o.aspectRatio,
			originalElement: this.element,
			_proportionallyResizeElements: [],
			_helper: o.helper || o.ghost || o.animate ? o.helper || "ui-resizable-helper" : null
		});

		// Wrap the element if it cannot hold child nodes
		if (this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)) {

			this.element.wrap(
				$("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
					position: this.element.css("position"),
					width: this.element.outerWidth(),
					height: this.element.outerHeight(),
					top: this.element.css("top"),
					left: this.element.css("left")
				})
			);

			this.element = this.element.parent().data(
				"ui-resizable", this.element.resizable( "instance" )
			);

			this.elementIsWrapper = true;

			this.element.css({
				marginLeft: this.originalElement.css("marginLeft"),
				marginTop: this.originalElement.css("marginTop"),
				marginRight: this.originalElement.css("marginRight"),
				marginBottom: this.originalElement.css("marginBottom")
			});
			this.originalElement.css({
				marginLeft: 0,
				marginTop: 0,
				marginRight: 0,
				marginBottom: 0
			});
			// support: Safari
			// Prevent Safari textarea resize
			this.originalResizeStyle = this.originalElement.css("resize");
			this.originalElement.css("resize", "none");

			this._proportionallyResizeElements.push( this.originalElement.css({
				position: "static",
				zoom: 1,
				display: "block"
			}) );

			// support: IE9
			// avoid IE jump (hard set the margin)
			this.originalElement.css({ margin: this.originalElement.css("margin") });

			this._proportionallyResize();
		}

		this.handles = o.handles ||
			( !$(".ui-resizable-handle", this.element).length ?
				"e,s,se" : {
					n: ".ui-resizable-n",
					e: ".ui-resizable-e",
					s: ".ui-resizable-s",
					w: ".ui-resizable-w",
					se: ".ui-resizable-se",
					sw: ".ui-resizable-sw",
					ne: ".ui-resizable-ne",
					nw: ".ui-resizable-nw"
				} );

		this._handles = $();
		if ( this.handles.constructor === String ) {

			if ( this.handles === "all") {
				this.handles = "n,e,s,w,se,sw,ne,nw";
			}

			n = this.handles.split(",");
			this.handles = {};

			for (i = 0; i < n.length; i++) {

				handle = $.trim(n[i]);
				hname = "ui-resizable-" + handle;
				axis = $("<div class='ui-resizable-handle " + hname + "'></div>");

				axis.css({ zIndex: o.zIndex });

				// TODO : What's going on here?
				if ("se" === handle) {
					axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se");
				}

				this.handles[handle] = ".ui-resizable-" + handle;
				this.element.append(axis);
			}

		}

		this._renderAxis = function(target) {

			var i, axis, padPos, padWrapper;

			target = target || this.element;

			for (i in this.handles) {

				if (this.handles[i].constructor === String) {
					this.handles[i] = this.element.children( this.handles[ i ] ).first().show();
				} else if ( this.handles[ i ].jquery || this.handles[ i ].nodeType ) {
					this.handles[ i ] = $( this.handles[ i ] );
					this._on( this.handles[ i ], { "mousedown": that._mouseDown });
				}

				if (this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)) {

					axis = $(this.handles[i], this.element);

					padWrapper = /sw|ne|nw|se|n|s/.test(i) ? axis.outerHeight() : axis.outerWidth();

					padPos = [ "padding",
						/ne|nw|n/.test(i) ? "Top" :
						/se|sw|s/.test(i) ? "Bottom" :
						/^e$/.test(i) ? "Right" : "Left" ].join("");

					target.css(padPos, padWrapper);

					this._proportionallyResize();
				}

				this._handles = this._handles.add( this.handles[ i ] );
			}
		};

		// TODO: make renderAxis a prototype function
		this._renderAxis(this.element);

		this._handles = this._handles.add( this.element.find( ".ui-resizable-handle" ) );
		this._handles.disableSelection();

		this._handles.mouseover(function() {
			if (!that.resizing) {
				if (this.className) {
					axis = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);
				}
				that.axis = axis && axis[1] ? axis[1] : "se";
			}
		});

		if (o.autoHide) {
			this._handles.hide();
			$(this.element)
				.addClass("ui-resizable-autohide")
				.mouseenter(function() {
					if (o.disabled) {
						return;
					}
					$(this).removeClass("ui-resizable-autohide");
					that._handles.show();
				})
				.mouseleave(function() {
					if (o.disabled) {
						return;
					}
					if (!that.resizing) {
						$(this).addClass("ui-resizable-autohide");
						that._handles.hide();
					}
				});
		}

		this._mouseInit();
	},

	_destroy: function() {

		this._mouseDestroy();

		var wrapper,
			_destroy = function(exp) {
				$(exp)
					.removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing")
					.removeData("resizable")
					.removeData("ui-resizable")
					.unbind(".resizable")
					.find(".ui-resizable-handle")
						.remove();
			};

		// TODO: Unwrap at same DOM position
		if (this.elementIsWrapper) {
			_destroy(this.element);
			wrapper = this.element;
			this.originalElement.css({
				position: wrapper.css("position"),
				width: wrapper.outerWidth(),
				height: wrapper.outerHeight(),
				top: wrapper.css("top"),
				left: wrapper.css("left")
			}).insertAfter( wrapper );
			wrapper.remove();
		}

		this.originalElement.css("resize", this.originalResizeStyle);
		_destroy(this.originalElement);

		return this;
	},

	_mouseCapture: function(event) {
		var i, handle,
			capture = false;

		for (i in this.handles) {
			handle = $(this.handles[i])[0];
			if (handle === event.target || $.contains(handle, event.target)) {
				capture = true;
			}
		}

		return !this.options.disabled && capture;
	},

	_mouseStart: function(event) {

		var curleft, curtop, cursor,
			o = this.options,
			el = this.element;

		this.resizing = true;

		this._renderProxy();

		curleft = this._num(this.helper.css("left"));
		curtop = this._num(this.helper.css("top"));

		if (o.containment) {
			curleft += $(o.containment).scrollLeft() || 0;
			curtop += $(o.containment).scrollTop() || 0;
		}

		this.offset = this.helper.offset();
		this.position = { left: curleft, top: curtop };

		this.size = this._helper ? {
				width: this.helper.width(),
				height: this.helper.height()
			} : {
				width: el.width(),
				height: el.height()
			};

		this.originalSize = this._helper ? {
				width: el.outerWidth(),
				height: el.outerHeight()
			} : {
				width: el.width(),
				height: el.height()
			};

		this.sizeDiff = {
			width: el.outerWidth() - el.width(),
			height: el.outerHeight() - el.height()
		};

		this.originalPosition = { left: curleft, top: curtop };
		this.originalMousePosition = { left: event.pageX, top: event.pageY };

		this.aspectRatio = (typeof o.aspectRatio === "number") ?
			o.aspectRatio :
			((this.originalSize.width / this.originalSize.height) || 1);

		cursor = $(".ui-resizable-" + this.axis).css("cursor");
		$("body").css("cursor", cursor === "auto" ? this.axis + "-resize" : cursor);

		el.addClass("ui-resizable-resizing");
		this._propagate("start", event);
		return true;
	},

	_mouseDrag: function(event) {

		var data, props,
			smp = this.originalMousePosition,
			a = this.axis,
			dx = (event.pageX - smp.left) || 0,
			dy = (event.pageY - smp.top) || 0,
			trigger = this._change[a];

		this._updatePrevProperties();

		if (!trigger) {
			return false;
		}

		data = trigger.apply(this, [ event, dx, dy ]);

		this._updateVirtualBoundaries(event.shiftKey);
		if (this._aspectRatio || event.shiftKey) {
			data = this._updateRatio(data, event);
		}

		data = this._respectSize(data, event);

		this._updateCache(data);

		this._propagate("resize", event);

		props = this._applyChanges();

		if ( !this._helper && this._proportionallyResizeElements.length ) {
			this._proportionallyResize();
		}

		if ( !$.isEmptyObject( props ) ) {
			this._updatePrevProperties();
			this._trigger( "resize", event, this.ui() );
			this._applyChanges();
		}

		return false;
	},

	_mouseStop: function(event) {

		this.resizing = false;
		var pr, ista, soffseth, soffsetw, s, left, top,
			o = this.options, that = this;

		if (this._helper) {

			pr = this._proportionallyResizeElements;
			ista = pr.length && (/textarea/i).test(pr[0].nodeName);
			soffseth = ista && this._hasScroll(pr[0], "left") ? 0 : that.sizeDiff.height;
			soffsetw = ista ? 0 : that.sizeDiff.width;

			s = {
				width: (that.helper.width()  - soffsetw),
				height: (that.helper.height() - soffseth)
			};
			left = (parseInt(that.element.css("left"), 10) +
				(that.position.left - that.originalPosition.left)) || null;
			top = (parseInt(that.element.css("top"), 10) +
				(that.position.top - that.originalPosition.top)) || null;

			if (!o.animate) {
				this.element.css($.extend(s, { top: top, left: left }));
			}

			that.helper.height(that.size.height);
			that.helper.width(that.size.width);

			if (this._helper && !o.animate) {
				this._proportionallyResize();
			}
		}

		$("body").css("cursor", "auto");

		this.element.removeClass("ui-resizable-resizing");

		this._propagate("stop", event);

		if (this._helper) {
			this.helper.remove();
		}

		return false;

	},

	_updatePrevProperties: function() {
		this.prevPosition = {
			top: this.position.top,
			left: this.position.left
		};
		this.prevSize = {
			width: this.size.width,
			height: this.size.height
		};
	},

	_applyChanges: function() {
		var props = {};

		if ( this.position.top !== this.prevPosition.top ) {
			props.top = this.position.top + "px";
		}
		if ( this.position.left !== this.prevPosition.left ) {
			props.left = this.position.left + "px";
		}
		if ( this.size.width !== this.prevSize.width ) {
			props.width = this.size.width + "px";
		}
		if ( this.size.height !== this.prevSize.height ) {
			props.height = this.size.height + "px";
		}

		this.helper.css( props );

		return props;
	},

	_updateVirtualBoundaries: function(forceAspectRatio) {
		var pMinWidth, pMaxWidth, pMinHeight, pMaxHeight, b,
			o = this.options;

		b = {
			minWidth: this._isNumber(o.minWidth) ? o.minWidth : 0,
			maxWidth: this._isNumber(o.maxWidth) ? o.maxWidth : Infinity,
			minHeight: this._isNumber(o.minHeight) ? o.minHeight : 0,
			maxHeight: this._isNumber(o.maxHeight) ? o.maxHeight : Infinity
		};

		if (this._aspectRatio || forceAspectRatio) {
			pMinWidth = b.minHeight * this.aspectRatio;
			pMinHeight = b.minWidth / this.aspectRatio;
			pMaxWidth = b.maxHeight * this.aspectRatio;
			pMaxHeight = b.maxWidth / this.aspectRatio;

			if (pMinWidth > b.minWidth) {
				b.minWidth = pMinWidth;
			}
			if (pMinHeight > b.minHeight) {
				b.minHeight = pMinHeight;
			}
			if (pMaxWidth < b.maxWidth) {
				b.maxWidth = pMaxWidth;
			}
			if (pMaxHeight < b.maxHeight) {
				b.maxHeight = pMaxHeight;
			}
		}
		this._vBoundaries = b;
	},

	_updateCache: function(data) {
		this.offset = this.helper.offset();
		if (this._isNumber(data.left)) {
			this.position.left = data.left;
		}
		if (this._isNumber(data.top)) {
			this.position.top = data.top;
		}
		if (this._isNumber(data.height)) {
			this.size.height = data.height;
		}
		if (this._isNumber(data.width)) {
			this.size.width = data.width;
		}
	},

	_updateRatio: function( data ) {

		var cpos = this.position,
			csize = this.size,
			a = this.axis;

		if (this._isNumber(data.height)) {
			data.width = (data.height * this.aspectRatio);
		} else if (this._isNumber(data.width)) {
			data.height = (data.width / this.aspectRatio);
		}

		if (a === "sw") {
			data.left = cpos.left + (csize.width - data.width);
			data.top = null;
		}
		if (a === "nw") {
			data.top = cpos.top + (csize.height - data.height);
			data.left = cpos.left + (csize.width - data.width);
		}

		return data;
	},

	_respectSize: function( data ) {

		var o = this._vBoundaries,
			a = this.axis,
			ismaxw = this._isNumber(data.width) && o.maxWidth && (o.maxWidth < data.width),
			ismaxh = this._isNumber(data.height) && o.maxHeight && (o.maxHeight < data.height),
			isminw = this._isNumber(data.width) && o.minWidth && (o.minWidth > data.width),
			isminh = this._isNumber(data.height) && o.minHeight && (o.minHeight > data.height),
			dw = this.originalPosition.left + this.originalSize.width,
			dh = this.position.top + this.size.height,
			cw = /sw|nw|w/.test(a), ch = /nw|ne|n/.test(a);
		if (isminw) {
			data.width = o.minWidth;
		}
		if (isminh) {
			data.height = o.minHeight;
		}
		if (ismaxw) {
			data.width = o.maxWidth;
		}
		if (ismaxh) {
			data.height = o.maxHeight;
		}

		if (isminw && cw) {
			data.left = dw - o.minWidth;
		}
		if (ismaxw && cw) {
			data.left = dw - o.maxWidth;
		}
		if (isminh && ch) {
			data.top = dh - o.minHeight;
		}
		if (ismaxh && ch) {
			data.top = dh - o.maxHeight;
		}

		// Fixing jump error on top/left - bug #2330
		if (!data.width && !data.height && !data.left && data.top) {
			data.top = null;
		} else if (!data.width && !data.height && !data.top && data.left) {
			data.left = null;
		}

		return data;
	},

	_getPaddingPlusBorderDimensions: function( element ) {
		var i = 0,
			widths = [],
			borders = [
				element.css( "borderTopWidth" ),
				element.css( "borderRightWidth" ),
				element.css( "borderBottomWidth" ),
				element.css( "borderLeftWidth" )
			],
			paddings = [
				element.css( "paddingTop" ),
				element.css( "paddingRight" ),
				element.css( "paddingBottom" ),
				element.css( "paddingLeft" )
			];

		for ( ; i < 4; i++ ) {
			widths[ i ] = ( parseInt( borders[ i ], 10 ) || 0 );
			widths[ i ] += ( parseInt( paddings[ i ], 10 ) || 0 );
		}

		return {
			height: widths[ 0 ] + widths[ 2 ],
			width: widths[ 1 ] + widths[ 3 ]
		};
	},

	_proportionallyResize: function() {

		if (!this._proportionallyResizeElements.length) {
			return;
		}

		var prel,
			i = 0,
			element = this.helper || this.element;

		for ( ; i < this._proportionallyResizeElements.length; i++) {

			prel = this._proportionallyResizeElements[i];

			// TODO: Seems like a bug to cache this.outerDimensions
			// considering that we are in a loop.
			if (!this.outerDimensions) {
				this.outerDimensions = this._getPaddingPlusBorderDimensions( prel );
			}

			prel.css({
				height: (element.height() - this.outerDimensions.height) || 0,
				width: (element.width() - this.outerDimensions.width) || 0
			});

		}

	},

	_renderProxy: function() {

		var el = this.element, o = this.options;
		this.elementOffset = el.offset();

		if (this._helper) {

			this.helper = this.helper || $("<div style='overflow:hidden;'></div>");

			this.helper.addClass(this._helper).css({
				width: this.element.outerWidth() - 1,
				height: this.element.outerHeight() - 1,
				position: "absolute",
				left: this.elementOffset.left + "px",
				top: this.elementOffset.top + "px",
				zIndex: ++o.zIndex //TODO: Don't modify option
			});

			this.helper
				.appendTo("body")
				.disableSelection();

		} else {
			this.helper = this.element;
		}

	},

	_change: {
		e: function(event, dx) {
			return { width: this.originalSize.width + dx };
		},
		w: function(event, dx) {
			var cs = this.originalSize, sp = this.originalPosition;
			return { left: sp.left + dx, width: cs.width - dx };
		},
		n: function(event, dx, dy) {
			var cs = this.originalSize, sp = this.originalPosition;
			return { top: sp.top + dy, height: cs.height - dy };
		},
		s: function(event, dx, dy) {
			return { height: this.originalSize.height + dy };
		},
		se: function(event, dx, dy) {
			return $.extend(this._change.s.apply(this, arguments),
				this._change.e.apply(this, [ event, dx, dy ]));
		},
		sw: function(event, dx, dy) {
			return $.extend(this._change.s.apply(this, arguments),
				this._change.w.apply(this, [ event, dx, dy ]));
		},
		ne: function(event, dx, dy) {
			return $.extend(this._change.n.apply(this, arguments),
				this._change.e.apply(this, [ event, dx, dy ]));
		},
		nw: function(event, dx, dy) {
			return $.extend(this._change.n.apply(this, arguments),
				this._change.w.apply(this, [ event, dx, dy ]));
		}
	},

	_propagate: function(n, event) {
		$.ui.plugin.call(this, n, [ event, this.ui() ]);
		(n !== "resize" && this._trigger(n, event, this.ui()));
	},

	plugins: {},

	ui: function() {
		return {
			originalElement: this.originalElement,
			element: this.element,
			helper: this.helper,
			position: this.position,
			size: this.size,
			originalSize: this.originalSize,
			originalPosition: this.originalPosition
		};
	}

});

/*
 * Resizable Extensions
 */

$.ui.plugin.add("resizable", "animate", {

	stop: function( event ) {
		var that = $(this).resizable( "instance" ),
			o = that.options,
			pr = that._proportionallyResizeElements,
			ista = pr.length && (/textarea/i).test(pr[0].nodeName),
			soffseth = ista && that._hasScroll(pr[0], "left") ? 0 : that.sizeDiff.height,
			soffsetw = ista ? 0 : that.sizeDiff.width,
			style = { width: (that.size.width - soffsetw), height: (that.size.height - soffseth) },
			left = (parseInt(that.element.css("left"), 10) +
				(that.position.left - that.originalPosition.left)) || null,
			top = (parseInt(that.element.css("top"), 10) +
				(that.position.top - that.originalPosition.top)) || null;

		that.element.animate(
			$.extend(style, top && left ? { top: top, left: left } : {}), {
				duration: o.animateDuration,
				easing: o.animateEasing,
				step: function() {

					var data = {
						width: parseInt(that.element.css("width"), 10),
						height: parseInt(that.element.css("height"), 10),
						top: parseInt(that.element.css("top"), 10),
						left: parseInt(that.element.css("left"), 10)
					};

					if (pr && pr.length) {
						$(pr[0]).css({ width: data.width, height: data.height });
					}

					// propagating resize, and updating values for each animation step
					that._updateCache(data);
					that._propagate("resize", event);

				}
			}
		);
	}

});

$.ui.plugin.add( "resizable", "containment", {

	start: function() {
		var element, p, co, ch, cw, width, height,
			that = $( this ).resizable( "instance" ),
			o = that.options,
			el = that.element,
			oc = o.containment,
			ce = ( oc instanceof $ ) ? oc.get( 0 ) : ( /parent/.test( oc ) ) ? el.parent().get( 0 ) : oc;

		if ( !ce ) {
			return;
		}

		that.containerElement = $( ce );

		if ( /document/.test( oc ) || oc === document ) {
			that.containerOffset = {
				left: 0,
				top: 0
			};
			that.containerPosition = {
				left: 0,
				top: 0
			};

			that.parentData = {
				element: $( document ),
				left: 0,
				top: 0,
				width: $( document ).width(),
				height: $( document ).height() || document.body.parentNode.scrollHeight
			};
		} else {
			element = $( ce );
			p = [];
			$([ "Top", "Right", "Left", "Bottom" ]).each(function( i, name ) {
				p[ i ] = that._num( element.css( "padding" + name ) );
			});

			that.containerOffset = element.offset();
			that.containerPosition = element.position();
			that.containerSize = {
				height: ( element.innerHeight() - p[ 3 ] ),
				width: ( element.innerWidth() - p[ 1 ] )
			};

			co = that.containerOffset;
			ch = that.containerSize.height;
			cw = that.containerSize.width;
			width = ( that._hasScroll ( ce, "left" ) ? ce.scrollWidth : cw );
			height = ( that._hasScroll ( ce ) ? ce.scrollHeight : ch ) ;

			that.parentData = {
				element: ce,
				left: co.left,
				top: co.top,
				width: width,
				height: height
			};
		}
	},

	resize: function( event ) {
		var woset, hoset, isParent, isOffsetRelative,
			that = $( this ).resizable( "instance" ),
			o = that.options,
			co = that.containerOffset,
			cp = that.position,
			pRatio = that._aspectRatio || event.shiftKey,
			cop = {
				top: 0,
				left: 0
			},
			ce = that.containerElement,
			continueResize = true;

		if ( ce[ 0 ] !== document && ( /static/ ).test( ce.css( "position" ) ) ) {
			cop = co;
		}

		if ( cp.left < ( that._helper ? co.left : 0 ) ) {
			that.size.width = that.size.width +
				( that._helper ?
					( that.position.left - co.left ) :
					( that.position.left - cop.left ) );

			if ( pRatio ) {
				that.size.height = that.size.width / that.aspectRatio;
				continueResize = false;
			}
			that.position.left = o.helper ? co.left : 0;
		}

		if ( cp.top < ( that._helper ? co.top : 0 ) ) {
			that.size.height = that.size.height +
				( that._helper ?
					( that.position.top - co.top ) :
					that.position.top );

			if ( pRatio ) {
				that.size.width = that.size.height * that.aspectRatio;
				continueResize = false;
			}
			that.position.top = that._helper ? co.top : 0;
		}

		isParent = that.containerElement.get( 0 ) === that.element.parent().get( 0 );
		isOffsetRelative = /relative|absolute/.test( that.containerElement.css( "position" ) );

		if ( isParent && isOffsetRelative ) {
			that.offset.left = that.parentData.left + that.position.left;
			that.offset.top = that.parentData.top + that.position.top;
		} else {
			that.offset.left = that.element.offset().left;
			that.offset.top = that.element.offset().top;
		}

		woset = Math.abs( that.sizeDiff.width +
			(that._helper ?
				that.offset.left - cop.left :
				(that.offset.left - co.left)) );

		hoset = Math.abs( that.sizeDiff.height +
			(that._helper ?
				that.offset.top - cop.top :
				(that.offset.top - co.top)) );

		if ( woset + that.size.width >= that.parentData.width ) {
			that.size.width = that.parentData.width - woset;
			if ( pRatio ) {
				that.size.height = that.size.width / that.aspectRatio;
				continueResize = false;
			}
		}

		if ( hoset + that.size.height >= that.parentData.height ) {
			that.size.height = that.parentData.height - hoset;
			if ( pRatio ) {
				that.size.width = that.size.height * that.aspectRatio;
				continueResize = false;
			}
		}

		if ( !continueResize ) {
			that.position.left = that.prevPosition.left;
			that.position.top = that.prevPosition.top;
			that.size.width = that.prevSize.width;
			that.size.height = that.prevSize.height;
		}
	},

	stop: function() {
		var that = $( this ).resizable( "instance" ),
			o = that.options,
			co = that.containerOffset,
			cop = that.containerPosition,
			ce = that.containerElement,
			helper = $( that.helper ),
			ho = helper.offset(),
			w = helper.outerWidth() - that.sizeDiff.width,
			h = helper.outerHeight() - that.sizeDiff.height;

		if ( that._helper && !o.animate && ( /relative/ ).test( ce.css( "position" ) ) ) {
			$( this ).css({
				left: ho.left - cop.left - co.left,
				width: w,
				height: h
			});
		}

		if ( that._helper && !o.animate && ( /static/ ).test( ce.css( "position" ) ) ) {
			$( this ).css({
				left: ho.left - cop.left - co.left,
				width: w,
				height: h
			});
		}
	}
});

$.ui.plugin.add("resizable", "alsoResize", {

	start: function() {
		var that = $(this).resizable( "instance" ),
			o = that.options;

		$(o.alsoResize).each(function() {
			var el = $(this);
			el.data("ui-resizable-alsoresize", {
				width: parseInt(el.width(), 10), height: parseInt(el.height(), 10),
				left: parseInt(el.css("left"), 10), top: parseInt(el.css("top"), 10)
			});
		});
	},

	resize: function(event, ui) {
		var that = $(this).resizable( "instance" ),
			o = that.options,
			os = that.originalSize,
			op = that.originalPosition,
			delta = {
				height: (that.size.height - os.height) || 0,
				width: (that.size.width - os.width) || 0,
				top: (that.position.top - op.top) || 0,
				left: (that.position.left - op.left) || 0
			};

			$(o.alsoResize).each(function() {
				var el = $(this), start = $(this).data("ui-resizable-alsoresize"), style = {},
					css = el.parents(ui.originalElement[0]).length ?
							[ "width", "height" ] :
							[ "width", "height", "top", "left" ];

				$.each(css, function(i, prop) {
					var sum = (start[prop] || 0) + (delta[prop] || 0);
					if (sum && sum >= 0) {
						style[prop] = sum || null;
					}
				});

				el.css(style);
			});
	},

	stop: function() {
		$(this).removeData("resizable-alsoresize");
	}
});

$.ui.plugin.add("resizable", "ghost", {

	start: function() {

		var that = $(this).resizable( "instance" ), o = that.options, cs = that.size;

		that.ghost = that.originalElement.clone();
		that.ghost
			.css({
				opacity: 0.25,
				display: "block",
				position: "relative",
				height: cs.height,
				width: cs.width,
				margin: 0,
				left: 0,
				top: 0
			})
			.addClass("ui-resizable-ghost")
			.addClass(typeof o.ghost === "string" ? o.ghost : "");

		that.ghost.appendTo(that.helper);

	},

	resize: function() {
		var that = $(this).resizable( "instance" );
		if (that.ghost) {
			that.ghost.css({
				position: "relative",
				height: that.size.height,
				width: that.size.width
			});
		}
	},

	stop: function() {
		var that = $(this).resizable( "instance" );
		if (that.ghost && that.helper) {
			that.helper.get(0).removeChild(that.ghost.get(0));
		}
	}

});

$.ui.plugin.add("resizable", "grid", {

	resize: function() {
		var outerDimensions,
			that = $(this).resizable( "instance" ),
			o = that.options,
			cs = that.size,
			os = that.originalSize,
			op = that.originalPosition,
			a = that.axis,
			grid = typeof o.grid === "number" ? [ o.grid, o.grid ] : o.grid,
			gridX = (grid[0] || 1),
			gridY = (grid[1] || 1),
			ox = Math.round((cs.width - os.width) / gridX) * gridX,
			oy = Math.round((cs.height - os.height) / gridY) * gridY,
			newWidth = os.width + ox,
			newHeight = os.height + oy,
			isMaxWidth = o.maxWidth && (o.maxWidth < newWidth),
			isMaxHeight = o.maxHeight && (o.maxHeight < newHeight),
			isMinWidth = o.minWidth && (o.minWidth > newWidth),
			isMinHeight = o.minHeight && (o.minHeight > newHeight);

		o.grid = grid;

		if (isMinWidth) {
			newWidth += gridX;
		}
		if (isMinHeight) {
			newHeight += gridY;
		}
		if (isMaxWidth) {
			newWidth -= gridX;
		}
		if (isMaxHeight) {
			newHeight -= gridY;
		}

		if (/^(se|s|e)$/.test(a)) {
			that.size.width = newWidth;
			that.size.height = newHeight;
		} else if (/^(ne)$/.test(a)) {
			that.size.width = newWidth;
			that.size.height = newHeight;
			that.position.top = op.top - oy;
		} else if (/^(sw)$/.test(a)) {
			that.size.width = newWidth;
			that.size.height = newHeight;
			that.position.left = op.left - ox;
		} else {
			if ( newHeight - gridY <= 0 || newWidth - gridX <= 0) {
				outerDimensions = that._getPaddingPlusBorderDimensions( this );
			}

			if ( newHeight - gridY > 0 ) {
				that.size.height = newHeight;
				that.position.top = op.top - oy;
			} else {
				newHeight = gridY - outerDimensions.height;
				that.size.height = newHeight;
				that.position.top = op.top + os.height - newHeight;
			}
			if ( newWidth - gridX > 0 ) {
				that.size.width = newWidth;
				that.position.left = op.left - ox;
			} else {
				newWidth = gridX - outerDimensions.width;
				that.size.width = newWidth;
				that.position.left = op.left + os.width - newWidth;
			}
		}
	}

});

var resizable = $.ui.resizable;


/*!
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */


var dialog = $.widget( "ui.dialog", {
	version: "1.11.4",
	options: {
		appendTo: "body",
		autoOpen: true,
		buttons: [],
		closeOnEscape: true,
		closeText: "Close",
		dialogClass: "",
		draggable: true,
		hide: null,
		height: "auto",
		maxHeight: null,
		maxWidth: null,
		minHeight: 150,
		minWidth: 150,
		modal: false,
		position: {
			my: "center",
			at: "center",
			of: window,
			collision: "fit",
			// Ensure the titlebar is always visible
			using: function( pos ) {
				var topOffset = $( this ).css( pos ).offset().top;
				if ( topOffset < 0 ) {
					$( this ).css( "top", pos.top - topOffset );
				}
			}
		},
		resizable: true,
		show: null,
		title: null,
		width: 300,

		// callbacks
		beforeClose: null,
		close: null,
		drag: null,
		dragStart: null,
		dragStop: null,
		focus: null,
		open: null,
		resize: null,
		resizeStart: null,
		resizeStop: null
	},

	sizeRelatedOptions: {
		buttons: true,
		height: true,
		maxHeight: true,
		maxWidth: true,
		minHeight: true,
		minWidth: true,
		width: true
	},

	resizableRelatedOptions: {
		maxHeight: true,
		maxWidth: true,
		minHeight: true,
		minWidth: true
	},

	_create: function() {
		this.originalCss = {
			display: this.element[ 0 ].style.display,
			width: this.element[ 0 ].style.width,
			minHeight: this.element[ 0 ].style.minHeight,
			maxHeight: this.element[ 0 ].style.maxHeight,
			height: this.element[ 0 ].style.height
		};
		this.originalPosition = {
			parent: this.element.parent(),
			index: this.element.parent().children().index( this.element )
		};
		this.originalTitle = this.element.attr( "title" );
		this.options.title = this.options.title || this.originalTitle;

		this._createWrapper();

		this.element
			.show()
			.removeAttr( "title" )
			.addClass( "ui-dialog-content ui-widget-content" )
			.appendTo( this.uiDialog );

		this._createTitlebar();
		this._createButtonPane();

		if ( this.options.draggable && $.fn.draggable ) {
			this._makeDraggable();
		}
		if ( this.options.resizable && $.fn.resizable ) {
			this._makeResizable();
		}

		this._isOpen = false;

		this._trackFocus();
	},

	_init: function() {
		if ( this.options.autoOpen ) {
			this.open();
		}
	},

	_appendTo: function() {
		var element = this.options.appendTo;
		if ( element && (element.jquery || element.nodeType) ) {
			return $( element );
		}
		return this.document.find( element || "body" ).eq( 0 );
	},

	_destroy: function() {
		var next,
			originalPosition = this.originalPosition;

		this._untrackInstance();
		this._destroyOverlay();

		this.element
			.removeUniqueId()
			.removeClass( "ui-dialog-content ui-widget-content" )
			.css( this.originalCss )
			// Without detaching first, the following becomes really slow
			.detach();

		this.uiDialog.stop( true, true ).remove();

		if ( this.originalTitle ) {
			this.element.attr( "title", this.originalTitle );
		}

		next = originalPosition.parent.children().eq( originalPosition.index );
		// Don't try to place the dialog next to itself (#8613)
		if ( next.length && next[ 0 ] !== this.element[ 0 ] ) {
			next.before( this.element );
		} else {
			originalPosition.parent.append( this.element );
		}
	},

	widget: function() {
		return this.uiDialog;
	},

	disable: $.noop,
	enable: $.noop,

	close: function( event ) {
		var activeElement,
			that = this;

		if ( !this._isOpen || this._trigger( "beforeClose", event ) === false ) {
			return;
		}

		this._isOpen = false;
		this._focusedElement = null;
		this._destroyOverlay();
		this._untrackInstance();

		if ( !this.opener.filter( ":focusable" ).focus().length ) {

			// support: IE9
			// IE9 throws an "Unspecified error" accessing document.activeElement from an <iframe>
			try {
				activeElement = this.document[ 0 ].activeElement;

				// Support: IE9, IE10
				// If the <body> is blurred, IE will switch windows, see #4520
				if ( activeElement && activeElement.nodeName.toLowerCase() !== "body" ) {

					// Hiding a focused element doesn't trigger blur in WebKit
					// so in case we have nothing to focus on, explicitly blur the active element
					// https://bugs.webkit.org/show_bug.cgi?id=47182
					$( activeElement ).blur();
				}
			} catch ( error ) {}
		}

		this._hide( this.uiDialog, this.options.hide, function() {
			that._trigger( "close", event );
		});
	},

	isOpen: function() {
		return this._isOpen;
	},

	moveToTop: function() {
		this._moveToTop();
	},

	_moveToTop: function( event, silent ) {
		var moved = false,
			zIndices = this.uiDialog.siblings( ".ui-front:visible" ).map(function() {
				return +$( this ).css( "z-index" );
			}).get(),
			zIndexMax = Math.max.apply( null, zIndices );

		if ( zIndexMax >= +this.uiDialog.css( "z-index" ) ) {
			this.uiDialog.css( "z-index", zIndexMax + 1 );
			moved = true;
		}

		if ( moved && !silent ) {
			this._trigger( "focus", event );
		}
		return moved;
	},

	open: function() {
		var that = this;
		if ( this._isOpen ) {
			if ( this._moveToTop() ) {
				this._focusTabbable();
			}
			return;
		}

		this._isOpen = true;
		this.opener = $( this.document[ 0 ].activeElement );

		this._size();
		this._position();
		this._createOverlay();
		this._moveToTop( null, true );

		// Ensure the overlay is moved to the top with the dialog, but only when
		// opening. The overlay shouldn't move after the dialog is open so that
		// modeless dialogs opened after the modal dialog stack properly.
		if ( this.overlay ) {
			this.overlay.css( "z-index", this.uiDialog.css( "z-index" ) - 1 );
		}

		this._show( this.uiDialog, this.options.show, function() {
			that._focusTabbable();
			that._trigger( "focus" );
		});

		// Track the dialog immediately upon openening in case a focus event
		// somehow occurs outside of the dialog before an element inside the
		// dialog is focused (#10152)
		this._makeFocusTarget();

		this._trigger( "open" );
	},

	_focusTabbable: function() {
		// Set focus to the first match:
		// 1. An element that was focused previously
		// 2. First element inside the dialog matching [autofocus]
		// 3. Tabbable element inside the content element
		// 4. Tabbable element inside the buttonpane
		// 5. The close button
		// 6. The dialog itself
		var hasFocus = this._focusedElement;
		if ( !hasFocus ) {
			hasFocus = this.element.find( "[autofocus]" );
		}
		if ( !hasFocus.length ) {
			hasFocus = this.element.find( ":tabbable" );
		}
		if ( !hasFocus.length ) {
			hasFocus = this.uiDialogButtonPane.find( ":tabbable" );
		}
		if ( !hasFocus.length ) {
			hasFocus = this.uiDialogTitlebarClose.filter( ":tabbable" );
		}
		if ( !hasFocus.length ) {
			hasFocus = this.uiDialog;
		}
		hasFocus.eq( 0 ).focus();
	},

	_keepFocus: function( event ) {
		function checkFocus() {
			var activeElement = this.document[0].activeElement,
				isActive = this.uiDialog[0] === activeElement ||
					$.contains( this.uiDialog[0], activeElement );
			if ( !isActive ) {
				this._focusTabbable();
			}
		}
		event.preventDefault();
		checkFocus.call( this );
		// support: IE
		// IE <= 8 doesn't prevent moving focus even with event.preventDefault()
		// so we check again later
		this._delay( checkFocus );
	},

	_createWrapper: function() {
		this.uiDialog = $("<div>")
			.addClass( "ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " +
				this.options.dialogClass )
			.hide()
			.attr({
				// Setting tabIndex makes the div focusable
				tabIndex: -1,
				role: "dialog"
			})
			.appendTo( this._appendTo() );

		this._on( this.uiDialog, {
			keydown: function( event ) {
				if ( this.options.closeOnEscape && !event.isDefaultPrevented() && event.keyCode &&
						event.keyCode === $.ui.keyCode.ESCAPE ) {
					event.preventDefault();
					this.close( event );
					return;
				}

				// prevent tabbing out of dialogs
				if ( event.keyCode !== $.ui.keyCode.TAB || event.isDefaultPrevented() ) {
					return;
				}
				var tabbables = this.uiDialog.find( ":tabbable" ),
					first = tabbables.filter( ":first" ),
					last = tabbables.filter( ":last" );

				if ( ( event.target === last[0] || event.target === this.uiDialog[0] ) && !event.shiftKey ) {
					this._delay(function() {
						first.focus();
					});
					event.preventDefault();
				} else if ( ( event.target === first[0] || event.target === this.uiDialog[0] ) && event.shiftKey ) {
					this._delay(function() {
						last.focus();
					});
					event.preventDefault();
				}
			},
			mousedown: function( event ) {
				if ( this._moveToTop( event ) ) {
					this._focusTabbable();
				}
			}
		});

		// We assume that any existing aria-describedby attribute means
		// that the dialog content is marked up properly
		// otherwise we brute force the content as the description
		if ( !this.element.find( "[aria-describedby]" ).length ) {
			this.uiDialog.attr({
				"aria-describedby": this.element.uniqueId().attr( "id" )
			});
		}
	},

	_createTitlebar: function() {
		var uiDialogTitle;

		this.uiDialogTitlebar = $( "<div>" )
			.addClass( "ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix" )
			.prependTo( this.uiDialog );
		this._on( this.uiDialogTitlebar, {
			mousedown: function( event ) {
				// Don't prevent click on close button (#8838)
				// Focusing a dialog that is partially scrolled out of view
				// causes the browser to scroll it into view, preventing the click event
				if ( !$( event.target ).closest( ".ui-dialog-titlebar-close" ) ) {
					// Dialog isn't getting focus when dragging (#8063)
					this.uiDialog.focus();
				}
			}
		});

		// support: IE
		// Use type="button" to prevent enter keypresses in textboxes from closing the
		// dialog in IE (#9312)
		this.uiDialogTitlebarClose = $( "<button type='button'></button>" )
			.button({
				label: this.options.closeText,
				icons: {
					primary: "ui-icon-closethick"
				},
				text: false
			})
			.addClass( "ui-dialog-titlebar-close" )
			.appendTo( this.uiDialogTitlebar );
		this._on( this.uiDialogTitlebarClose, {
			click: function( event ) {
				event.preventDefault();
				this.close( event );
			}
		});

		uiDialogTitle = $( "<span>" )
			.uniqueId()
			.addClass( "ui-dialog-title" )
			.prependTo( this.uiDialogTitlebar );
		this._title( uiDialogTitle );

		this.uiDialog.attr({
			"aria-labelledby": uiDialogTitle.attr( "id" )
		});
	},

	_title: function( title ) {
		if ( !this.options.title ) {
			title.html( "&#160;" );
		}
		title.text( this.options.title );
	},

	_createButtonPane: function() {
		this.uiDialogButtonPane = $( "<div>" )
			.addClass( "ui-dialog-buttonpane ui-widget-content ui-helper-clearfix" );

		this.uiButtonSet = $( "<div>" )
			.addClass( "ui-dialog-buttonset" )
			.appendTo( this.uiDialogButtonPane );

		this._createButtons();
	},

	_createButtons: function() {
		var that = this,
			buttons = this.options.buttons;

		// if we already have a button pane, remove it
		this.uiDialogButtonPane.remove();
		this.uiButtonSet.empty();

		if ( $.isEmptyObject( buttons ) || ($.isArray( buttons ) && !buttons.length) ) {
			this.uiDialog.removeClass( "ui-dialog-buttons" );
			return;
		}

		$.each( buttons, function( name, props ) {
			var click, buttonOptions;
			props = $.isFunction( props ) ?
				{ click: props, text: name } :
				props;
			// Default to a non-submitting button
			props = $.extend( { type: "button" }, props );
			// Change the context for the click callback to be the main element
			click = props.click;
			props.click = function() {
				click.apply( that.element[ 0 ], arguments );
			};
			buttonOptions = {
				icons: props.icons,
				text: props.showText
			};
			delete props.icons;
			delete props.showText;
			$( "<button></button>", props )
				.button( buttonOptions )
				.appendTo( that.uiButtonSet );
		});
		this.uiDialog.addClass( "ui-dialog-buttons" );
		this.uiDialogButtonPane.appendTo( this.uiDialog );
	},

	_makeDraggable: function() {
		var that = this,
			options = this.options;

		function filteredUi( ui ) {
			return {
				position: ui.position,
				offset: ui.offset
			};
		}

		this.uiDialog.draggable({
			cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
			handle: ".ui-dialog-titlebar",
			containment: "document",
			start: function( event, ui ) {
				$( this ).addClass( "ui-dialog-dragging" );
				that._blockFrames();
				that._trigger( "dragStart", event, filteredUi( ui ) );
			},
			drag: function( event, ui ) {
				that._trigger( "drag", event, filteredUi( ui ) );
			},
			stop: function( event, ui ) {
				var left = ui.offset.left - that.document.scrollLeft(),
					top = ui.offset.top - that.document.scrollTop();

				options.position = {
					my: "left top",
					at: "left" + (left >= 0 ? "+" : "") + left + " " +
						"top" + (top >= 0 ? "+" : "") + top,
					of: that.window
				};
				$( this ).removeClass( "ui-dialog-dragging" );
				that._unblockFrames();
				that._trigger( "dragStop", event, filteredUi( ui ) );
			}
		});
	},

	_makeResizable: function() {
		var that = this,
			options = this.options,
			handles = options.resizable,
			// .ui-resizable has position: relative defined in the stylesheet
			// but dialogs have to use absolute or fixed positioning
			position = this.uiDialog.css("position"),
			resizeHandles = typeof handles === "string" ?
				handles	:
				"n,e,s,w,se,sw,ne,nw";

		function filteredUi( ui ) {
			return {
				originalPosition: ui.originalPosition,
				originalSize: ui.originalSize,
				position: ui.position,
				size: ui.size
			};
		}

		this.uiDialog.resizable({
			cancel: ".ui-dialog-content",
			containment: "document",
			alsoResize: this.element,
			maxWidth: options.maxWidth,
			maxHeight: options.maxHeight,
			minWidth: options.minWidth,
			minHeight: this._minHeight(),
			handles: resizeHandles,
			start: function( event, ui ) {
				$( this ).addClass( "ui-dialog-resizing" );
				that._blockFrames();
				that._trigger( "resizeStart", event, filteredUi( ui ) );
			},
			resize: function( event, ui ) {
				that._trigger( "resize", event, filteredUi( ui ) );
			},
			stop: function( event, ui ) {
				var offset = that.uiDialog.offset(),
					left = offset.left - that.document.scrollLeft(),
					top = offset.top - that.document.scrollTop();

				options.height = that.uiDialog.height();
				options.width = that.uiDialog.width();
				options.position = {
					my: "left top",
					at: "left" + (left >= 0 ? "+" : "") + left + " " +
						"top" + (top >= 0 ? "+" : "") + top,
					of: that.window
				};
				$( this ).removeClass( "ui-dialog-resizing" );
				that._unblockFrames();
				that._trigger( "resizeStop", event, filteredUi( ui ) );
			}
		})
		.css( "position", position );
	},

	_trackFocus: function() {
		this._on( this.widget(), {
			focusin: function( event ) {
				this._makeFocusTarget();
				this._focusedElement = $( event.target );
			}
		});
	},

	_makeFocusTarget: function() {
		this._untrackInstance();
		this._trackingInstances().unshift( this );
	},

	_untrackInstance: function() {
		var instances = this._trackingInstances(),
			exists = $.inArray( this, instances );
		if ( exists !== -1 ) {
			instances.splice( exists, 1 );
		}
	},

	_trackingInstances: function() {
		var instances = this.document.data( "ui-dialog-instances" );
		if ( !instances ) {
			instances = [];
			this.document.data( "ui-dialog-instances", instances );
		}
		return instances;
	},

	_minHeight: function() {
		var options = this.options;

		return options.height === "auto" ?
			options.minHeight :
			Math.min( options.minHeight, options.height );
	},

	_position: function() {
		// Need to show the dialog to get the actual offset in the position plugin
		var isVisible = this.uiDialog.is( ":visible" );
		if ( !isVisible ) {
			this.uiDialog.show();
		}
		this.uiDialog.position( this.options.position );
		if ( !isVisible ) {
			this.uiDialog.hide();
		}
	},

	_setOptions: function( options ) {
		var that = this,
			resize = false,
			resizableOptions = {};

		$.each( options, function( key, value ) {
			that._setOption( key, value );

			if ( key in that.sizeRelatedOptions ) {
				resize = true;
			}
			if ( key in that.resizableRelatedOptions ) {
				resizableOptions[ key ] = value;
			}
		});

		if ( resize ) {
			this._size();
			this._position();
		}
		if ( this.uiDialog.is( ":data(ui-resizable)" ) ) {
			this.uiDialog.resizable( "option", resizableOptions );
		}
	},

	_setOption: function( key, value ) {
		var isDraggable, isResizable,
			uiDialog = this.uiDialog;

		if ( key === "dialogClass" ) {
			uiDialog
				.removeClass( this.options.dialogClass )
				.addClass( value );
		}

		if ( key === "disabled" ) {
			return;
		}

		this._super( key, value );

		if ( key === "appendTo" ) {
			this.uiDialog.appendTo( this._appendTo() );
		}

		if ( key === "buttons" ) {
			this._createButtons();
		}

		if ( key === "closeText" ) {
			this.uiDialogTitlebarClose.button({
				// Ensure that we always pass a string
				label: "" + value
			});
		}

		if ( key === "draggable" ) {
			isDraggable = uiDialog.is( ":data(ui-draggable)" );
			if ( isDraggable && !value ) {
				uiDialog.draggable( "destroy" );
			}

			if ( !isDraggable && value ) {
				this._makeDraggable();
			}
		}

		if ( key === "position" ) {
			this._position();
		}

		if ( key === "resizable" ) {
			// currently resizable, becoming non-resizable
			isResizable = uiDialog.is( ":data(ui-resizable)" );
			if ( isResizable && !value ) {
				uiDialog.resizable( "destroy" );
			}

			// currently resizable, changing handles
			if ( isResizable && typeof value === "string" ) {
				uiDialog.resizable( "option", "handles", value );
			}

			// currently non-resizable, becoming resizable
			if ( !isResizable && value !== false ) {
				this._makeResizable();
			}
		}

		if ( key === "title" ) {
			this._title( this.uiDialogTitlebar.find( ".ui-dialog-title" ) );
		}
	},

	_size: function() {
		// If the user has resized the dialog, the .ui-dialog and .ui-dialog-content
		// divs will both have width and height set, so we need to reset them
		var nonContentHeight, minContentHeight, maxContentHeight,
			options = this.options;

		// Reset content sizing
		this.element.show().css({
			width: "auto",
			minHeight: 0,
			maxHeight: "none",
			height: 0
		});

		if ( options.minWidth > options.width ) {
			options.width = options.minWidth;
		}

		// reset wrapper sizing
		// determine the height of all the non-content elements
		nonContentHeight = this.uiDialog.css({
				height: "auto",
				width: options.width
			})
			.outerHeight();
		minContentHeight = Math.max( 0, options.minHeight - nonContentHeight );
		maxContentHeight = typeof options.maxHeight === "number" ?
			Math.max( 0, options.maxHeight - nonContentHeight ) :
			"none";

		if ( options.height === "auto" ) {
			this.element.css({
				minHeight: minContentHeight,
				maxHeight: maxContentHeight,
				height: "auto"
			});
		} else {
			this.element.height( Math.max( 0, options.height - nonContentHeight ) );
		}

		if ( this.uiDialog.is( ":data(ui-resizable)" ) ) {
			this.uiDialog.resizable( "option", "minHeight", this._minHeight() );
		}
	},

	_blockFrames: function() {
		this.iframeBlocks = this.document.find( "iframe" ).map(function() {
			var iframe = $( this );

			return $( "<div>" )
				.css({
					position: "absolute",
					width: iframe.outerWidth(),
					height: iframe.outerHeight()
				})
				.appendTo( iframe.parent() )
				.offset( iframe.offset() )[0];
		});
	},

	_unblockFrames: function() {
		if ( this.iframeBlocks ) {
			this.iframeBlocks.remove();
			delete this.iframeBlocks;
		}
	},

	_allowInteraction: function( event ) {
		if ( $( event.target ).closest( ".ui-dialog" ).length ) {
			return true;
		}

		// TODO: Remove hack when datepicker implements
		// the .ui-front logic (#8989)
		return !!$( event.target ).closest( ".ui-datepicker" ).length;
	},

	_createOverlay: function() {
		if ( !this.options.modal ) {
			return;
		}

		// We use a delay in case the overlay is created from an
		// event that we're going to be cancelling (#2804)
		var isOpening = true;
		this._delay(function() {
			isOpening = false;
		});

		if ( !this.document.data( "ui-dialog-overlays" ) ) {

			// Prevent use of anchors and inputs
			// Using _on() for an event handler shared across many instances is
			// safe because the dialogs stack and must be closed in reverse order
			this._on( this.document, {
				focusin: function( event ) {
					if ( isOpening ) {
						return;
					}

					if ( !this._allowInteraction( event ) ) {
						event.preventDefault();
						this._trackingInstances()[ 0 ]._focusTabbable();
					}
				}
			});
		}

		this.overlay = $( "<div>" )
			.addClass( "ui-widget-overlay ui-front" )
			.appendTo( this._appendTo() );
		this._on( this.overlay, {
			mousedown: "_keepFocus"
		});
		this.document.data( "ui-dialog-overlays",
			(this.document.data( "ui-dialog-overlays" ) || 0) + 1 );
	},

	_destroyOverlay: function() {
		if ( !this.options.modal ) {
			return;
		}

		if ( this.overlay ) {
			var overlays = this.document.data( "ui-dialog-overlays" ) - 1;

			if ( !overlays ) {
				this.document
					.unbind( "focusin" )
					.removeData( "ui-dialog-overlays" );
			} else {
				this.document.data( "ui-dialog-overlays", overlays );
			}

			this.overlay.remove();
			this.overlay = null;
		}
	}
});


/*!
 * jQuery UI Droppable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */


$.widget( "ui.droppable", {
	version: "1.11.4",
	widgetEventPrefix: "drop",
	options: {
		accept: "*",
		activeClass: false,
		addClasses: true,
		greedy: false,
		hoverClass: false,
		scope: "default",
		tolerance: "intersect",

		// callbacks
		activate: null,
		deactivate: null,
		drop: null,
		out: null,
		over: null
	},
	_create: function() {

		var proportions,
			o = this.options,
			accept = o.accept;

		this.isover = false;
		this.isout = true;

		this.accept = $.isFunction( accept ) ? accept : function( d ) {
			return d.is( accept );
		};

		this.proportions = function( /* valueToWrite */ ) {
			if ( arguments.length ) {
				// Store the droppable's proportions
				proportions = arguments[ 0 ];
			} else {
				// Retrieve or derive the droppable's proportions
				return proportions ?
					proportions :
					proportions = {
						width: this.element[ 0 ].offsetWidth,
						height: this.element[ 0 ].offsetHeight
					};
			}
		};

		this._addToManager( o.scope );

		o.addClasses && this.element.addClass( "ui-droppable" );

	},

	_addToManager: function( scope ) {
		// Add the reference and positions to the manager
		$.ui.ddmanager.droppables[ scope ] = $.ui.ddmanager.droppables[ scope ] || [];
		$.ui.ddmanager.droppables[ scope ].push( this );
	},

	_splice: function( drop ) {
		var i = 0;
		for ( ; i < drop.length; i++ ) {
			if ( drop[ i ] === this ) {
				drop.splice( i, 1 );
			}
		}
	},

	_destroy: function() {
		var drop = $.ui.ddmanager.droppables[ this.options.scope ];

		this._splice( drop );

		this.element.removeClass( "ui-droppable ui-droppable-disabled" );
	},

	_setOption: function( key, value ) {

		if ( key === "accept" ) {
			this.accept = $.isFunction( value ) ? value : function( d ) {
				return d.is( value );
			};
		} else if ( key === "scope" ) {
			var drop = $.ui.ddmanager.droppables[ this.options.scope ];

			this._splice( drop );
			this._addToManager( value );
		}

		this._super( key, value );
	},

	_activate: function( event ) {
		var draggable = $.ui.ddmanager.current;
		if ( this.options.activeClass ) {
			this.element.addClass( this.options.activeClass );
		}
		if ( draggable ){
			this._trigger( "activate", event, this.ui( draggable ) );
		}
	},

	_deactivate: function( event ) {
		var draggable = $.ui.ddmanager.current;
		if ( this.options.activeClass ) {
			this.element.removeClass( this.options.activeClass );
		}
		if ( draggable ){
			this._trigger( "deactivate", event, this.ui( draggable ) );
		}
	},

	_over: function( event ) {

		var draggable = $.ui.ddmanager.current;

		// Bail if draggable and droppable are same element
		if ( !draggable || ( draggable.currentItem || draggable.element )[ 0 ] === this.element[ 0 ] ) {
			return;
		}

		if ( this.accept.call( this.element[ 0 ], ( draggable.currentItem || draggable.element ) ) ) {
			if ( this.options.hoverClass ) {
				this.element.addClass( this.options.hoverClass );
			}
			this._trigger( "over", event, this.ui( draggable ) );
		}

	},

	_out: function( event ) {

		var draggable = $.ui.ddmanager.current;

		// Bail if draggable and droppable are same element
		if ( !draggable || ( draggable.currentItem || draggable.element )[ 0 ] === this.element[ 0 ] ) {
			return;
		}

		if ( this.accept.call( this.element[ 0 ], ( draggable.currentItem || draggable.element ) ) ) {
			if ( this.options.hoverClass ) {
				this.element.removeClass( this.options.hoverClass );
			}
			this._trigger( "out", event, this.ui( draggable ) );
		}

	},

	_drop: function( event, custom ) {

		var draggable = custom || $.ui.ddmanager.current,
			childrenIntersection = false;

		// Bail if draggable and droppable are same element
		if ( !draggable || ( draggable.currentItem || draggable.element )[ 0 ] === this.element[ 0 ] ) {
			return false;
		}

		this.element.find( ":data(ui-droppable)" ).not( ".ui-draggable-dragging" ).each(function() {
			var inst = $( this ).droppable( "instance" );
			if (
				inst.options.greedy &&
				!inst.options.disabled &&
				inst.options.scope === draggable.options.scope &&
				inst.accept.call( inst.element[ 0 ], ( draggable.currentItem || draggable.element ) ) &&
				$.ui.intersect( draggable, $.extend( inst, { offset: inst.element.offset() } ), inst.options.tolerance, event )
			) { childrenIntersection = true; return false; }
		});
		if ( childrenIntersection ) {
			return false;
		}

		if ( this.accept.call( this.element[ 0 ], ( draggable.currentItem || draggable.element ) ) ) {
			if ( this.options.activeClass ) {
				this.element.removeClass( this.options.activeClass );
			}
			if ( this.options.hoverClass ) {
				this.element.removeClass( this.options.hoverClass );
			}
			this._trigger( "drop", event, this.ui( draggable ) );
			return this.element;
		}

		return false;

	},

	ui: function( c ) {
		return {
			draggable: ( c.currentItem || c.element ),
			helper: c.helper,
			position: c.position,
			offset: c.positionAbs
		};
	}

});

$.ui.intersect = (function() {
	function isOverAxis( x, reference, size ) {
		return ( x >= reference ) && ( x < ( reference + size ) );
	}

	return function( draggable, droppable, toleranceMode, event ) {

		if ( !droppable.offset ) {
			return false;
		}

		var x1 = ( draggable.positionAbs || draggable.position.absolute ).left + draggable.margins.left,
			y1 = ( draggable.positionAbs || draggable.position.absolute ).top + draggable.margins.top,
			x2 = x1 + draggable.helperProportions.width,
			y2 = y1 + draggable.helperProportions.height,
			l = droppable.offset.left,
			t = droppable.offset.top,
			r = l + droppable.proportions().width,
			b = t + droppable.proportions().height;

		switch ( toleranceMode ) {
		case "fit":
			return ( l <= x1 && x2 <= r && t <= y1 && y2 <= b );
		case "intersect":
			return ( l < x1 + ( draggable.helperProportions.width / 2 ) && // Right Half
				x2 - ( draggable.helperProportions.width / 2 ) < r && // Left Half
				t < y1 + ( draggable.helperProportions.height / 2 ) && // Bottom Half
				y2 - ( draggable.helperProportions.height / 2 ) < b ); // Top Half
		case "pointer":
			return isOverAxis( event.pageY, t, droppable.proportions().height ) && isOverAxis( event.pageX, l, droppable.proportions().width );
		case "touch":
			return (
				( y1 >= t && y1 <= b ) || // Top edge touching
				( y2 >= t && y2 <= b ) || // Bottom edge touching
				( y1 < t && y2 > b ) // Surrounded vertically
			) && (
				( x1 >= l && x1 <= r ) || // Left edge touching
				( x2 >= l && x2 <= r ) || // Right edge touching
				( x1 < l && x2 > r ) // Surrounded horizontally
			);
		default:
			return false;
		}
	};
})();

/*
	This manager tracks offsets of draggables and droppables
*/
$.ui.ddmanager = {
	current: null,
	droppables: { "default": [] },
	prepareOffsets: function( t, event ) {

		var i, j,
			m = $.ui.ddmanager.droppables[ t.options.scope ] || [],
			type = event ? event.type : null, // workaround for #2317
			list = ( t.currentItem || t.element ).find( ":data(ui-droppable)" ).addBack();

		droppablesLoop: for ( i = 0; i < m.length; i++ ) {

			// No disabled and non-accepted
			if ( m[ i ].options.disabled || ( t && !m[ i ].accept.call( m[ i ].element[ 0 ], ( t.currentItem || t.element ) ) ) ) {
				continue;
			}

			// Filter out elements in the current dragged item
			for ( j = 0; j < list.length; j++ ) {
				if ( list[ j ] === m[ i ].element[ 0 ] ) {
					m[ i ].proportions().height = 0;
					continue droppablesLoop;
				}
			}

			m[ i ].visible = m[ i ].element.css( "display" ) !== "none";
			if ( !m[ i ].visible ) {
				continue;
			}

			// Activate the droppable if used directly from draggables
			if ( type === "mousedown" ) {
				m[ i ]._activate.call( m[ i ], event );
			}

			m[ i ].offset = m[ i ].element.offset();
			m[ i ].proportions({ width: m[ i ].element[ 0 ].offsetWidth, height: m[ i ].element[ 0 ].offsetHeight });

		}

	},
	drop: function( draggable, event ) {

		var dropped = false;
		// Create a copy of the droppables in case the list changes during the drop (#9116)
		$.each( ( $.ui.ddmanager.droppables[ draggable.options.scope ] || [] ).slice(), function() {

			if ( !this.options ) {
				return;
			}
			if ( !this.options.disabled && this.visible && $.ui.intersect( draggable, this, this.options.tolerance, event ) ) {
				dropped = this._drop.call( this, event ) || dropped;
			}

			if ( !this.options.disabled && this.visible && this.accept.call( this.element[ 0 ], ( draggable.currentItem || draggable.element ) ) ) {
				this.isout = true;
				this.isover = false;
				this._deactivate.call( this, event );
			}

		});
		return dropped;

	},
	dragStart: function( draggable, event ) {
		// Listen for scrolling so that if the dragging causes scrolling the position of the droppables can be recalculated (see #5003)
		draggable.element.parentsUntil( "body" ).bind( "scroll.droppable", function() {
			if ( !draggable.options.refreshPositions ) {
				$.ui.ddmanager.prepareOffsets( draggable, event );
			}
		});
	},
	drag: function( draggable, event ) {

		// If you have a highly dynamic page, you might try this option. It renders positions every time you move the mouse.
		if ( draggable.options.refreshPositions ) {
			$.ui.ddmanager.prepareOffsets( draggable, event );
		}

		// Run through all droppables and check their positions based on specific tolerance options
		$.each( $.ui.ddmanager.droppables[ draggable.options.scope ] || [], function() {

			if ( this.options.disabled || this.greedyChild || !this.visible ) {
				return;
			}

			var parentInstance, scope, parent,
				intersects = $.ui.intersect( draggable, this, this.options.tolerance, event ),
				c = !intersects && this.isover ? "isout" : ( intersects && !this.isover ? "isover" : null );
			if ( !c ) {
				return;
			}

			if ( this.options.greedy ) {
				// find droppable parents with same scope
				scope = this.options.scope;
				parent = this.element.parents( ":data(ui-droppable)" ).filter(function() {
					return $( this ).droppable( "instance" ).options.scope === scope;
				});

				if ( parent.length ) {
					parentInstance = $( parent[ 0 ] ).droppable( "instance" );
					parentInstance.greedyChild = ( c === "isover" );
				}
			}

			// we just moved into a greedy child
			if ( parentInstance && c === "isover" ) {
				parentInstance.isover = false;
				parentInstance.isout = true;
				parentInstance._out.call( parentInstance, event );
			}

			this[ c ] = true;
			this[c === "isout" ? "isover" : "isout"] = false;
			this[c === "isover" ? "_over" : "_out"].call( this, event );

			// we just moved out of a greedy child
			if ( parentInstance && c === "isout" ) {
				parentInstance.isout = false;
				parentInstance.isover = true;
				parentInstance._over.call( parentInstance, event );
			}
		});

	},
	dragStop: function( draggable, event ) {
		draggable.element.parentsUntil( "body" ).unbind( "scroll.droppable" );
		// Call prepareOffsets one final time since IE does not fire return scroll events when overflow was caused by drag (see #5003)
		if ( !draggable.options.refreshPositions ) {
			$.ui.ddmanager.prepareOffsets( draggable, event );
		}
	}
};

var droppable = $.ui.droppable;


/*!
 * jQuery UI Effects 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */


var dataSpace = "ui-effects-",

	// Create a local jQuery because jQuery Color relies on it and the
	// global may not exist with AMD and a custom build (#10199)
	jQuery = $;

$.effects = {
	effect: {}
};

/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function( jQuery, undefined ) {

	var stepHooks = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",

	// plusequals test for += 100 -= 100
	rplusequals = /^([\-+])=\s*(\d+\.?\d*)/,
	// a set of RE's that can match strings and generate color tuples.
	stringParsers = [ {
			re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			parse: function( execResult ) {
				return [
					execResult[ 1 ],
					execResult[ 2 ],
					execResult[ 3 ],
					execResult[ 4 ]
				];
			}
		}, {
			re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			parse: function( execResult ) {
				return [
					execResult[ 1 ] * 2.55,
					execResult[ 2 ] * 2.55,
					execResult[ 3 ] * 2.55,
					execResult[ 4 ]
				];
			}
		}, {
			// this regex ignores A-F because it's compared against an already lowercased string
			re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
			parse: function( execResult ) {
				return [
					parseInt( execResult[ 1 ], 16 ),
					parseInt( execResult[ 2 ], 16 ),
					parseInt( execResult[ 3 ], 16 )
				];
			}
		}, {
			// this regex ignores A-F because it's compared against an already lowercased string
			re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
			parse: function( execResult ) {
				return [
					parseInt( execResult[ 1 ] + execResult[ 1 ], 16 ),
					parseInt( execResult[ 2 ] + execResult[ 2 ], 16 ),
					parseInt( execResult[ 3 ] + execResult[ 3 ], 16 )
				];
			}
		}, {
			re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			space: "hsla",
			parse: function( execResult ) {
				return [
					execResult[ 1 ],
					execResult[ 2 ] / 100,
					execResult[ 3 ] / 100,
					execResult[ 4 ]
				];
			}
		} ],

	// jQuery.Color( )
	color = jQuery.Color = function( color, green, blue, alpha ) {
		return new jQuery.Color.fn.parse( color, green, blue, alpha );
	},
	spaces = {
		rgba: {
			props: {
				red: {
					idx: 0,
					type: "byte"
				},
				green: {
					idx: 1,
					type: "byte"
				},
				blue: {
					idx: 2,
					type: "byte"
				}
			}
		},

		hsla: {
			props: {
				hue: {
					idx: 0,
					type: "degrees"
				},
				saturation: {
					idx: 1,
					type: "percent"
				},
				lightness: {
					idx: 2,
					type: "percent"
				}
			}
		}
	},
	propTypes = {
		"byte": {
			floor: true,
			max: 255
		},
		"percent": {
			max: 1
		},
		"degrees": {
			mod: 360,
			floor: true
		}
	},
	support = color.support = {},

	// element for support tests
	supportElem = jQuery( "<p>" )[ 0 ],

	// colors = jQuery.Color.names
	colors,

	// local aliases of functions called often
	each = jQuery.each;

// determine rgba support immediately
supportElem.style.cssText = "background-color:rgba(1,1,1,.5)";
support.rgba = supportElem.style.backgroundColor.indexOf( "rgba" ) > -1;

// define cache name and alpha properties
// for rgba and hsla spaces
each( spaces, function( spaceName, space ) {
	space.cache = "_" + spaceName;
	space.props.alpha = {
		idx: 3,
		type: "percent",
		def: 1
	};
});

function clamp( value, prop, allowEmpty ) {
	var type = propTypes[ prop.type ] || {};

	if ( value == null ) {
		return (allowEmpty || !prop.def) ? null : prop.def;
	}

	// ~~ is an short way of doing floor for positive numbers
	value = type.floor ? ~~value : parseFloat( value );

	// IE will pass in empty strings as value for alpha,
	// which will hit this case
	if ( isNaN( value ) ) {
		return prop.def;
	}

	if ( type.mod ) {
		// we add mod before modding to make sure that negatives values
		// get converted properly: -10 -> 350
		return (value + type.mod) % type.mod;
	}

	// for now all property types without mod have min and max
	return 0 > value ? 0 : type.max < value ? type.max : value;
}

function stringParse( string ) {
	var inst = color(),
		rgba = inst._rgba = [];

	string = string.toLowerCase();

	each( stringParsers, function( i, parser ) {
		var parsed,
			match = parser.re.exec( string ),
			values = match && parser.parse( match ),
			spaceName = parser.space || "rgba";

		if ( values ) {
			parsed = inst[ spaceName ]( values );

			// if this was an rgba parse the assignment might happen twice
			// oh well....
			inst[ spaces[ spaceName ].cache ] = parsed[ spaces[ spaceName ].cache ];
			rgba = inst._rgba = parsed._rgba;

			// exit each( stringParsers ) here because we matched
			return false;
		}
	});

	// Found a stringParser that handled it
	if ( rgba.length ) {

		// if this came from a parsed string, force "transparent" when alpha is 0
		// chrome, (and maybe others) return "transparent" as rgba(0,0,0,0)
		if ( rgba.join() === "0,0,0,0" ) {
			jQuery.extend( rgba, colors.transparent );
		}
		return inst;
	}

	// named colors
	return colors[ string ];
}

color.fn = jQuery.extend( color.prototype, {
	parse: function( red, green, blue, alpha ) {
		if ( red === undefined ) {
			this._rgba = [ null, null, null, null ];
			return this;
		}
		if ( red.jquery || red.nodeType ) {
			red = jQuery( red ).css( green );
			green = undefined;
		}

		var inst = this,
			type = jQuery.type( red ),
			rgba = this._rgba = [];

		// more than 1 argument specified - assume ( red, green, blue, alpha )
		if ( green !== undefined ) {
			red = [ red, green, blue, alpha ];
			type = "array";
		}

		if ( type === "string" ) {
			return this.parse( stringParse( red ) || colors._default );
		}

		if ( type === "array" ) {
			each( spaces.rgba.props, function( key, prop ) {
				rgba[ prop.idx ] = clamp( red[ prop.idx ], prop );
			});
			return this;
		}

		if ( type === "object" ) {
			if ( red instanceof color ) {
				each( spaces, function( spaceName, space ) {
					if ( red[ space.cache ] ) {
						inst[ space.cache ] = red[ space.cache ].slice();
					}
				});
			} else {
				each( spaces, function( spaceName, space ) {
					var cache = space.cache;
					each( space.props, function( key, prop ) {

						// if the cache doesn't exist, and we know how to convert
						if ( !inst[ cache ] && space.to ) {

							// if the value was null, we don't need to copy it
							// if the key was alpha, we don't need to copy it either
							if ( key === "alpha" || red[ key ] == null ) {
								return;
							}
							inst[ cache ] = space.to( inst._rgba );
						}

						// this is the only case where we allow nulls for ALL properties.
						// call clamp with alwaysAllowEmpty
						inst[ cache ][ prop.idx ] = clamp( red[ key ], prop, true );
					});

					// everything defined but alpha?
					if ( inst[ cache ] && jQuery.inArray( null, inst[ cache ].slice( 0, 3 ) ) < 0 ) {
						// use the default of 1
						inst[ cache ][ 3 ] = 1;
						if ( space.from ) {
							inst._rgba = space.from( inst[ cache ] );
						}
					}
				});
			}
			return this;
		}
	},
	is: function( compare ) {
		var is = color( compare ),
			same = true,
			inst = this;

		each( spaces, function( _, space ) {
			var localCache,
				isCache = is[ space.cache ];
			if (isCache) {
				localCache = inst[ space.cache ] || space.to && space.to( inst._rgba ) || [];
				each( space.props, function( _, prop ) {
					if ( isCache[ prop.idx ] != null ) {
						same = ( isCache[ prop.idx ] === localCache[ prop.idx ] );
						return same;
					}
				});
			}
			return same;
		});
		return same;
	},
	_space: function() {
		var used = [],
			inst = this;
		each( spaces, function( spaceName, space ) {
			if ( inst[ space.cache ] ) {
				used.push( spaceName );
			}
		});
		return used.pop();
	},
	transition: function( other, distance ) {
		var end = color( other ),
			spaceName = end._space(),
			space = spaces[ spaceName ],
			startColor = this.alpha() === 0 ? color( "transparent" ) : this,
			start = startColor[ space.cache ] || space.to( startColor._rgba ),
			result = start.slice();

		end = end[ space.cache ];
		each( space.props, function( key, prop ) {
			var index = prop.idx,
				startValue = start[ index ],
				endValue = end[ index ],
				type = propTypes[ prop.type ] || {};

			// if null, don't override start value
			if ( endValue === null ) {
				return;
			}
			// if null - use end
			if ( startValue === null ) {
				result[ index ] = endValue;
			} else {
				if ( type.mod ) {
					if ( endValue - startValue > type.mod / 2 ) {
						startValue += type.mod;
					} else if ( startValue - endValue > type.mod / 2 ) {
						startValue -= type.mod;
					}
				}
				result[ index ] = clamp( ( endValue - startValue ) * distance + startValue, prop );
			}
		});
		return this[ spaceName ]( result );
	},
	blend: function( opaque ) {
		// if we are already opaque - return ourself
		if ( this._rgba[ 3 ] === 1 ) {
			return this;
		}

		var rgb = this._rgba.slice(),
			a = rgb.pop(),
			blend = color( opaque )._rgba;

		return color( jQuery.map( rgb, function( v, i ) {
			return ( 1 - a ) * blend[ i ] + a * v;
		}));
	},
	toRgbaString: function() {
		var prefix = "rgba(",
			rgba = jQuery.map( this._rgba, function( v, i ) {
				return v == null ? ( i > 2 ? 1 : 0 ) : v;
			});

		if ( rgba[ 3 ] === 1 ) {
			rgba.pop();
			prefix = "rgb(";
		}

		return prefix + rgba.join() + ")";
	},
	toHslaString: function() {
		var prefix = "hsla(",
			hsla = jQuery.map( this.hsla(), function( v, i ) {
				if ( v == null ) {
					v = i > 2 ? 1 : 0;
				}

				// catch 1 and 2
				if ( i && i < 3 ) {
					v = Math.round( v * 100 ) + "%";
				}
				return v;
			});

		if ( hsla[ 3 ] === 1 ) {
			hsla.pop();
			prefix = "hsl(";
		}
		return prefix + hsla.join() + ")";
	},
	toHexString: function( includeAlpha ) {
		var rgba = this._rgba.slice(),
			alpha = rgba.pop();

		if ( includeAlpha ) {
			rgba.push( ~~( alpha * 255 ) );
		}

		return "#" + jQuery.map( rgba, function( v ) {

			// default to 0 when nulls exist
			v = ( v || 0 ).toString( 16 );
			return v.length === 1 ? "0" + v : v;
		}).join("");
	},
	toString: function() {
		return this._rgba[ 3 ] === 0 ? "transparent" : this.toRgbaString();
	}
});
color.fn.parse.prototype = color.fn;

// hsla conversions adapted from:
// https://code.google.com/p/maashaack/source/browse/packages/graphics/trunk/src/graphics/colors/HUE2RGB.as?r=5021

function hue2rgb( p, q, h ) {
	h = ( h + 1 ) % 1;
	if ( h * 6 < 1 ) {
		return p + ( q - p ) * h * 6;
	}
	if ( h * 2 < 1) {
		return q;
	}
	if ( h * 3 < 2 ) {
		return p + ( q - p ) * ( ( 2 / 3 ) - h ) * 6;
	}
	return p;
}

spaces.hsla.to = function( rgba ) {
	if ( rgba[ 0 ] == null || rgba[ 1 ] == null || rgba[ 2 ] == null ) {
		return [ null, null, null, rgba[ 3 ] ];
	}
	var r = rgba[ 0 ] / 255,
		g = rgba[ 1 ] / 255,
		b = rgba[ 2 ] / 255,
		a = rgba[ 3 ],
		max = Math.max( r, g, b ),
		min = Math.min( r, g, b ),
		diff = max - min,
		add = max + min,
		l = add * 0.5,
		h, s;

	if ( min === max ) {
		h = 0;
	} else if ( r === max ) {
		h = ( 60 * ( g - b ) / diff ) + 360;
	} else if ( g === max ) {
		h = ( 60 * ( b - r ) / diff ) + 120;
	} else {
		h = ( 60 * ( r - g ) / diff ) + 240;
	}

	// chroma (diff) == 0 means greyscale which, by definition, saturation = 0%
	// otherwise, saturation is based on the ratio of chroma (diff) to lightness (add)
	if ( diff === 0 ) {
		s = 0;
	} else if ( l <= 0.5 ) {
		s = diff / add;
	} else {
		s = diff / ( 2 - add );
	}
	return [ Math.round(h) % 360, s, l, a == null ? 1 : a ];
};

spaces.hsla.from = function( hsla ) {
	if ( hsla[ 0 ] == null || hsla[ 1 ] == null || hsla[ 2 ] == null ) {
		return [ null, null, null, hsla[ 3 ] ];
	}
	var h = hsla[ 0 ] / 360,
		s = hsla[ 1 ],
		l = hsla[ 2 ],
		a = hsla[ 3 ],
		q = l <= 0.5 ? l * ( 1 + s ) : l + s - l * s,
		p = 2 * l - q;

	return [
		Math.round( hue2rgb( p, q, h + ( 1 / 3 ) ) * 255 ),
		Math.round( hue2rgb( p, q, h ) * 255 ),
		Math.round( hue2rgb( p, q, h - ( 1 / 3 ) ) * 255 ),
		a
	];
};

each( spaces, function( spaceName, space ) {
	var props = space.props,
		cache = space.cache,
		to = space.to,
		from = space.from;

	// makes rgba() and hsla()
	color.fn[ spaceName ] = function( value ) {

		// generate a cache for this space if it doesn't exist
		if ( to && !this[ cache ] ) {
			this[ cache ] = to( this._rgba );
		}
		if ( value === undefined ) {
			return this[ cache ].slice();
		}

		var ret,
			type = jQuery.type( value ),
			arr = ( type === "array" || type === "object" ) ? value : arguments,
			local = this[ cache ].slice();

		each( props, function( key, prop ) {
			var val = arr[ type === "object" ? key : prop.idx ];
			if ( val == null ) {
				val = local[ prop.idx ];
			}
			local[ prop.idx ] = clamp( val, prop );
		});

		if ( from ) {
			ret = color( from( local ) );
			ret[ cache ] = local;
			return ret;
		} else {
			return color( local );
		}
	};

	// makes red() green() blue() alpha() hue() saturation() lightness()
	each( props, function( key, prop ) {
		// alpha is included in more than one space
		if ( color.fn[ key ] ) {
			return;
		}
		color.fn[ key ] = function( value ) {
			var vtype = jQuery.type( value ),
				fn = ( key === "alpha" ? ( this._hsla ? "hsla" : "rgba" ) : spaceName ),
				local = this[ fn ](),
				cur = local[ prop.idx ],
				match;

			if ( vtype === "undefined" ) {
				return cur;
			}

			if ( vtype === "function" ) {
				value = value.call( this, cur );
				vtype = jQuery.type( value );
			}
			if ( value == null && prop.empty ) {
				return this;
			}
			if ( vtype === "string" ) {
				match = rplusequals.exec( value );
				if ( match ) {
					value = cur + parseFloat( match[ 2 ] ) * ( match[ 1 ] === "+" ? 1 : -1 );
				}
			}
			local[ prop.idx ] = value;
			return this[ fn ]( local );
		};
	});
});

// add cssHook and .fx.step function for each named hook.
// accept a space separated string of properties
color.hook = function( hook ) {
	var hooks = hook.split( " " );
	each( hooks, function( i, hook ) {
		jQuery.cssHooks[ hook ] = {
			set: function( elem, value ) {
				var parsed, curElem,
					backgroundColor = "";

				if ( value !== "transparent" && ( jQuery.type( value ) !== "string" || ( parsed = stringParse( value ) ) ) ) {
					value = color( parsed || value );
					if ( !support.rgba && value._rgba[ 3 ] !== 1 ) {
						curElem = hook === "backgroundColor" ? elem.parentNode : elem;
						while (
							(backgroundColor === "" || backgroundColor === "transparent") &&
							curElem && curElem.style
						) {
							try {
								backgroundColor = jQuery.css( curElem, "backgroundColor" );
								curElem = curElem.parentNode;
							} catch ( e ) {
							}
						}

						value = value.blend( backgroundColor && backgroundColor !== "transparent" ?
							backgroundColor :
							"_default" );
					}

					value = value.toRgbaString();
				}
				try {
					elem.style[ hook ] = value;
				} catch ( e ) {
					// wrapped to prevent IE from throwing errors on "invalid" values like 'auto' or 'inherit'
				}
			}
		};
		jQuery.fx.step[ hook ] = function( fx ) {
			if ( !fx.colorInit ) {
				fx.start = color( fx.elem, hook );
				fx.end = color( fx.end );
				fx.colorInit = true;
			}
			jQuery.cssHooks[ hook ].set( fx.elem, fx.start.transition( fx.end, fx.pos ) );
		};
	});

};

color.hook( stepHooks );

jQuery.cssHooks.borderColor = {
	expand: function( value ) {
		var expanded = {};

		each( [ "Top", "Right", "Bottom", "Left" ], function( i, part ) {
			expanded[ "border" + part + "Color" ] = value;
		});
		return expanded;
	}
};

// Basic color names only.
// Usage of any of the other color names requires adding yourself or including
// jquery.color.svg-names.js.
colors = jQuery.Color.names = {
	// 4.1. Basic color keywords
	aqua: "#00ffff",
	black: "#000000",
	blue: "#0000ff",
	fuchsia: "#ff00ff",
	gray: "#808080",
	green: "#008000",
	lime: "#00ff00",
	maroon: "#800000",
	navy: "#000080",
	olive: "#808000",
	purple: "#800080",
	red: "#ff0000",
	silver: "#c0c0c0",
	teal: "#008080",
	white: "#ffffff",
	yellow: "#ffff00",

	// 4.2.3. "transparent" color keyword
	transparent: [ null, null, null, 0 ],

	_default: "#ffffff"
};

})( jQuery );

/******************************************************************************/
/****************************** CLASS ANIMATIONS ******************************/
/******************************************************************************/
(function() {

var classAnimationActions = [ "add", "remove", "toggle" ],
	shorthandStyles = {
		border: 1,
		borderBottom: 1,
		borderColor: 1,
		borderLeft: 1,
		borderRight: 1,
		borderTop: 1,
		borderWidth: 1,
		margin: 1,
		padding: 1
	};

$.each([ "borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle" ], function( _, prop ) {
	$.fx.step[ prop ] = function( fx ) {
		if ( fx.end !== "none" && !fx.setAttr || fx.pos === 1 && !fx.setAttr ) {
			jQuery.style( fx.elem, prop, fx.end );
			fx.setAttr = true;
		}
	};
});

function getElementStyles( elem ) {
	var key, len,
		style = elem.ownerDocument.defaultView ?
			elem.ownerDocument.defaultView.getComputedStyle( elem, null ) :
			elem.currentStyle,
		styles = {};

	if ( style && style.length && style[ 0 ] && style[ style[ 0 ] ] ) {
		len = style.length;
		while ( len-- ) {
			key = style[ len ];
			if ( typeof style[ key ] === "string" ) {
				styles[ $.camelCase( key ) ] = style[ key ];
			}
		}
	// support: Opera, IE <9
	} else {
		for ( key in style ) {
			if ( typeof style[ key ] === "string" ) {
				styles[ key ] = style[ key ];
			}
		}
	}

	return styles;
}

function styleDifference( oldStyle, newStyle ) {
	var diff = {},
		name, value;

	for ( name in newStyle ) {
		value = newStyle[ name ];
		if ( oldStyle[ name ] !== value ) {
			if ( !shorthandStyles[ name ] ) {
				if ( $.fx.step[ name ] || !isNaN( parseFloat( value ) ) ) {
					diff[ name ] = value;
				}
			}
		}
	}

	return diff;
}

// support: jQuery <1.8
if ( !$.fn.addBack ) {
	$.fn.addBack = function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	};
}

$.effects.animateClass = function( value, duration, easing, callback ) {
	var o = $.speed( duration, easing, callback );

	return this.queue( function() {
		var animated = $( this ),
			baseClass = animated.attr( "class" ) || "",
			applyClassChange,
			allAnimations = o.children ? animated.find( "*" ).addBack() : animated;

		// map the animated objects to store the original styles.
		allAnimations = allAnimations.map(function() {
			var el = $( this );
			return {
				el: el,
				start: getElementStyles( this )
			};
		});

		// apply class change
		applyClassChange = function() {
			$.each( classAnimationActions, function(i, action) {
				if ( value[ action ] ) {
					animated[ action + "Class" ]( value[ action ] );
				}
			});
		};
		applyClassChange();

		// map all animated objects again - calculate new styles and diff
		allAnimations = allAnimations.map(function() {
			this.end = getElementStyles( this.el[ 0 ] );
			this.diff = styleDifference( this.start, this.end );
			return this;
		});

		// apply original class
		animated.attr( "class", baseClass );

		// map all animated objects again - this time collecting a promise
		allAnimations = allAnimations.map(function() {
			var styleInfo = this,
				dfd = $.Deferred(),
				opts = $.extend({}, o, {
					queue: false,
					complete: function() {
						dfd.resolve( styleInfo );
					}
				});

			this.el.animate( this.diff, opts );
			return dfd.promise();
		});

		// once all animations have completed:
		$.when.apply( $, allAnimations.get() ).done(function() {

			// set the final class
			applyClassChange();

			// for each animated element,
			// clear all css properties that were animated
			$.each( arguments, function() {
				var el = this.el;
				$.each( this.diff, function(key) {
					el.css( key, "" );
				});
			});

			// this is guarnteed to be there if you use jQuery.speed()
			// it also handles dequeuing the next anim...
			o.complete.call( animated[ 0 ] );
		});
	});
};

$.fn.extend({
	addClass: (function( orig ) {
		return function( classNames, speed, easing, callback ) {
			return speed ?
				$.effects.animateClass.call( this,
					{ add: classNames }, speed, easing, callback ) :
				orig.apply( this, arguments );
		};
	})( $.fn.addClass ),

	removeClass: (function( orig ) {
		return function( classNames, speed, easing, callback ) {
			return arguments.length > 1 ?
				$.effects.animateClass.call( this,
					{ remove: classNames }, speed, easing, callback ) :
				orig.apply( this, arguments );
		};
	})( $.fn.removeClass ),

	toggleClass: (function( orig ) {
		return function( classNames, force, speed, easing, callback ) {
			if ( typeof force === "boolean" || force === undefined ) {
				if ( !speed ) {
					// without speed parameter
					return orig.apply( this, arguments );
				} else {
					return $.effects.animateClass.call( this,
						(force ? { add: classNames } : { remove: classNames }),
						speed, easing, callback );
				}
			} else {
				// without force parameter
				return $.effects.animateClass.call( this,
					{ toggle: classNames }, force, speed, easing );
			}
		};
	})( $.fn.toggleClass ),

	switchClass: function( remove, add, speed, easing, callback) {
		return $.effects.animateClass.call( this, {
			add: add,
			remove: remove
		}, speed, easing, callback );
	}
});

})();

/******************************************************************************/
/*********************************** EFFECTS **********************************/
/******************************************************************************/

(function() {

$.extend( $.effects, {
	version: "1.11.4",

	// Saves a set of properties in a data storage
	save: function( element, set ) {
		for ( var i = 0; i < set.length; i++ ) {
			if ( set[ i ] !== null ) {
				element.data( dataSpace + set[ i ], element[ 0 ].style[ set[ i ] ] );
			}
		}
	},

	// Restores a set of previously saved properties from a data storage
	restore: function( element, set ) {
		var val, i;
		for ( i = 0; i < set.length; i++ ) {
			if ( set[ i ] !== null ) {
				val = element.data( dataSpace + set[ i ] );
				// support: jQuery 1.6.2
				// http://bugs.jquery.com/ticket/9917
				// jQuery 1.6.2 incorrectly returns undefined for any falsy value.
				// We can't differentiate between "" and 0 here, so we just assume
				// empty string since it's likely to be a more common value...
				if ( val === undefined ) {
					val = "";
				}
				element.css( set[ i ], val );
			}
		}
	},

	setMode: function( el, mode ) {
		if (mode === "toggle") {
			mode = el.is( ":hidden" ) ? "show" : "hide";
		}
		return mode;
	},

	// Translates a [top,left] array into a baseline value
	// this should be a little more flexible in the future to handle a string & hash
	getBaseline: function( origin, original ) {
		var y, x;
		switch ( origin[ 0 ] ) {
			case "top": y = 0; break;
			case "middle": y = 0.5; break;
			case "bottom": y = 1; break;
			default: y = origin[ 0 ] / original.height;
		}
		switch ( origin[ 1 ] ) {
			case "left": x = 0; break;
			case "center": x = 0.5; break;
			case "right": x = 1; break;
			default: x = origin[ 1 ] / original.width;
		}
		return {
			x: x,
			y: y
		};
	},

	// Wraps the element around a wrapper that copies position properties
	createWrapper: function( element ) {

		// if the element is already wrapped, return it
		if ( element.parent().is( ".ui-effects-wrapper" )) {
			return element.parent();
		}

		// wrap the element
		var props = {
				width: element.outerWidth(true),
				height: element.outerHeight(true),
				"float": element.css( "float" )
			},
			wrapper = $( "<div></div>" )
				.addClass( "ui-effects-wrapper" )
				.css({
					fontSize: "100%",
					background: "transparent",
					border: "none",
					margin: 0,
					padding: 0
				}),
			// Store the size in case width/height are defined in % - Fixes #5245
			size = {
				width: element.width(),
				height: element.height()
			},
			active = document.activeElement;

		// support: Firefox
		// Firefox incorrectly exposes anonymous content
		// https://bugzilla.mozilla.org/show_bug.cgi?id=561664
		try {
			active.id;
		} catch ( e ) {
			active = document.body;
		}

		element.wrap( wrapper );

		// Fixes #7595 - Elements lose focus when wrapped.
		if ( element[ 0 ] === active || $.contains( element[ 0 ], active ) ) {
			$( active ).focus();
		}

		wrapper = element.parent(); //Hotfix for jQuery 1.4 since some change in wrap() seems to actually lose the reference to the wrapped element

		// transfer positioning properties to the wrapper
		if ( element.css( "position" ) === "static" ) {
			wrapper.css({ position: "relative" });
			element.css({ position: "relative" });
		} else {
			$.extend( props, {
				position: element.css( "position" ),
				zIndex: element.css( "z-index" )
			});
			$.each([ "top", "left", "bottom", "right" ], function(i, pos) {
				props[ pos ] = element.css( pos );
				if ( isNaN( parseInt( props[ pos ], 10 ) ) ) {
					props[ pos ] = "auto";
				}
			});
			element.css({
				position: "relative",
				top: 0,
				left: 0,
				right: "auto",
				bottom: "auto"
			});
		}
		element.css(size);

		return wrapper.css( props ).show();
	},

	removeWrapper: function( element ) {
		var active = document.activeElement;

		if ( element.parent().is( ".ui-effects-wrapper" ) ) {
			element.parent().replaceWith( element );

			// Fixes #7595 - Elements lose focus when wrapped.
			if ( element[ 0 ] === active || $.contains( element[ 0 ], active ) ) {
				$( active ).focus();
			}
		}

		return element;
	},

	setTransition: function( element, list, factor, value ) {
		value = value || {};
		$.each( list, function( i, x ) {
			var unit = element.cssUnit( x );
			if ( unit[ 0 ] > 0 ) {
				value[ x ] = unit[ 0 ] * factor + unit[ 1 ];
			}
		});
		return value;
	}
});

// return an effect options object for the given parameters:
function _normalizeArguments( effect, options, speed, callback ) {

	// allow passing all options as the first parameter
	if ( $.isPlainObject( effect ) ) {
		options = effect;
		effect = effect.effect;
	}

	// convert to an object
	effect = { effect: effect };

	// catch (effect, null, ...)
	if ( options == null ) {
		options = {};
	}

	// catch (effect, callback)
	if ( $.isFunction( options ) ) {
		callback = options;
		speed = null;
		options = {};
	}

	// catch (effect, speed, ?)
	if ( typeof options === "number" || $.fx.speeds[ options ] ) {
		callback = speed;
		speed = options;
		options = {};
	}

	// catch (effect, options, callback)
	if ( $.isFunction( speed ) ) {
		callback = speed;
		speed = null;
	}

	// add options to effect
	if ( options ) {
		$.extend( effect, options );
	}

	speed = speed || options.duration;
	effect.duration = $.fx.off ? 0 :
		typeof speed === "number" ? speed :
		speed in $.fx.speeds ? $.fx.speeds[ speed ] :
		$.fx.speeds._default;

	effect.complete = callback || options.complete;

	return effect;
}

function standardAnimationOption( option ) {
	// Valid standard speeds (nothing, number, named speed)
	if ( !option || typeof option === "number" || $.fx.speeds[ option ] ) {
		return true;
	}

	// Invalid strings - treat as "normal" speed
	if ( typeof option === "string" && !$.effects.effect[ option ] ) {
		return true;
	}

	// Complete callback
	if ( $.isFunction( option ) ) {
		return true;
	}

	// Options hash (but not naming an effect)
	if ( typeof option === "object" && !option.effect ) {
		return true;
	}

	// Didn't match any standard API
	return false;
}

$.fn.extend({
	effect: function( /* effect, options, speed, callback */ ) {
		var args = _normalizeArguments.apply( this, arguments ),
			mode = args.mode,
			queue = args.queue,
			effectMethod = $.effects.effect[ args.effect ];

		if ( $.fx.off || !effectMethod ) {
			// delegate to the original method (e.g., .show()) if possible
			if ( mode ) {
				return this[ mode ]( args.duration, args.complete );
			} else {
				return this.each( function() {
					if ( args.complete ) {
						args.complete.call( this );
					}
				});
			}
		}

		function run( next ) {
			var elem = $( this ),
				complete = args.complete,
				mode = args.mode;

			function done() {
				if ( $.isFunction( complete ) ) {
					complete.call( elem[0] );
				}
				if ( $.isFunction( next ) ) {
					next();
				}
			}

			// If the element already has the correct final state, delegate to
			// the core methods so the internal tracking of "olddisplay" works.
			if ( elem.is( ":hidden" ) ? mode === "hide" : mode === "show" ) {
				elem[ mode ]();
				done();
			} else {
				effectMethod.call( elem[0], args, done );
			}
		}

		return queue === false ? this.each( run ) : this.queue( queue || "fx", run );
	},

	show: (function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "show";
				return this.effect.call( this, args );
			}
		};
	})( $.fn.show ),

	hide: (function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "hide";
				return this.effect.call( this, args );
			}
		};
	})( $.fn.hide ),

	toggle: (function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) || typeof option === "boolean" ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "toggle";
				return this.effect.call( this, args );
			}
		};
	})( $.fn.toggle ),

	// helper functions
	cssUnit: function(key) {
		var style = this.css( key ),
			val = [];

		$.each( [ "em", "px", "%", "pt" ], function( i, unit ) {
			if ( style.indexOf( unit ) > 0 ) {
				val = [ parseFloat( style ), unit ];
			}
		});
		return val;
	}
});

})();

/******************************************************************************/
/*********************************** EASING ***********************************/
/******************************************************************************/

(function() {

// based on easing equations from Robert Penner (http://www.robertpenner.com/easing)

var baseEasings = {};

$.each( [ "Quad", "Cubic", "Quart", "Quint", "Expo" ], function( i, name ) {
	baseEasings[ name ] = function( p ) {
		return Math.pow( p, i + 2 );
	};
});

$.extend( baseEasings, {
	Sine: function( p ) {
		return 1 - Math.cos( p * Math.PI / 2 );
	},
	Circ: function( p ) {
		return 1 - Math.sqrt( 1 - p * p );
	},
	Elastic: function( p ) {
		return p === 0 || p === 1 ? p :
			-Math.pow( 2, 8 * (p - 1) ) * Math.sin( ( (p - 1) * 80 - 7.5 ) * Math.PI / 15 );
	},
	Back: function( p ) {
		return p * p * ( 3 * p - 2 );
	},
	Bounce: function( p ) {
		var pow2,
			bounce = 4;

		while ( p < ( ( pow2 = Math.pow( 2, --bounce ) ) - 1 ) / 11 ) {}
		return 1 / Math.pow( 4, 3 - bounce ) - 7.5625 * Math.pow( ( pow2 * 3 - 2 ) / 22 - p, 2 );
	}
});

$.each( baseEasings, function( name, easeIn ) {
	$.easing[ "easeIn" + name ] = easeIn;
	$.easing[ "easeOut" + name ] = function( p ) {
		return 1 - easeIn( 1 - p );
	};
	$.easing[ "easeInOut" + name ] = function( p ) {
		return p < 0.5 ?
			easeIn( p * 2 ) / 2 :
			1 - easeIn( p * -2 + 2 ) / 2;
	};
});

})();

var effect = $.effects;


/*!
 * jQuery UI Effects Blind 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 */


var effectBlind = $.effects.effect.blind = function( o, done ) {
	// Create element
	var el = $( this ),
		rvertical = /up|down|vertical/,
		rpositivemotion = /up|left|vertical|horizontal/,
		props = [ "position", "top", "bottom", "left", "right", "height", "width" ],
		mode = $.effects.setMode( el, o.mode || "hide" ),
		direction = o.direction || "up",
		vertical = rvertical.test( direction ),
		ref = vertical ? "height" : "width",
		ref2 = vertical ? "top" : "left",
		motion = rpositivemotion.test( direction ),
		animation = {},
		show = mode === "show",
		wrapper, distance, margin;

	// if already wrapped, the wrapper's properties are my property. #6245
	if ( el.parent().is( ".ui-effects-wrapper" ) ) {
		$.effects.save( el.parent(), props );
	} else {
		$.effects.save( el, props );
	}
	el.show();
	wrapper = $.effects.createWrapper( el ).css({
		overflow: "hidden"
	});

	distance = wrapper[ ref ]();
	margin = parseFloat( wrapper.css( ref2 ) ) || 0;

	animation[ ref ] = show ? distance : 0;
	if ( !motion ) {
		el
			.css( vertical ? "bottom" : "right", 0 )
			.css( vertical ? "top" : "left", "auto" )
			.css({ position: "absolute" });

		animation[ ref2 ] = show ? margin : distance + margin;
	}

	// start at 0 if we are showing
	if ( show ) {
		wrapper.css( ref, 0 );
		if ( !motion ) {
			wrapper.css( ref2, margin + distance );
		}
	}

	// Animate
	wrapper.animate( animation, {
		duration: o.duration,
		easing: o.easing,
		queue: false,
		complete: function() {
			if ( mode === "hide" ) {
				el.hide();
			}
			$.effects.restore( el, props );
			$.effects.removeWrapper( el );
			done();
		}
	});
};


/*!
 * jQuery UI Effects Bounce 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/bounce-effect/
 */


var effectBounce = $.effects.effect.bounce = function( o, done ) {
	var el = $( this ),
		props = [ "position", "top", "bottom", "left", "right", "height", "width" ],

		// defaults:
		mode = $.effects.setMode( el, o.mode || "effect" ),
		hide = mode === "hide",
		show = mode === "show",
		direction = o.direction || "up",
		distance = o.distance,
		times = o.times || 5,

		// number of internal animations
		anims = times * 2 + ( show || hide ? 1 : 0 ),
		speed = o.duration / anims,
		easing = o.easing,

		// utility:
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		motion = ( direction === "up" || direction === "left" ),
		i,
		upAnim,
		downAnim,

		// we will need to re-assemble the queue to stack our animations in place
		queue = el.queue(),
		queuelen = queue.length;

	// Avoid touching opacity to prevent clearType and PNG issues in IE
	if ( show || hide ) {
		props.push( "opacity" );
	}

	$.effects.save( el, props );
	el.show();
	$.effects.createWrapper( el ); // Create Wrapper

	// default distance for the BIGGEST bounce is the outer Distance / 3
	if ( !distance ) {
		distance = el[ ref === "top" ? "outerHeight" : "outerWidth" ]() / 3;
	}

	if ( show ) {
		downAnim = { opacity: 1 };
		downAnim[ ref ] = 0;

		// if we are showing, force opacity 0 and set the initial position
		// then do the "first" animation
		el.css( "opacity", 0 )
			.css( ref, motion ? -distance * 2 : distance * 2 )
			.animate( downAnim, speed, easing );
	}

	// start at the smallest distance if we are hiding
	if ( hide ) {
		distance = distance / Math.pow( 2, times - 1 );
	}

	downAnim = {};
	downAnim[ ref ] = 0;
	// Bounces up/down/left/right then back to 0 -- times * 2 animations happen here
	for ( i = 0; i < times; i++ ) {
		upAnim = {};
		upAnim[ ref ] = ( motion ? "-=" : "+=" ) + distance;

		el.animate( upAnim, speed, easing )
			.animate( downAnim, speed, easing );

		distance = hide ? distance * 2 : distance / 2;
	}

	// Last Bounce when Hiding
	if ( hide ) {
		upAnim = { opacity: 0 };
		upAnim[ ref ] = ( motion ? "-=" : "+=" ) + distance;

		el.animate( upAnim, speed, easing );
	}

	el.queue(function() {
		if ( hide ) {
			el.hide();
		}
		$.effects.restore( el, props );
		$.effects.removeWrapper( el );
		done();
	});

	// inject all the animations we just queued to be first in line (after "inprogress")
	if ( queuelen > 1) {
		queue.splice.apply( queue,
			[ 1, 0 ].concat( queue.splice( queuelen, anims + 1 ) ) );
	}
	el.dequeue();

};


/*!
 * jQuery UI Effects Clip 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/clip-effect/
 */


var effectClip = $.effects.effect.clip = function( o, done ) {
	// Create element
	var el = $( this ),
		props = [ "position", "top", "bottom", "left", "right", "height", "width" ],
		mode = $.effects.setMode( el, o.mode || "hide" ),
		show = mode === "show",
		direction = o.direction || "vertical",
		vert = direction === "vertical",
		size = vert ? "height" : "width",
		position = vert ? "top" : "left",
		animation = {},
		wrapper, animate, distance;

	// Save & Show
	$.effects.save( el, props );
	el.show();

	// Create Wrapper
	wrapper = $.effects.createWrapper( el ).css({
		overflow: "hidden"
	});
	animate = ( el[0].tagName === "IMG" ) ? wrapper : el;
	distance = animate[ size ]();

	// Shift
	if ( show ) {
		animate.css( size, 0 );
		animate.css( position, distance / 2 );
	}

	// Create Animation Object:
	animation[ size ] = show ? distance : 0;
	animation[ position ] = show ? 0 : distance / 2;

	// Animate
	animate.animate( animation, {
		queue: false,
		duration: o.duration,
		easing: o.easing,
		complete: function() {
			if ( !show ) {
				el.hide();
			}
			$.effects.restore( el, props );
			$.effects.removeWrapper( el );
			done();
		}
	});

};


/*!
 * jQuery UI Effects Drop 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/drop-effect/
 */


var effectDrop = $.effects.effect.drop = function( o, done ) {

	var el = $( this ),
		props = [ "position", "top", "bottom", "left", "right", "opacity", "height", "width" ],
		mode = $.effects.setMode( el, o.mode || "hide" ),
		show = mode === "show",
		direction = o.direction || "left",
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		motion = ( direction === "up" || direction === "left" ) ? "pos" : "neg",
		animation = {
			opacity: show ? 1 : 0
		},
		distance;

	// Adjust
	$.effects.save( el, props );
	el.show();
	$.effects.createWrapper( el );

	distance = o.distance || el[ ref === "top" ? "outerHeight" : "outerWidth" ]( true ) / 2;

	if ( show ) {
		el
			.css( "opacity", 0 )
			.css( ref, motion === "pos" ? -distance : distance );
	}

	// Animation
	animation[ ref ] = ( show ?
		( motion === "pos" ? "+=" : "-=" ) :
		( motion === "pos" ? "-=" : "+=" ) ) +
		distance;

	// Animate
	el.animate( animation, {
		queue: false,
		duration: o.duration,
		easing: o.easing,
		complete: function() {
			if ( mode === "hide" ) {
				el.hide();
			}
			$.effects.restore( el, props );
			$.effects.removeWrapper( el );
			done();
		}
	});
};


/*!
 * jQuery UI Effects Explode 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/explode-effect/
 */


var effectExplode = $.effects.effect.explode = function( o, done ) {

	var rows = o.pieces ? Math.round( Math.sqrt( o.pieces ) ) : 3,
		cells = rows,
		el = $( this ),
		mode = $.effects.setMode( el, o.mode || "hide" ),
		show = mode === "show",

		// show and then visibility:hidden the element before calculating offset
		offset = el.show().css( "visibility", "hidden" ).offset(),

		// width and height of a piece
		width = Math.ceil( el.outerWidth() / cells ),
		height = Math.ceil( el.outerHeight() / rows ),
		pieces = [],

		// loop
		i, j, left, top, mx, my;

	// children animate complete:
	function childComplete() {
		pieces.push( this );
		if ( pieces.length === rows * cells ) {
			animComplete();
		}
	}

	// clone the element for each row and cell.
	for ( i = 0; i < rows ; i++ ) { // ===>
		top = offset.top + i * height;
		my = i - ( rows - 1 ) / 2 ;

		for ( j = 0; j < cells ; j++ ) { // |||
			left = offset.left + j * width;
			mx = j - ( cells - 1 ) / 2 ;

			// Create a clone of the now hidden main element that will be absolute positioned
			// within a wrapper div off the -left and -top equal to size of our pieces
			el
				.clone()
				.appendTo( "body" )
				.wrap( "<div></div>" )
				.css({
					position: "absolute",
					visibility: "visible",
					left: -j * width,
					top: -i * height
				})

			// select the wrapper - make it overflow: hidden and absolute positioned based on
			// where the original was located +left and +top equal to the size of pieces
				.parent()
				.addClass( "ui-effects-explode" )
				.css({
					position: "absolute",
					overflow: "hidden",
					width: width,
					height: height,
					left: left + ( show ? mx * width : 0 ),
					top: top + ( show ? my * height : 0 ),
					opacity: show ? 0 : 1
				}).animate({
					left: left + ( show ? 0 : mx * width ),
					top: top + ( show ? 0 : my * height ),
					opacity: show ? 1 : 0
				}, o.duration || 500, o.easing, childComplete );
		}
	}

	function animComplete() {
		el.css({
			visibility: "visible"
		});
		$( pieces ).remove();
		if ( !show ) {
			el.hide();
		}
		done();
	}
};


/*!
 * jQuery UI Effects Fade 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fade-effect/
 */


var effectFade = $.effects.effect.fade = function( o, done ) {
	var el = $( this ),
		mode = $.effects.setMode( el, o.mode || "toggle" );

	el.animate({
		opacity: mode
	}, {
		queue: false,
		duration: o.duration,
		easing: o.easing,
		complete: done
	});
};


/*!
 * jQuery UI Effects Fold 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fold-effect/
 */


var effectFold = $.effects.effect.fold = function( o, done ) {

	// Create element
	var el = $( this ),
		props = [ "position", "top", "bottom", "left", "right", "height", "width" ],
		mode = $.effects.setMode( el, o.mode || "hide" ),
		show = mode === "show",
		hide = mode === "hide",
		size = o.size || 15,
		percent = /([0-9]+)%/.exec( size ),
		horizFirst = !!o.horizFirst,
		widthFirst = show !== horizFirst,
		ref = widthFirst ? [ "width", "height" ] : [ "height", "width" ],
		duration = o.duration / 2,
		wrapper, distance,
		animation1 = {},
		animation2 = {};

	$.effects.save( el, props );
	el.show();

	// Create Wrapper
	wrapper = $.effects.createWrapper( el ).css({
		overflow: "hidden"
	});
	distance = widthFirst ?
		[ wrapper.width(), wrapper.height() ] :
		[ wrapper.height(), wrapper.width() ];

	if ( percent ) {
		size = parseInt( percent[ 1 ], 10 ) / 100 * distance[ hide ? 0 : 1 ];
	}
	if ( show ) {
		wrapper.css( horizFirst ? {
			height: 0,
			width: size
		} : {
			height: size,
			width: 0
		});
	}

	// Animation
	animation1[ ref[ 0 ] ] = show ? distance[ 0 ] : size;
	animation2[ ref[ 1 ] ] = show ? distance[ 1 ] : 0;

	// Animate
	wrapper
		.animate( animation1, duration, o.easing )
		.animate( animation2, duration, o.easing, function() {
			if ( hide ) {
				el.hide();
			}
			$.effects.restore( el, props );
			$.effects.removeWrapper( el );
			done();
		});

};


/*!
 * jQuery UI Effects Highlight 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 */


var effectHighlight = $.effects.effect.highlight = function( o, done ) {
	var elem = $( this ),
		props = [ "backgroundImage", "backgroundColor", "opacity" ],
		mode = $.effects.setMode( elem, o.mode || "show" ),
		animation = {
			backgroundColor: elem.css( "backgroundColor" )
		};

	if (mode === "hide") {
		animation.opacity = 0;
	}

	$.effects.save( elem, props );

	elem
		.show()
		.css({
			backgroundImage: "none",
			backgroundColor: o.color || "#ffff99"
		})
		.animate( animation, {
			queue: false,
			duration: o.duration,
			easing: o.easing,
			complete: function() {
				if ( mode === "hide" ) {
					elem.hide();
				}
				$.effects.restore( elem, props );
				done();
			}
		});
};


/*!
 * jQuery UI Effects Size 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/size-effect/
 */


var effectSize = $.effects.effect.size = function( o, done ) {

	// Create element
	var original, baseline, factor,
		el = $( this ),
		props0 = [ "position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity" ],

		// Always restore
		props1 = [ "position", "top", "bottom", "left", "right", "overflow", "opacity" ],

		// Copy for children
		props2 = [ "width", "height", "overflow" ],
		cProps = [ "fontSize" ],
		vProps = [ "borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom" ],
		hProps = [ "borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight" ],

		// Set options
		mode = $.effects.setMode( el, o.mode || "effect" ),
		restore = o.restore || mode !== "effect",
		scale = o.scale || "both",
		origin = o.origin || [ "middle", "center" ],
		position = el.css( "position" ),
		props = restore ? props0 : props1,
		zero = {
			height: 0,
			width: 0,
			outerHeight: 0,
			outerWidth: 0
		};

	if ( mode === "show" ) {
		el.show();
	}
	original = {
		height: el.height(),
		width: el.width(),
		outerHeight: el.outerHeight(),
		outerWidth: el.outerWidth()
	};

	if ( o.mode === "toggle" && mode === "show" ) {
		el.from = o.to || zero;
		el.to = o.from || original;
	} else {
		el.from = o.from || ( mode === "show" ? zero : original );
		el.to = o.to || ( mode === "hide" ? zero : original );
	}

	// Set scaling factor
	factor = {
		from: {
			y: el.from.height / original.height,
			x: el.from.width / original.width
		},
		to: {
			y: el.to.height / original.height,
			x: el.to.width / original.width
		}
	};

	// Scale the css box
	if ( scale === "box" || scale === "both" ) {

		// Vertical props scaling
		if ( factor.from.y !== factor.to.y ) {
			props = props.concat( vProps );
			el.from = $.effects.setTransition( el, vProps, factor.from.y, el.from );
			el.to = $.effects.setTransition( el, vProps, factor.to.y, el.to );
		}

		// Horizontal props scaling
		if ( factor.from.x !== factor.to.x ) {
			props = props.concat( hProps );
			el.from = $.effects.setTransition( el, hProps, factor.from.x, el.from );
			el.to = $.effects.setTransition( el, hProps, factor.to.x, el.to );
		}
	}

	// Scale the content
	if ( scale === "content" || scale === "both" ) {

		// Vertical props scaling
		if ( factor.from.y !== factor.to.y ) {
			props = props.concat( cProps ).concat( props2 );
			el.from = $.effects.setTransition( el, cProps, factor.from.y, el.from );
			el.to = $.effects.setTransition( el, cProps, factor.to.y, el.to );
		}
	}

	$.effects.save( el, props );
	el.show();
	$.effects.createWrapper( el );
	el.css( "overflow", "hidden" ).css( el.from );

	// Adjust
	if (origin) { // Calculate baseline shifts
		baseline = $.effects.getBaseline( origin, original );
		el.from.top = ( original.outerHeight - el.outerHeight() ) * baseline.y;
		el.from.left = ( original.outerWidth - el.outerWidth() ) * baseline.x;
		el.to.top = ( original.outerHeight - el.to.outerHeight ) * baseline.y;
		el.to.left = ( original.outerWidth - el.to.outerWidth ) * baseline.x;
	}
	el.css( el.from ); // set top & left

	// Animate
	if ( scale === "content" || scale === "both" ) { // Scale the children

		// Add margins/font-size
		vProps = vProps.concat([ "marginTop", "marginBottom" ]).concat(cProps);
		hProps = hProps.concat([ "marginLeft", "marginRight" ]);
		props2 = props0.concat(vProps).concat(hProps);

		el.find( "*[width]" ).each( function() {
			var child = $( this ),
				c_original = {
					height: child.height(),
					width: child.width(),
					outerHeight: child.outerHeight(),
					outerWidth: child.outerWidth()
				};
			if (restore) {
				$.effects.save(child, props2);
			}

			child.from = {
				height: c_original.height * factor.from.y,
				width: c_original.width * factor.from.x,
				outerHeight: c_original.outerHeight * factor.from.y,
				outerWidth: c_original.outerWidth * factor.from.x
			};
			child.to = {
				height: c_original.height * factor.to.y,
				width: c_original.width * factor.to.x,
				outerHeight: c_original.height * factor.to.y,
				outerWidth: c_original.width * factor.to.x
			};

			// Vertical props scaling
			if ( factor.from.y !== factor.to.y ) {
				child.from = $.effects.setTransition( child, vProps, factor.from.y, child.from );
				child.to = $.effects.setTransition( child, vProps, factor.to.y, child.to );
			}

			// Horizontal props scaling
			if ( factor.from.x !== factor.to.x ) {
				child.from = $.effects.setTransition( child, hProps, factor.from.x, child.from );
				child.to = $.effects.setTransition( child, hProps, factor.to.x, child.to );
			}

			// Animate children
			child.css( child.from );
			child.animate( child.to, o.duration, o.easing, function() {

				// Restore children
				if ( restore ) {
					$.effects.restore( child, props2 );
				}
			});
		});
	}

	// Animate
	el.animate( el.to, {
		queue: false,
		duration: o.duration,
		easing: o.easing,
		complete: function() {
			if ( el.to.opacity === 0 ) {
				el.css( "opacity", el.from.opacity );
			}
			if ( mode === "hide" ) {
				el.hide();
			}
			$.effects.restore( el, props );
			if ( !restore ) {

				// we need to calculate our new positioning based on the scaling
				if ( position === "static" ) {
					el.css({
						position: "relative",
						top: el.to.top,
						left: el.to.left
					});
				} else {
					$.each([ "top", "left" ], function( idx, pos ) {
						el.css( pos, function( _, str ) {
							var val = parseInt( str, 10 ),
								toRef = idx ? el.to.left : el.to.top;

							// if original was "auto", recalculate the new value from wrapper
							if ( str === "auto" ) {
								return toRef + "px";
							}

							return val + toRef + "px";
						});
					});
				}
			}

			$.effects.removeWrapper( el );
			done();
		}
	});

};


/*!
 * jQuery UI Effects Scale 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/scale-effect/
 */


var effectScale = $.effects.effect.scale = function( o, done ) {

	// Create element
	var el = $( this ),
		options = $.extend( true, {}, o ),
		mode = $.effects.setMode( el, o.mode || "effect" ),
		percent = parseInt( o.percent, 10 ) ||
			( parseInt( o.percent, 10 ) === 0 ? 0 : ( mode === "hide" ? 0 : 100 ) ),
		direction = o.direction || "both",
		origin = o.origin,
		original = {
			height: el.height(),
			width: el.width(),
			outerHeight: el.outerHeight(),
			outerWidth: el.outerWidth()
		},
		factor = {
			y: direction !== "horizontal" ? (percent / 100) : 1,
			x: direction !== "vertical" ? (percent / 100) : 1
		};

	// We are going to pass this effect to the size effect:
	options.effect = "size";
	options.queue = false;
	options.complete = done;

	// Set default origin and restore for show/hide
	if ( mode !== "effect" ) {
		options.origin = origin || [ "middle", "center" ];
		options.restore = true;
	}

	options.from = o.from || ( mode === "show" ? {
		height: 0,
		width: 0,
		outerHeight: 0,
		outerWidth: 0
	} : original );
	options.to = {
		height: original.height * factor.y,
		width: original.width * factor.x,
		outerHeight: original.outerHeight * factor.y,
		outerWidth: original.outerWidth * factor.x
	};

	// Fade option to support puff
	if ( options.fade ) {
		if ( mode === "show" ) {
			options.from.opacity = 0;
			options.to.opacity = 1;
		}
		if ( mode === "hide" ) {
			options.from.opacity = 1;
			options.to.opacity = 0;
		}
	}

	// Animate
	el.effect( options );

};


/*!
 * jQuery UI Effects Puff 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/puff-effect/
 */


var effectPuff = $.effects.effect.puff = function( o, done ) {
	var elem = $( this ),
		mode = $.effects.setMode( elem, o.mode || "hide" ),
		hide = mode === "hide",
		percent = parseInt( o.percent, 10 ) || 150,
		factor = percent / 100,
		original = {
			height: elem.height(),
			width: elem.width(),
			outerHeight: elem.outerHeight(),
			outerWidth: elem.outerWidth()
		};

	$.extend( o, {
		effect: "scale",
		queue: false,
		fade: true,
		mode: mode,
		complete: done,
		percent: hide ? percent : 100,
		from: hide ?
			original :
			{
				height: original.height * factor,
				width: original.width * factor,
				outerHeight: original.outerHeight * factor,
				outerWidth: original.outerWidth * factor
			}
	});

	elem.effect( o );
};


/*!
 * jQuery UI Effects Pulsate 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/pulsate-effect/
 */


var effectPulsate = $.effects.effect.pulsate = function( o, done ) {
	var elem = $( this ),
		mode = $.effects.setMode( elem, o.mode || "show" ),
		show = mode === "show",
		hide = mode === "hide",
		showhide = ( show || mode === "hide" ),

		// showing or hiding leaves of the "last" animation
		anims = ( ( o.times || 5 ) * 2 ) + ( showhide ? 1 : 0 ),
		duration = o.duration / anims,
		animateTo = 0,
		queue = elem.queue(),
		queuelen = queue.length,
		i;

	if ( show || !elem.is(":visible")) {
		elem.css( "opacity", 0 ).show();
		animateTo = 1;
	}

	// anims - 1 opacity "toggles"
	for ( i = 1; i < anims; i++ ) {
		elem.animate({
			opacity: animateTo
		}, duration, o.easing );
		animateTo = 1 - animateTo;
	}

	elem.animate({
		opacity: animateTo
	}, duration, o.easing);

	elem.queue(function() {
		if ( hide ) {
			elem.hide();
		}
		done();
	});

	// We just queued up "anims" animations, we need to put them next in the queue
	if ( queuelen > 1 ) {
		queue.splice.apply( queue,
			[ 1, 0 ].concat( queue.splice( queuelen, anims + 1 ) ) );
	}
	elem.dequeue();
};


/*!
 * jQuery UI Effects Shake 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/shake-effect/
 */


var effectShake = $.effects.effect.shake = function( o, done ) {

	var el = $( this ),
		props = [ "position", "top", "bottom", "left", "right", "height", "width" ],
		mode = $.effects.setMode( el, o.mode || "effect" ),
		direction = o.direction || "left",
		distance = o.distance || 20,
		times = o.times || 3,
		anims = times * 2 + 1,
		speed = Math.round( o.duration / anims ),
		ref = (direction === "up" || direction === "down") ? "top" : "left",
		positiveMotion = (direction === "up" || direction === "left"),
		animation = {},
		animation1 = {},
		animation2 = {},
		i,

		// we will need to re-assemble the queue to stack our animations in place
		queue = el.queue(),
		queuelen = queue.length;

	$.effects.save( el, props );
	el.show();
	$.effects.createWrapper( el );

	// Animation
	animation[ ref ] = ( positiveMotion ? "-=" : "+=" ) + distance;
	animation1[ ref ] = ( positiveMotion ? "+=" : "-=" ) + distance * 2;
	animation2[ ref ] = ( positiveMotion ? "-=" : "+=" ) + distance * 2;

	// Animate
	el.animate( animation, speed, o.easing );

	// Shakes
	for ( i = 1; i < times; i++ ) {
		el.animate( animation1, speed, o.easing ).animate( animation2, speed, o.easing );
	}
	el
		.animate( animation1, speed, o.easing )
		.animate( animation, speed / 2, o.easing )
		.queue(function() {
			if ( mode === "hide" ) {
				el.hide();
			}
			$.effects.restore( el, props );
			$.effects.removeWrapper( el );
			done();
		});

	// inject all the animations we just queued to be first in line (after "inprogress")
	if ( queuelen > 1) {
		queue.splice.apply( queue,
			[ 1, 0 ].concat( queue.splice( queuelen, anims + 1 ) ) );
	}
	el.dequeue();

};


/*!
 * jQuery UI Effects Slide 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 */


var effectSlide = $.effects.effect.slide = function( o, done ) {

	// Create element
	var el = $( this ),
		props = [ "position", "top", "bottom", "left", "right", "width", "height" ],
		mode = $.effects.setMode( el, o.mode || "show" ),
		show = mode === "show",
		direction = o.direction || "left",
		ref = (direction === "up" || direction === "down") ? "top" : "left",
		positiveMotion = (direction === "up" || direction === "left"),
		distance,
		animation = {};

	// Adjust
	$.effects.save( el, props );
	el.show();
	distance = o.distance || el[ ref === "top" ? "outerHeight" : "outerWidth" ]( true );

	$.effects.createWrapper( el ).css({
		overflow: "hidden"
	});

	if ( show ) {
		el.css( ref, positiveMotion ? (isNaN(distance) ? "-" + distance : -distance) : distance );
	}

	// Animation
	animation[ ref ] = ( show ?
		( positiveMotion ? "+=" : "-=") :
		( positiveMotion ? "-=" : "+=")) +
		distance;

	// Animate
	el.animate( animation, {
		queue: false,
		duration: o.duration,
		easing: o.easing,
		complete: function() {
			if ( mode === "hide" ) {
				el.hide();
			}
			$.effects.restore( el, props );
			$.effects.removeWrapper( el );
			done();
		}
	});
};


/*!
 * jQuery UI Effects Transfer 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/transfer-effect/
 */


var effectTransfer = $.effects.effect.transfer = function( o, done ) {
	var elem = $( this ),
		target = $( o.to ),
		targetFixed = target.css( "position" ) === "fixed",
		body = $("body"),
		fixTop = targetFixed ? body.scrollTop() : 0,
		fixLeft = targetFixed ? body.scrollLeft() : 0,
		endPosition = target.offset(),
		animation = {
			top: endPosition.top - fixTop,
			left: endPosition.left - fixLeft,
			height: target.innerHeight(),
			width: target.innerWidth()
		},
		startPosition = elem.offset(),
		transfer = $( "<div class='ui-effects-transfer'></div>" )
			.appendTo( document.body )
			.addClass( o.className )
			.css({
				top: startPosition.top - fixTop,
				left: startPosition.left - fixLeft,
				height: elem.innerHeight(),
				width: elem.innerWidth(),
				position: targetFixed ? "fixed" : "absolute"
			})
			.animate( animation, o.duration, o.easing, function() {
				transfer.remove();
				done();
			});
};


/*!
 * jQuery UI Progressbar 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/progressbar/
 */


var progressbar = $.widget( "ui.progressbar", {
	version: "1.11.4",
	options: {
		max: 100,
		value: 0,

		change: null,
		complete: null
	},

	min: 0,

	_create: function() {
		// Constrain initial value
		this.oldValue = this.options.value = this._constrainedValue();

		this.element
			.addClass( "ui-progressbar ui-widget ui-widget-content ui-corner-all" )
			.attr({
				// Only set static values, aria-valuenow and aria-valuemax are
				// set inside _refreshValue()
				role: "progressbar",
				"aria-valuemin": this.min
			});

		this.valueDiv = $( "<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>" )
			.appendTo( this.element );

		this._refreshValue();
	},

	_destroy: function() {
		this.element
			.removeClass( "ui-progressbar ui-widget ui-widget-content ui-corner-all" )
			.removeAttr( "role" )
			.removeAttr( "aria-valuemin" )
			.removeAttr( "aria-valuemax" )
			.removeAttr( "aria-valuenow" );

		this.valueDiv.remove();
	},

	value: function( newValue ) {
		if ( newValue === undefined ) {
			return this.options.value;
		}

		this.options.value = this._constrainedValue( newValue );
		this._refreshValue();
	},

	_constrainedValue: function( newValue ) {
		if ( newValue === undefined ) {
			newValue = this.options.value;
		}

		this.indeterminate = newValue === false;

		// sanitize value
		if ( typeof newValue !== "number" ) {
			newValue = 0;
		}

		return this.indeterminate ? false :
			Math.min( this.options.max, Math.max( this.min, newValue ) );
	},

	_setOptions: function( options ) {
		// Ensure "value" option is set after other values (like max)
		var value = options.value;
		delete options.value;

		this._super( options );

		this.options.value = this._constrainedValue( value );
		this._refreshValue();
	},

	_setOption: function( key, value ) {
		if ( key === "max" ) {
			// Don't allow a max less than min
			value = Math.max( this.min, value );
		}
		if ( key === "disabled" ) {
			this.element
				.toggleClass( "ui-state-disabled", !!value )
				.attr( "aria-disabled", value );
		}
		this._super( key, value );
	},

	_percentage: function() {
		return this.indeterminate ? 100 : 100 * ( this.options.value - this.min ) / ( this.options.max - this.min );
	},

	_refreshValue: function() {
		var value = this.options.value,
			percentage = this._percentage();

		this.valueDiv
			.toggle( this.indeterminate || value > this.min )
			.toggleClass( "ui-corner-right", value === this.options.max )
			.width( percentage.toFixed(0) + "%" );

		this.element.toggleClass( "ui-progressbar-indeterminate", this.indeterminate );

		if ( this.indeterminate ) {
			this.element.removeAttr( "aria-valuenow" );
			if ( !this.overlayDiv ) {
				this.overlayDiv = $( "<div class='ui-progressbar-overlay'></div>" ).appendTo( this.valueDiv );
			}
		} else {
			this.element.attr({
				"aria-valuemax": this.options.max,
				"aria-valuenow": value
			});
			if ( this.overlayDiv ) {
				this.overlayDiv.remove();
				this.overlayDiv = null;
			}
		}

		if ( this.oldValue !== value ) {
			this.oldValue = value;
			this._trigger( "change" );
		}
		if ( value === this.options.max ) {
			this._trigger( "complete" );
		}
	}
});


/*!
 * jQuery UI Selectable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectable/
 */


var selectable = $.widget("ui.selectable", $.ui.mouse, {
	version: "1.11.4",
	options: {
		appendTo: "body",
		autoRefresh: true,
		distance: 0,
		filter: "*",
		tolerance: "touch",

		// callbacks
		selected: null,
		selecting: null,
		start: null,
		stop: null,
		unselected: null,
		unselecting: null
	},
	_create: function() {
		var selectees,
			that = this;

		this.element.addClass("ui-selectable");

		this.dragged = false;

		// cache selectee children based on filter
		this.refresh = function() {
			selectees = $(that.options.filter, that.element[0]);
			selectees.addClass("ui-selectee");
			selectees.each(function() {
				var $this = $(this),
					pos = $this.offset();
				$.data(this, "selectable-item", {
					element: this,
					$element: $this,
					left: pos.left,
					top: pos.top,
					right: pos.left + $this.outerWidth(),
					bottom: pos.top + $this.outerHeight(),
					startselected: false,
					selected: $this.hasClass("ui-selected"),
					selecting: $this.hasClass("ui-selecting"),
					unselecting: $this.hasClass("ui-unselecting")
				});
			});
		};
		this.refresh();

		this.selectees = selectees.addClass("ui-selectee");

		this._mouseInit();

		this.helper = $("<div class='ui-selectable-helper'></div>");
	},

	_destroy: function() {
		this.selectees
			.removeClass("ui-selectee")
			.removeData("selectable-item");
		this.element
			.removeClass("ui-selectable ui-selectable-disabled");
		this._mouseDestroy();
	},

	_mouseStart: function(event) {
		var that = this,
			options = this.options;

		this.opos = [ event.pageX, event.pageY ];

		if (this.options.disabled) {
			return;
		}

		this.selectees = $(options.filter, this.element[0]);

		this._trigger("start", event);

		$(options.appendTo).append(this.helper);
		// position helper (lasso)
		this.helper.css({
			"left": event.pageX,
			"top": event.pageY,
			"width": 0,
			"height": 0
		});

		if (options.autoRefresh) {
			this.refresh();
		}

		this.selectees.filter(".ui-selected").each(function() {
			var selectee = $.data(this, "selectable-item");
			selectee.startselected = true;
			if (!event.metaKey && !event.ctrlKey) {
				selectee.$element.removeClass("ui-selected");
				selectee.selected = false;
				selectee.$element.addClass("ui-unselecting");
				selectee.unselecting = true;
				// selectable UNSELECTING callback
				that._trigger("unselecting", event, {
					unselecting: selectee.element
				});
			}
		});

		$(event.target).parents().addBack().each(function() {
			var doSelect,
				selectee = $.data(this, "selectable-item");
			if (selectee) {
				doSelect = (!event.metaKey && !event.ctrlKey) || !selectee.$element.hasClass("ui-selected");
				selectee.$element
					.removeClass(doSelect ? "ui-unselecting" : "ui-selected")
					.addClass(doSelect ? "ui-selecting" : "ui-unselecting");
				selectee.unselecting = !doSelect;
				selectee.selecting = doSelect;
				selectee.selected = doSelect;
				// selectable (UN)SELECTING callback
				if (doSelect) {
					that._trigger("selecting", event, {
						selecting: selectee.element
					});
				} else {
					that._trigger("unselecting", event, {
						unselecting: selectee.element
					});
				}
				return false;
			}
		});

	},

	_mouseDrag: function(event) {

		this.dragged = true;

		if (this.options.disabled) {
			return;
		}

		var tmp,
			that = this,
			options = this.options,
			x1 = this.opos[0],
			y1 = this.opos[1],
			x2 = event.pageX,
			y2 = event.pageY;

		if (x1 > x2) { tmp = x2; x2 = x1; x1 = tmp; }
		if (y1 > y2) { tmp = y2; y2 = y1; y1 = tmp; }
		this.helper.css({ left: x1, top: y1, width: x2 - x1, height: y2 - y1 });

		this.selectees.each(function() {
			var selectee = $.data(this, "selectable-item"),
				hit = false;

			//prevent helper from being selected if appendTo: selectable
			if (!selectee || selectee.element === that.element[0]) {
				return;
			}

			if (options.tolerance === "touch") {
				hit = ( !(selectee.left > x2 || selectee.right < x1 || selectee.top > y2 || selectee.bottom < y1) );
			} else if (options.tolerance === "fit") {
				hit = (selectee.left > x1 && selectee.right < x2 && selectee.top > y1 && selectee.bottom < y2);
			}

			if (hit) {
				// SELECT
				if (selectee.selected) {
					selectee.$element.removeClass("ui-selected");
					selectee.selected = false;
				}
				if (selectee.unselecting) {
					selectee.$element.removeClass("ui-unselecting");
					selectee.unselecting = false;
				}
				if (!selectee.selecting) {
					selectee.$element.addClass("ui-selecting");
					selectee.selecting = true;
					// selectable SELECTING callback
					that._trigger("selecting", event, {
						selecting: selectee.element
					});
				}
			} else {
				// UNSELECT
				if (selectee.selecting) {
					if ((event.metaKey || event.ctrlKey) && selectee.startselected) {
						selectee.$element.removeClass("ui-selecting");
						selectee.selecting = false;
						selectee.$element.addClass("ui-selected");
						selectee.selected = true;
					} else {
						selectee.$element.removeClass("ui-selecting");
						selectee.selecting = false;
						if (selectee.startselected) {
							selectee.$element.addClass("ui-unselecting");
							selectee.unselecting = true;
						}
						// selectable UNSELECTING callback
						that._trigger("unselecting", event, {
							unselecting: selectee.element
						});
					}
				}
				if (selectee.selected) {
					if (!event.metaKey && !event.ctrlKey && !selectee.startselected) {
						selectee.$element.removeClass("ui-selected");
						selectee.selected = false;

						selectee.$element.addClass("ui-unselecting");
						selectee.unselecting = true;
						// selectable UNSELECTING callback
						that._trigger("unselecting", event, {
							unselecting: selectee.element
						});
					}
				}
			}
		});

		return false;
	},

	_mouseStop: function(event) {
		var that = this;

		this.dragged = false;

		$(".ui-unselecting", this.element[0]).each(function() {
			var selectee = $.data(this, "selectable-item");
			selectee.$element.removeClass("ui-unselecting");
			selectee.unselecting = false;
			selectee.startselected = false;
			that._trigger("unselected", event, {
				unselected: selectee.element
			});
		});
		$(".ui-selecting", this.element[0]).each(function() {
			var selectee = $.data(this, "selectable-item");
			selectee.$element.removeClass("ui-selecting").addClass("ui-selected");
			selectee.selecting = false;
			selectee.selected = true;
			selectee.startselected = true;
			that._trigger("selected", event, {
				selected: selectee.element
			});
		});
		this._trigger("stop", event);

		this.helper.remove();

		return false;
	}

});


/*!
 * jQuery UI Selectmenu 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectmenu
 */


var selectmenu = $.widget( "ui.selectmenu", {
	version: "1.11.4",
	defaultElement: "<select>",
	options: {
		appendTo: null,
		disabled: null,
		icons: {
			button: "ui-icon-triangle-1-s"
		},
		position: {
			my: "left top",
			at: "left bottom",
			collision: "none"
		},
		width: null,

		// callbacks
		change: null,
		close: null,
		focus: null,
		open: null,
		select: null
	},

	_create: function() {
		var selectmenuId = this.element.uniqueId().attr( "id" );
		this.ids = {
			element: selectmenuId,
			button: selectmenuId + "-button",
			menu: selectmenuId + "-menu"
		};

		this._drawButton();
		this._drawMenu();

		if ( this.options.disabled ) {
			this.disable();
		}
	},

	_drawButton: function() {
		var that = this;

		// Associate existing label with the new button
		this.label = $( "label[for='" + this.ids.element + "']" ).attr( "for", this.ids.button );
		this._on( this.label, {
			click: function( event ) {
				this.button.focus();
				event.preventDefault();
			}
		});

		// Hide original select element
		this.element.hide();

		// Create button
		this.button = $( "<span>", {
			"class": "ui-selectmenu-button ui-widget ui-state-default ui-corner-all",
			tabindex: this.options.disabled ? -1 : 0,
			id: this.ids.button,
			role: "combobox",
			"aria-expanded": "false",
			"aria-autocomplete": "list",
			"aria-owns": this.ids.menu,
			"aria-haspopup": "true"
		})
			.insertAfter( this.element );

		$( "<span>", {
			"class": "ui-icon " + this.options.icons.button
		})
			.prependTo( this.button );

		this.buttonText = $( "<span>", {
			"class": "ui-selectmenu-text"
		})
			.appendTo( this.button );

		this._setText( this.buttonText, this.element.find( "option:selected" ).text() );
		this._resizeButton();

		this._on( this.button, this._buttonEvents );
		this.button.one( "focusin", function() {

			// Delay rendering the menu items until the button receives focus.
			// The menu may have already been rendered via a programmatic open.
			if ( !that.menuItems ) {
				that._refreshMenu();
			}
		});
		this._hoverable( this.button );
		this._focusable( this.button );
	},

	_drawMenu: function() {
		var that = this;

		// Create menu
		this.menu = $( "<ul>", {
			"aria-hidden": "true",
			"aria-labelledby": this.ids.button,
			id: this.ids.menu
		});

		// Wrap menu
		this.menuWrap = $( "<div>", {
			"class": "ui-selectmenu-menu ui-front"
		})
			.append( this.menu )
			.appendTo( this._appendTo() );

		// Initialize menu widget
		this.menuInstance = this.menu
			.menu({
				role: "listbox",
				select: function( event, ui ) {
					event.preventDefault();

					// support: IE8
					// If the item was selected via a click, the text selection
					// will be destroyed in IE
					that._setSelection();

					that._select( ui.item.data( "ui-selectmenu-item" ), event );
				},
				focus: function( event, ui ) {
					var item = ui.item.data( "ui-selectmenu-item" );

					// Prevent inital focus from firing and check if its a newly focused item
					if ( that.focusIndex != null && item.index !== that.focusIndex ) {
						that._trigger( "focus", event, { item: item } );
						if ( !that.isOpen ) {
							that._select( item, event );
						}
					}
					that.focusIndex = item.index;

					that.button.attr( "aria-activedescendant",
						that.menuItems.eq( item.index ).attr( "id" ) );
				}
			})
			.menu( "instance" );

		// Adjust menu styles to dropdown
		this.menu
			.addClass( "ui-corner-bottom" )
			.removeClass( "ui-corner-all" );

		// Don't close the menu on mouseleave
		this.menuInstance._off( this.menu, "mouseleave" );

		// Cancel the menu's collapseAll on document click
		this.menuInstance._closeOnDocumentClick = function() {
			return false;
		};

		// Selects often contain empty items, but never contain dividers
		this.menuInstance._isDivider = function() {
			return false;
		};
	},

	refresh: function() {
		this._refreshMenu();
		this._setText( this.buttonText, this._getSelectedItem().text() );
		if ( !this.options.width ) {
			this._resizeButton();
		}
	},

	_refreshMenu: function() {
		this.menu.empty();

		var item,
			options = this.element.find( "option" );

		if ( !options.length ) {
			return;
		}

		this._parseOptions( options );
		this._renderMenu( this.menu, this.items );

		this.menuInstance.refresh();
		this.menuItems = this.menu.find( "li" ).not( ".ui-selectmenu-optgroup" );

		item = this._getSelectedItem();

		// Update the menu to have the correct item focused
		this.menuInstance.focus( null, item );
		this._setAria( item.data( "ui-selectmenu-item" ) );

		// Set disabled state
		this._setOption( "disabled", this.element.prop( "disabled" ) );
	},

	open: function( event ) {
		if ( this.options.disabled ) {
			return;
		}

		// If this is the first time the menu is being opened, render the items
		if ( !this.menuItems ) {
			this._refreshMenu();
		} else {

			// Menu clears focus on close, reset focus to selected item
			this.menu.find( ".ui-state-focus" ).removeClass( "ui-state-focus" );
			this.menuInstance.focus( null, this._getSelectedItem() );
		}

		this.isOpen = true;
		this._toggleAttr();
		this._resizeMenu();
		this._position();

		this._on( this.document, this._documentClick );

		this._trigger( "open", event );
	},

	_position: function() {
		this.menuWrap.position( $.extend( { of: this.button }, this.options.position ) );
	},

	close: function( event ) {
		if ( !this.isOpen ) {
			return;
		}

		this.isOpen = false;
		this._toggleAttr();

		this.range = null;
		this._off( this.document );

		this._trigger( "close", event );
	},

	widget: function() {
		return this.button;
	},

	menuWidget: function() {
		return this.menu;
	},

	_renderMenu: function( ul, items ) {
		var that = this,
			currentOptgroup = "";

		$.each( items, function( index, item ) {
			if ( item.optgroup !== currentOptgroup ) {
				$( "<li>", {
					"class": "ui-selectmenu-optgroup ui-menu-divider" +
						( item.element.parent( "optgroup" ).prop( "disabled" ) ?
							" ui-state-disabled" :
							"" ),
					text: item.optgroup
				})
					.appendTo( ul );

				currentOptgroup = item.optgroup;
			}

			that._renderItemData( ul, item );
		});
	},

	_renderItemData: function( ul, item ) {
		return this._renderItem( ul, item ).data( "ui-selectmenu-item", item );
	},

	_renderItem: function( ul, item ) {
		var li = $( "<li>" );

		if ( item.disabled ) {
			li.addClass( "ui-state-disabled" );
		}
		this._setText( li, item.label );

		return li.appendTo( ul );
	},

	_setText: function( element, value ) {
		if ( value ) {
			element.text( value );
		} else {
			element.html( "&#160;" );
		}
	},

	_move: function( direction, event ) {
		var item, next,
			filter = ".ui-menu-item";

		if ( this.isOpen ) {
			item = this.menuItems.eq( this.focusIndex );
		} else {
			item = this.menuItems.eq( this.element[ 0 ].selectedIndex );
			filter += ":not(.ui-state-disabled)";
		}

		if ( direction === "first" || direction === "last" ) {
			next = item[ direction === "first" ? "prevAll" : "nextAll" ]( filter ).eq( -1 );
		} else {
			next = item[ direction + "All" ]( filter ).eq( 0 );
		}

		if ( next.length ) {
			this.menuInstance.focus( event, next );
		}
	},

	_getSelectedItem: function() {
		return this.menuItems.eq( this.element[ 0 ].selectedIndex );
	},

	_toggle: function( event ) {
		this[ this.isOpen ? "close" : "open" ]( event );
	},

	_setSelection: function() {
		var selection;

		if ( !this.range ) {
			return;
		}

		if ( window.getSelection ) {
			selection = window.getSelection();
			selection.removeAllRanges();
			selection.addRange( this.range );

		// support: IE8
		} else {
			this.range.select();
		}

		// support: IE
		// Setting the text selection kills the button focus in IE, but
		// restoring the focus doesn't kill the selection.
		this.button.focus();
	},

	_documentClick: {
		mousedown: function( event ) {
			if ( !this.isOpen ) {
				return;
			}

			if ( !$( event.target ).closest( ".ui-selectmenu-menu, #" + this.ids.button ).length ) {
				this.close( event );
			}
		}
	},

	_buttonEvents: {

		// Prevent text selection from being reset when interacting with the selectmenu (#10144)
		mousedown: function() {
			var selection;

			if ( window.getSelection ) {
				selection = window.getSelection();
				if ( selection.rangeCount ) {
					this.range = selection.getRangeAt( 0 );
				}

			// support: IE8
			} else {
				this.range = document.selection.createRange();
			}
		},

		click: function( event ) {
			this._setSelection();
			this._toggle( event );
		},

		keydown: function( event ) {
			var preventDefault = true;
			switch ( event.keyCode ) {
				case $.ui.keyCode.TAB:
				case $.ui.keyCode.ESCAPE:
					this.close( event );
					preventDefault = false;
					break;
				case $.ui.keyCode.ENTER:
					if ( this.isOpen ) {
						this._selectFocusedItem( event );
					}
					break;
				case $.ui.keyCode.UP:
					if ( event.altKey ) {
						this._toggle( event );
					} else {
						this._move( "prev", event );
					}
					break;
				case $.ui.keyCode.DOWN:
					if ( event.altKey ) {
						this._toggle( event );
					} else {
						this._move( "next", event );
					}
					break;
				case $.ui.keyCode.SPACE:
					if ( this.isOpen ) {
						this._selectFocusedItem( event );
					} else {
						this._toggle( event );
					}
					break;
				case $.ui.keyCode.LEFT:
					this._move( "prev", event );
					break;
				case $.ui.keyCode.RIGHT:
					this._move( "next", event );
					break;
				case $.ui.keyCode.HOME:
				case $.ui.keyCode.PAGE_UP:
					this._move( "first", event );
					break;
				case $.ui.keyCode.END:
				case $.ui.keyCode.PAGE_DOWN:
					this._move( "last", event );
					break;
				default:
					this.menu.trigger( event );
					preventDefault = false;
			}

			if ( preventDefault ) {
				event.preventDefault();
			}
		}
	},

	_selectFocusedItem: function( event ) {
		var item = this.menuItems.eq( this.focusIndex );
		if ( !item.hasClass( "ui-state-disabled" ) ) {
			this._select( item.data( "ui-selectmenu-item" ), event );
		}
	},

	_select: function( item, event ) {
		var oldIndex = this.element[ 0 ].selectedIndex;

		// Change native select element
		this.element[ 0 ].selectedIndex = item.index;
		this._setText( this.buttonText, item.label );
		this._setAria( item );
		this._trigger( "select", event, { item: item } );

		if ( item.index !== oldIndex ) {
			this._trigger( "change", event, { item: item } );
		}

		this.close( event );
	},

	_setAria: function( item ) {
		var id = this.menuItems.eq( item.index ).attr( "id" );

		this.button.attr({
			"aria-labelledby": id,
			"aria-activedescendant": id
		});
		this.menu.attr( "aria-activedescendant", id );
	},

	_setOption: function( key, value ) {
		if ( key === "icons" ) {
			this.button.find( "span.ui-icon" )
				.removeClass( this.options.icons.button )
				.addClass( value.button );
		}

		this._super( key, value );

		if ( key === "appendTo" ) {
			this.menuWrap.appendTo( this._appendTo() );
		}

		if ( key === "disabled" ) {
			this.menuInstance.option( "disabled", value );
			this.button
				.toggleClass( "ui-state-disabled", value )
				.attr( "aria-disabled", value );

			this.element.prop( "disabled", value );
			if ( value ) {
				this.button.attr( "tabindex", -1 );
				this.close();
			} else {
				this.button.attr( "tabindex", 0 );
			}
		}

		if ( key === "width" ) {
			this._resizeButton();
		}
	},

	_appendTo: function() {
		var element = this.options.appendTo;

		if ( element ) {
			element = element.jquery || element.nodeType ?
				$( element ) :
				this.document.find( element ).eq( 0 );
		}

		if ( !element || !element[ 0 ] ) {
			element = this.element.closest( ".ui-front" );
		}

		if ( !element.length ) {
			element = this.document[ 0 ].body;
		}

		return element;
	},

	_toggleAttr: function() {
		this.button
			.toggleClass( "ui-corner-top", this.isOpen )
			.toggleClass( "ui-corner-all", !this.isOpen )
			.attr( "aria-expanded", this.isOpen );
		this.menuWrap.toggleClass( "ui-selectmenu-open", this.isOpen );
		this.menu.attr( "aria-hidden", !this.isOpen );
	},

	_resizeButton: function() {
		var width = this.options.width;

		if ( !width ) {
			width = this.element.show().outerWidth();
			this.element.hide();
		}

		this.button.outerWidth( width );
	},

	_resizeMenu: function() {
		this.menu.outerWidth( Math.max(
			this.button.outerWidth(),

			// support: IE10
			// IE10 wraps long text (possibly a rounding bug)
			// so we add 1px to avoid the wrapping
			this.menu.width( "" ).outerWidth() + 1
		) );
	},

	_getCreateOptions: function() {
		return { disabled: this.element.prop( "disabled" ) };
	},

	_parseOptions: function( options ) {
		var data = [];
		options.each(function( index, item ) {
			var option = $( item ),
				optgroup = option.parent( "optgroup" );
			data.push({
				element: option,
				index: index,
				value: option.val(),
				label: option.text(),
				optgroup: optgroup.attr( "label" ) || "",
				disabled: optgroup.prop( "disabled" ) || option.prop( "disabled" )
			});
		});
		this.items = data;
	},

	_destroy: function() {
		this.menuWrap.remove();
		this.button.remove();
		this.element.show();
		this.element.removeUniqueId();
		this.label.attr( "for", this.ids.element );
	}
});


/*!
 * jQuery UI Slider 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 */


var slider = $.widget( "ui.slider", $.ui.mouse, {
	version: "1.11.4",
	widgetEventPrefix: "slide",

	options: {
		animate: false,
		distance: 0,
		max: 100,
		min: 0,
		orientation: "horizontal",
		range: false,
		step: 1,
		value: 0,
		values: null,

		// callbacks
		change: null,
		slide: null,
		start: null,
		stop: null
	},

	// number of pages in a slider
	// (how many times can you page up/down to go through the whole range)
	numPages: 5,

	_create: function() {
		this._keySliding = false;
		this._mouseSliding = false;
		this._animateOff = true;
		this._handleIndex = null;
		this._detectOrientation();
		this._mouseInit();
		this._calculateNewMax();

		this.element
			.addClass( "ui-slider" +
				" ui-slider-" + this.orientation +
				" ui-widget" +
				" ui-widget-content" +
				" ui-corner-all");

		this._refresh();
		this._setOption( "disabled", this.options.disabled );

		this._animateOff = false;
	},

	_refresh: function() {
		this._createRange();
		this._createHandles();
		this._setupEvents();
		this._refreshValue();
	},

	_createHandles: function() {
		var i, handleCount,
			options = this.options,
			existingHandles = this.element.find( ".ui-slider-handle" ).addClass( "ui-state-default ui-corner-all" ),
			handle = "<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",
			handles = [];

		handleCount = ( options.values && options.values.length ) || 1;

		if ( existingHandles.length > handleCount ) {
			existingHandles.slice( handleCount ).remove();
			existingHandles = existingHandles.slice( 0, handleCount );
		}

		for ( i = existingHandles.length; i < handleCount; i++ ) {
			handles.push( handle );
		}

		this.handles = existingHandles.add( $( handles.join( "" ) ).appendTo( this.element ) );

		this.handle = this.handles.eq( 0 );

		this.handles.each(function( i ) {
			$( this ).data( "ui-slider-handle-index", i );
		});
	},

	_createRange: function() {
		var options = this.options,
			classes = "";

		if ( options.range ) {
			if ( options.range === true ) {
				if ( !options.values ) {
					options.values = [ this._valueMin(), this._valueMin() ];
				} else if ( options.values.length && options.values.length !== 2 ) {
					options.values = [ options.values[0], options.values[0] ];
				} else if ( $.isArray( options.values ) ) {
					options.values = options.values.slice(0);
				}
			}

			if ( !this.range || !this.range.length ) {
				this.range = $( "<div></div>" )
					.appendTo( this.element );

				classes = "ui-slider-range" +
				// note: this isn't the most fittingly semantic framework class for this element,
				// but worked best visually with a variety of themes
				" ui-widget-header ui-corner-all";
			} else {
				this.range.removeClass( "ui-slider-range-min ui-slider-range-max" )
					// Handle range switching from true to min/max
					.css({
						"left": "",
						"bottom": ""
					});
			}

			this.range.addClass( classes +
				( ( options.range === "min" || options.range === "max" ) ? " ui-slider-range-" + options.range : "" ) );
		} else {
			if ( this.range ) {
				this.range.remove();
			}
			this.range = null;
		}
	},

	_setupEvents: function() {
		this._off( this.handles );
		this._on( this.handles, this._handleEvents );
		this._hoverable( this.handles );
		this._focusable( this.handles );
	},

	_destroy: function() {
		this.handles.remove();
		if ( this.range ) {
			this.range.remove();
		}

		this.element
			.removeClass( "ui-slider" +
				" ui-slider-horizontal" +
				" ui-slider-vertical" +
				" ui-widget" +
				" ui-widget-content" +
				" ui-corner-all" );

		this._mouseDestroy();
	},

	_mouseCapture: function( event ) {
		var position, normValue, distance, closestHandle, index, allowed, offset, mouseOverHandle,
			that = this,
			o = this.options;

		if ( o.disabled ) {
			return false;
		}

		this.elementSize = {
			width: this.element.outerWidth(),
			height: this.element.outerHeight()
		};
		this.elementOffset = this.element.offset();

		position = { x: event.pageX, y: event.pageY };
		normValue = this._normValueFromMouse( position );
		distance = this._valueMax() - this._valueMin() + 1;
		this.handles.each(function( i ) {
			var thisDistance = Math.abs( normValue - that.values(i) );
			if (( distance > thisDistance ) ||
				( distance === thisDistance &&
					(i === that._lastChangedValue || that.values(i) === o.min ))) {
				distance = thisDistance;
				closestHandle = $( this );
				index = i;
			}
		});

		allowed = this._start( event, index );
		if ( allowed === false ) {
			return false;
		}
		this._mouseSliding = true;

		this._handleIndex = index;

		closestHandle
			.addClass( "ui-state-active" )
			.focus();

		offset = closestHandle.offset();
		mouseOverHandle = !$( event.target ).parents().addBack().is( ".ui-slider-handle" );
		this._clickOffset = mouseOverHandle ? { left: 0, top: 0 } : {
			left: event.pageX - offset.left - ( closestHandle.width() / 2 ),
			top: event.pageY - offset.top -
				( closestHandle.height() / 2 ) -
				( parseInt( closestHandle.css("borderTopWidth"), 10 ) || 0 ) -
				( parseInt( closestHandle.css("borderBottomWidth"), 10 ) || 0) +
				( parseInt( closestHandle.css("marginTop"), 10 ) || 0)
		};

		if ( !this.handles.hasClass( "ui-state-hover" ) ) {
			this._slide( event, index, normValue );
		}
		this._animateOff = true;
		return true;
	},

	_mouseStart: function() {
		return true;
	},

	_mouseDrag: function( event ) {
		var position = { x: event.pageX, y: event.pageY },
			normValue = this._normValueFromMouse( position );

		this._slide( event, this._handleIndex, normValue );

		return false;
	},

	_mouseStop: function( event ) {
		this.handles.removeClass( "ui-state-active" );
		this._mouseSliding = false;

		this._stop( event, this._handleIndex );
		this._change( event, this._handleIndex );

		this._handleIndex = null;
		this._clickOffset = null;
		this._animateOff = false;

		return false;
	},

	_detectOrientation: function() {
		this.orientation = ( this.options.orientation === "vertical" ) ? "vertical" : "horizontal";
	},

	_normValueFromMouse: function( position ) {
		var pixelTotal,
			pixelMouse,
			percentMouse,
			valueTotal,
			valueMouse;

		if ( this.orientation === "horizontal" ) {
			pixelTotal = this.elementSize.width;
			pixelMouse = position.x - this.elementOffset.left - ( this._clickOffset ? this._clickOffset.left : 0 );
		} else {
			pixelTotal = this.elementSize.height;
			pixelMouse = position.y - this.elementOffset.top - ( this._clickOffset ? this._clickOffset.top : 0 );
		}

		percentMouse = ( pixelMouse / pixelTotal );
		if ( percentMouse > 1 ) {
			percentMouse = 1;
		}
		if ( percentMouse < 0 ) {
			percentMouse = 0;
		}
		if ( this.orientation === "vertical" ) {
			percentMouse = 1 - percentMouse;
		}

		valueTotal = this._valueMax() - this._valueMin();
		valueMouse = this._valueMin() + percentMouse * valueTotal;

		return this._trimAlignValue( valueMouse );
	},

	_start: function( event, index ) {
		var uiHash = {
			handle: this.handles[ index ],
			value: this.value()
		};
		if ( this.options.values && this.options.values.length ) {
			uiHash.value = this.values( index );
			uiHash.values = this.values();
		}
		return this._trigger( "start", event, uiHash );
	},

	_slide: function( event, index, newVal ) {
		var otherVal,
			newValues,
			allowed;

		if ( this.options.values && this.options.values.length ) {
			otherVal = this.values( index ? 0 : 1 );

			if ( ( this.options.values.length === 2 && this.options.range === true ) &&
					( ( index === 0 && newVal > otherVal) || ( index === 1 && newVal < otherVal ) )
				) {
				newVal = otherVal;
			}

			if ( newVal !== this.values( index ) ) {
				newValues = this.values();
				newValues[ index ] = newVal;
				// A slide can be canceled by returning false from the slide callback
				allowed = this._trigger( "slide", event, {
					handle: this.handles[ index ],
					value: newVal,
					values: newValues
				} );
				otherVal = this.values( index ? 0 : 1 );
				if ( allowed !== false ) {
					this.values( index, newVal );
				}
			}
		} else {
			if ( newVal !== this.value() ) {
				// A slide can be canceled by returning false from the slide callback
				allowed = this._trigger( "slide", event, {
					handle: this.handles[ index ],
					value: newVal
				} );
				if ( allowed !== false ) {
					this.value( newVal );
				}
			}
		}
	},

	_stop: function( event, index ) {
		var uiHash = {
			handle: this.handles[ index ],
			value: this.value()
		};
		if ( this.options.values && this.options.values.length ) {
			uiHash.value = this.values( index );
			uiHash.values = this.values();
		}

		this._trigger( "stop", event, uiHash );
	},

	_change: function( event, index ) {
		if ( !this._keySliding && !this._mouseSliding ) {
			var uiHash = {
				handle: this.handles[ index ],
				value: this.value()
			};
			if ( this.options.values && this.options.values.length ) {
				uiHash.value = this.values( index );
				uiHash.values = this.values();
			}

			//store the last changed value index for reference when handles overlap
			this._lastChangedValue = index;

			this._trigger( "change", event, uiHash );
		}
	},

	value: function( newValue ) {
		if ( arguments.length ) {
			this.options.value = this._trimAlignValue( newValue );
			this._refreshValue();
			this._change( null, 0 );
			return;
		}

		return this._value();
	},

	values: function( index, newValue ) {
		var vals,
			newValues,
			i;

		if ( arguments.length > 1 ) {
			this.options.values[ index ] = this._trimAlignValue( newValue );
			this._refreshValue();
			this._change( null, index );
			return;
		}

		if ( arguments.length ) {
			if ( $.isArray( arguments[ 0 ] ) ) {
				vals = this.options.values;
				newValues = arguments[ 0 ];
				for ( i = 0; i < vals.length; i += 1 ) {
					vals[ i ] = this._trimAlignValue( newValues[ i ] );
					this._change( null, i );
				}
				this._refreshValue();
			} else {
				if ( this.options.values && this.options.values.length ) {
					return this._values( index );
				} else {
					return this.value();
				}
			}
		} else {
			return this._values();
		}
	},

	_setOption: function( key, value ) {
		var i,
			valsLength = 0;

		if ( key === "range" && this.options.range === true ) {
			if ( value === "min" ) {
				this.options.value = this._values( 0 );
				this.options.values = null;
			} else if ( value === "max" ) {
				this.options.value = this._values( this.options.values.length - 1 );
				this.options.values = null;
			}
		}

		if ( $.isArray( this.options.values ) ) {
			valsLength = this.options.values.length;
		}

		if ( key === "disabled" ) {
			this.element.toggleClass( "ui-state-disabled", !!value );
		}

		this._super( key, value );

		switch ( key ) {
			case "orientation":
				this._detectOrientation();
				this.element
					.removeClass( "ui-slider-horizontal ui-slider-vertical" )
					.addClass( "ui-slider-" + this.orientation );
				this._refreshValue();

				// Reset positioning from previous orientation
				this.handles.css( value === "horizontal" ? "bottom" : "left", "" );
				break;
			case "value":
				this._animateOff = true;
				this._refreshValue();
				this._change( null, 0 );
				this._animateOff = false;
				break;
			case "values":
				this._animateOff = true;
				this._refreshValue();
				for ( i = 0; i < valsLength; i += 1 ) {
					this._change( null, i );
				}
				this._animateOff = false;
				break;
			case "step":
			case "min":
			case "max":
				this._animateOff = true;
				this._calculateNewMax();
				this._refreshValue();
				this._animateOff = false;
				break;
			case "range":
				this._animateOff = true;
				this._refresh();
				this._animateOff = false;
				break;
		}
	},

	//internal value getter
	// _value() returns value trimmed by min and max, aligned by step
	_value: function() {
		var val = this.options.value;
		val = this._trimAlignValue( val );

		return val;
	},

	//internal values getter
	// _values() returns array of values trimmed by min and max, aligned by step
	// _values( index ) returns single value trimmed by min and max, aligned by step
	_values: function( index ) {
		var val,
			vals,
			i;

		if ( arguments.length ) {
			val = this.options.values[ index ];
			val = this._trimAlignValue( val );

			return val;
		} else if ( this.options.values && this.options.values.length ) {
			// .slice() creates a copy of the array
			// this copy gets trimmed by min and max and then returned
			vals = this.options.values.slice();
			for ( i = 0; i < vals.length; i += 1) {
				vals[ i ] = this._trimAlignValue( vals[ i ] );
			}

			return vals;
		} else {
			return [];
		}
	},

	// returns the step-aligned value that val is closest to, between (inclusive) min and max
	_trimAlignValue: function( val ) {
		if ( val <= this._valueMin() ) {
			return this._valueMin();
		}
		if ( val >= this._valueMax() ) {
			return this._valueMax();
		}
		var step = ( this.options.step > 0 ) ? this.options.step : 1,
			valModStep = (val - this._valueMin()) % step,
			alignValue = val - valModStep;

		if ( Math.abs(valModStep) * 2 >= step ) {
			alignValue += ( valModStep > 0 ) ? step : ( -step );
		}

		// Since JavaScript has problems with large floats, round
		// the final value to 5 digits after the decimal point (see #4124)
		return parseFloat( alignValue.toFixed(5) );
	},

	_calculateNewMax: function() {
		var max = this.options.max,
			min = this._valueMin(),
			step = this.options.step,
			aboveMin = Math.floor( ( +( max - min ).toFixed( this._precision() ) ) / step ) * step;
		max = aboveMin + min;
		this.max = parseFloat( max.toFixed( this._precision() ) );
	},

	_precision: function() {
		var precision = this._precisionOf( this.options.step );
		if ( this.options.min !== null ) {
			precision = Math.max( precision, this._precisionOf( this.options.min ) );
		}
		return precision;
	},

	_precisionOf: function( num ) {
		var str = num.toString(),
			decimal = str.indexOf( "." );
		return decimal === -1 ? 0 : str.length - decimal - 1;
	},

	_valueMin: function() {
		return this.options.min;
	},

	_valueMax: function() {
		return this.max;
	},

	_refreshValue: function() {
		var lastValPercent, valPercent, value, valueMin, valueMax,
			oRange = this.options.range,
			o = this.options,
			that = this,
			animate = ( !this._animateOff ) ? o.animate : false,
			_set = {};

		if ( this.options.values && this.options.values.length ) {
			this.handles.each(function( i ) {
				valPercent = ( that.values(i) - that._valueMin() ) / ( that._valueMax() - that._valueMin() ) * 100;
				_set[ that.orientation === "horizontal" ? "left" : "bottom" ] = valPercent + "%";
				$( this ).stop( 1, 1 )[ animate ? "animate" : "css" ]( _set, o.animate );
				if ( that.options.range === true ) {
					if ( that.orientation === "horizontal" ) {
						if ( i === 0 ) {
							that.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( { left: valPercent + "%" }, o.animate );
						}
						if ( i === 1 ) {
							that.range[ animate ? "animate" : "css" ]( { width: ( valPercent - lastValPercent ) + "%" }, { queue: false, duration: o.animate } );
						}
					} else {
						if ( i === 0 ) {
							that.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( { bottom: ( valPercent ) + "%" }, o.animate );
						}
						if ( i === 1 ) {
							that.range[ animate ? "animate" : "css" ]( { height: ( valPercent - lastValPercent ) + "%" }, { queue: false, duration: o.animate } );
						}
					}
				}
				lastValPercent = valPercent;
			});
		} else {
			value = this.value();
			valueMin = this._valueMin();
			valueMax = this._valueMax();
			valPercent = ( valueMax !== valueMin ) ?
					( value - valueMin ) / ( valueMax - valueMin ) * 100 :
					0;
			_set[ this.orientation === "horizontal" ? "left" : "bottom" ] = valPercent + "%";
			this.handle.stop( 1, 1 )[ animate ? "animate" : "css" ]( _set, o.animate );

			if ( oRange === "min" && this.orientation === "horizontal" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( { width: valPercent + "%" }, o.animate );
			}
			if ( oRange === "max" && this.orientation === "horizontal" ) {
				this.range[ animate ? "animate" : "css" ]( { width: ( 100 - valPercent ) + "%" }, { queue: false, duration: o.animate } );
			}
			if ( oRange === "min" && this.orientation === "vertical" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( { height: valPercent + "%" }, o.animate );
			}
			if ( oRange === "max" && this.orientation === "vertical" ) {
				this.range[ animate ? "animate" : "css" ]( { height: ( 100 - valPercent ) + "%" }, { queue: false, duration: o.animate } );
			}
		}
	},

	_handleEvents: {
		keydown: function( event ) {
			var allowed, curVal, newVal, step,
				index = $( event.target ).data( "ui-slider-handle-index" );

			switch ( event.keyCode ) {
				case $.ui.keyCode.HOME:
				case $.ui.keyCode.END:
				case $.ui.keyCode.PAGE_UP:
				case $.ui.keyCode.PAGE_DOWN:
				case $.ui.keyCode.UP:
				case $.ui.keyCode.RIGHT:
				case $.ui.keyCode.DOWN:
				case $.ui.keyCode.LEFT:
					event.preventDefault();
					if ( !this._keySliding ) {
						this._keySliding = true;
						$( event.target ).addClass( "ui-state-active" );
						allowed = this._start( event, index );
						if ( allowed === false ) {
							return;
						}
					}
					break;
			}

			step = this.options.step;
			if ( this.options.values && this.options.values.length ) {
				curVal = newVal = this.values( index );
			} else {
				curVal = newVal = this.value();
			}

			switch ( event.keyCode ) {
				case $.ui.keyCode.HOME:
					newVal = this._valueMin();
					break;
				case $.ui.keyCode.END:
					newVal = this._valueMax();
					break;
				case $.ui.keyCode.PAGE_UP:
					newVal = this._trimAlignValue(
						curVal + ( ( this._valueMax() - this._valueMin() ) / this.numPages )
					);
					break;
				case $.ui.keyCode.PAGE_DOWN:
					newVal = this._trimAlignValue(
						curVal - ( (this._valueMax() - this._valueMin()) / this.numPages ) );
					break;
				case $.ui.keyCode.UP:
				case $.ui.keyCode.RIGHT:
					if ( curVal === this._valueMax() ) {
						return;
					}
					newVal = this._trimAlignValue( curVal + step );
					break;
				case $.ui.keyCode.DOWN:
				case $.ui.keyCode.LEFT:
					if ( curVal === this._valueMin() ) {
						return;
					}
					newVal = this._trimAlignValue( curVal - step );
					break;
			}

			this._slide( event, index, newVal );
		},
		keyup: function( event ) {
			var index = $( event.target ).data( "ui-slider-handle-index" );

			if ( this._keySliding ) {
				this._keySliding = false;
				this._stop( event, index );
				this._change( event, index );
				$( event.target ).removeClass( "ui-state-active" );
			}
		}
	}
});


/*!
 * jQuery UI Sortable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 */


var sortable = $.widget("ui.sortable", $.ui.mouse, {
	version: "1.11.4",
	widgetEventPrefix: "sort",
	ready: false,
	options: {
		appendTo: "parent",
		axis: false,
		connectWith: false,
		containment: false,
		cursor: "auto",
		cursorAt: false,
		dropOnEmpty: true,
		forcePlaceholderSize: false,
		forceHelperSize: false,
		grid: false,
		handle: false,
		helper: "original",
		items: "> *",
		opacity: false,
		placeholder: false,
		revert: false,
		scroll: true,
		scrollSensitivity: 20,
		scrollSpeed: 20,
		scope: "default",
		tolerance: "intersect",
		zIndex: 1000,

		// callbacks
		activate: null,
		beforeStop: null,
		change: null,
		deactivate: null,
		out: null,
		over: null,
		receive: null,
		remove: null,
		sort: null,
		start: null,
		stop: null,
		update: null
	},

	_isOverAxis: function( x, reference, size ) {
		return ( x >= reference ) && ( x < ( reference + size ) );
	},

	_isFloating: function( item ) {
		return (/left|right/).test(item.css("float")) || (/inline|table-cell/).test(item.css("display"));
	},

	_create: function() {
		this.containerCache = {};
		this.element.addClass("ui-sortable");

		//Get the items
		this.refresh();

		//Let's determine the parent's offset
		this.offset = this.element.offset();

		//Initialize mouse events for interaction
		this._mouseInit();

		this._setHandleClassName();

		//We're ready to go
		this.ready = true;

	},

	_setOption: function( key, value ) {
		this._super( key, value );

		if ( key === "handle" ) {
			this._setHandleClassName();
		}
	},

	_setHandleClassName: function() {
		this.element.find( ".ui-sortable-handle" ).removeClass( "ui-sortable-handle" );
		$.each( this.items, function() {
			( this.instance.options.handle ?
				this.item.find( this.instance.options.handle ) : this.item )
				.addClass( "ui-sortable-handle" );
		});
	},

	_destroy: function() {
		this.element
			.removeClass( "ui-sortable ui-sortable-disabled" )
			.find( ".ui-sortable-handle" )
				.removeClass( "ui-sortable-handle" );
		this._mouseDestroy();

		for ( var i = this.items.length - 1; i >= 0; i-- ) {
			this.items[i].item.removeData(this.widgetName + "-item");
		}

		return this;
	},

	_mouseCapture: function(event, overrideHandle) {
		var currentItem = null,
			validHandle = false,
			that = this;

		if (this.reverting) {
			return false;
		}

		if(this.options.disabled || this.options.type === "static") {
			return false;
		}

		//We have to refresh the items data once first
		this._refreshItems(event);

		//Find out if the clicked node (or one of its parents) is a actual item in this.items
		$(event.target).parents().each(function() {
			if($.data(this, that.widgetName + "-item") === that) {
				currentItem = $(this);
				return false;
			}
		});
		if($.data(event.target, that.widgetName + "-item") === that) {
			currentItem = $(event.target);
		}

		if(!currentItem) {
			return false;
		}
		if(this.options.handle && !overrideHandle) {
			$(this.options.handle, currentItem).find("*").addBack().each(function() {
				if(this === event.target) {
					validHandle = true;
				}
			});
			if(!validHandle) {
				return false;
			}
		}

		this.currentItem = currentItem;
		this._removeCurrentsFromItems();
		return true;

	},

	_mouseStart: function(event, overrideHandle, noActivation) {

		var i, body,
			o = this.options;

		this.currentContainer = this;

		//We only need to call refreshPositions, because the refreshItems call has been moved to mouseCapture
		this.refreshPositions();

		//Create and append the visible helper
		this.helper = this._createHelper(event);

		//Cache the helper size
		this._cacheHelperProportions();

		/*
		 * - Position generation -
		 * This block generates everything position related - it's the core of draggables.
		 */

		//Cache the margins of the original element
		this._cacheMargins();

		//Get the next scrolling parent
		this.scrollParent = this.helper.scrollParent();

		//The element's absolute position on the page minus margins
		this.offset = this.currentItem.offset();
		this.offset = {
			top: this.offset.top - this.margins.top,
			left: this.offset.left - this.margins.left
		};

		$.extend(this.offset, {
			click: { //Where the click happened, relative to the element
				left: event.pageX - this.offset.left,
				top: event.pageY - this.offset.top
			},
			parent: this._getParentOffset(),
			relative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper
		});

		// Only after we got the offset, we can change the helper's position to absolute
		// TODO: Still need to figure out a way to make relative sorting possible
		this.helper.css("position", "absolute");
		this.cssPosition = this.helper.css("position");

		//Generate the original position
		this.originalPosition = this._generatePosition(event);
		this.originalPageX = event.pageX;
		this.originalPageY = event.pageY;

		//Adjust the mouse offset relative to the helper if "cursorAt" is supplied
		(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));

		//Cache the former DOM position
		this.domPosition = { prev: this.currentItem.prev()[0], parent: this.currentItem.parent()[0] };

		//If the helper is not the original, hide the original so it's not playing any role during the drag, won't cause anything bad this way
		if(this.helper[0] !== this.currentItem[0]) {
			this.currentItem.hide();
		}

		//Create the placeholder
		this._createPlaceholder();

		//Set a containment if given in the options
		if(o.containment) {
			this._setContainment();
		}

		if( o.cursor && o.cursor !== "auto" ) { // cursor option
			body = this.document.find( "body" );

			// support: IE
			this.storedCursor = body.css( "cursor" );
			body.css( "cursor", o.cursor );

			this.storedStylesheet = $( "<style>*{ cursor: "+o.cursor+" !important; }</style>" ).appendTo( body );
		}

		if(o.opacity) { // opacity option
			if (this.helper.css("opacity")) {
				this._storedOpacity = this.helper.css("opacity");
			}
			this.helper.css("opacity", o.opacity);
		}

		if(o.zIndex) { // zIndex option
			if (this.helper.css("zIndex")) {
				this._storedZIndex = this.helper.css("zIndex");
			}
			this.helper.css("zIndex", o.zIndex);
		}

		//Prepare scrolling
		if(this.scrollParent[0] !== this.document[0] && this.scrollParent[0].tagName !== "HTML") {
			this.overflowOffset = this.scrollParent.offset();
		}

		//Call callbacks
		this._trigger("start", event, this._uiHash());

		//Recache the helper size
		if(!this._preserveHelperProportions) {
			this._cacheHelperProportions();
		}


		//Post "activate" events to possible containers
		if( !noActivation ) {
			for ( i = this.containers.length - 1; i >= 0; i-- ) {
				this.containers[ i ]._trigger( "activate", event, this._uiHash( this ) );
			}
		}

		//Prepare possible droppables
		if($.ui.ddmanager) {
			$.ui.ddmanager.current = this;
		}

		if ($.ui.ddmanager && !o.dropBehaviour) {
			$.ui.ddmanager.prepareOffsets(this, event);
		}

		this.dragging = true;

		this.helper.addClass("ui-sortable-helper");
		this._mouseDrag(event); //Execute the drag once - this causes the helper not to be visible before getting its correct position
		return true;

	},

	_mouseDrag: function(event) {
		var i, item, itemElement, intersection,
			o = this.options,
			scrolled = false;

		//Compute the helpers position
		this.position = this._generatePosition(event);
		this.positionAbs = this._convertPositionTo("absolute");

		if (!this.lastPositionAbs) {
			this.lastPositionAbs = this.positionAbs;
		}

		//Do scrolling
		if(this.options.scroll) {
			if(this.scrollParent[0] !== this.document[0] && this.scrollParent[0].tagName !== "HTML") {

				if((this.overflowOffset.top + this.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity) {
					this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop + o.scrollSpeed;
				} else if(event.pageY - this.overflowOffset.top < o.scrollSensitivity) {
					this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop - o.scrollSpeed;
				}

				if((this.overflowOffset.left + this.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity) {
					this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft + o.scrollSpeed;
				} else if(event.pageX - this.overflowOffset.left < o.scrollSensitivity) {
					this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft - o.scrollSpeed;
				}

			} else {

				if(event.pageY - this.document.scrollTop() < o.scrollSensitivity) {
					scrolled = this.document.scrollTop(this.document.scrollTop() - o.scrollSpeed);
				} else if(this.window.height() - (event.pageY - this.document.scrollTop()) < o.scrollSensitivity) {
					scrolled = this.document.scrollTop(this.document.scrollTop() + o.scrollSpeed);
				}

				if(event.pageX - this.document.scrollLeft() < o.scrollSensitivity) {
					scrolled = this.document.scrollLeft(this.document.scrollLeft() - o.scrollSpeed);
				} else if(this.window.width() - (event.pageX - this.document.scrollLeft()) < o.scrollSensitivity) {
					scrolled = this.document.scrollLeft(this.document.scrollLeft() + o.scrollSpeed);
				}

			}

			if(scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
				$.ui.ddmanager.prepareOffsets(this, event);
			}
		}

		//Regenerate the absolute position used for position checks
		this.positionAbs = this._convertPositionTo("absolute");

		//Set the helper position
		if(!this.options.axis || this.options.axis !== "y") {
			this.helper[0].style.left = this.position.left+"px";
		}
		if(!this.options.axis || this.options.axis !== "x") {
			this.helper[0].style.top = this.position.top+"px";
		}

		//Rearrange
		for (i = this.items.length - 1; i >= 0; i--) {

			//Cache variables and intersection, continue if no intersection
			item = this.items[i];
			itemElement = item.item[0];
			intersection = this._intersectsWithPointer(item);
			if (!intersection) {
				continue;
			}

			// Only put the placeholder inside the current Container, skip all
			// items from other containers. This works because when moving
			// an item from one container to another the
			// currentContainer is switched before the placeholder is moved.
			//
			// Without this, moving items in "sub-sortables" can cause
			// the placeholder to jitter between the outer and inner container.
			if (item.instance !== this.currentContainer) {
				continue;
			}

			// cannot intersect with itself
			// no useless actions that have been done before
			// no action if the item moved is the parent of the item checked
			if (itemElement !== this.currentItem[0] &&
				this.placeholder[intersection === 1 ? "next" : "prev"]()[0] !== itemElement &&
				!$.contains(this.placeholder[0], itemElement) &&
				(this.options.type === "semi-dynamic" ? !$.contains(this.element[0], itemElement) : true)
			) {

				this.direction = intersection === 1 ? "down" : "up";

				if (this.options.tolerance === "pointer" || this._intersectsWithSides(item)) {
					this._rearrange(event, item);
				} else {
					break;
				}

				this._trigger("change", event, this._uiHash());
				break;
			}
		}

		//Post events to containers
		this._contactContainers(event);

		//Interconnect with droppables
		if($.ui.ddmanager) {
			$.ui.ddmanager.drag(this, event);
		}

		//Call callbacks
		this._trigger("sort", event, this._uiHash());

		this.lastPositionAbs = this.positionAbs;
		return false;

	},

	_mouseStop: function(event, noPropagation) {

		if(!event) {
			return;
		}

		//If we are using droppables, inform the manager about the drop
		if ($.ui.ddmanager && !this.options.dropBehaviour) {
			$.ui.ddmanager.drop(this, event);
		}

		if(this.options.revert) {
			var that = this,
				cur = this.placeholder.offset(),
				axis = this.options.axis,
				animation = {};

			if ( !axis || axis === "x" ) {
				animation.left = cur.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft);
			}
			if ( !axis || axis === "y" ) {
				animation.top = cur.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop);
			}
			this.reverting = true;
			$(this.helper).animate( animation, parseInt(this.options.revert, 10) || 500, function() {
				that._clear(event);
			});
		} else {
			this._clear(event, noPropagation);
		}

		return false;

	},

	cancel: function() {

		if(this.dragging) {

			this._mouseUp({ target: null });

			if(this.options.helper === "original") {
				this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
			} else {
				this.currentItem.show();
			}

			//Post deactivating events to containers
			for (var i = this.containers.length - 1; i >= 0; i--){
				this.containers[i]._trigger("deactivate", null, this._uiHash(this));
				if(this.containers[i].containerCache.over) {
					this.containers[i]._trigger("out", null, this._uiHash(this));
					this.containers[i].containerCache.over = 0;
				}
			}

		}

		if (this.placeholder) {
			//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!
			if(this.placeholder[0].parentNode) {
				this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
			}
			if(this.options.helper !== "original" && this.helper && this.helper[0].parentNode) {
				this.helper.remove();
			}

			$.extend(this, {
				helper: null,
				dragging: false,
				reverting: false,
				_noFinalSort: null
			});

			if(this.domPosition.prev) {
				$(this.domPosition.prev).after(this.currentItem);
			} else {
				$(this.domPosition.parent).prepend(this.currentItem);
			}
		}

		return this;

	},

	serialize: function(o) {

		var items = this._getItemsAsjQuery(o && o.connected),
			str = [];
		o = o || {};

		$(items).each(function() {
			var res = ($(o.item || this).attr(o.attribute || "id") || "").match(o.expression || (/(.+)[\-=_](.+)/));
			if (res) {
				str.push((o.key || res[1]+"[]")+"="+(o.key && o.expression ? res[1] : res[2]));
			}
		});

		if(!str.length && o.key) {
			str.push(o.key + "=");
		}

		return str.join("&");

	},

	toArray: function(o) {

		var items = this._getItemsAsjQuery(o && o.connected),
			ret = [];

		o = o || {};

		items.each(function() { ret.push($(o.item || this).attr(o.attribute || "id") || ""); });
		return ret;

	},

	/* Be careful with the following core functions */
	_intersectsWith: function(item) {

		var x1 = this.positionAbs.left,
			x2 = x1 + this.helperProportions.width,
			y1 = this.positionAbs.top,
			y2 = y1 + this.helperProportions.height,
			l = item.left,
			r = l + item.width,
			t = item.top,
			b = t + item.height,
			dyClick = this.offset.click.top,
			dxClick = this.offset.click.left,
			isOverElementHeight = ( this.options.axis === "x" ) || ( ( y1 + dyClick ) > t && ( y1 + dyClick ) < b ),
			isOverElementWidth = ( this.options.axis === "y" ) || ( ( x1 + dxClick ) > l && ( x1 + dxClick ) < r ),
			isOverElement = isOverElementHeight && isOverElementWidth;

		if ( this.options.tolerance === "pointer" ||
			this.options.forcePointerForContainers ||
			(this.options.tolerance !== "pointer" && this.helperProportions[this.floating ? "width" : "height"] > item[this.floating ? "width" : "height"])
		) {
			return isOverElement;
		} else {

			return (l < x1 + (this.helperProportions.width / 2) && // Right Half
				x2 - (this.helperProportions.width / 2) < r && // Left Half
				t < y1 + (this.helperProportions.height / 2) && // Bottom Half
				y2 - (this.helperProportions.height / 2) < b ); // Top Half

		}
	},

	_intersectsWithPointer: function(item) {

		var isOverElementHeight = (this.options.axis === "x") || this._isOverAxis(this.positionAbs.top + this.offset.click.top, item.top, item.height),
			isOverElementWidth = (this.options.axis === "y") || this._isOverAxis(this.positionAbs.left + this.offset.click.left, item.left, item.width),
			isOverElement = isOverElementHeight && isOverElementWidth,
			verticalDirection = this._getDragVerticalDirection(),
			horizontalDirection = this._getDragHorizontalDirection();

		if (!isOverElement) {
			return false;
		}

		return this.floating ?
			( ((horizontalDirection && horizontalDirection === "right") || verticalDirection === "down") ? 2 : 1 )
			: ( verticalDirection && (verticalDirection === "down" ? 2 : 1) );

	},

	_intersectsWithSides: function(item) {

		var isOverBottomHalf = this._isOverAxis(this.positionAbs.top + this.offset.click.top, item.top + (item.height/2), item.height),
			isOverRightHalf = this._isOverAxis(this.positionAbs.left + this.offset.click.left, item.left + (item.width/2), item.width),
			verticalDirection = this._getDragVerticalDirection(),
			horizontalDirection = this._getDragHorizontalDirection();

		if (this.floating && horizontalDirection) {
			return ((horizontalDirection === "right" && isOverRightHalf) || (horizontalDirection === "left" && !isOverRightHalf));
		} else {
			return verticalDirection && ((verticalDirection === "down" && isOverBottomHalf) || (verticalDirection === "up" && !isOverBottomHalf));
		}

	},

	_getDragVerticalDirection: function() {
		var delta = this.positionAbs.top - this.lastPositionAbs.top;
		return delta !== 0 && (delta > 0 ? "down" : "up");
	},

	_getDragHorizontalDirection: function() {
		var delta = this.positionAbs.left - this.lastPositionAbs.left;
		return delta !== 0 && (delta > 0 ? "right" : "left");
	},

	refresh: function(event) {
		this._refreshItems(event);
		this._setHandleClassName();
		this.refreshPositions();
		return this;
	},

	_connectWith: function() {
		var options = this.options;
		return options.connectWith.constructor === String ? [options.connectWith] : options.connectWith;
	},

	_getItemsAsjQuery: function(connected) {

		var i, j, cur, inst,
			items = [],
			queries = [],
			connectWith = this._connectWith();

		if(connectWith && connected) {
			for (i = connectWith.length - 1; i >= 0; i--){
				cur = $(connectWith[i], this.document[0]);
				for ( j = cur.length - 1; j >= 0; j--){
					inst = $.data(cur[j], this.widgetFullName);
					if(inst && inst !== this && !inst.options.disabled) {
						queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element) : $(inst.options.items, inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), inst]);
					}
				}
			}
		}

		queries.push([$.isFunction(this.options.items) ? this.options.items.call(this.element, null, { options: this.options, item: this.currentItem }) : $(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]);

		function addItems() {
			items.push( this );
		}
		for (i = queries.length - 1; i >= 0; i--){
			queries[i][0].each( addItems );
		}

		return $(items);

	},

	_removeCurrentsFromItems: function() {

		var list = this.currentItem.find(":data(" + this.widgetName + "-item)");

		this.items = $.grep(this.items, function (item) {
			for (var j=0; j < list.length; j++) {
				if(list[j] === item.item[0]) {
					return false;
				}
			}
			return true;
		});

	},

	_refreshItems: function(event) {

		this.items = [];
		this.containers = [this];

		var i, j, cur, inst, targetData, _queries, item, queriesLength,
			items = this.items,
			queries = [[$.isFunction(this.options.items) ? this.options.items.call(this.element[0], event, { item: this.currentItem }) : $(this.options.items, this.element), this]],
			connectWith = this._connectWith();

		if(connectWith && this.ready) { //Shouldn't be run the first time through due to massive slow-down
			for (i = connectWith.length - 1; i >= 0; i--){
				cur = $(connectWith[i], this.document[0]);
				for (j = cur.length - 1; j >= 0; j--){
					inst = $.data(cur[j], this.widgetFullName);
					if(inst && inst !== this && !inst.options.disabled) {
						queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element[0], event, { item: this.currentItem }) : $(inst.options.items, inst.element), inst]);
						this.containers.push(inst);
					}
				}
			}
		}

		for (i = queries.length - 1; i >= 0; i--) {
			targetData = queries[i][1];
			_queries = queries[i][0];

			for (j=0, queriesLength = _queries.length; j < queriesLength; j++) {
				item = $(_queries[j]);

				item.data(this.widgetName + "-item", targetData); // Data for target checking (mouse manager)

				items.push({
					item: item,
					instance: targetData,
					width: 0, height: 0,
					left: 0, top: 0
				});
			}
		}

	},

	refreshPositions: function(fast) {

		// Determine whether items are being displayed horizontally
		this.floating = this.items.length ?
			this.options.axis === "x" || this._isFloating( this.items[ 0 ].item ) :
			false;

		//This has to be redone because due to the item being moved out/into the offsetParent, the offsetParent's position will change
		if(this.offsetParent && this.helper) {
			this.offset.parent = this._getParentOffset();
		}

		var i, item, t, p;

		for (i = this.items.length - 1; i >= 0; i--){
			item = this.items[i];

			//We ignore calculating positions of all connected containers when we're not over them
			if(item.instance !== this.currentContainer && this.currentContainer && item.item[0] !== this.currentItem[0]) {
				continue;
			}

			t = this.options.toleranceElement ? $(this.options.toleranceElement, item.item) : item.item;

			if (!fast) {
				item.width = t.outerWidth();
				item.height = t.outerHeight();
			}

			p = t.offset();
			item.left = p.left;
			item.top = p.top;
		}

		if(this.options.custom && this.options.custom.refreshContainers) {
			this.options.custom.refreshContainers.call(this);
		} else {
			for (i = this.containers.length - 1; i >= 0; i--){
				p = this.containers[i].element.offset();
				this.containers[i].containerCache.left = p.left;
				this.containers[i].containerCache.top = p.top;
				this.containers[i].containerCache.width = this.containers[i].element.outerWidth();
				this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
			}
		}

		return this;
	},

	_createPlaceholder: function(that) {
		that = that || this;
		var className,
			o = that.options;

		if(!o.placeholder || o.placeholder.constructor === String) {
			className = o.placeholder;
			o.placeholder = {
				element: function() {

					var nodeName = that.currentItem[0].nodeName.toLowerCase(),
						element = $( "<" + nodeName + ">", that.document[0] )
							.addClass(className || that.currentItem[0].className+" ui-sortable-placeholder")
							.removeClass("ui-sortable-helper");

					if ( nodeName === "tbody" ) {
						that._createTrPlaceholder(
							that.currentItem.find( "tr" ).eq( 0 ),
							$( "<tr>", that.document[ 0 ] ).appendTo( element )
						);
					} else if ( nodeName === "tr" ) {
						that._createTrPlaceholder( that.currentItem, element );
					} else if ( nodeName === "img" ) {
						element.attr( "src", that.currentItem.attr( "src" ) );
					}

					if ( !className ) {
						element.css( "visibility", "hidden" );
					}

					return element;
				},
				update: function(container, p) {

					// 1. If a className is set as 'placeholder option, we don't force sizes - the class is responsible for that
					// 2. The option 'forcePlaceholderSize can be enabled to force it even if a class name is specified
					if(className && !o.forcePlaceholderSize) {
						return;
					}

					//If the element doesn't have a actual height by itself (without styles coming from a stylesheet), it receives the inline height from the dragged item
					if(!p.height()) { p.height(that.currentItem.innerHeight() - parseInt(that.currentItem.css("paddingTop")||0, 10) - parseInt(that.currentItem.css("paddingBottom")||0, 10)); }
					if(!p.width()) { p.width(that.currentItem.innerWidth() - parseInt(that.currentItem.css("paddingLeft")||0, 10) - parseInt(that.currentItem.css("paddingRight")||0, 10)); }
				}
			};
		}

		//Create the placeholder
		that.placeholder = $(o.placeholder.element.call(that.element, that.currentItem));

		//Append it after the actual current item
		that.currentItem.after(that.placeholder);

		//Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)
		o.placeholder.update(that, that.placeholder);

	},

	_createTrPlaceholder: function( sourceTr, targetTr ) {
		var that = this;

		sourceTr.children().each(function() {
			$( "<td>&#160;</td>", that.document[ 0 ] )
				.attr( "colspan", $( this ).attr( "colspan" ) || 1 )
				.appendTo( targetTr );
		});
	},

	_contactContainers: function(event) {
		var i, j, dist, itemWithLeastDistance, posProperty, sizeProperty, cur, nearBottom, floating, axis,
			innermostContainer = null,
			innermostIndex = null;

		// get innermost container that intersects with item
		for (i = this.containers.length - 1; i >= 0; i--) {

			// never consider a container that's located within the item itself
			if($.contains(this.currentItem[0], this.containers[i].element[0])) {
				continue;
			}

			if(this._intersectsWith(this.containers[i].containerCache)) {

				// if we've already found a container and it's more "inner" than this, then continue
				if(innermostContainer && $.contains(this.containers[i].element[0], innermostContainer.element[0])) {
					continue;
				}

				innermostContainer = this.containers[i];
				innermostIndex = i;

			} else {
				// container doesn't intersect. trigger "out" event if necessary
				if(this.containers[i].containerCache.over) {
					this.containers[i]._trigger("out", event, this._uiHash(this));
					this.containers[i].containerCache.over = 0;
				}
			}

		}

		// if no intersecting containers found, return
		if(!innermostContainer) {
			return;
		}

		// move the item into the container if it's not there already
		if(this.containers.length === 1) {
			if (!this.containers[innermostIndex].containerCache.over) {
				this.containers[innermostIndex]._trigger("over", event, this._uiHash(this));
				this.containers[innermostIndex].containerCache.over = 1;
			}
		} else {

			//When entering a new container, we will find the item with the least distance and append our item near it
			dist = 10000;
			itemWithLeastDistance = null;
			floating = innermostContainer.floating || this._isFloating(this.currentItem);
			posProperty = floating ? "left" : "top";
			sizeProperty = floating ? "width" : "height";
			axis = floating ? "clientX" : "clientY";

			for (j = this.items.length - 1; j >= 0; j--) {
				if(!$.contains(this.containers[innermostIndex].element[0], this.items[j].item[0])) {
					continue;
				}
				if(this.items[j].item[0] === this.currentItem[0]) {
					continue;
				}

				cur = this.items[j].item.offset()[posProperty];
				nearBottom = false;
				if ( event[ axis ] - cur > this.items[ j ][ sizeProperty ] / 2 ) {
					nearBottom = true;
				}

				if ( Math.abs( event[ axis ] - cur ) < dist ) {
					dist = Math.abs( event[ axis ] - cur );
					itemWithLeastDistance = this.items[ j ];
					this.direction = nearBottom ? "up": "down";
				}
			}

			//Check if dropOnEmpty is enabled
			if(!itemWithLeastDistance && !this.options.dropOnEmpty) {
				return;
			}

			if(this.currentContainer === this.containers[innermostIndex]) {
				if ( !this.currentContainer.containerCache.over ) {
					this.containers[ innermostIndex ]._trigger( "over", event, this._uiHash() );
					this.currentContainer.containerCache.over = 1;
				}
				return;
			}

			itemWithLeastDistance ? this._rearrange(event, itemWithLeastDistance, null, true) : this._rearrange(event, null, this.containers[innermostIndex].element, true);
			this._trigger("change", event, this._uiHash());
			this.containers[innermostIndex]._trigger("change", event, this._uiHash(this));
			this.currentContainer = this.containers[innermostIndex];

			//Update the placeholder
			this.options.placeholder.update(this.currentContainer, this.placeholder);

			this.containers[innermostIndex]._trigger("over", event, this._uiHash(this));
			this.containers[innermostIndex].containerCache.over = 1;
		}


	},

	_createHelper: function(event) {

		var o = this.options,
			helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event, this.currentItem])) : (o.helper === "clone" ? this.currentItem.clone() : this.currentItem);

		//Add the helper to the DOM if that didn't happen already
		if(!helper.parents("body").length) {
			$(o.appendTo !== "parent" ? o.appendTo : this.currentItem[0].parentNode)[0].appendChild(helper[0]);
		}

		if(helper[0] === this.currentItem[0]) {
			this._storedCSS = { width: this.currentItem[0].style.width, height: this.currentItem[0].style.height, position: this.currentItem.css("position"), top: this.currentItem.css("top"), left: this.currentItem.css("left") };
		}

		if(!helper[0].style.width || o.forceHelperSize) {
			helper.width(this.currentItem.width());
		}
		if(!helper[0].style.height || o.forceHelperSize) {
			helper.height(this.currentItem.height());
		}

		return helper;

	},

	_adjustOffsetFromHelper: function(obj) {
		if (typeof obj === "string") {
			obj = obj.split(" ");
		}
		if ($.isArray(obj)) {
			obj = {left: +obj[0], top: +obj[1] || 0};
		}
		if ("left" in obj) {
			this.offset.click.left = obj.left + this.margins.left;
		}
		if ("right" in obj) {
			this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
		}
		if ("top" in obj) {
			this.offset.click.top = obj.top + this.margins.top;
		}
		if ("bottom" in obj) {
			this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
		}
	},

	_getParentOffset: function() {


		//Get the offsetParent and cache its position
		this.offsetParent = this.helper.offsetParent();
		var po = this.offsetParent.offset();

		// This is a special case where we need to modify a offset calculated on start, since the following happened:
		// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent
		// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that
		//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag
		if(this.cssPosition === "absolute" && this.scrollParent[0] !== this.document[0] && $.contains(this.scrollParent[0], this.offsetParent[0])) {
			po.left += this.scrollParent.scrollLeft();
			po.top += this.scrollParent.scrollTop();
		}

		// This needs to be actually done for all browsers, since pageX/pageY includes this information
		// with an ugly IE fix
		if( this.offsetParent[0] === this.document[0].body || (this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === "html" && $.ui.ie)) {
			po = { top: 0, left: 0 };
		}

		return {
			top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"),10) || 0),
			left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"),10) || 0)
		};

	},

	_getRelativeOffset: function() {

		if(this.cssPosition === "relative") {
			var p = this.currentItem.position();
			return {
				top: p.top - (parseInt(this.helper.css("top"),10) || 0) + this.scrollParent.scrollTop(),
				left: p.left - (parseInt(this.helper.css("left"),10) || 0) + this.scrollParent.scrollLeft()
			};
		} else {
			return { top: 0, left: 0 };
		}

	},

	_cacheMargins: function() {
		this.margins = {
			left: (parseInt(this.currentItem.css("marginLeft"),10) || 0),
			top: (parseInt(this.currentItem.css("marginTop"),10) || 0)
		};
	},

	_cacheHelperProportions: function() {
		this.helperProportions = {
			width: this.helper.outerWidth(),
			height: this.helper.outerHeight()
		};
	},

	_setContainment: function() {

		var ce, co, over,
			o = this.options;
		if(o.containment === "parent") {
			o.containment = this.helper[0].parentNode;
		}
		if(o.containment === "document" || o.containment === "window") {
			this.containment = [
				0 - this.offset.relative.left - this.offset.parent.left,
				0 - this.offset.relative.top - this.offset.parent.top,
				o.containment === "document" ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left,
				(o.containment === "document" ? this.document.width() : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top
			];
		}

		if(!(/^(document|window|parent)$/).test(o.containment)) {
			ce = $(o.containment)[0];
			co = $(o.containment).offset();
			over = ($(ce).css("overflow") !== "hidden");

			this.containment = [
				co.left + (parseInt($(ce).css("borderLeftWidth"),10) || 0) + (parseInt($(ce).css("paddingLeft"),10) || 0) - this.margins.left,
				co.top + (parseInt($(ce).css("borderTopWidth"),10) || 0) + (parseInt($(ce).css("paddingTop"),10) || 0) - this.margins.top,
				co.left+(over ? Math.max(ce.scrollWidth,ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css("borderLeftWidth"),10) || 0) - (parseInt($(ce).css("paddingRight"),10) || 0) - this.helperProportions.width - this.margins.left,
				co.top+(over ? Math.max(ce.scrollHeight,ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css("borderTopWidth"),10) || 0) - (parseInt($(ce).css("paddingBottom"),10) || 0) - this.helperProportions.height - this.margins.top
			];
		}

	},

	_convertPositionTo: function(d, pos) {

		if(!pos) {
			pos = this.position;
		}
		var mod = d === "absolute" ? 1 : -1,
			scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== this.document[0] && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,
			scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);

		return {
			top: (
				pos.top	+																// The absolute mouse position
				this.offset.relative.top * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.top * mod -											// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod)
			),
			left: (
				pos.left +																// The absolute mouse position
				this.offset.relative.left * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.left * mod	-										// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ) * mod)
			)
		};

	},

	_generatePosition: function(event) {

		var top, left,
			o = this.options,
			pageX = event.pageX,
			pageY = event.pageY,
			scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== this.document[0] && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);

		// This is another very weird special case that only happens for relative elements:
		// 1. If the css position is relative
		// 2. and the scroll parent is the document or similar to the offset parent
		// we have to refresh the relative offset during the scroll so there are no jumps
		if(this.cssPosition === "relative" && !(this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0])) {
			this.offset.relative = this._getRelativeOffset();
		}

		/*
		 * - Position constraining -
		 * Constrain the position to a mix of grid, containment.
		 */

		if(this.originalPosition) { //If we are not dragging yet, we won't check for options

			if(this.containment) {
				if(event.pageX - this.offset.click.left < this.containment[0]) {
					pageX = this.containment[0] + this.offset.click.left;
				}
				if(event.pageY - this.offset.click.top < this.containment[1]) {
					pageY = this.containment[1] + this.offset.click.top;
				}
				if(event.pageX - this.offset.click.left > this.containment[2]) {
					pageX = this.containment[2] + this.offset.click.left;
				}
				if(event.pageY - this.offset.click.top > this.containment[3]) {
					pageY = this.containment[3] + this.offset.click.top;
				}
			}

			if(o.grid) {
				top = this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1];
				pageY = this.containment ? ( (top - this.offset.click.top >= this.containment[1] && top - this.offset.click.top <= this.containment[3]) ? top : ((top - this.offset.click.top >= this.containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;

				left = this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0];
				pageX = this.containment ? ( (left - this.offset.click.left >= this.containment[0] && left - this.offset.click.left <= this.containment[2]) ? left : ((left - this.offset.click.left >= this.containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
			}

		}

		return {
			top: (
				pageY -																// The absolute mouse position
				this.offset.click.top -													// Click offset (relative to the element)
				this.offset.relative.top	-											// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.top +												// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ))
			),
			left: (
				pageX -																// The absolute mouse position
				this.offset.click.left -												// Click offset (relative to the element)
				this.offset.relative.left	-											// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.left +												// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ))
			)
		};

	},

	_rearrange: function(event, i, a, hardRefresh) {

		a ? a[0].appendChild(this.placeholder[0]) : i.item[0].parentNode.insertBefore(this.placeholder[0], (this.direction === "down" ? i.item[0] : i.item[0].nextSibling));

		//Various things done here to improve the performance:
		// 1. we create a setTimeout, that calls refreshPositions
		// 2. on the instance, we have a counter variable, that get's higher after every append
		// 3. on the local scope, we copy the counter variable, and check in the timeout, if it's still the same
		// 4. this lets only the last addition to the timeout stack through
		this.counter = this.counter ? ++this.counter : 1;
		var counter = this.counter;

		this._delay(function() {
			if(counter === this.counter) {
				this.refreshPositions(!hardRefresh); //Precompute after each DOM insertion, NOT on mousemove
			}
		});

	},

	_clear: function(event, noPropagation) {

		this.reverting = false;
		// We delay all events that have to be triggered to after the point where the placeholder has been removed and
		// everything else normalized again
		var i,
			delayedTriggers = [];

		// We first have to update the dom position of the actual currentItem
		// Note: don't do it if the current item is already removed (by a user), or it gets reappended (see #4088)
		if(!this._noFinalSort && this.currentItem.parent().length) {
			this.placeholder.before(this.currentItem);
		}
		this._noFinalSort = null;

		if(this.helper[0] === this.currentItem[0]) {
			for(i in this._storedCSS) {
				if(this._storedCSS[i] === "auto" || this._storedCSS[i] === "static") {
					this._storedCSS[i] = "";
				}
			}
			this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
		} else {
			this.currentItem.show();
		}

		if(this.fromOutside && !noPropagation) {
			delayedTriggers.push(function(event) { this._trigger("receive", event, this._uiHash(this.fromOutside)); });
		}
		if((this.fromOutside || this.domPosition.prev !== this.currentItem.prev().not(".ui-sortable-helper")[0] || this.domPosition.parent !== this.currentItem.parent()[0]) && !noPropagation) {
			delayedTriggers.push(function(event) { this._trigger("update", event, this._uiHash()); }); //Trigger update callback if the DOM position has changed
		}

		// Check if the items Container has Changed and trigger appropriate
		// events.
		if (this !== this.currentContainer) {
			if(!noPropagation) {
				delayedTriggers.push(function(event) { this._trigger("remove", event, this._uiHash()); });
				delayedTriggers.push((function(c) { return function(event) { c._trigger("receive", event, this._uiHash(this)); };  }).call(this, this.currentContainer));
				delayedTriggers.push((function(c) { return function(event) { c._trigger("update", event, this._uiHash(this));  }; }).call(this, this.currentContainer));
			}
		}


		//Post events to containers
		function delayEvent( type, instance, container ) {
			return function( event ) {
				container._trigger( type, event, instance._uiHash( instance ) );
			};
		}
		for (i = this.containers.length - 1; i >= 0; i--){
			if (!noPropagation) {
				delayedTriggers.push( delayEvent( "deactivate", this, this.containers[ i ] ) );
			}
			if(this.containers[i].containerCache.over) {
				delayedTriggers.push( delayEvent( "out", this, this.containers[ i ] ) );
				this.containers[i].containerCache.over = 0;
			}
		}

		//Do what was originally in plugins
		if ( this.storedCursor ) {
			this.document.find( "body" ).css( "cursor", this.storedCursor );
			this.storedStylesheet.remove();
		}
		if(this._storedOpacity) {
			this.helper.css("opacity", this._storedOpacity);
		}
		if(this._storedZIndex) {
			this.helper.css("zIndex", this._storedZIndex === "auto" ? "" : this._storedZIndex);
		}

		this.dragging = false;

		if(!noPropagation) {
			this._trigger("beforeStop", event, this._uiHash());
		}

		//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!
		this.placeholder[0].parentNode.removeChild(this.placeholder[0]);

		if ( !this.cancelHelperRemoval ) {
			if ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {
				this.helper.remove();
			}
			this.helper = null;
		}

		if(!noPropagation) {
			for (i=0; i < delayedTriggers.length; i++) {
				delayedTriggers[i].call(this, event);
			} //Trigger all delayed events
			this._trigger("stop", event, this._uiHash());
		}

		this.fromOutside = false;
		return !this.cancelHelperRemoval;

	},

	_trigger: function() {
		if ($.Widget.prototype._trigger.apply(this, arguments) === false) {
			this.cancel();
		}
	},

	_uiHash: function(_inst) {
		var inst = _inst || this;
		return {
			helper: inst.helper,
			placeholder: inst.placeholder || $([]),
			position: inst.position,
			originalPosition: inst.originalPosition,
			offset: inst.positionAbs,
			item: inst.currentItem,
			sender: _inst ? _inst.element : null
		};
	}

});


/*!
 * jQuery UI Spinner 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 */


function spinner_modifier( fn ) {
	return function() {
		var previous = this.element.val();
		fn.apply( this, arguments );
		this._refresh();
		if ( previous !== this.element.val() ) {
			this._trigger( "change" );
		}
	};
}

var spinner = $.widget( "ui.spinner", {
	version: "1.11.4",
	defaultElement: "<input>",
	widgetEventPrefix: "spin",
	options: {
		culture: null,
		icons: {
			down: "ui-icon-triangle-1-s",
			up: "ui-icon-triangle-1-n"
		},
		incremental: true,
		max: null,
		min: null,
		numberFormat: null,
		page: 10,
		step: 1,

		change: null,
		spin: null,
		start: null,
		stop: null
	},

	_create: function() {
		// handle string values that need to be parsed
		this._setOption( "max", this.options.max );
		this._setOption( "min", this.options.min );
		this._setOption( "step", this.options.step );

		// Only format if there is a value, prevents the field from being marked
		// as invalid in Firefox, see #9573.
		if ( this.value() !== "" ) {
			// Format the value, but don't constrain.
			this._value( this.element.val(), true );
		}

		this._draw();
		this._on( this._events );
		this._refresh();

		// turning off autocomplete prevents the browser from remembering the
		// value when navigating through history, so we re-enable autocomplete
		// if the page is unloaded before the widget is destroyed. #7790
		this._on( this.window, {
			beforeunload: function() {
				this.element.removeAttr( "autocomplete" );
			}
		});
	},

	_getCreateOptions: function() {
		var options = {},
			element = this.element;

		$.each( [ "min", "max", "step" ], function( i, option ) {
			var value = element.attr( option );
			if ( value !== undefined && value.length ) {
				options[ option ] = value;
			}
		});

		return options;
	},

	_events: {
		keydown: function( event ) {
			if ( this._start( event ) && this._keydown( event ) ) {
				event.preventDefault();
			}
		},
		keyup: "_stop",
		focus: function() {
			this.previous = this.element.val();
		},
		blur: function( event ) {
			if ( this.cancelBlur ) {
				delete this.cancelBlur;
				return;
			}

			this._stop();
			this._refresh();
			if ( this.previous !== this.element.val() ) {
				this._trigger( "change", event );
			}
		},
		mousewheel: function( event, delta ) {
			if ( !delta ) {
				return;
			}
			if ( !this.spinning && !this._start( event ) ) {
				return false;
			}

			this._spin( (delta > 0 ? 1 : -1) * this.options.step, event );
			clearTimeout( this.mousewheelTimer );
			this.mousewheelTimer = this._delay(function() {
				if ( this.spinning ) {
					this._stop( event );
				}
			}, 100 );
			event.preventDefault();
		},
		"mousedown .ui-spinner-button": function( event ) {
			var previous;

			// We never want the buttons to have focus; whenever the user is
			// interacting with the spinner, the focus should be on the input.
			// If the input is focused then this.previous is properly set from
			// when the input first received focus. If the input is not focused
			// then we need to set this.previous based on the value before spinning.
			previous = this.element[0] === this.document[0].activeElement ?
				this.previous : this.element.val();
			function checkFocus() {
				var isActive = this.element[0] === this.document[0].activeElement;
				if ( !isActive ) {
					this.element.focus();
					this.previous = previous;
					// support: IE
					// IE sets focus asynchronously, so we need to check if focus
					// moved off of the input because the user clicked on the button.
					this._delay(function() {
						this.previous = previous;
					});
				}
			}

			// ensure focus is on (or stays on) the text field
			event.preventDefault();
			checkFocus.call( this );

			// support: IE
			// IE doesn't prevent moving focus even with event.preventDefault()
			// so we set a flag to know when we should ignore the blur event
			// and check (again) if focus moved off of the input.
			this.cancelBlur = true;
			this._delay(function() {
				delete this.cancelBlur;
				checkFocus.call( this );
			});

			if ( this._start( event ) === false ) {
				return;
			}

			this._repeat( null, $( event.currentTarget ).hasClass( "ui-spinner-up" ) ? 1 : -1, event );
		},
		"mouseup .ui-spinner-button": "_stop",
		"mouseenter .ui-spinner-button": function( event ) {
			// button will add ui-state-active if mouse was down while mouseleave and kept down
			if ( !$( event.currentTarget ).hasClass( "ui-state-active" ) ) {
				return;
			}

			if ( this._start( event ) === false ) {
				return false;
			}
			this._repeat( null, $( event.currentTarget ).hasClass( "ui-spinner-up" ) ? 1 : -1, event );
		},
		// TODO: do we really want to consider this a stop?
		// shouldn't we just stop the repeater and wait until mouseup before
		// we trigger the stop event?
		"mouseleave .ui-spinner-button": "_stop"
	},

	_draw: function() {
		var uiSpinner = this.uiSpinner = this.element
			.addClass( "ui-spinner-input" )
			.attr( "autocomplete", "off" )
			.wrap( this._uiSpinnerHtml() )
			.parent()
				// add buttons
				.append( this._buttonHtml() );

		this.element.attr( "role", "spinbutton" );

		// button bindings
		this.buttons = uiSpinner.find( ".ui-spinner-button" )
			.attr( "tabIndex", -1 )
			.button()
			.removeClass( "ui-corner-all" );

		// IE 6 doesn't understand height: 50% for the buttons
		// unless the wrapper has an explicit height
		if ( this.buttons.height() > Math.ceil( uiSpinner.height() * 0.5 ) &&
				uiSpinner.height() > 0 ) {
			uiSpinner.height( uiSpinner.height() );
		}

		// disable spinner if element was already disabled
		if ( this.options.disabled ) {
			this.disable();
		}
	},

	_keydown: function( event ) {
		var options = this.options,
			keyCode = $.ui.keyCode;

		switch ( event.keyCode ) {
		case keyCode.UP:
			this._repeat( null, 1, event );
			return true;
		case keyCode.DOWN:
			this._repeat( null, -1, event );
			return true;
		case keyCode.PAGE_UP:
			this._repeat( null, options.page, event );
			return true;
		case keyCode.PAGE_DOWN:
			this._repeat( null, -options.page, event );
			return true;
		}

		return false;
	},

	_uiSpinnerHtml: function() {
		return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>";
	},

	_buttonHtml: function() {
		return "" +
			"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'>" +
				"<span class='ui-icon " + this.options.icons.up + "'>&#9650;</span>" +
			"</a>" +
			"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>" +
				"<span class='ui-icon " + this.options.icons.down + "'>&#9660;</span>" +
			"</a>";
	},

	_start: function( event ) {
		if ( !this.spinning && this._trigger( "start", event ) === false ) {
			return false;
		}

		if ( !this.counter ) {
			this.counter = 1;
		}
		this.spinning = true;
		return true;
	},

	_repeat: function( i, steps, event ) {
		i = i || 500;

		clearTimeout( this.timer );
		this.timer = this._delay(function() {
			this._repeat( 40, steps, event );
		}, i );

		this._spin( steps * this.options.step, event );
	},

	_spin: function( step, event ) {
		var value = this.value() || 0;

		if ( !this.counter ) {
			this.counter = 1;
		}

		value = this._adjustValue( value + step * this._increment( this.counter ) );

		if ( !this.spinning || this._trigger( "spin", event, { value: value } ) !== false) {
			this._value( value );
			this.counter++;
		}
	},

	_increment: function( i ) {
		var incremental = this.options.incremental;

		if ( incremental ) {
			return $.isFunction( incremental ) ?
				incremental( i ) :
				Math.floor( i * i * i / 50000 - i * i / 500 + 17 * i / 200 + 1 );
		}

		return 1;
	},

	_precision: function() {
		var precision = this._precisionOf( this.options.step );
		if ( this.options.min !== null ) {
			precision = Math.max( precision, this._precisionOf( this.options.min ) );
		}
		return precision;
	},

	_precisionOf: function( num ) {
		var str = num.toString(),
			decimal = str.indexOf( "." );
		return decimal === -1 ? 0 : str.length - decimal - 1;
	},

	_adjustValue: function( value ) {
		var base, aboveMin,
			options = this.options;

		// make sure we're at a valid step
		// - find out where we are relative to the base (min or 0)
		base = options.min !== null ? options.min : 0;
		aboveMin = value - base;
		// - round to the nearest step
		aboveMin = Math.round(aboveMin / options.step) * options.step;
		// - rounding is based on 0, so adjust back to our base
		value = base + aboveMin;

		// fix precision from bad JS floating point math
		value = parseFloat( value.toFixed( this._precision() ) );

		// clamp the value
		if ( options.max !== null && value > options.max) {
			return options.max;
		}
		if ( options.min !== null && value < options.min ) {
			return options.min;
		}

		return value;
	},

	_stop: function( event ) {
		if ( !this.spinning ) {
			return;
		}

		clearTimeout( this.timer );
		clearTimeout( this.mousewheelTimer );
		this.counter = 0;
		this.spinning = false;
		this._trigger( "stop", event );
	},

	_setOption: function( key, value ) {
		if ( key === "culture" || key === "numberFormat" ) {
			var prevValue = this._parse( this.element.val() );
			this.options[ key ] = value;
			this.element.val( this._format( prevValue ) );
			return;
		}

		if ( key === "max" || key === "min" || key === "step" ) {
			if ( typeof value === "string" ) {
				value = this._parse( value );
			}
		}
		if ( key === "icons" ) {
			this.buttons.first().find( ".ui-icon" )
				.removeClass( this.options.icons.up )
				.addClass( value.up );
			this.buttons.last().find( ".ui-icon" )
				.removeClass( this.options.icons.down )
				.addClass( value.down );
		}

		this._super( key, value );

		if ( key === "disabled" ) {
			this.widget().toggleClass( "ui-state-disabled", !!value );
			this.element.prop( "disabled", !!value );
			this.buttons.button( value ? "disable" : "enable" );
		}
	},

	_setOptions: spinner_modifier(function( options ) {
		this._super( options );
	}),

	_parse: function( val ) {
		if ( typeof val === "string" && val !== "" ) {
			val = window.Globalize && this.options.numberFormat ?
				Globalize.parseFloat( val, 10, this.options.culture ) : +val;
		}
		return val === "" || isNaN( val ) ? null : val;
	},

	_format: function( value ) {
		if ( value === "" ) {
			return "";
		}
		return window.Globalize && this.options.numberFormat ?
			Globalize.format( value, this.options.numberFormat, this.options.culture ) :
			value;
	},

	_refresh: function() {
		this.element.attr({
			"aria-valuemin": this.options.min,
			"aria-valuemax": this.options.max,
			// TODO: what should we do with values that can't be parsed?
			"aria-valuenow": this._parse( this.element.val() )
		});
	},

	isValid: function() {
		var value = this.value();

		// null is invalid
		if ( value === null ) {
			return false;
		}

		// if value gets adjusted, it's invalid
		return value === this._adjustValue( value );
	},

	// update the value without triggering change
	_value: function( value, allowAny ) {
		var parsed;
		if ( value !== "" ) {
			parsed = this._parse( value );
			if ( parsed !== null ) {
				if ( !allowAny ) {
					parsed = this._adjustValue( parsed );
				}
				value = this._format( parsed );
			}
		}
		this.element.val( value );
		this._refresh();
	},

	_destroy: function() {
		this.element
			.removeClass( "ui-spinner-input" )
			.prop( "disabled", false )
			.removeAttr( "autocomplete" )
			.removeAttr( "role" )
			.removeAttr( "aria-valuemin" )
			.removeAttr( "aria-valuemax" )
			.removeAttr( "aria-valuenow" );
		this.uiSpinner.replaceWith( this.element );
	},

	stepUp: spinner_modifier(function( steps ) {
		this._stepUp( steps );
	}),
	_stepUp: function( steps ) {
		if ( this._start() ) {
			this._spin( (steps || 1) * this.options.step );
			this._stop();
		}
	},

	stepDown: spinner_modifier(function( steps ) {
		this._stepDown( steps );
	}),
	_stepDown: function( steps ) {
		if ( this._start() ) {
			this._spin( (steps || 1) * -this.options.step );
			this._stop();
		}
	},

	pageUp: spinner_modifier(function( pages ) {
		this._stepUp( (pages || 1) * this.options.page );
	}),

	pageDown: spinner_modifier(function( pages ) {
		this._stepDown( (pages || 1) * this.options.page );
	}),

	value: function( newVal ) {
		if ( !arguments.length ) {
			return this._parse( this.element.val() );
		}
		spinner_modifier( this._value ).call( this, newVal );
	},

	widget: function() {
		return this.uiSpinner;
	}
});


/*!
 * jQuery UI Tabs 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 */


var tabs = $.widget( "ui.tabs", {
	version: "1.11.4",
	delay: 300,
	options: {
		active: null,
		collapsible: false,
		event: "click",
		heightStyle: "content",
		hide: null,
		show: null,

		// callbacks
		activate: null,
		beforeActivate: null,
		beforeLoad: null,
		load: null
	},

	_isLocal: (function() {
		var rhash = /#.*$/;

		return function( anchor ) {
			var anchorUrl, locationUrl;

			// support: IE7
			// IE7 doesn't normalize the href property when set via script (#9317)
			anchor = anchor.cloneNode( false );

			anchorUrl = anchor.href.replace( rhash, "" );
			locationUrl = location.href.replace( rhash, "" );

			// decoding may throw an error if the URL isn't UTF-8 (#9518)
			try {
				anchorUrl = decodeURIComponent( anchorUrl );
			} catch ( error ) {}
			try {
				locationUrl = decodeURIComponent( locationUrl );
			} catch ( error ) {}

			return anchor.hash.length > 1 && anchorUrl === locationUrl;
		};
	})(),

	_create: function() {
		var that = this,
			options = this.options;

		this.running = false;

		this.element
			.addClass( "ui-tabs ui-widget ui-widget-content ui-corner-all" )
			.toggleClass( "ui-tabs-collapsible", options.collapsible );

		this._processTabs();
		options.active = this._initialActive();

		// Take disabling tabs via class attribute from HTML
		// into account and update option properly.
		if ( $.isArray( options.disabled ) ) {
			options.disabled = $.unique( options.disabled.concat(
				$.map( this.tabs.filter( ".ui-state-disabled" ), function( li ) {
					return that.tabs.index( li );
				})
			) ).sort();
		}

		// check for length avoids error when initializing empty list
		if ( this.options.active !== false && this.anchors.length ) {
			this.active = this._findActive( options.active );
		} else {
			this.active = $();
		}

		this._refresh();

		if ( this.active.length ) {
			this.load( options.active );
		}
	},

	_initialActive: function() {
		var active = this.options.active,
			collapsible = this.options.collapsible,
			locationHash = location.hash.substring( 1 );

		if ( active === null ) {
			// check the fragment identifier in the URL
			if ( locationHash ) {
				this.tabs.each(function( i, tab ) {
					if ( $( tab ).attr( "aria-controls" ) === locationHash ) {
						active = i;
						return false;
					}
				});
			}

			// check for a tab marked active via a class
			if ( active === null ) {
				active = this.tabs.index( this.tabs.filter( ".ui-tabs-active" ) );
			}

			// no active tab, set to false
			if ( active === null || active === -1 ) {
				active = this.tabs.length ? 0 : false;
			}
		}

		// handle numbers: negative, out of range
		if ( active !== false ) {
			active = this.tabs.index( this.tabs.eq( active ) );
			if ( active === -1 ) {
				active = collapsible ? false : 0;
			}
		}

		// don't allow collapsible: false and active: false
		if ( !collapsible && active === false && this.anchors.length ) {
			active = 0;
		}

		return active;
	},

	_getCreateEventData: function() {
		return {
			tab: this.active,
			panel: !this.active.length ? $() : this._getPanelForTab( this.active )
		};
	},

	_tabKeydown: function( event ) {
		var focusedTab = $( this.document[0].activeElement ).closest( "li" ),
			selectedIndex = this.tabs.index( focusedTab ),
			goingForward = true;

		if ( this._handlePageNav( event ) ) {
			return;
		}

		switch ( event.keyCode ) {
			case $.ui.keyCode.RIGHT:
			case $.ui.keyCode.DOWN:
				selectedIndex++;
				break;
			case $.ui.keyCode.UP:
			case $.ui.keyCode.LEFT:
				goingForward = false;
				selectedIndex--;
				break;
			case $.ui.keyCode.END:
				selectedIndex = this.anchors.length - 1;
				break;
			case $.ui.keyCode.HOME:
				selectedIndex = 0;
				break;
			case $.ui.keyCode.SPACE:
				// Activate only, no collapsing
				event.preventDefault();
				clearTimeout( this.activating );
				this._activate( selectedIndex );
				return;
			case $.ui.keyCode.ENTER:
				// Toggle (cancel delayed activation, allow collapsing)
				event.preventDefault();
				clearTimeout( this.activating );
				// Determine if we should collapse or activate
				this._activate( selectedIndex === this.options.active ? false : selectedIndex );
				return;
			default:
				return;
		}

		// Focus the appropriate tab, based on which key was pressed
		event.preventDefault();
		clearTimeout( this.activating );
		selectedIndex = this._focusNextTab( selectedIndex, goingForward );

		// Navigating with control/command key will prevent automatic activation
		if ( !event.ctrlKey && !event.metaKey ) {

			// Update aria-selected immediately so that AT think the tab is already selected.
			// Otherwise AT may confuse the user by stating that they need to activate the tab,
			// but the tab will already be activated by the time the announcement finishes.
			focusedTab.attr( "aria-selected", "false" );
			this.tabs.eq( selectedIndex ).attr( "aria-selected", "true" );

			this.activating = this._delay(function() {
				this.option( "active", selectedIndex );
			}, this.delay );
		}
	},

	_panelKeydown: function( event ) {
		if ( this._handlePageNav( event ) ) {
			return;
		}

		// Ctrl+up moves focus to the current tab
		if ( event.ctrlKey && event.keyCode === $.ui.keyCode.UP ) {
			event.preventDefault();
			this.active.focus();
		}
	},

	// Alt+page up/down moves focus to the previous/next tab (and activates)
	_handlePageNav: function( event ) {
		if ( event.altKey && event.keyCode === $.ui.keyCode.PAGE_UP ) {
			this._activate( this._focusNextTab( this.options.active - 1, false ) );
			return true;
		}
		if ( event.altKey && event.keyCode === $.ui.keyCode.PAGE_DOWN ) {
			this._activate( this._focusNextTab( this.options.active + 1, true ) );
			return true;
		}
	},

	_findNextTab: function( index, goingForward ) {
		var lastTabIndex = this.tabs.length - 1;

		function constrain() {
			if ( index > lastTabIndex ) {
				index = 0;
			}
			if ( index < 0 ) {
				index = lastTabIndex;
			}
			return index;
		}

		while ( $.inArray( constrain(), this.options.disabled ) !== -1 ) {
			index = goingForward ? index + 1 : index - 1;
		}

		return index;
	},

	_focusNextTab: function( index, goingForward ) {
		index = this._findNextTab( index, goingForward );
		this.tabs.eq( index ).focus();
		return index;
	},

	_setOption: function( key, value ) {
		if ( key === "active" ) {
			// _activate() will handle invalid values and update this.options
			this._activate( value );
			return;
		}

		if ( key === "disabled" ) {
			// don't use the widget factory's disabled handling
			this._setupDisabled( value );
			return;
		}

		this._super( key, value);

		if ( key === "collapsible" ) {
			this.element.toggleClass( "ui-tabs-collapsible", value );
			// Setting collapsible: false while collapsed; open first panel
			if ( !value && this.options.active === false ) {
				this._activate( 0 );
			}
		}

		if ( key === "event" ) {
			this._setupEvents( value );
		}

		if ( key === "heightStyle" ) {
			this._setupHeightStyle( value );
		}
	},

	_sanitizeSelector: function( hash ) {
		return hash ? hash.replace( /[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&" ) : "";
	},

	refresh: function() {
		var options = this.options,
			lis = this.tablist.children( ":has(a[href])" );

		// get disabled tabs from class attribute from HTML
		// this will get converted to a boolean if needed in _refresh()
		options.disabled = $.map( lis.filter( ".ui-state-disabled" ), function( tab ) {
			return lis.index( tab );
		});

		this._processTabs();

		// was collapsed or no tabs
		if ( options.active === false || !this.anchors.length ) {
			options.active = false;
			this.active = $();
		// was active, but active tab is gone
		} else if ( this.active.length && !$.contains( this.tablist[ 0 ], this.active[ 0 ] ) ) {
			// all remaining tabs are disabled
			if ( this.tabs.length === options.disabled.length ) {
				options.active = false;
				this.active = $();
			// activate previous tab
			} else {
				this._activate( this._findNextTab( Math.max( 0, options.active - 1 ), false ) );
			}
		// was active, active tab still exists
		} else {
			// make sure active index is correct
			options.active = this.tabs.index( this.active );
		}

		this._refresh();
	},

	_refresh: function() {
		this._setupDisabled( this.options.disabled );
		this._setupEvents( this.options.event );
		this._setupHeightStyle( this.options.heightStyle );

		this.tabs.not( this.active ).attr({
			"aria-selected": "false",
			"aria-expanded": "false",
			tabIndex: -1
		});
		this.panels.not( this._getPanelForTab( this.active ) )
			.hide()
			.attr({
				"aria-hidden": "true"
			});

		// Make sure one tab is in the tab order
		if ( !this.active.length ) {
			this.tabs.eq( 0 ).attr( "tabIndex", 0 );
		} else {
			this.active
				.addClass( "ui-tabs-active ui-state-active" )
				.attr({
					"aria-selected": "true",
					"aria-expanded": "true",
					tabIndex: 0
				});
			this._getPanelForTab( this.active )
				.show()
				.attr({
					"aria-hidden": "false"
				});
		}
	},

	_processTabs: function() {
		var that = this,
			prevTabs = this.tabs,
			prevAnchors = this.anchors,
			prevPanels = this.panels;

		this.tablist = this._getList()
			.addClass( "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" )
			.attr( "role", "tablist" )

			// Prevent users from focusing disabled tabs via click
			.delegate( "> li", "mousedown" + this.eventNamespace, function( event ) {
				if ( $( this ).is( ".ui-state-disabled" ) ) {
					event.preventDefault();
				}
			})

			// support: IE <9
			// Preventing the default action in mousedown doesn't prevent IE
			// from focusing the element, so if the anchor gets focused, blur.
			// We don't have to worry about focusing the previously focused
			// element since clicking on a non-focusable element should focus
			// the body anyway.
			.delegate( ".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
				if ( $( this ).closest( "li" ).is( ".ui-state-disabled" ) ) {
					this.blur();
				}
			});

		this.tabs = this.tablist.find( "> li:has(a[href])" )
			.addClass( "ui-state-default ui-corner-top" )
			.attr({
				role: "tab",
				tabIndex: -1
			});

		this.anchors = this.tabs.map(function() {
				return $( "a", this )[ 0 ];
			})
			.addClass( "ui-tabs-anchor" )
			.attr({
				role: "presentation",
				tabIndex: -1
			});

		this.panels = $();

		this.anchors.each(function( i, anchor ) {
			var selector, panel, panelId,
				anchorId = $( anchor ).uniqueId().attr( "id" ),
				tab = $( anchor ).closest( "li" ),
				originalAriaControls = tab.attr( "aria-controls" );

			// inline tab
			if ( that._isLocal( anchor ) ) {
				selector = anchor.hash;
				panelId = selector.substring( 1 );
				panel = that.element.find( that._sanitizeSelector( selector ) );
			// remote tab
			} else {
				// If the tab doesn't already have aria-controls,
				// generate an id by using a throw-away element
				panelId = tab.attr( "aria-controls" ) || $( {} ).uniqueId()[ 0 ].id;
				selector = "#" + panelId;
				panel = that.element.find( selector );
				if ( !panel.length ) {
					panel = that._createPanel( panelId );
					panel.insertAfter( that.panels[ i - 1 ] || that.tablist );
				}
				panel.attr( "aria-live", "polite" );
			}

			if ( panel.length) {
				that.panels = that.panels.add( panel );
			}
			if ( originalAriaControls ) {
				tab.data( "ui-tabs-aria-controls", originalAriaControls );
			}
			tab.attr({
				"aria-controls": panelId,
				"aria-labelledby": anchorId
			});
			panel.attr( "aria-labelledby", anchorId );
		});

		this.panels
			.addClass( "ui-tabs-panel ui-widget-content ui-corner-bottom" )
			.attr( "role", "tabpanel" );

		// Avoid memory leaks (#10056)
		if ( prevTabs ) {
			this._off( prevTabs.not( this.tabs ) );
			this._off( prevAnchors.not( this.anchors ) );
			this._off( prevPanels.not( this.panels ) );
		}
	},

	// allow overriding how to find the list for rare usage scenarios (#7715)
	_getList: function() {
		return this.tablist || this.element.find( "ol,ul" ).eq( 0 );
	},

	_createPanel: function( id ) {
		return $( "<div>" )
			.attr( "id", id )
			.addClass( "ui-tabs-panel ui-widget-content ui-corner-bottom" )
			.data( "ui-tabs-destroy", true );
	},

	_setupDisabled: function( disabled ) {
		if ( $.isArray( disabled ) ) {
			if ( !disabled.length ) {
				disabled = false;
			} else if ( disabled.length === this.anchors.length ) {
				disabled = true;
			}
		}

		// disable tabs
		for ( var i = 0, li; ( li = this.tabs[ i ] ); i++ ) {
			if ( disabled === true || $.inArray( i, disabled ) !== -1 ) {
				$( li )
					.addClass( "ui-state-disabled" )
					.attr( "aria-disabled", "true" );
			} else {
				$( li )
					.removeClass( "ui-state-disabled" )
					.removeAttr( "aria-disabled" );
			}
		}

		this.options.disabled = disabled;
	},

	_setupEvents: function( event ) {
		var events = {};
		if ( event ) {
			$.each( event.split(" "), function( index, eventName ) {
				events[ eventName ] = "_eventHandler";
			});
		}

		this._off( this.anchors.add( this.tabs ).add( this.panels ) );
		// Always prevent the default action, even when disabled
		this._on( true, this.anchors, {
			click: function( event ) {
				event.preventDefault();
			}
		});
		this._on( this.anchors, events );
		this._on( this.tabs, { keydown: "_tabKeydown" } );
		this._on( this.panels, { keydown: "_panelKeydown" } );

		this._focusable( this.tabs );
		this._hoverable( this.tabs );
	},

	_setupHeightStyle: function( heightStyle ) {
		var maxHeight,
			parent = this.element.parent();

		if ( heightStyle === "fill" ) {
			maxHeight = parent.height();
			maxHeight -= this.element.outerHeight() - this.element.height();

			this.element.siblings( ":visible" ).each(function() {
				var elem = $( this ),
					position = elem.css( "position" );

				if ( position === "absolute" || position === "fixed" ) {
					return;
				}
				maxHeight -= elem.outerHeight( true );
			});

			this.element.children().not( this.panels ).each(function() {
				maxHeight -= $( this ).outerHeight( true );
			});

			this.panels.each(function() {
				$( this ).height( Math.max( 0, maxHeight -
					$( this ).innerHeight() + $( this ).height() ) );
			})
			.css( "overflow", "auto" );
		} else if ( heightStyle === "auto" ) {
			maxHeight = 0;
			this.panels.each(function() {
				maxHeight = Math.max( maxHeight, $( this ).height( "" ).height() );
			}).height( maxHeight );
		}
	},

	_eventHandler: function( event ) {
		var options = this.options,
			active = this.active,
			anchor = $( event.currentTarget ),
			tab = anchor.closest( "li" ),
			clickedIsActive = tab[ 0 ] === active[ 0 ],
			collapsing = clickedIsActive && options.collapsible,
			toShow = collapsing ? $() : this._getPanelForTab( tab ),
			toHide = !active.length ? $() : this._getPanelForTab( active ),
			eventData = {
				oldTab: active,
				oldPanel: toHide,
				newTab: collapsing ? $() : tab,
				newPanel: toShow
			};

		event.preventDefault();

		if ( tab.hasClass( "ui-state-disabled" ) ||
				// tab is already loading
				tab.hasClass( "ui-tabs-loading" ) ||
				// can't switch durning an animation
				this.running ||
				// click on active header, but not collapsible
				( clickedIsActive && !options.collapsible ) ||
				// allow canceling activation
				( this._trigger( "beforeActivate", event, eventData ) === false ) ) {
			return;
		}

		options.active = collapsing ? false : this.tabs.index( tab );

		this.active = clickedIsActive ? $() : tab;
		if ( this.xhr ) {
			this.xhr.abort();
		}

		if ( !toHide.length && !toShow.length ) {
			$.error( "jQuery UI Tabs: Mismatching fragment identifier." );
		}

		if ( toShow.length ) {
			this.load( this.tabs.index( tab ), event );
		}
		this._toggle( event, eventData );
	},

	// handles show/hide for selecting tabs
	_toggle: function( event, eventData ) {
		var that = this,
			toShow = eventData.newPanel,
			toHide = eventData.oldPanel;

		this.running = true;

		function complete() {
			that.running = false;
			that._trigger( "activate", event, eventData );
		}

		function show() {
			eventData.newTab.closest( "li" ).addClass( "ui-tabs-active ui-state-active" );

			if ( toShow.length && that.options.show ) {
				that._show( toShow, that.options.show, complete );
			} else {
				toShow.show();
				complete();
			}
		}

		// start out by hiding, then showing, then completing
		if ( toHide.length && this.options.hide ) {
			this._hide( toHide, this.options.hide, function() {
				eventData.oldTab.closest( "li" ).removeClass( "ui-tabs-active ui-state-active" );
				show();
			});
		} else {
			eventData.oldTab.closest( "li" ).removeClass( "ui-tabs-active ui-state-active" );
			toHide.hide();
			show();
		}

		toHide.attr( "aria-hidden", "true" );
		eventData.oldTab.attr({
			"aria-selected": "false",
			"aria-expanded": "false"
		});
		// If we're switching tabs, remove the old tab from the tab order.
		// If we're opening from collapsed state, remove the previous tab from the tab order.
		// If we're collapsing, then keep the collapsing tab in the tab order.
		if ( toShow.length && toHide.length ) {
			eventData.oldTab.attr( "tabIndex", -1 );
		} else if ( toShow.length ) {
			this.tabs.filter(function() {
				return $( this ).attr( "tabIndex" ) === 0;
			})
			.attr( "tabIndex", -1 );
		}

		toShow.attr( "aria-hidden", "false" );
		eventData.newTab.attr({
			"aria-selected": "true",
			"aria-expanded": "true",
			tabIndex: 0
		});
	},

	_activate: function( index ) {
		var anchor,
			active = this._findActive( index );

		// trying to activate the already active panel
		if ( active[ 0 ] === this.active[ 0 ] ) {
			return;
		}

		// trying to collapse, simulate a click on the current active header
		if ( !active.length ) {
			active = this.active;
		}

		anchor = active.find( ".ui-tabs-anchor" )[ 0 ];
		this._eventHandler({
			target: anchor,
			currentTarget: anchor,
			preventDefault: $.noop
		});
	},

	_findActive: function( index ) {
		return index === false ? $() : this.tabs.eq( index );
	},

	_getIndex: function( index ) {
		// meta-function to give users option to provide a href string instead of a numerical index.
		if ( typeof index === "string" ) {
			index = this.anchors.index( this.anchors.filter( "[href$='" + index + "']" ) );
		}

		return index;
	},

	_destroy: function() {
		if ( this.xhr ) {
			this.xhr.abort();
		}

		this.element.removeClass( "ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible" );

		this.tablist
			.removeClass( "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" )
			.removeAttr( "role" );

		this.anchors
			.removeClass( "ui-tabs-anchor" )
			.removeAttr( "role" )
			.removeAttr( "tabIndex" )
			.removeUniqueId();

		this.tablist.unbind( this.eventNamespace );

		this.tabs.add( this.panels ).each(function() {
			if ( $.data( this, "ui-tabs-destroy" ) ) {
				$( this ).remove();
			} else {
				$( this )
					.removeClass( "ui-state-default ui-state-active ui-state-disabled " +
						"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel" )
					.removeAttr( "tabIndex" )
					.removeAttr( "aria-live" )
					.removeAttr( "aria-busy" )
					.removeAttr( "aria-selected" )
					.removeAttr( "aria-labelledby" )
					.removeAttr( "aria-hidden" )
					.removeAttr( "aria-expanded" )
					.removeAttr( "role" );
			}
		});

		this.tabs.each(function() {
			var li = $( this ),
				prev = li.data( "ui-tabs-aria-controls" );
			if ( prev ) {
				li
					.attr( "aria-controls", prev )
					.removeData( "ui-tabs-aria-controls" );
			} else {
				li.removeAttr( "aria-controls" );
			}
		});

		this.panels.show();

		if ( this.options.heightStyle !== "content" ) {
			this.panels.css( "height", "" );
		}
	},

	enable: function( index ) {
		var disabled = this.options.disabled;
		if ( disabled === false ) {
			return;
		}

		if ( index === undefined ) {
			disabled = false;
		} else {
			index = this._getIndex( index );
			if ( $.isArray( disabled ) ) {
				disabled = $.map( disabled, function( num ) {
					return num !== index ? num : null;
				});
			} else {
				disabled = $.map( this.tabs, function( li, num ) {
					return num !== index ? num : null;
				});
			}
		}
		this._setupDisabled( disabled );
	},

	disable: function( index ) {
		var disabled = this.options.disabled;
		if ( disabled === true ) {
			return;
		}

		if ( index === undefined ) {
			disabled = true;
		} else {
			index = this._getIndex( index );
			if ( $.inArray( index, disabled ) !== -1 ) {
				return;
			}
			if ( $.isArray( disabled ) ) {
				disabled = $.merge( [ index ], disabled ).sort();
			} else {
				disabled = [ index ];
			}
		}
		this._setupDisabled( disabled );
	},

	load: function( index, event ) {
		index = this._getIndex( index );
		var that = this,
			tab = this.tabs.eq( index ),
			anchor = tab.find( ".ui-tabs-anchor" ),
			panel = this._getPanelForTab( tab ),
			eventData = {
				tab: tab,
				panel: panel
			},
			complete = function( jqXHR, status ) {
				if ( status === "abort" ) {
					that.panels.stop( false, true );
				}

				tab.removeClass( "ui-tabs-loading" );
				panel.removeAttr( "aria-busy" );

				if ( jqXHR === that.xhr ) {
					delete that.xhr;
				}
			};

		// not remote
		if ( this._isLocal( anchor[ 0 ] ) ) {
			return;
		}

		this.xhr = $.ajax( this._ajaxSettings( anchor, event, eventData ) );

		// support: jQuery <1.8
		// jQuery <1.8 returns false if the request is canceled in beforeSend,
		// but as of 1.8, $.ajax() always returns a jqXHR object.
		if ( this.xhr && this.xhr.statusText !== "canceled" ) {
			tab.addClass( "ui-tabs-loading" );
			panel.attr( "aria-busy", "true" );

			this.xhr
				.done(function( response, status, jqXHR ) {
					// support: jQuery <1.8
					// http://bugs.jquery.com/ticket/11778
					setTimeout(function() {
						panel.html( response );
						that._trigger( "load", event, eventData );

						complete( jqXHR, status );
					}, 1 );
				})
				.fail(function( jqXHR, status ) {
					// support: jQuery <1.8
					// http://bugs.jquery.com/ticket/11778
					setTimeout(function() {
						complete( jqXHR, status );
					}, 1 );
				});
		}
	},

	_ajaxSettings: function( anchor, event, eventData ) {
		var that = this;
		return {
			url: anchor.attr( "href" ),
			beforeSend: function( jqXHR, settings ) {
				return that._trigger( "beforeLoad", event,
					$.extend( { jqXHR: jqXHR, ajaxSettings: settings }, eventData ) );
			}
		};
	},

	_getPanelForTab: function( tab ) {
		var id = $( tab ).attr( "aria-controls" );
		return this.element.find( this._sanitizeSelector( "#" + id ) );
	}
});


/*!
 * jQuery UI Tooltip 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tooltip/
 */


var tooltip = $.widget( "ui.tooltip", {
	version: "1.11.4",
	options: {
		content: function() {
			// support: IE<9, Opera in jQuery <1.7
			// .text() can't accept undefined, so coerce to a string
			var title = $( this ).attr( "title" ) || "";
			// Escape title, since we're going from an attribute to raw HTML
			return $( "<a>" ).text( title ).html();
		},
		hide: true,
		// Disabled elements have inconsistent behavior across browsers (#8661)
		items: "[title]:not([disabled])",
		position: {
			my: "left top+15",
			at: "left bottom",
			collision: "flipfit flip"
		},
		show: true,
		tooltipClass: null,
		track: false,

		// callbacks
		close: null,
		open: null
	},

	_addDescribedBy: function( elem, id ) {
		var describedby = (elem.attr( "aria-describedby" ) || "").split( /\s+/ );
		describedby.push( id );
		elem
			.data( "ui-tooltip-id", id )
			.attr( "aria-describedby", $.trim( describedby.join( " " ) ) );
	},

	_removeDescribedBy: function( elem ) {
		var id = elem.data( "ui-tooltip-id" ),
			describedby = (elem.attr( "aria-describedby" ) || "").split( /\s+/ ),
			index = $.inArray( id, describedby );

		if ( index !== -1 ) {
			describedby.splice( index, 1 );
		}

		elem.removeData( "ui-tooltip-id" );
		describedby = $.trim( describedby.join( " " ) );
		if ( describedby ) {
			elem.attr( "aria-describedby", describedby );
		} else {
			elem.removeAttr( "aria-describedby" );
		}
	},

	_create: function() {
		this._on({
			mouseover: "open",
			focusin: "open"
		});

		// IDs of generated tooltips, needed for destroy
		this.tooltips = {};

		// IDs of parent tooltips where we removed the title attribute
		this.parents = {};

		if ( this.options.disabled ) {
			this._disable();
		}

		// Append the aria-live region so tooltips announce correctly
		this.liveRegion = $( "<div>" )
			.attr({
				role: "log",
				"aria-live": "assertive",
				"aria-relevant": "additions"
			})
			.addClass( "ui-helper-hidden-accessible" )
			.appendTo( this.document[ 0 ].body );
	},

	_setOption: function( key, value ) {
		var that = this;

		if ( key === "disabled" ) {
			this[ value ? "_disable" : "_enable" ]();
			this.options[ key ] = value;
			// disable element style changes
			return;
		}

		this._super( key, value );

		if ( key === "content" ) {
			$.each( this.tooltips, function( id, tooltipData ) {
				that._updateContent( tooltipData.element );
			});
		}
	},

	_disable: function() {
		var that = this;

		// close open tooltips
		$.each( this.tooltips, function( id, tooltipData ) {
			var event = $.Event( "blur" );
			event.target = event.currentTarget = tooltipData.element[ 0 ];
			that.close( event, true );
		});

		// remove title attributes to prevent native tooltips
		this.element.find( this.options.items ).addBack().each(function() {
			var element = $( this );
			if ( element.is( "[title]" ) ) {
				element
					.data( "ui-tooltip-title", element.attr( "title" ) )
					.removeAttr( "title" );
			}
		});
	},

	_enable: function() {
		// restore title attributes
		this.element.find( this.options.items ).addBack().each(function() {
			var element = $( this );
			if ( element.data( "ui-tooltip-title" ) ) {
				element.attr( "title", element.data( "ui-tooltip-title" ) );
			}
		});
	},

	open: function( event ) {
		var that = this,
			target = $( event ? event.target : this.element )
				// we need closest here due to mouseover bubbling,
				// but always pointing at the same event target
				.closest( this.options.items );

		// No element to show a tooltip for or the tooltip is already open
		if ( !target.length || target.data( "ui-tooltip-id" ) ) {
			return;
		}

		if ( target.attr( "title" ) ) {
			target.data( "ui-tooltip-title", target.attr( "title" ) );
		}

		target.data( "ui-tooltip-open", true );

		// kill parent tooltips, custom or native, for hover
		if ( event && event.type === "mouseover" ) {
			target.parents().each(function() {
				var parent = $( this ),
					blurEvent;
				if ( parent.data( "ui-tooltip-open" ) ) {
					blurEvent = $.Event( "blur" );
					blurEvent.target = blurEvent.currentTarget = this;
					that.close( blurEvent, true );
				}
				if ( parent.attr( "title" ) ) {
					parent.uniqueId();
					that.parents[ this.id ] = {
						element: this,
						title: parent.attr( "title" )
					};
					parent.attr( "title", "" );
				}
			});
		}

		this._registerCloseHandlers( event, target );
		this._updateContent( target, event );
	},

	_updateContent: function( target, event ) {
		var content,
			contentOption = this.options.content,
			that = this,
			eventType = event ? event.type : null;

		if ( typeof contentOption === "string" ) {
			return this._open( event, target, contentOption );
		}

		content = contentOption.call( target[0], function( response ) {

			// IE may instantly serve a cached response for ajax requests
			// delay this call to _open so the other call to _open runs first
			that._delay(function() {

				// Ignore async response if tooltip was closed already
				if ( !target.data( "ui-tooltip-open" ) ) {
					return;
				}

				// jQuery creates a special event for focusin when it doesn't
				// exist natively. To improve performance, the native event
				// object is reused and the type is changed. Therefore, we can't
				// rely on the type being correct after the event finished
				// bubbling, so we set it back to the previous value. (#8740)
				if ( event ) {
					event.type = eventType;
				}
				this._open( event, target, response );
			});
		});
		if ( content ) {
			this._open( event, target, content );
		}
	},

	_open: function( event, target, content ) {
		var tooltipData, tooltip, delayedShow, a11yContent,
			positionOption = $.extend( {}, this.options.position );

		if ( !content ) {
			return;
		}

		// Content can be updated multiple times. If the tooltip already
		// exists, then just update the content and bail.
		tooltipData = this._find( target );
		if ( tooltipData ) {
			tooltipData.tooltip.find( ".ui-tooltip-content" ).html( content );
			return;
		}

		// if we have a title, clear it to prevent the native tooltip
		// we have to check first to avoid defining a title if none exists
		// (we don't want to cause an element to start matching [title])
		//
		// We use removeAttr only for key events, to allow IE to export the correct
		// accessible attributes. For mouse events, set to empty string to avoid
		// native tooltip showing up (happens only when removing inside mouseover).
		if ( target.is( "[title]" ) ) {
			if ( event && event.type === "mouseover" ) {
				target.attr( "title", "" );
			} else {
				target.removeAttr( "title" );
			}
		}

		tooltipData = this._tooltip( target );
		tooltip = tooltipData.tooltip;
		this._addDescribedBy( target, tooltip.attr( "id" ) );
		tooltip.find( ".ui-tooltip-content" ).html( content );

		// Support: Voiceover on OS X, JAWS on IE <= 9
		// JAWS announces deletions even when aria-relevant="additions"
		// Voiceover will sometimes re-read the entire log region's contents from the beginning
		this.liveRegion.children().hide();
		if ( content.clone ) {
			a11yContent = content.clone();
			a11yContent.removeAttr( "id" ).find( "[id]" ).removeAttr( "id" );
		} else {
			a11yContent = content;
		}
		$( "<div>" ).html( a11yContent ).appendTo( this.liveRegion );

		function position( event ) {
			positionOption.of = event;
			if ( tooltip.is( ":hidden" ) ) {
				return;
			}
			tooltip.position( positionOption );
		}
		if ( this.options.track && event && /^mouse/.test( event.type ) ) {
			this._on( this.document, {
				mousemove: position
			});
			// trigger once to override element-relative positioning
			position( event );
		} else {
			tooltip.position( $.extend({
				of: target
			}, this.options.position ) );
		}

		tooltip.hide();

		this._show( tooltip, this.options.show );
		// Handle tracking tooltips that are shown with a delay (#8644). As soon
		// as the tooltip is visible, position the tooltip using the most recent
		// event.
		if ( this.options.show && this.options.show.delay ) {
			delayedShow = this.delayedShow = setInterval(function() {
				if ( tooltip.is( ":visible" ) ) {
					position( positionOption.of );
					clearInterval( delayedShow );
				}
			}, $.fx.interval );
		}

		this._trigger( "open", event, { tooltip: tooltip } );
	},

	_registerCloseHandlers: function( event, target ) {
		var events = {
			keyup: function( event ) {
				if ( event.keyCode === $.ui.keyCode.ESCAPE ) {
					var fakeEvent = $.Event(event);
					fakeEvent.currentTarget = target[0];
					this.close( fakeEvent, true );
				}
			}
		};

		// Only bind remove handler for delegated targets. Non-delegated
		// tooltips will handle this in destroy.
		if ( target[ 0 ] !== this.element[ 0 ] ) {
			events.remove = function() {
				this._removeTooltip( this._find( target ).tooltip );
			};
		}

		if ( !event || event.type === "mouseover" ) {
			events.mouseleave = "close";
		}
		if ( !event || event.type === "focusin" ) {
			events.focusout = "close";
		}
		this._on( true, target, events );
	},

	close: function( event ) {
		var tooltip,
			that = this,
			target = $( event ? event.currentTarget : this.element ),
			tooltipData = this._find( target );

		// The tooltip may already be closed
		if ( !tooltipData ) {

			// We set ui-tooltip-open immediately upon open (in open()), but only set the
			// additional data once there's actually content to show (in _open()). So even if the
			// tooltip doesn't have full data, we always remove ui-tooltip-open in case we're in
			// the period between open() and _open().
			target.removeData( "ui-tooltip-open" );
			return;
		}

		tooltip = tooltipData.tooltip;

		// disabling closes the tooltip, so we need to track when we're closing
		// to avoid an infinite loop in case the tooltip becomes disabled on close
		if ( tooltipData.closing ) {
			return;
		}

		// Clear the interval for delayed tracking tooltips
		clearInterval( this.delayedShow );

		// only set title if we had one before (see comment in _open())
		// If the title attribute has changed since open(), don't restore
		if ( target.data( "ui-tooltip-title" ) && !target.attr( "title" ) ) {
			target.attr( "title", target.data( "ui-tooltip-title" ) );
		}

		this._removeDescribedBy( target );

		tooltipData.hiding = true;
		tooltip.stop( true );
		this._hide( tooltip, this.options.hide, function() {
			that._removeTooltip( $( this ) );
		});

		target.removeData( "ui-tooltip-open" );
		this._off( target, "mouseleave focusout keyup" );

		// Remove 'remove' binding only on delegated targets
		if ( target[ 0 ] !== this.element[ 0 ] ) {
			this._off( target, "remove" );
		}
		this._off( this.document, "mousemove" );

		if ( event && event.type === "mouseleave" ) {
			$.each( this.parents, function( id, parent ) {
				$( parent.element ).attr( "title", parent.title );
				delete that.parents[ id ];
			});
		}

		tooltipData.closing = true;
		this._trigger( "close", event, { tooltip: tooltip } );
		if ( !tooltipData.hiding ) {
			tooltipData.closing = false;
		}
	},

	_tooltip: function( element ) {
		var tooltip = $( "<div>" )
				.attr( "role", "tooltip" )
				.addClass( "ui-tooltip ui-widget ui-corner-all ui-widget-content " +
					( this.options.tooltipClass || "" ) ),
			id = tooltip.uniqueId().attr( "id" );

		$( "<div>" )
			.addClass( "ui-tooltip-content" )
			.appendTo( tooltip );

		tooltip.appendTo( this.document[0].body );

		return this.tooltips[ id ] = {
			element: element,
			tooltip: tooltip
		};
	},

	_find: function( target ) {
		var id = target.data( "ui-tooltip-id" );
		return id ? this.tooltips[ id ] : null;
	},

	_removeTooltip: function( tooltip ) {
		tooltip.remove();
		delete this.tooltips[ tooltip.attr( "id" ) ];
	},

	_destroy: function() {
		var that = this;

		// close open tooltips
		$.each( this.tooltips, function( id, tooltipData ) {
			// Delegate to close method to handle common cleanup
			var event = $.Event( "blur" ),
				element = tooltipData.element;
			event.target = event.currentTarget = element[ 0 ];
			that.close( event, true );

			// Remove immediately; destroying an open tooltip doesn't use the
			// hide animation
			$( "#" + id ).remove();

			// Restore the title
			if ( element.data( "ui-tooltip-title" ) ) {
				// If the title attribute has changed since open(), don't restore
				if ( !element.attr( "title" ) ) {
					element.attr( "title", element.data( "ui-tooltip-title" ) );
				}
				element.removeData( "ui-tooltip-title" );
			}
		});
		this.liveRegion.remove();
	}
});



}));

/***/ }),
/* 12 */
/***/ (function(module, exports, __nested_webpack_require_1019865__) {

var api = __nested_webpack_require_1019865__(2);
            var content = __nested_webpack_require_1019865__(13);

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);

var exported = content.locals ? content.locals : {};



module.exports = exported;

/***/ }),
/* 13 */
/***/ (function(module, exports, __nested_webpack_require_1020404__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __nested_webpack_require_1020404__(3);
var ___CSS_LOADER_GET_URL_IMPORT___ = __nested_webpack_require_1020404__(7);
var ___CSS_LOADER_URL_IMPORT_0___ = __nested_webpack_require_1020404__(14);
var ___CSS_LOADER_URL_IMPORT_1___ = __nested_webpack_require_1020404__(15);
var ___CSS_LOADER_URL_IMPORT_2___ = __nested_webpack_require_1020404__(16);
var ___CSS_LOADER_URL_IMPORT_3___ = __nested_webpack_require_1020404__(17);
var ___CSS_LOADER_URL_IMPORT_4___ = __nested_webpack_require_1020404__(18);
var ___CSS_LOADER_URL_IMPORT_5___ = __nested_webpack_require_1020404__(19);
var ___CSS_LOADER_URL_IMPORT_6___ = __nested_webpack_require_1020404__(20);
var ___CSS_LOADER_URL_IMPORT_7___ = __nested_webpack_require_1020404__(21);
var ___CSS_LOADER_URL_IMPORT_8___ = __nested_webpack_require_1020404__(22);
var ___CSS_LOADER_URL_IMPORT_9___ = __nested_webpack_require_1020404__(23);
var ___CSS_LOADER_URL_IMPORT_10___ = __nested_webpack_require_1020404__(24);
var ___CSS_LOADER_URL_IMPORT_11___ = __nested_webpack_require_1020404__(25);
var ___CSS_LOADER_URL_IMPORT_12___ = __nested_webpack_require_1020404__(26);
var ___CSS_LOADER_URL_IMPORT_13___ = __nested_webpack_require_1020404__(27);
exports = ___CSS_LOADER_API_IMPORT___(false);
var ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);
var ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);
var ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);
var ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);
var ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);
var ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);
var ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);
var ___CSS_LOADER_URL_REPLACEMENT_7___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_7___);
var ___CSS_LOADER_URL_REPLACEMENT_8___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_8___);
var ___CSS_LOADER_URL_REPLACEMENT_9___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_9___);
var ___CSS_LOADER_URL_REPLACEMENT_10___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_10___);
var ___CSS_LOADER_URL_REPLACEMENT_11___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_11___);
var ___CSS_LOADER_URL_REPLACEMENT_12___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_12___);
var ___CSS_LOADER_URL_REPLACEMENT_13___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_13___);
// Module
exports.push([module.i, "/*! jQuery UI - v1.11.4 - 2015-03-11\n* http://jqueryui.com\n* Includes: core.css, accordion.css, autocomplete.css, button.css, datepicker.css, dialog.css, draggable.css, menu.css, progressbar.css, resizable.css, selectable.css, selectmenu.css, slider.css, sortable.css, spinner.css, tabs.css, tooltip.css, theme.css\n* To view and modify this theme, visit http://jqueryui.com/themeroller/?ffDefault=Trebuchet%20MS%2CTahoma%2CVerdana%2CArial%2Csans-serif&fwDefault=bold&fsDefault=1.1em&cornerRadius=4px&bgColorHeader=f6a828&bgTextureHeader=gloss_wave&bgImgOpacityHeader=35&borderColorHeader=e78f08&fcHeader=ffffff&iconColorHeader=ffffff&bgColorContent=eeeeee&bgTextureContent=highlight_soft&bgImgOpacityContent=100&borderColorContent=dddddd&fcContent=333333&iconColorContent=222222&bgColorDefault=f6f6f6&bgTextureDefault=glass&bgImgOpacityDefault=100&borderColorDefault=cccccc&fcDefault=1c94c4&iconColorDefault=ef8c08&bgColorHover=fdf5ce&bgTextureHover=glass&bgImgOpacityHover=100&borderColorHover=fbcb09&fcHover=c77405&iconColorHover=ef8c08&bgColorActive=ffffff&bgTextureActive=glass&bgImgOpacityActive=65&borderColorActive=fbd850&fcActive=eb8f00&iconColorActive=ef8c08&bgColorHighlight=ffe45c&bgTextureHighlight=highlight_soft&bgImgOpacityHighlight=75&borderColorHighlight=fed22f&fcHighlight=363636&iconColorHighlight=228ef1&bgColorError=b81900&bgTextureError=diagonals_thick&bgImgOpacityError=18&borderColorError=cd0a0a&fcError=ffffff&iconColorError=ffd27a&bgColorOverlay=666666&bgTextureOverlay=diagonals_thick&bgImgOpacityOverlay=20&opacityOverlay=50&bgColorShadow=000000&bgTextureShadow=flat&bgImgOpacityShadow=10&opacityShadow=20&thicknessShadow=5px&offsetTopShadow=-5px&offsetLeftShadow=-5px&cornerRadiusShadow=5px\n* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */\n\n/* Layout helpers\n----------------------------------*/\n.ui-helper-hidden {\n\tdisplay: none;\n}\n.ui-helper-hidden-accessible {\n\tborder: 0;\n\tclip: rect(0 0 0 0);\n\theight: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\twidth: 1px;\n}\n.ui-helper-reset {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\toutline: 0;\n\tline-height: 1.3;\n\ttext-decoration: none;\n\tfont-size: 100%;\n\tlist-style: none;\n}\n.ui-helper-clearfix:before,\n.ui-helper-clearfix:after {\n\tcontent: \"\";\n\tdisplay: table;\n\tborder-collapse: collapse;\n}\n.ui-helper-clearfix:after {\n\tclear: both;\n}\n.ui-helper-clearfix {\n\tmin-height: 0; /* support: IE7 */\n}\n.ui-helper-zfix {\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tposition: absolute;\n\topacity: 0;\n\tfilter:Alpha(Opacity=0); /* support: IE8 */\n}\n\n.ui-front {\n\tz-index: 100;\n}\n\n\n/* Interaction Cues\n----------------------------------*/\n.ui-state-disabled {\n\tcursor: default !important;\n}\n\n\n/* Icons\n----------------------------------*/\n\n/* states and images */\n.ui-icon {\n\tdisplay: block;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n}\n\n\n/* Misc visuals\n----------------------------------*/\n\n/* Overlays */\n.ui-widget-overlay {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n.ui-accordion .ui-accordion-header {\n\tdisplay: block;\n\tcursor: pointer;\n\tposition: relative;\n\tmargin: 2px 0 0 0;\n\tpadding: .5em .5em .5em .7em;\n\tmin-height: 0; /* support: IE7 */\n\tfont-size: 100%;\n}\n.ui-accordion .ui-accordion-icons {\n\tpadding-left: 2.2em;\n}\n.ui-accordion .ui-accordion-icons .ui-accordion-icons {\n\tpadding-left: 2.2em;\n}\n.ui-accordion .ui-accordion-header .ui-accordion-header-icon {\n\tposition: absolute;\n\tleft: .5em;\n\ttop: 50%;\n\tmargin-top: -8px;\n}\n.ui-accordion .ui-accordion-content {\n\tpadding: 1em 2.2em;\n\tborder-top: 0;\n\toverflow: auto;\n}\n.ui-autocomplete {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcursor: default;\n}\n.ui-button {\n\tdisplay: inline-block;\n\tposition: relative;\n\tpadding: 0;\n\tline-height: normal;\n\tmargin-right: .1em;\n\tcursor: pointer;\n\tvertical-align: middle;\n\ttext-align: center;\n\toverflow: visible; /* removes extra width in IE */\n}\n.ui-button,\n.ui-button:link,\n.ui-button:visited,\n.ui-button:hover,\n.ui-button:active {\n\ttext-decoration: none;\n}\n/* to make room for the icon, a width needs to be set here */\n.ui-button-icon-only {\n\twidth: 2.2em;\n}\n/* button elements seem to need a little more width */\nbutton.ui-button-icon-only {\n\twidth: 2.4em;\n}\n.ui-button-icons-only {\n\twidth: 3.4em;\n}\nbutton.ui-button-icons-only {\n\twidth: 3.7em;\n}\n\n/* button text element */\n.ui-button .ui-button-text {\n\tdisplay: block;\n\tline-height: normal;\n}\n.ui-button-text-only .ui-button-text {\n\tpadding: .4em 1em;\n}\n.ui-button-icon-only .ui-button-text,\n.ui-button-icons-only .ui-button-text {\n\tpadding: .4em;\n\ttext-indent: -9999999px;\n}\n.ui-button-text-icon-primary .ui-button-text,\n.ui-button-text-icons .ui-button-text {\n\tpadding: .4em 1em .4em 2.1em;\n}\n.ui-button-text-icon-secondary .ui-button-text,\n.ui-button-text-icons .ui-button-text {\n\tpadding: .4em 2.1em .4em 1em;\n}\n.ui-button-text-icons .ui-button-text {\n\tpadding-left: 2.1em;\n\tpadding-right: 2.1em;\n}\n/* no icon support for input elements, provide padding by default */\ninput.ui-button {\n\tpadding: .4em 1em;\n}\n\n/* button icon element(s) */\n.ui-button-icon-only .ui-icon,\n.ui-button-text-icon-primary .ui-icon,\n.ui-button-text-icon-secondary .ui-icon,\n.ui-button-text-icons .ui-icon,\n.ui-button-icons-only .ui-icon {\n\tposition: absolute;\n\ttop: 50%;\n\tmargin-top: -8px;\n}\n.ui-button-icon-only .ui-icon {\n\tleft: 50%;\n\tmargin-left: -8px;\n}\n.ui-button-text-icon-primary .ui-button-icon-primary,\n.ui-button-text-icons .ui-button-icon-primary,\n.ui-button-icons-only .ui-button-icon-primary {\n\tleft: .5em;\n}\n.ui-button-text-icon-secondary .ui-button-icon-secondary,\n.ui-button-text-icons .ui-button-icon-secondary,\n.ui-button-icons-only .ui-button-icon-secondary {\n\tright: .5em;\n}\n\n/* button sets */\n.ui-buttonset {\n\tmargin-right: 7px;\n}\n.ui-buttonset .ui-button {\n\tmargin-left: 0;\n\tmargin-right: -.3em;\n}\n\n/* workarounds */\n/* reset extra padding in Firefox, see h5bp.com/l */\ninput.ui-button::-moz-focus-inner,\nbutton.ui-button::-moz-focus-inner {\n\tborder: 0;\n\tpadding: 0;\n}\n.ui-datepicker {\n\twidth: 17em;\n\tpadding: .2em .2em 0;\n\tdisplay: none;\n}\n.ui-datepicker .ui-datepicker-header {\n\tposition: relative;\n\tpadding: .2em 0;\n}\n.ui-datepicker .ui-datepicker-prev,\n.ui-datepicker .ui-datepicker-next {\n\tposition: absolute;\n\ttop: 2px;\n\twidth: 1.8em;\n\theight: 1.8em;\n}\n.ui-datepicker .ui-datepicker-prev-hover,\n.ui-datepicker .ui-datepicker-next-hover {\n\ttop: 1px;\n}\n.ui-datepicker .ui-datepicker-prev {\n\tleft: 2px;\n}\n.ui-datepicker .ui-datepicker-next {\n\tright: 2px;\n}\n.ui-datepicker .ui-datepicker-prev-hover {\n\tleft: 1px;\n}\n.ui-datepicker .ui-datepicker-next-hover {\n\tright: 1px;\n}\n.ui-datepicker .ui-datepicker-prev span,\n.ui-datepicker .ui-datepicker-next span {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 50%;\n\tmargin-left: -8px;\n\ttop: 50%;\n\tmargin-top: -8px;\n}\n.ui-datepicker .ui-datepicker-title {\n\tmargin: 0 2.3em;\n\tline-height: 1.8em;\n\ttext-align: center;\n}\n.ui-datepicker .ui-datepicker-title select {\n\tfont-size: 1em;\n\tmargin: 1px 0;\n}\n.ui-datepicker select.ui-datepicker-month,\n.ui-datepicker select.ui-datepicker-year {\n\twidth: 45%;\n}\n.ui-datepicker table {\n\twidth: 100%;\n\tfont-size: .9em;\n\tborder-collapse: collapse;\n\tmargin: 0 0 .4em;\n}\n.ui-datepicker th {\n\tpadding: .7em .3em;\n\ttext-align: center;\n\tfont-weight: bold;\n\tborder: 0;\n}\n.ui-datepicker td {\n\tborder: 0;\n\tpadding: 1px;\n}\n.ui-datepicker td span,\n.ui-datepicker td a {\n\tdisplay: block;\n\tpadding: .2em;\n\ttext-align: right;\n\ttext-decoration: none;\n}\n.ui-datepicker .ui-datepicker-buttonpane {\n\tbackground-image: none;\n\tmargin: .7em 0 0 0;\n\tpadding: 0 .2em;\n\tborder-left: 0;\n\tborder-right: 0;\n\tborder-bottom: 0;\n}\n.ui-datepicker .ui-datepicker-buttonpane button {\n\tfloat: right;\n\tmargin: .5em .2em .4em;\n\tcursor: pointer;\n\tpadding: .2em .6em .3em .6em;\n\twidth: auto;\n\toverflow: visible;\n}\n.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current {\n\tfloat: left;\n}\n\n/* with multiple calendars */\n.ui-datepicker.ui-datepicker-multi {\n\twidth: auto;\n}\n.ui-datepicker-multi .ui-datepicker-group {\n\tfloat: left;\n}\n.ui-datepicker-multi .ui-datepicker-group table {\n\twidth: 95%;\n\tmargin: 0 auto .4em;\n}\n.ui-datepicker-multi-2 .ui-datepicker-group {\n\twidth: 50%;\n}\n.ui-datepicker-multi-3 .ui-datepicker-group {\n\twidth: 33.3%;\n}\n.ui-datepicker-multi-4 .ui-datepicker-group {\n\twidth: 25%;\n}\n.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-left-width: 0;\n}\n.ui-datepicker-multi .ui-datepicker-buttonpane {\n\tclear: left;\n}\n.ui-datepicker-row-break {\n\tclear: both;\n\twidth: 100%;\n\tfont-size: 0;\n}\n\n/* RTL support */\n.ui-datepicker-rtl {\n\tdirection: rtl;\n}\n.ui-datepicker-rtl .ui-datepicker-prev {\n\tright: 2px;\n\tleft: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-next {\n\tleft: 2px;\n\tright: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-prev:hover {\n\tright: 1px;\n\tleft: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-next:hover {\n\tleft: 1px;\n\tright: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane {\n\tclear: right;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane button {\n\tfloat: left;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,\n.ui-datepicker-rtl .ui-datepicker-group {\n\tfloat: right;\n}\n.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-right-width: 0;\n\tborder-left-width: 1px;\n}\n.ui-dialog {\n\toverflow: hidden;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tpadding: .2em;\n\toutline: 0;\n}\n.ui-dialog .ui-dialog-titlebar {\n\tpadding: .4em 1em;\n\tposition: relative;\n}\n.ui-dialog .ui-dialog-title {\n\tfloat: left;\n\tmargin: .1em 0;\n\twhite-space: nowrap;\n\twidth: 90%;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n.ui-dialog .ui-dialog-titlebar-close {\n\tposition: absolute;\n\tright: .3em;\n\ttop: 50%;\n\twidth: 20px;\n\tmargin: -10px 0 0 0;\n\tpadding: 1px;\n\theight: 20px;\n}\n.ui-dialog .ui-dialog-content {\n\tposition: relative;\n\tborder: 0;\n\tpadding: .5em 1em;\n\tbackground: none;\n\toverflow: auto;\n}\n.ui-dialog .ui-dialog-buttonpane {\n\ttext-align: left;\n\tborder-width: 1px 0 0 0;\n\tbackground-image: none;\n\tmargin-top: .5em;\n\tpadding: .3em 1em .5em .4em;\n}\n.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset {\n\tfloat: right;\n}\n.ui-dialog .ui-dialog-buttonpane button {\n\tmargin: .5em .4em .5em 0;\n\tcursor: pointer;\n}\n.ui-dialog .ui-resizable-se {\n\twidth: 12px;\n\theight: 12px;\n\tright: -5px;\n\tbottom: -5px;\n\tbackground-position: 16px 16px;\n}\n.ui-draggable .ui-dialog-titlebar {\n\tcursor: move;\n}\n.ui-draggable-handle {\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-menu {\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0;\n\tdisplay: block;\n\toutline: none;\n}\n.ui-menu .ui-menu {\n\tposition: absolute;\n}\n.ui-menu .ui-menu-item {\n\tposition: relative;\n\tmargin: 0;\n\tpadding: 3px 1em 3px .4em;\n\tcursor: pointer;\n\tmin-height: 0; /* support: IE7 */\n\t/* support: IE10, see #8844 */\n\tlist-style-image: url(\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\");\n}\n.ui-menu .ui-menu-divider {\n\tmargin: 5px 0;\n\theight: 0;\n\tfont-size: 0;\n\tline-height: 0;\n\tborder-width: 1px 0 0 0;\n}\n.ui-menu .ui-state-focus,\n.ui-menu .ui-state-active {\n\tmargin: -1px;\n}\n\n/* icon support */\n.ui-menu-icons {\n\tposition: relative;\n}\n.ui-menu-icons .ui-menu-item {\n\tpadding-left: 2em;\n}\n\n/* left-aligned */\n.ui-menu .ui-icon {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tleft: .2em;\n\tmargin: auto 0;\n}\n\n/* right-aligned */\n.ui-menu .ui-menu-icon {\n\tleft: auto;\n\tright: 0;\n}\n.ui-progressbar {\n\theight: 2em;\n\ttext-align: left;\n\toverflow: hidden;\n}\n.ui-progressbar .ui-progressbar-value {\n\tmargin: -1px;\n\theight: 100%;\n}\n.ui-progressbar .ui-progressbar-overlay {\n\tbackground: url(\"data:image/gif;base64,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\");\n\theight: 100%;\n\tfilter: alpha(opacity=25); /* support: IE8 */\n\topacity: 0.25;\n}\n.ui-progressbar-indeterminate .ui-progressbar-value {\n\tbackground-image: none;\n}\n.ui-resizable {\n\tposition: relative;\n}\n.ui-resizable-handle {\n\tposition: absolute;\n\tfont-size: 0.1px;\n\tdisplay: block;\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-resizable-disabled .ui-resizable-handle,\n.ui-resizable-autohide .ui-resizable-handle {\n\tdisplay: none;\n}\n.ui-resizable-n {\n\tcursor: n-resize;\n\theight: 7px;\n\twidth: 100%;\n\ttop: -5px;\n\tleft: 0;\n}\n.ui-resizable-s {\n\tcursor: s-resize;\n\theight: 7px;\n\twidth: 100%;\n\tbottom: -5px;\n\tleft: 0;\n}\n.ui-resizable-e {\n\tcursor: e-resize;\n\twidth: 7px;\n\tright: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n.ui-resizable-w {\n\tcursor: w-resize;\n\twidth: 7px;\n\tleft: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n.ui-resizable-se {\n\tcursor: se-resize;\n\twidth: 12px;\n\theight: 12px;\n\tright: 1px;\n\tbottom: 1px;\n}\n.ui-resizable-sw {\n\tcursor: sw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\tbottom: -5px;\n}\n.ui-resizable-nw {\n\tcursor: nw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\ttop: -5px;\n}\n.ui-resizable-ne {\n\tcursor: ne-resize;\n\twidth: 9px;\n\theight: 9px;\n\tright: -5px;\n\ttop: -5px;\n}\n.ui-selectable {\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-selectable-helper {\n\tposition: absolute;\n\tz-index: 100;\n\tborder: 1px dotted black;\n}\n.ui-selectmenu-menu {\n\tpadding: 0;\n\tmargin: 0;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: none;\n}\n.ui-selectmenu-menu .ui-menu {\n\toverflow: auto;\n\t/* Support: IE7 */\n\toverflow-x: hidden;\n\tpadding-bottom: 1px;\n}\n.ui-selectmenu-menu .ui-menu .ui-selectmenu-optgroup {\n\tfont-size: 1em;\n\tfont-weight: bold;\n\tline-height: 1.5;\n\tpadding: 2px 0.4em;\n\tmargin: 0.5em 0 0 0;\n\theight: auto;\n\tborder: 0;\n}\n.ui-selectmenu-open {\n\tdisplay: block;\n}\n.ui-selectmenu-button {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\tposition: relative;\n\ttext-decoration: none;\n\tcursor: pointer;\n}\n.ui-selectmenu-button span.ui-icon {\n\tright: 0.5em;\n\tleft: auto;\n\tmargin-top: -8px;\n\tposition: absolute;\n\ttop: 50%;\n}\n.ui-selectmenu-button span.ui-selectmenu-text {\n\ttext-align: left;\n\tpadding: 0.4em 2.1em 0.4em 1em;\n\tdisplay: block;\n\tline-height: 1.4;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n.ui-slider {\n\tposition: relative;\n\ttext-align: left;\n}\n.ui-slider .ui-slider-handle {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 1.2em;\n\theight: 1.2em;\n\tcursor: default;\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-slider .ui-slider-range {\n\tposition: absolute;\n\tz-index: 1;\n\tfont-size: .7em;\n\tdisplay: block;\n\tborder: 0;\n\tbackground-position: 0 0;\n}\n\n/* support: IE8 - See #6727 */\n.ui-slider.ui-state-disabled .ui-slider-handle,\n.ui-slider.ui-state-disabled .ui-slider-range {\n\tfilter: inherit;\n}\n\n.ui-slider-horizontal {\n\theight: .8em;\n}\n.ui-slider-horizontal .ui-slider-handle {\n\ttop: -.3em;\n\tmargin-left: -.6em;\n}\n.ui-slider-horizontal .ui-slider-range {\n\ttop: 0;\n\theight: 100%;\n}\n.ui-slider-horizontal .ui-slider-range-min {\n\tleft: 0;\n}\n.ui-slider-horizontal .ui-slider-range-max {\n\tright: 0;\n}\n\n.ui-slider-vertical {\n\twidth: .8em;\n\theight: 100px;\n}\n.ui-slider-vertical .ui-slider-handle {\n\tleft: -.3em;\n\tmargin-left: 0;\n\tmargin-bottom: -.6em;\n}\n.ui-slider-vertical .ui-slider-range {\n\tleft: 0;\n\twidth: 100%;\n}\n.ui-slider-vertical .ui-slider-range-min {\n\tbottom: 0;\n}\n.ui-slider-vertical .ui-slider-range-max {\n\ttop: 0;\n}\n.ui-sortable-handle {\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-spinner {\n\tposition: relative;\n\tdisplay: inline-block;\n\toverflow: hidden;\n\tpadding: 0;\n\tvertical-align: middle;\n}\n.ui-spinner-input {\n\tborder: none;\n\tbackground: none;\n\tcolor: inherit;\n\tpadding: 0;\n\tmargin: .2em 0;\n\tvertical-align: middle;\n\tmargin-left: .4em;\n\tmargin-right: 22px;\n}\n.ui-spinner-button {\n\twidth: 16px;\n\theight: 50%;\n\tfont-size: .5em;\n\tpadding: 0;\n\tmargin: 0;\n\ttext-align: center;\n\tposition: absolute;\n\tcursor: default;\n\tdisplay: block;\n\toverflow: hidden;\n\tright: 0;\n}\n/* more specificity required here to override default borders */\n.ui-spinner a.ui-spinner-button {\n\tborder-top: none;\n\tborder-bottom: none;\n\tborder-right: none;\n}\n/* vertically center icon */\n.ui-spinner .ui-icon {\n\tposition: absolute;\n\tmargin-top: -8px;\n\ttop: 50%;\n\tleft: 0;\n}\n.ui-spinner-up {\n\ttop: 0;\n}\n.ui-spinner-down {\n\tbottom: 0;\n}\n\n/* TR overrides */\n.ui-spinner .ui-icon-triangle-1-s {\n\t/* need to fix icons sprite */\n\tbackground-position: -65px -16px;\n}\n.ui-tabs {\n\tposition: relative;/* position: relative prevents IE scroll bug (element with position: relative inside container with overflow: auto appear as \"fixed\") */\n\tpadding: .2em;\n}\n.ui-tabs .ui-tabs-nav {\n\tmargin: 0;\n\tpadding: .2em .2em 0;\n}\n.ui-tabs .ui-tabs-nav li {\n\tlist-style: none;\n\tfloat: left;\n\tposition: relative;\n\ttop: 0;\n\tmargin: 1px .2em 0 0;\n\tborder-bottom-width: 0;\n\tpadding: 0;\n\twhite-space: nowrap;\n}\n.ui-tabs .ui-tabs-nav .ui-tabs-anchor {\n\tfloat: left;\n\tpadding: .5em 1em;\n\ttext-decoration: none;\n}\n.ui-tabs .ui-tabs-nav li.ui-tabs-active {\n\tmargin-bottom: -1px;\n\tpadding-bottom: 1px;\n}\n.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor {\n\tcursor: text;\n}\n.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor {\n\tcursor: pointer;\n}\n.ui-tabs .ui-tabs-panel {\n\tdisplay: block;\n\tborder-width: 0;\n\tpadding: 1em 1.4em;\n\tbackground: none;\n}\n.ui-tooltip {\n\tpadding: 8px;\n\tposition: absolute;\n\tz-index: 9999;\n\tmax-width: 300px;\n\t-webkit-box-shadow: 0 0 5px #aaa;\n\tbox-shadow: 0 0 5px #aaa;\n}\nbody .ui-tooltip {\n\tborder-width: 2px;\n}\n\n/* Component containers\n----------------------------------*/\n.ui-widget {\n\tfont-family: Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;\n\tfont-size: 1.1em;\n}\n.ui-widget .ui-widget {\n\tfont-size: 1em;\n}\n.ui-widget input,\n.ui-widget select,\n.ui-widget textarea,\n.ui-widget button {\n\tfont-family: Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;\n\tfont-size: 1em;\n}\n.ui-widget-content {\n\tborder: 1px solid #dddddd;\n\tbackground: #eeeeee url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ") 50% top repeat-x;\n\tcolor: #333333;\n}\n.ui-widget-content a {\n\tcolor: #333333;\n}\n.ui-widget-header {\n\tborder: 1px solid #e78f08;\n\tbackground: #f6a828 url(" + ___CSS_LOADER_URL_REPLACEMENT_1___ + ") 50% 50% repeat-x;\n\tcolor: #ffffff;\n\tfont-weight: bold;\n}\n.ui-widget-header a {\n\tcolor: #ffffff;\n}\n\n/* Interaction states\n----------------------------------*/\n.ui-state-default,\n.ui-widget-content .ui-state-default,\n.ui-widget-header .ui-state-default {\n\tborder: 1px solid #cccccc;\n\tbackground: #f6f6f6 url(" + ___CSS_LOADER_URL_REPLACEMENT_2___ + ") 50% 50% repeat-x;\n\tfont-weight: bold;\n\tcolor: #1c94c4;\n}\n.ui-state-default a,\n.ui-state-default a:link,\n.ui-state-default a:visited {\n\tcolor: #1c94c4;\n\ttext-decoration: none;\n}\n.ui-state-hover,\n.ui-widget-content .ui-state-hover,\n.ui-widget-header .ui-state-hover,\n.ui-state-focus,\n.ui-widget-content .ui-state-focus,\n.ui-widget-header .ui-state-focus {\n\tborder: 1px solid #fbcb09;\n\tbackground: #fdf5ce url(" + ___CSS_LOADER_URL_REPLACEMENT_3___ + ") 50% 50% repeat-x;\n\tfont-weight: bold;\n\tcolor: #c77405;\n}\n.ui-state-hover a,\n.ui-state-hover a:hover,\n.ui-state-hover a:link,\n.ui-state-hover a:visited,\n.ui-state-focus a,\n.ui-state-focus a:hover,\n.ui-state-focus a:link,\n.ui-state-focus a:visited {\n\tcolor: #c77405;\n\ttext-decoration: none;\n}\n.ui-state-active,\n.ui-widget-content .ui-state-active,\n.ui-widget-header .ui-state-active {\n\tborder: 1px solid #fbd850;\n\tbackground: #ffffff url(" + ___CSS_LOADER_URL_REPLACEMENT_4___ + ") 50% 50% repeat-x;\n\tfont-weight: bold;\n\tcolor: #eb8f00;\n}\n.ui-state-active a,\n.ui-state-active a:link,\n.ui-state-active a:visited {\n\tcolor: #eb8f00;\n\ttext-decoration: none;\n}\n\n/* Interaction Cues\n----------------------------------*/\n.ui-state-highlight,\n.ui-widget-content .ui-state-highlight,\n.ui-widget-header .ui-state-highlight {\n\tborder: 1px solid #fed22f;\n\tbackground: #ffe45c url(" + ___CSS_LOADER_URL_REPLACEMENT_5___ + ") 50% top repeat-x;\n\tcolor: #363636;\n}\n.ui-state-highlight a,\n.ui-widget-content .ui-state-highlight a,\n.ui-widget-header .ui-state-highlight a {\n\tcolor: #363636;\n}\n.ui-state-error,\n.ui-widget-content .ui-state-error,\n.ui-widget-header .ui-state-error {\n\tborder: 1px solid #cd0a0a;\n\tbackground: #b81900 url(" + ___CSS_LOADER_URL_REPLACEMENT_6___ + ") 50% 50% repeat;\n\tcolor: #ffffff;\n}\n.ui-state-error a,\n.ui-widget-content .ui-state-error a,\n.ui-widget-header .ui-state-error a {\n\tcolor: #ffffff;\n}\n.ui-state-error-text,\n.ui-widget-content .ui-state-error-text,\n.ui-widget-header .ui-state-error-text {\n\tcolor: #ffffff;\n}\n.ui-priority-primary,\n.ui-widget-content .ui-priority-primary,\n.ui-widget-header .ui-priority-primary {\n\tfont-weight: bold;\n}\n.ui-priority-secondary,\n.ui-widget-content .ui-priority-secondary,\n.ui-widget-header .ui-priority-secondary {\n\topacity: .7;\n\tfilter:Alpha(Opacity=70); /* support: IE8 */\n\tfont-weight: normal;\n}\n.ui-state-disabled,\n.ui-widget-content .ui-state-disabled,\n.ui-widget-header .ui-state-disabled {\n\topacity: .35;\n\tfilter:Alpha(Opacity=35); /* support: IE8 */\n\tbackground-image: none;\n}\n.ui-state-disabled .ui-icon {\n\tfilter:Alpha(Opacity=35); /* support: IE8 - See #6059 */\n}\n\n/* Icons\n----------------------------------*/\n\n/* states and images */\n.ui-icon {\n\twidth: 16px;\n\theight: 16px;\n}\n.ui-icon,\n.ui-widget-content .ui-icon {\n\tbackground-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_7___ + ");\n}\n.ui-widget-header .ui-icon {\n\tbackground-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_8___ + ");\n}\n.ui-state-default .ui-icon {\n\tbackground-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_9___ + ");\n}\n.ui-state-hover .ui-icon,\n.ui-state-focus .ui-icon {\n\tbackground-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_9___ + ");\n}\n.ui-state-active .ui-icon {\n\tbackground-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_9___ + ");\n}\n.ui-state-highlight .ui-icon {\n\tbackground-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_10___ + ");\n}\n.ui-state-error .ui-icon,\n.ui-state-error-text .ui-icon {\n\tbackground-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_11___ + ");\n}\n\n/* positioning */\n.ui-icon-blank { background-position: 16px 16px; }\n.ui-icon-carat-1-n { background-position: 0 0; }\n.ui-icon-carat-1-ne { background-position: -16px 0; }\n.ui-icon-carat-1-e { background-position: -32px 0; }\n.ui-icon-carat-1-se { background-position: -48px 0; }\n.ui-icon-carat-1-s { background-position: -64px 0; }\n.ui-icon-carat-1-sw { background-position: -80px 0; }\n.ui-icon-carat-1-w { background-position: -96px 0; }\n.ui-icon-carat-1-nw { background-position: -112px 0; }\n.ui-icon-carat-2-n-s { background-position: -128px 0; }\n.ui-icon-carat-2-e-w { background-position: -144px 0; }\n.ui-icon-triangle-1-n { background-position: 0 -16px; }\n.ui-icon-triangle-1-ne { background-position: -16px -16px; }\n.ui-icon-triangle-1-e { background-position: -32px -16px; }\n.ui-icon-triangle-1-se { background-position: -48px -16px; }\n.ui-icon-triangle-1-s { background-position: -64px -16px; }\n.ui-icon-triangle-1-sw { background-position: -80px -16px; }\n.ui-icon-triangle-1-w { background-position: -96px -16px; }\n.ui-icon-triangle-1-nw { background-position: -112px -16px; }\n.ui-icon-triangle-2-n-s { background-position: -128px -16px; }\n.ui-icon-triangle-2-e-w { background-position: -144px -16px; }\n.ui-icon-arrow-1-n { background-position: 0 -32px; }\n.ui-icon-arrow-1-ne { background-position: -16px -32px; }\n.ui-icon-arrow-1-e { background-position: -32px -32px; }\n.ui-icon-arrow-1-se { background-position: -48px -32px; }\n.ui-icon-arrow-1-s { background-position: -64px -32px; }\n.ui-icon-arrow-1-sw { background-position: -80px -32px; }\n.ui-icon-arrow-1-w { background-position: -96px -32px; }\n.ui-icon-arrow-1-nw { background-position: -112px -32px; }\n.ui-icon-arrow-2-n-s { background-position: -128px -32px; }\n.ui-icon-arrow-2-ne-sw { background-position: -144px -32px; }\n.ui-icon-arrow-2-e-w { background-position: -160px -32px; }\n.ui-icon-arrow-2-se-nw { background-position: -176px -32px; }\n.ui-icon-arrowstop-1-n { background-position: -192px -32px; }\n.ui-icon-arrowstop-1-e { background-position: -208px -32px; }\n.ui-icon-arrowstop-1-s { background-position: -224px -32px; }\n.ui-icon-arrowstop-1-w { background-position: -240px -32px; }\n.ui-icon-arrowthick-1-n { background-position: 0 -48px; }\n.ui-icon-arrowthick-1-ne { background-position: -16px -48px; }\n.ui-icon-arrowthick-1-e { background-position: -32px -48px; }\n.ui-icon-arrowthick-1-se { background-position: -48px -48px; }\n.ui-icon-arrowthick-1-s { background-position: -64px -48px; }\n.ui-icon-arrowthick-1-sw { background-position: -80px -48px; }\n.ui-icon-arrowthick-1-w { background-position: -96px -48px; }\n.ui-icon-arrowthick-1-nw { background-position: -112px -48px; }\n.ui-icon-arrowthick-2-n-s { background-position: -128px -48px; }\n.ui-icon-arrowthick-2-ne-sw { background-position: -144px -48px; }\n.ui-icon-arrowthick-2-e-w { background-position: -160px -48px; }\n.ui-icon-arrowthick-2-se-nw { background-position: -176px -48px; }\n.ui-icon-arrowthickstop-1-n { background-position: -192px -48px; }\n.ui-icon-arrowthickstop-1-e { background-position: -208px -48px; }\n.ui-icon-arrowthickstop-1-s { background-position: -224px -48px; }\n.ui-icon-arrowthickstop-1-w { background-position: -240px -48px; }\n.ui-icon-arrowreturnthick-1-w { background-position: 0 -64px; }\n.ui-icon-arrowreturnthick-1-n { background-position: -16px -64px; }\n.ui-icon-arrowreturnthick-1-e { background-position: -32px -64px; }\n.ui-icon-arrowreturnthick-1-s { background-position: -48px -64px; }\n.ui-icon-arrowreturn-1-w { background-position: -64px -64px; }\n.ui-icon-arrowreturn-1-n { background-position: -80px -64px; }\n.ui-icon-arrowreturn-1-e { background-position: -96px -64px; }\n.ui-icon-arrowreturn-1-s { background-position: -112px -64px; }\n.ui-icon-arrowrefresh-1-w { background-position: -128px -64px; }\n.ui-icon-arrowrefresh-1-n { background-position: -144px -64px; }\n.ui-icon-arrowrefresh-1-e { background-position: -160px -64px; }\n.ui-icon-arrowrefresh-1-s { background-position: -176px -64px; }\n.ui-icon-arrow-4 { background-position: 0 -80px; }\n.ui-icon-arrow-4-diag { background-position: -16px -80px; }\n.ui-icon-extlink { background-position: -32px -80px; }\n.ui-icon-newwin { background-position: -48px -80px; }\n.ui-icon-refresh { background-position: -64px -80px; }\n.ui-icon-shuffle { background-position: -80px -80px; }\n.ui-icon-transfer-e-w { background-position: -96px -80px; }\n.ui-icon-transferthick-e-w { background-position: -112px -80px; }\n.ui-icon-folder-collapsed { background-position: 0 -96px; }\n.ui-icon-folder-open { background-position: -16px -96px; }\n.ui-icon-document { background-position: -32px -96px; }\n.ui-icon-document-b { background-position: -48px -96px; }\n.ui-icon-note { background-position: -64px -96px; }\n.ui-icon-mail-closed { background-position: -80px -96px; }\n.ui-icon-mail-open { background-position: -96px -96px; }\n.ui-icon-suitcase { background-position: -112px -96px; }\n.ui-icon-comment { background-position: -128px -96px; }\n.ui-icon-person { background-position: -144px -96px; }\n.ui-icon-print { background-position: -160px -96px; }\n.ui-icon-trash { background-position: -176px -96px; }\n.ui-icon-locked { background-position: -192px -96px; }\n.ui-icon-unlocked { background-position: -208px -96px; }\n.ui-icon-bookmark { background-position: -224px -96px; }\n.ui-icon-tag { background-position: -240px -96px; }\n.ui-icon-home { background-position: 0 -112px; }\n.ui-icon-flag { background-position: -16px -112px; }\n.ui-icon-calendar { background-position: -32px -112px; }\n.ui-icon-cart { background-position: -48px -112px; }\n.ui-icon-pencil { background-position: -64px -112px; }\n.ui-icon-clock { background-position: -80px -112px; }\n.ui-icon-disk { background-position: -96px -112px; }\n.ui-icon-calculator { background-position: -112px -112px; }\n.ui-icon-zoomin { background-position: -128px -112px; }\n.ui-icon-zoomout { background-position: -144px -112px; }\n.ui-icon-search { background-position: -160px -112px; }\n.ui-icon-wrench { background-position: -176px -112px; }\n.ui-icon-gear { background-position: -192px -112px; }\n.ui-icon-heart { background-position: -208px -112px; }\n.ui-icon-star { background-position: -224px -112px; }\n.ui-icon-link { background-position: -240px -112px; }\n.ui-icon-cancel { background-position: 0 -128px; }\n.ui-icon-plus { background-position: -16px -128px; }\n.ui-icon-plusthick { background-position: -32px -128px; }\n.ui-icon-minus { background-position: -48px -128px; }\n.ui-icon-minusthick { background-position: -64px -128px; }\n.ui-icon-close { background-position: -80px -128px; }\n.ui-icon-closethick { background-position: -96px -128px; }\n.ui-icon-key { background-position: -112px -128px; }\n.ui-icon-lightbulb { background-position: -128px -128px; }\n.ui-icon-scissors { background-position: -144px -128px; }\n.ui-icon-clipboard { background-position: -160px -128px; }\n.ui-icon-copy { background-position: -176px -128px; }\n.ui-icon-contact { background-position: -192px -128px; }\n.ui-icon-image { background-position: -208px -128px; }\n.ui-icon-video { background-position: -224px -128px; }\n.ui-icon-script { background-position: -240px -128px; }\n.ui-icon-alert { background-position: 0 -144px; }\n.ui-icon-info { background-position: -16px -144px; }\n.ui-icon-notice { background-position: -32px -144px; }\n.ui-icon-help { background-position: -48px -144px; }\n.ui-icon-check { background-position: -64px -144px; }\n.ui-icon-bullet { background-position: -80px -144px; }\n.ui-icon-radio-on { background-position: -96px -144px; }\n.ui-icon-radio-off { background-position: -112px -144px; }\n.ui-icon-pin-w { background-position: -128px -144px; }\n.ui-icon-pin-s { background-position: -144px -144px; }\n.ui-icon-play { background-position: 0 -160px; }\n.ui-icon-pause { background-position: -16px -160px; }\n.ui-icon-seek-next { background-position: -32px -160px; }\n.ui-icon-seek-prev { background-position: -48px -160px; }\n.ui-icon-seek-end { background-position: -64px -160px; }\n.ui-icon-seek-start { background-position: -80px -160px; }\n/* ui-icon-seek-first is deprecated, use ui-icon-seek-start instead */\n.ui-icon-seek-first { background-position: -80px -160px; }\n.ui-icon-stop { background-position: -96px -160px; }\n.ui-icon-eject { background-position: -112px -160px; }\n.ui-icon-volume-off { background-position: -128px -160px; }\n.ui-icon-volume-on { background-position: -144px -160px; }\n.ui-icon-power { background-position: 0 -176px; }\n.ui-icon-signal-diag { background-position: -16px -176px; }\n.ui-icon-signal { background-position: -32px -176px; }\n.ui-icon-battery-0 { background-position: -48px -176px; }\n.ui-icon-battery-1 { background-position: -64px -176px; }\n.ui-icon-battery-2 { background-position: -80px -176px; }\n.ui-icon-battery-3 { background-position: -96px -176px; }\n.ui-icon-circle-plus { background-position: 0 -192px; }\n.ui-icon-circle-minus { background-position: -16px -192px; }\n.ui-icon-circle-close { background-position: -32px -192px; }\n.ui-icon-circle-triangle-e { background-position: -48px -192px; }\n.ui-icon-circle-triangle-s { background-position: -64px -192px; }\n.ui-icon-circle-triangle-w { background-position: -80px -192px; }\n.ui-icon-circle-triangle-n { background-position: -96px -192px; }\n.ui-icon-circle-arrow-e { background-position: -112px -192px; }\n.ui-icon-circle-arrow-s { background-position: -128px -192px; }\n.ui-icon-circle-arrow-w { background-position: -144px -192px; }\n.ui-icon-circle-arrow-n { background-position: -160px -192px; }\n.ui-icon-circle-zoomin { background-position: -176px -192px; }\n.ui-icon-circle-zoomout { background-position: -192px -192px; }\n.ui-icon-circle-check { background-position: -208px -192px; }\n.ui-icon-circlesmall-plus { background-position: 0 -208px; }\n.ui-icon-circlesmall-minus { background-position: -16px -208px; }\n.ui-icon-circlesmall-close { background-position: -32px -208px; }\n.ui-icon-squaresmall-plus { background-position: -48px -208px; }\n.ui-icon-squaresmall-minus { background-position: -64px -208px; }\n.ui-icon-squaresmall-close { background-position: -80px -208px; }\n.ui-icon-grip-dotted-vertical { background-position: 0 -224px; }\n.ui-icon-grip-dotted-horizontal { background-position: -16px -224px; }\n.ui-icon-grip-solid-vertical { background-position: -32px -224px; }\n.ui-icon-grip-solid-horizontal { background-position: -48px -224px; }\n.ui-icon-gripsmall-diagonal-se { background-position: -64px -224px; }\n.ui-icon-grip-diagonal-se { background-position: -80px -224px; }\n\n\n/* Misc visuals\n----------------------------------*/\n\n/* Corner radius */\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-left,\n.ui-corner-tl {\n\tborder-top-left-radius: 4px;\n}\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-right,\n.ui-corner-tr {\n\tborder-top-right-radius: 4px;\n}\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-left,\n.ui-corner-bl {\n\tborder-bottom-left-radius: 4px;\n}\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-right,\n.ui-corner-br {\n\tborder-bottom-right-radius: 4px;\n}\n\n/* Overlays */\n.ui-widget-overlay {\n\tbackground: #666666 url(" + ___CSS_LOADER_URL_REPLACEMENT_12___ + ") 50% 50% repeat;\n\topacity: .5;\n\tfilter: Alpha(Opacity=50); /* support: IE8 */\n}\n.ui-widget-shadow {\n\tmargin: -5px 0 0 -5px;\n\tpadding: 5px;\n\tbackground: #000000 url(" + ___CSS_LOADER_URL_REPLACEMENT_13___ + ") 50% 50% repeat-x;\n\topacity: .2;\n\tfilter: Alpha(Opacity=20); /* support: IE8 */\n\tborder-radius: 5px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAABkEAAAAAAy19n/AAAAAmJLR0T//xSrMc0AAAAJcEhZcwAAAEgAAABIAEbJaz4AAABYSURBVBjTxcK9DUBAAIDRjxk0dBQaE4gR7KFVM4rEDBIjEKVV7s79OZ0teHk8FR/NCAehJ6TcK3eD3/EtbsPV2AVbYmZMgh7RMdfAFaEmVIE8kR0yR4gfv1IulNTJHsTLAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE1LTAzLTExVDA4OjQ5OjM0LTA3OjAwnOkHBQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNS0wMy0xMVQwODo0OTozNC0wNzowMO20v7kAAAAASUVORK5CYII=");

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,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");

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAGQEAAAAAAao4lEAAAAAmJLR0T//xSrMc0AAAAJcEhZcwAAAEgAAABIAEbJaz4AAABISURBVDjLY/g1mWEUjSKqo2/fGL5LMXzPYfh+nOGHFsOPBQw/xRh+TmX4JcLwq4vhNwPD71yG3xcZ/igx/Ilk+JM0ikYRMQgA8pJH3iOhTlAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDMtMTFUMDg6NDk6MzQtMDc6MDCc6QcFAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE1LTAzLTExVDA4OjQ5OjM0LTA3OjAw7bS/uQAAAABJRU5ErkJggg==");

/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAGQEAIAAACwqkHPAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAmklEQVRIx+3PPwsBARgH4N/7s0gmXZSuKMvNdl/AV2A1X1ltzBaf5UazEp3RpKujFMV0uT/dy6cQwzs98wPdZVk8IwAAhmEYxrdBWSZJGFKq4smGaGDENeFgwgfREp8d6Ph1OEZEWxaVOXSVRieHcGXJALrNnvEQes6nlz20yO9Xl9IUn128e0VwS4k6BvQIoob+X6QNwzB+yAca/jJVRVy4gQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNS0wMy0xMVQwODo0OTozNS0wNzowMDqeDLEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTUtMDMtMTFUMDg6NDk6MzUtMDc6MDBLw7QNAAAAAElFTkSuQmCC");

/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAGQAQAAAABHIzd2AAAAAmJLR0QAAd2KE6QAAAAJcEhZcwAAAEgAAABIAEbJaz4AAAARSURBVCjPY2hgGIWjcBTigACVaMgB0zSxaQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNS0wMy0xMVQwODo0OTozNC0wNzowMJzpBwUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTUtMDMtMTFUMDg6NDk6MzQtMDc6MDDttL+5AAAAAElFTkSuQmCC");

/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAABkEAIAAACY3hF0AAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAhklEQVQoz+WQMQrCUBBEH1NaCzaxTc7iHcwhcoiktP6kS8BK8BIWHkYQrM1mLD5Bb6Bg9Xg7syws9mNztADgj3CjFbifk4A+0od1UWDfr2kloJkGgZsYBdRTKfB+qgTOtgzrqHJWCtg9T++9pdnEIHAb22yjwPk6XRQCzvNa4IsP3//ST+MF5uU/iXGyfBoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDMtMTFUMDg6NDk6MzUtMDc6MDA6ngyxAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE1LTAzLTExVDA4OjQ5OjM1LTA3OjAwS8O0DQAAAABJRU5ErkJggg==");

/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoEAIAAABTDPN5AAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAA4ElEQVRo3u3YMQoCMRBG4c02XkCQLcXKwsN5Eq+znScRa8FasLP4q0DGZASLecmr0mSHr9tMuh5Pr91+MnpfnofHfXK2OW9v9jdb+t/cuR+qCaZSC2A2NQP3QFVpXZfFfy0iVc3eC3GpmusAR6fq3ARmUJvAJGoFzKOaYCq1AGZTM3APVJW+v5ZIVOX+8YhL1dwfwRGpOrvBcalucHSqA8ygNoFJ1AqYRzXBVGoBzKZm4B6oauy0uNSx06JTm8AkagXMo5pgKrUAZlMzcA9UNXZaXOrYadGpbnB0qgPMoKoPsn/eaLRwj54AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDMtMTFUMDg6NDk6MzUtMDc6MDA6ngyxAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE1LTAzLTExVDA4OjQ5OjM1LTA3OjAwS8O0DQAAAABJRU5ErkJggg==");

/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,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");

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,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");

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,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");

/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAADwCAMAAADYSUr5AAABDlBMVEUijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEzfqCuAAAAWXRSTlMAGRAzBAhQv4KZLyJVcUBmYBoTMswNITwWQkhLIB5aIycxUyyFNIeAw2rIz8Y4RRy8uL58q7WljKqorR+yKf0BnlEk7woGAgOPomKUSqCvbd+cR2M/b3+RaPlAXvEAAAABYktHRACIBR1IAAAACXBIWXMAAABIAAAASABGyWs+AAAPZElEQVR42u1dC2PbthEGyUiq6ZiSXblLE6ex1mTO5iXZq+u6ro3abG26pOkSd13v//+RAXzhcIeHWMoUbeOTLesIEMB9PIB3ACgLERERMQIkkOy6CTvWH0bOQO/mJeDXP8EMqMzDEkIsEBRMAmh7jHSVmuAjAKwC8FRAzi8/DmoS1AI5AQltj5FOryAjgJ7OK2CZkwEZYO23q+BJ5wwKkttfui1z4s20VTAL5k2kF5hbiPcKcwvwNGB4C7CTwproI4CdDcxEPKUTExx+DNiAj0u9C9AuNPxdYOe46Y5QRERERERExIhx6Z7gjv2ghEVrQJ33hJ5BsxsBfsIq8M0HsAkhWfqglFgawAhgGWh2M1xMWAWUAE90qUofMhhi7be32JNsmVFJPKeLwBQglAQMNh3ALVjYbNaI1jaYD0jM0nw9atcWYEXiaXH/+QDeQ3Y6BoRx3e8CERERERERERG7Qz/HP+iaBsvvHXj0LAD4cip0yN27fXw7AGtQoDTwH+HqkWTgWczTwZVmr8DbAEuqv35bCT6CWDorjGnAqwOSCI7EhlFWHjkBXIkb1M/DZQgRwCeAwK9B+HRPFlPBOjeZ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");

/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,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");

/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoEAAAAAD5BTvyAAAAAmJLR0T//xSrMc0AAAAJcEhZcwAAAEgAAABIAEbJaz4AAAB6SURBVEjH7dXLEYAgDEVRqk0HNmpFMgxi+Lnw3Z0hSzJnmZuO8x6b3vPn530vsVwDKa6CHFdAkssgyy1AjTNLLDeAOteBBOdAhmsgxVWQ4wpIchlkuQ34nXPni+EWoMZNoMoNoM51IMFFU3QumqJz0RSdi6bo3C+bcgHap6IryOSd+AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNS0wMy0xMVQwODo0OTozNS0wNzowMDqeDLEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTUtMDMtMTFUMDg6NDk6MzUtMDc6MDBLw7QNAAAAAElFTkSuQmCC");

/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAABkAQAAAADcH0/XAAAAAmJLR0QAAd2KE6QAAAAJcEhZcwAAAEgAAABIAEbJaz4AAAAPSURBVCjPY2AYBaOA+gAAAlgAAXU2hncAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDMtMTFUMDg6NDk6MzUtMDc6MDA6ngyxAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE1LTAzLTExVDA4OjQ5OjM1LTA3OjAwS8O0DQAAAABJRU5ErkJggg==");

/***/ }),
/* 28 */
/***/ (function(module, exports, __nested_webpack_require_1110685__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {/*!
 * jQuery BBQ: Back Button & Query Library - v1.3pre - 8/26/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */

// Script: jQuery BBQ: Back Button & Query Library
//
// *Version: 1.3pre, Last updated: 8/26/2010*
// 
// Project Home - http://benalman.com/projects/jquery-bbq-plugin/
// GitHub       - http://github.com/cowboy/jquery-bbq/
// Source       - http://github.com/cowboy/jquery-bbq/raw/master/jquery.ba-bbq.js
// (Minified)   - http://github.com/cowboy/jquery-bbq/raw/master/jquery.ba-bbq.min.js (2.2kb gzipped)
// 
// About: License
// 
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
// 
// About: Examples
// 
// These working examples, complete with fully commented code, illustrate a few
// ways in which this plugin can be used.
// 
// Basic AJAX     - http://benalman.com/code/projects/jquery-bbq/examples/fragment-basic/
// Advanced AJAX  - http://benalman.com/code/projects/jquery-bbq/examples/fragment-advanced/
// jQuery UI Tabs - http://benalman.com/code/projects/jquery-bbq/examples/fragment-jquery-ui-tabs/
// Deparam        - http://benalman.com/code/projects/jquery-bbq/examples/deparam/
// 
// About: Support and Testing
// 
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
// 
// jQuery Versions - 1.2.6, 1.3.2, 1.4.1, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-4, Chrome 5-6, Safari 3.2-5,
//                   Opera 9.6-10.60, iPhone 3.1, Android 1.6-2.2, BlackBerry 4.6-5.
// Unit Tests      - http://benalman.com/code/projects/jquery-bbq/unit/
// 
// About: Release History
// 
// 1.3pre - (8/26/2010) Integrated <jQuery hashchange event> v1.3, which adds
//         document.title and document.domain support in IE6/7, BlackBerry
//         support, better Iframe hiding for accessibility reasons, and the new
//         <jQuery.fn.hashchange> "shortcut" method. Added the
//         <jQuery.param.sorted> method which reduces the possibility of
//         extraneous hashchange event triggering. Added the
//         <jQuery.param.fragment.ajaxCrawlable> method which can be used to
//         enable Google "AJAX Crawlable mode."
// 1.2.1 - (2/17/2010) Actually fixed the stale window.location Safari bug from
//         <jQuery hashchange event> in BBQ, which was the main reason for the
//         previous release!
// 1.2   - (2/16/2010) Integrated <jQuery hashchange event> v1.2, which fixes a
//         Safari bug, the event can now be bound before DOM ready, and IE6/7
//         page should no longer scroll when the event is first bound. Also
//         added the <jQuery.param.fragment.noEscape> method, and reworked the
//         <hashchange event (BBQ)> internal "add" method to be compatible with
//         changes made to the jQuery 1.4.2 special events API.
// 1.1.1 - (1/22/2010) Integrated <jQuery hashchange event> v1.1, which fixes an
//         obscure IE8 EmulateIE7 meta tag compatibility mode bug.
// 1.1   - (1/9/2010) Broke out the jQuery BBQ event.special <hashchange event>
//         functionality into a separate plugin for users who want just the
//         basic event & back button support, without all the extra awesomeness
//         that BBQ provides. This plugin will be included as part of jQuery BBQ,
//         but also be available separately. See <jQuery hashchange event>
//         plugin for more information. Also added the <jQuery.bbq.removeState>
//         method and added additional <jQuery.deparam> examples.
// 1.0.3 - (12/2/2009) Fixed an issue in IE 6 where location.search and
//         location.hash would report incorrectly if the hash contained the ?
//         character. Also <jQuery.param.querystring> and <jQuery.param.fragment>
//         will no longer parse params out of a URL that doesn't contain ? or #,
//         respectively.
// 1.0.2 - (10/10/2009) Fixed an issue in IE 6/7 where the hidden IFRAME caused
//         a "This page contains both secure and nonsecure items." warning when
//         used on an https:// page.
// 1.0.1 - (10/7/2009) Fixed an issue in IE 8. Since both "IE7" and "IE8
//         Compatibility View" modes erroneously report that the browser
//         supports the native window.onhashchange event, a slightly more
//         robust test needed to be added.
// 1.0   - (10/2/2009) Initial release

(function($,window){
  '$:nomunge'; // Used by YUI compressor.
  
  // Some convenient shortcuts.
  var undefined,
    aps = Array.prototype.slice,
    decode = decodeURIComponent,
    
    // Method / object references.
    jq_param = $.param,
    jq_param_sorted,
    jq_param_fragment,
    jq_deparam,
    jq_deparam_fragment,
    jq_bbq = $.bbq = $.bbq || {},
    jq_bbq_pushState,
    jq_bbq_getState,
    jq_elemUrlAttr,
    special = $.event.special,
    
    // Reused strings.
    str_hashchange = 'hashchange',
    str_querystring = 'querystring',
    str_fragment = 'fragment',
    str_elemUrlAttr = 'elemUrlAttr',
    str_href = 'href',
    str_src = 'src',
    
    // Reused RegExp.
    re_params_querystring = /^.*\?|#.*$/g,
    re_params_fragment,
    re_fragment,
    re_no_escape,
    
    ajax_crawlable,
    fragment_prefix,
    
    // Used by jQuery.elemUrlAttr.
    elemUrlAttr_cache = {};
  
  // A few commonly used bits, broken out to help reduce minified file size.
  
  function is_string( arg ) {
    return typeof arg === 'string';
  };
  
  // Why write the same function twice? Let's curry! Mmmm, curry..
  
  function curry( func ) {
    var args = aps.call( arguments, 1 );
    
    return function() {
      return func.apply( this, args.concat( aps.call( arguments ) ) );
    };
  };
  
  // Get location.hash (or what you'd expect location.hash to be) sans any
  // leading #. Thanks for making this necessary, Firefox!
  function get_fragment( url ) {
    return url.replace( re_fragment, '$2' );
  };
  
  // Get location.search (or what you'd expect location.search to be) sans any
  // leading #. Thanks for making this necessary, IE6!
  function get_querystring( url ) {
    return url.replace( /(?:^[^?#]*\?([^#]*).*$)?.*/, '$1' );
  };
  
  // Section: Param (to string)
  // 
  // Method: jQuery.param.querystring
  // 
  // Retrieve the query string from a URL or if no arguments are passed, the
  // current window.location.href.
  // 
  // Usage:
  // 
  // > jQuery.param.querystring( [ url ] );
  // 
  // Arguments:
  // 
  //  url - (String) A URL containing query string params to be parsed. If url
  //    is not passed, the current window.location.href is used.
  // 
  // Returns:
  // 
  //  (String) The parsed query string, with any leading "?" removed.
  //
  
  // Method: jQuery.param.querystring (build url)
  // 
  // Merge a URL, with or without pre-existing query string params, plus any
  // object, params string or URL containing query string params into a new URL.
  // 
  // Usage:
  // 
  // > jQuery.param.querystring( url, params [, merge_mode ] );
  // 
  // Arguments:
  // 
  //  url - (String) A valid URL for params to be merged into. This URL may
  //    contain a query string and/or fragment (hash).
  //  params - (String) A params string or URL containing query string params to
  //    be merged into url.
  //  params - (Object) A params object to be merged into url.
  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not
  //    specified, and is as-follows:
  // 
  //    * 0: params in the params argument will override any query string
  //         params in url.
  //    * 1: any query string params in url will override params in the params
  //         argument.
  //    * 2: params argument will completely replace any query string in url.
  // 
  // Returns:
  // 
  //  (String) A URL with a urlencoded query string in the format '?a=b&c=d&e=f'.
  
  // Method: jQuery.param.fragment
  // 
  // Retrieve the fragment (hash) from a URL or if no arguments are passed, the
  // current window.location.href.
  // 
  // Usage:
  // 
  // > jQuery.param.fragment( [ url ] );
  // 
  // Arguments:
  // 
  //  url - (String) A URL containing fragment (hash) params to be parsed. If
  //    url is not passed, the current window.location.href is used.
  // 
  // Returns:
  // 
  //  (String) The parsed fragment (hash) string, with any leading "#" removed.
  
  // Method: jQuery.param.fragment (build url)
  // 
  // Merge a URL, with or without pre-existing fragment (hash) params, plus any
  // object, params string or URL containing fragment (hash) params into a new
  // URL.
  // 
  // Usage:
  // 
  // > jQuery.param.fragment( url, params [, merge_mode ] );
  // 
  // Arguments:
  // 
  //  url - (String) A valid URL for params to be merged into. This URL may
  //    contain a query string and/or fragment (hash).
  //  params - (String) A params string or URL containing fragment (hash) params
  //    to be merged into url.
  //  params - (Object) A params object to be merged into url.
  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not
  //    specified, and is as-follows:
  // 
  //    * 0: params in the params argument will override any fragment (hash)
  //         params in url.
  //    * 1: any fragment (hash) params in url will override params in the
  //         params argument.
  //    * 2: params argument will completely replace any query string in url.
  // 
  // Returns:
  // 
  //  (String) A URL with a urlencoded fragment (hash) in the format '#a=b&c=d&e=f'.
  
  function jq_param_sub( is_fragment, get_func, url, params, merge_mode ) {
    var result,
      qs,
      matches,
      url_params,
      hash;
    
    if ( params !== undefined ) {
      // Build URL by merging params into url string.
      
      // matches[1] = url part that precedes params, not including trailing ?/#
      // matches[2] = params, not including leading ?/#
      // matches[3] = if in 'querystring' mode, hash including leading #, otherwise ''
      matches = url.match( is_fragment ? re_fragment : /^([^#?]*)\??([^#]*)(#?.*)/ );
      
      // Get the hash if in 'querystring' mode, and it exists.
      hash = matches[3] || '';
      
      if ( merge_mode === 2 && is_string( params ) ) {
        // If merge_mode is 2 and params is a string, merge the fragment / query
        // string into the URL wholesale, without converting it into an object.
        qs = params.replace( is_fragment ? re_params_fragment : re_params_querystring, '' );
        
      } else {
        // Convert relevant params in url to object.
        url_params = jq_deparam( matches[2] );
        
        params = is_string( params )
          
          // Convert passed params string into object.
          ? jq_deparam[ is_fragment ? str_fragment : str_querystring ]( params )
          
          // Passed params object.
          : params;
        
        qs = merge_mode === 2 ? params                              // passed params replace url params
          : merge_mode === 1  ? $.extend( {}, params, url_params )  // url params override passed params
          : $.extend( {}, url_params, params );                     // passed params override url params
        
        // Convert params object into a sorted params string.
        qs = jq_param_sorted( qs );
        
        // Unescape characters specified via $.param.noEscape. Since only hash-
        // history users have requested this feature, it's only enabled for
        // fragment-related params strings.
        if ( is_fragment ) {
          qs = qs.replace( re_no_escape, decode );
        }
      }
      
      // Build URL from the base url, querystring and hash. In 'querystring'
      // mode, ? is only added if a query string exists. In 'fragment' mode, #
      // is always added.
      result = matches[1] + ( is_fragment ? fragment_prefix : qs || !matches[1] ? '?' : '' ) + qs + hash;
      
    } else {
      // If URL was passed in, parse params from URL string, otherwise parse
      // params from window.location.href.
      result = get_func( url !== undefined ? url : location.href );
    }
    
    return result;
  };
  
  jq_param[ str_querystring ]                  = curry( jq_param_sub, 0, get_querystring );
  jq_param[ str_fragment ] = jq_param_fragment = curry( jq_param_sub, 1, get_fragment );
  
  // Method: jQuery.param.sorted
  // 
  // Returns a params string equivalent to that returned by the internal
  // jQuery.param method, but sorted, which makes it suitable for use as a
  // cache key.
  // 
  // For example, in most browsers jQuery.param({z:1,a:2}) returns "z=1&a=2"
  // and jQuery.param({a:2,z:1}) returns "a=2&z=1". Even though both the
  // objects being serialized and the resulting params strings are equivalent,
  // if these params strings were set into the location.hash fragment
  // sequentially, the hashchange event would be triggered unnecessarily, since
  // the strings are different (even though the data described by them is the
  // same). By sorting the params string, unecessary hashchange event triggering
  // can be avoided.
  // 
  // Usage:
  // 
  // > jQuery.param.sorted( obj [, traditional ] );
  // 
  // Arguments:
  // 
  //  obj - (Object) An object to be serialized.
  //  traditional - (Boolean) Params deep/shallow serialization mode. See the
  //    documentation at http://api.jquery.com/jQuery.param/ for more detail.
  // 
  // Returns:
  // 
  //  (String) A sorted params string.
  
  jq_param.sorted = jq_param_sorted = function( a, traditional ) {
    var arr = [],
      obj = {};
    
    $.each( jq_param( a, traditional ).split( '&' ), function(i,v){
      var key = v.replace( /(?:%5B|=).*$/, '' ),
        key_obj = obj[ key ];
      
      if ( !key_obj ) {
        key_obj = obj[ key ] = [];
        arr.push( key );
      }
      
      key_obj.push( v );
    });
    
    return $.map( arr.sort(), function(v){
      return obj[ v ];
    }).join( '&' );
  };
  
  // Method: jQuery.param.fragment.noEscape
  // 
  // Specify characters that will be left unescaped when fragments are created
  // or merged using <jQuery.param.fragment>, or when the fragment is modified
  // using <jQuery.bbq.pushState>. This option only applies to serialized data
  // object fragments, and not set-as-string fragments. Does not affect the
  // query string. Defaults to ",/" (comma, forward slash).
  // 
  // Note that this is considered a purely aesthetic option, and will help to
  // create URLs that "look pretty" in the address bar or bookmarks, without
  // affecting functionality in any way. That being said, be careful to not
  // unescape characters that are used as delimiters or serve a special
  // purpose, such as the "#?&=+" (octothorpe, question mark, ampersand,
  // equals, plus) characters.
  // 
  // Usage:
  // 
  // > jQuery.param.fragment.noEscape( [ chars ] );
  // 
  // Arguments:
  // 
  //  chars - (String) The characters to not escape in the fragment. If
  //    unspecified, defaults to empty string (escape all characters).
  // 
  // Returns:
  // 
  //  Nothing.
  
  jq_param_fragment.noEscape = function( chars ) {
    chars = chars || '';
    var arr = $.map( chars.split(''), encodeURIComponent );
    re_no_escape = new RegExp( arr.join('|'), 'g' );
  };
  
  // A sensible default. These are the characters people seem to complain about
  // "uglifying up the URL" the most.
  jq_param_fragment.noEscape( ',/' );
  
  // Method: jQuery.param.fragment.ajaxCrawlable
  // 
  // TODO: DESCRIBE
  // 
  // Usage:
  // 
  // > jQuery.param.fragment.ajaxCrawlable( [ state ] );
  // 
  // Arguments:
  // 
  //  state - (Boolean) TODO: DESCRIBE
  // 
  // Returns:
  // 
  //  (Boolean) The current ajaxCrawlable state.
  
  jq_param_fragment.ajaxCrawlable = function( state ) {
    if ( state !== undefined ) {
      if ( state ) {
        re_params_fragment = /^.*(?:#!|#)/;
        re_fragment = /^([^#]*)(?:#!|#)?(.*)$/;
        fragment_prefix = '#!';
      } else {
        re_params_fragment = /^.*#/;
        re_fragment = /^([^#]*)#?(.*)$/;
        fragment_prefix = '#';
      }
      ajax_crawlable = !!state;
    }
    
    return ajax_crawlable;
  };
  
  jq_param_fragment.ajaxCrawlable( 0 );
  
  // Section: Deparam (from string)
  // 
  // Method: jQuery.deparam
  // 
  // Deserialize a params string into an object, optionally coercing numbers,
  // booleans, null and undefined values; this method is the counterpart to the
  // internal jQuery.param method.
  // 
  // Usage:
  // 
  // > jQuery.deparam( params [, coerce ] );
  // 
  // Arguments:
  // 
  //  params - (String) A params string to be parsed.
  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and
  //    undefined to their actual value. Defaults to false if omitted.
  // 
  // Returns:
  // 
  //  (Object) An object representing the deserialized params string.
  
  $.deparam = jq_deparam = function( params, coerce ) {
    var obj = {},
      coerce_types = { 'true': !0, 'false': !1, 'null': null };
    
    // Iterate over all name=value pairs.
    $.each( params.replace( /\+/g, ' ' ).split( '&' ), function(j,v){
      var param = v.split( '=' ),
        key = decode( param[0] ),
        val,
        cur = obj,
        i = 0,
        
        // If key is more complex than 'foo', like 'a[]' or 'a[b][c]', split it
        // into its component parts.
        keys = key.split( '][' ),
        keys_last = keys.length - 1;
      
      // If the first keys part contains [ and the last ends with ], then []
      // are correctly balanced.
      if ( /\[/.test( keys[0] ) && /\]$/.test( keys[ keys_last ] ) ) {
        // Remove the trailing ] from the last keys part.
        keys[ keys_last ] = keys[ keys_last ].replace( /\]$/, '' );
        
        // Split first keys part into two parts on the [ and add them back onto
        // the beginning of the keys array.
        keys = keys.shift().split('[').concat( keys );
        
        keys_last = keys.length - 1;
      } else {
        // Basic 'foo' style key.
        keys_last = 0;
      }
      
      // Are we dealing with a name=value pair, or just a name?
      if ( param.length === 2 ) {
        val = decode( param[1] );
        
        // Coerce values.
        if ( coerce ) {
          val = val && !isNaN(val)            ? +val              // number
            : val === 'undefined'             ? undefined         // undefined
            : coerce_types[val] !== undefined ? coerce_types[val] // true, false, null
            : val;                                                // string
        }
        
        if ( keys_last ) {
          // Complex key, build deep object structure based on a few rules:
          // * The 'cur' pointer starts at the object top-level.
          // * [] = array push (n is set to array length), [n] = array if n is 
          //   numeric, otherwise object.
          // * If at the last keys part, set the value.
          // * For each keys part, if the current level is undefined create an
          //   object or array based on the type of the next keys part.
          // * Move the 'cur' pointer to the next level.
          // * Rinse & repeat.
          for ( ; i <= keys_last; i++ ) {
            key = keys[i] === '' ? cur.length : keys[i];
            cur = cur[key] = i < keys_last
              ? cur[key] || ( keys[i+1] && isNaN( keys[i+1] ) ? {} : [] )
              : val;
          }
          
        } else {
          // Simple key, even simpler rules, since only scalars and shallow
          // arrays are allowed.
          
          if ( $.isArray( obj[key] ) ) {
            // val is already an array, so push on the next value.
            obj[key].push( val );
            
          } else if ( obj[key] !== undefined ) {
            // val isn't an array, but since a second value has been specified,
            // convert val into an array.
            obj[key] = [ obj[key], val ];
            
          } else {
            // val is a scalar.
            obj[key] = val;
          }
        }
        
      } else if ( key ) {
        // No value was defined, so set something meaningful.
        obj[key] = coerce
          ? undefined
          : '';
      }
    });
    
    return obj;
  };
  
  // Method: jQuery.deparam.querystring
  // 
  // Parse the query string from a URL or the current window.location.href,
  // deserializing it into an object, optionally coercing numbers, booleans,
  // null and undefined values.
  // 
  // Usage:
  // 
  // > jQuery.deparam.querystring( [ url ] [, coerce ] );
  // 
  // Arguments:
  // 
  //  url - (String) An optional params string or URL containing query string
  //    params to be parsed. If url is omitted, the current
  //    window.location.href is used.
  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and
  //    undefined to their actual value. Defaults to false if omitted.
  // 
  // Returns:
  // 
  //  (Object) An object representing the deserialized params string.
  
  // Method: jQuery.deparam.fragment
  // 
  // Parse the fragment (hash) from a URL or the current window.location.href,
  // deserializing it into an object, optionally coercing numbers, booleans,
  // null and undefined values.
  // 
  // Usage:
  // 
  // > jQuery.deparam.fragment( [ url ] [, coerce ] );
  // 
  // Arguments:
  // 
  //  url - (String) An optional params string or URL containing fragment (hash)
  //    params to be parsed. If url is omitted, the current window.location.href
  //    is used.
  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and
  //    undefined to their actual value. Defaults to false if omitted.
  // 
  // Returns:
  // 
  //  (Object) An object representing the deserialized params string.
  
  function jq_deparam_sub( is_fragment, url_or_params, coerce ) {
    if ( url_or_params === undefined || typeof url_or_params === 'boolean' ) {
      // url_or_params not specified.
      coerce = url_or_params;
      url_or_params = jq_param[ is_fragment ? str_fragment : str_querystring ]();
    } else {
      url_or_params = is_string( url_or_params )
        ? url_or_params.replace( is_fragment ? re_params_fragment : re_params_querystring, '' )
        : url_or_params;
    }
    
    return jq_deparam( url_or_params, coerce );
  };
  
  jq_deparam[ str_querystring ]                    = curry( jq_deparam_sub, 0 );
  jq_deparam[ str_fragment ] = jq_deparam_fragment = curry( jq_deparam_sub, 1 );
  
  // Section: Element manipulation
  // 
  // Method: jQuery.elemUrlAttr
  // 
  // Get the internal "Default URL attribute per tag" list, or augment the list
  // with additional tag-attribute pairs, in case the defaults are insufficient.
  // 
  // In the <jQuery.fn.querystring> and <jQuery.fn.fragment> methods, this list
  // is used to determine which attribute contains the URL to be modified, if
  // an "attr" param is not specified.
  // 
  // Default Tag-Attribute List:
  // 
  //  a      - href
  //  base   - href
  //  iframe - src
  //  img    - src
  //  input  - src
  //  form   - action
  //  link   - href
  //  script - src
  // 
  // Usage:
  // 
  // > jQuery.elemUrlAttr( [ tag_attr ] );
  // 
  // Arguments:
  // 
  //  tag_attr - (Object) An object containing a list of tag names and their
  //    associated default attribute names in the format { tag: 'attr', ... } to
  //    be merged into the internal tag-attribute list.
  // 
  // Returns:
  // 
  //  (Object) An object containing all stored tag-attribute values.
  
  // Only define function and set defaults if function doesn't already exist, as
  // the urlInternal plugin will provide this method as well.
  $[ str_elemUrlAttr ] || ($[ str_elemUrlAttr ] = function( obj ) {
    return $.extend( elemUrlAttr_cache, obj );
  })({
    a: str_href,
    base: str_href,
    iframe: str_src,
    img: str_src,
    input: str_src,
    form: 'action',
    link: str_href,
    script: str_src
  });
  
  jq_elemUrlAttr = $[ str_elemUrlAttr ];
  
  // Method: jQuery.fn.querystring
  // 
  // Update URL attribute in one or more elements, merging the current URL (with
  // or without pre-existing query string params) plus any params object or
  // string into a new URL, which is then set into that attribute. Like
  // <jQuery.param.querystring (build url)>, but for all elements in a jQuery
  // collection.
  // 
  // Usage:
  // 
  // > jQuery('selector').querystring( [ attr, ] params [, merge_mode ] );
  // 
  // Arguments:
  // 
  //  attr - (String) Optional name of an attribute that will contain a URL to
  //    merge params or url into. See <jQuery.elemUrlAttr> for a list of default
  //    attributes.
  //  params - (Object) A params object to be merged into the URL attribute.
  //  params - (String) A URL containing query string params, or params string
  //    to be merged into the URL attribute.
  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not
  //    specified, and is as-follows:
  //    
  //    * 0: params in the params argument will override any params in attr URL.
  //    * 1: any params in attr URL will override params in the params argument.
  //    * 2: params argument will completely replace any query string in attr
  //         URL.
  // 
  // Returns:
  // 
  //  (jQuery) The initial jQuery collection of elements, but with modified URL
  //  attribute values.
  
  // Method: jQuery.fn.fragment
  // 
  // Update URL attribute in one or more elements, merging the current URL (with
  // or without pre-existing fragment/hash params) plus any params object or
  // string into a new URL, which is then set into that attribute. Like
  // <jQuery.param.fragment (build url)>, but for all elements in a jQuery
  // collection.
  // 
  // Usage:
  // 
  // > jQuery('selector').fragment( [ attr, ] params [, merge_mode ] );
  // 
  // Arguments:
  // 
  //  attr - (String) Optional name of an attribute that will contain a URL to
  //    merge params into. See <jQuery.elemUrlAttr> for a list of default
  //    attributes.
  //  params - (Object) A params object to be merged into the URL attribute.
  //  params - (String) A URL containing fragment (hash) params, or params
  //    string to be merged into the URL attribute.
  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not
  //    specified, and is as-follows:
  //    
  //    * 0: params in the params argument will override any params in attr URL.
  //    * 1: any params in attr URL will override params in the params argument.
  //    * 2: params argument will completely replace any fragment (hash) in attr
  //         URL.
  // 
  // Returns:
  // 
  //  (jQuery) The initial jQuery collection of elements, but with modified URL
  //  attribute values.
  
  function jq_fn_sub( mode, force_attr, params, merge_mode ) {
    if ( !is_string( params ) && typeof params !== 'object' ) {
      // force_attr not specified.
      merge_mode = params;
      params = force_attr;
      force_attr = undefined;
    }
    
    return this.each(function(){
      var that = $(this),
        
        // Get attribute specified, or default specified via $.elemUrlAttr.
        attr = force_attr || jq_elemUrlAttr()[ ( this.nodeName || '' ).toLowerCase() ] || '',
        
        // Get URL value.
        url = attr && that.attr( attr ) || '';
      
      // Update attribute with new URL.
      that.attr( attr, jq_param[ mode ]( url, params, merge_mode ) );
    });
    
  };
  
  $.fn[ str_querystring ] = curry( jq_fn_sub, str_querystring );
  $.fn[ str_fragment ]    = curry( jq_fn_sub, str_fragment );
  
  // Section: History, hashchange event
  // 
  // Method: jQuery.bbq.pushState
  // 
  // Adds a 'state' into the browser history at the current position, setting
  // location.hash and triggering any bound <hashchange event> callbacks
  // (provided the new state is different than the previous state).
  // 
  // If no arguments are passed, an empty state is created, which is just a
  // shortcut for jQuery.bbq.pushState( {}, 2 ).
  // 
  // Usage:
  // 
  // > jQuery.bbq.pushState( [ params [, merge_mode ] ] );
  // 
  // Arguments:
  // 
  //  params - (String) A serialized params string or a hash string beginning
  //    with # to merge into location.hash.
  //  params - (Object) A params object to merge into location.hash.
  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not
  //    specified (unless a hash string beginning with # is specified, in which
  //    case merge behavior defaults to 2), and is as-follows:
  // 
  //    * 0: params in the params argument will override any params in the
  //         current state.
  //    * 1: any params in the current state will override params in the params
  //         argument.
  //    * 2: params argument will completely replace current state.
  // 
  // Returns:
  // 
  //  Nothing.
  // 
  // Additional Notes:
  // 
  //  * Setting an empty state may cause the browser to scroll.
  //  * Unlike the fragment and querystring methods, if a hash string beginning
  //    with # is specified as the params agrument, merge_mode defaults to 2.
  
  jq_bbq.pushState = jq_bbq_pushState = function( params, merge_mode ) {
    if ( is_string( params ) && /^#/.test( params ) && merge_mode === undefined ) {
      // Params string begins with # and merge_mode not specified, so completely
      // overwrite window.location.hash.
      merge_mode = 2;
    }
    
    var has_args = params !== undefined,
      // Merge params into window.location using $.param.fragment.
      url = jq_param_fragment( location.href,
        has_args ? params : {}, has_args ? merge_mode : 2 );
    
    // Set new window.location.href. Note that Safari 3 & Chrome barf on
    // location.hash = '#' so the entire URL is set.
    location.href = url;
  };
  
  // Method: jQuery.bbq.getState
  // 
  // Retrieves the current 'state' from the browser history, parsing
  // location.hash for a specific key or returning an object containing the
  // entire state, optionally coercing numbers, booleans, null and undefined
  // values.
  // 
  // Usage:
  // 
  // > jQuery.bbq.getState( [ key ] [, coerce ] );
  // 
  // Arguments:
  // 
  //  key - (String) An optional state key for which to return a value.
  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and
  //    undefined to their actual value. Defaults to false.
  // 
  // Returns:
  // 
  //  (Anything) If key is passed, returns the value corresponding with that key
  //    in the location.hash 'state', or undefined. If not, an object
  //    representing the entire 'state' is returned.
  
  jq_bbq.getState = jq_bbq_getState = function( key, coerce ) {
    return key === undefined || typeof key === 'boolean'
      ? jq_deparam_fragment( key ) // 'key' really means 'coerce' here
      : jq_deparam_fragment( coerce )[ key ];
  };
  
  // Method: jQuery.bbq.removeState
  // 
  // Remove one or more keys from the current browser history 'state', creating
  // a new state, setting location.hash and triggering any bound
  // <hashchange event> callbacks (provided the new state is different than
  // the previous state).
  // 
  // If no arguments are passed, an empty state is created, which is just a
  // shortcut for jQuery.bbq.pushState( {}, 2 ).
  // 
  // Usage:
  // 
  // > jQuery.bbq.removeState( [ key [, key ... ] ] );
  // 
  // Arguments:
  // 
  //  key - (String) One or more key values to remove from the current state,
  //    passed as individual arguments.
  //  key - (Array) A single array argument that contains a list of key values
  //    to remove from the current state.
  // 
  // Returns:
  // 
  //  Nothing.
  // 
  // Additional Notes:
  // 
  //  * Setting an empty state may cause the browser to scroll.
  
  jq_bbq.removeState = function( arr ) {
    var state = {};
    
    // If one or more arguments is passed..
    if ( arr !== undefined ) {
      
      // Get the current state.
      state = jq_bbq_getState();
      
      // For each passed key, delete the corresponding property from the current
      // state.
      $.each( $.isArray( arr ) ? arr : arguments, function(i,v){
        delete state[ v ];
      });
    }
    
    // Set the state, completely overriding any existing state.
    jq_bbq_pushState( state, 2 );
  };
  
  // Event: hashchange event (BBQ)
  // 
  // Usage in jQuery 1.4 and newer:
  // 
  // In jQuery 1.4 and newer, the event object passed into any hashchange event
  // callback is augmented with a copy of the location.hash fragment at the time
  // the event was triggered as its event.fragment property. In addition, the
  // event.getState method operates on this property (instead of location.hash)
  // which allows this fragment-as-a-state to be referenced later, even after
  // window.location may have changed.
  // 
  // Note that event.fragment and event.getState are not defined according to
  // W3C (or any other) specification, but will still be available whether or
  // not the hashchange event exists natively in the browser, because of the
  // utility they provide.
  // 
  // The event.fragment property contains the output of <jQuery.param.fragment>
  // and the event.getState method is equivalent to the <jQuery.bbq.getState>
  // method.
  // 
  // > $(window).bind( 'hashchange', function( event ) {
  // >   var hash_str = event.fragment,
  // >     param_obj = event.getState(),
  // >     param_val = event.getState( 'param_name' ),
  // >     param_val_coerced = event.getState( 'param_name', true );
  // >   ...
  // > });
  // 
  // Usage in jQuery 1.3.2:
  // 
  // In jQuery 1.3.2, the event object cannot to be augmented as in jQuery 1.4+,
  // so the fragment state isn't bound to the event object and must instead be
  // parsed using the <jQuery.param.fragment> and <jQuery.bbq.getState> methods.
  // 
  // > $(window).bind( 'hashchange', function( event ) {
  // >   var hash_str = $.param.fragment(),
  // >     param_obj = $.bbq.getState(),
  // >     param_val = $.bbq.getState( 'param_name' ),
  // >     param_val_coerced = $.bbq.getState( 'param_name', true );
  // >   ...
  // > });
  // 
  // Additional Notes:
  // 
  // * Due to changes in the special events API, jQuery BBQ v1.2 or newer is
  //   required to enable the augmented event object in jQuery 1.4.2 and newer.
  // * See <jQuery hashchange event> for more detailed information.
  
  special[ str_hashchange ] = $.extend( special[ str_hashchange ], {
    
    // Augmenting the event object with the .fragment property and .getState
    // method requires jQuery 1.4 or newer. Note: with 1.3.2, everything will
    // work, but the event won't be augmented)
    add: function( handleObj ) {
      var old_handler;
      
      function new_handler(e) {
        // e.fragment is set to the value of location.hash (with any leading #
        // removed) at the time the event is triggered.
        var hash = e[ str_fragment ] = jq_param_fragment();
        
        // e.getState() works just like $.bbq.getState(), but uses the
        // e.fragment property stored on the event object.
        e.getState = function( key, coerce ) {
          return key === undefined || typeof key === 'boolean'
            ? jq_deparam( hash, key ) // 'key' really means 'coerce' here
            : jq_deparam( hash, coerce )[ key ];
        };
        
        old_handler.apply( this, arguments );
      };
      
      // This may seem a little complicated, but it normalizes the special event
      // .add method between jQuery 1.4/1.4.1 and 1.4.2+
      if ( $.isFunction( handleObj ) ) {
        // 1.4, 1.4.1
        old_handler = handleObj;
        return new_handler;
      } else {
        // 1.4.2+
        old_handler = handleObj.handler;
        handleObj.handler = new_handler;
      }
    }
    
  });
  
})(jQuery,this);

/*!
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */

// Script: jQuery hashchange event
//
// *Version: 1.3, Last updated: 7/21/2010*
// 
// Project Home - http://benalman.com/projects/jquery-hashchange-plugin/
// GitHub       - http://github.com/cowboy/jquery-hashchange/
// Source       - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.js
// (Minified)   - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.min.js (0.8kb gzipped)
// 
// About: License
// 
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
// 
// About: Examples
// 
// These working examples, complete with fully commented code, illustrate a few
// ways in which this plugin can be used.
// 
// hashchange event - http://benalman.com/code/projects/jquery-hashchange/examples/hashchange/
// document.domain - http://benalman.com/code/projects/jquery-hashchange/examples/document_domain/
// 
// About: Support and Testing
// 
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
// 
// jQuery Versions - 1.2.6, 1.3.2, 1.4.1, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-4, Chrome 5-6, Safari 3.2-5,
//                   Opera 9.6-10.60, iPhone 3.1, Android 1.6-2.2, BlackBerry 4.6-5.
// Unit Tests      - http://benalman.com/code/projects/jquery-hashchange/unit/
// 
// About: Known issues
// 
// While this jQuery hashchange event implementation is quite stable and
// robust, there are a few unfortunate browser bugs surrounding expected
// hashchange event-based behaviors, independent of any JavaScript
// window.onhashchange abstraction. See the following examples for more
// information:
// 
// Chrome: Back Button - http://benalman.com/code/projects/jquery-hashchange/examples/bug-chrome-back-button/
// Firefox: Remote XMLHttpRequest - http://benalman.com/code/projects/jquery-hashchange/examples/bug-firefox-remote-xhr/
// WebKit: Back Button in an Iframe - http://benalman.com/code/projects/jquery-hashchange/examples/bug-webkit-hash-iframe/
// Safari: Back Button from a different domain - http://benalman.com/code/projects/jquery-hashchange/examples/bug-safari-back-from-diff-domain/
// 
// Also note that should a browser natively support the window.onhashchange 
// event, but not report that it does, the fallback polling loop will be used.
// 
// About: Release History
// 
// 1.3   - (7/21/2010) Reorganized IE6/7 Iframe code to make it more
//         "removable" for mobile-only development. Added IE6/7 document.title
//         support. Attempted to make Iframe as hidden as possible by using
//         techniques from http://www.paciellogroup.com/blog/?p=604. Added 
//         support for the "shortcut" format $(window).hashchange( fn ) and
//         $(window).hashchange() like jQuery provides for built-in events.
//         Renamed jQuery.hashchangeDelay to <jQuery.fn.hashchange.delay> and
//         lowered its default value to 50. Added <jQuery.fn.hashchange.domain>
//         and <jQuery.fn.hashchange.src> properties plus document-domain.html
//         file to address access denied issues when setting document.domain in
//         IE6/7.
// 1.2   - (2/11/2010) Fixed a bug where coming back to a page using this plugin
//         from a page on another domain would cause an error in Safari 4. Also,
//         IE6/7 Iframe is now inserted after the body (this actually works),
//         which prevents the page from scrolling when the event is first bound.
//         Event can also now be bound before DOM ready, but it won't be usable
//         before then in IE6/7.
// 1.1   - (1/21/2010) Incorporated document.documentMode test to fix IE8 bug
//         where browser version is incorrectly reported as 8.0, despite
//         inclusion of the X-UA-Compatible IE=EmulateIE7 meta tag.
// 1.0   - (1/9/2010) Initial Release. Broke out the jQuery BBQ event.special
//         window.onhashchange functionality into a separate plugin for users
//         who want just the basic event & back button support, without all the
//         extra awesomeness that BBQ provides. This plugin will be included as
//         part of jQuery BBQ, but also be available separately.

(function($,window,undefined){
  '$:nomunge'; // Used by YUI compressor.
  
  // Reused string.
  var str_hashchange = 'hashchange',
    
    // Method / object references.
    doc = document,
    fake_onhashchange,
    special = $.event.special,
    
    // Does the browser support window.onhashchange? Note that IE8 running in
    // IE7 compatibility mode reports true for 'onhashchange' in window, even
    // though the event isn't supported, so also test document.documentMode.
    doc_mode = doc.documentMode,
    supports_onhashchange = 'on' + str_hashchange in window && ( doc_mode === undefined || doc_mode > 7 );
  
  // Get location.hash (or what you'd expect location.hash to be) sans any
  // leading #. Thanks for making this necessary, Firefox!
  function get_fragment( url ) {
    url = url || location.href;
    return '#' + url.replace( /^[^#]*#?(.*)$/, '$1' );
  };
  
  // Method: jQuery.fn.hashchange
  // 
  // Bind a handler to the window.onhashchange event or trigger all bound
  // window.onhashchange event handlers. This behavior is consistent with
  // jQuery's built-in event handlers.
  // 
  // Usage:
  // 
  // > jQuery(window).hashchange( [ handler ] );
  // 
  // Arguments:
  // 
  //  handler - (Function) Optional handler to be bound to the hashchange
  //    event. This is a "shortcut" for the more verbose form:
  //    jQuery(window).bind( 'hashchange', handler ). If handler is omitted,
  //    all bound window.onhashchange event handlers will be triggered. This
  //    is a shortcut for the more verbose
  //    jQuery(window).trigger( 'hashchange' ). These forms are described in
  //    the <hashchange event> section.
  // 
  // Returns:
  // 
  //  (jQuery) The initial jQuery collection of elements.
  
  // Allow the "shortcut" format $(elem).hashchange( fn ) for binding and
  // $(elem).hashchange() for triggering, like jQuery does for built-in events.
  $.fn[ str_hashchange ] = function( fn ) {
    return fn ? this.bind( str_hashchange, fn ) : this.trigger( str_hashchange );
  };
  
  // Property: jQuery.fn.hashchange.delay
  // 
  // The numeric interval (in milliseconds) at which the <hashchange event>
  // polling loop executes. Defaults to 50.
  
  // Property: jQuery.fn.hashchange.domain
  // 
  // If you're setting document.domain in your JavaScript, and you want hash
  // history to work in IE6/7, not only must this property be set, but you must
  // also set document.domain BEFORE jQuery is loaded into the page. This
  // property is only applicable if you are supporting IE6/7 (or IE8 operating
  // in "IE7 compatibility" mode).
  // 
  // In addition, the <jQuery.fn.hashchange.src> property must be set to the
  // path of the included "document-domain.html" file, which can be renamed or
  // modified if necessary (note that the document.domain specified must be the
  // same in both your main JavaScript as well as in this file).
  // 
  // Usage:
  // 
  // jQuery.fn.hashchange.domain = document.domain;
  
  // Property: jQuery.fn.hashchange.src
  // 
  // If, for some reason, you need to specify an Iframe src file (for example,
  // when setting document.domain as in <jQuery.fn.hashchange.domain>), you can
  // do so using this property. Note that when using this property, history
  // won't be recorded in IE6/7 until the Iframe src file loads. This property
  // is only applicable if you are supporting IE6/7 (or IE8 operating in "IE7
  // compatibility" mode).
  // 
  // Usage:
  // 
  // jQuery.fn.hashchange.src = 'path/to/file.html';
  
  $.fn[ str_hashchange ].delay = 50;
  /*
  $.fn[ str_hashchange ].domain = null;
  $.fn[ str_hashchange ].src = null;
  */
  
  // Event: hashchange event
  // 
  // Fired when location.hash changes. In browsers that support it, the native
  // HTML5 window.onhashchange event is used, otherwise a polling loop is
  // initialized, running every <jQuery.fn.hashchange.delay> milliseconds to
  // see if the hash has changed. In IE6/7 (and IE8 operating in "IE7
  // compatibility" mode), a hidden Iframe is created to allow the back button
  // and hash-based history to work.
  // 
  // Usage as described in <jQuery.fn.hashchange>:
  // 
  // > // Bind an event handler.
  // > jQuery(window).hashchange( function(e) {
  // >   var hash = location.hash;
  // >   ...
  // > });
  // > 
  // > // Manually trigger the event handler.
  // > jQuery(window).hashchange();
  // 
  // A more verbose usage that allows for event namespacing:
  // 
  // > // Bind an event handler.
  // > jQuery(window).bind( 'hashchange', function(e) {
  // >   var hash = location.hash;
  // >   ...
  // > });
  // > 
  // > // Manually trigger the event handler.
  // > jQuery(window).trigger( 'hashchange' );
  // 
  // Additional Notes:
  // 
  // * The polling loop and Iframe are not created until at least one handler
  //   is actually bound to the 'hashchange' event.
  // * If you need the bound handler(s) to execute immediately, in cases where
  //   a location.hash exists on page load, via bookmark or page refresh for
  //   example, use jQuery(window).hashchange() or the more verbose 
  //   jQuery(window).trigger( 'hashchange' ).
  // * The event can be bound before DOM ready, but since it won't be usable
  //   before then in IE6/7 (due to the necessary Iframe), recommended usage is
  //   to bind it inside a DOM ready handler.
  
  // Override existing $.event.special.hashchange methods (allowing this plugin
  // to be defined after jQuery BBQ in BBQ's source code).
  special[ str_hashchange ] = $.extend( special[ str_hashchange ], {
    
    // Called only when the first 'hashchange' event is bound to window.
    setup: function() {
      // If window.onhashchange is supported natively, there's nothing to do..
      if ( supports_onhashchange ) { return false; }
      
      // Otherwise, we need to create our own. And we don't want to call this
      // until the user binds to the event, just in case they never do, since it
      // will create a polling loop and possibly even a hidden Iframe.
      $( fake_onhashchange.start );
    },
    
    // Called only when the last 'hashchange' event is unbound from window.
    teardown: function() {
      // If window.onhashchange is supported natively, there's nothing to do..
      if ( supports_onhashchange ) { return false; }
      
      // Otherwise, we need to stop ours (if possible).
      $( fake_onhashchange.stop );
    }
    
  });
  
  // fake_onhashchange does all the work of triggering the window.onhashchange
  // event for browsers that don't natively support it, including creating a
  // polling loop to watch for hash changes and in IE 6/7 creating a hidden
  // Iframe to enable back and forward.
  fake_onhashchange = (function(){
    var self = {},
      timeout_id,
      
      // Remember the initial hash so it doesn't get triggered immediately.
      last_hash = get_fragment(),
      
      fn_retval = function(val){ return val; },
      history_set = fn_retval,
      history_get = fn_retval;
    
    // Start the polling loop.
    self.start = function() {
      timeout_id || poll();
    };
    
    // Stop the polling loop.
    self.stop = function() {
      timeout_id && clearTimeout( timeout_id );
      timeout_id = undefined;
    };
    
    // This polling loop checks every $.fn.hashchange.delay milliseconds to see
    // if location.hash has changed, and triggers the 'hashchange' event on
    // window when necessary.
    function poll() {
      var hash = get_fragment(),
        history_hash = history_get( last_hash );
      
      if ( hash !== last_hash ) {
        history_set( last_hash = hash, history_hash );
        
        $(window).trigger( str_hashchange );
        
      } else if ( history_hash !== last_hash ) {
        location.href = location.href.replace( /#.*/, '' ) + history_hash;
      }
      
      timeout_id = setTimeout( poll, $.fn[ str_hashchange ].delay );
    };
    
    // vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv
    // vvvvvvvvvvvvvvvvvvv REMOVE IF NOT SUPPORTING IE6/7/8 vvvvvvvvvvvvvvvvvvv
    // vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv

    // snippet removed by pgbovine

    // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    // ^^^^^^^^^^^^^^^^^^^ REMOVE IF NOT SUPPORTING IE6/7/8 ^^^^^^^^^^^^^^^^^^^
    // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    
    return self;
  })();
  
})(jQuery,this);

/* WEBPACK VAR INJECTION */}.call(exports, __nested_webpack_require_1110685__(0)))

/***/ }),
/* 29 */
/***/ (function(module, exports, __nested_webpack_require_1160188__) {

var api = __nested_webpack_require_1160188__(2);
            var content = __nested_webpack_require_1160188__(30);

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);

var exported = content.locals ? content.locals : {};



module.exports = exported;

/***/ }),
/* 30 */
/***/ (function(module, exports, __nested_webpack_require_1160727__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __nested_webpack_require_1160727__(3);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, "/*\n\nOnline Python Tutor\nhttps://github.com/pgbovine/OnlinePythonTutor/\n\nCopyright (C) Philip J. Guo (philip@pgbovine.net)\n\nPermission is hereby granted, free of charge, to any person obtaining a\ncopy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be included\nin all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\nOR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n/* Most recent color scheme redesign on 2012-08-19 */\n\n/* To prevent CSS namespace clashes, prefix all rules with:\n     div.ExecutionVisualizer\n*/\n\n\n/* reset some styles to nullify effects of existing stylesheets\n   e.g., http://meyerweb.com/eric/tools/css/reset/\n*/\ndiv.ExecutionVisualizer {\n  /* none for now */\n}\n\ndiv.ExecutionVisualizer table.visualizer {\n  font-family: verdana, arial, helvetica, sans-serif;\n  font-size: 10pt;\n  margin-bottom: 10px;\n}\n\ndiv.ExecutionVisualizer table.visualizer td.vizLayoutTd {\n  vertical-align: top;\n}\n\ndiv.ExecutionVisualizer td#stack_td,\ndiv.ExecutionVisualizer td#heap_td {\n  vertical-align:top;\n  font-size: 10pt; /* don't make fonts in the heap so big! */\n}\n\ndiv.ExecutionVisualizer #dataViz {\n  /*margin-left: 25px;*/\n}\n\ndiv.ExecutionVisualizer #selectiveHideStatus {\n  /*margin-left: 25px;*/\n  font-size: 9pt;\n  margin-bottom: 15px;\n  margin-left: 13px;\n}\n\n/*\ndiv.ExecutionVisualizer div#codeDisplayDiv {\n  width: 550px;\n}\n*/\n\ndiv.ExecutionVisualizer div#pyCodeOutputDiv {\n  /*max-width: 550px;*/\n  max-height: 460px;\n  /*max-height: 620px;*/\n  overflow: auto;\n  /*margin-bottom: 4px;*/\n\n  margin-left: auto;\n  margin-right: auto;\n}\n\ndiv.ExecutionVisualizer table#pyCodeOutput {\n  font-family: Andale mono, monospace;\n  /*font-size:12pt;*/\n  font-size:11pt;\n  line-height:1.1em;\n\n  border-collapse: separate; /* some crazy CSS voodoo that needs to be\n                                there so that SVG arrows to the left\n                                of the code line up vertically in Chrome */\n  border-spacing: 0px;\n  border-top: 1px solid #bbb;\n  padding-top: 3px;\n  border-bottom: 1px solid #bbb;\n  /*margin-top: 6px;*/\n  margin: 6px auto; /* Center code in its pane */\n}\n\n/* don't wrap lines within code output ... FORCE scrollbars to appear */\ndiv.ExecutionVisualizer table#pyCodeOutput td {\n  white-space: nowrap;\n  vertical-align: middle; /* explicitly force, to override external CSS conflicts */\n}\n\ndiv.ExecutionVisualizer #leftCodeGutterSVG {\n  width: 18px;\n  min-width: 18px; /* make sure it doesn't squash too thin */\n  height: 0px; /* programmatically set this later ... IE needs this to\n                  be 0 or it defaults to something arbitrary and gross */\n}\n\ndiv.ExecutionVisualizer #prevLegendArrowSVG,\ndiv.ExecutionVisualizer #curLegendArrowSVG {\n  width: 18px;\n  height: 10px;\n}\n\ndiv.ExecutionVisualizer .arrow {\n  font-size: 16pt;\n}\n\ndiv.ExecutionVisualizer table#pyCodeOutput .lineNo {\n  color: #aaa;\n  padding: 0.2em;\n  padding-left: 0.3em;\n  padding-right: 0.5em;\n  text-align: right;\n}\n\ndiv.ExecutionVisualizer table#pyCodeOutput .cod {\n  /*font-weight: bold;*/\n  margin-left: 3px;\n  padding-left: 7px;\n  text-align: left; /* necessary or else doesn't work properly in IE */\n}\n\ndiv.ExecutionVisualizer div#progOutputs {\n  margin-left: 13px; /* line up with heap visualizations */\n  margin-bottom: 3px;\n}\n\ndiv.ExecutionVisualizer div#legendDiv {\n  padding: 0px;\n  text-align: left;\n  color: #666;\n  font-size: 9pt;\n}\n\ndiv.ExecutionVisualizer div#editCodeLinkDiv {\n  text-align: center;\n  /*\n  margin-top: 12px;\n  margin-bottom: 4px;\n  */\n  margin: 8px auto;\n  font-size: 11pt;\n}\n\ndiv.ExecutionVisualizer div#annotateLinkDiv {\n  /*text-align: left;*/\n  margin-top: 0px;\n  margin-bottom: 12px;\n  /*\n  margin-left: auto;\n  margin-right: auto;\n  */\n}\n\ndiv.ExecutionVisualizer div#stepAnnotationDiv {\n  margin-bottom: 12px;\n}\n\ndiv.ExecutionVisualizer textarea#stepAnnotationEditor,\ndiv.ExecutionVisualizer textarea#vizTitleEditor,\ndiv.ExecutionVisualizer textarea#vizDescriptionEditor {\n  border: 1px solid #999999;\n  padding: 4px;\n\n  overflow: auto; /* to look pretty on IE */\n  /* make sure textarea doesn't grow and stretch */\n  resize: none;\n}\n\n\ndiv.ExecutionVisualizer #errorOutput {\n  color: #e93f34; /* should match brightRed JavaScript variable */\n  font-size: 11pt;\n  padding-top: 2px;\n  line-height: 1.5em;\n  margin-bottom: 4px;\n}\n\n/* VCR control buttons for stepping through execution */\n\ndiv.ExecutionVisualizer #vcrControls {\n  margin-top: 15px;\n  margin-bottom: 6px;\n  /*width: 100%;*/\n  text-align: center;\n}\n\ndiv.ExecutionVisualizer #vcrControls button {\n  margin-left: 2px;\n  margin-right: 2px;\n}\n\ndiv.ExecutionVisualizer #curInstr {\n  text-align: center;\n}\n\ndiv.ExecutionVisualizer #pyStdout {\n  border: 1px solid #999999;\n  font-size: 10pt;\n  padding: 3px;\n  font-family: Andale mono, monospace;\n\n  overflow: auto; /* to look pretty on IE */\n  /* make sure textarea doesn't grow and stretch */\n  resize: none;\n}\n\n\ndiv.ExecutionVisualizer .vizFrame {\n  margin-bottom: 20px;\n  padding-left: 8px;\n  border-left: 2px solid #cccccc;\n}\n\n\n/* Rendering of primitive types */\n\ndiv.ExecutionVisualizer .importedObj {\n  font-size: 8pt;\n}\n\ndiv.ExecutionVisualizer .nullObj {\n/*  font-size: 8pt; */\n}\n\ndiv.ExecutionVisualizer .stringObj,\ndiv.ExecutionVisualizer .customObj,\ndiv.ExecutionVisualizer .funcObj {\n  font-family: Andale mono, monospace;\n  white-space: nowrap;\n}\n\ndiv.ExecutionVisualizer .funcCode {\n  font-size: 8pt;\n}\n\ndiv.ExecutionVisualizer .retval {\n  font-size: 9pt;\n}\n\ndiv.ExecutionVisualizer .stackFrame .retval {\n  color: #e93f34; /* highlight non-zombie stack frame return values -\n                     should match brightRed JavaScript variable */\n}\n\n/* Rendering of basic compound types */\n\ndiv.ExecutionVisualizer table.listTbl,\ndiv.ExecutionVisualizer table.tupleTbl,\ndiv.ExecutionVisualizer table.setTbl {\n  background-color: #ffffc6;\n}\n\n\ndiv.ExecutionVisualizer table.listTbl {\n  border: 0px solid black;\n  border-spacing: 0px;\n}\n\ndiv.ExecutionVisualizer table.listTbl td.listHeader,\ndiv.ExecutionVisualizer table.tupleTbl td.tupleHeader {\n  padding-left: 4px;\n  padding-top: 2px;\n  padding-bottom: 3px;\n  font-size: 8pt;\n  color: #777;\n  text-align: left;\n  border-left: 1px solid #555555;\n}\n\ndiv.ExecutionVisualizer table.tupleTbl {\n  border-spacing: 0px;\n  color: black;\n\n  border-bottom: 1px solid #555555; /* must match td.tupleHeader border */\n  border-top: 1px solid #555555; /* must match td.tupleHeader border */\n  border-right: 1px solid #555555; /* must match td.tupleHeader border */\n}\n\n\ndiv.ExecutionVisualizer table.listTbl td.listElt {\n  border-bottom: 1px solid #555555; /* must match td.listHeader border */\n  border-left: 1px solid #555555; /* must match td.listHeader border */\n}\n\n\n/* for C and C++ visualizations */\n\n/* make this slightly more compact than listTbl since arrays can be\n   rendered on the stack so we want to kinda conserve space */\ndiv.ExecutionVisualizer table.cArrayTbl {\n  background-color: #ffffc6;\n  padding-left: 0px;\n  padding-top: 0px;\n  padding-bottom: 0px;\n  font-size: 8pt;\n  color: #777;\n  text-align: left;\n  border: 0px solid black;\n  border-spacing: 0px;\n}\n\ndiv.ExecutionVisualizer table.cArrayTbl td.cArrayHeader {\n  padding-left: 5px;\n  padding-top: 0px;\n  padding-bottom: 2px;\n  font-size: 6pt;\n  color: #777;\n  text-align: left;\n  border-bottom: 0px solid black; /* override whatever we're nested in */\n}\n\ndiv.ExecutionVisualizer table.cArrayTbl td.cArrayElt {\n  border-bottom: 1px solid #888;\n  border-left: 1px solid #888;\n  border-top: 0px solid black;\n  color: black;\n\n  padding-top: 2px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 4px;\n  vertical-align: bottom;\n}\n\ndiv.ExecutionVisualizer table.cArrayTbl td.cMultidimArrayHeader {\n  padding-left: 5px;\n  padding-right: 5px;\n  padding-top: 1px;\n  padding-bottom: 3px;\n  font-size: 6pt;\n  color: #777;\n  text-align: left;\n  border-top: 1px solid #888;\n  border-left: 1px solid #888;\n  border-bottom: 0px solid black; /* override whatever we're nested in */\n}\n\ndiv.ExecutionVisualizer table.cArrayTbl td.cMultidimArrayElt {\n  border-left: 1px solid #888;\n  color: black;\n  padding-top: 1px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: bottom;\n}\n\n\ndiv.ExecutionVisualizer .cdataHeader {\n  font-size: 6pt;\n  color: #555;\n  padding-bottom: 2px;\n}\n\ndiv.ExecutionVisualizer .cdataElt {\n  font-size: 10pt;\n}\n\ndiv.ExecutionVisualizer .cdataUninit {\n  color: #888;\n}\n\n\ndiv.ExecutionVisualizer table.tupleTbl td.tupleElt {\n  border-left: 1px solid #555555; /* must match td.tupleHeader border */\n}\n\ndiv.ExecutionVisualizer table.customObjTbl {\n  background-color: white;\n  color: black;\n  border: 1px solid black;\n}\n\ndiv.ExecutionVisualizer table.customObjTbl td.customObjElt {\n  padding: 5px;\n  font-size: 9pt; /* make this smaller */\n}\n\ndiv.ExecutionVisualizer table.listTbl td.listElt,\ndiv.ExecutionVisualizer table.tupleTbl td.tupleElt {\n  padding-top: 0px;\n  padding-bottom: 8px;\n  padding-left: 10px;\n  padding-right: 10px;\n  vertical-align: bottom;\n}\n\ndiv.ExecutionVisualizer table.setTbl {\n  border: 1px solid #555555;\n  border-spacing: 0px;\n  text-align: center;\n}\n\ndiv.ExecutionVisualizer table.setTbl td.setElt {\n  padding: 8px;\n}\n\n\ndiv.ExecutionVisualizer table.dictTbl,\ndiv.ExecutionVisualizer table.instTbl,\ndiv.ExecutionVisualizer table.classTbl {\n  border-spacing: 1px;\n}\n\ndiv.ExecutionVisualizer table.dictTbl td.dictKey,\ndiv.ExecutionVisualizer table.instTbl td.instKey,\ndiv.ExecutionVisualizer table.classTbl td.classKey {\n  background-color: #faebbf;\n}\n\ndiv.ExecutionVisualizer table.dictTbl td.dictVal,\ndiv.ExecutionVisualizer table.instTbl td.instVal,\ndiv.ExecutionVisualizer table.classTbl td.classVal,\ndiv.ExecutionVisualizer td.funcCod {\n  background-color: #ffffc6;\n}\n\n\ndiv.ExecutionVisualizer table.dictTbl td.dictKey,\ndiv.ExecutionVisualizer table.instTbl td.instKey,\ndiv.ExecutionVisualizer table.classTbl td.classKey {\n  padding-top: 6px /*15px*/;\n  padding-bottom: 6px;\n  padding-left: 10px;\n  padding-right: 4px;\n\n  text-align: right;\n}\n\ndiv.ExecutionVisualizer table.dictTbl td.dictVal,\ndiv.ExecutionVisualizer table.instTbl td.instVal,\ndiv.ExecutionVisualizer table.classTbl td.classVal {\n  padding-top: 6px; /*15px*/;\n  padding-bottom: 6px;\n  padding-right: 10px;\n  padding-left: 4px;\n}\n\ndiv.ExecutionVisualizer td.funcCod {\n  padding-left: 4px;\n}\n\ndiv.ExecutionVisualizer table.classTbl td,\ndiv.ExecutionVisualizer table.instTbl td {\n  border-bottom: 1px #888 solid;\n}\n\ndiv.ExecutionVisualizer table.classTbl td.classVal,\ndiv.ExecutionVisualizer table.instTbl td.instVal {\n  border-left: 1px #888 solid;\n}\n\ndiv.ExecutionVisualizer table.classTbl,\ndiv.ExecutionVisualizer table.funcTbl {\n  border-collapse: collapse;\n  border: 1px #888 solid;\n}\n\n/* only add a border to dicts if they're embedded within another object */\ndiv.ExecutionVisualizer td.listElt table.dictTbl,\ndiv.ExecutionVisualizer td.tupleElt table.dictTbl,\ndiv.ExecutionVisualizer td.dictVal table.dictTbl,\ndiv.ExecutionVisualizer td.instVal table.dictTbl,\ndiv.ExecutionVisualizer td.classVal table.dictTbl {\n  border: 1px #888 solid;\n}\n\ndiv.ExecutionVisualizer .objectIdLabel {\n  font-size: 8pt;\n  color: #444;\n  margin-bottom: 2px;\n}\n\ndiv.ExecutionVisualizer .typeLabel {\n  font-size: 8pt;\n  color: #555;\n  margin-bottom: 2px;\n}\n\ndiv.ExecutionVisualizer div#stack,\ndiv.ExecutionVisualizer div#globals_area {\n  padding-left: 10px;\n  padding-right: 30px;\n\n  /* no longer necessary ... */\n  /*float: left;*/\n  /* border-right: 1px dashed #bbbbbb; */\n}\n\ndiv.ExecutionVisualizer div.stackFrame,\ndiv.ExecutionVisualizer div.zombieStackFrame {\n  background-color: #ffffff;\n  margin-bottom: 15px;\n  padding: 2px;\n  padding-left: 6px;\n  padding-right: 6px;\n  padding-bottom: 4px;\n  font-size: 10pt;\n}\n\ndiv.ExecutionVisualizer div.zombieStackFrame {\n  border-left: 1px dotted #aaa;\n  /*color: #c0c0c0;*/\n  color: #a0a0a0;\n}\n\ndiv.ExecutionVisualizer div.highlightedStackFrame {\n  background-color: #e2ebf6;\n  /*background-color: #d7e7fb;*/\n\n  /*background-color: #c0daf8;*/\n  /*background-color: #9eeaff #c5dfea;*/\n}\n\ndiv.ExecutionVisualizer div.stackFrame,\ndiv.ExecutionVisualizer div.highlightedStackFrame {\n  border-left: 1px solid #a6b3b6;\n}\n\n\ndiv.ExecutionVisualizer div.stackFrameHeader {\n  font-family: Andale mono, monospace;\n  font-size: 10pt;\n  margin-top: 4px;\n  margin-bottom: 3px;\n  white-space: nowrap;\n}\n\ndiv.ExecutionVisualizer td.stackFrameVar {\n  text-align: right;\n  padding-right: 8px;\n  padding-top: 3px;\n  padding-bottom: 3px;\n}\n\ndiv.ExecutionVisualizer td.stackFrameValue {\n  text-align: left;\n  border-bottom: 1px solid #aaaaaa;\n  border-left: 1px solid #aaaaaa;\n\n  vertical-align: middle;\n\n  padding-top: 3px;\n  padding-left: 3px;\n  padding-bottom: 3px;\n}\n\ndiv.ExecutionVisualizer .stackFrameVarTable tr {\n\n}\n\ndiv.ExecutionVisualizer .stackFrameVarTable {\n  text-align: right;\n  padding-top: 3px;\n\n  /* right-align the table */\n  margin-left: auto;\n  margin-right: 0px;\n\n  /* hack to counteract possible nasty CSS reset styles from parent divs */\n  border-collapse: separate;\n  border-spacing: 2px;\n}\n\ndiv.ExecutionVisualizer div#heap {\n  float: left;\n  padding-left: 30px;\n}\n\ndiv.ExecutionVisualizer td.toplevelHeapObject {\n  /* needed for d3 to do transitions */\n  padding-left: 8px;\n  padding-right: 8px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  /*\n  border: 2px dotted white;\n  border-color: white;\n  */\n}\n\ndiv.ExecutionVisualizer table.heapRow {\n  margin-bottom: 10px;\n}\n\ndiv.ExecutionVisualizer div.heapObject {\n  padding-left: 2px; /* leave a TINY amount of room for connector endpoints */\n}\n\ndiv.ExecutionVisualizer div.heapPrimitive {\n  padding-left: 4px; /* leave some more room for connector endpoints */\n}\n\ndiv.ExecutionVisualizer div#stackHeader {\n  margin-bottom: 15px;\n  text-align: right;\n}\n\ndiv.ExecutionVisualizer div#heapHeader {\n  /*margin-top: 2px;\n  margin-bottom: 13px;*/\n  margin-bottom: 15px;\n}\n\ndiv.ExecutionVisualizer div#langDisplayDiv {\n  text-align: center;\n  margin-top: 2pt;\n  margin-bottom: 3pt;\n}\n\ndiv.ExecutionVisualizer div#langDisplayDiv,\ndiv.ExecutionVisualizer div#stackHeader,\ndiv.ExecutionVisualizer div#heapHeader {\n  color: #333333;\n  font-size: 10pt;\n}\n\ndiv.ExecutionVisualizer #executionSlider {\n  /* if you set 'width', then it looks ugly when you dynamically resize */\n  margin-top: 15px;\n  margin-bottom: 5px;\n\n  /* DON'T center this, since we need breakpoints in executionSliderFooter to be well aligned */\n  width: 98%;\n}\n\ndiv.ExecutionVisualizer #executionSliderCaption {\n  font-size: 8pt;\n  color: #666666;\n  margin-top: 15px;\n}\n\ndiv.ExecutionVisualizer #executionSliderFooter {\n  margin-top: -7px; /* make it butt up against #executionSlider */\n}\n\ndiv.ExecutionVisualizer #codeFooterDocs,\ndiv.ExecutionVisualizer #printOutputDocs {\n  margin-bottom: 3px;\n  font-size: 8pt;\n  color: #666;\n}\n\ndiv.ExecutionVisualizer #codeFooterDocs {\n  margin-top: 5px;\n  margin-bottom: 12px;\n  width: 95%;\n}\n\n/* darken slider handle a bit */\ndiv.ExecutionVisualizer .ui-slider .ui-slider-handle {\n  border: 1px solid #999;\n}\n\n\n/* for annotation bubbles */\n\n/* For styling tricks, see: http://css-tricks.com/textarea-tricks/ */\ntextarea.bubbleInputText {\n  border: 1px solid #ccc;\n  outline: none;\n  overflow: auto; /* to look pretty on IE */\n\n  /* make sure textarea doesn't grow and stretch the enclosing bubble */\n  resize: none;\n  width: 225px;\n  max-width: 225px;\n  height: 35px;\n  max-height: 35px;\n}\n\ndiv.ExecutionVisualizer .annotationText,\ndiv.ExecutionVisualizer .vizDescriptionText {\n  font-family: verdana, arial, helvetica, sans-serif;\n  font-size: 11pt;\n  line-height: 1.5em;\n}\n\ndiv.ExecutionVisualizer .vizTitleText {\n  font-family: verdana, arial, helvetica, sans-serif;\n  font-size: 16pt;\n  margin-bottom: 12pt;\n}\n\ndiv.ExecutionVisualizer div#vizHeader {\n  margin-bottom: 10px;\n  width: 700px;\n  max-width: 700px;\n}\n\n/* prev then curr, so curr gets precedence when both apply */\ndiv.ExecutionVisualizer .highlight-prev {\n  background-color: #F0F0EA;\n}\n\ndiv.ExecutionVisualizer .highlight-cur {\n  background-color: #FFFF66;\n}\n\ndiv.ExecutionVisualizer .highlight-legend {\n  padding: 2px;\n}\n\n/* resizing sliders from David Pritchard */\n.ui-resizable-e {\n  background-color: #dddddd;\n  width: 1px;\n  border: 3px solid white;\n}\n\n.ui-resizable-e:hover {\n  border-color: #dddddd;\n}\n\ndiv.ExecutionVisualizer a,\ndiv.ExecutionVisualizer a:visited,\ndiv.ExecutionVisualizer a:hover {\n  color: #3D58A2;\n}\n\ndiv.ExecutionVisualizer div#rawUserInputDiv {\n  padding: 5px;\n  width: 95%;\n  margin: 5px auto;\n  text-align: center;\n  border: 1px #e93f34 solid;\n}\n\n/* for pyCrazyMode */\n\n/* prev then curr, so curr gets precedence when both apply */\ndiv.ExecutionVisualizer .pycrazy-highlight-prev {\n  background-color: #eeeeee; /*#F0F0EA;*/\n  /*\n  text-decoration: none;\n  border-bottom: 1px solid #dddddd;\n  */\n}\n\ndiv.ExecutionVisualizer .pycrazy-highlight-cur {\n  background-color: #FFFF66;\n  /* aligned slightly higher than border-bottom */\n  /*\n  text-decoration: none;\n  border-bottom: 1px solid #e93f34;\n  */\n}\n\ndiv.ExecutionVisualizer .pycrazy-highlight-prev-and-cur {\n  background-color: #FFFF66;\n\n  text-decoration: none;\n  border-bottom: 1px solid #999999;\n}\n\n\n#optTabularView thead.stepTableThead {\n  background-color: #bbb;\n}\n\n#optTabularView tbody.stepTableTbody {\n}\n\n#optTabularView td.stepTableTd {\n  padding: 3px 10px;\n}\n\n#uiControlsPane {\n  font-size: 8pt;\n}\n\n\n/* BEGIN Java frontend by David Pritchard and Will Gwozdz */\n\n/* stack and queue css by Will Gwozdz */\ndiv.ExecutionVisualizer table.queueTbl,\ndiv.ExecutionVisualizer table.stackTbl {\n  background-color: #ffffc6;\n}\n\ndiv.ExecutionVisualizer table.queueTbl,\ndiv.ExecutionVisualizer table.stackTbl {\n  border: 0px solid black;\n  border-spacing: 0px;\n}\n\ndiv.ExecutionVisualizer table.stackTbl td.stackElt,\ndiv.ExecutionVisualizer table.queueTbl td.queueElt {\n  padding-left: 8px;\n  padding-right: 8px;\n  padding-top: 2px;\n  padding-bottom: 3px;\n  border-top: 1px solid #555555;\n  border-bottom: 1px solid #555555;\n  border-left: 1px dashed #555555;\n}\n\ndiv.ExecutionVisualizer table.stackTbl td.stackFElt,\ndiv.ExecutionVisualizer table.queueTbl td.queueFElt {\n  background-color: white;\n  border-top: 1px solid #555555;\n  border-bottom: 1px solid #555555;\n}\n\ndiv.ExecutionVisualizer table.stackTbl td.stackLElt {\n  background-color: white;\n  border-left: 1px solid #555555;\n}\n\ndiv.ExecutionVisualizer table.queueTbl td.queueLElt {\n  background-color: white;\n  border-top: 1px solid#555555;\n  border-bottom: 1px solid #555555;\n  border-left: 1px dashed #555555;\n}\n\n/* This ensures a border is drawn around a dict\n   if its nested in another object. */\ndiv.ExecutionVisualizer td.stackElt table.dictTbl,\ndiv.ExecutionVisualizer td.stackLElt table.dictTbl,\ndiv.ExecutionVisualizer td.stackFElt table.dictTbl,\ndiv.ExecutionVisualizer td.queueElt table.dictTbl,\ndiv.ExecutionVisualizer td.queueLElt table.dictTbl,\ndiv.ExecutionVisualizer td.queueFElt table.dictTbl {\n  border: 1px #888 solid;\n}\n\n.symbolic {\n  font-size: 18pt;\n}\n\n/* END Java frontend by David Pritchard and Will Gwozdz */\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 31 */,
/* 32 */,
/* 33 */,
/* 34 */,
/* 35 */,
/* 36 */,
/* 37 */,
/* 38 */,
/* 39 */,
/* 40 */,
/* 41 */,
/* 42 */,
/* 43 */,
/* 44 */,
/* 45 */,
/* 46 */,
/* 47 */,
/* 48 */,
/* 49 */,
/* 50 */,
/* 51 */,
/* 52 */,
/* 53 */,
/* 54 */,
/* 55 */,
/* 56 */,
/* 57 */,
/* 58 */,
/* 59 */,
/* 60 */,
/* 61 */,
/* 62 */,
/* 63 */,
/* 64 */,
/* 65 */,
/* 66 */,
/* 67 */,
/* 68 */,
/* 69 */,
/* 70 */,
/* 71 */,
/* 72 */,
/* 73 */,
/* 74 */,
/* 75 */,
/* 76 */,
/* 77 */,
/* 78 */,
/* 79 */,
/* 80 */,
/* 81 */,
/* 82 */,
/* 83 */,
/* 84 */,
/* 85 */,
/* 86 */,
/* 87 */
/***/ (function(module, exports, __nested_webpack_require_1182233__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {
// Python Tutor: https://github.com/pgbovine/OnlinePythonTutor/
// Copyright (C) Philip Guo (philip@pgbovine.net)
// LICENSE: https://github.com/pgbovine/OnlinePythonTutor/blob/master/LICENSE.txt
Object.defineProperty(exports, "__esModule", { value: true });
// see ../pytutor-embed-demo.html for how to use this file
var pytutor_1 = __nested_webpack_require_1182233__(4);
var allVisualizers = [];
function redrawAllVisualizerArrows() {
    $.each(allVisualizers, function (i, v) {
        //console.log("redrawConnectors:", v);
        v.redrawConnectors();
    });
    //console.log("DONE redrawAllVisualizerArrows");
}
// creates a ExecutionVisualizer representing trace and adds it to page at divId
// returns the newly-created ExecutionVisualizer object
function addVisualizerToPage(trace, divId, params) {
    if (!params) {
        params = {};
    }
    if (params.embeddedMode === undefined) {
        params.embeddedMode = true;
    }
    if (params.editCodeBaseURL === undefined) {
        params.editCodeBaseURL = 'http://pythontutor.com/visualize.html';
    }
    // When some div in your webpage (such as a visualizer div) expands in height,
    // it will "push down" all divs below it, but the SVG arrows rendered by
    // jsPlumb WILL NOT MOVE. Thus, they will be in the incorrect location unless
    // you call redrawAllConnectors().
    //
    // We use the "heightChangeCallback" optional parameter to force redraw
    // of all SVG arrows of ALL visualizers, whenever the height of one changes.
    //
    // Alternatively, here is one jQuery plugin that you can use to detect
    // div height changes: http://benalman.com/projects/jquery-resize-plugin/
    //
    // A related trick you can implement is to make a div never shrink in height
    // once it's grown; that way, you can avoid lots of jarring jumps and
    // (inefficient) redraws.
    params.heightChangeCallback = redrawAllVisualizerArrows;
    var ret = new pytutor_1.ExecutionVisualizer(divId, trace, params);
    allVisualizers.push(ret);
    redrawAllVisualizerArrows();
    // Call redrawConnectors() on all visualizers whenever the window is resized,
    // since HTML elements might have moved during a resize. The SVG arrows rendered
    // by jsPlumb don't automatically get re-drawn in their new positions unless
    // redrawConnectors() is called.
    //
    // detach the handler first so that we don't have redundant multiple handlers:
    $(window).off('resize').resize(redrawAllVisualizerArrows);
    return ret;
}
// loads trace from a JSON-formatted file and then adds it to the page in divId;
// returns the newly-created ExecutionVisualizer object
function createVisualizerFromJSON(jsonURL, divId, params) {
    if (params === void 0) { params = undefined; }
    $.get(jsonURL, {}, function (trace) {
        //console.log(trace);
        addVisualizerToPage(trace, divId, params);
    }, 'json');
}
// looks for all div.pytutorVisualizer on the current page, extracts
// data-tracefile and data-params attributes from each, and then populates
// each one using createVisualizerFromJSON()
function createAllVisualizersFromHtmlAttrs() {
    //console.log('createAllVisualizersFromHtmlAttrs');
    $('div.pytutorVisualizer').each(function (i, e) {
        var jsonURL = $(e).attr('data-tracefile');
        var divId = $(e).attr('id');
        var paramsText = $(e).attr('data-params');
        //console.log(jsonURL, divId, paramsText);
        try {
            var params = JSON.parse(paramsText);
            createVisualizerFromJSON(jsonURL, divId, params);
        }
        catch (err) {
            createVisualizerFromJSON(jsonURL, divId); // ignore params if we can't parse it
        }
    });
}
// export globally -- hacky!!!
window.addVisualizerToPage = addVisualizerToPage;
window.createVisualizerFromJSON = createVisualizerFromJSON;
window.createAllVisualizersFromHtmlAttrs = createAllVisualizersFromHtmlAttrs;

/* WEBPACK VAR INJECTION */}.call(exports, __nested_webpack_require_1182233__(0)))

/***/ })
/******/ ]);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9XZWJDb21wb25lbnRzLy4vcnVuZXN0b25lL2NvZGVsZW5zL2pzL3B5dHV0b3ItZW1iZWQuYnVuZGxlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhCQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSw4QkFBbUI7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDhCQUFtQjtBQUM3QjtBQUNBO0FBQ0EsVUFBVSw4QkFBbUI7QUFDN0I7QUFDQTtBQUNBLFVBQVUsOEJBQW1CO0FBQzdCLGVBQWUsOEJBQW1CO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSw4QkFBbUI7QUFDN0I7QUFDQSxtQ0FBbUMsMEJBQTBCLEVBQUU7QUFDL0QseUNBQXlDLGVBQWU7QUFDeEQsV0FBVyw4QkFBbUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDhCQUFtQixpQ0FBaUMsK0RBQStEO0FBQzdIO0FBQ0E7QUFDQSxVQUFVLDhCQUFtQjtBQUM3QjtBQUNBO0FBQ0EsaUJBQWlCLDhCQUFtQixDQUFDLDhCQUFtQjtBQUN4RCxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLCtCQUFtQjs7QUFFcEQsZ0VBQWdFO0FBQ2hFLGVBQWUsYUFBYSx1R0FBdUcsMkVBQTJFLFlBQVksTUFBTSxzREFBc0QsYUFBYSw0RkFBNEYsb0VBQW9FLGdCQUFnQixPQUFPLGdDQUFnQyx5REFBeUQsOEJBQThCLDBCQUEwQixnRkFBZ0Ysd0JBQXdCLGtCQUFrQixtREFBbUQsb0JBQW9CLGlCQUFpQiw0REFBNEQsdUJBQXVCLG9DQUFvQywyQkFBMkIs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QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IsMEJBQTBCO0FBQzFCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsMkJBQTJCO0FBQzNCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBLGdDQUFnQyxnREFBZ0Q7QUFDaEY7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xELHdDQUF3QyxnQkFBZ0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEUsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkdBQTZHO0FBQzdHO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2R0FBNkc7QUFDN0c7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLDZHQUE2RztBQUM3RztBQUNBLDBCQUEwQjtBQUMxQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRkFBb0Ysd0NBQXdDLEVBQUU7QUFDOUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsc0JBQXNCO0FBQ3RCLHNCQUFzQjtBQUN0Qix3QkFBd0I7QUFDeEIsdUJBQXVCO0FBQ3ZCLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRCw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxVQUFVO0FBQzFFO0FBQ0E7QUFDQSx5QkFBeUIsRUFBRTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxVQUFVO0FBQzFFO0FBQ0E7QUFDQSx5QkFBeUIsRUFBRTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxJQUFJO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDBEQUEwRCxFQUFFO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FO0FBQ3BFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywwQkFBMEI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RDtBQUM1RCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCLDBCQUEwQixvREFBb0Q7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLElBQUk7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxJQUFJO0FBQ3pFLG1FQUFtRTtBQUNuRSx1RUFBdUU7QUFDdkUseUVBQXlFLElBQUk7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELDJCQUEyQixFQUFFO0FBQzVGLDhEQUE4RCwwQ0FBMEMsRUFBRTtBQUMxRyw2REFBNkQsd0JBQXdCLEVBQUU7QUFDdkYsNERBQTRELDJCQUEyQixFQUFFO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyxzRkFBc0Y7QUFDdEY7QUFDQTtBQUNBLHVDQUF1QyxvQkFBb0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELDBCQUEwQix3QkFBd0I7QUFDL0c7QUFDQSxrRUFBa0U7QUFDbEUsa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRCx1Q0FBdUM7QUFDdkM7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsdUJBQXVCLEVBQUU7QUFDOUU7QUFDQTtBQUNBO0FBQ0EscURBQXFELHVCQUF1QjtBQUM1RTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxXQUFXO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIscUZBQXFGO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUZBQXVGO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUZBQXlGO0FBQ3pGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUMsYUFBYSwrQkFBK0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IseUJBQXlCO0FBQ3pCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixxQ0FBcUM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxrSEFBa0g7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxJQUFJO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLEdBQUcsaUJBQWlCO0FBQzFEO0FBQ0EseUNBQXlDO0FBQ3pDLHlDQUF5QztBQUN6QyxxQ0FBcUM7QUFDckMscUNBQXFDO0FBQ3JDO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0Esd0NBQXdDLE1BQU0sTUFBTSxNQUFNO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLEdBQUcsaUJBQWlCO0FBQzFELHFDQUFxQztBQUNyQyxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixLQUFLO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1Qiw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7O0FBRUEsNEJBQTRCLGVBQWUsZ0NBQW1CLEtBQUssZ0NBQW1COztBQUV0RixPQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQSw4Q0FBOEMsY0FBYztBQUM1RCxnRUFBZ0UsODVCQUE4NUIscUJBQXFCO0FBQ24vQixvREFBb0QscUJBQXFCLHdrQ0FBd2tDLGcxQ0FBZzFDLCtDQUErQztBQUNoaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0EsT0FBTztBQUNQO0FBQ0EsaUNBQWlDLGlDQUFtQjs7QUFFcEQsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRLHVDQUF1QyxnQkFBZ0Isc0RBQXNELG1CQUFtQiwyREFBMkQsOERBQThELGNBQWMsaUJBQWlCLGlEQUFpRCx3QkFBd0IsSUFBSSxNQUFNLE9BQU8sT0FBTyxNQUFNLFVBQVUsd0JBQXdCLEVBQUUsS0FBSyxNQUFNLGdCQUFnQixHQUFHLHlCQUF5QixZQUFZLGFBQWEsTUFBTSxnQkFBZ0IsS0FBSyxNQUFNLGNBQWMsYUFBYSwyQkFBMkIsT0FBTyxJQUFJLE1BQU0saUJBQWlCLHdCQUF3QixPQUFPLDJDQUEyQyxJQUFJLEtBQUssU0FBUyxrQ0FBa0MsWUFBWSxLQUFLLE9BQU87QUFDdnhCLDRCQUE0QixlQUFlLGlDQUFtQjs7QUFFOUQsT0FBTztBQUNQO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7O0FBRUE7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7O0FBRUEsK0RBQStEO0FBQy9EOztBQUVBLDRCQUE0QixpQkFBaUI7O0FBRTdDLE9BQU87QUFDUDtBQUNBOztBQUVBLFlBQVksZ0JBQWdCLElBQUksb0RBQW9ELHlCQUF5QixFQUFFLFNBQVMsZUFBZSxjQUFjLHlCQUF5Qix5QkFBeUIsU0FBUyxjQUFjLHFDQUFxQyxjQUFjLGNBQWMsU0FBUyxhQUFhLFlBQVksYUFBYSxTQUFTLGNBQWMseUNBQXlDLFVBQVUsa0JBQWtCLGtCQUFrQiwyQkFBMkIsNkJBQTZCLGNBQWMsMEJBQTBCLGNBQWMsZ0JBQWdCLGNBQWMsZUFBZSxjQUFjLHNEQUFzRCxjQUFjLFFBQVEsa0JBQWtCLFNBQVMsY0FBYyxjQUFjLGFBQWEsMEJBQTBCLGlEQUFpRCxTQUFTLGlCQUFpQiwwQkFBMEIsaUJBQWlCLGtJQUFrSSxLQUFLLE1BQU0sR0FBRyxnQkFBZ0Isc0dBQXNHLGNBQWMsWUFBWSxjQUFjLG9FQUFvRSx3Q0FBd0MsK0JBQStCLGdCQUFnQixtQ0FBbUMsT0FBTyxzQkFBc0IsV0FBVyxhQUFhLFdBQVcsV0FBVyxjQUFjLG1CQUFtQiwyQkFBMkIsY0FBYyxtQkFBbUIsaUJBQWlCLGNBQWMsbUJBQW1CLG1DQUFtQyxjQUFjLFNBQVMsY0FBYyxtQkFBbUIsc0JBQXNCLGNBQWMsK0JBQStCLGNBQWMsNEJBQTRCLGNBQWMsMEJBQTBCLGdCQUFnQixNQUFNLDZHQUE2RywwREFBMEQsY0FBYyxrQ0FBa0Msd0JBQXdCLGNBQWMseUlBQXlJLGFBQWEscURBQXFELGFBQWEsaUJBQWlCLDBCQUEwQixTQUFTLGNBQWMsbUNBQW1DLGlDQUFpQywwQkFBMEIsbUJBQW1CLElBQUksNkJBQTZCLDJDQUEyQyxRQUFRLGFBQWEsR0FBRyxlQUFlLDZEQUE2RCxpQkFBaUIsd0NBQXdDLGVBQWUsaUJBQWlCLHdDQUF3Qyx3Q0FBd0MsbUJBQW1CLHFCQUFxQixtQkFBbUIsMkJBQTJCLGVBQWUsd0VBQXdFLG1CQUFtQixzQkFBc0IsOEJBQThCLE1BQU0sa0JBQWtCLGFBQWEsK0VBQStFLGdEQUFnRCxnUkFBZ1IsbUJBQW1CLDJFQUEyRSxnSEFBZ0gsZUFBZSxvQkFBb0IsdURBQXVELG1CQUFtQixxQkFBcUIsbUJBQW1CLDJCQUEyQixtQkFBbUIsY0FBYyx1RkFBdUYsY0FBYyw0QkFBNEIsUUFBUSx1SEFBdUgsZUFBZSxpQkFBaUIsZUFBZSxrQkFBa0IsbUJBQW1CLGVBQWUsa0JBQWtCLG1CQUFtQixpQkFBaUIsYUFBYSxvQ0FBb0MsdURBQXVELHVFQUF1RSxhQUFhLHVDQUF1Qyx1REFBdUQscURBQXFELGFBQWEseUNBQXlDLDBEQUEwRCx1QkFBdUIsa0JBQWtCLHNDQUFzQyxrQkFBa0IseURBQXlELCtDQUErQyxlQUFlLE9BQU8sWUFBWSxlQUFlLGtCQUFrQixtQkFBbUIsZUFBZSx3REFBd0QsdUNBQXVDLGlCQUFpQix1QkFBdUIsSUFBSSxvQ0FBb0MsSUFBSSx1QkFBdUIsU0FBUyxlQUFlLGlCQUFpQixtQkFBbUIsUUFBUSw4Q0FBOEMsNkNBQTZDLHNFQUFzRSxvQkFBb0IsbUZBQW1GLHNCQUFzQixxREFBcUQsc0JBQXNCLDRCQUE0QixjQUFjLDBEQUEwRCw2QkFBNkIsK0NBQStDLGNBQWMsMkJBQTJCLGdDQUFnQywyQkFBMkIsaURBQWlELGFBQWEsMkNBQTJDLGdGQUFnRixpQkFBaUIsZUFBZSxvQ0FBb0MsRUFBRSxRQUFRLG1CQUFtQixpQkFBaUIsaUJBQWlCLGtCQUFrQix1QkFBdUIsc0NBQXNDLGtCQUFrQixvQkFBb0IsWUFBWSxtREFBbUQsZUFBZSx3QkFBd0IseURBQXlELHlEQUF5RCwyQkFBMkIsY0FBYyx3QkFBd0IsZ0VBQWdFLGFBQWEsOEVBQThFLGNBQWMsMkJBQTJCLHdGQUF3RixTQUFTLGVBQWUsa0VBQWtFLGdNQUFnTSxpQkFBaUIsMkJBQTJCLGVBQWUseUJBQXlCLDhCQUE4QixtQkFBbUIsbUNBQW1DLGlCQUFpQiwyQkFBMkIscUJBQXFCLHlCQUF5QiwyQ0FBMkMscUdBQXFHLDZCQUE2Qix5QkFBeUIsNEhBQTRILGdDQUFnQyxrRUFBa0UsZUFBZSxlQUFlLDJCQUEyQix1QkFBdUIsZUFBZSxtREFBbUQsaUJBQWlCLHFDQUFxQywrQkFBK0IsK0NBQStDLFNBQVMsY0FBYyxZQUFZLHFCQUFxQixhQUFhLG9EQUFvRCxnREFBZ0QsY0FBYyxZQUFZLFFBQVEsNEJBQTRCLFlBQVksc0JBQXNCLGdEQUFnRCxxQkFBcUIsb0NBQW9DLDBCQUEwQixtREFBbUQscUJBQXFCLG9DQUFvQywyQkFBMkIsb0NBQW9DLHFCQUFxQixlQUFlLDBCQUEwQixlQUFlLG1CQUFtQixvQkFBb0IsbUJBQW1CLG1CQUFtQixLQUFLLGlCQUFpQixpRUFBaUUsZUFBZSwyREFBMkQsa0JBQWtCLHlCQUF5QixrQkFBa0IsMEJBQTBCLGlCQUFpQixtRkFBbUYsZ0hBQWdILGlCQUFpQixrQ0FBa0MsaUJBQWlCLHVGQUF1RixxQkFBcUIsa0NBQWtDLG1CQUFtQixnQkFBZ0IscUJBQXFCLGtEQUFrRCx5REFBeUQsMkRBQTJELG1CQUFtQiwyQkFBMkIsc0JBQXNCLGlCQUFpQixjQUFjLGVBQWUsWUFBWSw0QkFBNEIsc0JBQXNCLHNCQUFzQix3RkFBd0YsbUJBQW1CLHFDQUFxQyxvQkFBb0IsMEJBQTBCLHNCQUFzQiw2REFBNkQsV0FBVyxhQUFhLEtBQUssTUFBTSxhQUFhLElBQUksbUJBQW1CLEtBQUssS0FBSyxJQUFJLGdCQUFnQixLQUFLLG1CQUFtQixhQUFhLFFBQVEsT0FBTyxLQUFLLGVBQWUsU0FBUyxLQUFLLGVBQWUsU0FBUyw0QkFBNEIsMkJBQTJCLCtCQUErQiwyRkFBMkYsbUJBQW1CLGtDQUFrQyxtQkFBbUIsc0JBQXNCLFNBQVMsZUFBZSxtQ0FBbUMsZUFBZSxvQ0FBb0MsaUJBQWlCLGNBQWMsZUFBZSxzQkFBc0IsNEJBQTRCLHNCQUFzQixzQkFBc0IsaUVBQWlFLHFCQUFxQix3QkFBd0IsMEJBQTBCLHdCQUF3QixtQkFBbUIsbUNBQW1DLHdCQUF3Qiw4QkFBOEIsaUJBQWlCLHVDQUF1QyxtQkFBbUIsc0JBQXNCLFNBQVMsZUFBZSxtQkFBbUIsMENBQTBDLGlCQUFpQixjQUFjLHNEQUFzRCxnQkFBZ0IsMENBQTBDLGFBQWEsRUFBRSxVQUFVLDRCQUE0Qiw4QkFBOEIsYUFBYSxzQkFBc0IsOENBQThDLHVCQUF1QixxQkFBcUIsb0NBQW9DLGNBQWMsTUFBTSw2QkFBNkIsMEJBQTBCLHlDQUF5QyxnREFBZ0Qsd0JBQXdCLEdBQUcsNEJBQTRCLDBCQUEwQix1REFBdUQsZ0RBQWdELHVCQUF1QixHQUFHLGlDQUFpQywwQkFBMEIsd0ZBQXdGLHdFQUF3RSw0QkFBNEIsR0FBRyx3QkFBd0IsU0FBUywwQkFBMEIsZUFBZSxtQkFBbUIsZUFBZSxhQUFhLGlCQUFpQixhQUFhLDhCQUE4QixLQUFLLHNDQUFzQyxTQUFTLGNBQWMseUNBQXlDLE1BQU0sNEJBQTRCLGdEQUFnRCxnQkFBZ0IsNEJBQTRCLHFCQUFxQixvQ0FBb0Msd0JBQXdCLFNBQVMsbUJBQW1CLGVBQWUsS0FBSyxtQkFBbUIsY0FBYyxzREFBc0QsYUFBYSx1Q0FBdUMsUUFBUSw0QkFBNEIsNkRBQTZELHFCQUFxQixvQ0FBb0MsbUJBQW1CLGlCQUFpQixLQUFLLGVBQWUsY0FBYyxTQUFTLCtDQUErQyx5Q0FBeUMscUJBQXFCLGVBQWUsMEJBQTBCLGVBQWUsbUJBQW1CLGFBQWEsR0FBRyxlQUFlLHFCQUFxQixlQUFlLHFCQUFxQixlQUFlLG9CQUFvQixlQUFlLGtCQUFrQixlQUFlLGNBQWMsYUFBYSxzQkFBc0IsOENBQThDLHFHQUFxRyw4Q0FBOEMsaUNBQWlDLHVCQUF1QixrQ0FBa0MsaUJBQWlCLGtDQUFrQyx1QkFBdUIsa0NBQWtDLDJCQUEyQixrRUFBa0UsdUJBQXVCLGtDQUFrQyxHQUFHLGVBQWUsWUFBWSxlQUFlLFlBQVksZUFBZSw0Q0FBNEMsNkNBQTZDLGtCQUFrQixlQUFlLDRDQUE0Qyw2Q0FBNkMsa0JBQWtCLGVBQWUsNENBQTRDLDZDQUE2QyxrQkFBa0IsaUJBQWlCLCtEQUErRCxpQkFBaUIseUZBQXlGLG1CQUFtQiwyQ0FBMkMsaUJBQWlCLHFFQUFxRSwyREFBMkQsNkVBQTZFLGVBQWUsdUdBQXVHLFlBQVksV0FBVywyRUFBMkUsTUFBTSxXQUFXLDZEQUE2RCxTQUFTLGlCQUFpQixrREFBa0QsaUVBQWlFLFNBQVMsZUFBZSwyQkFBMkIseUZBQXlGLFVBQVUsMkVBQTJFLEtBQUssb0VBQW9FLGtCQUFrQixlQUFlLDJCQUEyQix1Q0FBdUMsNkNBQTZDLGtDQUFrQywyRUFBMkUsa0JBQWtCLGVBQWUsd0NBQXdDLCtDQUErQyw4QkFBOEIsNkVBQTZFLGtCQUFrQixpQkFBaUIsaUJBQWlCLE1BQU0seURBQXlELDhFQUE4RSxhQUFhLGlCQUFpQiwrQ0FBK0MsbUJBQW1CLHNGQUFzRixpQkFBaUIsOEJBQThCLGVBQWUsdURBQXVELHdDQUF3QyxnQkFBZ0IsZUFBZSwyQ0FBMkMsMklBQTJJLEtBQUssd0dBQXdHLFNBQVMsZUFBZSx5Q0FBeUMsZUFBZSwwQkFBMEIsMEVBQTBFLFNBQVMsZUFBZSxjQUFjLGFBQWEsZ0RBQWdELHNFQUFzRSxTQUFTLHlCQUF5QixTQUFTLFVBQVUsOEpBQThKLDhDQUE4QyxxREFBcUQsdUJBQXVCLG9DQUFvQyxrQkFBa0Isa0NBQWtDLGtCQUFrQixrQ0FBa0MsaUJBQWlCLG9DQUFvQyxrQkFBa0Isa0NBQWtDLGtCQUFrQixrQ0FBa0MsdUJBQXVCLGtDQUFrQywyQkFBMkIsOEdBQThHLHVCQUF1QixrQ0FBa0MsR0FBRyxlQUFlLGdCQUFnQixlQUFlLGdCQUFnQixlQUFlLGdCQUFnQixlQUFlLG9CQUFvQixlQUFlLGtCQUFrQixlQUFlLGdCQUFnQixlQUFlLGtCQUFrQiwrQ0FBK0MscUNBQXFDLGNBQWMsVUFBVSxjQUFjLGVBQWUsZUFBZSwyQkFBMkIsd0VBQXdFLGlCQUFpQiwrQkFBK0IsOEJBQThCLEVBQUUsaUJBQWlCLCtCQUErQiw4QkFBOEIsRUFBRSxtQkFBbUIsS0FBSyxrQkFBa0IsNkRBQTZELG9CQUFvQixNQUFNLGdDQUFnQyxZQUFZLDBCQUEwQixXQUFXLFNBQVMsY0FBYyw4TUFBOE0saUJBQWlCLElBQUksd0RBQXdELFNBQVMsNEJBQTRCLFNBQVMsZUFBZSwwQ0FBMEMsaUNBQWlDLGVBQWUsdUNBQXVDLFNBQVMsZUFBZSxvQkFBb0IsdUNBQXVDLG1CQUFtQixpQkFBaUIsa0JBQWtCLCtDQUErQyxvQ0FBb0MsU0FBUyxlQUFlLFdBQVcsZUFBZSxxQkFBcUIsY0FBYyx1QkFBdUIsY0FBYyw4Q0FBOEMsbUJBQW1CLFlBQVksV0FBVyxZQUFZLGdDQUFnQyxhQUFhLE9BQU8sb0JBQW9CLGdFQUFnRSxZQUFZLGtFQUFrRSx5QkFBeUIsd0RBQXdELGdDQUFnQyxlQUFlLFVBQVUsZUFBZSxTQUFTLGVBQWUsV0FBVyxlQUFlLFdBQVcsbUJBQW1CLGFBQWEsZUFBZSwwQkFBMEIsZUFBZSw0QkFBNEIsbUJBQW1CLFNBQVMsZUFBZSxtQ0FBbUMsS0FBSyxJQUFJLDZCQUE2QixTQUFTLGVBQWUsc0JBQXNCLGlCQUFpQixjQUFjLGlCQUFpQixzREFBc0QsaUJBQWlCLG1DQUFtQyx3QkFBd0IsU0FBUyxlQUFlLDRCQUE0QixpQkFBaUIsK0VBQStFLDRCQUE0QixHQUFHLGVBQWUsa0JBQWtCLGVBQWUsZUFBZSxpQkFBaUIsdUJBQXVCLGVBQWUsa0NBQWtDLHVDQUF1QyxPQUFPLG1CQUFtQixFQUFFLEdBQUcsaUJBQWlCLHVCQUF1QixpQkFBaUIsbUJBQW1CLDREQUE0RCxpQkFBaUIsOEJBQThCLGlCQUFpQixrQ0FBa0Msd0JBQXdCLGVBQWUsY0FBYyx3RkFBd0YsdUVBQXVFLHlDQUF5QyxRQUFRLDBCQUEwQixRQUFRLG9FQUFvRSxZQUFZLElBQUksS0FBSyxlQUFlLGdCQUFnQixtQkFBbUIsTUFBTSwrQkFBK0IsSUFBSSxNQUFNLDJCQUEyQixpQkFBaUIsb0NBQW9DLG9FQUFvRSw0QkFBNEIsWUFBWSxJQUFJLEtBQUssV0FBVywyREFBMkQsdUJBQXVCLGVBQWUsNEJBQTRCLGVBQWUsd0NBQXdDLGVBQWUsaUJBQWlCLDZEQUE2RCxxQkFBcUIsaUJBQWlCLGlDQUFpQyxNQUFNLG9CQUFvQiw0QkFBNEIsbUJBQW1CLGtDQUFrQyxjQUFjLDhIQUE4SCxnQ0FBZ0MsdUJBQXVCLGVBQWUsOEJBQThCLFdBQVcsRUFBRSxlQUFlLDhCQUE4QixhQUFhLGFBQWEsZUFBZSxpQkFBaUIsOEJBQThCLGVBQWUsbUJBQW1CLG9DQUFvQyxpQkFBaUIsOEJBQThCLGVBQWUsaUJBQWlCLHVDQUF1QyxlQUFlLG1CQUFtQiw2Q0FBNkMsaUJBQWlCLGlCQUFpQixvQkFBb0IsYUFBYSx1Q0FBdUMsU0FBUyxpQkFBaUIsZUFBZSxpQkFBaUIsZUFBZSxpQkFBaUIsdUJBQXVCLGlCQUFpQixnQkFBZ0IsaUJBQWlCLG9CQUFvQixvQkFBb0IsOEJBQThCLE9BQU8sVUFBVSxlQUFlLHNDQUFzQyx3RUFBd0UsbUJBQW1CLG9CQUFvQiw0QkFBNEIsd0RBQXdELG1CQUFtQiw0REFBNEQsZUFBZSxPQUFPLDZCQUE2QixpQkFBaUIsNERBQTRELDRDQUE0QyxtQkFBbUIsZUFBZSwyQkFBMkIsZUFBZSx1REFBdUQsaUJBQWlCLG1CQUFtQixtREFBbUQsZUFBZSw0RUFBNEUsaUJBQWlCLDJDQUEyQyxpQkFBaUIsaUJBQWlCLGlCQUFpQixvQ0FBb0MsSUFBSSx3QkFBd0IsaUJBQWlCLHNDQUFzQyxJQUFJLGVBQWUsaUJBQWlCLHVDQUF1QyxJQUFJLHVCQUF1QixpQkFBaUIsdUNBQXVDLElBQUksa0NBQWtDLElBQUksdUJBQXVCLGlCQUFpQix1Q0FBdUMsSUFBSSxxQ0FBcUMsSUFBSSx1QkFBdUIsaUJBQWlCLDRCQUE0QixpQkFBaUIsMENBQTBDLElBQUksdUJBQXVCLGVBQWUsZ0JBQWdCLGVBQWUsZ0JBQWdCLGNBQWMsY0FBYyx1RUFBdUUsK0RBQStELGdDQUFnQyw2QkFBNkIsOEZBQThGLHNCQUFzQix3Q0FBd0MsZ0VBQWdFLHNCQUFzQix3Q0FBd0MsZ0VBQWdFLEdBQUcsaUJBQWlCLCtCQUErQixzQkFBc0IsZUFBZSxZQUFZLE1BQU0sRUFBRSxzQkFBc0IsK0JBQStCLHFCQUFxQixrQkFBa0IsZ0dBQWdHLG1CQUFtQixzREFBc0QscUJBQXFCLHNIQUFzSCxvQkFBb0IsaUJBQWlCLE9BQU8seUJBQXlCLE9BQU8sdUJBQXVCLHFCQUFxQixtREFBbUQsa0JBQWtCLElBQUksbURBQW1ELDhKQUE4Siw4QkFBOEIsT0FBTyx5Q0FBeUMsc0JBQXNCLDRCQUE0Qix1QkFBdUIsZ0JBQWdCLFNBQVMscUNBQXFDLGVBQWUsaUJBQWlCLGdDQUFnQyxtQkFBbUIsV0FBVyxrQkFBa0IsV0FBVyx3QkFBd0IsdURBQXVELHlCQUF5Qiw0REFBNEQsSUFBSSxxQkFBcUIsT0FBTyxRQUFRLFFBQVEsS0FBSyxlQUFlLDJDQUEyQyx3RkFBd0YseUJBQXlCLHNCQUFzQiw4Q0FBOEMsc0JBQXNCLGlDQUFpQyw4RUFBOEUsK0NBQStDLHNCQUFzQiwrQ0FBK0MsU0FBUyx1QkFBdUIsb0NBQW9DLDRCQUE0Qiw2QkFBNkIsWUFBWSxnQ0FBZ0MsNkVBQTZFLE9BQU8sdUJBQXVCLHFEQUFxRCxLQUFLLDRDQUE0QyxjQUFjLHlCQUF5QiwwQkFBMEIsVUFBVSx1QkFBdUIsS0FBSyx3QkFBd0Isd0JBQXdCLDJCQUEyQixJQUFJLCtCQUErQix5QkFBeUIsZ0NBQWdDLElBQUksS0FBSyxXQUFXLDhEQUE4RCxNQUFNLGdCQUFnQixpQkFBaUIsZ0NBQWdDLGFBQWEsS0FBSyxjQUFjLGtCQUFrQix5QkFBeUIsdUJBQXVCLGdDQUFnQyxJQUFJLDZCQUE2QixZQUFZLGdCQUFnQixnQkFBZ0IsT0FBTyx3QkFBd0IsdUJBQXVCLHdCQUF3QixxQ0FBcUMsK0NBQStDLE1BQU0sRUFBRSx1QkFBdUIsdVVBQXVVLCthQUErYSxXQUFXLHlCQUF5QixjQUFjLHVCQUF1QixjQUFjLE9BQU8sNkJBQTZCLHlCQUF5QixrQkFBa0Isb0NBQW9DLHFHQUFxRyxlQUFlLE9BQU8sZUFBZSxjQUFjLGdGQUFnRixxQkFBcUIsa0NBQWtDLFdBQVcsaUJBQWlCLG9CQUFvQixVQUFVLG9CQUFvQiwrQkFBK0Isc0NBQXNDLFNBQVMsbUJBQW1CLHlDQUF5QyxtQkFBbUIsZUFBZSxtQ0FBbUMsMkJBQTJCLG1CQUFtQixnREFBZ0QsNEJBQTRCLG1CQUFtQixlQUFlLG1DQUFtQyw0REFBNEQsbUJBQW1CLGlDQUFpQyxtQkFBbUIsaUNBQWlDLG1CQUFtQixpQ0FBaUMsbUJBQW1CLGVBQWUsa0NBQWtDLHVDQUF1QyxtQkFBbUIsZUFBZSxrQ0FBa0MsNkNBQTZDLGNBQWMsMkNBQTJDLG1CQUFtQixlQUFlLGtDQUFrQyx3Q0FBd0MsbUJBQW1CLGVBQWUsa0NBQWtDLHVDQUF1QyxtQkFBbUIsZUFBZSxrQ0FBa0MsdUNBQXVDLG1CQUFtQixlQUFlLGtDQUFrQyx1Q0FBdUMsbUJBQW1CLGVBQWUsa0NBQWtDLHVDQUF1QyxtQkFBbUIsZUFBZSxrQ0FBa0MsdUNBQXVDLG1CQUFtQixnREFBZ0QsNEJBQTRCLGVBQWUsZ0ZBQWdGLHFCQUFxQixlQUFlLHVCQUF1QixtQkFBbUIsY0FBYyxvQkFBb0IsbUJBQW1CLGNBQWMsK0JBQStCLGdCQUFnQiwyQkFBMkIsa0JBQWtCLGdCQUFnQixxREFBcUQsMkNBQTJDLFNBQVMsa0JBQWtCO0FBQ2hnZ0MsTUFBTSxhQUFhLHNCQUFzQixRQUFRLFNBQVMsa0RBQWtELGtCQUFrQix1RUFBdUUsZUFBZSxxQkFBcUIsSUFBSSxNQUFNLGFBQWEsc0JBQXNCLFFBQVEsVUFBVSxtQkFBbUIsY0FBYyxZQUFZLDRCQUE0Qix1QkFBdUIsc0JBQXNCLDJEQUEyRCxvQkFBb0IscUJBQXFCLDhDQUE4Qyx1QkFBdUIscUJBQXFCLHlCQUF5Qix3Q0FBd0MsbUNBQW1DLGdDQUFnQyxzRUFBc0UsbUNBQW1DLHlCQUF5QixTQUFTLG1CQUFtQix3QkFBd0IsMkRBQTJELGVBQWUsMkJBQTJCLHVCQUF1QixlQUFlLG1CQUFtQixlQUFlLG1CQUFtQix3QkFBd0Isd0JBQXdCLGdCQUFnQixlQUFlLHNCQUFzQiwwQkFBMEIsZUFBZSx3Q0FBd0MscUJBQXFCLGVBQWUsZ0NBQWdDLDZCQUE2QixlQUFlLDJDQUEyQyxxQkFBcUIsK0JBQStCLGtCQUFrQixFQUFFLElBQUksZ0VBQWdFLFNBQVMsb0RBQW9ELDhCQUE4Qix1QkFBdUIsSUFBSSxpQkFBaUIsUUFBUSxJQUFJLG1EQUFtRCxTQUFTLElBQUksaUNBQWlDLGNBQWMsZUFBZSwwQkFBMEIsbUJBQW1CLFlBQVksNkJBQTZCLFNBQVMsTUFBTSxnQkFBZ0IsbUJBQW1CLGlCQUFpQixpQkFBaUIsbUJBQW1CLG1CQUFtQixvQkFBb0IsdUNBQXVDLGlCQUFpQixTQUFTLGdDQUFnQyxVQUFVLElBQUksbUJBQW1CLFNBQVMsa0NBQWtDLFVBQVUsSUFBSSxvQkFBb0IsU0FBUyxrQ0FBa0MsUUFBUSxjQUFjLEVBQUUsSUFBSSxxQkFBcUIsNEVBQTRFLEVBQUUsNkJBQTZCLHFDQUFxQyw2QkFBNkIsMENBQTBDLFNBQVMsNEJBQTRCLCtCQUErQiw2QkFBNkIsK0JBQStCLHVCQUF1Qiw4QkFBOEIsOERBQThELHVEQUF1RCxxQkFBcUIseUJBQXlCLDhHQUE4RyxzQkFBc0Isd0JBQXdCLHlCQUF5QixnREFBZ0QsdUNBQXVDLEtBQUssNERBQTRELG1EQUFtRCxTQUFTLHNCQUFzQix3QkFBd0IseUJBQXlCLGdEQUFnRCx1Q0FBdUMsS0FBSyw0REFBNEQsbURBQW1ELFNBQVMseUJBQXlCLDBCQUEwQix5QkFBeUIsb0RBQW9ELG9EQUFvRCxLQUFLLDhEQUE4RCxnRUFBZ0UsWUFBWSxZQUFZLHFCQUFxQixzRUFBc0UsVUFBVSxxREFBcUQsZUFBZSwyQ0FBMkMsc0JBQXNCLDBCQUEwQiwyREFBMkQsb0RBQW9ELFNBQVMsMkJBQTJCLHNEQUFzRCx3QkFBd0IsMEJBQTBCLDBCQUEwQixtQkFBbUIsa0NBQWtDLGtEQUFrRCxNQUFNLG9DQUFvQyxNQUFNLHNCQUFzQixTQUFTLHlCQUF5QixPQUFPLHVCQUF1QiwyREFBMkQsV0FBVyxhQUFhLDZCQUE2QixTQUFTLHlCQUF5QiwyREFBMkQsV0FBVyxhQUFhLDZCQUE2QixZQUFZLDhCQUE4QixTQUFTLEVBQUUsNkVBQTZFLDRCQUE0Qix1Q0FBdUMsd0NBQXdDLFNBQVMsdUJBQXVCLDRCQUE0Qix1Q0FBdUMseUNBQXlDLFNBQVMsb0JBQW9CLGdCQUFnQixrREFBa0QsZ0RBQWdELDBEQUEwRCw2QkFBNkIsbUJBQW1CLElBQUksZ0JBQWdCLHdCQUF3QixvQkFBb0IsbUJBQW1CLHVCQUF1QixFQUFFLCtCQUErQixzQkFBc0IsSUFBSSxRQUFRLGVBQWUseUJBQXlCLGNBQWMsdUJBQXVCLG1CQUFtQixtQkFBbUIsbUJBQW1CLHdCQUF3Qix5QkFBeUIsMEJBQTBCLGFBQWEsc0JBQXNCLGFBQWEsR0FBRyxxQkFBcUIsU0FBUyx5QkFBeUIsU0FBUyx1QkFBdUIsU0FBUyw0QkFBNEIsU0FBUyx3QkFBd0IsU0FBUyx1QkFBdUIsaUJBQWlCLEVBQUUsU0FBUywwQkFBMEIseUJBQXlCLHlCQUF5QixTQUFTLHNCQUFzQiwwQ0FBMEMsd0JBQXdCLGdDQUFnQywwQkFBMEIsb0VBQW9FLFNBQVMsMEJBQTBCLHdEQUF3RCx3REFBd0QsaUNBQWlDLGVBQWUsdUNBQXVDLHFDQUFxQyxTQUFTLHdCQUF3Qiw0QkFBNEIsa0NBQWtDLEVBQUUsSUFBSSx1QkFBdUIsMERBQTBELHdCQUF3Qix5QkFBeUIsa0tBQWtLLHFCQUFxQixlQUFlLGtEQUFrRCxjQUFjLHlCQUF5QixjQUFjLHFCQUFxQiwrQ0FBK0MsdUJBQXVCLHlDQUF5Qyx3QkFBd0IsRUFBRSx1QkFBdUIsa0NBQWtDLFlBQVksNkJBQTZCLDREQUE0RCxLQUFLLEVBQUUsd0JBQXdCLGNBQWMsb0JBQW9CLGdEQUFnRCxPQUFPLDZMQUE2TCxPQUFPLDZCQUE2Qix5QkFBeUIsMEVBQTBFLG1CQUFtQixJQUFJLHdCQUF3QixvQ0FBb0MsaUNBQWlDLFNBQVMsOEJBQThCLDBCQUEwQixxR0FBcUcsdUJBQXVCLHlGQUF5Riw4REFBOEQsVUFBVSxtQkFBbUIsTUFBTSwwQkFBMEIsTUFBTSwwQkFBMEIsTUFBTSxpQkFBaUIsTUFBTSxtQkFBbUIscURBQXFELG1CQUFtQix3QkFBd0IsUUFBUSwyQkFBMkIsd0JBQXdCLFVBQVUsU0FBUyxNQUFNLHdCQUF3Qix3REFBd0QsS0FBSyxrQkFBa0IsZUFBZSxzQ0FBc0MsYUFBYSxjQUFjLDhFQUE4RSxnQkFBZ0Isd0JBQXdCLGlCQUFpQiwwQkFBMEIsaUJBQWlCLG9CQUFvQixpQkFBaUIsaUVBQWlFLGdGQUFnRiw4QkFBOEIsUUFBUSxxS0FBcUssK0JBQStCLFNBQVMsV0FBVyxnQ0FBZ0MsU0FBUyxrQkFBa0IsU0FBUyxnQkFBZ0IsU0FBUyxnQkFBZ0IsU0FBUyxtQkFBbUIsU0FBUyxvQ0FBb0MsVUFBVSxZQUFZLDZDQUE2QyxnQkFBZ0IsRUFBRSxvQkFBb0IsNEVBQTRFLCtGQUErRiw0Q0FBNEMsZ0NBQWdDLDZDQUE2QyxTQUFTLG9DQUFvQyx3QkFBd0IsY0FBYyxtQ0FBbUMsd0JBQXdCLDBCQUEwQixvQ0FBb0MsZ0NBQWdDLGNBQWMsUUFBUSxZQUFZLHNEQUFzRCxrQkFBa0IsNkJBQTZCLG1DQUFtQyxtQkFBbUIsbUJBQW1CLEtBQUssT0FBTyxjQUFjLDBCQUEwQiw4QkFBOEIsVUFBVSxJQUFJLGFBQWEsS0FBSyx1Q0FBdUMsVUFBVSxJQUFJLGNBQWMsa0NBQWtDLEtBQUssc0NBQXNDLFVBQVUsSUFBSSxhQUFhLHNCQUFzQixnRUFBZ0UsMEZBQTBGLGlEQUFpRCxTQUFTLGFBQWEsUUFBUSxJQUFJLHlCQUF5QixtQkFBbUIsdUNBQXVDLDRJQUE0SSw4RUFBOEUsc0NBQXNDLEVBQUUsc0NBQXNDLG1HQUFtRyxtRUFBbUUsbURBQW1ELGtFQUFrRSxpSEFBaUgsd0NBQXdDLEVBQUUsd0NBQXdDLDZFQUE2RSxXQUFXLGlDQUFpQyxtQkFBbUIsaUNBQWlDLHdCQUF3Qiw4Q0FBOEMsbUJBQW1CLDZFQUE2RSxpQ0FBaUMsd0JBQXdCLDhDQUE4QyxpREFBaUQseUNBQXlDLG1DQUFtQyxvRUFBb0UsUUFBUSxJQUFJLHNDQUFzQyxLQUFLLElBQUksY0FBYyxLQUFLLElBQUksY0FBYyxtQkFBbUIsUUFBUSxJQUFJLGlCQUFpQixVQUFVLG9DQUFvQyxRQUFRLEtBQUssR0FBRyxrREFBa0QsK0JBQStCLG1CQUFtQix3QkFBd0IsV0FBVyxvREFBb0QscURBQXFELG9EQUFvRCxlQUFlLGdGQUFnRixlQUFlLDBIQUEwSCxlQUFlLDREQUE0RCx5QkFBeUIsMkZBQTJGLG1DQUFtQyxvQ0FBb0Msb0NBQW9DLHFLQUFxSyxpQ0FBaUMsOEdBQThHLDZCQUE2QixnQ0FBZ0Msa0NBQWtDLDRDQUE0QyxlQUFlLDgyRkFBODJGLEVBQUUseUJBQXlCLHNCQUFzQix5QkFBeUIsd0ZBQXdGLG1DQUFtQyxzRUFBc0UsaUNBQWlDLHNFQUFzRSw2QkFBNkIsZ0NBQWdDLGtDQUFrQyw4QkFBOEIscUJBQXFCLDBCQUEwQixrQkFBa0IsNkJBQTZCLGdLQUFnSyxxQkFBcUIsNkNBQTZDLDRCQUE0QixrQkFBa0Isc0NBQXNDLDRCQUE0QixVQUFVLHdCQUF3QixVQUFVLGlEQUFpRCxpQkFBaUIsZ0NBQWdDLDJCQUEyQixNQUFNLEVBQUUsaURBQWlELHdCQUF3QixNQUFNLHFHQUFxRyxhQUFhLDBCQUEwQixhQUFhLGdDQUFnQywyQkFBMkIsTUFBTSxtQ0FBbUMsTUFBTSw4REFBOEQsYUFBYSx1QkFBdUIsYUFBYSx3QkFBd0IsYUFBYSx3Q0FBd0MsYUFBYSx1QkFBdUIsYUFBYSx1Q0FBdUMsYUFBYSw4QkFBOEIsdURBQXVELGFBQWEsOEJBQThCLHVGQUF1RixtQkFBbUIsdUJBQXVCLGtCQUFrQixtRUFBbUUsbUZBQW1GLDBCQUEwQixzQ0FBc0MsdUJBQXVCLGlDQUFpQyxZQUFZLDRDQUE0QyxTQUFTLDBCQUEwQixhQUFhLDZCQUE2QixhQUFhLDhCQUE4QixhQUFhLDhCQUE4QixtRUFBbUUsaUtBQWlLLDJCQUEyQixhQUFhLGVBQWUsYUFBYSxVQUFVLGFBQWEsOEJBQThCLGlDQUFpQyx1RkFBdUYscUJBQXFCLDRGQUE0Riw4QkFBOEIsOEJBQThCLG9CQUFvQixvQkFBb0IsWUFBWSxtQkFBbUIsRUFBRSxxQkFBcUIsMEZBQTBGLDhCQUE4Qiw0QkFBNEIsb0JBQW9CLGtCQUFrQixZQUFZLGlCQUFpQixFQUFFLHVCQUF1QixhQUFhLHVFQUF1RSxhQUFhLG1FQUFtRSxtREFBbUQseUJBQXlCLGFBQWEsbUZBQW1GLGFBQWEsK0VBQStFLG1EQUFtRCxzQkFBc0IsNEJBQTRCLHNCQUFzQix1QkFBdUIsRUFBRSx1QkFBdUIsZ0JBQWdCLCtFQUErRSxNQUFNLDhCQUE4QixTQUFTLE1BQU0sc0VBQXNFLFNBQVMsTUFBTSxxSEFBcUgsU0FBUyxNQUFNLDBCQUEwQixLQUFLLFNBQVMsTUFBTSxrRkFBa0YsS0FBSyxJQUFJLGlDQUFpQyxLQUFLLElBQUksNkJBQTZCLDZGQUE2RiwyQkFBMkIsc0JBQXNCLGtDQUFrQyxzQ0FBc0MsU0FBUywrQkFBK0IsbUZBQW1GLGdDQUFnQywwQkFBMEIsU0FBUyxtQkFBbUIsU0FBUyxHQUFHLDZCQUE2QixnRkFBZ0YsdUJBQXVCLGVBQWUsZ0NBQWdDLDBCQUEwQixJQUFJLEtBQUssaURBQWlELHVCQUF1QixJQUFJLGdEQUFnRCxhQUFhLHFCQUFxQiwyQkFBMkIsTUFBTSx5Q0FBeUMsT0FBTyxvRUFBb0UsWUFBWSxxQkFBcUIsMkJBQTJCLDJCQUEyQixNQUFNLGlCQUFpQixvQkFBb0IsdUJBQXVCLDJCQUEyQixnQ0FBZ0Msb0dBQW9HLGNBQWMsZUFBZSxXQUFXLElBQUksdUJBQXVCLFFBQVEsWUFBWSxrQkFBa0IsOEZBQThGLEVBQUUscUJBQXFCLCtCQUErQix5QkFBeUIsRUFBRSxxQkFBcUIsd0RBQXdELHFCQUFxQixtQkFBbUIscUJBQXFCLDBCQUEwQixJQUFJLHFDQUFxQyxJQUFJLEtBQUssV0FBVyxjQUFjLFlBQVksMEJBQTBCLGFBQWEsMkJBQTJCLE1BQU0sRUFBRSxhQUFhLGtDQUFrQyxNQUFNLGtCQUFrQiw0QkFBNEIsT0FBTyxrQ0FBa0Msd0JBQXdCLDBDQUEwQyxpREFBaUQsMEJBQTBCLHNEQUFzRCxVQUFVLHNKQUFzSixtQkFBbUIsMkJBQTJCLE1BQU0sRUFBRSw0REFBNEQsd0JBQXdCLE1BQU0sZ0dBQWdHLGNBQWMsU0FBUywwRUFBMEUsMENBQTBDLDREQUE0RCxrREFBa0QsZUFBZSxnQ0FBZ0MsMkJBQTJCLE1BQU0sRUFBRSxhQUFhLGtDQUFrQyxNQUFNLDJHQUEyRyx5Q0FBeUMsZ0JBQWdCLGlEQUFpRCwwQkFBMEIsZUFBZSxnQ0FBZ0MsMkJBQTJCLE1BQU0sbUNBQW1DLE1BQU0sWUFBWSxnREFBZ0Qsd0JBQXdCLE1BQU0sU0FBUyw0Q0FBNEMsRUFBRSxpREFBaUQsdUJBQXVCLGlDQUFpQyw0QkFBNEIsZ0JBQWdCLDRDQUE0Qyw0REFBNEQsMkJBQTJCLGdCQUFnQiw0REFBNEQsNEVBQTRFLDJDQUEyQyx1QkFBdUIseUNBQXlDLDBCQUEwQiwrREFBK0QsK0JBQStCLHNFQUFzRSw4RUFBOEUsaUVBQWlFLGtDQUFrQyxFQUFFLHFCQUFxQix1Q0FBdUMseURBQXlELEVBQUUsc0JBQXNCLDZDQUE2QyxNQUFNLCtEQUErRCxFQUFFLHNCQUFzQixvREFBb0QsMENBQTBDLG1CQUFtQixVQUFVLEdBQUcseUJBQXlCLG9EQUFvRCx5REFBeUQsZ0NBQWdDLGFBQWEsR0FBRywwQkFBMEIsdUJBQXVCLGtCQUFrQix5QkFBeUIsZ0JBQWdCLHVCQUF1QiwwQkFBMEIsNEJBQTRCLGFBQWEsU0FBUyxtQkFBbUIsd0JBQXdCLE1BQU0sYUFBYSxRQUFRLGtDQUFrQyx3Q0FBd0MsMkJBQTJCLHdCQUF3Qiw2REFBNkQsTUFBTSxxTEFBcUwsa0JBQWtCLHlCQUF5Qix3REFBd0QseUJBQXlCLGdDQUFnQyw4QkFBOEIsd0NBQXdDLDRCQUE0QixLQUFLLGtDQUFrQyx1R0FBdUcsbUJBQW1CLHFCQUFxQixrQkFBa0IsK0NBQStDLHlCQUF5QixrRUFBa0UsY0FBYyxtQ0FBbUMsS0FBSyxZQUFZLDRCQUE0Qix5Q0FBeUMseUJBQXlCLGlDQUFpQyx3QkFBd0IsbUJBQW1CLHNCQUFzQixvQkFBb0IsdUJBQXVCLHlCQUF5QiwrQkFBK0IsMEJBQTBCLG1DQUFtQyw2QkFBNkIsY0FBYyxlQUFlLEVBQUUsZ0NBQWdDLG9DQUFvQyxnQ0FBZ0Msb0NBQW9DLGlDQUFpQyxvQ0FBb0MsaUNBQWlDLHFDQUFxQyxvdEJBQW90Qiw2QkFBNkIsaUJBQWlCLDhCQUE4QixxQkFBcUIsOEJBQThCLGlCQUFpQixVQUFVLHVCQUF1QixhQUFhLHlOQUF5TixvWUFBb1ksd0JBQXdCLGlDQUFpQyxxQ0FBcUMsMkJBQTJCLHFDQUFxQywwQkFBMEIscUNBQXFDLHdCQUF3QixxQ0FBcUMsdUJBQXVCLG1IQUFtSCxvQ0FBb0MsSUFBSSxvQ0FBb0MsdUJBQXVCLGNBQWMsMkJBQTJCLGdLQUFnSyx1REFBdUQsOEJBQThCLGFBQWEsd0RBQXdELG9EQUFvRCxrQkFBa0IsK0JBQStCLGFBQWEsZ0xBQWdMLHlCQUF5QixnQkFBZ0Isb0NBQW9DLHVJQUF1SSxvQkFBb0IsMEVBQTBFLE9BQU8saUZBQWlGLGdCQUFnQiw4QkFBOEIsa0JBQWtCLDhDQUE4QyxvQkFBb0IsaUJBQWlCLDZCQUE2Qiw0QkFBNEIscUNBQXFDLHNCQUFzQixxQ0FBcUMsc0JBQXNCLHFDQUFxQywwQkFBMEIscUNBQXFDLHdCQUF3QixxQ0FBcUMsR0FBRyw0QkFBNEIsZ0JBQWdCLDhEQUE4RCxVQUFVLEVBQUUsVUFBVSxJQUFJLHNEQUFzRCxtQkFBbUIsNEJBQTRCLHFDQUFxQyxzQkFBc0IscUNBQXFDLDBCQUEwQixrQ0FBa0MsR0FBRztBQUN2Ly9CLG1CQUFtQiw0Q0FBNEMsZ0NBQWdDLHFDQUFxQyxHQUFHLDBFQUEwRSxnQkFBZ0IsdURBQXVELGNBQWMsMEJBQTBCLHFDQUFxQyxvQkFBb0IscUNBQXFDLElBQUksZUFBZSw0QkFBNEIsdUJBQXVCLGdIQUFnSCxxQkFBcUIsaUNBQWlDLG9EQUFvRCxvQkFBb0IscUJBQXFCLGtFQUFrRSw2QkFBNkIsK0JBQStCLGdEQUFnRCwyQkFBMkIsK0JBQStCLCtDQUErQyxFQUFFLDZCQUE2QixnREFBZ0QsdUJBQXVCLGNBQWMsa0JBQWtCLHlxQkFBeXFCLHdFQUF3RSwyR0FBMkcsVUFBVSwwUUFBMFEsTUFBTSxtUkFBbVIsTUFBTSxtUkFBbVIsTUFBTSx3UUFBd1EsbUZBQW1GLEtBQUssb0NBQW9DLGVBQWUseUJBQXlCLEVBQUUsdUVBQXVFLDJCQUEyQixrQ0FBa0Msc0JBQXNCLGtDQUFrQyxvQkFBb0IsMENBQTBDLDBCQUEwQixrQ0FBa0MsMEJBQTBCLGtDQUFrQyw0QkFBNEIsOEJBQThCLHlCQUF5QiwrQ0FBK0MsMkJBQTJCLG1DQUFtQyw2QkFBNkIsbUNBQW1DLEdBQUcseUJBQXlCLGNBQWMsa0JBQWtCLDBJQUEwSSxvVEFBb1Qsa0JBQWtCLDZCQUE2QixhQUFhLHNDQUFzQyw4QkFBOEIsdUJBQXVCLDhCQUE4Qix1UEFBdVAsRUFBRSxjQUFjLG9EQUFvRCxtRUFBbUUsRUFBRSxjQUFjLDJHQUEyRyxjQUFjLDRHQUE0RyxhQUFhLGFBQWEsOEJBQThCLHdDQUF3QyxhQUFhLHdFQUF3RSxhQUFhLGtFQUFrRSxhQUFhLGVBQWUsd05BQXdOLG9DQUFvQyxHQUFHLGtCQUFrQix1REFBdUQseUhBQXlILGlFQUFpRSxhQUFhLHFTQUFxUyxnQkFBZ0IsTUFBTSxrVUFBa1UseUNBQXlDLFdBQVcsb0NBQW9DLDREQUE0RCxvQ0FBb0MsbUlBQW1JLGtCQUFrQixVQUFVLG1GQUFtRix1QkFBdUIsaURBQWlELGlCQUFpQixpREFBaUQsc0JBQXNCLGNBQWMsaWpCQUFpakIsb0JBQW9CLGtEQUFrRCxvQkFBb0Isa0RBQWtELHNCQUFzQixRQUFRLDRIQUE0SCxtRUFBbUUsY0FBYyw2QkFBNkIsYUFBYSxvREFBb0QsYUFBYSxhQUFhLDZDQUE2Qyx3Q0FBd0MsYUFBYSw0QkFBNEIsa0NBQWtDLGtCQUFrQiw4Q0FBOEMsRUFBRSxhQUFhLEdBQUcsZUFBZSwrSkFBK0osYUFBYSw0QkFBNEIsZ0xBQWdMLGdFQUFnRSxpQkFBaUIsRUFBRSwrQ0FBK0MsNEJBQTRCLGtDQUFrQyxxQkFBcUIsNkJBQTZCLGFBQWEsa01BQWtNLGNBQWMsb0NBQW9DLGNBQWMsZ0NBQWdDLGNBQWMsa0NBQWtDLGdCQUFnQix1Q0FBdUMsY0FBYyxzQ0FBc0MsaUJBQWlCLHVEQUF1RCxpQkFBaUIsOENBQThDLGdDQUFnQyxFQUFFLGFBQWEsYUFBYSwwQkFBMEIsYUFBYSwyR0FBMkcsYUFBYSw0QkFBNEIsc0lBQXNJLG1CQUFtQixhQUFhLGdHQUFnRyxhQUFhLE9BQU8sYUFBYSw0QkFBNEIsNERBQTRELGFBQWEsb0NBQW9DLFFBQVEsdUJBQXVCLHFCQUFxQixNQUFNLDBCQUEwQixxQkFBcUIsc0NBQXNDLElBQUksYUFBYSxnREFBZ0QsV0FBVyx3QkFBd0Isb0ZBQW9GLCtCQUErQixpREFBaUQsK0JBQStCLDhDQUE4QyxxQkFBcUIsbUNBQW1DLDJCQUEyQix5REFBeUQsaUJBQWlCLDZDQUE2QyxpQkFBaUIsNkNBQTZDLHNCQUFzQix1QkFBdUIsWUFBWSw2QkFBNkIsbUJBQW1CLHlCQUF5Qiw2QkFBNkIsVUFBVSw0QkFBNEIsYUFBYSxRQUFRLG1DQUFtQyxtQkFBbUIsYUFBYSxTQUFTLHVCQUF1QixtQ0FBbUMsd0JBQXdCLG9CQUFvQiw2QkFBNkIscUJBQXFCLDBCQUEwQixFQUFFLCtCQUErQixhQUFhLFNBQVMsYUFBYSw0Q0FBNEMsWUFBWSxvREFBb0QsTUFBTSw4Q0FBOEMsTUFBTSxLQUFLLGFBQWEsTUFBTSxhQUFhLDhCQUE4Qiw0Q0FBNEMsa0JBQWtCLEVBQUUsa0JBQWtCLEdBQUcsT0FBTyxhQUFhLHFCQUFxQiw4RUFBOEUsRUFBRSxRQUFRLG1CQUFtQiw0QkFBNEIseURBQXlELHVCQUF1QiwyQ0FBMkMsMEJBQTBCLDJDQUEyQyw2QkFBNkIseUNBQXlDLDBCQUEwQix5Q0FBeUMscUJBQXFCLGdCQUFnQixxQkFBcUIsZ0JBQWdCLEdBQUcsNEJBQTRCLGNBQWMsMkJBQTJCLGdCQUFnQixpREFBaUQsY0FBYyxtQkFBbUIsOEJBQThCLHlCQUF5Qix3QkFBd0IscUJBQXFCLGlCQUFpQixjQUFjLGNBQWMsUUFBUSxrR0FBa0cseUJBQXlCLCtCQUErQixxQkFBcUIsS0FBSyw0Q0FBNEMsUUFBUSxJQUFJLEtBQUssaURBQWlELG1JQUFtSSxVQUFVLHVCQUF1QixzREFBc0QsTUFBTSxtQ0FBbUMsMENBQTBDLEtBQUssbUdBQW1HLFFBQVEsb0JBQW9CLEVBQUUscUJBQXFCLGtDQUFrQyxxQkFBcUIsa0NBQWtDLG9CQUFvQixrQ0FBa0MsNEJBQTRCLHFDQUFxQyxzREFBc0QscUNBQXFDLHdCQUF3QixrQ0FBa0Msc0JBQXNCLDBEQUEwRCx1QkFBdUIsa0NBQWtDLHFCQUFxQixrQ0FBa0MscUJBQXFCLHNEQUFzRCx1QkFBdUIseUJBQXlCLG9CQUFvQixnQkFBZ0IsNkJBQTZCLDBDQUEwQyx1QkFBdUIsYUFBYSxPQUFPLEtBQUssUUFBUSxJQUFJLFlBQVksUUFBUSxJQUFJLEtBQUssV0FBVyxtRUFBbUUsWUFBWSxnREFBZ0QsUUFBUSxJQUFJLGdDQUFnQyxVQUFVLFFBQVEsSUFBSSwrTEFBK0wsUUFBUSxJQUFJLGlIQUFpSCxLQUFLLGdDQUFnQyxJQUFJLDhCQUE4QixhQUFhLElBQUksV0FBVyxrQkFBa0IscUJBQXFCLG1CQUFtQixtQkFBbUIsa0JBQWtCLG1CQUFtQixtSkFBbUosc0JBQXNCLFVBQVUsK0JBQStCLG9CQUFvQixpQkFBaUIsa0NBQWtDLG9CQUFvQixlQUFlLHNCQUFzQiw0Q0FBNEMsY0FBYyxxQkFBcUIsb0JBQW9CLFdBQVcsa0NBQWtDLFdBQVcsZ0JBQWdCLHVCQUF1QixxQ0FBcUMsb0NBQW9DLDBCQUEwQixrQ0FBa0MsU0FBUywwQkFBMEIsZ0JBQWdCLDBCQUEwQixxQkFBcUIsNElBQTRJLHFDQUFxQyxpQkFBaUIsZUFBZSxvQkFBb0IsRUFBRSxTQUFTLDZCQUE2QixNQUFNLE1BQU0scURBQXFELElBQUksa0NBQWtDLDJCQUEyQixrQ0FBa0Msb0JBQW9CLGtDQUFrQywwQkFBMEIsa0NBQWtDLHdCQUF3QixrQ0FBa0MsSUFBSSxVQUFVLDJCQUEyQixnQkFBZ0IsMEJBQTBCLHFCQUFxQix3QkFBd0IsMkJBQTJCLG9DQUFvQyxFQUFFLGtCQUFrQixvQ0FBb0MsbURBQW1ELFFBQVEsSUFBSSxLQUFLLG9DQUFvQyxRQUFRLElBQUksaURBQWlELFNBQVMsaUNBQWlDLDRCQUE0QixrQ0FBa0MscUJBQXFCLHFFQUFxRSxzQkFBc0IscUVBQXFFLGlCQUFpQixrQ0FBa0MsaUJBQWlCLGtDQUFrQyxtQkFBbUIsa0NBQWtDLElBQUksZUFBZSx5QkFBeUIsNEVBQTRFLGlCQUFpQixvQkFBb0IsUUFBUSxJQUFJLHVEQUF1RCw2QkFBNkIscUJBQXFCLG9DQUFvQyxjQUFjLGFBQWEsdUJBQXVCLGlEQUFpRCxRQUFRLElBQUksS0FBSyxZQUFZLElBQUksa0JBQWtCLHFCQUFxQixRQUFRLElBQUksb0JBQW9CLFNBQVMsb0JBQW9CLDREQUE0RCxXQUFXLFFBQVEsSUFBSSxLQUFLLFlBQVksSUFBSSxrQkFBa0IsZ0NBQWdDLElBQUksS0FBSywwQ0FBMEMsSUFBSSxtQ0FBbUMsZ0JBQWdCLDZCQUE2QixRQUFRLElBQUksWUFBWSxTQUFTLG9CQUFvQiw4Q0FBOEMsUUFBUSxJQUFJLEtBQUssWUFBWSxJQUFJLGtCQUFrQixhQUFhLElBQUksa0JBQWtCLGFBQWEsSUFBSSxpQkFBaUIsUUFBUSxJQUFJLFdBQVcsU0FBUyxTQUFTLEVBQUUsK0JBQStCLGdCQUFnQiw0R0FBNEcsbURBQW1ELFFBQVEsS0FBSyxxRkFBcUYsU0FBUyw0QkFBNEIsMkJBQTJCLGtDQUFrQyxxQkFBcUIscUNBQXFDLG9CQUFvQiwwREFBMEQsZUFBZSxXQUFXLHlCQUF5QixvQ0FBb0MsR0FBRyxnQ0FBZ0Msa0JBQWtCLDRCQUE0QixRQUFRLG9CQUFvQixvQkFBb0IsdUNBQXVDLDBEQUEwRCw0QkFBNEIsb0NBQW9DLFNBQVMsZ0JBQWdCLHFCQUFxQixvQkFBb0IsaUJBQWlCLHlCQUF5Qix3Q0FBd0Msd0JBQXdCLGNBQWMsU0FBUyxrQkFBa0IsbUJBQW1CLDBCQUEwQixrQ0FBa0Msd0JBQXdCLGtDQUFrQyxxQkFBcUIsa0NBQWtDLHVCQUF1QixnQkFBZ0IsSUFBSSxVQUFVLDBCQUEwQixnQkFBZ0IsOEJBQThCLGtCQUFrQixnREFBZ0QseUJBQXlCLDZDQUE2QywwQkFBMEIsa0NBQWtDLFNBQVMsOEJBQThCLGdCQUFnQix3Q0FBd0MsaUJBQWlCLGlCQUFpQixnRUFBZ0UsRUFBRSxrREFBa0Qsd0JBQXdCLG9EQUFvRCxJQUFJLGdFQUFnRSxnQ0FBZ0Msa0NBQWtDLG9CQUFvQixrQ0FBa0MsU0FBUywyQkFBMkIsZ0JBQWdCLGdCQUFnQiwyQkFBMkIsb0JBQW9CLDBCQUEwQix5Q0FBeUMsTUFBTSx5Q0FBeUMsK0RBQStELHlDQUF5QyxnQkFBZ0IscUJBQXFCLGlCQUFpQixvQkFBb0IsV0FBVyxlQUFlLHVCQUF1QixrQkFBa0IsTUFBTSxpR0FBaUcsd01BQXdNLGtHQUFrRyxTQUFTLDhCQUE4QixtQkFBbUIsU0FBUyx3RUFBd0UsNEJBQTRCLGdGQUFnRix3QkFBd0IseURBQXlELElBQUksZ0VBQWdFLGdDQUFnQyxrQ0FBa0Msb0JBQW9CLGtDQUFrQyxTQUFTLDhCQUE4QixnQkFBZ0Isd0JBQXdCLGlFQUFpRSxjQUFjLGlCQUFpQixnQkFBZ0IsbUVBQW1FLGdDQUFnQyx1S0FBdUssd0RBQXdELGNBQWMsaUJBQWlCLGdCQUFnQiw4QkFBOEIsZ0NBQWdDLHVHQUF1RyxjQUFjLGdCQUFnQiw4Q0FBOEMsYUFBYSwyQkFBMkIsc0JBQXNCLHdEQUF3RCxvQkFBb0Isb0RBQW9ELFlBQVksb0JBQW9CLG1GQUFtRix1Q0FBdUMsS0FBSyxvQkFBb0IsbUZBQW1GLHdDQUF3QyxjQUFjLHFCQUFxQixzR0FBc0csMEZBQTBGLDBCQUEwQixrQ0FBa0MsdUJBQXVCLGNBQWMsMEJBQTBCLDBEQUEwRCxjQUFjLGVBQWUsOEJBQThCLE1BQU0scUZBQXFGLHFCQUFxQiw0REFBNEQsc0JBQXNCLHlDQUF5QyxxQkFBcUIsa0NBQWtDLFNBQVMsc0JBQXNCLGlDQUFpQyxzQkFBc0IsRUFBRSwwQkFBMEIsTUFBTSx3Q0FBd0MsTUFBTSxRQUFRLGlCQUFpQix5QkFBeUIsU0FBUyxnQkFBZ0IsRUFBRSxnQ0FBZ0MsYUFBYSxrQ0FBa0MsbUJBQW1CLGtCQUFrQix5QkFBeUIsUUFBUSw0Q0FBNEMsZ0NBQWdDLElBQUksZ0JBQWdCLHdCQUF3QixnSEFBZ0gsZ0JBQWdCLGtHQUFrRyxRQUFRLEtBQUssZ0NBQWdDLGNBQWMsbUJBQW1CLFNBQVMsbUNBQW1DLDZCQUE2QixVQUFVLFNBQVMsMkJBQTJCLDRCQUE0QixXQUFXLG1CQUFtQiw0QkFBNEIsY0FBYywyUkFBMlIsMEJBQTBCLGlEQUFpRCw0QkFBNEIseU5BQXlOLDJFQUEyRSxvQkFBb0IscUNBQXFDLHNCQUFzQixrRkFBa0YscUJBQXFCLG1DQUFtQyx5QkFBeUIsOENBQThDLGlCQUFpQiwwQkFBMEIsY0FBYywyREFBMkQsc0RBQXNELGFBQWEsOERBQThELHFGQUFxRix1REFBdUQsNEJBQTRCLGlGQUFpRixtREFBbUQsc0JBQXNCLGdEQUFnRCx5QkFBeUIsZ0RBQWdELHFCQUFxQixtQ0FBbUMseUJBQXlCLDhDQUE4QyxLQUFLLDZCQUE2QixjQUFjLGtCQUFrQixvQ0FBb0Msd0xBQXdMLDJCQUEyQixrSEFBa0gseUJBQXlCLDBDQUEwQyxrQ0FBa0MscUhBQXFILG9CQUFvQix5QkFBeUIsY0FBYyw0QkFBNEIsTUFBTSw4QkFBOEIsa0NBQWtDLDBCQUEwQiwwQkFBMEIsOEJBQThCLDRCQUE0QixvQ0FBb0MsTUFBTSwrQkFBK0IsMENBQTBDLDBCQUEwQixrQkFBa0Isd0JBQXdCLHNEQUFzRCxzQkFBc0IsNERBQTRELHFCQUFxQixtQ0FBbUMseUJBQXlCLDhDQUE4Qyw4QkFBOEIsbUNBQW1DLGNBQWMsMkJBQTJCLDBCQUEwQixzQkFBc0IsNEJBQTRCLG9DQUFvQyxxQkFBcUIscUJBQXFCLG1DQUFtQyx5QkFBeUIsOENBQThDLEdBQUcsNEJBQTRCLGNBQWMsbUVBQW1FLHNEQUFzRCxzQkFBc0IsNEJBQTRCLG9DQUFvQyxxREFBcUQscUJBQXFCLG1DQUFtQyx5QkFBeUIsOENBQThDLEdBQUcsd0JBQXdCLGdCQUFnQiwyREFBMkQsK0JBQStCLGNBQWMsY0FBYyxzQkFBc0IsY0FBYyw2QkFBNkIsdUJBQXVCLFNBQVMsY0FBYyw4R0FBOEcsMEdBQTBHLGdCQUFnQixjQUFjLGtEQUFrRCxrREFBa0QsOEJBQThCLGlDQUFpQyxxQ0FBcUMscUJBQXFCLGNBQWMsbUJBQW1CLCtCQUErQix3QkFBd0Isb0NBQW9DLGtDQUFrQyx3QkFBd0Isb0NBQW9DLFlBQVksZ0NBQWdDLFFBQVEsNkJBQTZCLDBDQUEwQyxhQUFhLG1DQUFtQyxnQ0FBZ0MsU0FBUyxxQkFBcUIsMENBQTBDLGFBQWEsWUFBWSxxQkFBcUIsWUFBWSxnQ0FBZ0Msb0JBQW9CLDBCQUEwQixnREFBZ0QsYUFBYSx1QkFBdUIsYUFBYSxZQUFZLHFCQUFxQixZQUFZLGdDQUFnQyxxQkFBcUIsZ0NBQWdDLG1DQUFtQyw2QkFBNkIsZUFBZSw4QkFBOEIscUNBQXFDLHVCQUF1QixTQUFTLHFCQUFxQixxQkFBcUIscUJBQXFCLHdCQUF3QiwwQkFBMEIsd0NBQXdDLHVCQUF1QixTQUFTLGdDQUFnQyx1Q0FBdUMsdUJBQXVCLFVBQVUscUJBQXFCLG9CQUFvQixxQkFBcUIscUJBQXFCLHVCQUF1Qiw0QkFBNEIsMEJBQTBCLHNEQUFzRCw4Q0FBOEMsaUJBQWlCLEVBQUUsZ0NBQWdDLGFBQWEsMkJBQTJCLGlEQUFpRCxHQUFHLDJCQUEyQixrREFBa0QsMEJBQTBCLDRDQUE0QyxpQkFBaUIsUUFBUSwwSUFBMEkseUJBQXlCLGNBQWMsY0FBYyx1QkFBdUIsY0FBYyxtQ0FBbUMsaUtBQWlLLDZGQUE2RixjQUFjLG1EQUFtRCxhQUFhLHFDQUFxQyxtQkFBbUIsTUFBTSxjQUFjLHFCQUFxQixtRUFBbUUsbUJBQW1CLDJFQUEyRSxVQUFVLDhCQUE4QjtBQUMxKy9CLFdBQVcsOENBQThDLHFCQUFxQixvQkFBb0IsOENBQThDLG1CQUFtQiwyQkFBMkIsd0JBQXdCLDhCQUE4QixrQkFBa0IsMkJBQTJCLHdCQUF3Qix1QkFBdUIsd0RBQXdELDZCQUE2Qiw4Q0FBOEMsZ0JBQWdCLEVBQUUsd0RBQXdELHFCQUFxQiwyQkFBMkIsMkRBQTJELDBCQUEwQixvQ0FBb0MsZ0JBQWdCLHFCQUFxQixtQkFBbUIsRUFBRSx3REFBd0QsZ0NBQWdDLG9DQUFvQyx3REFBd0QsRUFBRSw0QkFBNEIsb0VBQW9FLHFCQUFxQiwwQ0FBMEMsNEJBQTRCLDRCQUE0QixhQUFhLHVEQUF1RCw0QkFBNEIsa0JBQWtCLGlDQUFpQyxnQ0FBZ0MsNkJBQTZCLHdJQUF3SSxzQkFBc0Isc0VBQXNFLHNCQUFzQixzRUFBc0UseUJBQXlCLHdDQUF3QyxHQUFHLDRDQUE0QywrQkFBK0IsMERBQTBELDhMQUE4TCx3QkFBd0IsVUFBVSwwRkFBMEYseUJBQXlCLHVCQUF1Qix1REFBdUQsUUFBUSxJQUFJLGtFQUFrRSxRQUFRLElBQUksS0FBSyxrQkFBa0IsNENBQTRDLDhCQUE4QixFQUFFLHFCQUFxQix1QkFBdUIsZ0NBQWdDLFFBQVEsSUFBSSxvTUFBb00sVUFBVSxZQUFZLElBQUksOENBQThDLFdBQVcsS0FBSyxJQUFJLEtBQUssNEJBQTRCLDBDQUEwQyxrQkFBa0IsU0FBUyxRQUFRLElBQUksb0JBQW9CLFNBQVMsNkJBQTZCLHlCQUF5QiwyREFBMkQsc0RBQXNELGVBQWUsd0JBQXdCLHlDQUF5QyxzQ0FBc0MsK0VBQStFLGdCQUFnQixvQkFBb0IseUNBQXlDLGFBQWEsdURBQXVELDJHQUEyRyxJQUFJLFNBQVMsR0FBRyw2QkFBNkIsdUJBQXVCLFNBQVMsRUFBRSx3QkFBd0IsZ0JBQWdCLHNLQUFzSyxvQkFBb0IsNERBQTRELHNCQUFzQix3QkFBd0IsNkJBQTZCLGtDQUFrQyx1QkFBdUIsdUJBQXVCLHVCQUF1QixxQ0FBcUMsRUFBRSxHQUFHLFFBQVEsYUFBYSw2QkFBNkIsdUJBQXVCLFNBQVMsT0FBTyx3QkFBd0IsOENBQThDLDBCQUEwQix5QkFBeUIsc0JBQXNCLGtDQUFrQyx1QkFBdUIsdUJBQXVCLEVBQUUseUJBQXlCLElBQUksNEJBQTRCLElBQUksc0NBQXNDLHdCQUF3QixpQ0FBaUMsV0FBVyxjQUFjLGdIQUFnSCxvQkFBb0Isd0JBQXdCLHVEQUF1RCw2RUFBNkUsc0JBQXNCLGdDQUFnQyx3REFBd0QsS0FBSywyQkFBMkIsK0VBQStFLGdCQUFnQixnQkFBZ0IsV0FBVyx5QkFBeUIsZUFBZSxxQkFBcUIsZ0JBQWdCLG9CQUFvQixZQUFZLFlBQVksY0FBYyxtQkFBbUIsMkJBQTJCLG1CQUFtQiwwQkFBMEIsd0JBQXdCLCtCQUErQixxQkFBcUIsNEJBQTRCLDRCQUE0QixtQ0FBbUMsdUJBQXVCLDhCQUE4QixxQkFBcUIsNEJBQTRCLHVCQUF1Qiw4QkFBOEIsb0JBQW9CLHdCQUF3Qiw4QkFBOEIsU0FBUyxvQkFBb0Isd0JBQXdCLG9CQUFvQixzQ0FBc0MsbUJBQW1CLHFDQUFxQyx3QkFBd0IsMENBQTBDLHFCQUFxQix1Q0FBdUMsNEJBQTRCLDhDQUE4Qyx1QkFBdUIseUNBQXlDLHFCQUFxQix1Q0FBdUMsdUJBQXVCLHlDQUF5QyxvQkFBb0IscUNBQXFDLHNCQUFzQiwyQkFBMkIsY0FBYyxzQkFBc0IsaUdBQWlHLDJDQUEyQyxlQUFlLDJCQUEyQixPQUFPLCtCQUErQixlQUFlLDJCQUEyQiw2QkFBNkIsYUFBYSxnRUFBZ0UsdUJBQXVCLFNBQVMsSUFBSSx1RkFBdUYsY0FBYyxxQ0FBcUMsZUFBZSxzQkFBc0IsZUFBZSx1Q0FBdUMsZUFBZSx3QkFBd0Isd0RBQXdELHVCQUF1QixlQUFlLHVCQUF1QixlQUFlLHdCQUF3QixlQUFlLCtCQUErQixlQUFlLGtDQUFrQyxlQUFlLCtCQUErQixlQUFlLDBCQUEwQixlQUFlLDBCQUEwQixlQUFlLGtDQUFrQyxlQUFlLDBCQUEwQixlQUFlLG1DQUFtQyxlQUFlLGtCQUFrQixlQUFlLG1DQUFtQyx5RUFBeUUsK0JBQStCLGVBQWUsK0JBQStCLHNCQUFzQixXQUFXLEtBQUssMEZBQTBGLG1NQUFtTSwwRUFBMEUsK0dBQStHLGdIQUFnSCw0SUFBNEksVUFBVSxFQUFFLCtCQUErQixjQUFjLElBQUksTUFBTSxhQUFhLGtCQUFrQixRQUFRLFNBQVMsd0JBQXdCLDJCQUEyQixJQUFJLE1BQU0saUJBQWlCLGNBQWMsUUFBUSxTQUFTLDBCQUEwQixtREFBbUQseUVBQXlFLGtCQUFrQix1QkFBdUIsdURBQXVELHFDQUFxQyxlQUFlLHlDQUF5QyxhQUFhLHNCQUFzQixrSEFBa0gscUNBQXFDLGVBQWUseUNBQXlDLGFBQWEsc0JBQXNCLGdIQUFnSCwrQkFBK0IsNkNBQTZDLGVBQWUsMENBQTBDLGFBQWEsb0JBQW9CLHVHQUF1Ryx3REFBd0QsZUFBZSx5QkFBeUIsYUFBYSxxQkFBcUIsc0dBQXNHLHNCQUFzQixrRkFBa0YsMEJBQTBCLHdCQUF3QixnQ0FBZ0MsaUVBQWlFLGVBQWUsdUNBQXVDLGFBQWEsK0JBQStCLDREQUE0RCxFQUFFLHNGQUFzRiwrQkFBK0IscURBQXFELGlMQUFpTCw4Q0FBOEMsZUFBZSwyQkFBMkIsYUFBYSxvQkFBb0IsNEdBQTRHLG1DQUFtQyxlQUFlLGlDQUFpQyxhQUFhLHVCQUF1Qiw0RUFBNEUsOGRBQThkLFNBQVMsb0NBQW9DLG9CQUFvQix1Q0FBdUMsc0JBQXNCLHVDQUF1QyxrQ0FBa0MsdUNBQXVDLG9CQUFvQix1Q0FBdUMsc0JBQXNCLHFDQUFxQyxzQkFBc0IscUNBQXFDLDJCQUEyQixrQ0FBa0Msc0JBQXNCLDZDQUE2QywwQkFBMEIsb0NBQW9DLDBCQUEwQixzQkFBc0IsNENBQTRDLFNBQVMsd0NBQXdDLHVCQUF1QiwyQ0FBMkMseUJBQXlCLDJDQUEyQyx3Q0FBd0MsMkNBQTJDLHVCQUF1QiwyQ0FBMkMseUJBQXlCLHlDQUF5Qyx5QkFBeUIseUNBQXlDLDhCQUE4QixhQUFhLHNCQUFzQiw2Q0FBNkMsOEJBQThCLG9DQUFvQzs7QUFFcDZaLE9BQU87QUFDUDtBQUNBLGlDQUFpQyxpQ0FBbUI7O0FBRXBELDhDQUE4QyxhQUFhLG9CQUFvQiw0REFBNEQsc0JBQXNCLDJCQUEyQixzQkFBc0IsNkRBQTZELDRCQUE0QixzQkFBc0IsU0FBUyxzQkFBc0IsMkJBQTJCLGVBQWUsaUNBQWlDLHlCQUF5QixlQUFlLCtCQUErQiw4QkFBOEIsb0JBQW9CLGFBQWEsU0FBUyx3QkFBd0IscUNBQXFDLHFDQUFxQyw4QkFBOEIsc0JBQXNCLG9DQUFvQywwQkFBMEIscUNBQXFDLHFDQUFxQyw4REFBOEQsdUJBQXVCLHFDQUFxQyxxQ0FBcUMsY0FBYyxzQkFBc0IsS0FBSyx1QkFBdUIsMEJBQTBCLG9FQUFvRSxxUEFBcVAsZ0pBQWdKLHlOQUF5TixPQUFPLGlCQUFpQixxQ0FBcUMsc0ZBQXNGLFFBQVEsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUUsZ0NBQWdDLE1BQU0sWUFBWSxXQUFXLEtBQUssWUFBWSxXQUFXLFVBQVUsdUJBQXVCLGtEQUFrRCxZQUFZLEVBQUUsa0NBQWtDLHdDQUF3QyxTQUFTLGNBQWMsYUFBYSxzQkFBc0IsK0JBQStCLFNBQVMsY0FBYyxhQUFhLGlDQUFpQywwQ0FBMEMsV0FBVywyQkFBMkIsV0FBVyxZQUFZLFlBQVksVUFBVSxTQUFTLDJCQUEyQixRQUFRLFFBQVEsZ0JBQWdCLHdCQUF3Qiw2QkFBNkIsVUFBVSwwQkFBMEIsU0FBUyxZQUFZLGNBQWMsS0FBSyw4Q0FBOEMsYUFBYSxPQUFPLGFBQWEsS0FBSyxJQUFJLGFBQWEsU0FBUyxnRUFBZ0UsVUFBVSx3QkFBd0IsTUFBTSxZQUFZLEtBQUssU0FBUyxLQUFLLFVBQVUsNkJBQTZCLGFBQWEsZ0NBQWdDLHdEQUF3RCxJQUFJLG9DQUFvQyxlQUFlLFlBQVksbUJBQW1CLHdEQUF3RCxrQkFBa0Isc0JBQXNCLHdEQUF3RCxxQkFBcUIsa0JBQWtCLHdEQUF3RCxpQkFBaUIscUJBQXFCLHdEQUF3RCxzQkFBc0IsWUFBWSxvTEFBb0wscUJBQXFCLCtEQUErRCxpREFBaUQsbUJBQW1CLHFDQUFxQyxvQ0FBb0MsNEJBQTRCLGNBQWMseU9BQXlPLG9CQUFvQixnQkFBZ0IsaUJBQWlCLHFCQUFxQixtQkFBbUIsc0JBQXNCLG1CQUFtQiwyQkFBMkIsNkNBQTZDLG1CQUFtQix3Q0FBd0MsaUJBQWlCLGtDQUFrQyxpQkFBaUIseUNBQXlDLGlCQUFpQixxQ0FBcUMsZUFBZSw0Q0FBNEMsZUFBZSx3Q0FBd0MsZUFBZSxzQ0FBc0Msb0hBQW9ILGdDQUFnQyxlQUFlLGtEQUFrRCx3REFBd0Qsc0JBQXNCLG1CQUFtQixVQUFVLG9CQUFvQixpRkFBaUYsdUNBQXVDLHNCQUFzQixvQkFBb0IsMkJBQTJCLFdBQVcsK0JBQStCLGFBQWEsK0JBQStCLFNBQVMsbUNBQW1DLFNBQVMsaUNBQWlDLEtBQUssMkJBQTJCLHFCQUFxQixrQ0FBa0Msb0RBQW9ELE1BQU0sSUFBSSxTQUFTLFVBQVUsK0NBQStDLFdBQVcsbUJBQW1CLDRDQUE0QywrQ0FBK0MsK0RBQStELEVBQUUsTUFBTSxJQUFJLE1BQU0sK0RBQStELEVBQUUsVUFBVSw2Q0FBNkMsV0FBVyxpQkFBaUIsVUFBVSxVQUFVLGVBQWUsZ0JBQWdCLHlCQUF5Qiw2QkFBNkIsbUJBQW1CLFFBQVEsbUNBQW1DLEtBQUssb0JBQW9CLElBQUksUUFBUSxjQUFjLDhCQUE4QixVQUFVLHdDQUF3QyxNQUFNLElBQUksUUFBUSxjQUFjLG1DQUFtQyxXQUFXLGlDQUFpQyxrRUFBa0UsS0FBSyx1Q0FBdUMsT0FBTyxrQ0FBa0MsS0FBSyxzQ0FBc0MsYUFBYSwwQkFBMEIsV0FBVyxXQUFXLDBCQUEwQixFQUFFLCtCQUErQixlQUFlLHdCQUF3QixVQUFVLHlIQUF5SCxxQkFBcUIsc0JBQXNCLGlCQUFpQiwwQkFBMEIsa0JBQWtCLEVBQUUsbUJBQW1CLGlCQUFpQixpQkFBaUIscUNBQXFDLGFBQWEsWUFBWSxNQUFNLGlCQUFpQix5QkFBeUIsK0JBQStCLE9BQU8sYUFBYSxhQUFhLE1BQU0sb0JBQW9CLGdDQUFnQyw4Q0FBOEMsdUJBQXVCLGFBQWEsWUFBWSxNQUFNLFlBQVksYUFBYSxvQkFBb0IsTUFBTSx1Q0FBdUMsZUFBZSx3QkFBd0IsV0FBVyxpQkFBaUIsa0JBQWtCLFdBQVcsU0FBUyx1QkFBdUIsZ0NBQWdDLE9BQU8sZ0JBQWdCLGlCQUFpQixtREFBbUQsYUFBYSx1QkFBdUIsd0JBQXdCLEtBQUssMEJBQTBCLGlEQUFpRCxnQ0FBZ0MsRUFBRSxLQUFLLEtBQUssbUJBQW1CLGVBQWUsMkRBQTJELG9EQUFvRCxPQUFPLEtBQUssWUFBWSxXQUFXLEtBQUssMkJBQTJCLFVBQVUsV0FBVyxNQUFNLFlBQVksV0FBVyxLQUFLLFNBQVMsa0JBQWtCLFNBQVMsWUFBWSxvQkFBb0IsS0FBSyx5QkFBeUIsSUFBSSxPQUFPLFVBQVUsNEJBQTRCLEtBQUssYUFBYSw0QkFBNEIsV0FBVyxnQ0FBZ0MsNEJBQTRCLG1CQUFtQiw2QkFBNkIsc0JBQXNCLE1BQU0sV0FBVyw2QkFBNkIsWUFBWSxvQkFBb0IsS0FBSyx1QkFBdUIsNkJBQTZCLHNCQUFzQixNQUFNLFdBQVcsNkJBQTZCLFlBQVksb0JBQW9CLEtBQUssdUJBQXVCLGtDQUFrQyx5QkFBeUIsd0JBQXdCLHVDQUF1QyxhQUFhLCtCQUErQixXQUFXLFVBQVUsb0JBQW9CLFlBQVkseUJBQXlCLCtCQUErQixZQUFZLG1CQUFtQixLQUFLLGdDQUFnQyw4QkFBOEIsT0FBTyxvRkFBb0YsaUJBQWlCLDREQUE0RCxZQUFZLHlIQUF5SCxzQkFBc0Isc0NBQXNDLEdBQUcsMEJBQTBCLHNCQUFzQixPQUFPLHNEQUFzRCxRQUFRLEdBQUcsT0FBTyxzQkFBc0IsS0FBSyxtREFBbUQsY0FBYyxLQUFLLFlBQVksb0JBQW9CLGVBQWUsNEJBQTRCLGFBQWEseUJBQXlCLHNCQUFzQixrQ0FBa0MsZ0NBQWdDLHdCQUF3QixtQkFBbUIsNkJBQTZCLG9CQUFvQixFQUFFLGdDQUFnQyx1QkFBdUIsRUFBRSxtQ0FBbUMsMEJBQTBCLEVBQUUsa0NBQWtDLGlCQUFpQixRQUFRLDBCQUEwQixFQUFFLGlDQUFpQyxnQkFBZ0IsU0FBUyx5QkFBeUIsR0FBRyxxQkFBcUIsVUFBVSxJQUFJLFVBQVUsa0JBQWtCLGVBQWUsMklBQTJJLGVBQWUseUVBQXlFLGlCQUFpQixxSEFBcUgsY0FBYywyREFBMkQsK0JBQStCLGdEQUFnRCxNQUFNLDBCQUEwQix5Q0FBeUMsdUNBQXVDLG9DQUFvQyw2QkFBNkIseUJBQXlCLDBCQUEwQixvQkFBb0IsS0FBSyxLQUFLLHVCQUF1QiwrQkFBK0Isa0JBQWtCLHlCQUF5Qiw4QkFBOEIsdUJBQXVCLE1BQU0seUJBQXlCLHNCQUFzQix1QkFBdUIsT0FBTyxNQUFNLHNCQUFzQixNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSwrREFBK0QsY0FBYyxhQUFhLE1BQU0sVUFBVSxZQUFZLFVBQVUsb0JBQW9CLDBCQUEwQix5REFBeUQsS0FBSyxRQUFRLDhCQUE4QixLQUFLLHdDQUF3QyxvQkFBb0IsY0FBYyxpQkFBaUIsOEJBQThCLDZCQUE2QixNQUFNLE9BQU8sd0JBQXdCLHVCQUF1QixRQUFRLGdFQUFnRSxhQUFhLE9BQU8sa0NBQWtDLE9BQU8sa0JBQWtCLDBEQUEwRCxvQkFBb0IsWUFBWSxVQUFVLE1BQU0sYUFBYSxhQUFhLE1BQU0sK0JBQStCLG9CQUFvQixLQUFLLDJCQUEyQixhQUFhLFVBQVUsaUJBQWlCLGNBQWMsdUJBQXVCLDZDQUE2QyxPQUFPLHVEQUF1RCwyREFBMkQsY0FBYyxLQUFLLHVFQUF1RSw0QkFBNEIsMkJBQTJCLEVBQUUsNEJBQTRCLG1DQUFtQyxVQUFVLHdCQUF3QixFQUFFLDRCQUE0QixtQ0FBbUMsVUFBVSx3QkFBd0IsNEJBQTRCLEVBQUUsYUFBYSxZQUFZLGNBQWMsK0JBQStCLDhCQUE4Qiw4QkFBOEIsb0JBQW9CLGtCQUFrQixLQUFLLE9BQU8sZ0JBQWdCLGtDQUFrQyw0QkFBNEIsa0NBQWtDLDRCQUE0QixhQUFhLGtDQUFrQyxrQ0FBa0Msa0RBQWtELCtCQUErQiwyQkFBMkIsT0FBTyxrREFBa0QsK0JBQStCLDJCQUEyQixPQUFPLDJEQUEyRCw0QkFBNEIsYUFBYSw4Q0FBOEMsTUFBTSwyREFBMkQsc0JBQXNCLHVFQUF1RSw4Q0FBOEMsMEVBQTBFLHdDQUF3QyxPQUFPLFlBQVksT0FBTyxnREFBZ0QsV0FBVyxVQUFVLHFCQUFxQiw0QkFBNEIsMEVBQTBFLHdDQUF3QyxPQUFPLFlBQVksT0FBTyxnREFBZ0QsV0FBVyxVQUFVLHNCQUFzQixVQUFVLGlCQUFpQiwrSEFBK0gsaUJBQWlCLHVCQUF1QixLQUFLLHNCQUFzQixtQ0FBbUMsS0FBSyw4QkFBOEIsMkJBQTJCLEtBQUssMEJBQTBCLGVBQWUsa0JBQWtCLGtCQUFrQix1QkFBdUIsNkJBQTZCLG1DQUFtQyxVQUFVLHVCQUF1QixVQUFVLDBCQUEwQixrQkFBa0IsdURBQXVELDZCQUE2Qix3SkFBd0osS0FBSyxtQ0FBbUMsY0FBYyx1QkFBdUIsMkJBQTJCLGtCQUFrQixFQUFFLGlCQUFpQixpQkFBaUIsb0JBQW9CLEtBQUssdUZBQXVGLGdDQUFnQyxzQ0FBc0MsS0FBSyxZQUFZLGlCQUFpQixvQ0FBb0MsaUJBQWlCLGVBQWUsa0JBQWtCLGlCQUFpQiwrQkFBK0IscUNBQXFDLG1DQUFtQyxVQUFVLHNCQUFzQixjQUFjLGtCQUFrQixhQUFhLGFBQWEsTUFBTSxhQUFhLDZCQUE2QixNQUFNLGtDQUFrQyxPQUFPLFFBQVEsT0FBTyxjQUFjLGdCQUFnQixrQkFBa0IsVUFBVSxvQkFBb0Isa0NBQWtDLCtCQUErQixvQkFBb0IsYUFBYSxhQUFhLE1BQU0sZUFBZSxvQkFBb0IsNkJBQTZCLFVBQVUseUNBQXlDLHNDQUFzQyxFQUFFLHVCQUF1QixnQkFBZ0IsWUFBWSxPQUFPLE9BQU8sZ0JBQWdCLCtCQUErQixLQUFLLGdCQUFnQixpQ0FBaUMsa0JBQWtCLGtCQUFrQixXQUFXLDRCQUE0QixpQ0FBaUMscUJBQXFCLEtBQUssbUJBQW1CLEtBQUssaUJBQWlCLDZCQUE2QixpQ0FBaUMsT0FBTyxVQUFVLHFDQUFxQyxVQUFVLEVBQUUsb0JBQW9CLFlBQVksT0FBTyxnQkFBZ0Isc0JBQXNCLG9CQUFvQixrQkFBa0Isc0JBQXNCLG1CQUFtQixLQUFLLGdCQUFnQix5REFBeUQsUUFBUSxvQkFBb0IsZUFBZSxZQUFZLGFBQWEsYUFBYSxhQUFhLGFBQWEsV0FBVyxLQUFLLFVBQVUsaUJBQWlCLGFBQWEsYUFBYSxlQUFlLDBCQUEwQixtQ0FBbUMsbUNBQW1DLHVCQUF1Qix3QkFBd0IsNENBQTRDLDRDQUE0QyxjQUFjLGlCQUFpQixjQUFjLFFBQVEsTUFBTSxRQUFRLEVBQUUsT0FBTyxlQUFlLHNCQUFzQixhQUFhLGtCQUFrQix5QkFBeUIsaURBQWlELE1BQU0sS0FBSyw4REFBOEQsMkJBQTJCLGNBQWMsVUFBVSx1QkFBdUIsb0JBQW9CLG9CQUFvQixrQkFBa0IsWUFBWSxJQUFJLDRCQUE0QixVQUFVLHNDQUFzQyx3QkFBd0IsSUFBSSx5QkFBeUIsVUFBVSx1Q0FBdUMsWUFBWSx5Q0FBeUMsdUNBQXVDLHFDQUFxQyxnQkFBZ0IsaUJBQWlCLFNBQVMsT0FBTyxTQUFTLGdCQUFnQixTQUFTLE9BQU8sU0FBUyxlQUFlLFNBQVMsT0FBTyxTQUFTLDhCQUE4Qix5Q0FBeUMsaUNBQWlDLDRDQUE0Qyw4QkFBOEIseUNBQXlDLG9DQUFvQyxVQUFVLGtCQUFrQixLQUFLLGdCQUFnQixtRUFBbUUsaUZBQWlGLFVBQVUsdURBQXVELGFBQWEsYUFBYSxNQUFNLDBCQUEwQixhQUFhLEdBQUcsUUFBUSxFQUFFLGNBQWMsb0JBQW9CLGdDQUFnQyxZQUFZLHdCQUF3QiwwQkFBMEIscUNBQXFDLEVBQUUsVUFBVSxhQUFhLEVBQUUsWUFBWSxpQ0FBaUMsOEJBQThCLHFDQUFxQyxVQUFVLGFBQWEsYUFBYSxNQUFNLG9DQUFvQyxVQUFVLGtDQUFrQyxLQUFLLGFBQWEsV0FBVyxnQ0FBZ0MsMkJBQTJCLFVBQVUsd0NBQXdDLDRDQUE0Qyw0QkFBNEIsZUFBZSxFQUFFLDRCQUE0QixlQUFlLEVBQUUsb0NBQW9DLG9DQUFvQywwQkFBMEIsWUFBWSxvQkFBb0IsSUFBSSxhQUFhLGFBQWEsTUFBTSxtQkFBbUIsVUFBVSw0Q0FBNEMsV0FBVyw2QkFBNkIsaUJBQWlCLE9BQU8scUNBQXFDLGdDQUFnQyxjQUFjLFVBQVUsWUFBWSxpQ0FBaUMsdUNBQXVDLE9BQU8sb0JBQW9CLE9BQU8sWUFBWSxlQUFlLHFDQUFxQyxvQ0FBb0Msa0JBQWtCLGNBQWMsT0FBTyxVQUFVLGFBQWEsYUFBYSxNQUFNLGVBQWUsaUJBQWlCLFdBQVcscUNBQXFDLG9DQUFvQyxrQkFBa0IsY0FBYyxrQkFBa0IsYUFBYSxhQUFhLE1BQU0sNEJBQTRCLFVBQVUsTUFBTSxVQUFVLE9BQU8sMEJBQTBCLDhGQUE4Rix3SkFBd0osSUFBSSxPQUFPLDJDQUEyQyx3Q0FBd0MsaUJBQWlCLDZCQUE2QixpQkFBaUIsa0NBQWtDLHVCQUF1Qix3QkFBd0IsT0FBTyw0SUFBNEkseUdBQXlHLE9BQU8sMkdBQTJHLDZDQUE2QywyQ0FBMkMsS0FBSyxrQkFBa0IsS0FBSyxhQUFhLCtDQUErQyxLQUFLLHlDQUF5QyxnREFBZ0QsS0FBSyxvQ0FBb0Msa0JBQWtCLDJFQUEyRSx5Q0FBeUMsMkNBQTJDLE1BQU0sMENBQTBDLFVBQVUsU0FBUyw0QkFBNEIsa0JBQWtCLGFBQWEsYUFBYSxNQUFNLGtDQUFrQyx3Q0FBd0MsVUFBVSxrQkFBa0IsY0FBYyxrQkFBa0IsYUFBYSxhQUFhLE1BQU0saUNBQWlDLFVBQVUsT0FBTywrQkFBK0IsbUNBQW1DLGFBQWEsYUFBYSxNQUFNLGlCQUFpQixPQUFPLGlCQUFpQixLQUFLLGNBQWMsYUFBYSxvQkFBb0IsTUFBTSx3QkFBd0IsT0FBTyxpQkFBaUIsS0FBSyxhQUFhLE9BQU8sbUJBQW1CLDRCQUE0Qix1Q0FBdUMsdUNBQXVDLFdBQVcseUNBQXlDLFdBQVcsNkJBQTZCLGFBQWEsYUFBYSxNQUFNLDRCQUE0QixjQUFjLHNCQUFzQixVQUFVLGFBQWEsYUFBYSxNQUFNLDhDQUE4QyxVQUFVLHVCQUF1QixrQkFBa0IsK0JBQStCLG9CQUFvQixrQkFBa0IsNEJBQTRCLG9DQUFvQyxRQUFRLE1BQU0sS0FBSywyQkFBMkIsSUFBSSxXQUFXLG9CQUFvQixVQUFVLE9BQU8sd0JBQXdCLGFBQWEsVUFBVSxZQUFZLEtBQUssT0FBTyxVQUFVLGtHQUFrRyxhQUFhLFlBQVkscUNBQXFDLHlCQUF5Qix1QkFBdUIscUJBQXFCLGNBQWMsYUFBYSxNQUFNLFVBQVUsWUFBWSxLQUFLLGNBQWMsa0JBQWtCLGNBQWMsYUFBYSxpQkFBaUIsTUFBTSxrQkFBa0IsMkNBQTJDLGFBQWEsV0FBVyxvQkFBb0IsT0FBTyw0bkJBQTRuQixhQUFhLGFBQWEsTUFBTSxtQkFBbUIsc1RBQXNULGFBQWEsYUFBYSxNQUFNLFdBQVcsY0FBYyxrQkFBa0IsaUJBQWlCLHlCQUF5QixVQUFVLHVCQUF1QixrQ0FBa0MsZUFBZSxrQ0FBa0MsV0FBVyxnQ0FBZ0MsVUFBVSxvQkFBb0IsK0JBQStCLGtCQUFrQixhQUFhLDRCQUE0QixjQUFjLFVBQVUsUUFBUSxHQUFHLDhCQUE4Qix5Q0FBeUMsMEJBQTBCLGNBQWMsUUFBUSxHQUFHLFFBQVEsRUFBRSxlQUFlLHNCQUFzQixhQUFhLGlDQUFpQyxXQUFXLG9DQUFvQyxPQUFPLGtDQUFrQyxVQUFVLCtCQUErQixVQUFVLHNCQUFzQiwwQkFBMEIsa0JBQWtCLGdCQUFnQixxQkFBcUIsT0FBTyx5Q0FBeUMsb0JBQW9CLCtDQUErQyx1Q0FBdUMsa0JBQWtCLGNBQWMsYUFBYSxhQUFhLE1BQU0sZ0NBQWdDLE9BQU8sU0FBUyxrQkFBa0IsY0FBYyxhQUFhLGFBQWEsTUFBTSw0QkFBNEIsV0FBVyxHQUFHLFlBQVksZUFBZSxnQkFBZ0IsZ0JBQWdCLGNBQWMsa0JBQWtCLE9BQU8sbUJBQW1CLFdBQVcsMEJBQTBCLDJCQUEyQix3QkFBd0IsWUFBWSw0REFBNEQsa0NBQWtDLFVBQVUsS0FBSyx3QkFBd0IsNEJBQTRCLGdDQUFnQyxFQUFFLEtBQUssVUFBVSx1QkFBdUIscUNBQXFDLGlCQUFpQixnQ0FBZ0MsUUFBUSx3QkFBd0IsS0FBSyx1QkFBdUIsS0FBSyxRQUFRLHdIQUF3SCxjQUFjLG9CQUFvQixzQkFBc0IsV0FBVyxxQkFBcUIsV0FBVyxvQ0FBb0MsVUFBVSxhQUFhLGFBQWEsTUFBTSw0QkFBNEIsMkJBQTJCLGdDQUFnQyxHQUFHLEtBQUssY0FBYyx1Q0FBdUMsV0FBVyx1Q0FBdUMsc0JBQXNCLFNBQVMsTUFBTSxNQUFNLE1BQU0sb0JBQW9CLGdKQUFnSiw4S0FBOEssNEdBQTRHLHlIQUF5SCxtQ0FBbUMsaUJBQWlCLFlBQVksS0FBSyxnQkFBZ0IsU0FBUyx5SUFBeUksYUFBYSxVQUFVLHdFQUF3RSxrQkFBa0IsbUJBQW1CLGdCQUFnQiw4REFBOEQsVUFBVSxTQUFTLGtDQUFrQyw4Q0FBOEMsYUFBYSwyQkFBMkIsd0lBQXdJLGlCQUFpQix1QkFBdUIsT0FBTyx1QkFBdUIsd0VBQXdFLGlDQUFpQyx5Q0FBeUMscUNBQXFDLEtBQUsseUNBQXlDLHVDQUF1Qyx5QkFBeUIsMkNBQTJDLDhEQUE4RCxxQ0FBcUMsT0FBTywrQkFBK0IscUNBQXFDLHNCQUFzQixVQUFVLDJCQUEyQixtQ0FBbUMsMklBQTJJLGtCQUFrQixrQkFBa0IsbUJBQW1CLDhKQUE4SixFQUFFLDZFQUE2RSxtQ0FBbUMsT0FBTyxxQ0FBcUMsYUFBYSxLQUFLLHlCQUF5QixrQkFBa0IsbUJBQW1CLDRCQUE0Qix1Q0FBdUMseUJBQXlCLEtBQUsscUNBQXFDLDBCQUEwQixzQkFBc0IscUJBQXFCLDhCQUE4QixVQUFVLGlEQUFpRCxhQUFhLGFBQWEsTUFBTSxjQUFjLFdBQVcsa0NBQWtDLHlDQUF5QyxhQUFhLFFBQVEsY0FBYyxjQUFjLGNBQWMsY0FBYyxXQUFXLG9DQUFvQyxhQUFhLGFBQWEsTUFBTSw4QkFBOEIsU0FBUyxNQUFNLE1BQU0sTUFBTSxLQUFLLE9BQU8sbUNBQW1DLGtCQUFrQixLQUFLLGdCQUFnQixTQUFTLHdDQUF3QywyRUFBMkUsVUFBVSx5QkFBeUIsWUFBWSw4REFBOEQsbUJBQW1CLHlDQUF5Qyw0QkFBNEIsNEJBQTRCLE9BQU8seUJBQXlCLFNBQVMsRUFBRSw0QkFBNEIsT0FBTyx5QkFBeUIsMkJBQTJCLDZCQUE2QixzQkFBc0IsS0FBSyxpQ0FBaUMsdUVBQXVFLGtDQUFrQyxjQUFjLHNDQUFzQyxPQUFPLG9CQUFvQixpRUFBaUUscUJBQXFCLHlDQUF5Qyx1Q0FBdUMsMkJBQTJCLDRCQUE0QixxQkFBcUIsRUFBRSxxQ0FBcUMsd0RBQXdELEVBQUUsUUFBUSxhQUFhLHlCQUF5Qix5QkFBeUIsRUFBRSxvQkFBb0IsWUFBWSxPQUFPLGNBQWMsNkNBQTZDLGVBQWUsUUFBUSxVQUFVLFFBQVEsRUFBRSx3R0FBd0csY0FBYywrQ0FBK0MsTUFBTSxRQUFRLEVBQUUsd0ZBQXdGLFVBQVUsZ0JBQWdCLGlCQUFpQixzQkFBc0IsNEJBQTRCLGtCQUFrQixjQUFjLGlFQUFpRSxPQUFPLGdCQUFnQixLQUFLLG9EQUFvRCx5QkFBeUIsUUFBUSxtREFBbUQsb0VBQW9FLGtCQUFrQixPQUFPLHdCQUF3Qiw0Q0FBNEMscUNBQXFDLHNDQUFzQyx1Q0FBdUMsVUFBVSxVQUFVLGlEQUFpRCxhQUFhLGFBQWEsTUFBTSxjQUFjLFdBQVcsa0NBQWtDLHlDQUF5QyxzQkFBc0IsT0FBTywwQ0FBMEMsUUFBUSxjQUFjLGNBQWMsY0FBYyxhQUFhLFdBQVcsa0NBQWtDLGtCQUFrQix5QkFBeUIsTUFBTSxNQUFNLE1BQU0sTUFBTSxrQ0FBa0Msa0JBQWtCLHlCQUF5QixNQUFNLE1BQU0sTUFBTSxNQUFNLFdBQVcsb0NBQW9DLGFBQWEsYUFBYSxNQUFNLDRCQUE0QixXQUFXLDZCQUE2QiwwQkFBMEIsVUFBVSxxQkFBcUIsS0FBSyxjQUFjLFVBQVUsYUFBYSxhQUFhLE1BQU0sK0RBQStELHVCQUF1QixXQUFXLHNDQUFzQywyQkFBMkIsc0NBQXNDLDBCQUEwQiwrQkFBK0IsMkJBQTJCLHlDQUF5Qyx3QkFBd0Isa0NBQWtDLHlDQUF5Qyx5QkFBeUIsc0NBQXNDLDJCQUEyQixzQ0FBc0MsaUNBQWlDLCtCQUErQiwyQkFBMkIseUNBQXlDLHdCQUF3QixrQ0FBa0MseUNBQXlDLHlCQUF5Qix3QkFBd0Isb0JBQW9CLDJCQUEyQixvQkFBb0IsV0FBVyx3QkFBd0IsYUFBYSxhQUFhLE1BQU0sWUFBWSxLQUFLLFNBQVMsa0NBQWtDLGtCQUFrQixzQkFBc0IscUNBQXFDLDRCQUE0QixPQUFPLGFBQWEsYUFBYSxNQUFNLDJCQUEyQixXQUFXLGtEQUFrRCxvQ0FBb0MsdUJBQXVCLFNBQVMsZUFBZSxrQkFBa0IsYUFBYSxpQkFBaUIsTUFBTSxrQkFBa0IscURBQXFELE9BQU8seUNBQXlDLGdDQUFnQyxTQUFTLDJCQUEyQixHQUFHLDJDQUEyQyxrQ0FBa0Msa0JBQWtCLG9DQUFvQyxHQUFHLHNCQUFzQix5QkFBeUIsWUFBWSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLEtBQUsseUJBQXlCLHdCQUF3QixrQ0FBa0MsTUFBTSxxQkFBcUIsOEJBQThCLG9FQUFvRSxvQkFBb0IsNkJBQTZCLG9CQUFvQixPQUFPLFNBQVMsUUFBUSx5Q0FBeUMsMENBQTBDLHlDQUF5QyxrQkFBa0IsYUFBYSxpQkFBaUIsTUFBTSx3QkFBd0Isc0JBQXNCLCtCQUErQixjQUFjLGlDQUFpQywwQkFBMEIsYUFBYSxhQUFhLE1BQU0sa0NBQWtDLGdDQUFnQyxtQkFBbUIsZ0JBQWdCLGtCQUFrQixtQkFBbUIsa0NBQWtDLHNCQUFzQiw4QkFBOEIsTUFBTSxxQ0FBcUMsT0FBTywwQkFBMEIscUJBQXFCLGVBQWUsZUFBZSxnQ0FBZ0MsT0FBTyxvQkFBb0IsS0FBSyxPQUFPLDBDQUEwQyx5RkFBeUYsZUFBZSxNQUFNLFFBQVEsS0FBSyxNQUFNLFdBQVcsS0FBSyxRQUFRLFdBQVcsS0FBSyxxQkFBcUIsV0FBVyxLQUFLLFFBQVEsVUFBVSxVQUFVLDhCQUE4QixVQUFVLDBCQUEwQixtQkFBbUIseUNBQXlDLE9BQU8sd0JBQXdCLGFBQWEsdUJBQXVCLFlBQVksc0JBQXNCLHVCQUF1QiwrQkFBK0IsT0FBTyxpREFBaUQsY0FBYyxzQkFBc0IsOEJBQThCLFNBQVMsY0FBYyxzQkFBc0IsK0VBQStFLGVBQWUsc0JBQXNCLHdCQUF3Qix5QkFBeUIsYUFBYSwyQkFBMkIsdUJBQXVCLGtCQUFrQixvREFBb0QsaUJBQWlCLEtBQUssb0JBQW9CLG9CQUFvQixhQUFhLDBDQUEwQyxhQUFhLDZDQUE2QyxhQUFhLEVBQUUscUNBQXFDLDRCQUE0QiwwQkFBMEIsV0FBVyxvQkFBb0IsWUFBWSxlQUFlLGVBQWUsNEJBQTRCLDZCQUE2QixvQkFBb0IsK0JBQStCLGtCQUFrQiwwQkFBMEIsb0RBQW9ELDBCQUEwQixVQUFVLHVFQUF1RSxvQkFBb0IsZ0JBQWdCLFdBQVcsaUNBQWlDLFdBQVcseUJBQXlCLFFBQVEsYUFBYSwyQkFBMkIsNkJBQTZCLCtIQUErSCxtQ0FBbUMsWUFBWSxvQkFBb0IsZ0ZBQWdGLFNBQVMsU0FBUyxxQkFBcUIsMEJBQTBCLGdFQUFnRSxvQkFBb0IsTUFBTSxXQUFXLGlDQUFpQyxPQUFPLFVBQVUsS0FBSyw2QkFBNkIsc0RBQXNELHVCQUF1Qix3QkFBd0Isb0JBQW9CLFNBQVMsbUNBQW1DLFlBQVksMEJBQTBCLHNCQUFzQixvQkFBb0Isa0NBQWtDLHNEQUFzRCxhQUFhLGFBQWEsTUFBTSxrQkFBa0IsNEJBQTRCLGlCQUFpQiwyQkFBMkIsV0FBVyxrQkFBa0Isc0ZBQXNGLGdEQUFnRCxzREFBc0QsaUNBQWlDLDBDQUEwQyxzQkFBc0IsYUFBYSxhQUFhLE1BQU0sOEJBQThCLFVBQVUsUUFBUSxPQUFPLGVBQWUsMEJBQTBCLDBEQUEwRCxrQ0FBa0Msc0JBQXNCLEtBQUssa0JBQWtCLHNCQUFzQixVQUFVLFVBQVUsdUJBQXVCLG1DQUFtQyw4Q0FBOEMsaUNBQWlDLDZDQUE2Qyx1QkFBdUIsYUFBYSxjQUFjLG9CQUFvQixhQUFhLFlBQVksU0FBUyxNQUFNLE1BQU0sSUFBSSxvRkFBb0YsMEJBQTBCLFlBQVksT0FBTyx3Q0FBd0MsMGNBQTBjLGNBQWMsc0NBQXNDLG1DQUFtQyxtQkFBbUIsS0FBSyxtQ0FBbUMsa0JBQWtCLEtBQUssbUNBQW1DLG1CQUFtQixLQUFLLG1DQUFtQyxxQkFBcUIsT0FBTyxnREFBZ0QsS0FBSyxPQUFPLE9BQU8sK0ZBQStGLEtBQUssT0FBTyxpR0FBaUcsbUNBQW1DLHNDQUFzQyxhQUFhLGFBQWEsTUFBTSxrQ0FBa0MsT0FBTyxpQkFBaUIsZ0ZBQWdGLDJDQUEyQyxVQUFVLG9CQUFvQix3QkFBd0IsZ0JBQWdCLHVCQUF1QixZQUFZLE9BQU8sc0JBQXNCLFFBQVEsS0FBSyxzQkFBc0IsS0FBSyxzQkFBc0IsUUFBUSxLQUFLLHNCQUFzQix3QkFBd0IsbUJBQW1CLHNHQUFzRyxVQUFVLFNBQVMsS0FBSywrQkFBK0IsS0FBSywyQ0FBMkMsb0JBQW9CLG1CQUFtQixvQkFBb0IsMERBQTBELGdCQUFnQiw2RUFBNkUsdUJBQXVCLG1DQUFtQyxvQ0FBb0MsY0FBYyxhQUFhLGFBQWEsTUFBTSxxRkFBcUYsT0FBTywyQkFBMkIsS0FBSyxPQUFPLGdDQUFnQyx3REFBd0QsbURBQW1ELHNEQUFzRCx1REFBdUQsZUFBZSxTQUFTLE1BQU0sZUFBZSxzQkFBc0IsTUFBTSxNQUFNLE9BQU8sZ0NBQWdDLHNGQUFzRiw4QkFBOEIsNkNBQTZDLFNBQVMscUNBQXFDLCtCQUErQixPQUFPLGlDQUFpQyxxQ0FBcUMseUJBQXlCLDhFQUE4RSx3QkFBd0IsS0FBSyxzQkFBc0IsdUJBQXVCLElBQUksK0JBQStCLCtCQUErQixpR0FBaUcsT0FBTyxvQkFBb0Isa0JBQWtCLGFBQWEsY0FBYyxnQkFBZ0IsaUJBQWlCLGNBQWMsY0FBYyxjQUFjLGVBQWUseUJBQXlCLGFBQWEsOEJBQThCLGNBQWMsY0FBYyxjQUFjLGVBQWUsb0NBQW9DLG1CQUFtQixrQ0FBa0MsbUJBQW1CLGlDQUFpQyxnQ0FBZ0Msb0JBQW9CLEdBQUcsMkJBQTJCLGNBQWMsV0FBVyxxREFBcUQsMkpBQTJKLE9BQU8seUJBQXlCLGlCQUFpQixFQUFFLFdBQVcsZ0JBQWdCLGFBQWEsYUFBYSxNQUFNLDRCQUE0QiwyQkFBMkIsRUFBRSwwQ0FBMEMseUNBQXlDLElBQUksYUFBYSxhQUFhLE1BQU0sa0NBQWtDLE1BQU0sNEJBQTRCLDJCQUEyQixFQUFFLDBDQUEwQyx5Q0FBeUMsRUFBRSxXQUFXLFVBQVUsS0FBSyxnQ0FBZ0MsbUJBQW1CLDZCQUE2QixrQ0FBa0Msa0RBQWtELFdBQVcsUUFBUSxjQUFjLE9BQU8sSUFBSSx3Q0FBd0MsR0FBRyw0Q0FBNEMsRUFBRSw4QkFBOEIsYUFBYSxhQUFhLE1BQU0sNkhBQTZILFdBQVcsK0RBQStELGdCQUFnQixRQUFRLG1DQUFtQyxnQkFBZ0IsUUFBUSxtQ0FBbUMsV0FBVyxHQUFHLHFCQUFxQixFQUFFLFdBQVcsR0FBRyxxQkFBcUIsRUFBRSx3QkFBd0IscUJBQXFCLDJEQUEyRCxLQUFLLFFBQVEsdUJBQXVCLFVBQVUsT0FBTywyREFBMkQsT0FBTyw0REFBNEQsT0FBTyxxQkFBcUIsZUFBZSxFQUFFLE9BQU8scUJBQXFCLGVBQWUsRUFBRSxxQkFBcUIsb0JBQW9CLEVBQUUsNkJBQTZCLG1DQUFtQyxrQ0FBa0MsSUFBSSxhQUFhLGFBQWEsTUFBTSxzQkFBc0IsYUFBYSxhQUFhLE1BQU0sY0FBYyxxQ0FBcUMsRUFBRSxhQUFhLGFBQWEsTUFBTSxjQUFjLHFDQUFxQyxFQUFFLGFBQWEsYUFBYSxNQUFNLGlCQUFpQiw4QkFBOEIsVUFBVSx5QkFBeUIsRUFBRSw0QkFBNEIsMkJBQTJCLEVBQUUsYUFBYSx5QkFBeUIsTUFBTSxtQ0FBbUMscUNBQXFDLG9DQUFvQyxJQUFJLEtBQUssOEJBQThCLDRCQUE0QiwyQkFBMkIsSUFBSSxjQUFjLE9BQU8sVUFBVSxrQ0FBa0MsRUFBRSxhQUFhLGFBQWEsTUFBTSxjQUFjLGtDQUFrQyxJQUFJLG9DQUFvQyxrQ0FBa0MsYUFBYSxhQUFhLE1BQU0sa0JBQWtCLHlCQUF5QiwwQkFBMEIsNEJBQTRCLGlCQUFpQix3QkFBd0IsUUFBUSxJQUFJLHVDQUF1QyxnQ0FBZ0MsaUNBQWlDLHdCQUF3Qiw2QkFBNkIsd0JBQXdCLG1DQUFtQyxvQkFBb0IsWUFBWSxrQkFBa0IsU0FBUyxZQUFZLE9BQU8sMkJBQTJCLHdCQUF3QiwyQkFBMkIsNENBQTRDLFlBQVksVUFBVSxZQUFZLFVBQVUsb0JBQW9CLG1EQUFtRCxhQUFhLHdCQUF3QixNQUFNLGtDQUFrQyx3RUFBd0UseUJBQXlCLHdCQUF3QixZQUFZLGNBQWMsNkNBQTZDLFFBQVEsZ0NBQWdDLDRHQUE0Ryx5QkFBeUIsY0FBYyxvQkFBb0IsV0FBVyx5REFBeUQscUJBQXFCLHNDQUFzQyxZQUFZLGNBQWMseUNBQXlDLE1BQU0sbUJBQW1CLGtDQUFrQyxxQkFBcUIsbUJBQW1CLHdCQUF3QixrQkFBa0IsZ0NBQWdDLDBDQUEwQyxlQUFlLHNCQUFzQixNQUFNLE1BQU0sTUFBTSxRQUFRLHdCQUF3QixvQkFBb0Isb0JBQW9CLDBCQUEwQiw0QkFBNEIsd0RBQXdELHNCQUFzQix3QkFBd0IsMEJBQTBCLFdBQVcsNkJBQTZCLE1BQU0sdUNBQXVDLHNDQUFzQyxzREFBc0QseUJBQXlCLHlCQUF5QixzQkFBc0IsaUZBQWlGLHNCQUFzQiwyQ0FBMkMsNENBQTRDLGVBQWUsc0JBQXNCLFdBQVcsd0JBQXdCLE9BQU8sMkNBQTJDLDhCQUE4QixXQUFXLGtDQUFrQyxrQ0FBa0Msb0NBQW9DLHFCQUFxQixvQkFBb0Isa0JBQWtCLHVCQUF1Qix1QkFBdUIsT0FBTyxnQ0FBZ0MsbUNBQW1DLE9BQU8sb0JBQW9CLHFCQUFxQixLQUFLLGtCQUFrQix5QkFBeUIscUlBQXFJLHVCQUF1Qiw4QkFBOEIsNEJBQTRCLG1DQUFtQyxtS0FBbUssaUNBQWlDLDRCQUE0QixvQ0FBb0MsZ0NBQWdDLG9DQUFvQyxnQ0FBZ0MsaU1BQWlNLGFBQWEsYUFBYSxNQUFNLHVCQUF1Qiw2QkFBNkIsNk1BQTZNLDhLQUE4SyxFQUFFLG9CQUFvQiw2QkFBNkIsK0JBQStCLFlBQVkseUZBQXlGLE9BQU8sdUJBQXVCLHdKQUF3SixPQUFPLHVCQUF1QixnQkFBZ0IsbUNBQW1DLCtCQUErQixxQ0FBcUMseUNBQXlDLDBCQUEwQixTQUFTLGtEQUFrRCxTQUFTLGtEQUFrRCxTQUFTLGFBQWEsdUNBQXVDLDJCQUEyQixpREFBaUQsNkJBQTZCLGtCQUFrQixnQ0FBZ0MsY0FBYyxrQkFBa0Isb0NBQW9DLCtDQUErQyxnQ0FBZ0MscUJBQXFCLG1CQUFtQix5QkFBeUIsb0RBQW9ELHdCQUF3QixvQkFBb0IsWUFBWSx3QkFBd0Isa0NBQWtDLHVCQUF1QixnREFBZ0QsUUFBUSxzR0FBc0csVUFBVSwyQ0FBMkMsS0FBSyxVQUFVLCtEQUErRCw4QkFBOEIsc0JBQXNCLFFBQVEsZUFBZSwwSUFBMEksMEpBQTBKLHdMQUF3TCwwQ0FBMEMsNkJBQTZCLDZEQUE2RCwwQkFBMEIsMkNBQTJDLDJDQUEyQyx5Q0FBeUMseUNBQXlDLGFBQWEsc0JBQXNCLE1BQU0seUNBQXlDLDRDQUE0Qyw0Q0FBNEMsc0NBQXNDLGtEQUFrRCxtQ0FBbUMsbUNBQW1DLEdBQUcsbUJBQW1CLEVBQUUsR0FBRyxtQkFBbUIsRUFBRSxvSUFBb0ksOEpBQThKLEVBQUUseUJBQXlCLDBCQUEwQixFQUFFLHFDQUFxQyw4SkFBOEosRUFBRSx5QkFBeUIsMEJBQTBCLEVBQUUsd0JBQXdCLFVBQVUsc0pBQXNKLFVBQVUseUNBQXlDLFFBQVEscUJBQXFCLEVBQUUsd0hBQXdILFNBQVMsYUFBYSxzQkFBc0IsTUFBTSx1QkFBdUIsbUJBQW1CLGlEQUFpRCxxS0FBcUssMENBQTBDLGFBQWEsc0JBQXNCLE1BQU0sdUJBQXVCLGlCQUFpQix3RUFBd0UsMEJBQTBCLFVBQVUsNEJBQTRCLFlBQVksb0RBQW9ELElBQUksb0JBQW9CLGFBQWEsT0FBTyxnQkFBZ0IsT0FBTyxTQUFTLFlBQVksK0RBQStELE9BQU8sa0NBQWtDLGNBQWMscUJBQXFCLFdBQVcsZ0NBQWdDLGVBQWUsZ0NBQWdDLEVBQUUsV0FBVyxpRUFBaUUsR0FBRyxzQkFBc0IscUNBQXFDLDZCQUE2QixhQUFhLFVBQVUsYUFBYSxHQUFHLFFBQVEsRUFBRSxTQUFTLGVBQWUsb0JBQW9CLFlBQVksMEJBQTBCLGtDQUFrQyxzREFBc0Qsc0JBQXNCLHdCQUF3QixVQUFVLHFDQUFxQywwQkFBMEIsV0FBVyxtQ0FBbUMsTUFBTSxjQUFjLDBDQUEwQyx1Q0FBdUMsUUFBUSxhQUFhLHlCQUF5QixNQUFNLGtDQUFrQyxRQUFRLGdEQUFnRCwyREFBMkQsK0RBQStELDBCQUEwQixXQUFXLDZCQUE2QixPQUFPLDRDQUE0QyxPQUFPLFVBQVUsa0JBQWtCLGtCQUFrQixnQkFBZ0IseUJBQXlCLGtDQUFrQyxXQUFXLG9DQUFvQyxPQUFPLHNEQUFzRCw0Q0FBNEMsV0FBVyw4Q0FBOEMsT0FBTywrSEFBK0gsbUJBQW1CLDRCQUE0QixvQkFBb0IsOEJBQThCLFFBQVEsa0lBQWtJLFVBQVUsOEJBQThCLEtBQUssVUFBVSxzQkFBc0IsaUNBQWlDLEtBQUssZUFBZSxrQkFBa0IsS0FBSyxvQkFBb0Isb0JBQW9CLDhCQUE4QixXQUFXLGVBQWUsMEJBQTBCLGdGQUFnRixNQUFNLG1CQUFtQix1QkFBdUIsa0RBQWtELHdCQUF3QixvQkFBb0IsNEJBQTRCLHFDQUFxQyxLQUFLLGtCQUFrQixxQkFBcUIsc0dBQXNHLGdIQUFnSCwwQ0FBMEMsNEJBQTRCLHNDQUFzQyxnREFBZ0QsNENBQTRDLDRCQUE0QiwwQ0FBMEMsaUNBQWlDLGlDQUFpQyxxREFBcUQsb0NBQW9DLHVCQUF1QixpQ0FBaUMsb0NBQW9DLHVCQUF1QixvQkFBb0IsaUNBQWlDLDJEQUEyRCw0REFBNEQsK0JBQStCLG9DQUFvQyxnQ0FBZ0MsOEJBQThCLGdDQUFnQyx5QkFBeUIscUNBQXFDLHFDQUFxQyxvQkFBb0IsV0FBVyxnQkFBZ0IsVUFBVSxtRUFBbUUsMkRBQTJELGtEQUFrRCw0QkFBNEIsUUFBUSxzQkFBc0IsaUNBQWlDLGFBQWEsdUNBQXVDLE1BQU0sd0NBQXdDLGlDQUFpQyx5QkFBeUIsZ0RBQWdELDRCQUE0QixvQkFBb0IsRUFBRSxRQUFRLGlCQUFpQixlQUFlLFdBQVcsK0JBQStCLCtCQUErQixnREFBZ0QsbUNBQW1DLFVBQVUsYUFBYSx5QkFBeUIsTUFBTSw2RUFBNkUsNkJBQTZCLGFBQWEsYUFBYSxNQUFNLHVDQUF1QyxnQ0FBZ0MsdUNBQXVDLHFDQUFxQyxvQkFBb0IsRUFBRSxVQUFVLDhCQUE4QiwyQkFBMkIsV0FBVyxnQ0FBZ0MsYUFBYSxnQ0FBZ0Msb0JBQW9CLEVBQUUsU0FBUyxTQUFTLGdCQUFnQixXQUFXLHVCQUF1Qiw2QkFBNkIsK0JBQStCLCtCQUErQixhQUFhLHlCQUF5QixNQUFNLGtDQUFrQywrQkFBK0IsNkJBQTZCLGFBQWEsd0JBQXdCLFdBQVcsZ0NBQWdDLDRFQUE0RSxtQkFBbUIsb0JBQW9CLCtCQUErQixvQkFBb0IsMkJBQTJCLFlBQVksV0FBVywrRkFBK0YsR0FBRyxnQ0FBZ0MsYUFBYSxPQUFPLGFBQWEseUJBQXlCLE1BQU0sd0NBQXdDLFFBQVEsUUFBUSxXQUFXLDJCQUEyQixpQkFBaUIsa0NBQWtDLHlCQUF5QixvQkFBb0IsVUFBVSxLQUFLLG1EQUFtRCx1QkFBdUIsMkRBQTJELHlDQUF5QyxPQUFPLCtCQUErQix5QkFBeUIsc0NBQXNDLG9CQUFvQixTQUFTLGFBQWEsYUFBYSx5QkFBeUIsTUFBTSxxRUFBcUUsTUFBTSxRQUFRLDJCQUEyQix3QkFBd0IsVUFBVSw0Q0FBNEMsMkJBQTJCLEdBQUcsK0JBQStCLEVBQUUseUJBQXlCLE9BQU8sZ0RBQWdELGFBQWEsNkJBQTZCLHVCQUF1QixHQUFHLHFCQUFxQixFQUFFLFVBQVUsVUFBVSxRQUFRLG1EQUFtRCxxREFBcUQsb0hBQW9ILHdCQUF3QixVQUFVLDZCQUE2Qix5QkFBeUIsNkZBQTZGLDBDQUEwQyxnQkFBZ0IsYUFBYSxzQkFBc0IsTUFBTSx1QkFBdUIsaUJBQWlCLHlFQUF5RSx3QkFBd0Isa0NBQWtDLHlDQUF5QyxRQUFRLHFCQUFxQixvQ0FBb0Msa0JBQWtCLDBCQUEwQixZQUFZLG9CQUFvQixTQUFTLDJCQUEyQixTQUFTLGtDQUFrQyxTQUFTLGlDQUFpQyxTQUFTLGVBQWUsOEJBQThCLDRCQUE0QixjQUFjLGFBQWEsa0NBQWtDLFFBQVEsR0FBRyxRQUFRLEVBQUUsd0JBQXdCLFdBQVcsZ0JBQWdCLHdGQUF3Rix1Q0FBdUMscUJBQXFCLEVBQUUsb0JBQW9CLHlEQUF5RCwrQkFBK0IsMEJBQTBCLGFBQWEsc0NBQXNDLDREQUE0RCxhQUFhLHNCQUFzQix5QkFBeUIsT0FBTyxpUEFBaVAsRUFBRSxLQUFLLFFBQVEsbUNBQW1DLDRCQUE0QixxQ0FBcUMsMEJBQTBCLDRCQUE0Qix5REFBeUQseUJBQXlCLHlDQUF5QyxxQ0FBcUMsVUFBVSxpQ0FBaUMscUJBQXFCLGtCQUFrQixLQUFLLGlDQUFpQyxxQkFBcUIsa0JBQWtCLDJDQUEyQyxzQ0FBc0MscUNBQXFDLG9CQUFvQixPQUFPLGFBQWEscUJBQXFCLGVBQWUsMkJBQTJCLDZDQUE2QyxlQUFlLDJGQUEyRixtQkFBbUIsNEJBQTRCLHFCQUFxQiwwQkFBMEIsNEJBQTRCLGtDQUFrQywyQkFBMkIseUJBQXlCLG9CQUFvQixFQUFFLGlDQUFpQyxpQkFBaUIsaUNBQWlDLDZEQUE2RCw0Q0FBNEMscUJBQXFCLHlCQUF5Qiw2QkFBNkIsVUFBVSxnQkFBZ0Isa0JBQWtCLEtBQUssZ0JBQWdCLGtCQUFrQiwyQ0FBMkMsc0NBQXNDLDRGQUE0RixtQkFBbUIsNEJBQTRCLHVDQUF1QyxrQkFBa0IscUJBQXFCLEtBQUssZ0RBQWdELDZCQUE2Qix1QkFBdUIsVUFBVSxhQUFhLEVBQUUseUJBQXlCLE9BQU8sUUFBUSxRQUFRLHdCQUF3QixlQUFlLFFBQVEsMkJBQTJCLEVBQUUsb0JBQW9CLDJDQUEyQyw2QkFBNkIsNERBQTRELHVFQUF1RSxjQUFjLEtBQUssNEJBQTRCLDZIQUE2SCxxS0FBcUssYUFBYSwwRUFBMEUsT0FBTyxxQ0FBcUMsb0NBQW9DLHFFQUFxRSxZQUFZLHlEQUF5RCxVQUFVLHVDQUF1QywyQ0FBMkMsS0FBSyx1Q0FBdUMsMkNBQTJDLHFKQUFxSixVQUFVLFVBQVUscUJBQXFCLHlCQUF5QixLQUFLLHFCQUFxQix5QkFBeUIsZ0VBQWdFLE9BQU8sMENBQTBDLHlCQUF5Qiw4Q0FBOEMsb0JBQW9CLHFCQUFxQiwwQkFBMEIsa0JBQWtCLDJCQUEyQiwwQkFBMEIsaUJBQWlCLG9EQUFvRCxLQUFLLDJFQUEyRSxJQUFJLGtQQUFrUCxVQUFVLGVBQWUsS0FBSyx5QkFBeUIsc0NBQXNDLG1CQUFtQixxQkFBcUIsVUFBVSx1Q0FBdUMsMkNBQTJDLEtBQUssdUNBQXVDLDJDQUEyQyx1Q0FBdUMsMEJBQTBCLGFBQWEsZ0NBQWdDLHVCQUF1Qiw0QkFBNEIsMkJBQTJCLGdCQUFnQixxQkFBcUIsNEJBQTRCLGdCQUFnQixnRkFBZ0YsYUFBYSw2REFBNkQsMENBQTBDLEVBQUUsNEJBQTRCLGdCQUFnQixnRkFBZ0YsYUFBYSw2REFBNkQsZ0NBQWdDLEVBQUUsZ0RBQWdELGdFQUFnRSxZQUFZLDZCQUE2QiwwQkFBMEIsZUFBZSxTQUFTLFVBQVUsNEJBQTRCLG1CQUFtQixRQUFRLGdGQUFnRixTQUFTLE1BQU0sT0FBTyxXQUFXLDhDQUE4QyxtREFBbUQsZ0RBQWdELGlEQUFpRCx5Q0FBeUMsMENBQTBDLCtDQUErQyx3Q0FBd0MsNkNBQTZDLHNDQUFzQyw2SEFBNkgsa0NBQWtDLHdFQUF3RSxxQkFBcUIsVUFBVSxrREFBa0QsMEJBQTBCLG9GQUFvRixzQkFBc0IsRUFBRSxpQ0FBaUMseURBQXlELHlCQUF5Qix3QkFBd0IsZ0RBQWdELHdCQUF3Qiw0R0FBNEcsZ0RBQWdELElBQUksWUFBWSx3Q0FBd0MsaURBQWlELG1GQUFtRix1Q0FBdUMscUJBQXFCLDRDQUE0Qyx1Q0FBdUMsa0VBQWtFLE9BQU8sT0FBTyw0QkFBNEIsNEJBQTRCLHNCQUFzQixRQUFRLElBQUksNkJBQTZCLDRCQUE0QixRQUFRLElBQUksNkJBQTZCLDRCQUE0QixrQkFBa0Isa0JBQWtCLGtCQUFrQixrQkFBa0Isb0JBQW9CLFlBQVksd0JBQXdCLFFBQVEsRUFBRSxRQUFRLFNBQVMsZUFBZSxlQUFlLGVBQWUseUJBQXlCLFVBQVUsK0JBQStCLGFBQWEsT0FBTyxTQUFTLEtBQUssYUFBYSxPQUFPLFNBQVMsS0FBSyxzQkFBc0IsZ0NBQWdDLFFBQVEsRUFBRSxRQUFRLE9BQU8saUNBQWlDLFVBQVUsd0NBQXdDLGlDQUFpQyw4QkFBOEIsRUFBRSxTQUFTLHdDQUF3QyxzQ0FBc0MsV0FBVyxRQUFRLGtDQUFrQyxvQkFBb0IsV0FBVyxtQkFBbUIsK0NBQStDLDhHQUE4RyxPQUFPLFlBQVksZ0NBQWdDLEtBQUssc0JBQXNCLFlBQVksZ0NBQWdDLEtBQUssdUJBQXVCLEtBQUssWUFBWSxnQ0FBZ0MsS0FBSyxzQkFBc0IsWUFBWSxnQ0FBZ0MsS0FBSyx1QkFBdUIsVUFBVSxrQ0FBa0MsdUNBQXVDLE9BQU8sd0JBQXdCLHdCQUF3Qiw0QkFBNEIsNEJBQTRCLDBCQUEwQiwwQkFBMEIsMEJBQTBCLDBCQUEwQix5Q0FBeUMseUNBQXlDLGdIQUFnSCxRQUFRLElBQUksUUFBUSxLQUFLLGtCQUFrQixLQUFLLFFBQVEsS0FBSyxLQUFLLFFBQVEsZ0hBQWdILFFBQVEsSUFBSSxRQUFRLEtBQUssa0JBQWtCLEtBQUssUUFBUSxLQUFLLEtBQUssUUFBUSxXQUFXLGNBQWMsSUFBSSxLQUFLLE1BQU0sTUFBTSxZQUFZLFlBQVksV0FBVyxjQUFjLElBQUksS0FBSyxNQUFNLE1BQU0sWUFBWSxZQUFZLHdDQUF3QyxVQUFVLGlCQUFpQixRQUFRLFFBQVEsRUFBRSxjQUFjLEVBQUUsY0FBYyxFQUFFLFFBQVEsR0FBRyxzQkFBc0IsTUFBTSwrQ0FBK0MsVUFBVSwrQkFBK0IsVUFBVSxXQUFXLG1DQUFtQyxtQ0FBbUMsVUFBVSxXQUFXLHNDQUFzQyx3Q0FBd0MsVUFBVSxXQUFXLDZDQUE2Qyx5Q0FBeUMsc0JBQXNCLFFBQVEsa05BQWtOLFFBQVEsWUFBWSxXQUFXLEtBQUssZUFBZSwyQkFBMkIsY0FBYyxpQkFBaUIsWUFBWSxXQUFXLEtBQUssZ0JBQWdCLGlCQUFpQix5QkFBeUIsaUhBQWlILHNCQUFzQixLQUFLLGdCQUFnQixnQkFBZ0IsZ0JBQWdCLGdCQUFnQixpQkFBaUIsTUFBTSxrQkFBa0IscUJBQXFCLFlBQVksV0FBVyxLQUFLLGVBQWUsSUFBSSxtQkFBbUIsT0FBTyxPQUFPLG9DQUFvQywrQ0FBK0MsS0FBSyxLQUFLLElBQUksS0FBSyxjQUFjLGFBQWEsYUFBYSxhQUFhLDZPQUE2Tyx5Q0FBeUMsOEJBQThCLEtBQUssTUFBTSx3QkFBd0IseUJBQXlCLFFBQVEsU0FBUyxTQUFTLFlBQVksS0FBSyxTQUFTLFlBQVksS0FBSyxnVUFBZ1UsTUFBTSxNQUFNLDBCQUEwQixVQUFVLGtJQUFrSSxtQ0FBbUMsT0FBTyxVQUFVLGlCQUFpQiwyQkFBMkIsd0NBQXdDLElBQUkscUJBQXFCLDZCQUE2QiwyQ0FBMkMsb0JBQW9CLEtBQUssb0JBQW9CLHVCQUF1QixLQUFLLHdCQUF3Qix3QkFBd0IsZUFBZSxjQUFjLEtBQUssZUFBZSwyQkFBMkIsZUFBZSx3Q0FBd0MsaUNBQWlDLGNBQWMsS0FBSywyQkFBMkIsS0FBSyx3Q0FBd0Msb0JBQW9CLEtBQUssd0NBQXdDLGNBQWMsS0FBSyx3Q0FBd0MsaUNBQWlDLHNCQUFzQixLQUFLLG1CQUFtQixzQkFBc0IsNkJBQTZCLDBDQUEwQyxvQkFBb0IsS0FBSyxvQkFBb0IsdUJBQXVCLEtBQUssd0JBQXdCLHdCQUF3QixlQUFlLGNBQWMsS0FBSyxlQUFlLDJCQUEyQixlQUFlLHdDQUF3QyxpQ0FBaUMsY0FBYyxLQUFLLHVCQUF1QixLQUFLLHdDQUF3QyxlQUFlLG9CQUFvQixLQUFLLHdDQUF3QyxjQUFjLEtBQUssd0NBQXdDLGlDQUFpQyxzQkFBc0IsS0FBSyxxQkFBcUIsZ0JBQWdCLE9BQU8sYUFBYSxhQUFhLE1BQU0sa0NBQWtDLGlCQUFpQixtQkFBbUIsSUFBSSxhQUFhLFdBQVcsYUFBYSxXQUFXLGFBQWEsVUFBVSwrQkFBK0Isb0NBQW9DLG1DQUFtQyw4QkFBOEIsd0NBQXdDLHdFQUF3RSxPQUFPLDhIQUE4SCxXQUFXLGtDQUFrQyxnQkFBZ0IsV0FBVyxRQUFRLHlCQUF5QixtQ0FBbUMsc0NBQXNDLCtCQUErQiwyQ0FBMkMsd0JBQXdCLHdDQUF3QyxzQkFBc0IsV0FBVyxRQUFRLHVCQUF1Qix5QkFBeUIsK0JBQStCLHNFQUFzRSxrQkFBa0Isa0JBQWtCLGtEQUFrRCxXQUFXLFNBQVMsbUNBQW1DLFVBQVUsc0NBQXNDLFlBQVksb0NBQW9DLGtCQUFrQix3QkFBd0IsNERBQTRELHFCQUFxQixjQUFjLDJCQUEyQixhQUFhLGlCQUFpQixrQkFBa0IsTUFBTSxPQUFPLHlCQUF5QixvQ0FBb0MsSUFBSSxZQUFZLG1CQUFtQixpQ0FBaUMsa0NBQWtDLCtCQUErQixnQkFBZ0IsWUFBWSw4QkFBOEIsS0FBSyxrQkFBa0IsK0NBQStDLHdCQUF3Qix5QkFBeUIseUJBQXlCLG1DQUFtQyxtQ0FBbUMsMkNBQTJDLE1BQU0saUNBQWlDLE1BQU0sa0NBQWtDLHlDQUF5Qyw4QkFBOEIsc0JBQXNCLE9BQU8sdUNBQXVDLGlDQUFpQyxPQUFPLHNEQUFzRCxzQ0FBc0MsMkJBQTJCLFlBQVksU0FBUyxLQUFLLDZCQUE2QixlQUFlLFNBQVMsb0NBQW9DLFdBQVcsa0JBQWtCLHdCQUF3QiwrQkFBK0Isd0JBQXdCLHVDQUF1QywrQkFBK0IsMkJBQTJCLDRCQUE0Qix3Q0FBd0MsbUNBQW1DLDRDQUE0Qyx5Q0FBeUMsMkJBQTJCLG1EQUFtRCx1Q0FBdUMscUJBQXFCLFFBQVEsb0JBQW9CLHNCQUFzQixtQkFBbUIscUJBQXFCLCtCQUErQiw0RUFBNEUsa0JBQWtCLGtCQUFrQixrQkFBa0IsK0JBQStCLDJCQUEyQix5Q0FBeUMsdUVBQXVFLDRCQUE0QixJQUFJLHVCQUF1QiwwQkFBMEIsVUFBVSxxQkFBcUIscUJBQXFCLHFCQUFxQixvQkFBb0IsbUNBQW1DLFNBQVMsdUJBQXVCLDZCQUE2QixRQUFRLHVCQUF1Qiw0QkFBNEIsZUFBZSxtQ0FBbUMsa0JBQWtCLHdCQUF3QixnQ0FBZ0MsUUFBUSxXQUFXLHlCQUF5Qix1QkFBdUIsYUFBYSwrQ0FBK0MsWUFBWSxxQkFBcUIsK0JBQStCLG9CQUFvQiwwQkFBMEIsMEJBQTBCLGNBQWMseUJBQXlCLGtEQUFrRCxzQkFBc0IsNEdBQTRHLEtBQUssYUFBYSx1QkFBdUIsaUNBQWlDLHdDQUF3QyxLQUFLLGFBQWEsdUJBQXVCLGdDQUFnQyx3Q0FBd0MsS0FBSyw0R0FBNEcsK0NBQStDLDBDQUEwQyw0SEFBNEgsT0FBTyxtQkFBbUIsd0ZBQXdGLHFCQUFxQixnQkFBZ0IsS0FBSyxtQkFBbUIsd0NBQXdDLFFBQVEsd0JBQXdCLFdBQVcsRUFBRSxvQ0FBb0Msd0JBQXdCLHFDQUFxQyxRQUFRLHVDQUF1QyxzQkFBc0IsRUFBRSxvQ0FBb0MscUJBQXFCLG1DQUFtQyxrQkFBa0Isa0RBQWtELHdCQUF3QiwwREFBMEQsYUFBYSwyQkFBMkIsd0VBQXdFLDRCQUE0Qix5R0FBeUcsY0FBYyw0Q0FBNEMsaUJBQWlCLHVCQUF1QixXQUFXLG1CQUFtQix5QkFBeUIsS0FBSyxrQ0FBa0MsMkJBQTJCLFVBQVUsd0JBQXdCLFlBQVksMENBQTBDLDBCQUEwQixJQUFJLE9BQU8sdUJBQXVCLHlCQUF5QixVQUFVLDJCQUEyQixPQUFPLDBCQUEwQix1QkFBdUIsT0FBTyxnQ0FBZ0MsZ0NBQWdDLGtDQUFrQyx5QkFBeUIsV0FBVyx1Q0FBdUMsS0FBSyxZQUFZLElBQUksd0NBQXdDLHFGQUFxRixPQUFPLHlCQUF5QixnQ0FBZ0MsNkJBQTZCLGlEQUFpRCwwQkFBMEIsNkJBQTZCLGtCQUFrQixPQUFPLFNBQVMsa0JBQWtCLG9CQUFvQixrREFBa0Qsa0JBQWtCLE9BQU8scUJBQXFCLEtBQUssbURBQW1ELEdBQUcseUJBQXlCLDJDQUEyQyxXQUFXLCtCQUErQixJQUFJLDZDQUE2QyxLQUFLLGtCQUFrQixtQ0FBbUMsTUFBTSx3Q0FBd0MsdUNBQXVDLFdBQVcsWUFBWSxjQUFjLHVCQUF1Qix3QkFBd0IsaURBQWlELDBCQUEwQixnTUFBZ00sOENBQThDLGlGQUFpRiwrQkFBK0IsV0FBVywyQkFBMkIsSUFBSSxZQUFZLHdCQUF3QixtQkFBbUIseUJBQXlCLHFDQUFxQyxTQUFTLHdCQUF3QixtQkFBbUIsOEJBQThCLDRCQUE0QixtQkFBbUIsOEJBQThCLDRCQUE0QixtQkFBbUIsOEJBQThCLHdCQUF3QixtQkFBbUIsOEJBQThCLGdCQUFnQixnREFBZ0QsY0FBYyx3Q0FBd0MsY0FBYyxTQUFTLGFBQWEscUJBQXFCLGVBQWUsU0FBUyxLQUFLLGVBQWUsU0FBUyxLQUFLLGVBQWUsV0FBVyxTQUFTLCtCQUErQixTQUFTLFlBQVksU0FBUyxxQkFBcUIsOEJBQThCLEtBQUsscUJBQXFCLDhCQUE4QixLQUFLLDRCQUE0QixLQUFLLFNBQVMscUJBQXFCLDhCQUE4QixLQUFLLHFCQUFxQiw4QkFBOEIsS0FBSywyQkFBMkIsS0FBSyxTQUFTLHFCQUFxQiw4QkFBOEIsS0FBSyxxQkFBcUIsOEJBQThCLEtBQUssNEJBQTRCLEtBQUssU0FBUyxxQkFBcUIsOEJBQThCLEtBQUsscUJBQXFCLDhCQUE4QixLQUFLLGdDQUFnQyw0Q0FBNEMsMExBQTBMLHlCQUF5QixRQUFRLHlDQUF5QyxxRUFBcUUsT0FBTyxPQUFPLE9BQU8sdURBQXVELG1DQUFtQyxRQUFRLG1CQUFtQixxQkFBcUIsbUJBQW1CLHFCQUFxQixhQUFhLEtBQUssYUFBYSxLQUFLLGFBQWEsS0FBSyxhQUFhLEtBQUssWUFBWSxLQUFLLFlBQVksS0FBSyxZQUFZLEtBQUssWUFBWSxLQUFLLGdPQUFnTyx3QkFBd0IsZ0pBQWdKLFFBQVEsVUFBVSxTQUFTLFNBQVMsU0FBUyxJQUFJLFlBQVksUUFBUSxXQUFXLFVBQVUsVUFBVSxVQUFVLElBQUksYUFBYSw4QkFBOEIsS0FBSyxPQUFPLGtEQUFrRCxnQ0FBZ0Msb0JBQW9CLHdDQUF3QyxVQUFVLGlCQUFpQixRQUFRLFFBQVEsRUFBRSxjQUFjLEVBQUUsa0JBQWtCLEVBQUUsUUFBUSxHQUFHLHNCQUFzQixNQUFNLCtDQUErQyxVQUFVLCtCQUErQixNQUFNLE1BQU0sa0JBQWtCLE1BQU0sYUFBYSxNQUFNLG9GQUFvRixPQUFPLFNBQVMsS0FBSyxVQUFVLFdBQVcsb0NBQW9DLG1DQUFtQyxNQUFNLE1BQU0sa0JBQWtCLE1BQU0sOEJBQThCLEtBQUssVUFBVSxXQUFXLHVDQUF1Qyx3Q0FBd0MsTUFBTSxNQUFNLGtCQUFrQixNQUFNLGFBQWEsTUFBTSx1SEFBdUgsT0FBTyxTQUFTLEtBQUssVUFBVSxXQUFXLDhDQUE4QyxtREFBbUQsUUFBUSxxREFBcUQsc0RBQXNELDhDQUE4Qyx3QkFBd0IsaUJBQWlCLGtCQUFrQix3QkFBd0IsbURBQW1ELGVBQWUsS0FBSyxhQUFhLGtCQUFrQiwyQkFBMkIsZ0NBQWdDLGVBQWUsa0JBQWtCLGtCQUFrQixrQ0FBa0MscURBQXFELCtDQUErQyxXQUFXLHNEQUFzRCwyQ0FBMkMseUJBQXlCLGlCQUFpQixpRkFBaUYsS0FBSywrRUFBK0UsK0NBQStDLHNEQUFzRCwyQ0FBMkMsK0JBQStCLHlCQUF5QixpQkFBaUIsNEdBQTRHLEtBQUssd0ZBQXdGLG1FQUFtRSxZQUFZLElBQUksWUFBWSxPQUFPLDRGQUE0RixRQUFRLG1EQUFtRCxrS0FBa0ssa0JBQWtCLEVBQUUsOEJBQThCLFlBQVksV0FBVyxLQUFLLGtCQUFrQixtRUFBbUUsZUFBZSxlQUFlLGlCQUFpQiw4QkFBOEIsT0FBTyx1QkFBdUIsVUFBVSxFQUFFLDhCQUE4QixPQUFPLDJCQUEyQixTQUFTLGlCQUFpQixnQkFBZ0IsV0FBVyx1QkFBdUIsUUFBUSwyQ0FBMkMscUJBQXFCLHlEQUF5RCxPQUFPLE9BQU8sU0FBUyxpQkFBaUIsdUJBQXVCLHNCQUFzQix3QkFBd0IseUJBQXlCLDRCQUE0Qix3Q0FBd0MsdUJBQXVCLHFCQUFxQixzQkFBc0Isc0JBQXNCLEtBQUssdUJBQXVCLHFCQUFxQixTQUFTLGtCQUFrQixpQkFBaUIsbURBQW1ELGdCQUFnQixrQkFBa0IsZ0NBQWdDLEtBQUssa0JBQWtCLGdCQUFnQixnQkFBZ0IsaURBQWlELGNBQWMsZ0JBQWdCLEtBQUssaUJBQWlCLGdCQUFnQix1QkFBdUIsbUNBQW1DLHNCQUFzQixNQUFNLEtBQUssb0NBQW9DLEtBQUssdUNBQXVDLDJGQUEyRixZQUFZLFdBQVcsS0FBSyxvQ0FBb0MsdUJBQXVCLG1DQUFtQyxZQUFZLE1BQU0sS0FBSywyQkFBMkIsT0FBTyxjQUFjLFdBQVcsaURBQWlELG1CQUFtQix1QkFBdUIsa0NBQWtDLDRDQUE0QyxjQUFjLGVBQWUsd0NBQXdDLGNBQWMsZ0JBQWdCLDhCQUE4Qix3QkFBd0IsTUFBTSxpQkFBaUIsU0FBUyxtQ0FBbUMsVUFBVSx3Q0FBd0MsT0FBTyxtQ0FBbUMsV0FBVyxvQ0FBb0MsV0FBVyxrQkFBa0IsY0FBYyx3QkFBd0IsaUVBQWlFLDJCQUEyQixZQUFZLHNCQUFzQixRQUFRLG1CQUFtQiwrQ0FBK0Msa0VBQWtFLGdCQUFnQixVQUFVLHFCQUFxQixhQUFhLGtDQUFrQyw4Q0FBOEMsZ0JBQWdCLHdDQUF3QyxnQ0FBZ0MsMENBQTBDLEtBQUssa0NBQWtDLGdCQUFnQixnQkFBZ0Isa0JBQWtCLG1CQUFtQixhQUFhLGtDQUFrQyxjQUFjLGtCQUFrQiw0Q0FBNEMsc0NBQXNDLDhCQUE4Qix3Q0FBd0MsS0FBSyxrQ0FBa0MsY0FBYyxjQUFjLDZCQUE2QixrQ0FBa0MsYUFBYSw0Q0FBNEMsa0NBQWtDLHdCQUF3QixnQ0FBZ0MsdUNBQXVDLG1DQUFtQyxnRUFBZ0UsNENBQTRDLGNBQWMseUNBQXlDLDJCQUEyQixTQUFTLGlEQUFpRCxZQUFZLGFBQWEsb0RBQW9ELHVCQUF1QiwrQkFBK0Isc0NBQXNDLCtCQUErQixLQUFLLHFCQUFxQixPQUFPLFVBQVUsa0NBQWtDLE1BQU0sc0NBQXNDLHlDQUF5QyxnREFBZ0Qsd0JBQXdCLHlCQUF5QixnSEFBZ0gsMkNBQTJDLGtEQUFrRCx3QkFBd0IseUJBQXlCLDhEQUE4RCw0Q0FBNEMsbURBQW1ELHdCQUF3Qix5QkFBeUIsb0NBQW9DLFlBQVksT0FBTyxLQUFLLHlDQUF5QyxpQ0FBaUMsV0FBVyxxQ0FBcUMsNENBQTRDLHdCQUF3QixnQ0FBZ0MsMkJBQTJCLDJDQUEyQyxrREFBa0Qsd0JBQXdCLGdDQUFnQywyQkFBMkIsb0RBQW9ELG9EQUFvRCxrREFBa0Qsb0JBQW9CLGdCQUFnQixnQkFBZ0Isa0JBQWtCLGNBQWMsNEJBQTRCLG9CQUFvQix5SkFBeUosaUNBQWlDLFNBQVMsTUFBTSxpQkFBaUIsK0NBQStDLE1BQU0sc0JBQXNCLE1BQU0sZ0JBQWdCLGNBQWMsZ1FBQWdRLGNBQWMsa0NBQWtDLFVBQVUsVUFBVSxVQUFVLFVBQVUsbUJBQW1CLHVEQUF1RCxzQ0FBc0MsOEJBQThCLDhCQUE4QixLQUFLLGNBQWMsZ0JBQWdCLGtDQUFrQyxhQUFhLDRDQUE0Qyx3QkFBd0IsbUJBQW1CLGtEQUFrRCxzQ0FBc0Msa0RBQWtELDJDQUEyQyx1REFBdUQsd0NBQXdDLG9EQUFvRCxJQUFJLFlBQVksT0FBTywwSUFBMEksa0xBQWtMLHNFQUFzRSxpQkFBaUIsZ0JBQWdCLDJCQUEyQixpQkFBaUIsd0NBQXdDLFFBQVEsZ0JBQWdCLGdCQUFnQixPQUFPLFNBQVMsZUFBZSx5QkFBeUIsZ0JBQWdCLGdCQUFnQixlQUFlLFlBQVksc0JBQXNCLEtBQUssMkRBQTJELGlDQUFpQyx1QkFBdUIsNkJBQTZCLEtBQUssdUJBQXVCLFdBQVcsb0NBQW9DLEVBQUUsaUJBQWlCLEtBQUssV0FBVyxLQUFLLEVBQUUsaUJBQWlCLFlBQVksMEJBQTBCLEtBQUssUUFBUSxnQkFBZ0IsMENBQTBDLEtBQUssMENBQTBDLDREQUE0RCxXQUFXLGlFQUFpRSxFQUFFLGlCQUFpQix3QkFBd0IsbUNBQW1DLHVCQUF1QixlQUFlLGFBQWEsS0FBSyxLQUFLLHFCQUFxQiwyRUFBMkUsK0VBQStFLGdCQUFnQiw4QkFBOEIsc0JBQXNCLHlEQUF5RCxzQkFBc0IsaUNBQWlDLEVBQUUsb0JBQW9CLEtBQUssU0FBUyx3QkFBd0IsZ0JBQWdCLFNBQVMsNEJBQTRCLGVBQWUsOEJBQThCLGlCQUFpQixPQUFPLDBCQUEwQixtQkFBbUIsd0RBQXdELFlBQVksV0FBVyxLQUFLLE1BQU0sd0JBQXdCLGNBQWMsS0FBSyxzQkFBc0IsVUFBVSxnQkFBZ0IsZ0NBQWdDLGlCQUFpQixZQUFZLGlCQUFpQixjQUFjLGlCQUFpQiw4Q0FBOEMsa0JBQWtCLHdDQUF3QyxzREFBc0QscUNBQXFDLHlEQUF5RCxrRUFBa0UsY0FBYyxrQkFBa0IsaUJBQWlCLG9CQUFvQix1Q0FBdUMsbUNBQW1DLHFDQUFxQyxxQkFBcUIsY0FBYywwQ0FBMEMsS0FBSyxTQUFTLFVBQVUsRUFBRSxlQUFlLCtEQUErRCxvQkFBb0IsNEJBQTRCLGlCQUFpQixtQ0FBbUMsVUFBVSxzQ0FBc0MsV0FBVywyQkFBMkIsWUFBWSxrQkFBa0Isb0JBQW9CLGlEQUFpRCxRQUFRLFNBQVMsZ0RBQWdELEVBQUUsa0NBQWtDLHVDQUF1QyxXQUFXLGVBQWUseUhBQXlILEdBQUcsMEJBQTBCLHNCQUFzQixJQUFJLFFBQVEsMEJBQTBCLG1CQUFtQiw4RUFBOEUsSUFBSSx1REFBdUQsY0FBYyxtQkFBbUIscUJBQXFCLDRCQUE0Qiw4QkFBOEIsS0FBSyxjQUFjLHdCQUF3QixpQkFBaUIsbUJBQW1CLDBCQUEwQiw0QkFBNEIsS0FBSyxZQUFZLHVCQUF1QixrQ0FBa0MsYUFBYSwwQ0FBMEMsV0FBVywyQ0FBMkMsMENBQTBDLGdEQUFnRCx3QkFBd0IseUJBQXlCLHlCQUF5QiwrREFBK0QsV0FBVyw0Q0FBNEMsa0RBQWtELHdCQUF3Qix5QkFBeUIsK0NBQStDLDRDQUE0QyxXQUFXLG1EQUFtRCx3QkFBd0IseUJBQXlCLHlCQUF5QixZQUFZLE9BQU8sS0FBSyxxQ0FBcUMsc0JBQXNCLFdBQVcscUNBQXFDLFdBQVcsZUFBZSx3SEFBd0gsR0FBRywwQkFBMEIsdUJBQXVCLElBQUksbUJBQW1CLDZCQUE2Qiw0REFBNEQsaUJBQWlCLHVCQUF1QiwwQkFBMEIsNEJBQTRCLHNCQUFzQixhQUFhLGtDQUFrQyxXQUFXLDJDQUEyQyxxQ0FBcUMsNENBQTRDLHdCQUF3Qiw0QkFBNEIsbUJBQW1CLDZCQUE2QixJQUFJLDJDQUEyQyxrREFBa0Qsd0JBQXdCLDRCQUE0QixpQkFBaUIsdUJBQXVCLElBQUksb0RBQW9ELG9EQUFvRCxrREFBa0Qsb0JBQW9CLGdCQUFnQix5Q0FBeUMsZ0NBQWdDLGtCQUFrQiwrQkFBK0IsWUFBWSxZQUFZLHVCQUF1QixFQUFFLHFCQUFxQix1QkFBdUIsdUJBQXVCLDhDQUE4QyxLQUFLLCtDQUErQyxHQUFHLGtCQUFrQixtSkFBbUosa0NBQWtDLE1BQU0scUNBQXFDLHdCQUF3QixZQUFZLDJDQUEyQyxzQ0FBc0Msa0RBQWtELDJDQUEyQyx1REFBdUQsd0NBQXdDLG9EQUFvRCwyQ0FBMkMsNkJBQTZCLGtEQUFrRCwrQkFBK0IsWUFBWSxZQUFZLHFCQUFxQix1QkFBdUIsdUJBQXVCLFlBQVkscUJBQXFCLHVCQUF1Qix1QkFBdUIsWUFBWSxxQkFBcUIsdUJBQXVCLHVCQUF1QixLQUFLLHNDQUFzQyxFQUFFLEtBQUssNkNBQTZDLEVBQUUsS0FBSyw4Q0FBOEMsR0FBRyxvQkFBb0IsMENBQTBDLElBQUksWUFBWSwyQkFBMkIsK0NBQStDLGVBQWUsa0RBQWtELGVBQWUsOENBQThDLGVBQWUsMkNBQTJDLGVBQWUsOENBQThDLGlCQUFpQixXQUFXLHVCQUF1QixpREFBaUQsaURBQWlELHVCQUF1Qix1REFBdUQsa0RBQWtELFlBQVksNkJBQTZCLEtBQUssNkJBQTZCLDRDQUE0QyxhQUFhLDBFQUEwRSw4REFBOEQsY0FBYyxtREFBbUQsd0JBQXdCLDJCQUEyQixtRkFBbUYscUVBQXFFLHNCQUFzQixPQUFPLHlCQUF5QixZQUFZLEtBQUssNkJBQTZCLFFBQVEseUJBQXlCLHlCQUF5Qix1QkFBdUIsc0JBQXNCLG9CQUFvQixTQUFTLDBCQUEwQixzQkFBc0IsdUJBQXVCLFNBQVMsMkJBQTJCLG1CQUFtQixPQUFPLGlCQUFpQiwwQkFBMEIseUJBQXlCLFFBQVEsdUJBQXVCLDZCQUE2QixzQkFBc0IsMEJBQTBCLFVBQVUsa0JBQWtCLHVDQUF1QyxxQ0FBcUMsNEJBQTRCLGVBQWUsdUJBQXVCLDJCQUEyQixjQUFjLGtDQUFrQyxVQUFVLGtCQUFrQix3QkFBd0IsU0FBUyxtQ0FBbUMsVUFBVSxzQ0FBc0MsWUFBWSwwQ0FBMEMsd0JBQXdCLG9CQUFvQixhQUFhLHdCQUF3QixlQUFlLGdDQUFnQyxZQUFZLDBCQUEwQixLQUFLLDhEQUE4RCxvQkFBb0IsY0FBYyxpQkFBaUIsNERBQTRELFlBQVksZ0VBQWdFLEVBQUUsZ0NBQWdDLGlDQUFpQyxzQkFBc0IsWUFBWSxpREFBaUQseUJBQXlCLCtDQUErQyx3Q0FBd0MsT0FBTyxVQUFVLGtCQUFrQixXQUFXLHdCQUF3Qix1REFBdUQsaUVBQWlFLGNBQWMsZ0NBQWdDLGlDQUFpQywyQkFBMkIsaURBQWlELHlCQUF5Qiw0Q0FBNEMsT0FBTyx3Q0FBd0MsaUNBQWlDLHlDQUF5Qyw0Q0FBNEMsd0JBQXdCLHlCQUF5QixJQUFJLG1CQUFtQixTQUFTLGlDQUFpQyxzQ0FBc0MsZUFBZSw2Q0FBNkMsMEJBQTBCLG9DQUFvQyxhQUFhLDRCQUE0QixZQUFZLHNEQUFzRCxvQkFBb0IsZUFBZSw4SEFBOEgsWUFBWSwwQkFBMEIsS0FBSyw4REFBOEQsY0FBYyxjQUFjLHVDQUF1QyxjQUFjLDRCQUE0QixTQUFTLGtCQUFrQixlQUFlLCtDQUErQyxXQUFXLGtEQUFrRCx3QkFBd0IsNEJBQTRCLHNEQUFzRCxvQkFBb0IsZUFBZSxvQ0FBb0MscUNBQXFDLG9DQUFvQyxxQ0FBcUMsc0NBQXNDLFlBQVksMEJBQTBCLEtBQUssOERBQThELGNBQWMsY0FBYyxzQkFBc0IsY0FBYyw0QkFBNEIsU0FBUyxrQkFBa0IsY0FBYyw4Q0FBOEMsV0FBVyxpREFBaUQsd0JBQXdCLDRCQUE0Qiw4RkFBOEYsWUFBWSxJQUFJLElBQUksTUFBTSxhQUFhLElBQUksS0FBSyxZQUFZLElBQUksTUFBTSx3QkFBd0IsaUJBQWlCLHdCQUF3QixjQUFjLGNBQWMsa0JBQWtCLGNBQWMsY0FBYyw0QkFBNEIsU0FBUyxrQkFBa0IsY0FBYyx1REFBdUQsdURBQXVELDRDQUE0QyxXQUFXLGdEQUFnRCx3QkFBd0IsMEJBQTBCLGtCQUFrQix3QkFBd0IscURBQXFELGdCQUFnQixvQ0FBb0MseURBQXlELDhDQUE4QyxnREFBZ0Qsa0RBQWtELHdCQUF3QiwwQkFBMEIsa0JBQWtCLGtEQUFrRCw2QkFBNkIsZ0JBQWdCLFFBQVEsNE9BQTRPLFlBQVksSUFBSSxLQUFLLHdCQUF3QixzTEFBc0wsa0JBQWtCLFFBQVEsd0JBQXdCLHdCQUF3QixLQUFLLHdCQUF3Qix3QkFBd0IsZ0JBQWdCLGtDQUFrQyxxREFBcUQsK0NBQStDLFdBQVcsbURBQW1ELHdCQUF3QiwwQkFBMEIsa0JBQWtCLHdCQUF3QixZQUFZLE9BQU8sS0FBSyxxQ0FBcUMsd0JBQXdCLGdCQUFnQixrQ0FBa0MscURBQXFELHFEQUFxRCxpQkFBaUIsa0RBQWtELG9CQUFvQixnQkFBZ0IsZ0JBQWdCLCtCQUErQixZQUFZLGNBQWMsY0FBYywwQkFBMEIsa0NBQWtDLDBCQUEwQixrQ0FBa0MsMEJBQTBCLGNBQWMsTUFBTSxnQkFBZ0IsV0FBVyxNQUFNLGNBQWMsWUFBWSx5Q0FBeUMsa0RBQWtELDhDQUE4Qyx1REFBdUQsMkNBQTJDLG9EQUFvRCxJQUFJLGFBQWEsd0JBQXdCLHVCQUF1Qiw2Q0FBNkMsSUFBSSxrREFBa0QsbUNBQW1DLFVBQVUsY0FBYyx5QkFBeUIsZUFBZSw2QkFBNkIscURBQXFELGtCQUFrQixRQUFRLHFCQUFxQixVQUFVLHNCQUFzQiw2Q0FBNkMsWUFBWSxhQUFhLHdHQUF3RyxzQkFBc0IscUJBQXFCLDRCQUE0QixpQkFBaUIseUJBQXlCLDRCQUE0QiwrQkFBK0IsZ0JBQWdCLDJCQUEyQixzQkFBc0IsMEJBQTBCLHFDQUFxQywwQkFBMEIsWUFBWSwwQkFBMEIscUNBQXFDLDJCQUEyQix3QkFBd0Isa0NBQWtDLEtBQUssY0FBYyxZQUFZLEtBQUssV0FBVyw4QkFBOEIseUNBQXlDLHVCQUF1QixrQkFBa0IsOEJBQThCLHVCQUF1Qix1QkFBdUIsd0JBQXdCLHVCQUF1QiwyREFBMkQsMkJBQTJCLHNCQUFzQiwwQkFBMEIscUJBQXFCLHlCQUF5QixZQUFZLHFCQUFxQix1Q0FBdUMsd0JBQXdCLGlEQUFpRCxvQ0FBb0MsMkJBQTJCLGdCQUFnQixLQUFLLGdDQUFnQyxLQUFLLHNCQUFzQiwwQkFBMEIsV0FBVyx3QkFBd0IscUJBQXFCLCtCQUErQixRQUFRLGNBQWMsTUFBTSx3Q0FBd0MsZUFBZSw2QkFBNkIsd0NBQXdDLGVBQWUsZ0NBQWdDLDZDQUE2QyxrQ0FBa0MsK0JBQStCLG1CQUFtQiwrQkFBK0IsbUJBQW1CLDJCQUEyQiw2Q0FBNkMsSUFBSSxrREFBa0Qsc0NBQXNDLFVBQVUsaUJBQWlCLDZCQUE2QixvREFBb0QsOEJBQThCLFlBQVksNEJBQTRCLG9DQUFvQyw0QkFBNEIsZ0NBQWdDLHlCQUF5QixxREFBcUQseUJBQXlCLDJFQUEyRSxLQUFLLHdCQUF3Qiw2Q0FBNkMsZ0JBQWdCLGdDQUFnQyxVQUFVLFlBQVksb0RBQW9ELHVCQUF1QixFQUFFLE9BQU8sdUJBQXVCLE9BQU8scUJBQXFCLDBCQUEwQix1QkFBdUIsb0JBQW9CLGtDQUFrQyxxQkFBcUIsT0FBTyxrQkFBa0IsbUNBQW1DLGdIQUFnSCxLQUFLLEtBQUssd0JBQXdCLFFBQVEsT0FBTyxLQUFLLDZCQUE2QixxQkFBcUIsUUFBUSxPQUFPLEtBQUssWUFBWSxLQUFLLEtBQUssZ0JBQWdCLGlDQUFpQyxRQUFRLEtBQUssS0FBSyxnQkFBZ0IsU0FBUyx1QkFBdUIsTUFBTSxRQUFRLE9BQU8sS0FBSyxrQkFBa0Isb0JBQW9CLEtBQUssS0FBSyxNQUFNLG1DQUFtQyxhQUFhLGlCQUFpQixxQkFBcUIsY0FBYyxVQUFVLElBQUksS0FBSyxzQ0FBc0MsY0FBYyxRQUFRLElBQUksUUFBUSxxQkFBcUIsY0FBYyxRQUFRLElBQUksSUFBSSxPQUFPLHVCQUF1QixxQkFBcUIsZ0NBQWdDLG1CQUFtQixZQUFZLEtBQUssS0FBSyxtQkFBbUIsVUFBVSxJQUFJLFVBQVUsZ0JBQWdCLGlCQUFpQix1QkFBdUIsU0FBUyxzQkFBc0IsZ0JBQWdCLDhCQUE4Qix1QkFBdUIsUUFBUSxJQUFJLEtBQUssMEJBQTBCLHFEQUFxRCxJQUFJLDhCQUE4QixJQUFJLHVCQUF1QiwwQkFBMEIsZ0JBQWdCLHNCQUFzQixnQkFBZ0IsZ0JBQWdCLG1EQUFtRCxVQUFVLGVBQWUsZUFBZSxlQUFlLFFBQVEsSUFBSSxLQUFLLFVBQVUsUUFBUSxJQUFJLEtBQUssWUFBWSxXQUFXLHVCQUF1QixtQkFBbUIsS0FBSyxLQUFLLGFBQWEsUUFBUSxLQUFLLEtBQUssUUFBUSxPQUFPLEtBQUssZ0JBQWdCLG9CQUFvQixFQUFFLDRDQUE0Qyw2Q0FBNkMsWUFBWSxRQUFRLEtBQUssS0FBSyxjQUFjLFlBQVksUUFBUSxLQUFLLEtBQUssZ0JBQWdCLGVBQWUsS0FBSyxlQUFlLFdBQVcsT0FBTyx1QkFBdUIsa0JBQWtCLFVBQVUsY0FBYyxtQkFBbUIsVUFBVSxjQUFjLG1CQUFtQixZQUFZLGVBQWUsbUJBQW1CLGdCQUFnQixXQUFXLEtBQUssWUFBWSxXQUFXLHNCQUFzQixtQkFBbUIsc0JBQXNCLEVBQUUsWUFBWSxJQUFJLEtBQUsseUJBQXlCLE1BQU0sS0FBSyxjQUFjLFFBQVEsSUFBSSxLQUFLLGNBQWMsaUJBQWlCLHNCQUFzQixtQkFBbUIsd0JBQXdCLEVBQUUsT0FBTyxTQUFTLGlCQUFpQixvQ0FBb0MsV0FBVyxLQUFLLG1CQUFtQixtQkFBbUIsT0FBTyxTQUFTLG1CQUFtQix1Q0FBdUMsY0FBYyxFQUFFLFlBQVksU0FBUyx1REFBdUQsSUFBSSxPQUFPLG9CQUFvQixpQkFBaUIsOERBQThELHFDQUFxQyxpQkFBaUIsb0ZBQW9GLFdBQVcsaUJBQWlCLGFBQWEsaUJBQWlCLGFBQWEsdUJBQXVCLG1DQUFtQyxhQUFhLE9BQU8sZ0VBQWdFLG9EQUFvRCxzQkFBc0IsMENBQTBDLHFCQUFxQixrQkFBa0Isa0JBQWtCLGtCQUFrQixrQkFBa0IsUUFBUSw0QkFBNEIsRUFBRSw0QkFBNEIsRUFBRSx3Q0FBd0MsMkJBQTJCO0FBQzN3ckgsNEJBQTRCLGVBQWUsaUNBQW1COztBQUU5RCxPQUFPO0FBQ1A7QUFDQSxpQ0FBaUMsaUNBQW1COztBQUVwRCxnR0FBZ0c7QUFDaEc7QUFDQTtBQUNBLDBEQUEwRDs7QUFFMUQ7QUFDQSxNQUFNLElBQUk7O0FBRVY7QUFDQSxxQ0FBcUMsaUNBQW1CO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLEVBQUUsTUFBTSxFQUlOO0FBQ0YsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElB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QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxrQ0FBa0M7QUFDM0M7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLENBQUM7O0FBRUQ7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQSxzQ0FBc0M7QUFDdEMscUNBQXFDO0FBQ3JDLHFDQUFxQztBQUNyQyx1Q0FBdUMsYUFBYTtBQUNwRCxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGtCQUFrQixXQUFXLFlBQVksZ0JBQWdCLDJCQUEyQixXQUFXO0FBQ3RJOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxrQkFBa0I7QUFDeEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1Qjs7QUFFdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qjs7QUFFNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0NBQW9DLGVBQWU7QUFDbkQsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5Q0FBeUMsb0JBQW9COztBQUU3RDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVELENBQUM7O0FBRUQ7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQSxrQ0FBa0MsMkJBQTJCO0FBQzdEO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQ0FBa0MsYUFBYTtBQUMvQyxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUNBQWlDLG9CQUFvQjtBQUNyRCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQSxzREFBc0Q7QUFDdEQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLG9DQUFvQywwQkFBMEI7QUFDOUQ7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNB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O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0EsZ0JBQWdCLG9CQUFvQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFO0FBQ2pFO0FBQ0EsaUVBQWlFO0FBQ2pFLDBEQUEwRCxrQkFBa0I7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVMsU0FBUztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RCx5RkFBeUY7QUFDekY7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0IsVUFBVTtBQUM1QztBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUyxTQUFTO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkdBQTZHO0FBQzdHO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsWUFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkVBQTJFO0FBQzNFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUJBQWlCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUEsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsK0JBQStCOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQSxtQkFBbUI7QUFDbkIsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGLFlBQVk7O0FBRVo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7O0FBRUgsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDLFFBQVE7O0FBRWhEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpSEFBaUgsc0NBQXNDO0FBQ3ZKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFD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QTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1COztBQUVuQjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCLGdDQUFnQzs7QUFFaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQyx1QkFBdUI7QUFDekQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxPQUFPO0FBQ2hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLCtDQUErQzs7QUFFeEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKOztBQUVBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSwrREFBK0Q7O0FBRS9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsV0FBVztBQUNYLEdBQUc7QUFDSDtBQUNBO0FBQ0EsV0FBVztBQUNYLEdBQUc7QUFDSDtBQUNBO0FBQ0EsV0FBVztBQUNYLEdBQUc7QUFDSDtBQUNBLFdBQVc7QUFDWCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUYsWUFBWTs7QUFFWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2RUFBNkU7QUFDekY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQ0FBa0MsdUJBQXVCLEtBQUs7QUFDOUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQix5Q0FBeUM7QUFDN0Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpRkFBaUY7QUFDakY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsSUFBSTtBQUNKLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSywyQkFBMkI7QUFDaEM7QUFDQTtBQUNBLHNCQUFzQixpQkFBaUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsU0FBUyxpQkFBaUI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxnQ0FBZ0M7QUFDaEYsTUFBTSw2QkFBNkIsY0FBYztBQUNqRCxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0I7QUFDOUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEJBQThCLGNBQWM7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QixtRkFBbUY7O0FBRTFHOztBQUVBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIOztBQUVBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixJQUFJLFlBQVksSUFBSSxZQUFZLElBQUk7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxtQkFBbUIsRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFFO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsNkJBQTZCOztBQUU3QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQSxFQUFFO0FBQ0Y7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JB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Q0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7O0FBRUQsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxDQUFDOztBQUVEOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsdUJBQXVCOztBQUVoQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtCQUErQjs7QUFFL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsV0FBVztBQUN4QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLFdBQVcsUUFBUTtBQUNoQztBQUNBOztBQUVBLGNBQWMsWUFBWSxRQUFRO0FBQ2xDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1COztBQUVuQjtBQUNBLGlEQUFpRDs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsV0FBVztBQUN4QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQixpQkFBaUI7QUFDakIsaUJBQWlCO0FBQ2pCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGFBQWEsV0FBVztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFOztBQUVGOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsVUFBVSxTQUFTLFVBQVU7QUFDN0MsZ0JBQWdCLFVBQVUsU0FBUyxVQUFVO0FBQzdDLG1CQUFtQixxREFBcUQ7O0FBRXhFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0NBQXNDLGFBQWE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQSxxQ0FBcUMsa0JBQWtCO0FBQ3ZELEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHdCQUF3QjtBQUN4QjtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsYUFBYTs7QUFFaEQ7QUFDQSxvQ0FBb0MsYUFBYTtBQUNqRDs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBLFVBQVU7QUFDVixFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1DQUFtQyxpQkFBaUI7QUFDcEQ7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUNBQXlDLGtCQUFrQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBLGtCQUFrQixpQ0FBaUM7QUFDbkQ7O0FBRUE7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlCQUFpQjtBQUNoQztBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UseUJBQXlCO0FBQ3pGO0FBQ0E7QUFDQSxtREFBbUQsK0NBQStDLEdBQUcsb0NBQW9DO0FBQ3pJO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsZ0VBQWdFLCtCQUErQjtBQUMvRjtBQUNBO0FBQ0EsbURBQW1ELGdEQUFnRCxHQUFHLG9DQUFvQztBQUMxSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZEQUE2RCwwQkFBMEI7QUFDdkY7QUFDQTtBQUNBLGdEQUFnRCxvQ0FBb0MsR0FBRyxvQ0FBb0M7QUFDM0g7QUFDQTtBQUNBLDZEQUE2RCwyQkFBMkI7QUFDeEY7QUFDQTtBQUNBLGdEQUFnRCxxQ0FBcUMsR0FBRyxvQ0FBb0M7QUFDNUg7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0NBQXNDLFFBQVE7QUFDOUM7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlDQUF5QztBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDLGlDQUFpQyxFQUFFO0FBQzNFOztBQUVBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EseUJBQXlCO0FBQ3pCOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlDQUFpQyxRQUFROztBQUV6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTs7QUFFQTs7QUFFQSxFQUFFOztBQUVGOztBQUVBOztBQUVBLGtCQUFrQixlQUFlOztBQUVqQztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsUUFBUTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBOztBQUVBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEseUJBQXlCLDZEQUE2RCxFQUFFO0FBQ3hGOztBQUVBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7O0FBRW5EO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0EsNkJBQTZCLFFBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0dBQWdHLGdEQUFnRDs7QUFFaEo7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTs7QUFFQTs7QUFFQSxFQUFFOztBQUVGOztBQUVBOztBQUVBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFOztBQUVGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1HQUFtRyx5QkFBeUI7QUFDNUg7O0FBRUEsaUNBQWlDO0FBQ2pDLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0EsNEJBQTRCLFFBQVE7QUFDcEM7QUFDQTtBQUNBLHdHQUF3Ryx5QkFBeUI7QUFDakk7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4QkFBOEIsUUFBUTtBQUN0QztBQUNBOztBQUVBLDZDQUE2QyxtQkFBbUI7QUFDaEU7O0FBRUEscURBQXFEOztBQUVyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxpQ0FBaUMsUUFBUTtBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILHVDQUF1QyxRQUFRO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IseUpBQXlKO0FBQy9LLHFCQUFxQix1SkFBdUo7QUFDNUs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0MsUUFBUTs7QUFFOUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDLFFBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0I7QUFDdEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxXQUFXO0FBQ1g7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw2QkFBNkI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQSxHQUFHOztBQUVILEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLHlDQUF5QyxpRUFBaUUsRUFBRTtBQUM1RztBQUNBO0FBQ0EseUNBQXlDLGdEQUFnRCxFQUFFLEVBQUU7QUFDN0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsZ0RBQWdELEVBQUU7QUFDNUYsdUNBQXVDLHlCQUF5QixrREFBa0QsR0FBRyxHQUFHO0FBQ3hILHVDQUF1Qyx5QkFBeUIsaURBQWlELElBQUksRUFBRTtBQUN2SDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsUUFBUTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG9DQUFvQztBQUNwQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZLDRCQUE0QjtBQUN4QztBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBLGtCQUFrQjtBQUNsQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsd0RBQXdELGVBQWU7QUFDdkU7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBLGdEQUFnRCxhQUFhLEVBQUU7QUFDL0QsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxHQUFH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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsdUNBQXVDO0FBQ3ZEO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLGdDQUFnQzs7QUFFaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBLGlDQUFpQyxtQkFBbUI7QUFDcEQsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDO0FBQzVDLHdCQUF3Qix1QkFBdUI7O0FBRS9DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsUUFBUTtBQUN6RCx1QkFBdUIsUUFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7O0FBRUgsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjOztBQUVkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxjQUFjOztBQUVsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGNBQWM7O0FBRWxEO0FBQ0E7QUFDQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTs7QUFFQSxnQ0FBZ0MsWUFBWSxFQUFFO0FBQzlDO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsa0NBQW1COztBQUVwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQSxnQkFBZ0Isa0NBQW1CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG9CQUFvQjtBQUNoRCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDRCQUE0QixlQUFlLGtDQUFtQjs7QUFFOUQsT0FBTztBQUNQLFkiLCJmaWxlIjoicnVuZXN0b25lX2NvZGVsZW5zX2pzX3B5dHV0b3ItZW1iZWRfYnVuZGxlX2pzLmJ1bmRsZS5qcz92PWRlYjhmMmYyNDdjNWY1OTg0YjdmIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDg3KTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qISBqUXVlcnkgdjMuMC4wIHwgKGMpIGpRdWVyeSBGb3VuZGF0aW9uIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovXG4hZnVuY3Rpb24oYSxiKXtcInVzZSBzdHJpY3RcIjtcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIik7cmV0dXJuIGIoYSl9OmIoYSl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oYSxiKXtcInVzZSBzdHJpY3RcIjt2YXIgYz1bXSxkPWEuZG9jdW1lbnQsZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YsZj1jLnNsaWNlLGc9Yy5jb25jYXQsaD1jLnB1c2gsaT1jLmluZGV4T2Ysaj17fSxrPWoudG9TdHJpbmcsbD1qLmhhc093blByb3BlcnR5LG09bC50b1N0cmluZyxuPW0uY2FsbChPYmplY3QpLG89e307ZnVuY3Rpb24gcChhLGIpe2I9Ynx8ZDt2YXIgYz1iLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7Yy50ZXh0PWEsYi5oZWFkLmFwcGVuZENoaWxkKGMpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyl9dmFyIHE9XCIzLjAuMFwiLHI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IHIuZm4uaW5pdChhLGIpfSxzPS9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyx0PS9eLW1zLS8sdT0vLShbYS16XSkvZyx2PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX07ci5mbj1yLnByb3RvdHlwZT17anF1ZXJ5OnEsY29uc3RydWN0b3I6cixsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIGYuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hPzA+YT90aGlzW2ErdGhpcy5sZW5ndGhdOnRoaXNbYV06Zi5jYWxsKHRoaXMpfSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSl7dmFyIGI9ci5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksYSk7cmV0dXJuIGIucHJldk9iamVjdD10aGlzLGJ9LGVhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIHIuZWFjaCh0aGlzLGEpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHIubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDpoLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sci5leHRlbmQ9ci5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoXCJib29sZWFuXCI9PXR5cGVvZiBnJiYoaj1nLGc9YXJndW1lbnRzW2hdfHx7fSxoKyspLFwib2JqZWN0XCI9PXR5cGVvZiBnfHxyLmlzRnVuY3Rpb24oZyl8fChnPXt9KSxoPT09aSYmKGc9dGhpcyxoLS0pO2k+aDtoKyspaWYobnVsbCE9KGE9YXJndW1lbnRzW2hdKSlmb3IoYiBpbiBhKWM9Z1tiXSxkPWFbYl0sZyE9PWQmJihqJiZkJiYoci5pc1BsYWluT2JqZWN0KGQpfHwoZT1yLmlzQXJyYXkoZCkpKT8oZT8oZT0hMSxmPWMmJnIuaXNBcnJheShjKT9jOltdKTpmPWMmJnIuaXNQbGFpbk9iamVjdChjKT9jOnt9LGdbYl09ci5leHRlbmQoaixmLGQpKTp2b2lkIDAhPT1kJiYoZ1tiXT1kKSk7cmV0dXJuIGd9LHIuZXh0ZW5kKHtleHBhbmRvOlwialF1ZXJ5XCIrKHErTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXFxEL2csXCJcIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT09ci50eXBlKGEpfSxpc0FycmF5OkFycmF5LmlzQXJyYXksaXNXaW5kb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJmE9PT1hLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKGEpe3ZhciBiPXIudHlwZShhKTtyZXR1cm4oXCJudW1iZXJcIj09PWJ8fFwic3RyaW5nXCI9PT1iKSYmIWlzTmFOKGEtcGFyc2VGbG9hdChhKSl9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGIsYztyZXR1cm4gYSYmXCJbb2JqZWN0IE9iamVjdF1cIj09PWsuY2FsbChhKT8oYj1lKGEpKT8oYz1sLmNhbGwoYixcImNvbnN0cnVjdG9yXCIpJiZiLmNvbnN0cnVjdG9yLFwiZnVuY3Rpb25cIj09dHlwZW9mIGMmJm0uY2FsbChjKT09PW4pOiEwOiExfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiO2ZvcihiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9LHR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/YStcIlwiOlwib2JqZWN0XCI9PXR5cGVvZiBhfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2pbay5jYWxsKGEpXXx8XCJvYmplY3RcIjp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihhKXtwKGEpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh0LFwibXMtXCIpLnJlcGxhY2UodSx2KX0sbm9kZU5hbWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yi50b0xvd2VyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0wO2lmKHcoYSkpe2ZvcihjPWEubGVuZ3RoO2M+ZDtkKyspaWYoYi5jYWxsKGFbZF0sZCxhW2RdKT09PSExKWJyZWFrfWVsc2UgZm9yKGQgaW4gYSlpZihiLmNhbGwoYVtkXSxkLGFbZF0pPT09ITEpYnJlYWs7cmV0dXJuIGF9LHRyaW06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/XCJcIjooYStcIlwiKS5yZXBsYWNlKHMsXCJcIil9LG1ha2VBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fFtdO3JldHVybiBudWxsIT1hJiYodyhPYmplY3QoYSkpP3IubWVyZ2UoYyxcInN0cmluZ1wiPT10eXBlb2YgYT9bYV06YSk6aC5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsPT1iPy0xOmkuY2FsbChiLGEsYyl9LG1lcmdlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPStiLmxlbmd0aCxkPTAsZT1hLmxlbmd0aDtjPmQ7ZCsrKWFbZSsrXT1iW2RdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9MCxoPVtdO2lmKHcoYSkpZm9yKGQ9YS5sZW5ndGg7ZD5mO2YrKyllPWIoYVtmXSxmLGMpLG51bGwhPWUmJmgucHVzaChlKTtlbHNlIGZvcihmIGluIGEpZT1iKGFbZl0sZixjKSxudWxsIT1lJiZoLnB1c2goZSk7cmV0dXJuIGcuYXBwbHkoW10saCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxyLmlzRnVuY3Rpb24oYSk/KGQ9Zi5jYWxsKGFyZ3VtZW50cywyKSxlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxkLmNvbmNhdChmLmNhbGwoYXJndW1lbnRzKSkpfSxlLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8ci5ndWlkKyssZSk6dm9pZCAwfSxub3c6RGF0ZS5ub3csc3VwcG9ydDpvfSksXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoci5mbltTeW1ib2wuaXRlcmF0b3JdPWNbU3ltYm9sLml0ZXJhdG9yXSksci5lYWNoKFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSxiKXtqW1wiW29iamVjdCBcIitiK1wiXVwiXT1iLnRvTG93ZXJDYXNlKCl9KTtmdW5jdGlvbiB3KGEpe3ZhciBiPSEhYSYmXCJsZW5ndGhcImluIGEmJmEubGVuZ3RoLGM9ci50eXBlKGEpO3JldHVyblwiZnVuY3Rpb25cIj09PWN8fHIuaXNXaW5kb3coYSk/ITE6XCJhcnJheVwiPT09Y3x8MD09PWJ8fFwibnVtYmVyXCI9PXR5cGVvZiBiJiZiPjAmJmItMSBpbiBhfXZhciB4PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU9XCJzaXp6bGVcIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9aGEoKSx6PWhhKCksQT1oYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPXt9Lmhhc093blByb3BlcnR5LEQ9W10sRT1ELnBvcCxGPUQucHVzaCxHPUQucHVzaCxIPUQuc2xpY2UsST1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sSj1cImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsSz1cIltcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdXCIsTD1cIig/OlxcXFxcXFxcLnxbXFxcXHctXXxbXlxceDAwLVxcXFx4YTBdKStcIixNPVwiXFxcXFtcIitLK1wiKihcIitMK1wiKSg/OlwiK0srXCIqKFsqXiR8IX5dPz0pXCIrSytcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiK0wrXCIpKXwpXCIrSytcIipcXFxcXVwiLE49XCI6KFwiK0wrXCIpKD86XFxcXCgoKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8KCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiK00rXCIpKil8LiopXFxcXCl8KVwiLE89bmV3IFJlZ0V4cChLK1wiK1wiLFwiZ1wiKSxQPW5ldyBSZWdFeHAoXCJeXCIrSytcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIrSytcIiskXCIsXCJnXCIpLFE9bmV3IFJlZ0V4cChcIl5cIitLK1wiKixcIitLK1wiKlwiKSxSPW5ldyBSZWdFeHAoXCJeXCIrSytcIiooWz4rfl18XCIrSytcIilcIitLK1wiKlwiKSxTPW5ldyBSZWdFeHAoXCI9XCIrSytcIiooW15cXFxcXSdcXFwiXSo/KVwiK0srXCIqXFxcXF1cIixcImdcIiksVD1uZXcgUmVnRXhwKE4pLFU9bmV3IFJlZ0V4cChcIl5cIitMK1wiJFwiKSxWPXtJRDpuZXcgUmVnRXhwKFwiXiMoXCIrTCtcIilcIiksQ0xBU1M6bmV3IFJlZ0V4cChcIl5cXFxcLihcIitMK1wiKVwiKSxUQUc6bmV3IFJlZ0V4cChcIl4oXCIrTCtcInxbKl0pXCIpLEFUVFI6bmV3IFJlZ0V4cChcIl5cIitNKSxQU0VVRE86bmV3IFJlZ0V4cChcIl5cIitOKSxDSElMRDpuZXcgUmVnRXhwKFwiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFxcXChcIitLK1wiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIrSytcIiooPzooWystXXwpXCIrSytcIiooXFxcXGQrKXwpKVwiK0srXCIqXFxcXCl8KVwiLFwiaVwiKSxib29sOm5ldyBSZWdFeHAoXCJeKD86XCIrSitcIikkXCIsXCJpXCIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKFwiXlwiK0srXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiK0srXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiK0srXCIqXFxcXCl8KSg/PVteLV18JClcIixcImlcIil9LFc9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxYPS9eaFxcZCQvaSxZPS9eW157XStcXHtcXHMqXFxbbmF0aXZlIFxcdy8sWj0vXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLywkPS9bK35dLyxfPW5ldyBSZWdFeHAoXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIitLK1wiP3woXCIrSytcIil8LilcIixcImlnXCIpLGFhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1cIjB4XCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGJhPS8oW1xcMC1cXHgxZlxceDdmXXxeLT9cXGQpfF4tJHxbXlxceDgwLVxcdUZGRkZcXHctXS9nLGNhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/XCJcXHgwMFwiPT09YT9cIlxcdWZmZmRcIjphLnNsaWNlKDAsLTEpK1wiXFxcXFwiK2EuY2hhckNvZGVBdChhLmxlbmd0aC0xKS50b1N0cmluZygxNikrXCIgXCI6XCJcXFxcXCIrYX0sZGE9ZnVuY3Rpb24oKXttKCl9LGVhPXRhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITB9LHtkaXI6XCJwYXJlbnROb2RlXCIsbmV4dDpcImxlZ2VuZFwifSk7dHJ5e0cuYXBwbHkoRD1ILmNhbGwodi5jaGlsZE5vZGVzKSx2LmNoaWxkTm9kZXMpLERbdi5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZmEpe0c9e2FwcGx5OkQubGVuZ3RoP2Z1bmN0aW9uKGEsYil7Ri5hcHBseShhLEguY2FsbChiKSl9OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sZW5ndGgsZD0wO3doaWxlKGFbYysrXT1iW2QrK10pO2EubGVuZ3RoPWMtMX19fWZ1bmN0aW9uIGdhKGEsYixkLGUpe3ZhciBmLGgsaixrLGwsbyxyLHM9YiYmYi5vd25lckRvY3VtZW50LHc9Yj9iLm5vZGVUeXBlOjk7aWYoZD1kfHxbXSxcInN0cmluZ1wiIT10eXBlb2YgYXx8IWF8fDEhPT13JiY5IT09dyYmMTEhPT13KXJldHVybiBkO2lmKCFlJiYoKGI/Yi5vd25lckRvY3VtZW50fHxiOnYpIT09biYmbShiKSxiPWJ8fG4scCkpe2lmKDExIT09dyYmKGw9Wi5leGVjKGEpKSlpZihmPWxbMV0pe2lmKDk9PT13KXtpZighKGo9Yi5nZXRFbGVtZW50QnlJZChmKSkpcmV0dXJuIGQ7aWYoai5pZD09PWYpcmV0dXJuIGQucHVzaChqKSxkfWVsc2UgaWYocyYmKGo9cy5nZXRFbGVtZW50QnlJZChmKSkmJnQoYixqKSYmai5pZD09PWYpcmV0dXJuIGQucHVzaChqKSxkfWVsc2V7aWYobFsyXSlyZXR1cm4gRy5hcHBseShkLGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpLGQ7aWYoKGY9bFszXSkmJmMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBHLmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGYpKSxkfWlmKGMucXNhJiYhQVthK1wiIFwiXSYmKCFxfHwhcS50ZXN0KGEpKSl7aWYoMSE9PXcpcz1iLHI9YTtlbHNlIGlmKFwib2JqZWN0XCIhPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpeyhrPWIuZ2V0QXR0cmlidXRlKFwiaWRcIikpP2s9ay5yZXBsYWNlKGJhLGNhKTpiLnNldEF0dHJpYnV0ZShcImlkXCIsaz11KSxvPWcoYSksaD1vLmxlbmd0aDt3aGlsZShoLS0pb1toXT1cIiNcIitrK1wiIFwiK3NhKG9baF0pO3I9by5qb2luKFwiLFwiKSxzPSQudGVzdChhKSYmcWEoYi5wYXJlbnROb2RlKXx8Yn1pZihyKXRyeXtyZXR1cm4gRy5hcHBseShkLHMucXVlcnlTZWxlY3RvckFsbChyKSksZH1jYXRjaCh4KXt9ZmluYWxseXtrPT09dSYmYi5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKX19fXJldHVybiBpKGEucmVwbGFjZShQLFwiJDFcIiksYixkLGUpfWZ1bmN0aW9uIGhhKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYytcIiBcIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrXCIgXCJdPWV9cmV0dXJuIGJ9ZnVuY3Rpb24gaWEoYSl7cmV0dXJuIGFbdV09ITAsYX1mdW5jdGlvbiBqYShhKXt2YXIgYj1uLmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBrYShhLGIpe3ZhciBjPWEuc3BsaXQoXCJ8XCIpLGU9Yy5sZW5ndGg7d2hpbGUoZS0tKWQuYXR0ckhhbmRsZVtjW2VdXT1ifWZ1bmN0aW9uIGxhKGEsYil7dmFyIGM9YiYmYSxkPWMmJjE9PT1hLm5vZGVUeXBlJiYxPT09Yi5ub2RlVHlwZSYmYS5zb3VyY2VJbmRleC1iLnNvdXJjZUluZGV4O2lmKGQpcmV0dXJuIGQ7aWYoYyl3aGlsZShjPWMubmV4dFNpYmxpbmcpaWYoYz09PWIpcmV0dXJuLTE7cmV0dXJuIGE/MTotMX1mdW5jdGlvbiBtYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKFwiaW5wdXRcIj09PWN8fFwiYnV0dG9uXCI9PT1jKSYmYi50eXBlPT09YX19ZnVuY3Rpb24gb2EoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVyblwibGFiZWxcImluIGImJmIuZGlzYWJsZWQ9PT1hfHxcImZvcm1cImluIGImJmIuZGlzYWJsZWQ9PT1hfHxcImZvcm1cImluIGImJmIuZGlzYWJsZWQ9PT0hMSYmKGIuaXNEaXNhYmxlZD09PWF8fGIuaXNEaXNhYmxlZCE9PSFhJiYoXCJsYWJlbFwiaW4gYnx8IWVhKGIpKSE9PWEpfX1mdW5jdGlvbiBwYShhKXtyZXR1cm4gaWEoZnVuY3Rpb24oYil7cmV0dXJuIGI9K2IsaWEoZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEoW10sYy5sZW5ndGgsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pY1tlPWZbZ11dJiYoY1tlXT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBxYShhKXtyZXR1cm4gYSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmF9Yz1nYS5zdXBwb3J0PXt9LGY9Z2EuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiP1wiSFRNTFwiIT09Yi5ub2RlTmFtZTohMX0sbT1nYS5zZXREb2N1bWVudD1mdW5jdGlvbihhKXt2YXIgYixlLGc9YT9hLm93bmVyRG9jdW1lbnR8fGE6djtyZXR1cm4gZyE9PW4mJjk9PT1nLm5vZGVUeXBlJiZnLmRvY3VtZW50RWxlbWVudD8obj1nLG89bi5kb2N1bWVudEVsZW1lbnQscD0hZihuKSx2IT09biYmKGU9bi5kZWZhdWx0VmlldykmJmUudG9wIT09ZSYmKGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIixkYSwhMSk6ZS5hdHRhY2hFdmVudCYmZS5hdHRhY2hFdmVudChcIm9udW5sb2FkXCIsZGEpKSxjLmF0dHJpYnV0ZXM9amEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xhc3NOYW1lPVwiaVwiLCFhLmdldEF0dHJpYnV0ZShcImNsYXNzTmFtZVwiKX0pLGMuZ2V0RWxlbWVudHNCeVRhZ05hbWU9amEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQobi5jcmVhdGVDb21tZW50KFwiXCIpKSwhYS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPVkudGVzdChuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGMuZ2V0QnlJZD1qYShmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11LCFuLmdldEVsZW1lbnRzQnlOYW1lfHwhbi5nZXRFbGVtZW50c0J5TmFtZSh1KS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRCeUlkJiZwKXt2YXIgYz1iLmdldEVsZW1lbnRCeUlkKGEpO3JldHVybiBjP1tjXTpbXX19LGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShfLGFhKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKFwiaWRcIik9PT1ifX0pOihkZWxldGUgZC5maW5kLklELGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShfLGFhKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSYmYS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk6Yy5xc2E/Yi5xdWVyeVNlbGVjdG9yQWxsKGEpOnZvaWQgMH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7aWYoXCIqXCI9PT1hKXt3aGlsZShjPWZbZSsrXSkxPT09Yy5ub2RlVHlwZSYmZC5wdXNoKGMpO3JldHVybiBkfXJldHVybiBmfSxkLmZpbmQuQ0xBU1M9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT1ZLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihqYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD1cIjxhIGlkPSdcIit1K1wiJz48L2E+PHNlbGVjdCBpZD0nXCIrdStcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiLGEucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCYmcS5wdXNoKFwiWypeJF09XCIrSytcIiooPzonJ3xcXFwiXFxcIilcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGh8fHEucHVzaChcIlxcXFxbXCIrSytcIiooPzp2YWx1ZXxcIitKK1wiKVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbaWR+PVwiK3UrXCItXVwiKS5sZW5ndGh8fHEucHVzaChcIn49XCIpLGEucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aHx8cS5wdXNoKFwiOmNoZWNrZWRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiYSNcIit1K1wiKypcIikubGVuZ3RofHxxLnB1c2goXCIuIy4rWyt+XVwiKX0pLGphKGZ1bmN0aW9uKGEpe2EuaW5uZXJIVE1MPVwiPGEgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjwvYT48c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+XCI7dmFyIGI9bi5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Yi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJoaWRkZW5cIiksYS5hcHBlbmRDaGlsZChiKS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJEXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCYmcS5wdXNoKFwibmFtZVwiK0srXCIqWypeJHwhfl0/PVwiKSwyIT09YS5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RoJiZxLnB1c2goXCI6ZW5hYmxlZFwiLFwiOmRpc2FibGVkXCIpLG8uYXBwZW5kQ2hpbGQoYSkuZGlzYWJsZWQ9ITAsMiE9PWEucXVlcnlTZWxlY3RvckFsbChcIjpkaXNhYmxlZFwiKS5sZW5ndGgmJnEucHVzaChcIjplbmFibGVkXCIsXCI6ZGlzYWJsZWRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKSxxLnB1c2goXCIsLio6XCIpfSkpLChjLm1hdGNoZXNTZWxlY3Rvcj1ZLnRlc3Qocz1vLm1hdGNoZXN8fG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxvLm1vek1hdGNoZXNTZWxlY3Rvcnx8by5vTWF0Y2hlc1NlbGVjdG9yfHxvLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmphKGZ1bmN0aW9uKGEpe2MuZGlzY29ubmVjdGVkTWF0Y2g9cy5jYWxsKGEsXCIqXCIpLHMuY2FsbChhLFwiW3MhPScnXTp4XCIpLHIucHVzaChcIiE9XCIsTil9KSxxPXEubGVuZ3RoJiZuZXcgUmVnRXhwKHEuam9pbihcInxcIikpLHI9ci5sZW5ndGgmJm5ldyBSZWdFeHAoci5qb2luKFwifFwiKSksYj1ZLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHxZLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1ufHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PW58fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/SShrLGEpLUkoayxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBjLGQ9MCxlPWEucGFyZW50Tm9kZSxmPWIucGFyZW50Tm9kZSxnPVthXSxoPVtiXTtpZighZXx8IWYpcmV0dXJuIGE9PT1uPy0xOmI9PT1uPzE6ZT8tMTpmPzE6az9JKGssYSktSShrLGIpOjA7aWYoZT09PWYpcmV0dXJuIGxhKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWcudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO3doaWxlKGdbZF09PT1oW2RdKWQrKztyZXR1cm4gZD9sYShnW2RdLGhbZF0pOmdbZF09PT12Py0xOmhbZF09PT12PzE6MH0sbik6bn0sZ2EubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBnYShhLG51bGwsbnVsbCxiKX0sZ2EubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFMsXCI9JyQxJ11cIiksYy5tYXRjaGVzU2VsZWN0b3ImJnAmJiFBW2IrXCIgXCJdJiYoIXJ8fCFyLnRlc3QoYikpJiYoIXF8fCFxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBnYShiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxnYS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGdhLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZDLmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxnYS5lc2NhcGU9ZnVuY3Rpb24oYSl7cmV0dXJuKGErXCJcIikucmVwbGFjZShiYSxjYSl9LGdhLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiK2EpfSxnYS51bmlxdWVTb3J0PWZ1bmN0aW9uKGEpe3ZhciBiLGQ9W10sZT0wLGY9MDtpZihsPSFjLmRldGVjdER1cGxpY2F0ZXMsaz0hYy5zb3J0U3RhYmxlJiZhLnNsaWNlKDApLGEuc29ydChCKSxsKXt3aGlsZShiPWFbZisrXSliPT09YVtmXSYmKGU9ZC5wdXNoKGYpKTt3aGlsZShlLS0pYS5zcGxpY2UoZFtlXSwxKX1yZXR1cm4gaz1udWxsLGF9LGU9Z2EuZ2V0VGV4dD1mdW5jdGlvbihhKXt2YXIgYixjPVwiXCIsZD0wLGY9YS5ub2RlVHlwZTtpZihmKXtpZigxPT09Znx8OT09PWZ8fDExPT09Zil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1nYS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzppYSxtYXRjaDpWLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7XCI+XCI6e2RpcjpcInBhcmVudE5vZGVcIixmaXJzdDohMH0sXCIgXCI6e2RpcjpcInBhcmVudE5vZGVcIn0sXCIrXCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wiLGZpcnN0OiEwfSxcIn5cIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5yZXBsYWNlKF8sYWEpLGFbM109KGFbM118fGFbNF18fGFbNV18fFwiXCIpLnJlcGxhY2UoXyxhYSksXCJ+PVwiPT09YVsyXSYmKGFbM109XCIgXCIrYVszXStcIiBcIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksXCJudGhcIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8Z2EuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooXCJldmVuXCI9PT1hWzNdfHxcIm9kZFwiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fFwib2RkXCI9PT1hWzNdKSk6YVszXSYmZ2EuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFYuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8XCJcIjpjJiZULnRlc3QoYykmJihiPWcoYywhMCkpJiYoYj1jLmluZGV4T2YoXCIpXCIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoXyxhYSkudG9Mb3dlckNhc2UoKTtyZXR1cm5cIipcIj09PWE/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWJ9fSxDTEFTUzpmdW5jdGlvbihhKXt2YXIgYj15W2ErXCIgXCJdO3JldHVybiBifHwoYj1uZXcgUmVnRXhwKFwiKF58XCIrSytcIilcIithK1wiKFwiK0srXCJ8JClcIikpJiZ5KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdChcInN0cmluZ1wiPT10eXBlb2YgYS5jbGFzc05hbWUmJmEuY2xhc3NOYW1lfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpfSl9LEFUVFI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXt2YXIgZT1nYS5hdHRyKGQsYSk7cmV0dXJuIG51bGw9PWU/XCIhPVwiPT09YjpiPyhlKz1cIlwiLFwiPVwiPT09Yj9lPT09YzpcIiE9XCI9PT1iP2UhPT1jOlwiXj1cIj09PWI/YyYmMD09PWUuaW5kZXhPZihjKTpcIio9XCI9PT1iP2MmJmUuaW5kZXhPZihjKT4tMTpcIiQ9XCI9PT1iP2MmJmUuc2xpY2UoLWMubGVuZ3RoKT09PWM6XCJ+PVwiPT09Yj8oXCIgXCIrZS5yZXBsYWNlKE8sXCIgXCIpK1wiIFwiKS5pbmRleE9mKGMpPi0xOlwifD1cIj09PWI/ZT09PWN8fGUuc2xpY2UoMCxjLmxlbmd0aCsxKT09PWMrXCItXCI6ITEpOiEwfX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1cIm50aFwiIT09YS5zbGljZSgwLDMpLGc9XCJsYXN0XCIhPT1hLnNsaWNlKC00KSxoPVwib2YtdHlwZVwiPT09YjtyZXR1cm4gMT09PWQmJjA9PT1lP2Z1bmN0aW9uKGEpe3JldHVybiEhYS5wYXJlbnROb2RlfTpmdW5jdGlvbihiLGMsaSl7dmFyIGosayxsLG0sbixvLHA9ZiE9PWc/XCJuZXh0U2libGluZ1wiOlwicHJldmlvdXNTaWJsaW5nXCIscT1iLnBhcmVudE5vZGUscj1oJiZiLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkscz0haSYmIWgsdD0hMTtpZihxKXtpZihmKXt3aGlsZShwKXttPWI7d2hpbGUobT1tW3BdKWlmKGg/bS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09cjoxPT09bS5ub2RlVHlwZSlyZXR1cm4hMTtvPXA9XCJvbmx5XCI9PT1hJiYhbyYmXCJuZXh0U2libGluZ1wifXJldHVybiEwfWlmKG89W2c/cS5maXJzdENoaWxkOnEubGFzdENoaWxkXSxnJiZzKXttPXEsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biYmalsyXSxtPW4mJnEuY2hpbGROb2Rlc1tuXTt3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigxPT09bS5ub2RlVHlwZSYmKyt0JiZtPT09Yil7a1thXT1bdyxuLHRdO2JyZWFrfX1lbHNlIGlmKHMmJihtPWIsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biksdD09PSExKXdoaWxlKG09KytuJiZtJiZtW3BdfHwodD1uPTApfHxvLnBvcCgpKWlmKChoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpJiYrK3QmJihzJiYobD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksa1thXT1bdyx0XSksbT09PWIpKWJyZWFrO3JldHVybiB0LT1lLHQ9PT1kfHx0JWQ9PT0wJiZ0L2Q+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1kLnBzZXVkb3NbYV18fGQuc2V0RmlsdGVyc1thLnRvTG93ZXJDYXNlKCldfHxnYS5lcnJvcihcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIrYSk7cmV0dXJuIGVbdV0/ZShiKTplLmxlbmd0aD4xPyhjPVthLGEsXCJcIixiXSxkLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoYS50b0xvd2VyQ2FzZSgpKT9pYShmdW5jdGlvbihhLGMpe3ZhciBkLGY9ZShhLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWQ9SShhLGZbZ10pLGFbZF09IShjW2RdPWZbZ10pfSk6ZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSwwLGMpfSk6ZX19LHBzZXVkb3M6e25vdDppYShmdW5jdGlvbihhKXt2YXIgYj1bXSxjPVtdLGQ9aChhLnJlcGxhY2UoUCxcIiQxXCIpKTtyZXR1cm4gZFt1XT9pYShmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSxiWzBdPW51bGwsIWMucG9wKCl9fSksaGFzOmlhKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZ2EoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczppYShmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoXyxhYSksZnVuY3Rpb24oYil7cmV0dXJuKGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0fHxlKGIpKS5pbmRleE9mKGEpPi0xfX0pLGxhbmc6aWEoZnVuY3Rpb24oYSl7cmV0dXJuIFUudGVzdChhfHxcIlwiKXx8Z2EuZXJyb3IoXCJ1bnN1cHBvcnRlZCBsYW5nOiBcIithKSxhPWEucmVwbGFjZShfLGFhKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGIpe3ZhciBjO2RvIGlmKGM9cD9iLmxhbmc6Yi5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKXJldHVybiBjPWMudG9Mb3dlckNhc2UoKSxjPT09YXx8MD09PWMuaW5kZXhPZihhK1wiLVwiKTt3aGlsZSgoYj1iLnBhcmVudE5vZGUpJiYxPT09Yi5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGIpe3ZhciBjPWEubG9jYXRpb24mJmEubG9jYXRpb24uaGFzaDtyZXR1cm4gYyYmYy5zbGljZSgxKT09PWIuaWR9LHJvb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1vfSxmb2N1czpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW4uYWN0aXZlRWxlbWVudCYmKCFuLmhhc0ZvY3VzfHxuLmhhc0ZvY3VzKCkpJiYhIShhLnR5cGV8fGEuaHJlZnx8fmEudGFiSW5kZXgpfSxlbmFibGVkOm9hKCExKSxkaXNhYmxlZDpvYSghMCksY2hlY2tlZDpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09YiYmISFhLmNoZWNrZWR8fFwib3B0aW9uXCI9PT1iJiYhIWEuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LGEuc2VsZWN0ZWQ9PT0hMH0sZW1wdHk6ZnVuY3Rpb24oYSl7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWlmKGEubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiFkLnBzZXVkb3MuZW1wdHkoYSl9LGhlYWRlcjpmdW5jdGlvbihhKXtyZXR1cm4gWC50ZXN0KGEubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihhKXtyZXR1cm4gVy50ZXN0KGEubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWImJlwiYnV0dG9uXCI9PT1hLnR5cGV8fFwiYnV0dG9uXCI9PT1ifSx0ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVyblwiaW5wdXRcIj09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmXCJ0ZXh0XCI9PT1hLnR5cGUmJihudWxsPT0oYj1hLmdldEF0dHJpYnV0ZShcInR5cGVcIikpfHxcInRleHRcIj09PWIudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnBhKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpwYShmdW5jdGlvbihhLGIpe3JldHVybltiLTFdfSksZXE6cGEoZnVuY3Rpb24oYSxiLGMpe3JldHVyblswPmM/YytiOmNdfSksZXZlbjpwYShmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLG9kZDpwYShmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0xO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLGx0OnBhKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOy0tZD49MDspYS5wdXNoKGQpO3JldHVybiBhfSksZ3Q6cGEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7KytkPGI7KWEucHVzaChkKTtyZXR1cm4gYX0pfX0sZC5wc2V1ZG9zLm50aD1kLnBzZXVkb3MuZXE7Zm9yKGIgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pZC5wc2V1ZG9zW2JdPW1hKGIpO2ZvcihiIGlue3N1Ym1pdDohMCxyZXNldDohMH0pZC5wc2V1ZG9zW2JdPW5hKGIpO2Z1bmN0aW9uIHJhKCl7fXJhLnByb3RvdHlwZT1kLmZpbHRlcnM9ZC5wc2V1ZG9zLGQuc2V0RmlsdGVycz1uZXcgcmEsZz1nYS50b2tlbml6ZT1mdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGgsaSxqLGs9elthK1wiIFwiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtoPWEsaT1bXSxqPWQucHJlRmlsdGVyO3doaWxlKGgpe2MmJiEoZT1RLmV4ZWMoaCkpfHwoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1SLmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFAsXCIgXCIpfSksaD1oLnNsaWNlKGMubGVuZ3RoKSk7Zm9yKGcgaW4gZC5maWx0ZXIpIShlPVZbZ10uZXhlYyhoKSl8fGpbZ10mJiEoZT1qW2ddKGUpKXx8KGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmcsbWF0Y2hlczplfSksaD1oLnNsaWNlKGMubGVuZ3RoKSk7aWYoIWMpYnJlYWt9cmV0dXJuIGI/aC5sZW5ndGg6aD9nYS5lcnJvcihhKTp6KGEsaSkuc2xpY2UoMCl9O2Z1bmN0aW9uIHNhKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGgsZD1cIlwiO2M+YjtiKyspZCs9YVtiXS52YWx1ZTtyZXR1cm4gZH1mdW5jdGlvbiB0YShhLGIsYyl7dmFyIGQ9Yi5kaXIsZT1iLm5leHQsZj1lfHxkLGc9YyYmXCJwYXJlbnROb2RlXCI9PT1mLGg9eCsrO3JldHVybiBiLmZpcnN0P2Z1bmN0aW9uKGIsYyxlKXt3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGcpcmV0dXJuIGEoYixjLGUpfTpmdW5jdGlvbihiLGMsaSl7dmFyIGosayxsLG09W3csaF07aWYoaSl7d2hpbGUoYj1iW2RdKWlmKCgxPT09Yi5ub2RlVHlwZXx8ZykmJmEoYixjLGkpKXJldHVybiEwfWVsc2Ugd2hpbGUoYj1iW2RdKWlmKDE9PT1iLm5vZGVUeXBlfHxnKWlmKGw9Ylt1XXx8KGJbdV09e30pLGs9bFtiLnVuaXF1ZUlEXXx8KGxbYi51bmlxdWVJRF09e30pLGUmJmU9PT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpYj1iW2RdfHxiO2Vsc2V7aWYoKGo9a1tmXSkmJmpbMF09PT13JiZqWzFdPT09aClyZXR1cm4gbVsyXT1qWzJdO2lmKGtbZl09bSxtWzJdPWEoYixjLGkpKXJldHVybiEwfX19ZnVuY3Rpb24gdWEoYSl7cmV0dXJuIGEubGVuZ3RoPjE/ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEubGVuZ3RoO3doaWxlKGUtLSlpZighYVtlXShiLGMsZCkpcmV0dXJuITE7cmV0dXJuITB9OmFbMF19ZnVuY3Rpb24gdmEoYSxiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKylnYShhLGJbZF0sYyk7cmV0dXJuIGN9ZnVuY3Rpb24gd2EoYSxiLGMsZCxlKXtmb3IodmFyIGYsZz1bXSxoPTAsaT1hLmxlbmd0aCxqPW51bGwhPWI7aT5oO2grKykoZj1hW2hdKSYmKGMmJiFjKGYsZCxlKXx8KGcucHVzaChmKSxqJiZiLnB1c2goaCkpKTtyZXR1cm4gZ31mdW5jdGlvbiB4YShhLGIsYyxkLGUsZil7cmV0dXJuIGQmJiFkW3VdJiYoZD14YShkKSksZSYmIWVbdV0mJihlPXhhKGUsZikpLGlhKGZ1bmN0aW9uKGYsZyxoLGkpe3ZhciBqLGssbCxtPVtdLG49W10sbz1nLmxlbmd0aCxwPWZ8fHZhKGJ8fFwiKlwiLGgubm9kZVR5cGU/W2hdOmgsW10pLHE9IWF8fCFmJiZiP3A6d2EocCxtLGEsaCxpKSxyPWM/ZXx8KGY/YTpvfHxkKT9bXTpnOnE7aWYoYyYmYyhxLHIsaCxpKSxkKXtqPXdhKHIsbiksZChqLFtdLGgsaSksaz1qLmxlbmd0aDt3aGlsZShrLS0pKGw9altrXSkmJihyW25ba11dPSEocVtuW2tdXT1sKSl9aWYoZil7aWYoZXx8YSl7aWYoZSl7aj1bXSxrPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmai5wdXNoKHFba109bCk7ZShudWxsLHI9W10saixpKX1rPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmKGo9ZT9JKGYsbCk6bVtrXSk+LTEmJihmW2pdPSEoZ1tqXT1sKSl9fWVsc2Ugcj13YShyPT09Zz9yLnNwbGljZShvLHIubGVuZ3RoKTpyKSxlP2UobnVsbCxnLHIsaSk6Ry5hcHBseShnLHIpfSl9ZnVuY3Rpb24geWEoYSl7Zm9yKHZhciBiLGMsZSxmPWEubGVuZ3RoLGc9ZC5yZWxhdGl2ZVthWzBdLnR5cGVdLGg9Z3x8ZC5yZWxhdGl2ZVtcIiBcIl0saT1nPzE6MCxrPXRhKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD10YShmdW5jdGlvbihhKXtyZXR1cm4gSShiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7dmFyIGU9IWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSk7cmV0dXJuIGI9bnVsbCxlfV07Zj5pO2krKylpZihjPWQucmVsYXRpdmVbYVtpXS50eXBlXSltPVt0YSh1YShtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2FbaV0udHlwZV0uYXBwbHkobnVsbCxhW2ldLm1hdGNoZXMpLGNbdV0pe2ZvcihlPSsraTtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4geGEoaT4xJiZ1YShtKSxpPjEmJnNhKGEuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6XCIgXCI9PT1hW2ktMl0udHlwZT9cIipcIjpcIlwifSkpLnJlcGxhY2UoUCxcIiQxXCIpLGMsZT5pJiZ5YShhLnNsaWNlKGksZSkpLGY+ZSYmeWEoYT1hLnNsaWNlKGUpKSxmPmUmJnNhKGEpKX1tLnB1c2goYyl9cmV0dXJuIHVhKG0pfWZ1bmN0aW9uIHphKGEsYil7dmFyIGM9Yi5sZW5ndGg+MCxlPWEubGVuZ3RoPjAsZj1mdW5jdGlvbihmLGcsaCxpLGspe3ZhciBsLG8scSxyPTAscz1cIjBcIix0PWYmJltdLHU9W10sdj1qLHg9Znx8ZSYmZC5maW5kLlRBRyhcIipcIixrKSx5PXcrPW51bGw9PXY/MTpNYXRoLnJhbmRvbSgpfHwuMSx6PXgubGVuZ3RoO2ZvcihrJiYoaj1nPT09bnx8Z3x8ayk7cyE9PXomJm51bGwhPShsPXhbc10pO3MrKyl7aWYoZSYmbCl7bz0wLGd8fGwub3duZXJEb2N1bWVudD09PW58fChtKGwpLGg9IXApO3doaWxlKHE9YVtvKytdKWlmKHEobCxnfHxuLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9eSl9YyYmKChsPSFxJiZsKSYmci0tLGYmJnQucHVzaChsKSl9aWYocis9cyxjJiZzIT09cil7bz0wO3doaWxlKHE9YltvKytdKXEodCx1LGcsaCk7aWYoZil7aWYocj4wKXdoaWxlKHMtLSl0W3NdfHx1W3NdfHwodVtzXT1FLmNhbGwoaSkpO3U9d2EodSl9Ry5hcHBseShpLHUpLGsmJiFmJiZ1Lmxlbmd0aD4wJiZyK2IubGVuZ3RoPjEmJmdhLnVuaXF1ZVNvcnQoaSl9cmV0dXJuIGsmJih3PXksaj12KSx0fTtyZXR1cm4gYz9pYShmKTpmfXJldHVybiBoPWdhLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1BW2ErXCIgXCJdO2lmKCFmKXtifHwoYj1nKGEpKSxjPWIubGVuZ3RoO3doaWxlKGMtLSlmPXlhKGJbY10pLGZbdV0/ZC5wdXNoKGYpOmUucHVzaChmKTtmPUEoYSx6YShlLGQpKSxmLnNlbGVjdG9yPWF9cmV0dXJuIGZ9LGk9Z2Euc2VsZWN0PWZ1bmN0aW9uKGEsYixlLGYpe3ZhciBpLGosayxsLG0sbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiZhLG89IWYmJmcoYT1uLnNlbGVjdG9yfHxhKTtpZihlPWV8fFtdLDE9PT1vLmxlbmd0aCl7aWYoaj1vWzBdPW9bMF0uc2xpY2UoMCksai5sZW5ndGg+MiYmXCJJRFwiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoXyxhYSksYil8fFtdKVswXSwhYilyZXR1cm4gZTtuJiYoYj1iLnBhcmVudE5vZGUpLGE9YS5zbGljZShqLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1pPVYubmVlZHNDb250ZXh0LnRlc3QoYSk/MDpqLmxlbmd0aDt3aGlsZShpLS0pe2lmKGs9altpXSxkLnJlbGF0aXZlW2w9ay50eXBlXSlicmVhaztpZigobT1kLmZpbmRbbF0pJiYoZj1tKGsubWF0Y2hlc1swXS5yZXBsYWNlKF8sYWEpLCQudGVzdChqWzBdLnR5cGUpJiZxYShiLnBhcmVudE5vZGUpfHxiKSkpe2lmKGouc3BsaWNlKGksMSksYT1mLmxlbmd0aCYmc2EoaiksIWEpcmV0dXJuIEcuYXBwbHkoZSxmKSxlO2JyZWFrfX19cmV0dXJuKG58fGgoYSxvKSkoZixiLCFwLGUsIWJ8fCQudGVzdChhKSYmcWEoYi5wYXJlbnROb2RlKXx8YiksZX0sYy5zb3J0U3RhYmxlPXUuc3BsaXQoXCJcIikuc29ydChCKS5qb2luKFwiXCIpPT09dSxjLmRldGVjdER1cGxpY2F0ZXM9ISFsLG0oKSxjLnNvcnREZXRhY2hlZD1qYShmdW5jdGlvbihhKXtyZXR1cm4gMSZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4uY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpKX0pLGphKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD1cIjxhIGhyZWY9JyMnPjwvYT5cIixcIiNcIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfSl8fGthKFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYz92b2lkIDA6YS5nZXRBdHRyaWJ1dGUoYixcInR5cGVcIj09PWIudG9Mb3dlckNhc2UoKT8xOjIpfSksYy5hdHRyaWJ1dGVzJiZqYShmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9XCI8aW5wdXQvPlwiLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiXCIpLFwiXCI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIil9KXx8a2EoXCJ2YWx1ZVwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY3x8XCJpbnB1dFwiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGphKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpfSl8fGthKEosZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBjP3ZvaWQgMDphW2JdPT09ITA/Yi50b0xvd2VyQ2FzZSgpOihkPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJmQuc3BlY2lmaWVkP2QudmFsdWU6bnVsbH0pLGdhfShhKTtyLmZpbmQ9eCxyLmV4cHI9eC5zZWxlY3RvcnMsci5leHByW1wiOlwiXT1yLmV4cHIucHNldWRvcyxyLnVuaXF1ZVNvcnQ9ci51bmlxdWU9eC51bmlxdWVTb3J0LHIudGV4dD14LmdldFRleHQsci5pc1hNTERvYz14LmlzWE1MLHIuY29udGFpbnM9eC5jb250YWlucyxyLmVzY2FwZVNlbGVjdG9yPXguZXNjYXBlO3ZhciB5PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZyKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sej1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY30sQT1yLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LEI9L148KFthLXpdW15cXC9cXDA+OlxceDIwXFx0XFxyXFxuXFxmXSopW1xceDIwXFx0XFxyXFxuXFxmXSpcXC8/Pig/OjxcXC9cXDE+fCkkL2ksQz0vXi5bXjojXFxbXFwuLF0qJC87ZnVuY3Rpb24gRChhLGIsYyl7aWYoci5pc0Z1bmN0aW9uKGIpKXJldHVybiByLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiByLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe2lmKEMudGVzdChiKSlyZXR1cm4gci5maWx0ZXIoYixhLGMpO2I9ci5maWx0ZXIoYixhKX1yZXR1cm4gci5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGkuY2FsbChiLGEpPi0xIT09YyYmMT09PWEubm9kZVR5cGV9KX1yLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9XCI6bm90KFwiK2ErXCIpXCIpLDE9PT1iLmxlbmd0aCYmMT09PWQubm9kZVR5cGU/ci5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGEpP1tkXTpbXTpyLmZpbmQubWF0Y2hlcyhhLHIuZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZX0pKX0sci5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXRoaXMubGVuZ3RoLGU9dGhpcztpZihcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2socihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2Q+YjtiKyspaWYoci5jb250YWlucyhlW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihjPXRoaXMucHVzaFN0YWNrKFtdKSxiPTA7ZD5iO2IrKylyLmZpbmQoYSxlW2JdLGMpO3JldHVybiBkPjE/ci51bmlxdWVTb3J0KGMpOmN9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soRCh0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soRCh0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEhRCh0aGlzLFwic3RyaW5nXCI9PXR5cGVvZiBhJiZBLnRlc3QoYSk/cihhKTphfHxbXSwhMSkubGVuZ3RofX0pO3ZhciBFLEY9L14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKykpJC8sRz1yLmZuLmluaXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYz1jfHxFLFwic3RyaW5nXCI9PXR5cGVvZiBhKXtpZihlPVwiPFwiPT09YVswXSYmXCI+XCI9PT1hW2EubGVuZ3RoLTFdJiZhLmxlbmd0aD49Mz9bbnVsbCxhLG51bGxdOkYuZXhlYyhhKSwhZXx8IWVbMV0mJmIpcmV0dXJuIWJ8fGIuanF1ZXJ5PyhifHxjKS5maW5kKGEpOnRoaXMuY29uc3RydWN0b3IoYikuZmluZChhKTtpZihlWzFdKXtpZihiPWIgaW5zdGFuY2VvZiByP2JbMF06YixyLm1lcmdlKHRoaXMsci5wYXJzZUhUTUwoZVsxXSxiJiZiLm5vZGVUeXBlP2Iub3duZXJEb2N1bWVudHx8YjpkLCEwKSksQi50ZXN0KGVbMV0pJiZyLmlzUGxhaW5PYmplY3QoYikpZm9yKGUgaW4gYilyLmlzRnVuY3Rpb24odGhpc1tlXSk/dGhpc1tlXShiW2VdKTp0aGlzLmF0dHIoZSxiW2VdKTtyZXR1cm4gdGhpc31yZXR1cm4gZj1kLmdldEVsZW1lbnRCeUlkKGVbMl0pLGYmJih0aGlzWzBdPWYsdGhpcy5sZW5ndGg9MSksdGhpc31yZXR1cm4gYS5ub2RlVHlwZT8odGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6ci5pc0Z1bmN0aW9uKGEpP3ZvaWQgMCE9PWMucmVhZHk/Yy5yZWFkeShhKTphKHIpOnIubWFrZUFycmF5KGEsdGhpcyl9O0cucHJvdG90eXBlPXIuZm4sRT1yKGQpO3ZhciBIPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEk9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07ci5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYj1yKGEsdGhpcyksYz1iLmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGE9MDtjPmE7YSsrKWlmKHIuY29udGFpbnModGhpcyxiW2FdKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPVwic3RyaW5nXCIhPXR5cGVvZiBhJiZyKGEpO2lmKCFBLnRlc3QoYSkpZm9yKDtlPmQ7ZCsrKWZvcihjPXRoaXNbZF07YyYmYyE9PWI7Yz1jLnBhcmVudE5vZGUpaWYoYy5ub2RlVHlwZTwxMSYmKGc/Zy5pbmRleChjKT4tMToxPT09Yy5ub2RlVHlwZSYmci5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGEpKSl7Zi5wdXNoKGMpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhmLmxlbmd0aD4xP3IudW5pcXVlU29ydChmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/XCJzdHJpbmdcIj09dHlwZW9mIGE/aS5jYWxsKHIoYSksdGhpc1swXSk6aS5jYWxsKHRoaXMsYS5qcXVlcnk/YVswXTphKTp0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnB1c2hTdGFjayhyLnVuaXF1ZVNvcnQoci5tZXJnZSh0aGlzLmdldCgpLHIoYSxiKSkpKX0sYWRkQmFjazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9fSk7ZnVuY3Rpb24gSihhLGIpe3doaWxlKChhPWFbYl0pJiYxIT09YS5ub2RlVHlwZSk7cmV0dXJuIGF9ci5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiYxMSE9PWIubm9kZVR5cGU/YjpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiB5KGEsXCJwYXJlbnROb2RlXCIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB5KGEsXCJwYXJlbnROb2RlXCIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEooYSxcIm5leHRTaWJsaW5nXCIpfSxwcmV2OmZ1bmN0aW9uKGEpe3JldHVybiBKKGEsXCJwcmV2aW91c1NpYmxpbmdcIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIHkoYSxcIm5leHRTaWJsaW5nXCIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiB5KGEsXCJwcmV2aW91c1NpYmxpbmdcIil9LG5leHRVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHkoYSxcIm5leHRTaWJsaW5nXCIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHkoYSxcInByZXZpb3VzU2libGluZ1wiLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4geigoYS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIHooYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudERvY3VtZW50fHxyLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe3IuZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1yLm1hcCh0aGlzLGIsYyk7cmV0dXJuXCJVbnRpbFwiIT09YS5zbGljZSgtNSkmJihkPWMpLGQmJlwic3RyaW5nXCI9PXR5cGVvZiBkJiYoZT1yLmZpbHRlcihkLGUpKSx0aGlzLmxlbmd0aD4xJiYoSVthXXx8ci51bmlxdWVTb3J0KGUpLEgudGVzdChhKSYmZS5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBLPS9cXFMrL2c7ZnVuY3Rpb24gTChhKXt2YXIgYj17fTtyZXR1cm4gci5lYWNoKGEubWF0Y2goSyl8fFtdLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pLGJ9ci5DYWxsYmFja3M9ZnVuY3Rpb24oYSl7YT1cInN0cmluZ1wiPT10eXBlb2YgYT9MKGEpOnIuZXh0ZW5kKHt9LGEpO3ZhciBiLGMsZCxlLGY9W10sZz1bXSxoPS0xLGk9ZnVuY3Rpb24oKXtmb3IoZT1hLm9uY2UsZD1iPSEwO2cubGVuZ3RoO2g9LTEpe2M9Zy5zaGlmdCgpO3doaWxlKCsraDxmLmxlbmd0aClmW2hdLmFwcGx5KGNbMF0sY1sxXSk9PT0hMSYmYS5zdG9wT25GYWxzZSYmKGg9Zi5sZW5ndGgsYz0hMSl9YS5tZW1vcnl8fChjPSExKSxiPSExLGUmJihmPWM/W106XCJcIil9LGo9e2FkZDpmdW5jdGlvbigpe3JldHVybiBmJiYoYyYmIWImJihoPWYubGVuZ3RoLTEsZy5wdXNoKGMpKSxmdW5jdGlvbiBkKGIpe3IuZWFjaChiLGZ1bmN0aW9uKGIsYyl7ci5pc0Z1bmN0aW9uKGMpP2EudW5pcXVlJiZqLmhhcyhjKXx8Zi5wdXNoKGMpOmMmJmMubGVuZ3RoJiZcInN0cmluZ1wiIT09ci50eXBlKGMpJiZkKGMpfSl9KGFyZ3VtZW50cyksYyYmIWImJmkoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXt2YXIgYzt3aGlsZSgoYz1yLmluQXJyYXkoYixmLGMpKT4tMSlmLnNwbGljZShjLDEpLGg+PWMmJmgtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9yLmluQXJyYXkoYSxmKT4tMTpmLmxlbmd0aD4wfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBmJiYoZj1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBlPWc9W10sZj1jPVwiXCIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hZn0sbG9jazpmdW5jdGlvbigpe3JldHVybiBlPWc9W10sY3x8Ynx8KGY9Yz1cIlwiKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWV9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGV8fChjPWN8fFtdLGM9W2EsYy5zbGljZT9jLnNsaWNlKCk6Y10sZy5wdXNoKGMpLGJ8fGkoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBqLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhZH19O3JldHVybiBqfTtmdW5jdGlvbiBNKGEpe3JldHVybiBhfWZ1bmN0aW9uIE4oYSl7dGhyb3cgYX1mdW5jdGlvbiBPKGEsYixjKXt2YXIgZDt0cnl7YSYmci5pc0Z1bmN0aW9uKGQ9YS5wcm9taXNlKT9kLmNhbGwoYSkuZG9uZShiKS5mYWlsKGMpOmEmJnIuaXNGdW5jdGlvbihkPWEudGhlbik/ZC5jYWxsKGEsYixjKTpiLmNhbGwodm9pZCAwLGEpfWNhdGNoKGEpe2MuY2FsbCh2b2lkIDAsYSl9fXIuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihiKXt2YXIgYz1bW1wibm90aWZ5XCIsXCJwcm9ncmVzc1wiLHIuQ2FsbGJhY2tzKFwibWVtb3J5XCIpLHIuQ2FsbGJhY2tzKFwibWVtb3J5XCIpLDJdLFtcInJlc29sdmVcIixcImRvbmVcIixyLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLHIuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksMCxcInJlc29sdmVkXCJdLFtcInJlamVjdFwiLFwiZmFpbFwiLHIuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksci5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSwxLFwicmVqZWN0ZWRcIl1dLGQ9XCJwZW5kaW5nXCIsZT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gZH0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSxcImNhdGNoXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIGUudGhlbihudWxsLGEpfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiByLkRlZmVycmVkKGZ1bmN0aW9uKGIpe3IuZWFjaChjLGZ1bmN0aW9uKGMsZCl7dmFyIGU9ci5pc0Z1bmN0aW9uKGFbZFs0XV0pJiZhW2RbNF1dO2ZbZFsxXV0oZnVuY3Rpb24oKXt2YXIgYT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZyLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hLnByb21pc2UoKS5wcm9ncmVzcyhiLm5vdGlmeSkuZG9uZShiLnJlc29sdmUpLmZhaWwoYi5yZWplY3QpOmJbZFswXStcIldpdGhcIl0odGhpcyxlP1thXTphcmd1bWVudHMpfSl9KSxhPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24oYixkLGUpe3ZhciBmPTA7ZnVuY3Rpb24gZyhiLGMsZCxlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaD10aGlzLGk9YXJndW1lbnRzLGo9ZnVuY3Rpb24oKXt2YXIgYSxqO2lmKCEoZj5iKSl7aWYoYT1kLmFwcGx5KGgsaSksYT09PWMucHJvbWlzZSgpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb25cIik7aj1hJiYoXCJvYmplY3RcIj09dHlwZW9mIGF8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGEpJiZhLnRoZW4sci5pc0Z1bmN0aW9uKGopP2U/ai5jYWxsKGEsZyhmLGMsTSxlKSxnKGYsYyxOLGUpKTooZisrLGouY2FsbChhLGcoZixjLE0sZSksZyhmLGMsTixlKSxnKGYsYyxNLGMubm90aWZ5V2l0aCkpKTooZCE9PU0mJihoPXZvaWQgMCxpPVthXSksKGV8fGMucmVzb2x2ZVdpdGgpKGgsaSkpfX0saz1lP2o6ZnVuY3Rpb24oKXt0cnl7aigpfWNhdGNoKGEpe3IuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayYmci5EZWZlcnJlZC5leGNlcHRpb25Ib29rKGEsay5zdGFja1RyYWNlKSxiKzE+PWYmJihkIT09TiYmKGg9dm9pZCAwLGk9W2FdKSxjLnJlamVjdFdpdGgoaCxpKSl9fTtiP2soKTooci5EZWZlcnJlZC5nZXRTdGFja0hvb2smJihrLnN0YWNrVHJhY2U9ci5EZWZlcnJlZC5nZXRTdGFja0hvb2soKSksYS5zZXRUaW1lb3V0KGspKX19cmV0dXJuIHIuRGVmZXJyZWQoZnVuY3Rpb24oYSl7Y1swXVszXS5hZGQoZygwLGEsci5pc0Z1bmN0aW9uKGUpP2U6TSxhLm5vdGlmeVdpdGgpKSxjWzFdWzNdLmFkZChnKDAsYSxyLmlzRnVuY3Rpb24oYik/YjpNKSksY1syXVszXS5hZGQoZygwLGEsci5pc0Z1bmN0aW9uKGQpP2Q6TikpfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP3IuZXh0ZW5kKGEsZSk6ZX19LGY9e307cmV0dXJuIHIuZWFjaChjLGZ1bmN0aW9uKGEsYil7dmFyIGc9YlsyXSxoPWJbNV07ZVtiWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2Q9aH0sY1szLWFdWzJdLmRpc2FibGUsY1swXVsyXS5sb2NrKSxnLmFkZChiWzNdLmZpcmUpLGZbYlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZltiWzBdK1wiV2l0aFwiXSh0aGlzPT09Zj92b2lkIDA6dGhpcyxhcmd1bWVudHMpLHRoaXN9LGZbYlswXStcIldpdGhcIl09Zy5maXJlV2l0aH0pLGUucHJvbWlzZShmKSxiJiZiLmNhbGwoZixmKSxmfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPWFyZ3VtZW50cy5sZW5ndGgsYz1iLGQ9QXJyYXkoYyksZT1mLmNhbGwoYXJndW1lbnRzKSxnPXIuRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXtkW2FdPXRoaXMsZVthXT1hcmd1bWVudHMubGVuZ3RoPjE/Zi5jYWxsKGFyZ3VtZW50cyk6YywtLWJ8fGcucmVzb2x2ZVdpdGgoZCxlKX19O2lmKDE+PWImJihPKGEsZy5kb25lKGgoYykpLnJlc29sdmUsZy5yZWplY3QpLFwicGVuZGluZ1wiPT09Zy5zdGF0ZSgpfHxyLmlzRnVuY3Rpb24oZVtjXSYmZVtjXS50aGVuKSkpcmV0dXJuIGcudGhlbigpO3doaWxlKGMtLSlPKGVbY10saChjKSxnLnJlamVjdCk7cmV0dXJuIGcucHJvbWlzZSgpfX0pO3ZhciBQPS9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO3IuRGVmZXJyZWQuZXhjZXB0aW9uSG9vaz1mdW5jdGlvbihiLGMpe2EuY29uc29sZSYmYS5jb25zb2xlLndhcm4mJmImJlAudGVzdChiLm5hbWUpJiZhLmNvbnNvbGUud2FybihcImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246IFwiK2IubWVzc2FnZSxiLnN0YWNrLGMpfTt2YXIgUT1yLkRlZmVycmVkKCk7ci5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gUS50aGVuKGEpLHRoaXN9LHIuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihhKXthP3IucmVhZHlXYWl0Kys6ci5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGEpeyhhPT09ITA/LS1yLnJlYWR5V2FpdDpyLmlzUmVhZHkpfHwoci5pc1JlYWR5PSEwLGEhPT0hMCYmLS1yLnJlYWR5V2FpdD4wfHxRLnJlc29sdmVXaXRoKGQsW3JdKSl9fSksci5yZWFkeS50aGVuPVEudGhlbjtmdW5jdGlvbiBSKCl7ZC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLFIpLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixSKSxyLnJlYWR5KCl9XCJjb21wbGV0ZVwiPT09ZC5yZWFkeVN0YXRlfHxcImxvYWRpbmdcIiE9PWQucmVhZHlTdGF0ZSYmIWQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP2Euc2V0VGltZW91dChyLnJlYWR5KTooZC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLFIpLGEuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixSKSk7dmFyIFM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVsbD09YztpZihcIm9iamVjdFwiPT09ci50eXBlKGMpKXtlPSEwO2ZvcihoIGluIGMpUyhhLGIsaCxjW2hdLCEwLGYsZyl9ZWxzZSBpZih2b2lkIDAhPT1kJiYoZT0hMCxyLmlzRnVuY3Rpb24oZCl8fChnPSEwKSxqJiYoZz8oYi5jYWxsKGEsZCksYj1udWxsKTooaj1iLGI9ZnVuY3Rpb24oYSxiLGMpe1xucmV0dXJuIGouY2FsbChyKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9LFQ9ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfHw5PT09YS5ub2RlVHlwZXx8ISthLm5vZGVUeXBlfTtmdW5jdGlvbiBVKCl7dGhpcy5leHBhbmRvPXIuZXhwYW5kbytVLnVpZCsrfVUudWlkPTEsVS5wcm90b3R5cGU9e2NhY2hlOmZ1bmN0aW9uKGEpe3ZhciBiPWFbdGhpcy5leHBhbmRvXTtyZXR1cm4gYnx8KGI9e30sVChhKSYmKGEubm9kZVR5cGU/YVt0aGlzLmV4cGFuZG9dPWI6T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsdGhpcy5leHBhbmRvLHt2YWx1ZTpiLGNvbmZpZ3VyYWJsZTohMH0pKSksYn0sc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXMuY2FjaGUoYSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpZVtyLmNhbWVsQ2FzZShiKV09YztlbHNlIGZvcihkIGluIGIpZVtyLmNhbWVsQ2FzZShkKV09YltkXTtyZXR1cm4gZX0sZ2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHZvaWQgMD09PWI/dGhpcy5jYWNoZShhKTphW3RoaXMuZXhwYW5kb10mJmFbdGhpcy5leHBhbmRvXVtyLmNhbWVsQ2FzZShiKV19LGFjY2VzczpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHZvaWQgMD09PWJ8fGImJlwic3RyaW5nXCI9PXR5cGVvZiBiJiZ2b2lkIDA9PT1jP3RoaXMuZ2V0KGEsYik6KHRoaXMuc2V0KGEsYixjKSx2b2lkIDAhPT1jP2M6Yil9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9YVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PWQpe2lmKHZvaWQgMCE9PWIpe3IuaXNBcnJheShiKT9iPWIubWFwKHIuY2FtZWxDYXNlKTooYj1yLmNhbWVsQ2FzZShiKSxiPWIgaW4gZD9bYl06Yi5tYXRjaChLKXx8W10pLGM9Yi5sZW5ndGg7d2hpbGUoYy0tKWRlbGV0ZSBkW2JbY11dfSh2b2lkIDA9PT1ifHxyLmlzRW1wdHlPYmplY3QoZCkpJiYoYS5ub2RlVHlwZT9hW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBhW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihhKXt2YXIgYj1hW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PWImJiFyLmlzRW1wdHlPYmplY3QoYil9fTt2YXIgVj1uZXcgVSxXPW5ldyBVLFg9L14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFk9L1tBLVpdL2c7ZnVuY3Rpb24gWihhLGIsYyl7dmFyIGQ7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpaWYoZD1cImRhdGEtXCIrYi5yZXBsYWNlKFksXCItJCZcIikudG9Mb3dlckNhc2UoKSxjPWEuZ2V0QXR0cmlidXRlKGQpLFwic3RyaW5nXCI9PXR5cGVvZiBjKXt0cnl7Yz1cInRydWVcIj09PWM/ITA6XCJmYWxzZVwiPT09Yz8hMTpcIm51bGxcIj09PWM/bnVsbDorYytcIlwiPT09Yz8rYzpYLnRlc3QoYyk/SlNPTi5wYXJzZShjKTpjfWNhdGNoKGUpe31XLnNldChhLGIsYyl9ZWxzZSBjPXZvaWQgMDtyZXR1cm4gY31yLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gVy5oYXNEYXRhKGEpfHxWLmhhc0RhdGEoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBXLmFjY2VzcyhhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtXLnJlbW92ZShhLGIpfSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFYuYWNjZXNzKGEsYixjKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtWLnJlbW92ZShhLGIpfX0pLHIuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9Vy5nZXQoZiksMT09PWYubm9kZVR5cGUmJiFWLmdldChmLFwiaGFzRGF0YUF0dHJzXCIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoXCJkYXRhLVwiKSYmKGQ9ci5jYW1lbENhc2UoZC5zbGljZSg1KSksWihmLGQsZVtkXSkpKTtWLnNldChmLFwiaGFzRGF0YUF0dHJzXCIsITApfXJldHVybiBlfXJldHVyblwib2JqZWN0XCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbigpe1cuc2V0KHRoaXMsYSl9KTpTKHRoaXMsZnVuY3Rpb24oYil7dmFyIGM7aWYoZiYmdm9pZCAwPT09Yil7aWYoYz1XLmdldChmLGEpLHZvaWQgMCE9PWMpcmV0dXJuIGM7aWYoYz1aKGYsYSksdm9pZCAwIT09YylyZXR1cm4gY31lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe1cuc2V0KHRoaXMsYSxiKX0pfSxudWxsLGIsYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtXLnJlbW92ZSh0aGlzLGEpfSl9fSksci5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYT8oYj0oYnx8XCJmeFwiKStcInF1ZXVlXCIsZD1WLmdldChhLGIpLGMmJighZHx8ci5pc0FycmF5KGMpP2Q9Vi5hY2Nlc3MoYSxiLHIubWFrZUFycmF5KGMpKTpkLnB1c2goYykpLGR8fFtdKTp2b2lkIDB9LGRlcXVldWU6ZnVuY3Rpb24oYSxiKXtiPWJ8fFwiZnhcIjt2YXIgYz1yLnF1ZXVlKGEsYiksZD1jLmxlbmd0aCxlPWMuc2hpZnQoKSxmPXIuX3F1ZXVlSG9va3MoYSxiKSxnPWZ1bmN0aW9uKCl7ci5kZXF1ZXVlKGEsYil9O1wiaW5wcm9ncmVzc1wiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKFwiZnhcIj09PWImJmMudW5zaGlmdChcImlucHJvZ3Jlc3NcIiksZGVsZXRlIGYuc3RvcCxlLmNhbGwoYSxnLGYpKSwhZCYmZiYmZi5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YitcInF1ZXVlSG9va3NcIjtyZXR1cm4gVi5nZXQoYSxjKXx8Vi5hY2Nlc3MoYSxjLHtlbXB0eTpyLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLmFkZChmdW5jdGlvbigpe1YucmVtb3ZlKGEsW2IrXCJxdWV1ZVwiLGNdKX0pfSl9fSksci5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9MjtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYSYmKGI9YSxhPVwiZnhcIixjLS0pLGFyZ3VtZW50cy5sZW5ndGg8Yz9yLnF1ZXVlKHRoaXNbMF0sYSk6dm9pZCAwPT09Yj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPXIucXVldWUodGhpcyxhLGIpO3IuX3F1ZXVlSG9va3ModGhpcyxhKSxcImZ4XCI9PT1hJiZcImlucHJvZ3Jlc3NcIiE9PWNbMF0mJnIuZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3IuZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8XCJmeFwiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MSxlPXIuRGVmZXJyZWQoKSxmPXRoaXMsZz10aGlzLmxlbmd0aCxoPWZ1bmN0aW9uKCl7LS1kfHxlLnJlc29sdmVXaXRoKGYsW2ZdKX07XCJzdHJpbmdcIiE9dHlwZW9mIGEmJihiPWEsYT12b2lkIDApLGE9YXx8XCJmeFwiO3doaWxlKGctLSljPVYuZ2V0KGZbZ10sYStcInF1ZXVlSG9va3NcIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSk7dmFyICQ9L1srLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KS8uc291cmNlLF89bmV3IFJlZ0V4cChcIl4oPzooWystXSk9fCkoXCIrJCtcIikoW2EteiVdKikkXCIsXCJpXCIpLGFhPVtcIlRvcFwiLFwiUmlnaHRcIixcIkJvdHRvbVwiLFwiTGVmdFwiXSxiYT1mdW5jdGlvbihhLGIpe3JldHVybiBhPWJ8fGEsXCJub25lXCI9PT1hLnN0eWxlLmRpc3BsYXl8fFwiXCI9PT1hLnN0eWxlLmRpc3BsYXkmJnIuY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpJiZcIm5vbmVcIj09PXIuY3NzKGEsXCJkaXNwbGF5XCIpfSxjYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX07ZnVuY3Rpb24gZGEoYSxiLGMsZCl7dmFyIGUsZj0xLGc9MjAsaD1kP2Z1bmN0aW9uKCl7cmV0dXJuIGQuY3VyKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIHIuY3NzKGEsYixcIlwiKX0saT1oKCksaj1jJiZjWzNdfHwoci5jc3NOdW1iZXJbYl0/XCJcIjpcInB4XCIpLGs9KHIuY3NzTnVtYmVyW2JdfHxcInB4XCIhPT1qJiYraSkmJl8uZXhlYyhyLmNzcyhhLGIpKTtpZihrJiZrWzNdIT09ail7aj1qfHxrWzNdLGM9Y3x8W10saz0raXx8MTtkbyBmPWZ8fFwiLjVcIixrLz1mLHIuc3R5bGUoYSxiLGsraik7d2hpbGUoZiE9PShmPWgoKS9pKSYmMSE9PWYmJi0tZyl9cmV0dXJuIGMmJihrPStrfHwraXx8MCxlPWNbMV0/aysoY1sxXSsxKSpjWzJdOitjWzJdLGQmJihkLnVuaXQ9aixkLnN0YXJ0PWssZC5lbmQ9ZSkpLGV9dmFyIGVhPXt9O2Z1bmN0aW9uIGZhKGEpe3ZhciBiLGM9YS5vd25lckRvY3VtZW50LGQ9YS5ub2RlTmFtZSxlPWVhW2RdO3JldHVybiBlP2U6KGI9Yy5ib2R5LmFwcGVuZENoaWxkKGMuY3JlYXRlRWxlbWVudChkKSksZT1yLmNzcyhiLFwiZGlzcGxheVwiKSxiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksXCJub25lXCI9PT1lJiYoZT1cImJsb2NrXCIpLGVhW2RdPWUsZSl9ZnVuY3Rpb24gZ2EoYSxiKXtmb3IodmFyIGMsZCxlPVtdLGY9MCxnPWEubGVuZ3RoO2c+ZjtmKyspZD1hW2ZdLGQuc3R5bGUmJihjPWQuc3R5bGUuZGlzcGxheSxiPyhcIm5vbmVcIj09PWMmJihlW2ZdPVYuZ2V0KGQsXCJkaXNwbGF5XCIpfHxudWxsLGVbZl18fChkLnN0eWxlLmRpc3BsYXk9XCJcIikpLFwiXCI9PT1kLnN0eWxlLmRpc3BsYXkmJmJhKGQpJiYoZVtmXT1mYShkKSkpOlwibm9uZVwiIT09YyYmKGVbZl09XCJub25lXCIsVi5zZXQoZCxcImRpc3BsYXlcIixjKSkpO2ZvcihmPTA7Zz5mO2YrKyludWxsIT1lW2ZdJiYoYVtmXS5zdHlsZS5kaXNwbGF5PWVbZl0pO3JldHVybiBhfXIuZm4uZXh0ZW5kKHtzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIGdhKHRoaXMsITApfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIGdhKHRoaXMpfSx0b2dnbGU6ZnVuY3Rpb24oYSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBhP2E/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7YmEodGhpcyk/cih0aGlzKS5zaG93KCk6cih0aGlzKS5oaWRlKCl9KX19KTt2YXIgaGE9L14oPzpjaGVja2JveHxyYWRpbykkL2ksaWE9LzwoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0rKS9pLGphPS9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksa2E9e29wdGlvbjpbMSxcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIixcIjwvc2VsZWN0PlwiXSx0aGVhZDpbMSxcIjx0YWJsZT5cIixcIjwvdGFibGU+XCJdLGNvbDpbMixcIjx0YWJsZT48Y29sZ3JvdXA+XCIsXCI8L2NvbGdyb3VwPjwvdGFibGU+XCJdLHRyOlsyLFwiPHRhYmxlPjx0Ym9keT5cIixcIjwvdGJvZHk+PC90YWJsZT5cIl0sdGQ6WzMsXCI8dGFibGU+PHRib2R5Pjx0cj5cIixcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiXSxfZGVmYXVsdDpbMCxcIlwiLFwiXCJdfTtrYS5vcHRncm91cD1rYS5vcHRpb24sa2EudGJvZHk9a2EudGZvb3Q9a2EuY29sZ3JvdXA9a2EuY2FwdGlvbj1rYS50aGVhZCxrYS50aD1rYS50ZDtmdW5jdGlvbiBsYShhLGIpe3ZhciBjPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYnx8XCIqXCIpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnF1ZXJ5U2VsZWN0b3JBbGw/YS5xdWVyeVNlbGVjdG9yQWxsKGJ8fFwiKlwiKTpbXTtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmci5ub2RlTmFtZShhLGIpP3IubWVyZ2UoW2FdLGMpOmN9ZnVuY3Rpb24gbWEoYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspVi5zZXQoYVtjXSxcImdsb2JhbEV2YWxcIiwhYnx8Vi5nZXQoYltjXSxcImdsb2JhbEV2YWxcIikpfXZhciBuYT0vPHwmIz9cXHcrOy87ZnVuY3Rpb24gb2EoYSxiLGMsZCxlKXtmb3IodmFyIGYsZyxoLGksaixrLGw9Yi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbT1bXSxuPTAsbz1hLmxlbmd0aDtvPm47bisrKWlmKGY9YVtuXSxmfHwwPT09ZilpZihcIm9iamVjdFwiPT09ci50eXBlKGYpKXIubWVyZ2UobSxmLm5vZGVUeXBlP1tmXTpmKTtlbHNlIGlmKG5hLnRlc3QoZikpe2c9Z3x8bC5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLGg9KGlhLmV4ZWMoZil8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpLGk9a2FbaF18fGthLl9kZWZhdWx0LGcuaW5uZXJIVE1MPWlbMV0rci5odG1sUHJlZmlsdGVyKGYpK2lbMl0saz1pWzBdO3doaWxlKGstLSlnPWcubGFzdENoaWxkO3IubWVyZ2UobSxnLmNoaWxkTm9kZXMpLGc9bC5maXJzdENoaWxkLGcudGV4dENvbnRlbnQ9XCJcIn1lbHNlIG0ucHVzaChiLmNyZWF0ZVRleHROb2RlKGYpKTtsLnRleHRDb250ZW50PVwiXCIsbj0wO3doaWxlKGY9bVtuKytdKWlmKGQmJnIuaW5BcnJheShmLGQpPi0xKWUmJmUucHVzaChmKTtlbHNlIGlmKGo9ci5jb250YWlucyhmLm93bmVyRG9jdW1lbnQsZiksZz1sYShsLmFwcGVuZENoaWxkKGYpLFwic2NyaXB0XCIpLGomJm1hKGcpLGMpe2s9MDt3aGlsZShmPWdbaysrXSlqYS50ZXN0KGYudHlwZXx8XCJcIikmJmMucHVzaChmKX1yZXR1cm4gbH0hZnVuY3Rpb24oKXt2YXIgYT1kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxiPWEuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxjPWQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2Muc2V0QXR0cmlidXRlKFwidHlwZVwiLFwicmFkaW9cIiksYy5zZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsXCJjaGVja2VkXCIpLGMuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwidFwiKSxiLmFwcGVuZENoaWxkKGMpLG8uY2hlY2tDbG9uZT1iLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxiLmlubmVySFRNTD1cIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIixvLm5vQ2xvbmVDaGVja2VkPSEhYi5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7dmFyIHBhPWQuZG9jdW1lbnRFbGVtZW50LHFhPS9ea2V5LyxyYT0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sc2E9L14oW14uXSopKD86XFwuKC4rKXwpLztmdW5jdGlvbiB0YSgpe3JldHVybiEwfWZ1bmN0aW9uIHVhKCl7cmV0dXJuITF9ZnVuY3Rpb24gdmEoKXt0cnl7cmV0dXJuIGQuYWN0aXZlRWxlbWVudH1jYXRjaChhKXt9fWZ1bmN0aW9uIHdhKGEsYixjLGQsZSxmKXt2YXIgZyxoO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBiKXtcInN0cmluZ1wiIT10eXBlb2YgYyYmKGQ9ZHx8YyxjPXZvaWQgMCk7Zm9yKGggaW4gYil3YShhLGgsYyxkLGJbaF0sZik7cmV0dXJuIGF9aWYobnVsbD09ZCYmbnVsbD09ZT8oZT1jLGQ9Yz12b2lkIDApOm51bGw9PWUmJihcInN0cmluZ1wiPT10eXBlb2YgYz8oZT1kLGQ9dm9pZCAwKTooZT1kLGQ9YyxjPXZvaWQgMCkpLGU9PT0hMSllPXVhO2Vsc2UgaWYoIWUpcmV0dXJuIGE7cmV0dXJuIDE9PT1mJiYoZz1lLGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHIoKS5vZmYoYSksZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUuZ3VpZD1nLmd1aWR8fChnLmd1aWQ9ci5ndWlkKyspKSxhLmVhY2goZnVuY3Rpb24oKXtyLmV2ZW50LmFkZCh0aGlzLGIsZSxkLGMpfSl9ci5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbixvLHAscT1WLmdldChhKTtpZihxKXtjLmhhbmRsZXImJihmPWMsYz1mLmhhbmRsZXIsZT1mLnNlbGVjdG9yKSxlJiZyLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHBhLGUpLGMuZ3VpZHx8KGMuZ3VpZD1yLmd1aWQrKyksKGk9cS5ldmVudHMpfHwoaT1xLmV2ZW50cz17fSksKGc9cS5oYW5kbGUpfHwoZz1xLmhhbmRsZT1mdW5jdGlvbihiKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgciYmci5ldmVudC50cmlnZ2VyZWQhPT1iLnR5cGU/ci5ldmVudC5kaXNwYXRjaC5hcHBseShhLGFyZ3VtZW50cyk6dm9pZCAwfSksYj0oYnx8XCJcIikubWF0Y2goSyl8fFtcIlwiXSxqPWIubGVuZ3RoO3doaWxlKGotLSloPXNhLmV4ZWMoYltqXSl8fFtdLG49cD1oWzFdLG89KGhbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksbiYmKGw9ci5ldmVudC5zcGVjaWFsW25dfHx7fSxuPShlP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxuLGw9ci5ldmVudC5zcGVjaWFsW25dfHx7fSxrPXIuZXh0ZW5kKHt0eXBlOm4sb3JpZ1R5cGU6cCxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJnIuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6by5qb2luKFwiLlwiKX0sZiksKG09aVtuXSl8fChtPWlbbl09W10sbS5kZWxlZ2F0ZUNvdW50PTAsbC5zZXR1cCYmbC5zZXR1cC5jYWxsKGEsZCxvLGcpIT09ITF8fGEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hZGRFdmVudExpc3RlbmVyKG4sZykpLGwuYWRkJiYobC5hZGQuY2FsbChhLGspLGsuaGFuZGxlci5ndWlkfHwoay5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9tLnNwbGljZShtLmRlbGVnYXRlQ291bnQrKywwLGspOm0ucHVzaChrKSxyLmV2ZW50Lmdsb2JhbFtuXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbyxwLHE9Vi5oYXNEYXRhKGEpJiZWLmdldChhKTtpZihxJiYoaT1xLmV2ZW50cykpe2I9KGJ8fFwiXCIpLm1hdGNoKEspfHxbXCJcIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paWYoaD1zYS5leGVjKGJbal0pfHxbXSxuPXA9aFsxXSxvPShoWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLG4pe2w9ci5ldmVudC5zcGVjaWFsW25dfHx7fSxuPShkP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxuLG09aVtuXXx8W10saD1oWzJdJiZuZXcgUmVnRXhwKFwiKF58XFxcXC4pXCIrby5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikrXCIoXFxcXC58JClcIiksZz1mPW0ubGVuZ3RoO3doaWxlKGYtLSlrPW1bZl0sIWUmJnAhPT1rLm9yaWdUeXBlfHxjJiZjLmd1aWQhPT1rLmd1aWR8fGgmJiFoLnRlc3Qoay5uYW1lc3BhY2UpfHxkJiZkIT09ay5zZWxlY3RvciYmKFwiKipcIiE9PWR8fCFrLnNlbGVjdG9yKXx8KG0uc3BsaWNlKGYsMSksay5zZWxlY3RvciYmbS5kZWxlZ2F0ZUNvdW50LS0sbC5yZW1vdmUmJmwucmVtb3ZlLmNhbGwoYSxrKSk7ZyYmIW0ubGVuZ3RoJiYobC50ZWFyZG93biYmbC50ZWFyZG93bi5jYWxsKGEsbyxxLmhhbmRsZSkhPT0hMXx8ci5yZW1vdmVFdmVudChhLG4scS5oYW5kbGUpLGRlbGV0ZSBpW25dKX1lbHNlIGZvcihuIGluIGkpci5ldmVudC5yZW1vdmUoYSxuK2Jbal0sYyxkLCEwKTtyLmlzRW1wdHlPYmplY3QoaSkmJlYucmVtb3ZlKGEsXCJoYW5kbGUgZXZlbnRzXCIpfX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dmFyIGI9ci5ldmVudC5maXgoYSksYyxkLGUsZixnLGgsaT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksaj0oVi5nZXQodGhpcyxcImV2ZW50c1wiKXx8e30pW2IudHlwZV18fFtdLGs9ci5ldmVudC5zcGVjaWFsW2IudHlwZV18fHt9O2ZvcihpWzBdPWIsYz0xO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspaVtjXT1hcmd1bWVudHNbY107aWYoYi5kZWxlZ2F0ZVRhcmdldD10aGlzLCFrLnByZURpc3BhdGNofHxrLnByZURpc3BhdGNoLmNhbGwodGhpcyxiKSE9PSExKXtoPXIuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGIsaiksYz0wO3doaWxlKChmPWhbYysrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe2IuY3VycmVudFRhcmdldD1mLmVsZW0sZD0wO3doaWxlKChnPWYuaGFuZGxlcnNbZCsrXSkmJiFiLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpYi5ybmFtZXNwYWNlJiYhYi5ybmFtZXNwYWNlLnRlc3QoZy5uYW1lc3BhY2UpfHwoYi5oYW5kbGVPYmo9ZyxiLmRhdGE9Zy5kYXRhLGU9KChyLmV2ZW50LnNwZWNpYWxbZy5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGcuaGFuZGxlcikuYXBwbHkoZi5lbGVtLGkpLHZvaWQgMCE9PWUmJihiLnJlc3VsdD1lKT09PSExJiYoYi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gay5wb3N0RGlzcGF0Y2gmJmsucG9zdERpc3BhdGNoLmNhbGwodGhpcyxiKSxiLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZz1bXSxoPWIuZGVsZWdhdGVDb3VudCxpPWEudGFyZ2V0O2lmKGgmJmkubm9kZVR5cGUmJihcImNsaWNrXCIhPT1hLnR5cGV8fGlzTmFOKGEuYnV0dG9uKXx8YS5idXR0b248MSkpZm9yKDtpIT09dGhpcztpPWkucGFyZW50Tm9kZXx8dGhpcylpZigxPT09aS5ub2RlVHlwZSYmKGkuZGlzYWJsZWQhPT0hMHx8XCJjbGlja1wiIT09YS50eXBlKSl7Zm9yKGQ9W10sYz0wO2g+YztjKyspZj1iW2NdLGU9Zi5zZWxlY3RvcitcIiBcIix2b2lkIDA9PT1kW2VdJiYoZFtlXT1mLm5lZWRzQ29udGV4dD9yKGUsdGhpcykuaW5kZXgoaSk+LTE6ci5maW5kKGUsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxkW2VdJiZkLnB1c2goZik7ZC5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmR9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LGFkZFByb3A6ZnVuY3Rpb24oYSxiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoci5FdmVudC5wcm90b3R5cGUsYSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OnIuaXNGdW5jdGlvbihiKT9mdW5jdGlvbigpe3JldHVybiB0aGlzLm9yaWdpbmFsRXZlbnQ/Yih0aGlzLm9yaWdpbmFsRXZlbnQpOnZvaWQgMH06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50P3RoaXMub3JpZ2luYWxFdmVudFthXTp2b2lkIDB9LHNldDpmdW5jdGlvbihiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxhLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpifSl9fSl9LGZpeDpmdW5jdGlvbihhKXtyZXR1cm4gYVtyLmV4cGFuZG9dP2E6bmV3IHIuRXZlbnQoYSl9LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzIT09dmEoKSYmdGhpcy5mb2N1cz8odGhpcy5mb2N1cygpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZTpcImZvY3VzaW5cIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzPT09dmEoKSYmdGhpcy5ibHVyPyh0aGlzLmJsdXIoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c291dFwifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVyblwiY2hlY2tib3hcIj09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmci5ub2RlTmFtZSh0aGlzLFwiaW5wdXRcIik/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gci5ub2RlTmFtZShhLnRhcmdldCxcImFcIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihhKXt2b2lkIDAhPT1hLnJlc3VsdCYmYS5vcmlnaW5hbEV2ZW50JiYoYS5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPWEucmVzdWx0KX19fX0sci5yZW1vdmVFdmVudD1mdW5jdGlvbihhLGIsYyl7YS5yZW1vdmVFdmVudExpc3RlbmVyJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjKX0sci5FdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygci5FdmVudD8oYSYmYS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnR5cGU9YS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWEuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09YS5kZWZhdWx0UHJldmVudGVkJiZhLnJldHVyblZhbHVlPT09ITE/dGE6dWEsdGhpcy50YXJnZXQ9YS50YXJnZXQmJjM9PT1hLnRhcmdldC5ub2RlVHlwZT9hLnRhcmdldC5wYXJlbnROb2RlOmEudGFyZ2V0LHRoaXMuY3VycmVudFRhcmdldD1hLmN1cnJlbnRUYXJnZXQsdGhpcy5yZWxhdGVkVGFyZ2V0PWEucmVsYXRlZFRhcmdldCk6dGhpcy50eXBlPWEsYiYmci5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8ci5ub3coKSx2b2lkKHRoaXNbci5leHBhbmRvXT0hMCkpOm5ldyByLkV2ZW50KGEsYil9LHIuRXZlbnQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpyLkV2ZW50LGlzRGVmYXVsdFByZXZlbnRlZDp1YSxpc1Byb3BhZ2F0aW9uU3RvcHBlZDp1YSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDp1YSxpc1NpbXVsYXRlZDohMSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD10YSxhJiYhdGhpcy5pc1NpbXVsYXRlZCYmYS5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD10YSxhJiYhdGhpcy5pc1NpbXVsYXRlZCYmYS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9dGEsYSYmIXRoaXMuaXNTaW11bGF0ZWQmJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LHIuZWFjaCh7YWx0S2V5OiEwLGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMCxjaGFuZ2VkVG91Y2hlczohMCxjdHJsS2V5OiEwLGRldGFpbDohMCxldmVudFBoYXNlOiEwLG1ldGFLZXk6ITAscGFnZVg6ITAscGFnZVk6ITAsc2hpZnRLZXk6ITAsdmlldzohMCxcImNoYXJcIjohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDpmdW5jdGlvbihhKXt2YXIgYj1hLmJ1dHRvbjtyZXR1cm4gbnVsbD09YS53aGljaCYmcWEudGVzdChhLnR5cGUpP251bGwhPWEuY2hhckNvZGU/YS5jaGFyQ29kZTphLmtleUNvZGU6IWEud2hpY2gmJnZvaWQgMCE9PWImJnJhLnRlc3QoYS50eXBlKT8xJmI/MToyJmI/Mzo0JmI/MjowOmEud2hpY2h9fSxyLmV2ZW50LmFkZFByb3ApLHIuZWFjaCh7bW91c2VlbnRlcjpcIm1vdXNlb3ZlclwiLG1vdXNlbGVhdmU6XCJtb3VzZW91dFwiLHBvaW50ZXJlbnRlcjpcInBvaW50ZXJvdmVyXCIscG9pbnRlcmxlYXZlOlwicG9pbnRlcm91dFwifSxmdW5jdGlvbihhLGIpe3IuZXZlbnQuc3BlY2lhbFthXT17ZGVsZWdhdGVUeXBlOmIsYmluZFR5cGU6YixoYW5kbGU6ZnVuY3Rpb24oYSl7dmFyIGMsZD10aGlzLGU9YS5yZWxhdGVkVGFyZ2V0LGY9YS5oYW5kbGVPYmo7cmV0dXJuIGUmJihlPT09ZHx8ci5jb250YWlucyhkLGUpKXx8KGEudHlwZT1mLm9yaWdUeXBlLGM9Zi5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhLnR5cGU9YiksY319fSksci5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB3YSh0aGlzLGEsYixjLGQpfSxvbmU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHdhKHRoaXMsYSxiLGMsZCwxKX0sb2ZmOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO2lmKGEmJmEucHJldmVudERlZmF1bHQmJmEuaGFuZGxlT2JqKXJldHVybiBkPWEuaGFuZGxlT2JqLHIoYS5kZWxlZ2F0ZVRhcmdldCkub2ZmKGQubmFtZXNwYWNlP2Qub3JpZ1R5cGUrXCIuXCIrZC5uYW1lc3BhY2U6ZC5vcmlnVHlwZSxkLnNlbGVjdG9yLGQuaGFuZGxlciksdGhpcztpZihcIm9iamVjdFwiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGIhPT0hMSYmXCJmdW5jdGlvblwiIT10eXBlb2YgYnx8KGM9YixiPXZvaWQgMCksYz09PSExJiYoYz11YSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ci5ldmVudC5yZW1vdmUodGhpcyxhLGMsYil9KX19KTt2YXIgeGE9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0qKVtePl0qKVxcLz4vZ2kseWE9LzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksemE9L2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxBYT0vXnRydWVcXC8oLiopLyxCYT0vXlxccyo8ISg/OlxcW0NEQVRBXFxbfC0tKXwoPzpcXF1cXF18LS0pPlxccyokL2c7ZnVuY3Rpb24gQ2EoYSxiKXtyZXR1cm4gci5ub2RlTmFtZShhLFwidGFibGVcIikmJnIubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLFwidHJcIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRib2R5XCIpWzBdfHxhOmF9ZnVuY3Rpb24gRGEoYSl7cmV0dXJuIGEudHlwZT0obnVsbCE9PWEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkrXCIvXCIrYS50eXBlLGF9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9QWEuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKFwidHlwZVwiKSxhfWZ1bmN0aW9uIEZhKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksajtpZigxPT09Yi5ub2RlVHlwZSl7aWYoVi5oYXNEYXRhKGEpJiYoZj1WLmFjY2VzcyhhKSxnPVYuc2V0KGIsZiksaj1mLmV2ZW50cykpe2RlbGV0ZSBnLmhhbmRsZSxnLmV2ZW50cz17fTtmb3IoZSBpbiBqKWZvcihjPTAsZD1qW2VdLmxlbmd0aDtkPmM7YysrKXIuZXZlbnQuYWRkKGIsZSxqW2VdW2NdKX1XLmhhc0RhdGEoYSkmJihoPVcuYWNjZXNzKGEpLGk9ci5leHRlbmQoe30saCksVy5zZXQoYixpKSl9fWZ1bmN0aW9uIEdhKGEsYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1wiaW5wdXRcIj09PWMmJmhhLnRlc3QoYS50eXBlKT9iLmNoZWNrZWQ9YS5jaGVja2VkOlwiaW5wdXRcIiE9PWMmJlwidGV4dGFyZWFcIiE9PWN8fChiLmRlZmF1bHRWYWx1ZT1hLmRlZmF1bHRWYWx1ZSl9ZnVuY3Rpb24gSGEoYSxiLGMsZCl7Yj1nLmFwcGx5KFtdLGIpO3ZhciBlLGYsaCxpLGosayxsPTAsbT1hLmxlbmd0aCxuPW0tMSxxPWJbMF0scz1yLmlzRnVuY3Rpb24ocSk7aWYoc3x8bT4xJiZcInN0cmluZ1wiPT10eXBlb2YgcSYmIW8uY2hlY2tDbG9uZSYmemEudGVzdChxKSlyZXR1cm4gYS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBmPWEuZXEoZSk7cyYmKGJbMF09cS5jYWxsKHRoaXMsZSxmLmh0bWwoKSkpLEhhKGYsYixjLGQpfSk7aWYobSYmKGU9b2EoYixhWzBdLm93bmVyRG9jdW1lbnQsITEsYSxkKSxmPWUuZmlyc3RDaGlsZCwxPT09ZS5jaGlsZE5vZGVzLmxlbmd0aCYmKGU9ZiksZnx8ZCkpe2ZvcihoPXIubWFwKGxhKGUsXCJzY3JpcHRcIiksRGEpLGk9aC5sZW5ndGg7bT5sO2wrKylqPWUsbCE9PW4mJihqPXIuY2xvbmUoaiwhMCwhMCksaSYmci5tZXJnZShoLGxhKGosXCJzY3JpcHRcIikpKSxjLmNhbGwoYVtsXSxqLGwpO2lmKGkpZm9yKGs9aFtoLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LHIubWFwKGgsRWEpLGw9MDtpPmw7bCsrKWo9aFtsXSxqYS50ZXN0KGoudHlwZXx8XCJcIikmJiFWLmFjY2VzcyhqLFwiZ2xvYmFsRXZhbFwiKSYmci5jb250YWlucyhrLGopJiYoai5zcmM/ci5fZXZhbFVybCYmci5fZXZhbFVybChqLnNyYyk6cChqLnRleHRDb250ZW50LnJlcGxhY2UoQmEsXCJcIiksaykpfXJldHVybiBhfWZ1bmN0aW9uIElhKGEsYixjKXtmb3IodmFyIGQsZT1iP3IuZmlsdGVyKGIsYSk6YSxmPTA7bnVsbCE9KGQ9ZVtmXSk7ZisrKWN8fDEhPT1kLm5vZGVUeXBlfHxyLmNsZWFuRGF0YShsYShkKSksZC5wYXJlbnROb2RlJiYoYyYmci5jb250YWlucyhkLm93bmVyRG9jdW1lbnQsZCkmJm1hKGxhKGQsXCJzY3JpcHRcIikpLGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSk7cmV0dXJuIGF9ci5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh4YSxcIjwkMT48LyQyPlwiKX0sY2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jbG9uZU5vZGUoITApLGk9ci5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSk7aWYoIShvLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxyLmlzWE1MRG9jKGEpKSlmb3IoZz1sYShoKSxmPWxhKGEpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspR2EoZltkXSxnW2RdKTtpZihiKWlmKGMpZm9yKGY9Znx8bGEoYSksZz1nfHxsYShoKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKUZhKGZbZF0sZ1tkXSk7ZWxzZSBGYShhLGgpO3JldHVybiBnPWxhKGgsXCJzY3JpcHRcIiksZy5sZW5ndGg+MCYmbWEoZywhaSYmbGEoYSxcInNjcmlwdFwiKSksaH0sY2xlYW5EYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQsZT1yLmV2ZW50LnNwZWNpYWwsZj0wO3ZvaWQgMCE9PShjPWFbZl0pO2YrKylpZihUKGMpKXtpZihiPWNbVi5leHBhbmRvXSl7aWYoYi5ldmVudHMpZm9yKGQgaW4gYi5ldmVudHMpZVtkXT9yLmV2ZW50LnJlbW92ZShjLGQpOnIucmVtb3ZlRXZlbnQoYyxkLGIuaGFuZGxlKTtjW1YuZXhwYW5kb109dm9pZCAwfWNbVy5leHBhbmRvXSYmKGNbVy5leHBhbmRvXT12b2lkIDApfX19KSxyLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiBJYSh0aGlzLGEsITApfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIElhKHRoaXMsYSl9LHRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFModGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9yLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9YSl9KX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPUNhKHRoaXMsYSk7Yi5hcHBlbmRDaGlsZChhKX19KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9Q2EodGhpcyxhKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiPTA7bnVsbCE9KGE9dGhpc1tiXSk7YisrKTE9PT1hLm5vZGVUeXBlJiYoci5jbGVhbkRhdGEobGEoYSwhMSkpLGEudGV4dENvbnRlbnQ9XCJcIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gci5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gUyh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEmJjE9PT1iLm5vZGVUeXBlKXJldHVybiBiLmlubmVySFRNTDtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmIXlhLnRlc3QoYSkmJiFrYVsoaWEuZXhlYyhhKXx8W1wiXCIsXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPXIuaHRtbFByZWZpbHRlcihhKTt0cnl7Zm9yKDtkPmM7YysrKWI9dGhpc1tjXXx8e30sMT09PWIubm9kZVR5cGUmJihyLmNsZWFuRGF0YShsYShiLCExKSksYi5pbm5lckhUTUw9YSk7Yj0wfWNhdGNoKGUpe319YiYmdGhpcy5lbXB0eSgpLmFwcGVuZChhKX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiBIYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihiKXt2YXIgYz10aGlzLnBhcmVudE5vZGU7ci5pbkFycmF5KHRoaXMsYSk8MCYmKHIuY2xlYW5EYXRhKGxhKHRoaXMpKSxjJiZjLnJlcGxhY2VDaGlsZChiLHRoaXMpKX0sYSl9fSksci5lYWNoKHthcHBlbmRUbzpcImFwcGVuZFwiLHByZXBlbmRUbzpcInByZXBlbmRcIixpbnNlcnRCZWZvcmU6XCJiZWZvcmVcIixpbnNlcnRBZnRlcjpcImFmdGVyXCIscmVwbGFjZUFsbDpcInJlcGxhY2VXaXRoXCJ9LGZ1bmN0aW9uKGEsYil7ci5mblthXT1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD1bXSxlPXIoYSksZj1lLmxlbmd0aC0xLGc9MDtmPj1nO2crKyljPWc9PT1mP3RoaXM6dGhpcy5jbG9uZSghMCkscihlW2ddKVtiXShjKSxoLmFwcGx5KGQsYy5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGQpfX0pO3ZhciBKYT0vXm1hcmdpbi8sS2E9bmV3IFJlZ0V4cChcIl4oXCIrJCtcIikoPyFweClbYS16JV0rJFwiLFwiaVwiKSxMYT1mdW5jdGlvbihiKXt2YXIgYz1iLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7cmV0dXJuIGMmJmMub3BlbmVyfHwoYz1hKSxjLmdldENvbXB1dGVkU3R5bGUoYil9OyFmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXtpZihpKXtpLnN0eWxlLmNzc1RleHQ9XCJib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jazttYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3RvcDoxJTt3aWR0aDo1MCVcIixpLmlubmVySFRNTD1cIlwiLHBhLmFwcGVuZENoaWxkKGgpO3ZhciBiPWEuZ2V0Q29tcHV0ZWRTdHlsZShpKTtjPVwiMSVcIiE9PWIudG9wLGc9XCIycHhcIj09PWIubWFyZ2luTGVmdCxlPVwiNHB4XCI9PT1iLndpZHRoLGkuc3R5bGUubWFyZ2luUmlnaHQ9XCI1MCVcIixmPVwiNHB4XCI9PT1iLm1hcmdpblJpZ2h0LHBhLnJlbW92ZUNoaWxkKGgpLGk9bnVsbH19dmFyIGMsZSxmLGcsaD1kLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksaT1kLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5zdHlsZSYmKGkuc3R5bGUuYmFja2dyb3VuZENsaXA9XCJjb250ZW50LWJveFwiLGkuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cIlwiLG8uY2xlYXJDbG9uZVN0eWxlPVwiY29udGVudC1ib3hcIj09PWkuc3R5bGUuYmFja2dyb3VuZENsaXAsaC5zdHlsZS5jc3NUZXh0PVwiYm9yZGVyOjA7d2lkdGg6OHB4O2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweDtwYWRkaW5nOjA7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGVcIixoLmFwcGVuZENoaWxkKGkpLHIuZXh0ZW5kKG8se3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gYigpLGN9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGIoKSxlfSxwaXhlbE1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGIoKSxmfSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYigpLGd9fSkpfSgpO2Z1bmN0aW9uIE1hKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8TGEoYSksYyYmKGc9Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdLFwiXCIhPT1nfHxyLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9ci5zdHlsZShhLGIpKSwhby5waXhlbE1hcmdpblJpZ2h0KCkmJkthLnRlc3QoZykmJkphLnRlc3QoYikmJihkPWgud2lkdGgsZT1oLm1pbldpZHRoLGY9aC5tYXhXaWR0aCxoLm1pbldpZHRoPWgubWF4V2lkdGg9aC53aWR0aD1nLGc9Yy53aWR0aCxoLndpZHRoPWQsaC5taW5XaWR0aD1lLGgubWF4V2lkdGg9ZikpLHZvaWQgMCE9PWc/ZytcIlwiOmd9ZnVuY3Rpb24gTmEoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19dmFyIE9hPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxQYT17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIixkaXNwbGF5OlwiYmxvY2tcIn0sUWE9e2xldHRlclNwYWNpbmc6XCIwXCIsZm9udFdlaWdodDpcIjQwMFwifSxSYT1bXCJXZWJraXRcIixcIk1velwiLFwibXNcIl0sU2E9ZC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlO2Z1bmN0aW9uIFRhKGEpe2lmKGEgaW4gU2EpcmV0dXJuIGE7dmFyIGI9YVswXS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSksYz1SYS5sZW5ndGg7d2hpbGUoYy0tKWlmKGE9UmFbY10rYixhIGluIFNhKXJldHVybiBhfWZ1bmN0aW9uIFVhKGEsYixjKXt2YXIgZD1fLmV4ZWMoYik7cmV0dXJuIGQ/TWF0aC5tYXgoMCxkWzJdLShjfHwwKSkrKGRbM118fFwicHhcIik6Yn1mdW5jdGlvbiBWYShhLGIsYyxkLGUpe2Zvcih2YXIgZj1jPT09KGQ/XCJib3JkZXJcIjpcImNvbnRlbnRcIik/NDpcIndpZHRoXCI9PT1iPzE6MCxnPTA7ND5mO2YrPTIpXCJtYXJnaW5cIj09PWMmJihnKz1yLmNzcyhhLGMrYWFbZl0sITAsZSkpLGQ/KFwiY29udGVudFwiPT09YyYmKGctPXIuY3NzKGEsXCJwYWRkaW5nXCIrYWFbZl0sITAsZSkpLFwibWFyZ2luXCIhPT1jJiYoZy09ci5jc3MoYSxcImJvcmRlclwiK2FhW2ZdK1wiV2lkdGhcIiwhMCxlKSkpOihnKz1yLmNzcyhhLFwicGFkZGluZ1wiK2FhW2ZdLCEwLGUpLFwicGFkZGluZ1wiIT09YyYmKGcrPXIuY3NzKGEsXCJib3JkZXJcIithYVtmXStcIldpZHRoXCIsITAsZSkpKTtyZXR1cm4gZ31mdW5jdGlvbiBXYShhLGIsYyl7dmFyIGQsZT0hMCxmPUxhKGEpLGc9XCJib3JkZXItYm94XCI9PT1yLmNzcyhhLFwiYm94U2l6aW5nXCIsITEsZik7aWYoYS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmKGQ9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtiXSksMD49ZHx8bnVsbD09ZCl7aWYoZD1NYShhLGIsZiksKDA+ZHx8bnVsbD09ZCkmJihkPWEuc3R5bGVbYl0pLEthLnRlc3QoZCkpcmV0dXJuIGQ7ZT1nJiYoby5ib3hTaXppbmdSZWxpYWJsZSgpfHxkPT09YS5zdHlsZVtiXSksZD1wYXJzZUZsb2F0KGQpfHwwfXJldHVybiBkK1ZhKGEsYixjfHwoZz9cImJvcmRlclwiOlwiY29udGVudFwiKSxlLGYpK1wicHhcIn1yLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPU1hKGEsXCJvcGFjaXR5XCIpO3JldHVyblwiXCI9PT1jP1wiMVwiOmN9fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e1wiZmxvYXRcIjpcImNzc0Zsb2F0XCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEmJjMhPT1hLm5vZGVUeXBlJiY4IT09YS5ub2RlVHlwZSYmYS5zdHlsZSl7dmFyIGUsZixnLGg9ci5jYW1lbENhc2UoYiksaT1hLnN0eWxlO3JldHVybiBiPXIuY3NzUHJvcHNbaF18fChyLmNzc1Byb3BzW2hdPVRhKGgpfHxoKSxnPXIuY3NzSG9va3NbYl18fHIuY3NzSG9va3NbaF0sdm9pZCAwPT09Yz9nJiZcImdldFwiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdOihmPXR5cGVvZiBjLFwic3RyaW5nXCI9PT1mJiYoZT1fLmV4ZWMoYykpJiZlWzFdJiYoYz1kYShhLGIsZSksZj1cIm51bWJlclwiKSxudWxsIT1jJiZjPT09YyYmKFwibnVtYmVyXCI9PT1mJiYoYys9ZSYmZVszXXx8KHIuY3NzTnVtYmVyW2hdP1wiXCI6XCJweFwiKSksby5jbGVhckNsb25lU3R5bGV8fFwiXCIhPT1jfHwwIT09Yi5pbmRleE9mKFwiYmFja2dyb3VuZFwiKXx8KGlbYl09XCJpbmhlcml0XCIpLGcmJlwic2V0XCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpfHwoaVtiXT1jKSksdm9pZCAwKX19LGNzczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGcsaD1yLmNhbWVsQ2FzZShiKTtyZXR1cm4gYj1yLmNzc1Byb3BzW2hdfHwoci5jc3NQcm9wc1toXT1UYShoKXx8aCksZz1yLmNzc0hvb2tzW2JdfHxyLmNzc0hvb2tzW2hdLGcmJlwiZ2V0XCJpbiBnJiYoZT1nLmdldChhLCEwLGMpKSx2b2lkIDA9PT1lJiYoZT1NYShhLGIsZCkpLFwibm9ybWFsXCI9PT1lJiZiIGluIFFhJiYoZT1RYVtiXSksXCJcIj09PWN8fGM/KGY9cGFyc2VGbG9hdChlKSxjPT09ITB8fGlzRmluaXRlKGYpP2Z8fDA6ZSk6ZX19KSxyLmVhY2goW1wiaGVpZ2h0XCIsXCJ3aWR0aFwiXSxmdW5jdGlvbihhLGIpe3IuY3NzSG9va3NbYl09e2dldDpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGM/IU9hLnRlc3Qoci5jc3MoYSxcImRpc3BsYXlcIikpfHxhLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiZhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoP1dhKGEsYixkKTpjYShhLFBhLGZ1bmN0aW9uKCl7cmV0dXJuIFdhKGEsYixkKX0pOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZSxmPWQmJkxhKGEpLGc9ZCYmVmEoYSxiLGQsXCJib3JkZXItYm94XCI9PT1yLmNzcyhhLFwiYm94U2l6aW5nXCIsITEsZiksZik7cmV0dXJuIGcmJihlPV8uZXhlYyhjKSkmJlwicHhcIiE9PShlWzNdfHxcInB4XCIpJiYoYS5zdHlsZVtiXT1jLGM9ci5jc3MoYSxiKSksVWEoYSxjLGcpfX19KSxyLmNzc0hvb2tzLm1hcmdpbkxlZnQ9TmEoby5yZWxpYWJsZU1hcmdpbkxlZnQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj8ocGFyc2VGbG9hdChNYShhLFwibWFyZ2luTGVmdFwiKSl8fGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1jYShhLHttYXJnaW5MZWZ0OjB9LGZ1bmN0aW9uKCl7cmV0dXJuIGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKStcInB4XCI6dm9pZCAwfSksci5lYWNoKHttYXJnaW46XCJcIixwYWRkaW5nOlwiXCIsYm9yZGVyOlwiV2lkdGhcIn0sZnVuY3Rpb24oYSxiKXtyLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9XCJzdHJpbmdcIj09dHlwZW9mIGM/Yy5zcGxpdChcIiBcIik6W2NdOzQ+ZDtkKyspZVthK2FhW2RdK2JdPWZbZF18fGZbZC0yXXx8ZlswXTtyZXR1cm4gZX19LEphLnRlc3QoYSl8fChyLmNzc0hvb2tzW2ErYl0uc2V0PVVhKX0pLHIuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUyh0aGlzLGZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9e30sZz0wO2lmKHIuaXNBcnJheShiKSl7Zm9yKGQ9TGEoYSksZT1iLmxlbmd0aDtlPmc7ZysrKWZbYltnXV09ci5jc3MoYSxiW2ddLCExLGQpO3JldHVybiBmfXJldHVybiB2b2lkIDAhPT1jP3Iuc3R5bGUoYSxiLGMpOnIuY3NzKGEsYil9LGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfX0pO2Z1bmN0aW9uIFhhKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBYYS5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfXIuVHdlZW49WGEsWGEucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpYYSxpbml0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmVsZW09YSx0aGlzLnByb3A9Yyx0aGlzLmVhc2luZz1lfHxyLmVhc2luZy5fZGVmYXVsdCx0aGlzLm9wdGlvbnM9Yix0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9ZCx0aGlzLnVuaXQ9Znx8KHIuY3NzTnVtYmVyW2NdP1wiXCI6XCJweFwiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGE9WGEucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGEmJmEuZ2V0P2EuZ2V0KHRoaXMpOlhhLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihhKXt2YXIgYixjPVhhLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9Yj1yLmVhc2luZ1t0aGlzLmVhc2luZ10oYSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qYSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz1iPWEsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKmIrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksYyYmYy5zZXQ/Yy5zZXQodGhpcyk6WGEucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0sWGEucHJvdG90eXBlLmluaXQucHJvdG90eXBlPVhhLnByb3RvdHlwZSxYYS5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIDEhPT1hLmVsZW0ubm9kZVR5cGV8fG51bGwhPWEuZWxlbVthLnByb3BdJiZudWxsPT1hLmVsZW0uc3R5bGVbYS5wcm9wXT9hLmVsZW1bYS5wcm9wXTooYj1yLmNzcyhhLmVsZW0sYS5wcm9wLFwiXCIpLGImJlwiYXV0b1wiIT09Yj9iOjApfSxzZXQ6ZnVuY3Rpb24oYSl7ci5meC5zdGVwW2EucHJvcF0/ci5meC5zdGVwW2EucHJvcF0oYSk6MSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbD09YS5lbGVtLnN0eWxlW3IuY3NzUHJvcHNbYS5wcm9wXV0mJiFyLmNzc0hvb2tzW2EucHJvcF0/YS5lbGVtW2EucHJvcF09YS5ub3c6ci5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCl9fX0sWGEucHJvcEhvb2tzLnNjcm9sbFRvcD1YYS5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxyLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9LF9kZWZhdWx0Olwic3dpbmdcIn0sci5meD1YYS5wcm90b3R5cGUuaW5pdCxyLmZ4LnN0ZXA9e307dmFyIFlhLFphLCRhPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxfYT0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIGFiKCl7WmEmJihhLnJlcXVlc3RBbmltYXRpb25GcmFtZShhYiksci5meC50aWNrKCkpfWZ1bmN0aW9uIGJiKCl7cmV0dXJuIGEuc2V0VGltZW91dChmdW5jdGlvbigpe1lhPXZvaWQgMH0pLFlhPXIubm93KCl9ZnVuY3Rpb24gY2IoYSxiKXt2YXIgYyxkPTAsZT17aGVpZ2h0OmF9O2ZvcihiPWI/MTowOzQ+ZDtkKz0yLWIpYz1hYVtkXSxlW1wibWFyZ2luXCIrY109ZVtcInBhZGRpbmdcIitjXT1hO3JldHVybiBiJiYoZS5vcGFjaXR5PWUud2lkdGg9YSksZX1mdW5jdGlvbiBkYihhLGIsYyl7Zm9yKHZhciBkLGU9KGdiLnR3ZWVuZXJzW2JdfHxbXSkuY29uY2F0KGdiLnR3ZWVuZXJzW1wiKlwiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gZWIoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbD1cIndpZHRoXCJpbiBifHxcImhlaWdodFwiaW4gYixtPXRoaXMsbj17fSxvPWEuc3R5bGUscD1hLm5vZGVUeXBlJiZiYShhKSxxPVYuZ2V0KGEsXCJmeHNob3dcIik7Yy5xdWV1ZXx8KGc9ci5fcXVldWVIb29rcyhhLFwiZnhcIiksbnVsbD09Zy51bnF1ZXVlZCYmKGcudW5xdWV1ZWQ9MCxoPWcuZW1wdHkuZmlyZSxnLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtnLnVucXVldWVkfHxoKCl9KSxnLnVucXVldWVkKyssbS5hbHdheXMoZnVuY3Rpb24oKXttLmFsd2F5cyhmdW5jdGlvbigpe2cudW5xdWV1ZWQtLSxyLnF1ZXVlKGEsXCJmeFwiKS5sZW5ndGh8fGcuZW1wdHkuZmlyZSgpfSl9KSk7Zm9yKGQgaW4gYilpZihlPWJbZF0sJGEudGVzdChlKSl7aWYoZGVsZXRlIGJbZF0sZj1mfHxcInRvZ2dsZVwiPT09ZSxlPT09KHA/XCJoaWRlXCI6XCJzaG93XCIpKXtpZihcInNob3dcIiE9PWV8fCFxfHx2b2lkIDA9PT1xW2RdKWNvbnRpbnVlO3A9ITB9bltkXT1xJiZxW2RdfHxyLnN0eWxlKGEsZCl9aWYoaT0hci5pc0VtcHR5T2JqZWN0KGIpLGl8fCFyLmlzRW1wdHlPYmplY3Qobikpe2wmJjE9PT1hLm5vZGVUeXBlJiYoYy5vdmVyZmxvdz1bby5vdmVyZmxvdyxvLm92ZXJmbG93WCxvLm92ZXJmbG93WV0saj1xJiZxLmRpc3BsYXksbnVsbD09aiYmKGo9Vi5nZXQoYSxcImRpc3BsYXlcIikpLGs9ci5jc3MoYSxcImRpc3BsYXlcIiksXCJub25lXCI9PT1rJiYoaj9rPWo6KGdhKFthXSwhMCksaj1hLnN0eWxlLmRpc3BsYXl8fGosaz1yLmNzcyhhLFwiZGlzcGxheVwiKSxnYShbYV0pKSksKFwiaW5saW5lXCI9PT1rfHxcImlubGluZS1ibG9ja1wiPT09ayYmbnVsbCE9aikmJlwibm9uZVwiPT09ci5jc3MoYSxcImZsb2F0XCIpJiYoaXx8KG0uZG9uZShmdW5jdGlvbigpe28uZGlzcGxheT1qfSksbnVsbD09aiYmKGs9by5kaXNwbGF5LGo9XCJub25lXCI9PT1rP1wiXCI6aykpLG8uZGlzcGxheT1cImlubGluZS1ibG9ja1wiKSksYy5vdmVyZmxvdyYmKG8ub3ZlcmZsb3c9XCJoaWRkZW5cIixtLmFsd2F5cyhmdW5jdGlvbigpe28ub3ZlcmZsb3c9Yy5vdmVyZmxvd1swXSxvLm92ZXJmbG93WD1jLm92ZXJmbG93WzFdLG8ub3ZlcmZsb3dZPWMub3ZlcmZsb3dbMl19KSksaT0hMTtmb3IoZCBpbiBuKWl8fChxP1wiaGlkZGVuXCJpbiBxJiYocD1xLmhpZGRlbik6cT1WLmFjY2VzcyhhLFwiZnhzaG93XCIse2Rpc3BsYXk6an0pLGYmJihxLmhpZGRlbj0hcCkscCYmZ2EoW2FdLCEwKSxtLmRvbmUoZnVuY3Rpb24oKXtwfHxnYShbYV0pLFYucmVtb3ZlKGEsXCJmeHNob3dcIik7Zm9yKGQgaW4gbilyLnN0eWxlKGEsZCxuW2RdKX0pKSxpPWRiKHA/cVtkXTowLGQsbSksZCBpbiBxfHwocVtkXT1pLnN0YXJ0LHAmJihpLmVuZD1pLnN0YXJ0LGkuc3RhcnQ9MCkpfX1mdW5jdGlvbiBmYihhLGIpe3ZhciBjLGQsZSxmLGc7Zm9yKGMgaW4gYSlpZihkPXIuY2FtZWxDYXNlKGMpLGU9YltkXSxmPWFbY10sci5pc0FycmF5KGYpJiYoZT1mWzFdLGY9YVtjXT1mWzBdKSxjIT09ZCYmKGFbZF09ZixkZWxldGUgYVtjXSksZz1yLmNzc0hvb2tzW2RdLGcmJlwiZXhwYW5kXCJpbiBnKXtmPWcuZXhwYW5kKGYpLGRlbGV0ZSBhW2RdO2ZvcihjIGluIGYpYyBpbiBhfHwoYVtjXT1mW2NdLGJbY109ZSl9ZWxzZSBiW2RdPWV9ZnVuY3Rpb24gZ2IoYSxiLGMpe3ZhciBkLGUsZj0wLGc9Z2IucHJlZmlsdGVycy5sZW5ndGgsaD1yLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGkuZWxlbX0pLGk9ZnVuY3Rpb24oKXtpZihlKXJldHVybiExO2Zvcih2YXIgYj1ZYXx8YmIoKSxjPU1hdGgubWF4KDAsai5zdGFydFRpbWUrai5kdXJhdGlvbi1iKSxkPWMvai5kdXJhdGlvbnx8MCxmPTEtZCxnPTAsaT1qLnR3ZWVucy5sZW5ndGg7aT5nO2crKylqLnR3ZWVuc1tnXS5ydW4oZik7cmV0dXJuIGgubm90aWZ5V2l0aChhLFtqLGYsY10pLDE+ZiYmaT9jOihoLnJlc29sdmVXaXRoKGEsW2pdKSwhMSl9LGo9aC5wcm9taXNlKHtlbGVtOmEscHJvcHM6ci5leHRlbmQoe30sYiksb3B0czpyLmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fSxlYXNpbmc6ci5lYXNpbmcuX2RlZmF1bHR9LGMpLG9yaWdpbmFsUHJvcGVydGllczpiLG9yaWdpbmFsT3B0aW9uczpjLHN0YXJ0VGltZTpZYXx8YmIoKSxkdXJhdGlvbjpjLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbihiLGMpe3ZhciBkPXIuVHdlZW4oYSxqLm9wdHMsYixjLGoub3B0cy5zcGVjaWFsRWFzaW5nW2JdfHxqLm9wdHMuZWFzaW5nKTtyZXR1cm4gai50d2VlbnMucHVzaChkKSxkfSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1iP2oudHdlZW5zLmxlbmd0aDowO2lmKGUpcmV0dXJuIHRoaXM7Zm9yKGU9ITA7ZD5jO2MrKylqLnR3ZWVuc1tjXS5ydW4oMSk7cmV0dXJuIGI/KGgubm90aWZ5V2l0aChhLFtqLDEsMF0pLGgucmVzb2x2ZVdpdGgoYSxbaixiXSkpOmgucmVqZWN0V2l0aChhLFtqLGJdKSx0aGlzfX0pLGs9ai5wcm9wcztmb3IoZmIoayxqLm9wdHMuc3BlY2lhbEVhc2luZyk7Zz5mO2YrKylpZihkPWdiLnByZWZpbHRlcnNbZl0uY2FsbChqLGEsayxqLm9wdHMpKXJldHVybiByLmlzRnVuY3Rpb24oZC5zdG9wKSYmKHIuX3F1ZXVlSG9va3Moai5lbGVtLGoub3B0cy5xdWV1ZSkuc3RvcD1yLnByb3h5KGQuc3RvcCxkKSksZDtyZXR1cm4gci5tYXAoayxkYixqKSxyLmlzRnVuY3Rpb24oai5vcHRzLnN0YXJ0KSYmai5vcHRzLnN0YXJ0LmNhbGwoYSxqKSxyLmZ4LnRpbWVyKHIuZXh0ZW5kKGkse2VsZW06YSxhbmltOmoscXVldWU6ai5vcHRzLnF1ZXVlfSkpLGoucHJvZ3Jlc3Moai5vcHRzLnByb2dyZXNzKS5kb25lKGoub3B0cy5kb25lLGoub3B0cy5jb21wbGV0ZSkuZmFpbChqLm9wdHMuZmFpbCkuYWx3YXlzKGoub3B0cy5hbHdheXMpfXIuQW5pbWF0aW9uPXIuZXh0ZW5kKGdiLHt0d2VlbmVyczp7XCIqXCI6W2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVUd2VlbihhLGIpO3JldHVybiBkYShjLmVsZW0sYSxfLmV4ZWMoYiksYyksY31dfSx0d2VlbmVyOmZ1bmN0aW9uKGEsYil7ci5pc0Z1bmN0aW9uKGEpPyhiPWEsYT1bXCIqXCJdKTphPWEubWF0Y2goSyk7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYz1hW2RdLGdiLnR3ZWVuZXJzW2NdPWdiLnR3ZWVuZXJzW2NdfHxbXSxnYi50d2VlbmVyc1tjXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXJzOltlYl0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9nYi5wcmVmaWx0ZXJzLnVuc2hpZnQoYSk6Z2IucHJlZmlsdGVycy5wdXNoKGEpfX0pLHIuc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPWEmJlwib2JqZWN0XCI9PXR5cGVvZiBhP3IuZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8ci5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFyLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiByLmZ4Lm9mZnx8ZC5oaWRkZW4/ZS5kdXJhdGlvbj0wOmUuZHVyYXRpb249XCJudW1iZXJcIj09dHlwZW9mIGUuZHVyYXRpb24/ZS5kdXJhdGlvbjplLmR1cmF0aW9uIGluIHIuZnguc3BlZWRzP3IuZnguc3BlZWRzW2UuZHVyYXRpb25dOnIuZnguc3BlZWRzLl9kZWZhdWx0LG51bGwhPWUucXVldWUmJmUucXVldWUhPT0hMHx8KGUucXVldWU9XCJmeFwiKSxlLm9sZD1lLmNvbXBsZXRlLGUuY29tcGxldGU9ZnVuY3Rpb24oKXtyLmlzRnVuY3Rpb24oZS5vbGQpJiZlLm9sZC5jYWxsKHRoaXMpLGUucXVldWUmJnIuZGVxdWV1ZSh0aGlzLGUucXVldWUpfSxlfSxyLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmZpbHRlcihiYSkuY3NzKFwib3BhY2l0eVwiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1yLmlzRW1wdHlPYmplY3QoYSksZj1yLnNwZWVkKGIsYyxkKSxnPWZ1bmN0aW9uKCl7dmFyIGI9Z2IodGhpcyxyLmV4dGVuZCh7fSxhKSxmKTsoZXx8Vi5nZXQodGhpcyxcImZpbmlzaFwiKSkmJmIuc3RvcCghMCl9O3JldHVybiBnLmZpbmlzaD1nLGV8fGYucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShmLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0b3A7ZGVsZXRlIGEuc3RvcCxiKGMpfTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHxcImZ4XCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPSEwLGU9bnVsbCE9YSYmYStcInF1ZXVlSG9va3NcIixmPXIudGltZXJzLGc9Vi5nZXQodGhpcyk7aWYoZSlnW2VdJiZnW2VdLnN0b3AmJmQoZ1tlXSk7ZWxzZSBmb3IoZSBpbiBnKWdbZV0mJmdbZV0uc3RvcCYmX2EudGVzdChlKSYmZChnW2VdKTtmb3IoZT1mLmxlbmd0aDtlLS07KWZbZV0uZWxlbSE9PXRoaXN8fG51bGwhPWEmJmZbZV0ucXVldWUhPT1hfHwoZltlXS5hbmltLnN0b3AoYyksYj0hMSxmLnNwbGljZShlLDEpKTshYiYmY3x8ci5kZXF1ZXVlKHRoaXMsYSl9KX0sZmluaXNoOmZ1bmN0aW9uKGEpe3JldHVybiBhIT09ITEmJihhPWF8fFwiZnhcIiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1WLmdldCh0aGlzKSxkPWNbYStcInF1ZXVlXCJdLGU9Y1thK1wicXVldWVIb29rc1wiXSxmPXIudGltZXJzLGc9ZD9kLmxlbmd0aDowO2ZvcihjLmZpbmlzaD0hMCxyLnF1ZXVlKHRoaXMsYSxbXSksZSYmZS5zdG9wJiZlLnN0b3AuY2FsbCh0aGlzLCEwKSxiPWYubGVuZ3RoO2ItLTspZltiXS5lbGVtPT09dGhpcyYmZltiXS5xdWV1ZT09PWEmJihmW2JdLmFuaW0uc3RvcCghMCksZi5zcGxpY2UoYiwxKSk7Zm9yKGI9MDtnPmI7YisrKWRbYl0mJmRbYl0uZmluaXNoJiZkW2JdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBjLmZpbmlzaH0pfX0pLHIuZWFjaChbXCJ0b2dnbGVcIixcInNob3dcIixcImhpZGVcIl0sZnVuY3Rpb24oYSxiKXt2YXIgYz1yLmZuW2JdO3IuZm5bYl09ZnVuY3Rpb24oYSxkLGUpe3JldHVybiBudWxsPT1hfHxcImJvb2xlYW5cIj09dHlwZW9mIGE/Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGNiKGIsITApLGEsZCxlKX19KSxyLmVhY2goe3NsaWRlRG93bjpjYihcInNob3dcIiksc2xpZGVVcDpjYihcImhpZGVcIiksc2xpZGVUb2dnbGU6Y2IoXCJ0b2dnbGVcIiksZmFkZUluOntvcGFjaXR5Olwic2hvd1wifSxmYWRlT3V0OntvcGFjaXR5OlwiaGlkZVwifSxmYWRlVG9nZ2xlOntvcGFjaXR5OlwidG9nZ2xlXCJ9fSxmdW5jdGlvbihhLGIpe3IuZm5bYV09ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmFuaW1hdGUoYixhLGMsZCl9fSksci50aW1lcnM9W10sci5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGEsYj0wLGM9ci50aW1lcnM7Zm9yKFlhPXIubm93KCk7YjxjLmxlbmd0aDtiKyspYT1jW2JdLGEoKXx8Y1tiXSE9PWF8fGMuc3BsaWNlKGItLSwxKTtjLmxlbmd0aHx8ci5meC5zdG9wKCksWWE9dm9pZCAwfSxyLmZ4LnRpbWVyPWZ1bmN0aW9uKGEpe3IudGltZXJzLnB1c2goYSksYSgpP3IuZnguc3RhcnQoKTpyLnRpbWVycy5wb3AoKX0sci5meC5pbnRlcnZhbD0xMyxyLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7WmF8fChaYT1hLnJlcXVlc3RBbmltYXRpb25GcmFtZT9hLnJlcXVlc3RBbmltYXRpb25GcmFtZShhYik6YS5zZXRJbnRlcnZhbChyLmZ4LnRpY2ssci5meC5pbnRlcnZhbCkpfSxyLmZ4LnN0b3A9ZnVuY3Rpb24oKXthLmNhbmNlbEFuaW1hdGlvbkZyYW1lP2EuY2FuY2VsQW5pbWF0aW9uRnJhbWUoWmEpOmEuY2xlYXJJbnRlcnZhbChaYSksWmE9bnVsbH0sci5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH0sci5mbi5kZWxheT1mdW5jdGlvbihiLGMpe3JldHVybiBiPXIuZng/ci5meC5zcGVlZHNbYl18fGI6YixjPWN8fFwiZnhcIix0aGlzLnF1ZXVlKGMsZnVuY3Rpb24oYyxkKXt2YXIgZT1hLnNldFRpbWVvdXQoYyxiKTtkLnN0b3A9ZnVuY3Rpb24oKXthLmNsZWFyVGltZW91dChlKX19KX0sZnVuY3Rpb24oKXt2YXIgYT1kLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxiPWQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSxjPWIuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKTthLnR5cGU9XCJjaGVja2JveFwiLG8uY2hlY2tPbj1cIlwiIT09YS52YWx1ZSxvLm9wdFNlbGVjdGVkPWMuc2VsZWN0ZWQsYT1kLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxhLnZhbHVlPVwidFwiLGEudHlwZT1cInJhZGlvXCIsby5yYWRpb1ZhbHVlPVwidFwiPT09YS52YWx1ZX0oKTt2YXIgaGIsaWI9ci5leHByLmF0dHJIYW5kbGU7ci5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUyh0aGlzLHIuYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ci5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxyLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYS5nZXRBdHRyaWJ1dGU/ci5wcm9wKGEsYixjKTooMT09PWYmJnIuaXNYTUxEb2MoYSl8fChlPXIuYXR0ckhvb2tzW2IudG9Mb3dlckNhc2UoKV18fChyLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP2hiOnZvaWQgMCkpLHZvaWQgMCE9PWM/bnVsbD09PWM/dm9pZCByLnJlbW92ZUF0dHIoYSxiKTplJiZcInNldFwiaW4gZSYmdm9pZCAwIT09KGQ9ZS5zZXQoYSxjLGIpKT9kOihhLnNldEF0dHJpYnV0ZShiLGMrXCJcIiksYyk6ZSYmXCJnZXRcImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOihkPXIuZmluZC5hdHRyKGEsYiksbnVsbD09ZD92b2lkIDA6ZCkpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKCFvLnJhZGlvVmFsdWUmJlwicmFkaW9cIj09PWImJnIubm9kZU5hbWUoYSxcImlucHV0XCIpKXt2YXIgYz1hLnZhbHVlO3JldHVybiBhLnNldEF0dHJpYnV0ZShcInR5cGVcIixiKSxjJiYoYS52YWx1ZT1jKSxifX19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0wLGU9YiYmYi5tYXRjaChLKTtpZihlJiYxPT09YS5ub2RlVHlwZSl3aGlsZShjPWVbZCsrXSlhLnJlbW92ZUF0dHJpYnV0ZShjKTtcbn19KSxoYj17c2V0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj09PSExP3IucmVtb3ZlQXR0cihhLGMpOmEuc2V0QXR0cmlidXRlKGMsYyksY319LHIuZWFjaChyLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1xcdysvZyksZnVuY3Rpb24oYSxiKXt2YXIgYz1pYltiXXx8ci5maW5kLmF0dHI7aWJbYl09ZnVuY3Rpb24oYSxiLGQpe3ZhciBlLGYsZz1iLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGR8fChmPWliW2ddLGliW2ddPWUsZT1udWxsIT1jKGEsYixkKT9nOm51bGwsaWJbZ109ZiksZX19KTt2YXIgamI9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxrYj0vXig/OmF8YXJlYSkkL2k7ci5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUyh0aGlzLHIucHJvcCxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbci5wcm9wRml4W2FdfHxhXX0pfX0pLHIuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZigzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiAxPT09ZiYmci5pc1hNTERvYyhhKXx8KGI9ci5wcm9wRml4W2JdfHxiLGU9ci5wcm9wSG9va3NbYl0pLHZvaWQgMCE9PWM/ZSYmXCJzZXRcImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmXCJnZXRcImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOmFbYl19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihhKXt2YXIgYj1yLmZpbmQuYXR0cihhLFwidGFiaW5kZXhcIik7cmV0dXJuIGI/cGFyc2VJbnQoYiwxMCk6amIudGVzdChhLm5vZGVOYW1lKXx8a2IudGVzdChhLm5vZGVOYW1lKSYmYS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7XCJmb3JcIjpcImh0bWxGb3JcIixcImNsYXNzXCI6XCJjbGFzc05hbWVcIn19KSxvLm9wdFNlbGVjdGVkfHwoci5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJmIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtiJiYoYi5zZWxlY3RlZEluZGV4LGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pLHIuZWFjaChbXCJ0YWJJbmRleFwiLFwicmVhZE9ubHlcIixcIm1heExlbmd0aFwiLFwiY2VsbFNwYWNpbmdcIixcImNlbGxQYWRkaW5nXCIsXCJyb3dTcGFuXCIsXCJjb2xTcGFuXCIsXCJ1c2VNYXBcIixcImZyYW1lQm9yZGVyXCIsXCJjb250ZW50RWRpdGFibGVcIl0sZnVuY3Rpb24oKXtyLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7dmFyIGxiPS9bXFx0XFxyXFxuXFxmXS9nO2Z1bmN0aW9uIG1iKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIn1yLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaT0wO2lmKHIuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3IodGhpcykuYWRkQ2xhc3MoYS5jYWxsKHRoaXMsYixtYih0aGlzKSkpfSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJmEpe2I9YS5tYXRjaChLKXx8W107d2hpbGUoYz10aGlzW2krK10paWYoZT1tYihjKSxkPTE9PT1jLm5vZGVUeXBlJiYoXCIgXCIrZStcIiBcIikucmVwbGFjZShsYixcIiBcIikpe2c9MDt3aGlsZShmPWJbZysrXSlkLmluZGV4T2YoXCIgXCIrZitcIiBcIik8MCYmKGQrPWYrXCIgXCIpO2g9ci50cmltKGQpLGUhPT1oJiZjLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsaCl9fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYoci5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7cih0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLG1iKHRoaXMpKSl9KTtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5hdHRyKFwiY2xhc3NcIixcIlwiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEspfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPW1iKGMpLGQ9MT09PWMubm9kZVR5cGUmJihcIiBcIitlK1wiIFwiKS5yZXBsYWNlKGxiLFwiIFwiKSl7Zz0wO3doaWxlKGY9YltnKytdKXdoaWxlKGQuaW5kZXhPZihcIiBcIitmK1wiIFwiKT4tMSlkPWQucmVwbGFjZShcIiBcIitmK1wiIFwiLFwiIFwiKTtoPXIudHJpbShkKSxlIT09aCYmYy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGgpfX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGImJlwic3RyaW5nXCI9PT1jP2I/dGhpcy5hZGRDbGFzcyhhKTp0aGlzLnJlbW92ZUNsYXNzKGEpOnIuaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYyl7cih0aGlzKS50b2dnbGVDbGFzcyhhLmNhbGwodGhpcyxjLG1iKHRoaXMpLGIpLGIpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsZCxlLGY7aWYoXCJzdHJpbmdcIj09PWMpe2Q9MCxlPXIodGhpcyksZj1hLm1hdGNoKEspfHxbXTt3aGlsZShiPWZbZCsrXSllLmhhc0NsYXNzKGIpP2UucmVtb3ZlQ2xhc3MoYik6ZS5hZGRDbGFzcyhiKX1lbHNlIHZvaWQgMCE9PWEmJlwiYm9vbGVhblwiIT09Y3x8KGI9bWIodGhpcyksYiYmVi5zZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIixiKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGJ8fGE9PT0hMT9cIlwiOlYuZ2V0KHRoaXMsXCJfX2NsYXNzTmFtZV9fXCIpfHxcIlwiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPTA7Yj1cIiBcIithK1wiIFwiO3doaWxlKGM9dGhpc1tkKytdKWlmKDE9PT1jLm5vZGVUeXBlJiYoXCIgXCIrbWIoYykrXCIgXCIpLnJlcGxhY2UobGIsXCIgXCIpLmluZGV4T2YoYik+LTEpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIG5iPS9cXHIvZyxvYj0vW1xceDIwXFx0XFxyXFxuXFxmXSsvZztyLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXNbMF07e2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGQ9ci5pc0Z1bmN0aW9uKGEpLHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZTsxPT09dGhpcy5ub2RlVHlwZSYmKGU9ZD9hLmNhbGwodGhpcyxjLHIodGhpcykudmFsKCkpOmEsbnVsbD09ZT9lPVwiXCI6XCJudW1iZXJcIj09dHlwZW9mIGU/ZSs9XCJcIjpyLmlzQXJyYXkoZSkmJihlPXIubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/XCJcIjphK1wiXCJ9KSksYj1yLnZhbEhvb2tzW3RoaXMudHlwZV18fHIudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiZcInNldFwiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLFwidmFsdWVcIil8fCh0aGlzLnZhbHVlPWUpKX0pO2lmKGUpcmV0dXJuIGI9ci52YWxIb29rc1tlLnR5cGVdfHxyLnZhbEhvb2tzW2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sYiYmXCJnZXRcImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsXCJ2YWx1ZVwiKSk/YzooYz1lLnZhbHVlLFwic3RyaW5nXCI9PXR5cGVvZiBjP2MucmVwbGFjZShuYixcIlwiKTpudWxsPT1jP1wiXCI6Yyl9fX0pLHIuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9ci5maW5kLmF0dHIoYSxcInZhbHVlXCIpO3JldHVybiBudWxsIT1iP2I6ci50cmltKHIudGV4dChhKSkucmVwbGFjZShvYixcIiBcIil9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPVwic2VsZWN0LW9uZVwiPT09YS50eXBlLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwoYy5zZWxlY3RlZHx8aT09PWUpJiYhYy5kaXNhYmxlZCYmKCFjLnBhcmVudE5vZGUuZGlzYWJsZWR8fCFyLm5vZGVOYW1lKGMucGFyZW50Tm9kZSxcIm9wdGdyb3VwXCIpKSl7aWYoYj1yKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9YS5vcHRpb25zLGY9ci5tYWtlQXJyYXkoYiksZz1lLmxlbmd0aDt3aGlsZShnLS0pZD1lW2ddLChkLnNlbGVjdGVkPXIuaW5BcnJheShyLnZhbEhvb2tzLm9wdGlvbi5nZXQoZCksZik+LTEpJiYoYz0hMCk7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGZ9fX19KSxyLmVhY2goW1wicmFkaW9cIixcImNoZWNrYm94XCJdLGZ1bmN0aW9uKCl7ci52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHIuaXNBcnJheShiKT9hLmNoZWNrZWQ9ci5pbkFycmF5KHIoYSkudmFsKCksYik+LTE6dm9pZCAwfX0sby5jaGVja09ufHwoci52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpP1wib25cIjphLnZhbHVlfSl9KTt2YXIgcGI9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvO3IuZXh0ZW5kKHIuZXZlbnQse3RyaWdnZXI6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGcsaCxpLGosayxtLG4sbz1bZXx8ZF0scD1sLmNhbGwoYixcInR5cGVcIik/Yi50eXBlOmIscT1sLmNhbGwoYixcIm5hbWVzcGFjZVwiKT9iLm5hbWVzcGFjZS5zcGxpdChcIi5cIik6W107aWYoaD1pPWU9ZXx8ZCwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJiFwYi50ZXN0KHArci5ldmVudC50cmlnZ2VyZWQpJiYocC5pbmRleE9mKFwiLlwiKT4tMSYmKHE9cC5zcGxpdChcIi5cIikscD1xLnNoaWZ0KCkscS5zb3J0KCkpLGs9cC5pbmRleE9mKFwiOlwiKTwwJiZcIm9uXCIrcCxiPWJbci5leHBhbmRvXT9iOm5ldyByLkV2ZW50KHAsXCJvYmplY3RcIj09dHlwZW9mIGImJmIpLGIuaXNUcmlnZ2VyPWY/MjozLGIubmFtZXNwYWNlPXEuam9pbihcIi5cIiksYi5ybmFtZXNwYWNlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoXCIoXnxcXFxcLilcIitxLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKTpudWxsLGIucmVzdWx0PXZvaWQgMCxiLnRhcmdldHx8KGIudGFyZ2V0PWUpLGM9bnVsbD09Yz9bYl06ci5tYWtlQXJyYXkoYyxbYl0pLG49ci5ldmVudC5zcGVjaWFsW3BdfHx7fSxmfHwhbi50cmlnZ2VyfHxuLnRyaWdnZXIuYXBwbHkoZSxjKSE9PSExKSl7aWYoIWYmJiFuLm5vQnViYmxlJiYhci5pc1dpbmRvdyhlKSl7Zm9yKGo9bi5kZWxlZ2F0ZVR5cGV8fHAscGIudGVzdChqK3ApfHwoaD1oLnBhcmVudE5vZGUpO2g7aD1oLnBhcmVudE5vZGUpby5wdXNoKGgpLGk9aDtpPT09KGUub3duZXJEb2N1bWVudHx8ZCkmJm8ucHVzaChpLmRlZmF1bHRWaWV3fHxpLnBhcmVudFdpbmRvd3x8YSl9Zz0wO3doaWxlKChoPW9bZysrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYi50eXBlPWc+MT9qOm4uYmluZFR5cGV8fHAsbT0oVi5nZXQoaCxcImV2ZW50c1wiKXx8e30pW2IudHlwZV0mJlYuZ2V0KGgsXCJoYW5kbGVcIiksbSYmbS5hcHBseShoLGMpLG09ayYmaFtrXSxtJiZtLmFwcGx5JiZUKGgpJiYoYi5yZXN1bHQ9bS5hcHBseShoLGMpLGIucmVzdWx0PT09ITEmJmIucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGIudHlwZT1wLGZ8fGIuaXNEZWZhdWx0UHJldmVudGVkKCl8fG4uX2RlZmF1bHQmJm4uX2RlZmF1bHQuYXBwbHkoby5wb3AoKSxjKSE9PSExfHwhVChlKXx8ayYmci5pc0Z1bmN0aW9uKGVbcF0pJiYhci5pc1dpbmRvdyhlKSYmKGk9ZVtrXSxpJiYoZVtrXT1udWxsKSxyLmV2ZW50LnRyaWdnZXJlZD1wLGVbcF0oKSxyLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsaSYmKGVba109aSkpLGIucmVzdWx0fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXIuZXh0ZW5kKG5ldyByLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMH0pO3IuZXZlbnQudHJpZ2dlcihkLG51bGwsYil9fSksci5mbi5leHRlbmQoe3RyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ci5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/ci5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSksci5lYWNoKFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudVwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe3IuZm5bYl09ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24oYixudWxsLGEsYyk6dGhpcy50cmlnZ2VyKGIpfX0pLHIuZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX19KSxvLmZvY3VzaW49XCJvbmZvY3VzaW5cImluIGEsby5mb2N1c2lufHxyLmVhY2goe2ZvY3VzOlwiZm9jdXNpblwiLGJsdXI6XCJmb2N1c291dFwifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe3IuZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxyLmV2ZW50LmZpeChhKSl9O3IuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1WLmFjY2VzcyhkLGIpO2V8fGQuYWRkRXZlbnRMaXN0ZW5lcihhLGMsITApLFYuYWNjZXNzKGQsYiwoZXx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9Vi5hY2Nlc3MoZCxiKS0xO2U/Vi5hY2Nlc3MoZCxiLGUpOihkLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxjLCEwKSxWLnJlbW92ZShkLGIpKX19fSk7dmFyIHFiPWEubG9jYXRpb24scmI9ci5ub3coKSxzYj0vXFw/LztyLnBhcnNlWE1MPWZ1bmN0aW9uKGIpe3ZhciBjO2lmKCFifHxcInN0cmluZ1wiIT10eXBlb2YgYilyZXR1cm4gbnVsbDt0cnl7Yz0obmV3IGEuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoYixcInRleHQveG1sXCIpfWNhdGNoKGQpe2M9dm9pZCAwfXJldHVybiBjJiYhYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcnNlcmVycm9yXCIpLmxlbmd0aHx8ci5lcnJvcihcIkludmFsaWQgWE1MOiBcIitiKSxjfTt2YXIgdGI9L1xcW1xcXSQvLHViPS9cXHI/XFxuL2csdmI9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLHdiPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiB4YihhLGIsYyxkKXt2YXIgZTtpZihyLmlzQXJyYXkoYikpci5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHx0Yi50ZXN0KGEpP2QoYSxlKTp4YihhK1wiW1wiKyhcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9ZT9iOlwiXCIpK1wiXVwiLGUsYyxkKX0pO2Vsc2UgaWYoY3x8XCJvYmplY3RcIiE9PXIudHlwZShiKSlkKGEsYik7ZWxzZSBmb3IoZSBpbiBiKXhiKGErXCJbXCIrZStcIl1cIixiW2VdLGMsZCl9ci5wYXJhbT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1mdW5jdGlvbihhLGIpe3ZhciBjPXIuaXNGdW5jdGlvbihiKT9iKCk6YjtkW2QubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoYSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KG51bGw9PWM/XCJcIjpjKX07aWYoci5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIXIuaXNQbGFpbk9iamVjdChhKSlyLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IoYyBpbiBhKXhiKGMsYVtjXSxiLGUpO3JldHVybiBkLmpvaW4oXCImXCIpfSxyLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHIucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT1yLnByb3AodGhpcyxcImVsZW1lbnRzXCIpO3JldHVybiBhP3IubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIXIodGhpcykuaXMoXCI6ZGlzYWJsZWRcIikmJndiLnRlc3QodGhpcy5ub2RlTmFtZSkmJiF2Yi50ZXN0KGEpJiYodGhpcy5jaGVja2VkfHwhaGEudGVzdChhKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1yKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1jP251bGw6ci5pc0FycmF5KGMpP3IubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJue25hbWU6Yi5uYW1lLHZhbHVlOmEucmVwbGFjZSh1YixcIlxcclxcblwiKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKHViLFwiXFxyXFxuXCIpfX0pLmdldCgpfX0pO3ZhciB5Yj0vJTIwL2csemI9LyMuKiQvLEFiPS8oWz8mXSlfPVteJl0qLyxCYj0vXiguKj8pOlsgXFx0XSooW15cXHJcXG5dKikkL2dtLENiPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLERiPS9eKD86R0VUfEhFQUQpJC8sRWI9L15cXC9cXC8vLEZiPXt9LEdiPXt9LEhiPVwiKi9cIi5jb25jYXQoXCIqXCIpLEliPWQuY3JlYXRlRWxlbWVudChcImFcIik7SWIuaHJlZj1xYi5ocmVmO2Z1bmN0aW9uIEpiKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe1wic3RyaW5nXCIhPXR5cGVvZiBiJiYoYz1iLGI9XCIqXCIpO3ZhciBkLGU9MCxmPWIudG9Mb3dlckNhc2UoKS5tYXRjaChLKXx8W107aWYoci5pc0Z1bmN0aW9uKGMpKXdoaWxlKGQ9ZltlKytdKVwiK1wiPT09ZFswXT8oZD1kLnNsaWNlKDEpfHxcIipcIiwoYVtkXT1hW2RdfHxbXSkudW5zaGlmdChjKSk6KGFbZF09YVtkXXx8W10pLnB1c2goYyl9fWZ1bmN0aW9uIEtiKGEsYixjLGQpe3ZhciBlPXt9LGY9YT09PUdiO2Z1bmN0aW9uIGcoaCl7dmFyIGk7cmV0dXJuIGVbaF09ITAsci5lYWNoKGFbaF18fFtdLGZ1bmN0aW9uKGEsaCl7dmFyIGo9aChiLGMsZCk7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlW1wiKlwiXSYmZyhcIipcIil9ZnVuY3Rpb24gTGIoYSxiKXt2YXIgYyxkLGU9ci5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihjIGluIGIpdm9pZCAwIT09YltjXSYmKChlW2NdP2E6ZHx8KGQ9e30pKVtjXT1iW2NdKTtyZXR1cm4gZCYmci5leHRlbmQoITAsYSxkKSxhfWZ1bmN0aW9uIE1iKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY29udGVudHMsaT1hLmRhdGFUeXBlczt3aGlsZShcIipcIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWQmJihkPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikpO2lmKGQpZm9yKGUgaW4gaClpZihoW2VdJiZoW2VdLnRlc3QoZCkpe2kudW5zaGlmdChlKTticmVha31pZihpWzBdaW4gYylmPWlbMF07ZWxzZXtmb3IoZSBpbiBjKXtpZighaVswXXx8YS5jb252ZXJ0ZXJzW2UrXCIgXCIraVswXV0pe2Y9ZTticmVha31nfHwoZz1lKX1mPWZ8fGd9cmV0dXJuIGY/KGYhPT1pWzBdJiZpLnVuc2hpZnQoZiksY1tmXSk6dm9pZCAwfWZ1bmN0aW9uIE5iKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaj17fSxrPWEuZGF0YVR5cGVzLnNsaWNlKCk7aWYoa1sxXSlmb3IoZyBpbiBhLmNvbnZlcnRlcnMpaltnLnRvTG93ZXJDYXNlKCldPWEuY29udmVydGVyc1tnXTtmPWsuc2hpZnQoKTt3aGlsZShmKWlmKGEucmVzcG9uc2VGaWVsZHNbZl0mJihjW2EucmVzcG9uc2VGaWVsZHNbZl1dPWIpLCFpJiZkJiZhLmRhdGFGaWx0ZXImJihiPWEuZGF0YUZpbHRlcihiLGEuZGF0YVR5cGUpKSxpPWYsZj1rLnNoaWZ0KCkpaWYoXCIqXCI9PT1mKWY9aTtlbHNlIGlmKFwiKlwiIT09aSYmaSE9PWYpe2lmKGc9altpK1wiIFwiK2ZdfHxqW1wiKiBcIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdChcIiBcIiksaFsxXT09PWYmJihnPWpbaStcIiBcIitoWzBdXXx8altcIiogXCIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhW1widGhyb3dzXCJdKWI9ZyhiKTtlbHNlIHRyeXtiPWcoYil9Y2F0Y2gobCl7cmV0dXJue3N0YXRlOlwicGFyc2VyZXJyb3JcIixlcnJvcjpnP2w6XCJObyBjb252ZXJzaW9uIGZyb20gXCIraStcIiB0byBcIitmfX19cmV0dXJue3N0YXRlOlwic3VjY2Vzc1wiLGRhdGE6Yn19ci5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOnFiLmhyZWYsdHlwZTpcIkdFVFwiLGlzTG9jYWw6Q2IudGVzdChxYi5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsYWNjZXB0czp7XCIqXCI6SGIsdGV4dDpcInRleHQvcGxhaW5cIixodG1sOlwidGV4dC9odG1sXCIseG1sOlwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLGpzb246XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIn0sY29udGVudHM6e3htbDovXFxieG1sXFxiLyxodG1sOi9cXGJodG1sLyxqc29uOi9cXGJqc29uXFxiL30scmVzcG9uc2VGaWVsZHM6e3htbDpcInJlc3BvbnNlWE1MXCIsdGV4dDpcInJlc3BvbnNlVGV4dFwiLGpzb246XCJyZXNwb25zZUpTT05cIn0sY29udmVydGVyczp7XCIqIHRleHRcIjpTdHJpbmcsXCJ0ZXh0IGh0bWxcIjohMCxcInRleHQganNvblwiOkpTT04ucGFyc2UsXCJ0ZXh0IHhtbFwiOnIucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe3JldHVybiBiP0xiKExiKGEsci5hamF4U2V0dGluZ3MpLGIpOkxiKHIuYWpheFNldHRpbmdzLGEpfSxhamF4UHJlZmlsdGVyOkpiKEZiKSxhamF4VHJhbnNwb3J0OkpiKEdiKSxhamF4OmZ1bmN0aW9uKGIsYyl7XCJvYmplY3RcIj09dHlwZW9mIGImJihjPWIsYj12b2lkIDApLGM9Y3x8e307dmFyIGUsZixnLGgsaSxqLGssbCxtLG4sbz1yLmFqYXhTZXR1cCh7fSxjKSxwPW8uY29udGV4dHx8byxxPW8uY29udGV4dCYmKHAubm9kZVR5cGV8fHAuanF1ZXJ5KT9yKHApOnIuZXZlbnQscz1yLkRlZmVycmVkKCksdD1yLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLHU9by5zdGF0dXNDb2RlfHx7fSx2PXt9LHc9e30seD1cImNhbmNlbGVkXCIseT17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGspe2lmKCFoKXtoPXt9O3doaWxlKGI9QmIuZXhlYyhnKSloW2JbMV0udG9Mb3dlckNhc2UoKV09YlsyXX1iPWhbYS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gbnVsbD09Yj9udWxsOmJ9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiBrP2c6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1rJiYoYT13W2EudG9Mb3dlckNhc2UoKV09d1thLnRvTG93ZXJDYXNlKCldfHxhLHZbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09ayYmKG8ubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKGspeS5hbHdheXMoYVt5LnN0YXR1c10pO2Vsc2UgZm9yKGIgaW4gYSl1W2JdPVt1W2JdLGFbYl1dO3JldHVybiB0aGlzfSxhYm9ydDpmdW5jdGlvbihhKXt2YXIgYj1hfHx4O3JldHVybiBlJiZlLmFib3J0KGIpLEEoMCxiKSx0aGlzfX07aWYocy5wcm9taXNlKHkpLG8udXJsPSgoYnx8by51cmx8fHFiLmhyZWYpK1wiXCIpLnJlcGxhY2UoRWIscWIucHJvdG9jb2wrXCIvL1wiKSxvLnR5cGU9Yy5tZXRob2R8fGMudHlwZXx8by5tZXRob2R8fG8udHlwZSxvLmRhdGFUeXBlcz0oby5kYXRhVHlwZXx8XCIqXCIpLnRvTG93ZXJDYXNlKCkubWF0Y2goSyl8fFtcIlwiXSxudWxsPT1vLmNyb3NzRG9tYWluKXtqPWQuY3JlYXRlRWxlbWVudChcImFcIik7dHJ5e2ouaHJlZj1vLnVybCxqLmhyZWY9ai5ocmVmLG8uY3Jvc3NEb21haW49SWIucHJvdG9jb2wrXCIvL1wiK0liLmhvc3QhPWoucHJvdG9jb2wrXCIvL1wiK2ouaG9zdH1jYXRjaCh6KXtvLmNyb3NzRG9tYWluPSEwfX1pZihvLmRhdGEmJm8ucHJvY2Vzc0RhdGEmJlwic3RyaW5nXCIhPXR5cGVvZiBvLmRhdGEmJihvLmRhdGE9ci5wYXJhbShvLmRhdGEsby50cmFkaXRpb25hbCkpLEtiKEZiLG8sYyx5KSxrKXJldHVybiB5O2w9ci5ldmVudCYmby5nbG9iYWwsbCYmMD09PXIuYWN0aXZlKysmJnIuZXZlbnQudHJpZ2dlcihcImFqYXhTdGFydFwiKSxvLnR5cGU9by50eXBlLnRvVXBwZXJDYXNlKCksby5oYXNDb250ZW50PSFEYi50ZXN0KG8udHlwZSksZj1vLnVybC5yZXBsYWNlKHpiLFwiXCIpLG8uaGFzQ29udGVudD9vLmRhdGEmJm8ucHJvY2Vzc0RhdGEmJjA9PT0oby5jb250ZW50VHlwZXx8XCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSYmKG8uZGF0YT1vLmRhdGEucmVwbGFjZSh5YixcIitcIikpOihuPW8udXJsLnNsaWNlKGYubGVuZ3RoKSxvLmRhdGEmJihmKz0oc2IudGVzdChmKT9cIiZcIjpcIj9cIikrby5kYXRhLGRlbGV0ZSBvLmRhdGEpLG8uY2FjaGU9PT0hMSYmKGY9Zi5yZXBsYWNlKEFiLFwiXCIpLG49KHNiLnRlc3QoZik/XCImXCI6XCI/XCIpK1wiXz1cIityYisrICtuKSxvLnVybD1mK24pLG8uaWZNb2RpZmllZCYmKHIubGFzdE1vZGlmaWVkW2ZdJiZ5LnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Nb2RpZmllZC1TaW5jZVwiLHIubGFzdE1vZGlmaWVkW2ZdKSxyLmV0YWdbZl0mJnkuc2V0UmVxdWVzdEhlYWRlcihcIklmLU5vbmUtTWF0Y2hcIixyLmV0YWdbZl0pKSwoby5kYXRhJiZvLmhhc0NvbnRlbnQmJm8uY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSkmJnkuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLG8uY29udGVudFR5cGUpLHkuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLG8uZGF0YVR5cGVzWzBdJiZvLmFjY2VwdHNbby5kYXRhVHlwZXNbMF1dP28uYWNjZXB0c1tvLmRhdGFUeXBlc1swXV0rKFwiKlwiIT09by5kYXRhVHlwZXNbMF0/XCIsIFwiK0hiK1wiOyBxPTAuMDFcIjpcIlwiKTpvLmFjY2VwdHNbXCIqXCJdKTtmb3IobSBpbiBvLmhlYWRlcnMpeS5zZXRSZXF1ZXN0SGVhZGVyKG0sby5oZWFkZXJzW21dKTtpZihvLmJlZm9yZVNlbmQmJihvLmJlZm9yZVNlbmQuY2FsbChwLHksbyk9PT0hMXx8aykpcmV0dXJuIHkuYWJvcnQoKTtpZih4PVwiYWJvcnRcIix0LmFkZChvLmNvbXBsZXRlKSx5LmRvbmUoby5zdWNjZXNzKSx5LmZhaWwoby5lcnJvciksZT1LYihHYixvLGMseSkpe2lmKHkucmVhZHlTdGF0ZT0xLGwmJnEudHJpZ2dlcihcImFqYXhTZW5kXCIsW3ksb10pLGspcmV0dXJuIHk7by5hc3luYyYmby50aW1lb3V0PjAmJihpPWEuc2V0VGltZW91dChmdW5jdGlvbigpe3kuYWJvcnQoXCJ0aW1lb3V0XCIpfSxvLnRpbWVvdXQpKTt0cnl7az0hMSxlLnNlbmQodixBKX1jYXRjaCh6KXtpZihrKXRocm93IHo7QSgtMSx6KX19ZWxzZSBBKC0xLFwiTm8gVHJhbnNwb3J0XCIpO2Z1bmN0aW9uIEEoYixjLGQsaCl7dmFyIGosbSxuLHYsdyx4PWM7a3x8KGs9ITAsaSYmYS5jbGVhclRpbWVvdXQoaSksZT12b2lkIDAsZz1ofHxcIlwiLHkucmVhZHlTdGF0ZT1iPjA/NDowLGo9Yj49MjAwJiYzMDA+Ynx8MzA0PT09YixkJiYodj1NYihvLHksZCkpLHY9TmIobyx2LHksaiksaj8oby5pZk1vZGlmaWVkJiYodz15LmdldFJlc3BvbnNlSGVhZGVyKFwiTGFzdC1Nb2RpZmllZFwiKSx3JiYoci5sYXN0TW9kaWZpZWRbZl09dyksdz15LmdldFJlc3BvbnNlSGVhZGVyKFwiZXRhZ1wiKSx3JiYoci5ldGFnW2ZdPXcpKSwyMDQ9PT1ifHxcIkhFQURcIj09PW8udHlwZT94PVwibm9jb250ZW50XCI6MzA0PT09Yj94PVwibm90bW9kaWZpZWRcIjooeD12LnN0YXRlLG09di5kYXRhLG49di5lcnJvcixqPSFuKSk6KG49eCwhYiYmeHx8KHg9XCJlcnJvclwiLDA+YiYmKGI9MCkpKSx5LnN0YXR1cz1iLHkuc3RhdHVzVGV4dD0oY3x8eCkrXCJcIixqP3MucmVzb2x2ZVdpdGgocCxbbSx4LHldKTpzLnJlamVjdFdpdGgocCxbeSx4LG5dKSx5LnN0YXR1c0NvZGUodSksdT12b2lkIDAsbCYmcS50cmlnZ2VyKGo/XCJhamF4U3VjY2Vzc1wiOlwiYWpheEVycm9yXCIsW3ksbyxqP206bl0pLHQuZmlyZVdpdGgocCxbeSx4XSksbCYmKHEudHJpZ2dlcihcImFqYXhDb21wbGV0ZVwiLFt5LG9dKSwtLXIuYWN0aXZlfHxyLmV2ZW50LnRyaWdnZXIoXCJhamF4U3RvcFwiKSkpfXJldHVybiB5fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gci5nZXQoYSxiLGMsXCJqc29uXCIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gci5nZXQoYSx2b2lkIDAsYixcInNjcmlwdFwiKX19KSxyLmVhY2goW1wiZ2V0XCIsXCJwb3N0XCJdLGZ1bmN0aW9uKGEsYil7cltiXT1mdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gci5pc0Z1bmN0aW9uKGMpJiYoZT1lfHxkLGQ9YyxjPXZvaWQgMCksci5hamF4KHIuZXh0ZW5kKHt1cmw6YSx0eXBlOmIsZGF0YVR5cGU6ZSxkYXRhOmMsc3VjY2VzczpkfSxyLmlzUGxhaW5PYmplY3QoYSkmJmEpKX19KSxyLl9ldmFsVXJsPWZ1bmN0aW9uKGEpe3JldHVybiByLmFqYXgoe3VybDphLHR5cGU6XCJHRVRcIixkYXRhVHlwZTpcInNjcmlwdFwiLGNhY2hlOiEwLGFzeW5jOiExLGdsb2JhbDohMSxcInRocm93c1wiOiEwfSl9LHIuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiB0aGlzWzBdJiYoci5pc0Z1bmN0aW9uKGEpJiYoYT1hLmNhbGwodGhpc1swXSkpLGI9cihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RFbGVtZW50Q2hpbGQpYT1hLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBhfSkuYXBwZW5kKHRoaXMpKSx0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHIuaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7cih0aGlzKS53cmFwSW5uZXIoYS5jYWxsKHRoaXMsYikpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9cih0aGlzKSxjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXt2YXIgYj1yLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXtyKHRoaXMpLndyYXBBbGwoYj9hLmNhbGwodGhpcyxjKTphKX0pfSx1bndyYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucGFyZW50KGEpLm5vdChcImJvZHlcIikuZWFjaChmdW5jdGlvbigpe3IodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLHRoaXN9fSksci5leHByLnBzZXVkb3MuaGlkZGVuPWZ1bmN0aW9uKGEpe3JldHVybiFyLmV4cHIucHNldWRvcy52aXNpYmxlKGEpfSxyLmV4cHIucHNldWRvcy52aXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiEhKGEub2Zmc2V0V2lkdGh8fGEub2Zmc2V0SGVpZ2h0fHxhLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKX0sci5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgYS5YTUxIdHRwUmVxdWVzdH1jYXRjaChiKXt9fTt2YXIgT2I9ezA6MjAwLDEyMjM6MjA0fSxQYj1yLmFqYXhTZXR0aW5ncy54aHIoKTtvLmNvcnM9ISFQYiYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIFBiLG8uYWpheD1QYj0hIVBiLHIuYWpheFRyYW5zcG9ydChmdW5jdGlvbihiKXt2YXIgYyxkO3JldHVybiBvLmNvcnN8fFBiJiYhYi5jcm9zc0RvbWFpbj97c2VuZDpmdW5jdGlvbihlLGYpe3ZhciBnLGg9Yi54aHIoKTtpZihoLm9wZW4oYi50eXBlLGIudXJsLGIuYXN5bmMsYi51c2VybmFtZSxiLnBhc3N3b3JkKSxiLnhockZpZWxkcylmb3IoZyBpbiBiLnhockZpZWxkcyloW2ddPWIueGhyRmllbGRzW2ddO2IubWltZVR5cGUmJmgub3ZlcnJpZGVNaW1lVHlwZSYmaC5vdmVycmlkZU1pbWVUeXBlKGIubWltZVR5cGUpLGIuY3Jvc3NEb21haW58fGVbXCJYLVJlcXVlc3RlZC1XaXRoXCJdfHwoZVtcIlgtUmVxdWVzdGVkLVdpdGhcIl09XCJYTUxIdHRwUmVxdWVzdFwiKTtmb3IoZyBpbiBlKWguc2V0UmVxdWVzdEhlYWRlcihnLGVbZ10pO2M9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7YyYmKGM9ZD1oLm9ubG9hZD1oLm9uZXJyb3I9aC5vbmFib3J0PWgub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsXCJhYm9ydFwiPT09YT9oLmFib3J0KCk6XCJlcnJvclwiPT09YT9cIm51bWJlclwiIT10eXBlb2YgaC5zdGF0dXM/ZigwLFwiZXJyb3JcIik6ZihoLnN0YXR1cyxoLnN0YXR1c1RleHQpOmYoT2JbaC5zdGF0dXNdfHxoLnN0YXR1cyxoLnN0YXR1c1RleHQsXCJ0ZXh0XCIhPT0oaC5yZXNwb25zZVR5cGV8fFwidGV4dFwiKXx8XCJzdHJpbmdcIiE9dHlwZW9mIGgucmVzcG9uc2VUZXh0P3tiaW5hcnk6aC5yZXNwb25zZX06e3RleHQ6aC5yZXNwb25zZVRleHR9LGguZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LGgub25sb2FkPWMoKSxkPWgub25lcnJvcj1jKFwiZXJyb3JcIiksdm9pZCAwIT09aC5vbmFib3J0P2gub25hYm9ydD1kOmgub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PWgucmVhZHlTdGF0ZSYmYS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YyYmZCgpfSl9LGM9YyhcImFib3J0XCIpO3RyeXtoLnNlbmQoYi5oYXNDb250ZW50JiZiLmRhdGF8fG51bGwpfWNhdGNoKGkpe2lmKGMpdGhyb3cgaX19LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygpfX06dm9pZCAwfSksci5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGEpe2EuY3Jvc3NEb21haW4mJihhLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxyLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OlwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIn0sY29udGVudHM6e3NjcmlwdDovXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi99LGNvbnZlcnRlcnM6e1widGV4dCBzY3JpcHRcIjpmdW5jdGlvbihhKXtyZXR1cm4gci5nbG9iYWxFdmFsKGEpLGF9fX0pLHIuYWpheFByZWZpbHRlcihcInNjcmlwdFwiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPVwiR0VUXCIpfSksci5hamF4VHJhbnNwb3J0KFwic2NyaXB0XCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGIsYztyZXR1cm57c2VuZDpmdW5jdGlvbihlLGYpe2I9cihcIjxzY3JpcHQ+XCIpLnByb3Aoe2NoYXJzZXQ6YS5zY3JpcHRDaGFyc2V0LHNyYzphLnVybH0pLm9uKFwibG9hZCBlcnJvclwiLGM9ZnVuY3Rpb24oYSl7Yi5yZW1vdmUoKSxjPW51bGwsYSYmZihcImVycm9yXCI9PT1hLnR5cGU/NDA0OjIwMCxhLnR5cGUpfSksZC5oZWFkLmFwcGVuZENoaWxkKGJbMF0pfSxhYm9ydDpmdW5jdGlvbigpe2MmJmMoKX19fX0pO3ZhciBRYj1bXSxSYj0vKD0pXFw/KD89JnwkKXxcXD9cXD8vO3IuYWpheFNldHVwKHtqc29ucDpcImNhbGxiYWNrXCIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBhPVFiLnBvcCgpfHxyLmV4cGFuZG8rXCJfXCIrcmIrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLHIuYWpheFByZWZpbHRlcihcImpzb24ganNvbnBcIixmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGg9Yi5qc29ucCE9PSExJiYoUmIudGVzdChiLnVybCk/XCJ1cmxcIjpcInN0cmluZ1wiPT10eXBlb2YgYi5kYXRhJiYwPT09KGIuY29udGVudFR5cGV8fFwiXCIpLmluZGV4T2YoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIikmJlJiLnRlc3QoYi5kYXRhKSYmXCJkYXRhXCIpO3JldHVybiBofHxcImpzb25wXCI9PT1iLmRhdGFUeXBlc1swXT8oZT1iLmpzb25wQ2FsbGJhY2s9ci5pc0Z1bmN0aW9uKGIuanNvbnBDYWxsYmFjayk/Yi5qc29ucENhbGxiYWNrKCk6Yi5qc29ucENhbGxiYWNrLGg/YltoXT1iW2hdLnJlcGxhY2UoUmIsXCIkMVwiK2UpOmIuanNvbnAhPT0hMSYmKGIudXJsKz0oc2IudGVzdChiLnVybCk/XCImXCI6XCI/XCIpK2IuanNvbnArXCI9XCIrZSksYi5jb252ZXJ0ZXJzW1wic2NyaXB0IGpzb25cIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8ci5lcnJvcihlK1wiIHdhcyBub3QgY2FsbGVkXCIpLGdbMF19LGIuZGF0YVR5cGVzWzBdPVwianNvblwiLGY9YVtlXSxhW2VdPWZ1bmN0aW9uKCl7Zz1hcmd1bWVudHN9LGQuYWx3YXlzKGZ1bmN0aW9uKCl7dm9pZCAwPT09Zj9yKGEpLnJlbW92ZVByb3AoZSk6YVtlXT1mLGJbZV0mJihiLmpzb25wQ2FsbGJhY2s9Yy5qc29ucENhbGxiYWNrLFFiLnB1c2goZSkpLGcmJnIuaXNGdW5jdGlvbihmKSYmZihnWzBdKSxnPWY9dm9pZCAwfSksXCJzY3JpcHRcIik6dm9pZCAwfSksby5jcmVhdGVIVE1MRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT1kLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKS5ib2R5O3JldHVybiBhLmlubmVySFRNTD1cIjxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+XCIsMj09PWEuY2hpbGROb2Rlcy5sZW5ndGh9KCksci5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybltdO1wiYm9vbGVhblwiPT10eXBlb2YgYiYmKGM9YixiPSExKTt2YXIgZSxmLGc7cmV0dXJuIGJ8fChvLmNyZWF0ZUhUTUxEb2N1bWVudD8oYj1kLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKSxlPWIuY3JlYXRlRWxlbWVudChcImJhc2VcIiksZS5ocmVmPWQubG9jYXRpb24uaHJlZixiLmhlYWQuYXBwZW5kQ2hpbGQoZSkpOmI9ZCksZj1CLmV4ZWMoYSksZz0hYyYmW10sZj9bYi5jcmVhdGVFbGVtZW50KGZbMV0pXTooZj1vYShbYV0sYixnKSxnJiZnLmxlbmd0aCYmcihnKS5yZW1vdmUoKSxyLm1lcmdlKFtdLGYuY2hpbGROb2RlcykpfSxyLmZuLmxvYWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnPXRoaXMsaD1hLmluZGV4T2YoXCIgXCIpO3JldHVybiBoPi0xJiYoZD1yLnRyaW0oYS5zbGljZShoKSksYT1hLnNsaWNlKDAsaCkpLHIuaXNGdW5jdGlvbihiKT8oYz1iLGI9dm9pZCAwKTpiJiZcIm9iamVjdFwiPT10eXBlb2YgYiYmKGU9XCJQT1NUXCIpLGcubGVuZ3RoPjAmJnIuYWpheCh7dXJsOmEsdHlwZTplfHxcIkdFVFwiLGRhdGFUeXBlOlwiaHRtbFwiLGRhdGE6Yn0pLmRvbmUoZnVuY3Rpb24oYSl7Zj1hcmd1bWVudHMsZy5odG1sKGQ/cihcIjxkaXY+XCIpLmFwcGVuZChyLnBhcnNlSFRNTChhKSkuZmluZChkKTphKX0pLmFsd2F5cyhjJiZmdW5jdGlvbihhLGIpe2cuZWFjaChmdW5jdGlvbigpe2MuYXBwbHkodGhpcyxmfHxbYS5yZXNwb25zZVRleHQsYixhXSl9KX0pLHRoaXN9LHIuZWFjaChbXCJhamF4U3RhcnRcIixcImFqYXhTdG9wXCIsXCJhamF4Q29tcGxldGVcIixcImFqYXhFcnJvclwiLFwiYWpheFN1Y2Nlc3NcIixcImFqYXhTZW5kXCJdLGZ1bmN0aW9uKGEsYil7ci5mbltiXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vbihiLGEpfX0pLHIuZXhwci5wc2V1ZG9zLmFuaW1hdGVkPWZ1bmN0aW9uKGEpe3JldHVybiByLmdyZXAoci50aW1lcnMsZnVuY3Rpb24oYil7cmV0dXJuIGE9PT1iLmVsZW19KS5sZW5ndGh9O2Z1bmN0aW9uIFNiKGEpe3JldHVybiByLmlzV2luZG93KGEpP2E6OT09PWEubm9kZVR5cGUmJmEuZGVmYXVsdFZpZXd9ci5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosaz1yLmNzcyhhLFwicG9zaXRpb25cIiksbD1yKGEpLG09e307XCJzdGF0aWNcIj09PWsmJihhLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksaD1sLm9mZnNldCgpLGY9ci5jc3MoYSxcInRvcFwiKSxpPXIuY3NzKGEsXCJsZWZ0XCIpLGo9KFwiYWJzb2x1dGVcIj09PWt8fFwiZml4ZWRcIj09PWspJiYoZitpKS5pbmRleE9mKFwiYXV0b1wiKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksci5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLHIuZXh0ZW5kKHt9LGgpKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSxcInVzaW5nXCJpbiBiP2IudXNpbmcuY2FsbChhLG0pOmwuY3NzKG0pfX0sci5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihhKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1hP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3Iub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYixjLGQsZSxmPXRoaXNbMF07aWYoZilyZXR1cm4gZi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD8oZD1mLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGQud2lkdGh8fGQuaGVpZ2h0PyhlPWYub3duZXJEb2N1bWVudCxjPVNiKGUpLGI9ZS5kb2N1bWVudEVsZW1lbnQse3RvcDpkLnRvcCtjLnBhZ2VZT2Zmc2V0LWIuY2xpZW50VG9wLGxlZnQ6ZC5sZWZ0K2MucGFnZVhPZmZzZXQtYi5jbGllbnRMZWZ0fSk6ZCk6e3RvcDowLGxlZnQ6MH19LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXRoaXNbMF0sZD17dG9wOjAsbGVmdDowfTtyZXR1cm5cImZpeGVkXCI9PT1yLmNzcyhjLFwicG9zaXRpb25cIik/Yj1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihhPXRoaXMub2Zmc2V0UGFyZW50KCksYj10aGlzLm9mZnNldCgpLHIubm9kZU5hbWUoYVswXSxcImh0bWxcIil8fChkPWEub2Zmc2V0KCkpLGQ9e3RvcDpkLnRvcCtyLmNzcyhhWzBdLFwiYm9yZGVyVG9wV2lkdGhcIiwhMCksbGVmdDpkLmxlZnQrci5jc3MoYVswXSxcImJvcmRlckxlZnRXaWR0aFwiLCEwKX0pLHt0b3A6Yi50b3AtZC50b3Atci5jc3MoYyxcIm1hcmdpblRvcFwiLCEwKSxsZWZ0OmIubGVmdC1kLmxlZnQtci5jc3MoYyxcIm1hcmdpbkxlZnRcIiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoYSYmXCJzdGF0aWNcIj09PXIuY3NzKGEsXCJwb3NpdGlvblwiKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxwYX0pfX0pLHIuZWFjaCh7c2Nyb2xsTGVmdDpcInBhZ2VYT2Zmc2V0XCIsc2Nyb2xsVG9wOlwicGFnZVlPZmZzZXRcIn0sZnVuY3Rpb24oYSxiKXt2YXIgYz1cInBhZ2VZT2Zmc2V0XCI9PT1iO3IuZm5bYV09ZnVuY3Rpb24oZCl7cmV0dXJuIFModGhpcyxmdW5jdGlvbihhLGQsZSl7dmFyIGY9U2IoYSk7cmV0dXJuIHZvaWQgMD09PWU/Zj9mW2JdOmFbZF06dm9pZChmP2Yuc2Nyb2xsVG8oYz9mLnBhZ2VYT2Zmc2V0OmUsYz9lOmYucGFnZVlPZmZzZXQpOmFbZF09ZSl9LGEsZCxhcmd1bWVudHMubGVuZ3RoKX19KSxyLmVhY2goW1widG9wXCIsXCJsZWZ0XCJdLGZ1bmN0aW9uKGEsYil7ci5jc3NIb29rc1tiXT1OYShvLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz1NYShhLGIpLEthLnRlc3QoYyk/cihhKS5wb3NpdGlvbigpW2JdK1wicHhcIjpjKTp2b2lkIDB9KX0pLHIuZWFjaCh7SGVpZ2h0OlwiaGVpZ2h0XCIsV2lkdGg6XCJ3aWR0aFwifSxmdW5jdGlvbihhLGIpe3IuZWFjaCh7cGFkZGluZzpcImlubmVyXCIrYSxjb250ZW50OmIsXCJcIjpcIm91dGVyXCIrYX0sZnVuY3Rpb24oYyxkKXtyLmZuW2RdPWZ1bmN0aW9uKGUsZil7dmFyIGc9YXJndW1lbnRzLmxlbmd0aCYmKGN8fFwiYm9vbGVhblwiIT10eXBlb2YgZSksaD1jfHwoZT09PSEwfHxmPT09ITA/XCJtYXJnaW5cIjpcImJvcmRlclwiKTtyZXR1cm4gUyh0aGlzLGZ1bmN0aW9uKGIsYyxlKXt2YXIgZjtyZXR1cm4gci5pc1dpbmRvdyhiKT8wPT09ZC5pbmRleE9mKFwib3V0ZXJcIik/YltcImlubmVyXCIrYV06Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbXCJjbGllbnRcIithXTo5PT09Yi5ub2RlVHlwZT8oZj1iLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChiLmJvZHlbXCJzY3JvbGxcIithXSxmW1wic2Nyb2xsXCIrYV0sYi5ib2R5W1wib2Zmc2V0XCIrYV0sZltcIm9mZnNldFwiK2FdLGZbXCJjbGllbnRcIithXSkpOnZvaWQgMD09PWU/ci5jc3MoYixjLGgpOnIuc3R5bGUoYixjLGUsaCl9LGIsZz9lOnZvaWQgMCxnKX19KX0pLHIuZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vbihhLG51bGwsYixjKX0sdW5iaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub2ZmKGEsbnVsbCxiKX0sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYixhLGMsZCl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihhLFwiKipcIik6dGhpcy5vZmYoYixhfHxcIioqXCIsYyl9fSksci5wYXJzZUpTT049SlNPTi5wYXJzZSxcImZ1bmN0aW9uXCI9PVwiZnVuY3Rpb25cIiYmX193ZWJwYWNrX3JlcXVpcmVfXyg4KSYmIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSxcblx0XHRcdFx0X19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO3ZhciBUYj1hLmpRdWVyeSxVYj1hLiQ7cmV0dXJuIHIubm9Db25mbGljdD1mdW5jdGlvbihiKXtyZXR1cm4gYS4kPT09ciYmKGEuJD1VYiksYiYmYS5qUXVlcnk9PT1yJiYoYS5qUXVlcnk9VGIpLHJ9LGJ8fChhLmpRdWVyeT1hLiQ9cikscn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMSAqLyxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gIHRydWUgPyBfX3dlYnBhY2tfcmVxdWlyZV9fLm5jIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG5cbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gIHJldHVybiBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG59XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbigkLCBqUXVlcnkpIHtcbi8vIFB5dGhvbiBUdXRvcjogaHR0cHM6Ly9naXRodWIuY29tL3BnYm92aW5lL09ubGluZVB5dGhvblR1dG9yL1xuLy8gQ29weXJpZ2h0IChDKSBQaGlsaXAgR3VvIChwaGlsaXBAcGdib3ZpbmUubmV0KVxuLy8gTElDRU5TRTogaHR0cHM6Ly9naXRodWIuY29tL3BnYm92aW5lL09ubGluZVB5dGhvblR1dG9yL2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBUT0RPOlxuXG4tIHN1YnN0aXR1dGUgaW4gYSBub24tbGl2ZSB2ZXJzaW9uIG9mIHRoZSBsaXZlIGVkaXRvciBmcm9tIG9wdC1saXZlLmpzXG4gIGluIGFkZGl0aW9uIHRvIHRoZSBqYW5reSBjdXJyZW50IHZlcnNpb24gb2YgdGhlIGVkaXRvclxuXG4qL1xuLyogcHl0dXRvciBjb2RpbmcgZ290Y2hhczpcblxuLSAqTkVWRVIqIHVzZSByYXcgJChfXykgb3IgZDMuc2VsZWN0KF9fKSBzdGF0ZW1lbnRzIHRvIHNlbGVjdCBET00gZWxlbWVudHMuXG5cbiAgKkFMV0FZUyogdXNlIG15Vml6LmRvbVJvb3Qgb3IgbXlWaXouZG9tUm9vdEQzIGZvciBqUXVlcnkgYW5kIEQzLCByZXNwZWN0aXZlbHkuXG5cbiAgT3RoZXJ3aXNlIHRoaW5ncyB3aWxsIGJyZWFrIGluIHdlaXJkIHdheXMgd2hlbiB5b3UgaGF2ZSBtb3JlIHRoYW4gb25lXG4gIHZpc3VhbGl6YXRpb24gZW1iZWRkZWQgd2l0aGluIGEgd2VicGFnZSwgZHVlIHRvIG11bHRpcGxlIG1hdGNoZXMgaW5cbiAgdGhlIGdsb2JhbCBuYW1lc3BhY2UuXG5cbiAgQnkgZG9pbmcgbXlWaXouZG9tUm9vdCAvIC5kb21Sb290RDMsIHlvdSdyZSBndWFyYW50ZWVkIHRvIHNlbGVjdCBET00gZWxlbWVudHNcbiAgd2l0aGluIHRoZSBjdXJyZW50IEV4ZWN1dGlvblZpc3VhbGl6ZXIgb2JqZWN0XG5cbi0gYWx3YXlzIHVzZSBnZW5lcmF0ZUlEIGFuZCBnZW5lcmF0ZUhlYXBPYmpJRCB0byBnZW5lcmF0ZSB1bmlxdWUgQ1NTXG4gIElEcywgb3IgZWxzZSB0aGluZ3Mgd2lsbCBicmVhayB3aGVuIG11bHRpcGxlIEV4ZWN1dGlvblZpc3VhbGl6ZXJcbiAgaW5zdGFuY2VzIGFyZSBvbiBhIHdlYnBhZ2VcblxuKi9cbl9fd2VicGFja19yZXF1aXJlX18oOSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7IC8vIERPIE5PVCBVUEdSQURFIEFCT1ZFIDEuMy4xMCBPUiBFTFNFIEJSRUFLQUdFIFdJTEwgT0NDVVJcbl9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTsgLy8gY29udGFpbnMgc2xpZ2h0IHBnYm92aW5lIG1vZGlmaWNhdGlvbnNcbl9fd2VicGFja19yZXF1aXJlX18oNik7IC8vIGZvciAkLmRvVGltZW91dFxuX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG52YXIgZm9vdGVyX2h0bWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5leHBvcnRzLlNWR19BUlJPV19QT0xZR09OID0gJzAsMyAxMiwzIDEyLDAgMTgsNSAxMiwxMCAxMiw3IDAsNyc7XG52YXIgU1ZHX0FSUk9XX0hFSUdIVCA9IDEwOyAvLyBtdXN0IG1hdGNoIGhlaWdodCBvZiBTVkdfQVJST1dfUE9MWUdPTlxuLyogY29sb3JzIC0gc2VlIHB5dHV0b3IuY3NzIGZvciBtb3JlIGNvbG9ycyAqL1xuZXhwb3J0cy5icmlnaHRSZWQgPSAnI2U5M2YzNCc7XG52YXIgY29ubmVjdG9yQmFzZUNvbG9yID0gJyMwMDU1ODMnO1xudmFyIGNvbm5lY3RvckhpZ2hsaWdodENvbG9yID0gZXhwb3J0cy5icmlnaHRSZWQ7XG52YXIgY29ubmVjdG9ySW5hY3RpdmVDb2xvciA9ICcjY2NjY2NjJztcbnZhciBlcnJvckNvbG9yID0gZXhwb3J0cy5icmlnaHRSZWQ7XG52YXIgYnJlYWtwb2ludENvbG9yID0gZXhwb3J0cy5icmlnaHRSZWQ7XG4vLyBVbmljb2RlIGFycm93IHR5cGVzOiAnXFx1MjFkMicsICdcXHUyMWYwJywgJ1xcdTI5MDcnXG5leHBvcnRzLmRhcmtBcnJvd0NvbG9yID0gZXhwb3J0cy5icmlnaHRSZWQ7XG5leHBvcnRzLmxpZ2h0QXJyb3dDb2xvciA9ICcjYzllNmNhJztcbnZhciBoZWFwUHRyU3JjUkUgPSAvX19oZWFwX3BvaW50ZXJfc3JjXy87XG52YXIgcmlnaHR3YXJkTnVkZ2VIYWNrID0gdHJ1ZTsgLy8gc3VnZ2VzdGVkIGJ5IEpvaG4gRGVOZXJvLCB0b2dnbGUgd2l0aCBnbG9iYWxcbi8vIHJldHVybnMgYSBsaXN0IG9mIGxlbmd0aCBhLmxlbmd0aCAqIGIubGVuZ3RoIHdpdGggZWxlbWVudHMgZnJvbSBib3RoXG4vLyBtaXhlZC4gdGhlIGVsZW1lbnRzIG9mIGEgYW5kIGIgc2hvdWxkIGJlIHByaW1pdGl2ZXMsIGJ1dCBpZiB0aGUgZmlyc3QgZWxlbWVudFxuLy8gaXMgYSBsaXN0LCBpdCBmbGF0dGVucyBpdC4gZS5nLiw6XG4vLyAgIG11bHRpcGx5TGlzdHMoWzEsIDIsIDNdLCBbNCwgNV0pIC0+IFtbMSw0XSwgWzEsNV0sIFsyLDRdLCBbMiw1XSwgWzMsNF0sIFszLDVdXVxuZnVuY3Rpb24gbXVsdGlwbHlMaXN0cyhhLCBiKSB7XG4gICAgdmFyIHJldCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGIubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBlbHQgPSBhW2ldO1xuICAgICAgICAgICAgLy8gZmxhdHRlbiBsaXN0XG4gICAgICAgICAgICBpZiAoJC5pc0FycmF5KGVsdCkpIHtcbiAgICAgICAgICAgICAgICByZXQucHVzaChlbHQuY29uY2F0KGJbal0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldC5wdXNoKFtlbHQsIGJbal1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuLy8gQkVHSU4gdXRpbGl0aWVzIGZvciBzZWxlY3RpdmVseSBoaWRpbmcgdmFyaWFibGVzXG4vLyB1c2UgaHRtbHNwZWNpYWxjaGFycyB0byBlc2NhcGUgY29udGVudHMgYmVmb3JlIHByaW50aW5nIHRvIEhUTUwsXG4vLyB0aGVuIFVORE8gJm5ic3A7IC0+ICcgJyBzaW5jZSB3ZSB3YW50IHNwYWNlcyB0byBuaWNlbHkgbGluZS13cmFwXG4vLyBpbnN0ZWFkIG9mIGJlaW5nIG5vbi1icmVha2luZ1xuZnVuY3Rpb24gdmFybGlzdFRvSHRtbChsc3QpIHtcbiAgICByZXR1cm4gaHRtbHNwZWNpYWxjaGFycyhsc3Quam9pbihcIiwgXCIpKS5yZXBsYWNlKC8mbmJzcDsvZywgJyAnKTtcbn1cbi8vIHRha2UgYSBzdHJpbmcgb2Ygc29tZXRoaW5nIHRvIGhpZGUsIHJlcGxhY2UgbmV3bGluZXMgd2l0aCAnLCdcbi8vIHNvIHVzZXJzIGNhbiBjb252ZW5pZW50bHkgdXNlIG5ld2xpbmVzIGFzIGRlbGltaXRlcnMsIHRoZW4gc3BsaXRcbi8vIGJ5ICcsJywgZmlsdGVyIG91dCBlbXB0eSBlbnRyaWVzLCBhbmQgcmV0dXJuIHRyaW1tZWQgb25lczpcbmZ1bmN0aW9uIHByb2Nlc3NIaWRlU3RyaW5nKHMpIHtcbiAgICByZXR1cm4gcy5yZXBsYWNlKC9cXG4vZywgJywnKVxuICAgICAgICAuc3BsaXQoJywnKVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLnRyaW0oKS5sZW5ndGggPiAwOyB9KVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLnRyaW0oKTsgfSk7XG59XG4vLyBFTkQgdXRpbGl0aWVzIGZvciBzZWxlY3RpdmVseSBoaWRpbmcgdmFyaWFibGVzXG52YXIgbmV3bGluZUFsbFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXFxuJywgJ2cnKTtcbnZhciBkb3VibGVRdW90ZUFsbFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXFxcIicsICdnJyk7XG52YXIgdGFiQWxsUmVnZXggPSBuZXcgUmVnRXhwKFwiXFx0XCIsICdnJyk7XG4vLyB0aGUgbWFpbiBldmVudCFcbnZhciBFeGVjdXRpb25WaXN1YWxpemVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8vIENvbnN0cnVjdG9yIHdpdGggYW4gZXZlci1ncm93aW5nIGZlYXR1cmUtY3JlcHBlZCBsaXN0IG9mIG9wdGlvbnMgOilcbiAgICAvLyBkb21Sb290SUQgaXMgdGhlIHN0cmluZyBJRCBvZiB0aGUgcm9vdCBlbGVtZW50IHdoZXJlIHRvIHJlbmRlciB0aGlzIGluc3RhbmNlXG4gICAgLy9cbiAgICAvLyBkYXQgaXMgZGF0YSByZXR1cm5lZCBieSB0aGUgUHl0aG9uIFR1dG9yIGJhY2tlbmQgY29uc2lzdGluZyBvZiB0d28gZmllbGRzOlxuICAgIC8vICAgY29kZSAgLSBzdHJpbmcgb2YgZXhlY3V0ZWQgY29kZVxuICAgIC8vICAgdHJhY2UgLSBhIGZ1bGwgZXhlY3V0aW9uIHRyYWNlXG4gICAgLy9cbiAgICAvLyBwYXJhbXMgaXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgb3B0aW9uYWwgcGFyYW1ldGVycywgc3VjaCBhczpcbiAgICAvLyAgIGp1bXBUb0VuZCAtIGlmIG5vbi1udWxsLCBqdW1wIHRvIHRoZSB2ZXJ5IGVuZCBvZiBleGVjdXRpb24gaWZcbiAgICAvLyAgICAgICAgICAgICAgIHRoZXJlJ3Mgbm8gZXJyb3IsIG9yIGlmIHRoZXJlJ3MgYW4gZXJyb3IsIGp1bXAgdG8gdGhlXG4gICAgLy8gICAgICAgICAgICAgICBGSVJTVCBFTlRSWSB3aXRoIGFuIGVycm9yXG4gICAgLy8gICBzdGFydGluZ0luc3RydWN0aW9uIC0gdGhlICh6ZXJvLWluZGV4ZWQpIGV4ZWN1dGlvbiBwb2ludCB0byBkaXNwbGF5IHVwb24gcmVuZGVyaW5nXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgdGhpcyBpcyBzZXQsIHRoZW4gaXQgKm92ZXJyaWRlcyoganVtcFRvRW5kXG4gICAgLy8gICBjb2RlRGl2SGVpZ2h0IC0gbWF4aW11bSBoZWlnaHQgb2YgI3B5Q29kZU91dHB1dERpdiAoaW4gaW50ZWdlciBwaXhlbHMpXG4gICAgLy8gICBjb2RlRGl2V2lkdGggIC0gbWF4aW11bSB3aWR0aCAgb2YgI3B5Q29kZU91dHB1dERpdiAoaW4gaW50ZWdlciBwaXhlbHMpXG4gICAgLy8gICBlZGl0Q29kZUJhc2VVUkwgLSB0aGUgYmFzZSBVUkwgdG8gdmlzaXQgd2hlbiB0aGUgdXNlciBjbGlja3MgJ0VkaXQgY29kZScgKGlmIG51bGwsIHRoZW4gJ0VkaXQgY29kZScgbGluayBoaWRkZW4pXG4gICAgLy8gICBlbWJlZGRlZE1vZGUgICAgICAgICAtIHNob3J0Y3V0IGZvciBjb2RlRGl2V2lkdGg9REVGQVVMVF9FTUJFRERFRF9DT0RFX0RJVl9XSURUSCxcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVEaXZIZWlnaHQ9REVGQVVMVF9FTUJFRERFRF9DT0RFX0RJVl9IRUlHSFRcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgKGFuZCBoaWRlIGEgYnVuY2ggb2Ygb3RoZXIgc3R1ZmYgJiBkb24ndCBhY3RpdmF0ZSBrZXlib2FyZCBzaG9ydGN1dHMhKVxuICAgIC8vICAgZGlzYWJsZUhlYXBOZXN0aW5nICAgLSBpZiB0cnVlLCB0aGVuIHJlbmRlciBhbGwgaGVhcCBvYmplY3RzIGF0IHRoZSB0b3AgbGV2ZWwgKGkuZS4sIG5vIG5lc3RlZCBvYmplY3RzKVxuICAgIC8vICAgYWx3YXlzTmVzdFR5cGVzICAgICAgLSBpZiBub24tbnVsbCwgYSBsaXN0IG9mIHR5cGUgbmFtZXMgdG8gQUxXQVlTIG5lc3Qgd2l0aGluIGhlYXAgb2JqZWN0c1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAoc3VwZXJzZWRlcyBkaXNhYmxlSGVhcE5lc3RpbmcsIGRlZmF1bHRzIHRvIERFRkFVTFRfQUxXQVlTX05FU1RfVFlQRVMpXG4gICAgLy8gICBkcmF3UGFyZW50UG9pbnRlcnMgICAtIGlmIHRydWUsIHRoZW4gZHJhdyBlbnZpcm9ubWVudCBkaWFncmFtIHBhcmVudCBwb2ludGVycyBmb3IgYWxsIGZyYW1lc1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICBXQVJOSU5HOiB0aGVyZSBhcmUgaGFyZC10by1kZWJ1ZyBNRU1PUlkgTEVBS1MgYXNzb2NpYXRlZCB3aXRoIGFjdGl2YXRpbmcgdGhpcyBvcHRpb25cbiAgICAvLyAgIHRleHR1YWxNZW1vcnlMYWJlbHMgIC0gcmVuZGVyIHJlZmVyZW5jZXMgdXNpbmcgdGV4dHVhbCBtZW1vcnkgbGFiZWxzIHJhdGhlciB0aGFuIGFzIGpzUGx1bWIgYXJyb3dzLlxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGlzIGdvb2QgZm9yIHNsb3cgYnJvd3NlcnMgb3Igd2hlbiB1c2VkIHdpdGggZGlzYWJsZUhlYXBOZXN0aW5nXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgIHRvIHByZXZlbnQgXCJhcnJvdyBvdmVybG9hZFwiXG4gICAgLy8gICB1cGRhdGVPdXRwdXRDYWxsYmFjayAtIGZ1bmN0aW9uIHRvIGNhbGwgKHdpdGggJ3RoaXMnIGFzIHBhcmFtZXRlcilcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbmV2ZXIgdGhpcy51cGRhdGVPdXRwdXQoKSBpcyBjYWxsZWRcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgKEJFRk9SRSByZW5kZXJpbmcgdGhlIG91dHB1dCBkaXNwbGF5KVxuICAgIC8vICAgaGVpZ2h0Q2hhbmdlQ2FsbGJhY2sgLSBmdW5jdGlvbiB0byBjYWxsICh3aXRoICd0aGlzJyBhcyBwYXJhbWV0ZXIpXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW5ldmVyIHRoZSBIRUlHSFQgb2YgI2RhdGFWaXogY2hhbmdlc1xuICAgIC8vICAgdmVydGljYWxTdGFjayAtIGlmIHRydWUsIHRoZW4gc3RhY2sgY29kZSBkaXNwbGF5IE9OIFRPUCBvZiB2aXN1YWxpemF0aW9uXG4gICAgLy8gICAgICAgICAgICAgICAgICAgKGVsc2UgcGxhY2Ugc2lkZS1ieS1zaWRlKVxuICAgIC8vICAgdmlzdWFsaXplcklkT3ZlcnJpZGUgLSBvdmVycmlkZSB2aXN1YWxpemVyIElEIGluc3RlYWQgb2YgYXV0by1hc3NpZ25pbmcgaXRcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgKEJFIENBUkVGVUwgQUJPVVQgTk9UIEhBVklORyBEVVBMSUNBVEUgSURzIE9OIFRIRSBTQU1FIFBBR0UsXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICBPUiBFTFNFIEFSUk9XUyBBTkQgT1RIRVIgU1RVRkYgV0lMTCBHTyBIQVlXSVJFISlcbiAgICAvLyAgIGV4ZWN1dGVDb2RlV2l0aFJhd0lucHV0RnVuYyAtIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB5b3Ugd2FudCB0byByZS1leGVjdXRlIHRoZSBnaXZlbiBwcm9ncmFtXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoIHNvbWUgbmV3IHVzZXIgaW5wdXQgKHNvbWV3aGF0IGhhY2t5ISlcbiAgICAvLyAgIGNvbXBhY3RGdW5jTGFiZWxzIC0gcmVuZGVyIGZ1bmN0aW9ucyB3aXRoIGEgJ2Z1bmMnIHByZWZpeCBhbmQgbm8gdHlwZSBsYWJlbFxuICAgIC8vICAgc2hvd0FsbEZyYW1lTGFiZWxzIC0gZGlzcGxheSBmcmFtZSBhbmQgcGFyZW50IGZyYW1lIGxhYmVscyBmb3IgYWxsIGZ1bmN0aW9ucyAoZGVmYXVsdDogZmFsc2UpXG4gICAgLy8gICBoaWRlQ29kZSAtIGhpZGUgdGhlIGNvZGUgZGlzcGxheSBhbmQgc2hvdyBvbmx5IHRoZSBkYXRhIHN0cnVjdHVyZSB2aXpcbiAgICAvLyAgIGxhbmcgLSB0byByZW5kZXIgbGFiZWxzIGluIGEgc3R5bGUgYXBwcm9wcmlhdGUgZm9yIG90aGVyIGxhbmd1YWdlcyxcbiAgICAvLyAgICAgICAgICBhbmQgdG8gZGlzcGxheSB0aGUgcHJvcGVyIGxhbmd1YWdlIGluIGxhbmdEaXNwbGF5RGl2OlxuICAgIC8vICAgICAgICAgICdweTInIGZvciBQeXRob24gMiwgJ3B5MycgZm9yIFB5dGhvbiAzLCAnanMnIGZvciBKYXZhU2NyaXB0LCAnamF2YScgZm9yIEphdmEsXG4gICAgLy8gICAgICAgICAgJ3RzJyBmb3IgVHlwZVNjcmlwdCwgJ3J1YnknIGZvciBSdWJ5LCAnYycgZm9yIEMsICdjcHAnIGZvciBDKytcbiAgICAvLyAgICAgICAgICAncHkzYW5hY29uZGEnIGZvciBQeXRob24gMyB3aXRoIEFuYWNvbmRhXG4gICAgLy8gICAgICAgICAgW2RlZmF1bHQgaXMgUHl0aG9uLXN0eWxlIGxhYmVsc11cbiAgICBmdW5jdGlvbiBFeGVjdXRpb25WaXN1YWxpemVyKGRvbVJvb3RJRCwgZGF0LCBwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5wYXJhbXMgPSB7fTtcbiAgICAgICAgLy8gYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuICAgICAgICAvLyAgICd0ZXh0JyAtIHRoZSB0ZXh0IG9mIHRoZSBsaW5lIG9mIGNvZGVcbiAgICAgICAgLy8gICAnbGluZU51bWJlcicgLSBvbmUtaW5kZXhlZCAoYWx3YXlzIHRoZSBhcnJheSBpbmRleCArIDEpXG4gICAgICAgIC8vICAgJ2V4ZWN1dGlvblBvaW50cycgLSBhbiBvcmRlcmVkIGFycmF5IG9mIHplcm8taW5kZXhlZCBleGVjdXRpb24gcG9pbnRzIHdoZXJlIHRoaXMgbGluZSB3YXMgZXhlY3V0ZWRcbiAgICAgICAgLy8gICAnYnJlYWtwb2ludEhlcmUnIC0gaGFzIGEgYnJlYWtwb2ludCBiZWVuIHNldCBoZXJlP1xuICAgICAgICB0aGlzLmNvZGVPdXRwdXRMaW5lcyA9IFtdO1xuICAgICAgICB0aGlzLmN1ckluc3RyID0gMDtcbiAgICAgICAgLy8gQVBJIGZvciBhZGRpbmcgYSBob29rLCBjcmVhdGVkIGJ5IERhdmlkIFByaXRjaGFyZFxuICAgICAgICAvLyBrZXlzLCBob29rIG5hbWVzOyB2YWx1ZXMsIGxpc3Qgb2YgZnVuY3Rpb25zXG4gICAgICAgIHRoaXMucHl0dXRvcl9ob29rcyA9IHt9O1xuICAgICAgICAvLyB0cnVlIGlmZiB0cmFjZSBlbmRlZCBwcmVtYXR1cmVseSBzaW5jZSBtYXhpbXVtIGluc3RydWN0aW9uIGxpbWl0IGhhc1xuICAgICAgICAvLyBiZWVuIHJlYWNoZWRcbiAgICAgICAgdGhpcy5pbnN0ckxpbWl0UmVhY2hlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1JlbmRlcmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnJlYWtwb2ludHMgPSBkMy5tYXAoKTsgLy8gc2V0IG9mIGV4ZWN1dGlvbiBwb2ludHMgdG8gc2V0IGFzIGJyZWFrcG9pbnRzXG4gICAgICAgIHRoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0ID0gW107IC8vIHNvcnRlZCBhbmQgc3luY2VkIHdpdGggYnJlYWtwb2ludHNcbiAgICAgICAgdGhpcy5jdXJJbnB1dENvZGUgPSBkYXQuY29kZS5ydHJpbSgpOyAvLyBraWxsIHRyYWlsaW5nIHNwYWNlc1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgICAgICAgdGhpcy5jdXJUcmFjZSA9IGRhdC50cmFjZTtcbiAgICAgICAgLy8gcG9zdHByb2Nlc3MgdGhlIHRyYWNlXG4gICAgICAgIGlmICh0aGlzLmN1clRyYWNlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBsYXN0RW50cnkgPSB0aGlzLmN1clRyYWNlW3RoaXMuY3VyVHJhY2UubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAvLyBpZiB0aGUgZmluYWwgZW50cnkgaXMgcmF3X2lucHV0IG9yIG1vdXNlX2lucHV0LCB0aGVuIHRyaW0gaXQgZnJvbSB0aGUgdHJhY2UgYW5kXG4gICAgICAgICAgICAvLyBzZXQgYSBmbGFnIHRvIHByb21wdCBmb3IgdXNlciBpbnB1dCB3aGVuIGV4ZWN1dGlvbiBhZHZhbmNlcyB0byB0aGVcbiAgICAgICAgICAgIC8vIGVuZCBvZiB0aGUgdHJhY2VcbiAgICAgICAgICAgIGlmIChsYXN0RW50cnkuZXZlbnQgPT09ICdyYXdfaW5wdXQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9tcHRGb3JVc2VySW5wdXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXNlcklucHV0UHJvbXB0U3RyID0gaHRtbHNwZWNpYWxjaGFycyhsYXN0RW50cnkucHJvbXB0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1clRyYWNlLnBvcCgpOyAvLyBraWxsIGxhc3QgZW50cnkgc28gdGhhdCBpdCBkb2Vzbid0IGdldCBkaXNwbGF5ZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhc3RFbnRyeS5ldmVudCA9PT0gJ21vdXNlX2lucHV0Jykge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvbXB0Rm9yTW91c2VJbnB1dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy51c2VySW5wdXRQcm9tcHRTdHIgPSBodG1sc3BlY2lhbGNoYXJzKGxhc3RFbnRyeS5wcm9tcHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VyVHJhY2UucG9wKCk7IC8vIGtpbGwgbGFzdCBlbnRyeSBzbyB0aGF0IGl0IGRvZXNuJ3QgZ2V0IGRpc3BsYXllZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFzdEVudHJ5LmV2ZW50ID09PSAnaW5zdHJ1Y3Rpb25fbGltaXRfcmVhY2hlZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RyTGltaXRSZWFjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RyTGltaXRSZWFjaGVkV2FybmluZ01zZyA9IGxhc3RFbnRyeS5leGNlcHRpb25fbXNnO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VyVHJhY2UucG9wKCk7IC8vIHBvc3Rwcm9jZXNzIHRvIGtpbGwgbGFzdCBlbnRyeVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHlvdSBoYXZlIG11bHRpcGxlIEV4ZWN1dGlvblZpc3VhbGl6ZXIgb24gYSBwYWdlLCB0aGVpciBJRHNcbiAgICAgICAgLy8gYmV0dGVyIGJlIHVuaXF1ZSBvciBlbHNlIHlvdSdsbCBydW4gaW50byByZW5kZXJpbmcgcHJvYmxlbXNcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLnZpc3VhbGl6ZXJJZE92ZXJyaWRlKSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbGl6ZXJJRCA9IHRoaXMucGFyYW1zLnZpc3VhbGl6ZXJJZE92ZXJyaWRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52aXN1YWxpemVySUQgPSBFeGVjdXRpb25WaXN1YWxpemVyLmN1clZpc3VhbGl6ZXJJRDtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLnZpc3VhbGl6ZXJJRCA+IDApO1xuICAgICAgICAgICAgRXhlY3V0aW9uVmlzdWFsaXplci5jdXJWaXN1YWxpemVySUQrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBzYW5pdGl6ZSB0byBhdm9pZCBuYXN0eSAndW5kZWZpbmVkJyBzdGF0ZXNcbiAgICAgICAgdGhpcy5wYXJhbXMuZGlzYWJsZUhlYXBOZXN0aW5nID0gKHRoaXMucGFyYW1zLmRpc2FibGVIZWFwTmVzdGluZyA9PT0gdHJ1ZSk7XG4gICAgICAgIHRoaXMucGFyYW1zLmRyYXdQYXJlbnRQb2ludGVycyA9ICh0aGlzLnBhcmFtcy5kcmF3UGFyZW50UG9pbnRlcnMgPT09IHRydWUpO1xuICAgICAgICB0aGlzLnBhcmFtcy50ZXh0dWFsTWVtb3J5TGFiZWxzID0gKHRoaXMucGFyYW1zLnRleHR1YWxNZW1vcnlMYWJlbHMgPT09IHRydWUpO1xuICAgICAgICB0aGlzLnBhcmFtcy5zaG93QWxsRnJhbWVMYWJlbHMgPSAodGhpcy5wYXJhbXMuc2hvd0FsbEZyYW1lTGFiZWxzID09PSB0cnVlKTtcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLmFsd2F5c05lc3RUeXBlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtcy5hbHdheXNOZXN0VHlwZXMgPSBFeGVjdXRpb25WaXN1YWxpemVyLkRFRkFVTFRfQUxXQVlTX05FU1RfVFlQRVM7XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0KCQuaXNBcnJheSh0aGlzLnBhcmFtcy5hbHdheXNOZXN0VHlwZXMpKTtcbiAgICAgICAgLy8gaW5zZXJ0IEV4ZWN1dGlvblZpc3VhbGl6ZXIgaW50byBkb21Sb290SUQgaW4gdGhlIERPTVxuICAgICAgICB2YXIgdG1wUm9vdCA9ICQoJyMnICsgZG9tUm9vdElEKTtcbiAgICAgICAgdmFyIHRtcFJvb3REMyA9IGQzLnNlbGVjdCgnIycgKyBkb21Sb290SUQpO1xuICAgICAgICB0bXBSb290Lmh0bWwoJzxkaXYgY2xhc3M9XCJFeGVjdXRpb25WaXN1YWxpemVyXCI+PC9kaXY+Jyk7XG4gICAgICAgIC8vIHRoZSByb290IGVsZW1lbnRzIGZvciBqUXVlcnkgYW5kIEQzIHNlbGVjdGlvbnMsIHJlc3BlY3RpdmVseS5cbiAgICAgICAgLy8gQUxXQVlTIHVzZSB0aGVzZSBhbmQgbmV2ZXIgdXNlIHJhdyAkKF9fKSBvciBkMy5zZWxlY3QoX18pXG4gICAgICAgIHRoaXMuZG9tUm9vdCA9IHRtcFJvb3QuZmluZCgnZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXInKTtcbiAgICAgICAgdGhpcy5kb21Sb290RDMgPSB0bXBSb290RDMuc2VsZWN0KCdkaXYuRXhlY3V0aW9uVmlzdWFsaXplcicpO1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMubGFuZyA9PT0gJ2phdmEnKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlSmF2YUZyb250ZW5kKCk7IC8vIG9oaGhoIHllYWghIGRvIHRoaXMgYmVmb3JlIGluaXRpYWxpemluZyBjb2RlT3V0cHV0TGluZXMgKHVnaCBvcmRlciBkZXBlbmRlbmN5KVxuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5lcyA9IHRoaXMuY3VySW5wdXRDb2RlLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNvZCA9IGxpbmVzW2ldO1xuICAgICAgICAgICAgdmFyIG4gPSB7XG4gICAgICAgICAgICAgICAgdGV4dDogY29kLFxuICAgICAgICAgICAgICAgIGxpbmVOdW1iZXI6IGkgKyAxLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGlvblBvaW50czogW10sXG4gICAgICAgICAgICAgICAgYnJlYWtwb2ludEhlcmU6IGZhbHNlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICQuZWFjaCh0aGlzLmN1clRyYWNlLCBmdW5jdGlvbiAoaiwgZWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsdC5saW5lID09PSBuLmxpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbi5leGVjdXRpb25Qb2ludHMucHVzaChqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGEgY29tbWVudCBjb250YWluaW5nICdicmVha3BvaW50JyBhbmQgdGhpcyBsaW5lIHdhcyBhY3R1YWxseSBleGVjdXRlZCxcbiAgICAgICAgICAgIC8vIHRoZW4gc2V0IGEgYnJlYWtwb2ludCBvbiB0aGlzIGxpbmVcbiAgICAgICAgICAgIHZhciBicmVha3BvaW50SW5Db21tZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgdG9rcyA9IGNvZC5zcGxpdCgnIycpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDEgLyogc3RhcnQgYXQgaW5kZXggMSwgbm90IDAgKi87IGogPCB0b2tzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva3Nbal0uaW5kZXhPZignYnJlYWtwb2ludCcpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnRJbkNvbW1lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChicmVha3BvaW50SW5Db21tZW50ICYmIG4uZXhlY3V0aW9uUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBuLmJyZWFrcG9pbnRIZXJlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRvQnJlYWtwb2ludHMobi5leGVjdXRpb25Qb2ludHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb2RlT3V0cHV0TGluZXMucHVzaChuKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyeV9ob29rKFwiZW5kX2NvbnN0cnVjdG9yXCIsIHsgbXlWaXo6IHRoaXMgfSk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7IC8vIGdvIGZvciBpdCFcbiAgICB9XG4gICAgRXhlY3V0aW9uVmlzdWFsaXplci5wcm90b3R5cGUub2JqSW5BbHdheXNOZXN0VHlwZXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIGlmICghb2JqKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBhc3NlcnQoJC5pc0FycmF5KG9iaikpO1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMuYWx3YXlzTmVzdFR5cGVzLmluZGV4T2Yob2JqWzBdKSA+PSAwKSB7XG4gICAgICAgICAgICAvLyBpcyB0aGUgdHlwZSBuYW1lIGluIGFsd2F5c05lc3RUeXBlcz9cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9iai5sZW5ndGggPj0gMiAmJlxuICAgICAgICAgICAgKG9ialswXSA9PSAnSU5TVEFOQ0UnIHx8IG9ialswXSA9PSAnSU5TVEFOQ0VfUFBSSU5UJykgJiZcbiAgICAgICAgICAgICh0aGlzLnBhcmFtcy5hbHdheXNOZXN0VHlwZXMuaW5kZXhPZihvYmpbMV0pID49IDApKSB7XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgaXMgdGhpcyBhbiBJTlNUQU5DRSB3aXRoIHRoZSB0eXBlIG5hbWUgKG9ialsxXSkgaW4gYWx3YXlzTmVzdFR5cGVzP1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIHNob3VsZCB0aGlzIG9iamVjdCBiZSBuZXN0ZWQgd2l0aGluIGFub3RoZXIgb25lP1xuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLnNob3VsZE5lc3RPYmplY3QgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiAoIXRoaXMucGFyYW1zLmRpc2FibGVIZWFwTmVzdGluZyB8fCB0aGlzLm9iakluQWx3YXlzTmVzdFR5cGVzKG9iaikpO1xuICAgIH07XG4gICAgLyogQVBJIGZvciBhZGRpbmcgYSBob29rLCBjcmVhdGVkIGJ5IERhdmlkIFByaXRjaGFyZFxuICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZlYWdwXG4gIFxuICAgICAgW3RoaXMgZG9jdW1lbnRhdGlvbiBpcyBhIGJpdCBkZXByZWNhdGVkIHNpbmNlIFBoaWxpcCBtYWRlIHRyeV9ob29rIGFcbiAgICAgICBtZXRob2Qgb2YgRXhlY3V0aW9uVmlzdWFsaXplciwgYnV0IHRoZSBnZW5lcmFsIGlkZWFzIHJlbWFpbl1cbiAgXG4gICAgIEFuIGV4dGVybmFsIHVzZXIgc2hvdWxkIGNhbGxcbiAgICAgICBhZGRfcHl0dXRvcl9ob29rKFwiaG9va19uYW1lX2hlcmVcIiwgZnVuY3Rpb24oYXJncykgey4uLn0pXG4gICAgIGFyZ3Mgd2lsbCBiZSBhIGphdmFzY3JpcHQgb2JqZWN0IHdpdGggc2V2ZXJhbCBuYW1lZCBwcm9wZXJ0aWVzO1xuICAgICB0aGlzIGlzIG1lYW50IHRvIGJlIHNpbWlsYXIgdG8gUHl0aG9uJ3Mga2V5d29yZCBhcmd1bWVudHMuXG4gIFxuICAgICBUaGUgaG9va2VkIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYW4gYXJyYXkgd2hvc2UgZmlyc3QgZWxlbWVudCBpcyBhIGJvb2xlYW46XG4gICAgIHRydWUgaWYgaXQgY29tcGxldGVseSBoYW5kbGVkIHRoZSBzaXR1YXRpb24gKG5vIGZ1cnRoZXIgaG9va3NcbiAgICAgbm9yIHRoZSBiYXNlIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWQpOyBmYWxzZSBvdGhlcndpc2UgKHdhc24ndCBoYW5kbGVkKS5cbiAgICAgSWYgdGhlIGhvb2sgc2VtYW50aWNhbGx5IHJlcHJlc2VudHMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgc29tZXRoaW5nLFxuICAgICB0aGUgc2Vjb25kIHZhbHVlIG9mIHRoZSByZXR1cm5lZCBhcnJheSBpcyB0aGF0IHNlbWFudGljIHJldHVybiB2YWx1ZS5cbiAgXG4gICAgIEUuZy4gZm9yIHRoZSBKYXZhIHZpc3VhbGl6ZXIgYSBzaW1wbGlmaWVkIHZlcnNpb24gb2YgYSBob29rIHdlIHVzZSBpczpcbiAgXG4gICAgYWRkX3B5dHV0b3JfaG9vayhcbiAgICAgIFwiaXNQcmltaXRpdmVUeXBlXCIsXG4gICAgICBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBvYmogPSBhcmdzLm9iajsgLy8gdW5wYWNrXG4gICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBBcnJheSAmJiBvYmpbMF0gPT0gXCJDSEFSLUxJVEVSQUxcIilcbiAgICAgICAgICByZXR1cm4gW3RydWUsIHRydWVdOyAvLyB5ZXMgd2UgaGFuZGxlZCBpdCwgeWVzIGl0J3MgcHJpbWl0aXZlXG4gICAgICAgIHJldHVybiBbZmFsc2VdOyAvLyBkaWRuJ3QgaGFuZGxlIGl0LCBsZXQgc29tZW9uZSBlbHNlXG4gICAgICB9KTtcbiAgXG4gICAgIEhvb2sgY2FsbGJhY2tzIGNhbiByZXR1cm4gZmFsc2Ugb3IgdW5kZWZpbmVkIChpLmUuIG5vIHJldHVyblxuICAgICB2YWx1ZSkgaW4gbGlldSBvZiBbZmFsc2VdLlxuICBcbiAgICAgTkI6IElmIG11bHRpcGxlIGZ1bmN0aW9ucyBhcmUgYWRkZWQgdG8gYSBob29rLCB0aGUgb2xkZXN0IGdvZXMgZmlyc3QuICovXG4gICAgRXhlY3V0aW9uVmlzdWFsaXplci5wcm90b3R5cGUuYWRkX3B5dHV0b3JfaG9vayA9IGZ1bmN0aW9uIChob29rX25hbWUsIGZ1bmMpIHtcbiAgICAgICAgaWYgKHRoaXMucHl0dXRvcl9ob29rc1tob29rX25hbWVdKVxuICAgICAgICAgICAgdGhpcy5weXR1dG9yX2hvb2tzW2hvb2tfbmFtZV0ucHVzaChmdW5jKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5weXR1dG9yX2hvb2tzW2hvb2tfbmFtZV0gPSBbZnVuY107XG4gICAgfTtcbiAgICAvKiAgW3RoaXMgZG9jdW1lbnRhdGlvbiBpcyBhIGJpdCBkZXByZWNhdGVkIHNpbmNlIFBoaWxpcCBtYWRlIHRyeV9ob29rIGFcbiAgICAgICAgIG1ldGhvZCBvZiBFeGVjdXRpb25WaXN1YWxpemVyLCBidXQgdGhlIGdlbmVyYWwgaWRlYXMgcmVtYWluXVxuICBcbiAgICB0cnlfaG9vayhob29rX25hbWUsIGFyZ3MpOiBob3cgdGhlIGludGVybmFsIGNvZGViYXNlIGludm9rZXMgYSBob29rLlxuICBcbiAgICBhcmdzIHdpbGwgYmUgYSBqYXZhc2NyaXB0IG9iamVjdCB3aXRoIHNldmVyYWwgbmFtZWQgcHJvcGVydGllcztcbiAgICB0aGlzIGlzIG1lYW50IHRvIGJlIHNpbWlsYXIgdG8gUHl0aG9uJ3Mga2V5d29yZCBhcmd1bWVudHMuIEUuZy4sXG4gIFxuICAgIGZ1bmN0aW9uIGlzUHJpbWl0aXZlVHlwZShvYmopIHtcbiAgICAgIHZhciBob29rX3Jlc3VsdCA9IHRyeV9ob29rKFwiaXNQcmltaXRpdmVUeXBlXCIsIHtvYmo6b2JqfSk7XG4gICAgICBpZiAoaG9va19yZXN1bHRbMF0pIHJldHVybiBob29rX3Jlc3VsdFsxXTtcbiAgICAgIC8vIGdvIG9uIGFzIG5vcm1hbCBpZiB0aGUgaG9vayBkaWRuJ3QgaGFuZGxlIGl0XG4gIFxuICAgIEFsdGhvdWdoIGFkZF9weXR1dG9yX2hvb2sgYWxsb3dzIHRoZSBob29rZWQgZnVuY3Rpb24gdG9cbiAgICByZXR1cm4gZmFsc2Ugb3IgdW5kZWZpbmVkLCB0cnlfaG9vayB3aWxsIGFsd2F5cyByZXR1cm5cbiAgICBzb21ldGhpbmcgd2l0aCB0aGUgc3RyaWN0IGZvcm1hdCBbZmFsc2VdLCBbdHJ1ZV0gb3IgW3RydWUsIC4uLl0uICovXG4gICAgRXhlY3V0aW9uVmlzdWFsaXplci5wcm90b3R5cGUudHJ5X2hvb2sgPSBmdW5jdGlvbiAoaG9va19uYW1lLCBhcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLnB5dHV0b3JfaG9va3NbaG9va19uYW1lXSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnB5dHV0b3JfaG9va3NbaG9va19uYW1lXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIGFwcGx5IHcvbyBcInRoaXNcIiwgYW5kIHBhY2sgc29sZSBhcmcgaW50byBhcnJheSBhcyByZXF1aXJlZCBieSBhcHBseVxuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVkX2FuZF9yZXN1bHQgPSB0aGlzLnB5dHV0b3JfaG9va3NbaG9va19uYW1lXVtpXS5hcHBseShudWxsLCBbYXJnc10pO1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVkX2FuZF9yZXN1bHQgJiYgaGFuZGxlZF9hbmRfcmVzdWx0WzBdKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlZF9hbmRfcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbZmFsc2VdO1xuICAgIH07XG4gICAgLy8gY3JlYXRlIGEgdW5pcXVlIElELCB3aGljaCBpcyBvZnRlbiBuZWNlc3Nhcnkgc28gdGhhdCBqc1BsdW1iIGRvZXNuJ3QgZ2V0IGNvbmZ1c2VkXG4gICAgLy8gZHVlIHRvIG11bHRpcGxlIEV4ZWN1dGlvblZpc3VhbGl6ZXIgaW5zdGFuY2VzIGJlaW5nIGRpc3BsYXllZCBzaW11bHRhbmVvdXNseVxuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLmdlbmVyYXRlSUQgPSBmdW5jdGlvbiAob3JpZ2luYWxfaWQpIHtcbiAgICAgICAgLy8gKGl0J3Mgc2FmZXIgdG8gc3RhcnQgbmFtZXMgd2l0aCBhIGxldHRlciByYXRoZXIgdGhhbiBhIG51bWJlcilcbiAgICAgICAgcmV0dXJuICd2JyArIHRoaXMudmlzdWFsaXplcklEICsgJ19fJyArIG9yaWdpbmFsX2lkO1xuICAgIH07XG4gICAgRXhlY3V0aW9uVmlzdWFsaXplci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5oYXNSZW5kZXJlZCkge1xuICAgICAgICAgICAgYWxlcnQoJ0VSUk9SOiBZb3Ugc2hvdWxkIG9ubHkgY2FsbCByZW5kZXIoKSBPTkNFIG9uIGFuIEV4ZWN1dGlvblZpc3VhbGl6ZXIgb2JqZWN0LicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBteVZpeiA9IHRoaXM7IC8vIHRvIHByZXZlbnQgY29uZnVzaW9uIG9mICd0aGlzJyBpbnNpZGUgb2YgbmVzdGVkIGZ1bmN0aW9uc1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMudmVydGljYWxTdGFjaykge1xuICAgICAgICAgICAgdGhpcy5kb21Sb290Lmh0bWwoJzx0YWJsZSBib3JkZXI9XCIwXCIgY2xhc3M9XCJ2aXN1YWxpemVyXCI+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQgY2xhc3M9XCJ2aXpMYXlvdXRUZFwiIGlkPVwidml6TGF5b3V0VGRGaXJzdFwiXCI+PC90ZD48L3RyPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRkIGNsYXNzPVwidml6TGF5b3V0VGRcIiBpZD1cInZpekxheW91dFRkU2Vjb25kXCI+PC90ZD48L3RyPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5odG1sKCc8dGFibGUgYm9yZGVyPVwiMFwiIGNsYXNzPVwidmlzdWFsaXplclwiPjx0cj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidml6TGF5b3V0VGRcIiBpZD1cInZpekxheW91dFRkRmlyc3RcIj48L3RkPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ2aXpMYXlvdXRUZFwiIGlkPVwidml6TGF5b3V0VGRTZWNvbmRcIj48L3RkPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgPC90cj48L3RhYmxlPicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNyZWF0ZSBhIGNvbnRhaW5lciBmb3IgYSByZXNpemFibGUgc2xpZGVyIHRvIGVuY29tcGFzc1xuICAgICAgICAvLyBib3RoIENvZGVEaXNwbGF5IGFuZCBOYXZpZ2F0aW9uQ29udHJvbGxlclxuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI3ZpekxheW91dFRkRmlyc3QnKS5hcHBlbmQoJzxkaXYgaWQ9XCJjb2RBbmROYXZcIiBzdHlsZT1cIndpZHRoOiA1NTBweDtcIi8+Jyk7XG4gICAgICAgIHZhciBiYXNlID0gdGhpcy5kb21Sb290LmZpbmQoJyN2aXpMYXlvdXRUZEZpcnN0ICNjb2RBbmROYXYnKTtcbiAgICAgICAgdmFyIGJhc2VEMyA9IHRoaXMuZG9tUm9vdEQzLnNlbGVjdCgnI3ZpekxheW91dFRkRmlyc3QgI2NvZEFuZE5hdicpO1xuICAgICAgICB0aGlzLmNvZERpc3BsYXkgPSBuZXcgQ29kZURpc3BsYXkodGhpcywgYmFzZSwgYmFzZUQzLCB0aGlzLmN1cklucHV0Q29kZSwgdGhpcy5wYXJhbXMubGFuZywgdGhpcy5wYXJhbXMuZWRpdENvZGVCYXNlVVJMKTtcbiAgICAgICAgdGhpcy5uYXZDb250cm9scyA9IG5ldyBOYXZpZ2F0aW9uQ29udHJvbGxlcih0aGlzLCBiYXNlLCBiYXNlRDMsIHRoaXMuY3VyVHJhY2UubGVuZ3RoKTtcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLmVtYmVkZGVkTW9kZSkge1xuICAgICAgICAgICAgLy8gZG9uJ3Qgb3ZlcnJpZGUgaWYgdGhleSd2ZSBhbHJlYWR5IGJlZW4gc2V0IVxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLmNvZGVEaXZXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuY29kZURpdldpZHRoID0gRXhlY3V0aW9uVmlzdWFsaXplci5ERUZBVUxUX0VNQkVEREVEX0NPREVfRElWX1dJRFRIO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLmNvZGVEaXZIZWlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLmNvZGVEaXZIZWlnaHQgPSBFeGVjdXRpb25WaXN1YWxpemVyLkRFRkFVTFRfRU1CRURERURfQ09ERV9ESVZfSEVJR0hUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYWRkIGFuIGV4dHJhIGxhYmVsIHRvIGxpbmsgYmFjayB0byB0aGUgbWFpbiBzaXRlLCBzbyB0aGF0IHZpZXdlcnNcbiAgICAgICAgICAgIC8vIG9uIHRoZSBlbWJlZGRlZCBwYWdlIGtub3cgdGhhdCB0aGV5J3JlIHNlZWluZyBhbiBPUFQgdmlzdWFsaXphdGlvblxuICAgICAgICAgICAgYmFzZS5maW5kKCcjY3JlZGl0c1BhbmUnKS5odG1sKCc8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiA4cHQ7IG1hcmdpbi10b3A6IDVweDsgbWFyZ2luLWJvdHRvbTogNXB4O1wiPjxhIGhyZWY9XCJodHRwOi8vcHl0aG9udHV0b3IuY29tL1wiIHRhcmdldD1cIl9ibGFua1wiIHN0eWxlPVwiY29sb3I6ICMzRDU4QTI7XCI+UHl0aG9uIFR1dG9yPC9hPiBieSA8YSBocmVmPVwiaHR0cDovL3BnYm92aW5lLm5ldC9cIiB0YXJnZXQ9XCJfYmxhbmtcIiBzdHlsZT1cImNvbG9yOiAjM0Q1OEEyO1wiPlBoaWxpcCBHdW88L2E+PC9kaXY+Jyk7XG4gICAgICAgICAgICBiYXNlLmZpbmQoJyNjb2RlRm9vdGVyRG9jcycpLmhpZGUoKTsgLy8gY3V0IG91dCBleHRyYW5lb3VzIGRvY3NcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3QgZW5vdWdoIHJvb20gZm9yIHRoZXNlIGV4dHJhIGJ1dHRvbnMgLi4uXG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy5jb2RlRGl2V2lkdGggJiZcbiAgICAgICAgICAgIHRoaXMucGFyYW1zLmNvZGVEaXZXaWR0aCA8IDQ3MCkge1xuICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNqbXBGaXJzdEluc3RyJykuaGlkZSgpO1xuICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNqbXBMYXN0SW5zdHInKS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLmNvZGVEaXZXaWR0aCkge1xuICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNjb2RBbmROYXYnKS53aWR0aCh0aGlzLnBhcmFtcy5jb2RlRGl2V2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy5jb2RlRGl2SGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI3B5Q29kZU91dHB1dERpdicpXG4gICAgICAgICAgICAgICAgLmNzcygnbWF4LWhlaWdodCcsIHRoaXMucGFyYW1zLmNvZGVEaXZIZWlnaHQgKyAncHgnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlbmFibGUgbGVmdC1yaWdodCBkcmFnZ2FibGUgcGFuZSByZXNpemVyIChvcmlnaW5hbGx5IGZyb20gRGF2aWQgUHJpdGNoYXJkKVxuICAgICAgICBiYXNlLnJlc2l6YWJsZSh7XG4gICAgICAgICAgICBoYW5kbGVzOiBcImVcIixcbiAgICAgICAgICAgIG1pbldpZHRoOiAxMDAsXG4gICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uIChldmVudCwgdWkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kb21Sb290LmZpbmQoXCIjY29kZURpc3BsYXlEaXZcIikuY3NzKFwiaGVpZ2h0XCIsIFwiYXV0b1wiKTsgLy8gcmVkZXRlcm1pbmUgaGVpZ2h0IGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgIF90aGlzLm5hdkNvbnRyb2xzLnJlbmRlclNsaWRlckJyZWFrcG9pbnRzKF90aGlzLnNvcnRlZEJyZWFrcG9pbnRzTGlzdCk7IC8vIHVwZGF0ZSBicmVha3BvaW50IGRpc3BsYXkgYWNjb3JkaW5nbHkgb24gcmVzaXplXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnBhcmFtcy51cGRhdGVPdXRwdXRDYWxsYmFjaykgLy8gcmVwb3J0IHNpemUgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBhcmFtcy51cGRhdGVPdXRwdXRDYWxsYmFjayhfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm91dHB1dEJveCA9IG5ldyBQcm9ncmFtT3V0cHV0Qm94KHRoaXMsIHRoaXMuZG9tUm9vdC5maW5kKCcjdml6TGF5b3V0VGRTZWNvbmQnKSwgdGhpcy5wYXJhbXMuZW1iZWRkZWRNb2RlID8gJzQ1cHgnIDogbnVsbCk7XG4gICAgICAgIHRoaXMuZGF0YVZpeiA9IG5ldyBEYXRhVmlzdWFsaXplcih0aGlzLCB0aGlzLmRvbVJvb3QuZmluZCgnI3ZpekxheW91dFRkU2Vjb25kJyksIHRoaXMuZG9tUm9vdEQzLnNlbGVjdCgnI3ZpekxheW91dFRkU2Vjb25kJykpO1xuICAgICAgICBteVZpei5uYXZDb250cm9scy5zaG93RXJyb3IodGhpcy5pbnN0ckxpbWl0UmVhY2hlZFdhcm5pbmdNc2cpO1xuICAgICAgICBteVZpei5uYXZDb250cm9scy5zZXR1cFNsaWRlcih0aGlzLmN1clRyYWNlLmxlbmd0aCAtIDEpO1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMuc3RhcnRpbmdJbnN0cnVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5wYXJhbXMuanVtcFRvRW5kID0gZmFsc2U7IC8vIG92ZXJyaWRlISBtYWtlIHN1cmUgdG8gaGFuZGxlIEZJUlNUXG4gICAgICAgICAgICAvLyB3ZWlyZCBzcGVjaWFsIGNhc2UgZm9yIHNvbWV0aGluZyBsaWtlOlxuICAgICAgICAgICAgLy8gZT1yYXdfaW5wdXQocmF3X2lucHV0KFwiRW50ZXIgc29tZXRoaW5nOlwiKSlcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5zdGFydGluZ0luc3RydWN0aW9uID09IHRoaXMuY3VyVHJhY2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuc3RhcnRpbmdJbnN0cnVjdGlvbi0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZmFpbC1zb2Z0IHdpdGggb3V0LW9mLWJvdW5kcyBzdGFydGluZ0luc3RydWN0aW9uIHZhbHVlczpcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5zdGFydGluZ0luc3RydWN0aW9uIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLnN0YXJ0aW5nSW5zdHJ1Y3Rpb24gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLnN0YXJ0aW5nSW5zdHJ1Y3Rpb24gPj0gdGhpcy5jdXJUcmFjZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5zdGFydGluZ0luc3RydWN0aW9uID0gdGhpcy5jdXJUcmFjZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzZXJ0KDAgPD0gdGhpcy5wYXJhbXMuc3RhcnRpbmdJbnN0cnVjdGlvbiAmJlxuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLnN0YXJ0aW5nSW5zdHJ1Y3Rpb24gPCB0aGlzLmN1clRyYWNlLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLmN1ckluc3RyID0gdGhpcy5wYXJhbXMuc3RhcnRpbmdJbnN0cnVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wYXJhbXMuanVtcFRvRW5kKSB7XG4gICAgICAgICAgICB2YXIgZmlyc3RFcnJvclN0ZXAgPSAtMTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jdXJUcmFjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5jdXJUcmFjZVtpXTtcbiAgICAgICAgICAgICAgICBpZiAoZS5ldmVudCA9PSAnZXhjZXB0aW9uJyB8fCBlLmV2ZW50ID09ICd1bmNhdWdodF9leGNlcHRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0RXJyb3JTdGVwID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2V0IHRvIGZpcnN0IGVycm9yIHN0ZXAgaWYgcmVsZXZhbnQgc2luY2UgdGhhdCdzIG1vcmUgaW5mb3JtYXRpdmVcbiAgICAgICAgICAgIC8vIHRoYW4gc2ltcGx5IGp1bXBpbmcgdG8gdGhlIHZlcnkgZW5kXG4gICAgICAgICAgICBpZiAoZmlyc3RFcnJvclN0ZXAgPj0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VySW5zdHIgPSBmaXJzdEVycm9yU3RlcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VySW5zdHIgPSB0aGlzLmN1clRyYWNlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLmhpZGVDb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI3ZpekxheW91dFRkRmlyc3QnKS5oaWRlKCk7IC8vIGdpZ2FudGljIGhhY2shXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kYXRhVml6LnByZWNvbXB1dGVDdXJUcmFjZUxheW91dHMoKTtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmFtcy5oaWRlQ29kZSkge1xuICAgICAgICAgICAgdGhpcy5jb2REaXNwbGF5LnJlbmRlclB5Q29kZU91dHB1dCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlT3V0cHV0KCk7XG4gICAgICAgIHRoaXMucmVkcmF3Q29ubmVjdG9ycygpOyAvLyBkbyB0aGlzIGF0IHRoZSBlbmRcbiAgICAgICAgdGhpcy5oYXNSZW5kZXJlZCA9IHRydWU7XG4gICAgICAgIHRoaXMudHJ5X2hvb2soXCJlbmRfcmVuZGVyXCIsIHsgbXlWaXo6IHRoaXMgfSk7XG4gICAgfTtcbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS5fZ2V0U29ydGVkQnJlYWtwb2ludHNMaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmV0ID0gW107XG4gICAgICAgIHRoaXMuYnJlYWtwb2ludHMuZm9yRWFjaChmdW5jdGlvbiAoaywgdikge1xuICAgICAgICAgICAgcmV0LnB1c2goTnVtYmVyKGspKTsgLy8gdGhlc2Ugc2hvdWxkIGJlIE5VTUJFUlMsIG5vdCBzdHJpbmdzXG4gICAgICAgIH0pO1xuICAgICAgICByZXQuc29ydChmdW5jdGlvbiAoeCwgeSkgeyByZXR1cm4geCAtIHk7IH0pOyAvLyBXVEYsIGphdmFzY3JpcHQgc29ydCBpcyBsZXhpY29ncmFwaGljIGJ5IGRlZmF1bHQhXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS5hZGRUb0JyZWFrcG9pbnRzID0gZnVuY3Rpb24gKGV4ZWN1dGlvblBvaW50cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAkLmVhY2goZXhlY3V0aW9uUG9pbnRzLCBmdW5jdGlvbiAoaSwgZXApIHtcbiAgICAgICAgICAgIF90aGlzLmJyZWFrcG9pbnRzLnNldChlcCwgMSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvcnRlZEJyZWFrcG9pbnRzTGlzdCA9IHRoaXMuX2dldFNvcnRlZEJyZWFrcG9pbnRzTGlzdCgpOyAvLyBrZWVwIHN5bmNlZCFcbiAgICB9O1xuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLnJlbW92ZUZyb21CcmVha3BvaW50cyA9IGZ1bmN0aW9uIChleGVjdXRpb25Qb2ludHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgJC5lYWNoKGV4ZWN1dGlvblBvaW50cywgZnVuY3Rpb24gKGksIGVwKSB7XG4gICAgICAgICAgICBfdGhpcy5icmVha3BvaW50cy5yZW1vdmUoZXApO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zb3J0ZWRCcmVha3BvaW50c0xpc3QgPSB0aGlzLl9nZXRTb3J0ZWRCcmVha3BvaW50c0xpc3QoKTsgLy8ga2VlcCBzeW5jZWQhXG4gICAgfTtcbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS5zZXRCcmVha3BvaW50ID0gZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgdGhpcy5hZGRUb0JyZWFrcG9pbnRzKGQuZXhlY3V0aW9uUG9pbnRzKTtcbiAgICAgICAgdGhpcy5uYXZDb250cm9scy5yZW5kZXJTbGlkZXJCcmVha3BvaW50cyh0aGlzLnNvcnRlZEJyZWFrcG9pbnRzTGlzdCk7XG4gICAgfTtcbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS51bnNldEJyZWFrcG9pbnQgPSBmdW5jdGlvbiAoZCkge1xuICAgICAgICB0aGlzLnJlbW92ZUZyb21CcmVha3BvaW50cyhkLmV4ZWN1dGlvblBvaW50cyk7XG4gICAgICAgIHRoaXMubmF2Q29udHJvbHMucmVuZGVyU2xpZGVyQnJlYWtwb2ludHModGhpcy5zb3J0ZWRCcmVha3BvaW50c0xpc3QpO1xuICAgIH07XG4gICAgLy8gZmluZCB0aGUgcHJldmlvdXMvbmV4dCBicmVha3BvaW50IHRvIGMgb3IgcmV0dXJuIC0xIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS5maW5kUHJldkJyZWFrcG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjID0gdGhpcy5jdXJJbnN0cjtcbiAgICAgICAgaWYgKHRoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZXYgPSB0aGlzLnNvcnRlZEJyZWFrcG9pbnRzTGlzdFtpIC0gMV07XG4gICAgICAgICAgICAgICAgdmFyIGN1ciA9IHRoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0W2ldO1xuICAgICAgICAgICAgICAgIGlmIChjIDw9IHByZXYpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICBpZiAoY3VyID49IGMpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZmluYWwgZWRnZSBjYXNlOlxuICAgICAgICAgICAgdmFyIGxhc3RFbHQgPSB0aGlzLnNvcnRlZEJyZWFrcG9pbnRzTGlzdFt0aGlzLnNvcnRlZEJyZWFrcG9pbnRzTGlzdC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIHJldHVybiAobGFzdEVsdCA8IGMpID8gbGFzdEVsdCA6IC0xO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS5maW5kTmV4dEJyZWFrcG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjID0gdGhpcy5jdXJJbnN0cjtcbiAgICAgICAgaWYgKHRoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXNhYmlsaXR5IGhhY2s6IGlmIHlvdSdyZSBjdXJyZW50bHkgb24gYSBicmVha3BvaW50LCB0aGVuXG4gICAgICAgIC8vIHNpbmdsZS1zdGVwIGZvcndhcmQgdG8gdGhlIG5leHQgZXhlY3V0aW9uIHBvaW50LCBOT1QgdGhlIG5leHRcbiAgICAgICAgLy8gYnJlYWtwb2ludC4gaXQncyBvZnRlbiB1c2VmdWwgdG8gc2VlIHdoYXQgaGFwcGVucyB3aGVuIHRoZSBsaW5lXG4gICAgICAgIC8vIGF0IGEgYnJlYWtwb2ludCBleGVjdXRlcy5cbiAgICAgICAgZWxzZSBpZiAoJC5pbkFycmF5KGMsIHRoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0KSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYyArIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0Lmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjdXIgPSB0aGlzLnNvcnRlZEJyZWFrcG9pbnRzTGlzdFtpXTtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IHRoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0W2kgKyAxXTtcbiAgICAgICAgICAgICAgICBpZiAoYyA8IGN1cilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cjtcbiAgICAgICAgICAgICAgICBpZiAoY3VyIDw9IGMgJiYgYyA8IG5leHQpIC8vIHN1YnRsZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZpbmFsIGVkZ2UgY2FzZTpcbiAgICAgICAgICAgIHZhciBsYXN0RWx0ID0gdGhpcy5zb3J0ZWRCcmVha3BvaW50c0xpc3RbdGhpcy5zb3J0ZWRCcmVha3BvaW50c0xpc3QubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICByZXR1cm4gKGxhc3RFbHQgPiBjKSA/IGxhc3RFbHQgOiAtMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gcmV0dXJucyB0cnVlIGlmIGFjdGlvbiBzdWNjZXNzZnVsbHkgdGFrZW5cbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS5zdGVwRm9yd2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG15Vml6ID0gdGhpcztcbiAgICAgICAgaWYgKG15Vml6LmN1ckluc3RyIDwgbXlWaXouY3VyVHJhY2UubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBuZXh0IGJyZWFrcG9pbnQsIHRoZW4ganVtcCB0byBpdCAuLi5cbiAgICAgICAgICAgIGlmIChteVZpei5zb3J0ZWRCcmVha3BvaW50c0xpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0QnJlYWtwb2ludCA9IG15Vml6LmZpbmROZXh0QnJlYWtwb2ludCgpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0QnJlYWtwb2ludCAhPSAtMSlcbiAgICAgICAgICAgICAgICAgICAgbXlWaXouY3VySW5zdHIgPSBuZXh0QnJlYWtwb2ludDtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIG15Vml6LmN1ckluc3RyICs9IDE7IC8vIHByZXZlbnQgXCJnZXR0aW5nIHN0dWNrXCIgb24gYSBzb2xpdGFyeSBicmVha3BvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBteVZpei5jdXJJbnN0ciArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbXlWaXoudXBkYXRlT3V0cHV0KHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLy8gcmV0dXJucyB0cnVlIGlmIGFjdGlvbiBzdWNjZXNzZnVsbHkgdGFrZW5cbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS5zdGVwQmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG15Vml6ID0gdGhpcztcbiAgICAgICAgaWYgKG15Vml6LmN1ckluc3RyID4gMCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBwcmV2IGJyZWFrcG9pbnQsIHRoZW4ganVtcCB0byBpdCAuLi5cbiAgICAgICAgICAgIGlmIChteVZpei5zb3J0ZWRCcmVha3BvaW50c0xpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2QnJlYWtwb2ludCA9IG15Vml6LmZpbmRQcmV2QnJlYWtwb2ludCgpO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2QnJlYWtwb2ludCAhPSAtMSlcbiAgICAgICAgICAgICAgICAgICAgbXlWaXouY3VySW5zdHIgPSBwcmV2QnJlYWtwb2ludDtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIG15Vml6LmN1ckluc3RyIC09IDE7IC8vIHByZXZlbnQgXCJnZXR0aW5nIHN0dWNrXCIgb24gYSBzb2xpdGFyeSBicmVha3BvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBteVZpei5jdXJJbnN0ciAtPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbXlWaXoudXBkYXRlT3V0cHV0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBldmVyeSB0aW1lIHRoZSBkaXNwbGF5IG5lZWRzIHRvIGJlIHVwZGF0ZWRcbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS51cGRhdGVPdXRwdXQgPSBmdW5jdGlvbiAoc21vb3RoVHJhbnNpdGlvbikge1xuICAgICAgICBpZiAoc21vb3RoVHJhbnNpdGlvbiA9PT0gdm9pZCAwKSB7IHNtb290aFRyYW5zaXRpb24gPSBmYWxzZTsgfVxuICAgICAgICBpZiAodGhpcy5wYXJhbXMuaGlkZUNvZGUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlT3V0cHV0TWluaSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVPdXRwdXRGdWxsKHNtb290aFRyYW5zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3V0cHV0Qm94LnJlbmRlck91dHB1dCh0aGlzLmN1clRyYWNlW3RoaXMuY3VySW5zdHJdLnN0ZG91dCk7XG4gICAgICAgIHRoaXMudHJ5X2hvb2soXCJlbmRfdXBkYXRlT3V0cHV0XCIsIHsgbXlWaXo6IHRoaXMgfSk7XG4gICAgfTtcbiAgICAvLyBkb2VzIGEgTE9UIG9mIHN0dWZmLCBjYWxsZWQgYnkgdXBkYXRlT3V0cHV0XG4gICAgRXhlY3V0aW9uVmlzdWFsaXplci5wcm90b3R5cGUudXBkYXRlT3V0cHV0RnVsbCA9IGZ1bmN0aW9uIChzbW9vdGhUcmFuc2l0aW9uKSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmN1clRyYWNlKTtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLnBhcmFtcy5oaWRlQ29kZSk7XG4gICAgICAgIHZhciBteVZpeiA9IHRoaXM7IC8vIHRvIHByZXZlbnQgY29uZnVzaW9uIG9mICd0aGlzJyBpbnNpZGUgb2YgbmVzdGVkIGZ1bmN0aW9uc1xuICAgICAgICAvLyB0aGVyZSdzIG5vIHBvaW50IGluIHJlLXJlbmRlcmluZyBpZiB0aGlzIHBhbmUgaXNuJ3QgZXZlbiB2aXNpYmxlIGluIHRoZSBmaXJzdCBwbGFjZSFcbiAgICAgICAgaWYgKCFteVZpei5kb21Sb290LmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbXlWaXoudXBkYXRlTGluZUFuZEV4Y2VwdGlvbkluZm8oKTsgLy8gdmVyeSBpbXBvcnRhbnQgdG8gY2FsbCB0aGlzIGJlZm9yZSByZW5kZXJpbmcgY29kZSAoYXJnaCBvcmRlciBkZXBlbmRlbmN5KVxuICAgICAgICB2YXIgcHJldkRhdGFWaXpIZWlnaHQgPSBteVZpei5kYXRhVml6LmhlaWdodCgpO1xuICAgICAgICB0aGlzLmNvZERpc3BsYXkudXBkYXRlQ29kT3V0cHV0KHNtb290aFRyYW5zaXRpb24pO1xuICAgICAgICAvLyBjYWxsIHRoZSBjYWxsYmFjayBpZiBuZWNlc3NhcnkgKEJFRk9SRSByZW5kZXJpbmcpXG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy51cGRhdGVPdXRwdXRDYWxsYmFjaykge1xuICAgICAgICAgICAgdGhpcy5wYXJhbXMudXBkYXRlT3V0cHV0Q2FsbGJhY2sodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvdGFsSW5zdHJzID0gdGhpcy5jdXJUcmFjZS5sZW5ndGg7XG4gICAgICAgIHZhciBpc0ZpcnN0SW5zdHIgPSAodGhpcy5jdXJJbnN0ciA9PSAwKTtcbiAgICAgICAgdmFyIGlzTGFzdEluc3RyID0gKHRoaXMuY3VySW5zdHIgPT0gKHRvdGFsSW5zdHJzIC0gMSkpO1xuICAgICAgICB2YXIgbXNnID0gXCJTdGVwIFwiICsgU3RyaW5nKHRoaXMuY3VySW5zdHIgKyAxKSArIFwiIG9mIFwiICsgU3RyaW5nKHRvdGFsSW5zdHJzIC0gMSk7XG4gICAgICAgIGlmIChpc0xhc3RJbnN0cikge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvbXB0Rm9yVXNlcklucHV0IHx8IHRoaXMucHJvbXB0Rm9yTW91c2VJbnB1dCkge1xuICAgICAgICAgICAgICAgIG1zZyA9ICc8Yj48Zm9udCBjb2xvcj1cIicgKyBleHBvcnRzLmJyaWdodFJlZCArICdcIj5FbnRlciB1c2VyIGlucHV0OjwvZm9udD48L2I+JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaW5zdHJMaW1pdFJlYWNoZWQpIHtcbiAgICAgICAgICAgICAgICBtc2cgPSBcIlN0ZXAgbGltaXQgcmVhY2hlZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbXNnID0gXCJEb25lIHJ1bm5pbmcgKFwiICsgU3RyaW5nKHRvdGFsSW5zdHJzIC0gMSkgKyBcIiBzdGVwcylcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hdkNvbnRyb2xzLnNldFZjckNvbnRyb2xzKG1zZywgaXNGaXJzdEluc3RyLCBpc0xhc3RJbnN0cik7XG4gICAgICAgIHRoaXMubmF2Q29udHJvbHMuc2V0U2xpZGVyVmFsKHRoaXMuY3VySW5zdHIpO1xuICAgICAgICAvLyByZW5kZXIgZXJyb3IgKGlmIGFwcGxpY2FibGUpOlxuICAgICAgICBpZiAobXlWaXouY3VyTGluZUV4Y2VwdGlvbk1zZykge1xuICAgICAgICAgICAgaWYgKG15Vml6LmN1ckxpbmVFeGNlcHRpb25Nc2cgPT09IFwiVW5rbm93biBlcnJvclwiKSB7XG4gICAgICAgICAgICAgICAgbXlWaXoubmF2Q29udHJvbHMuc2hvd0Vycm9yKCdVbmtub3duIGVycm9yOiAnICsgZm9vdGVyX2h0bWxfMS51bnN1cHBvcnRlZEZlYXR1cmVzU3RyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG15Vml6Lm5hdkNvbnRyb2xzLnNob3dFcnJvcihteVZpei5jdXJMaW5lRXhjZXB0aW9uTXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5pbnN0ckxpbWl0UmVhY2hlZCkgeyAvLyB1Z2x5LCBJIGtub3cgOi9cbiAgICAgICAgICAgIG15Vml6Lm5hdkNvbnRyb2xzLnNob3dFcnJvcihudWxsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmaW5hbGx5LCByZW5kZXIgYWxsIG9mIHRoZSBkYXRhIHN0cnVjdHVyZXNcbiAgICAgICAgdGhpcy5kYXRhVml6LnJlbmRlckRhdGFTdHJ1Y3R1cmVzKHRoaXMuY3VySW5zdHIpO1xuICAgICAgICAvLyBjYWxsIHRoZSBjYWxsYmFjayBpZiBuZWNlc3NhcnkgKEFGVEVSIHJlbmRlcmluZylcbiAgICAgICAgaWYgKG15Vml6LmRhdGFWaXouaGVpZ2h0KCkgIT0gcHJldkRhdGFWaXpIZWlnaHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5oZWlnaHRDaGFuZ2VDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLmhlaWdodENoYW5nZUNhbGxiYWNrKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0xhc3RJbnN0ciAmJlxuICAgICAgICAgICAgbXlWaXoucGFyYW1zLmV4ZWN1dGVDb2RlV2l0aFJhd0lucHV0RnVuYyAmJlxuICAgICAgICAgICAgbXlWaXoucHJvbXB0Rm9yVXNlcklucHV0KSB7XG4gICAgICAgICAgICB0aGlzLm5hdkNvbnRyb2xzLnNob3dVc2VySW5wdXREaXYoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubmF2Q29udHJvbHMuaGlkZVVzZXJJbnB1dERpdigpO1xuICAgICAgICB9XG4gICAgfTsgLy8gZW5kIG9mIHVwZGF0ZU91dHB1dEZ1bGxcbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS51cGRhdGVPdXRwdXRNaW5pID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBhc3NlcnQodGhpcy5wYXJhbXMuaGlkZUNvZGUpO1xuICAgICAgICB0aGlzLmRhdGFWaXoucmVuZGVyRGF0YVN0cnVjdHVyZXModGhpcy5jdXJJbnN0cik7XG4gICAgfTtcbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS5yZW5kZXJTdGVwID0gZnVuY3Rpb24gKHN0ZXApIHtcbiAgICAgICAgYXNzZXJ0KDAgPD0gc3RlcCk7XG4gICAgICAgIGFzc2VydChzdGVwIDwgdGhpcy5jdXJUcmFjZS5sZW5ndGgpO1xuICAgICAgICAvLyBpZ25vcmUgcmVkdW5kYW50IGNhbGxzXG4gICAgICAgIGlmICh0aGlzLmN1ckluc3RyID09IHN0ZXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1ckluc3RyID0gc3RlcDtcbiAgICAgICAgdGhpcy51cGRhdGVPdXRwdXQoKTtcbiAgICB9O1xuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLnJlZHJhd0Nvbm5lY3RvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGF0YVZpei5yZWRyYXdDb25uZWN0b3JzKCk7XG4gICAgfTtcbiAgICAvLyBBbGwgb2YgdGhlIEphdmEgZnJvbnRlbmQgY29kZSBpbiB0aGlzIGZ1bmN0aW9uIHdhcyB3cml0dGVuIGJ5IERhdmlkXG4gICAgLy8gUHJpdGNoYXJkIGFuZCBXaWxsIEd3b3pkeiwgYW5kIGludGVncmF0ZWQgaW50byBweXR1dG9yLmpzIGJ5IFBoaWxpcCBHdW9cbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS5hY3RpdmF0ZUphdmFGcm9udGVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByZXZMaW5lID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJUcmFjZS5mb3JFYWNoKGZ1bmN0aW9uIChlLCBpKSB7XG4gICAgICAgICAgICAvLyB1Z2ggdGhlIEphdmEgYmFja2VuZCBkb2Vzbid0IGF0dGFjaCBsaW5lIG51bWJlcnMgdG8gZXhjZXB0aW9uXG4gICAgICAgICAgICAvLyBldmVudHMsIHNvIGp1c3QgdGFrZSB0aGUgcHJldmlvdXMgbGluZSBudW1iZXIgYXMgb3VyIGJlc3QgZ3Vlc3NcbiAgICAgICAgICAgIGlmIChlLmV2ZW50ID09PSAnZXhjZXB0aW9uJyAmJiAhZS5saW5lKSB7XG4gICAgICAgICAgICAgICAgZS5saW5lID0gcHJldkxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzdXBlciBoYWNrIGJ5IFBoaWxpcCB0aGF0IHJldmVyc2VzIHRoZSBkaXJlY3Rpb24gb2YgdGhlIHN0YWNrIHNvXG4gICAgICAgICAgICAvLyB0aGF0IGl0IGdyb3dzIERPV04gYW5kIHJlbmRlcnMgdGhlIHNhbWUgd2F5IGFzIHRoZSBQeXRob24gYW5kIEpTXG4gICAgICAgICAgICAvLyB2aXN1YWxpemVyIHN0YWNrc1xuICAgICAgICAgICAgaWYgKGUuc3RhY2tfdG9fcmVuZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBlLnN0YWNrX3RvX3JlbmRlci5yZXZlcnNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2TGluZSA9IGUubGluZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkX3B5dHV0b3JfaG9vayhcInJlbmRlclByaW1pdGl2ZU9iamVjdFwiLCBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgdmFyIG9iaiA9IGFyZ3Mub2JqLCBkM0RvbUVsZW1lbnQgPSBhcmdzLmQzRG9tRWxlbWVudDtcbiAgICAgICAgICAgIHZhciB0eXAgPSB0eXBlb2Ygb2JqO1xuICAgICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEFycmF5ICYmIG9ialswXSA9PSBcIlZPSURcIikge1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwidm9pZE9ialwiPnZvaWQ8L3NwYW4+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBBcnJheSAmJiBvYmpbMF0gPT0gXCJOVU1CRVItTElURVJBTFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gYWN0dWFsbHkgdHJhbnNtaXR0ZWQgYXMgYSBzdHJpbmdcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8c3BhbiBjbGFzcz1cIm51bWJlck9ialwiPicgKyBvYmpbMV0gKyAnPC9zcGFuPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXkgJiYgb2JqWzBdID09IFwiQ0hBUi1MSVRFUkFMXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXNjID0gb2JqWzFdLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICAgICAgdmFyIGNoID0gb2JqWzFdO1xuICAgICAgICAgICAgICAgIC8vIGRlZmF1bHRcbiAgICAgICAgICAgICAgICB2YXIgc2hvdyA9IGFzYy50b1N0cmluZygxNik7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHNob3cubGVuZ3RoIDwgNClcbiAgICAgICAgICAgICAgICAgICAgc2hvdyA9IFwiMFwiICsgc2hvdztcbiAgICAgICAgICAgICAgICBzaG93ID0gXCJcXFxcdVwiICsgc2hvdztcbiAgICAgICAgICAgICAgICBpZiAoY2ggPT0gXCJcXG5cIilcbiAgICAgICAgICAgICAgICAgICAgc2hvdyA9IFwiXFxcXG5cIjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaCA9PSBcIlxcclwiKVxuICAgICAgICAgICAgICAgICAgICBzaG93ID0gXCJcXFxcclwiO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoID09IFwiXFx0XCIpXG4gICAgICAgICAgICAgICAgICAgIHNob3cgPSBcIlxcXFx0XCI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT0gXCJcXGJcIilcbiAgICAgICAgICAgICAgICAgICAgc2hvdyA9IFwiXFxcXGJcIjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaCA9PSBcIlxcZlwiKVxuICAgICAgICAgICAgICAgICAgICBzaG93ID0gXCJcXFxcZlwiO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoID09IFwiXFwnXCIpXG4gICAgICAgICAgICAgICAgICAgIHNob3cgPSBcIlxcXFxcXCdcIjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaCA9PSBcIlxcXCJcIilcbiAgICAgICAgICAgICAgICAgICAgc2hvdyA9IFwiXFxcXFxcXCJcIjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaCA9PSBcIlxcXFxcIilcbiAgICAgICAgICAgICAgICAgICAgc2hvdyA9IFwiXFxcXFxcXFxcIjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhc2MgPj0gMzIpXG4gICAgICAgICAgICAgICAgICAgIHNob3cgPSBjaDtcbiAgICAgICAgICAgICAgICAvLyBzdHJpbmdPYmogdG8gbWFrZSBtb25vc3BhY2VcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8c3BhbiBjbGFzcz1cInN0cmluZ09ialwiPlxcJycgKyBzaG93ICsgJ1xcJzwvc3Bhbj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gW2ZhbHNlXTsgLy8gd2UgZGlkbid0IGhhbmRsZSBpdFxuICAgICAgICAgICAgcmV0dXJuIFt0cnVlXTsgLy8gd2UgaGFuZGxlZCBpdFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRfcHl0dXRvcl9ob29rKFwiaXNQcmltaXRpdmVUeXBlXCIsIGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gYXJncy5vYmo7XG4gICAgICAgICAgICBpZiAoKG9iaiBpbnN0YW5jZW9mIEFycmF5ICYmIG9ialswXSA9PSBcIlZPSURcIilcbiAgICAgICAgICAgICAgICB8fCAob2JqIGluc3RhbmNlb2YgQXJyYXkgJiYgb2JqWzBdID09IFwiTlVNQkVSLUxJVEVSQUxcIilcbiAgICAgICAgICAgICAgICB8fCAob2JqIGluc3RhbmNlb2YgQXJyYXkgJiYgb2JqWzBdID09IFwiQ0hBUi1MSVRFUkFMXCIpXG4gICAgICAgICAgICAgICAgfHwgKG9iaiBpbnN0YW5jZW9mIEFycmF5ICYmIG9ialswXSA9PSBcIkVMSURFXCIpKVxuICAgICAgICAgICAgICAgIHJldHVybiBbdHJ1ZSwgdHJ1ZV07IC8vIHdlIGhhbmRsZWQgaXQsIGl0J3MgcHJpbWl0aXZlXG4gICAgICAgICAgICByZXR1cm4gW2ZhbHNlXTsgLy8gZGlkbid0IGhhbmRsZSBpdFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRfcHl0dXRvcl9ob29rKFwiZW5kX3VwZGF0ZU91dHB1dFwiLCBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgdmFyIG15Vml6ID0gYXJncy5teVZpejtcbiAgICAgICAgICAgIHZhciBjdXJFbnRyeSA9IG15Vml6LmN1clRyYWNlW215Vml6LmN1ckluc3RyXTtcbiAgICAgICAgICAgIGlmIChteVZpei5wYXJhbXMuc3RkaW4gJiYgbXlWaXoucGFyYW1zLnN0ZGluICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RkaW5Qb3NpdGlvbiA9IGN1ckVudHJ5LnN0ZGluUG9zaXRpb24gfHwgMDtcbiAgICAgICAgICAgICAgICB2YXIgc3RkaW5Db250ZW50ID0gJzxzcGFuIHN0eWxlPVwiY29sb3I6bGlnaHRncmF5O3RleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoXCI+JyArXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZUh0bWwobXlWaXoucGFyYW1zLnN0ZGluLnN1YnN0cigwLCBzdGRpblBvc2l0aW9uKSkgK1xuICAgICAgICAgICAgICAgICAgICAnPC9zcGFuPicgK1xuICAgICAgICAgICAgICAgICAgICBlc2NhcGVIdG1sKG15Vml6LnBhcmFtcy5zdGRpbi5zdWJzdHIoc3RkaW5Qb3NpdGlvbikpO1xuICAgICAgICAgICAgICAgIG15Vml6LmRvbVJvb3QuZmluZCgnI3N0ZGluU2hvdycpLmh0bWwoc3RkaW5Db250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbZmFsc2VdO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRfcHl0dXRvcl9ob29rKFwiZW5kX3JlbmRlclwiLCBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgdmFyIG15Vml6ID0gYXJncy5teVZpejtcbiAgICAgICAgICAgIGlmIChteVZpei5wYXJhbXMuc3RkaW4gJiYgbXlWaXoucGFyYW1zLnN0ZGluICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RkaW5IVE1MID0gJzxkaXYgaWQ9XCJzdGRpbldyYXBcIj5zdGRpbjo8cHJlIGlkPVwic3RkaW5TaG93XCIgc3R5bGU9XCJib3JkZXI6MXB4IHNvbGlkIGdyYXlcIj48L3ByZT48L2Rpdj4nO1xuICAgICAgICAgICAgICAgIG15Vml6LmRvbVJvb3QuZmluZCgnI2RhdGFWaXonKS5hcHBlbmQoc3RkaW5IVE1MKTsgLy8gVE9ETzogbGVha3kgYWJzdHJhY3Rpb24gd2l0aCAjZGF0YVZpelxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbXlWaXouZG9tUm9vdC5maW5kKCcjJyArIG15Vml6LmdlbmVyYXRlSUQoJ2dsb2JhbHNfaGVhZGVyJykpLmh0bWwoXCJTdGF0aWMgZmllbGRzXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRfcHl0dXRvcl9ob29rKFwiaXNMaW5lYXJPYmplY3RcIiwgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBoZWFwT2JqID0gYXJncy5oZWFwT2JqO1xuICAgICAgICAgICAgaWYgKGhlYXBPYmpbMF0gPT0gJ1NUQUNLJyB8fCBoZWFwT2JqWzBdID09ICdRVUVVRScpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsndHJ1ZScsICd0cnVlJ107XG4gICAgICAgICAgICByZXR1cm4gWydmYWxzZSddO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRfcHl0dXRvcl9ob29rKFwicmVuZGVyQ29tcG91bmRPYmplY3RcIiwgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBvYmpJRCA9IGFyZ3Mub2JqSUQ7XG4gICAgICAgICAgICB2YXIgZDNEb21FbGVtZW50ID0gYXJncy5kM0RvbUVsZW1lbnQ7XG4gICAgICAgICAgICB2YXIgb2JqID0gYXJncy5vYmo7XG4gICAgICAgICAgICB2YXIgdHlwZUxhYmVsUHJlZml4ID0gYXJncy50eXBlTGFiZWxQcmVmaXg7XG4gICAgICAgICAgICB2YXIgbXlWaXogPSBhcmdzLm15Vml6O1xuICAgICAgICAgICAgdmFyIHN0ZXBOdW0gPSBhcmdzLnN0ZXBOdW07XG4gICAgICAgICAgICBpZiAoIShvYmpbMF0gPT0gJ0xJU1QnIHx8IG9ialswXSA9PSAnUVVFVUUnIHx8IG9ialswXSA9PSAnU1RBQ0snKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gW2ZhbHNlXTsgLy8gZGlkbid0IGhhbmRsZVxuICAgICAgICAgICAgdmFyIGxhYmVsID0gb2JqWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB2YXIgdmlzaWJsZUxhYmVsID0geyBsaXN0OiAnYXJyYXknLCBxdWV1ZTogJ3F1ZXVlJywgc3RhY2s6ICdzdGFjaycgfVtsYWJlbF07XG4gICAgICAgICAgICBpZiAob2JqLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPGRpdiBjbGFzcz1cInR5cGVMYWJlbFwiPicgKyB0eXBlTGFiZWxQcmVmaXggKyAnZW1wdHkgJyArIHZpc2libGVMYWJlbCArICc8L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3RydWVdOyAvL2hhbmRsZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJ0eXBlTGFiZWxcIj4nICsgdHlwZUxhYmVsUHJlZml4ICsgdmlzaWJsZUxhYmVsICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPHRhYmxlIGNsYXNzPVwiJyArIGxhYmVsICsgJ1RibFwiPjwvdGFibGU+Jyk7XG4gICAgICAgICAgICB2YXIgdGJsID0gZDNEb21FbGVtZW50LmNoaWxkcmVuKCd0YWJsZScpO1xuICAgICAgICAgICAgaWYgKG9ialswXSA9PSAnTElTVCcpIHtcbiAgICAgICAgICAgICAgICB0YmwuYXBwZW5kKCc8dHI+PC90cj48dHI+PC90cj4nKTtcbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVyVHIgPSB0YmwuZmluZCgndHI6Zmlyc3QnKTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudFRyID0gdGJsLmZpbmQoJ3RyOmxhc3QnKTtcbiAgICAgICAgICAgICAgICAvLyBpOiBhY3R1YWwgaW5kZXggaW4ganNvbiBvYmplY3Q7IGluZDogYXBwYXJlbnQgaW5kZXhcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMSwgaW5kID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gb2JqW2ldO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxpZGUgPSB2YWwgaW5zdGFuY2VvZiBBcnJheSAmJiB2YWxbMF0gPT0gJ0VMSURFJztcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgbmV3IGNvbHVtbiBhbmQgdGhlbiBwYXNzIGluIHRoYXQgbmV3bHktYWRkZWQgY29sdW1uXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIGQzRG9tRWxlbWVudCB0byB0aGUgcmVjdXJzaXZlIGNhbGwgdG8gY2hpbGQ6XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlclRyLmFwcGVuZCgnPHRkIGNsYXNzPVwiJyArIGxhYmVsICsgJ0hlYWRlclwiPjwvdGQ+Jyk7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlclRyLmZpbmQoJ3RkOmxhc3QnKS5hcHBlbmQoZWxpZGUgPyBcIiZoZWxsaXA7XCIgOiBpbmQpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHIuYXBwZW5kKCc8dGQgY2xhc3M9XCInICsgbGFiZWwgKyAnRWx0XCI+PC90ZD4nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbGlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlWaXoucmVuZGVyTmVzdGVkT2JqZWN0KHZhbCwgc3RlcE51bSwgY29udGVudFRyLmZpbmQoJ3RkOmxhc3QnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmQrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUci5maW5kKCd0ZDpsYXN0JykuYXBwZW5kKFwiJmhlbGxpcDtcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmQgKz0gdmFsWzFdOyAvLyB2YWxbMV0gaXMgdGhlIG51bWJlciBvZiBjZWxscyB0byBza2lwXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IC8vIGVuZCBvZiBMSVNUIGhhbmRsaW5nXG4gICAgICAgICAgICAvLyBTdGFjayBhbmQgUXVldWUgaGFuZGxpbmcgY29kZSBieSBXaWxsIEd3b3pkelxuICAgICAgICAgICAgLyogVGhlIHRhYmxlIHByb2R1Y2VkIGZvciBzdGFja3MgYW5kIHF1ZXVlcyBpcyBmb3JtZWQgc2xpZ2h0bHkgZGlmZmVyZW50bHkgdGhhbiB0aGUgb3RoZXJzLFxuICAgICAgICAgICBtaXNzaW5nIHRoZSBoZWFkZXIgcm93LiBUd28gcm93cyBtYWRlIHRoZSBkYXNoZWQgYm9yZGVyIG5vdCBsaW5lIHVwIHByb3Blcmx5ICovXG4gICAgICAgICAgICBpZiAob2JqWzBdID09ICdTVEFDSycpIHtcbiAgICAgICAgICAgICAgICB0YmwuYXBwZW5kKCc8dHI+PC90cj48dHI+PC90cj4nKTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudFRyID0gdGJsLmZpbmQoJ3RyOmxhc3QnKTtcbiAgICAgICAgICAgICAgICBjb250ZW50VHIuYXBwZW5kKCc8dGQgY2xhc3M9XCInICsgbGFiZWwgKyAnRkVsdFwiPicgKyAnPHNwYW4gY2xhc3M9XCJzdHJpbmdPYmogc3ltYm9saWNcIj4mIzg1OTY7PC9zcGFuPicgKyAnPC90ZD4nKTtcbiAgICAgICAgICAgICAgICAkLmVhY2gob2JqLCBmdW5jdGlvbiAoaW5kLCB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZCA8IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIHNraXAgdHlwZSB0YWcgYW5kIElEIGVudHJ5XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUci5hcHBlbmQoJzx0ZCBjbGFzcz1cIicgKyBsYWJlbCArICdFbHRcIj48L3RkPicpO1xuICAgICAgICAgICAgICAgICAgICBteVZpei5yZW5kZXJOZXN0ZWRPYmplY3QodmFsLCBzdGVwTnVtLCBjb250ZW50VHIuZmluZCgndGQ6bGFzdCcpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb250ZW50VHIuYXBwZW5kKCc8dGQgY2xhc3M9XCInICsgbGFiZWwgKyAnTEVsdFwiPicgKyAnPC90ZD4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvYmpbMF0gPT0gJ1FVRVVFJykge1xuICAgICAgICAgICAgICAgIHRibC5hcHBlbmQoJzx0cj48L3RyPjx0cj48L3RyPicpO1xuICAgICAgICAgICAgICAgIHZhciBjb250ZW50VHIgPSB0YmwuZmluZCgndHI6bGFzdCcpO1xuICAgICAgICAgICAgICAgIC8vIEFkZCBhcnJvd3Mgc2hvd2luZyBpbi9vdXQgZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgY29udGVudFRyLmFwcGVuZCgnPHRkIGNsYXNzPVwiJyArIGxhYmVsICsgJ0ZFbHRcIj4nICsgJzxzcGFuIGNsYXNzPVwic3RyaW5nT2JqIHN5bWJvbGljXCI+JiM4NTkyOzwvc3Bhbj48L3RkPicpO1xuICAgICAgICAgICAgICAgICQuZWFjaChvYmosIGZ1bmN0aW9uIChpbmQsIHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gc2tpcCB0eXBlIHRhZyBhbmQgSUQgZW50cnlcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFRyLmFwcGVuZCgnPHRkIGNsYXNzPVwiJyArIGxhYmVsICsgJ0VsdFwiPjwvdGQ+Jyk7XG4gICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlck5lc3RlZE9iamVjdCh2YWwsIHN0ZXBOdW0sIGNvbnRlbnRUci5maW5kKCd0ZDpsYXN0JykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnRlbnRUci5hcHBlbmQoJzx0ZCBjbGFzcz1cIicgKyBsYWJlbCArICdMRWx0XCI+JyArICc8c3BhbiBjbGFzcz1cInN0cmluZ09iaiBzeW1ib2xpY1wiPiYjODU5Mjs8L3NwYW4+PC90ZD4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbdHJ1ZV07IC8vIGRpZCBoYW5kbGVcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkX3B5dHV0b3JfaG9vayhcImVuZF9yZW5kZXJEYXRhU3RydWN0dXJlc1wiLCBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgdmFyIG15Vml6ID0gYXJncy5teVZpejtcbiAgICAgICAgICAgIG15Vml6LmRvbVJvb3QuZmluZChcInRkLmluc3RLZXk6Y29udGFpbnMoJ19fX05PX0xBQkVMIV9fXycpXCIpLmhpZGUoKTtcbiAgICAgICAgICAgIG15Vml6LmRvbVJvb3QuZmluZChcIi50eXBlTGFiZWw6Y29udGFpbnMoJ2RpY3QnKVwiKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaHRtbCgpID09ICdkaWN0JylcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5odG1sKCdzeW1ib2wgdGFibGUnKTtcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5odG1sKCkgPT0gJ2VtcHR5IGRpY3QnKVxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmh0bWwoJ2VtcHR5IHN5bWJvbCB0YWJsZScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBqYXZhIHN5bnRoZXRpY3MgY2F1c2UgdGhpbmdzIHdoaWNoIGphdmFzY3JpcHQgZG9lc24ndCBsaWtlIGluIGFuIGlkXG4gICAgICAgIC8vIFZFUlkgaW1wb3J0YW50IHRvIGJpbmQodGhpcykgc28gdGhhdCB3aGVuIGl0J3MgY2FsbGVkLCAndGhpcycgaXMgdGhpcyBjdXJyZW50IG9iamVjdFxuICAgICAgICB2YXIgb2xkX2dlbmVyYXRlSUQgPSBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS5nZW5lcmF0ZUlELmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVJRCA9IGZ1bmN0aW9uIChvcmlnaW5hbF9pZCkge1xuICAgICAgICAgICAgdmFyIHNhbml0aXplZCA9IG9yaWdpbmFsX2lkLnJlcGxhY2UoL1teMC05YS16QS1aX10vZywgZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiAnLScgKyBtYXRjaC5jaGFyQ29kZUF0KDApICsgJy0nOyB9KTtcbiAgICAgICAgICAgIHJldHVybiBvbGRfZ2VuZXJhdGVJRChzYW5pdGl6ZWQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyB1dGlsaXR5IGZ1bmN0aW9uc1xuICAgICAgICB2YXIgZW50aXR5TWFwID0ge1xuICAgICAgICAgICAgXCImXCI6IFwiJmFtcDtcIixcbiAgICAgICAgICAgIFwiPFwiOiBcIiZsdDtcIixcbiAgICAgICAgICAgIFwiPlwiOiBcIiZndDtcIixcbiAgICAgICAgICAgICdcIic6ICcmcXVvdDsnLFxuICAgICAgICAgICAgXCInXCI6ICcmIzM5OycsXG4gICAgICAgICAgICBcIi9cIjogJyYjeDJGOydcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGVzY2FwZUh0bWwgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZSgvWyY8PlwiJ1xcL10vZywgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5TWFwW3NdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvLyB1cGRhdGUgZmllbGRzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGN1cnJlbnQgYW5kIHByZXZpb3VzbHkgZXhlY3V0ZWQgbGluZXNcbiAgICAvLyBpbiB0aGUgdHJhY2Ugc28gdGhhdCB0aGV5IGNhbiBiZSBwcm9wZXJseSBoaWdobGlnaHRlZDsgbXVzdCBjYWxsIGJlZm9yZVxuICAgIC8vIHJlbmRlcmluZyBjb2RlIG91dHB1dCAoTkI6IGFyZ2ggcGVza3kgb3JkZXJpbmcgZGVwZW5kZW5jeSlcbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS51cGRhdGVMaW5lQW5kRXhjZXB0aW9uSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG15Vml6ID0gdGhpcztcbiAgICAgICAgdmFyIHRvdGFsSW5zdHJzID0gbXlWaXouY3VyVHJhY2UubGVuZ3RoO1xuICAgICAgICB2YXIgaXNMYXN0SW5zdHIgPSBteVZpei5jdXJJbnN0ciA9PT0gKHRvdGFsSW5zdHJzIC0gMSk7XG4gICAgICAgIG15Vml6LmN1ckxpbmVOdW1iZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIG15Vml6LnByZXZMaW5lTnVtYmVyID0gdW5kZWZpbmVkO1xuICAgICAgICBteVZpei5jdXJMaW5lSXNSZXR1cm4gPSB1bmRlZmluZWQ7XG4gICAgICAgIG15Vml6LnByZXZMaW5lSXNSZXR1cm4gPSB1bmRlZmluZWQ7XG4gICAgICAgIG15Vml6LmN1ckxpbmVFeGNlcHRpb25Nc2cgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qIGlmIGluc3RyTGltaXRSZWFjaGVkLCB0aGVuIHRyZWF0IGxpa2UgYSBub3JtYWwgbm9uLXRlcm1pbmF0aW5nIGxpbmUgKi9cbiAgICAgICAgdmFyIGlzVGVybWluYXRlZCA9ICghbXlWaXouaW5zdHJMaW1pdFJlYWNoZWQgJiYgaXNMYXN0SW5zdHIpO1xuICAgICAgICB2YXIgY3VyTGluZU51bWJlciA9IG51bGw7XG4gICAgICAgIHZhciBwcmV2TGluZU51bWJlciA9IG51bGw7XG4gICAgICAgIHZhciBjdXJFbnRyeSA9IG15Vml6LmN1clRyYWNlW215Vml6LmN1ckluc3RyXTtcbiAgICAgICAgdmFyIGN1cklzUmV0dXJuID0gKGN1ckVudHJ5LmV2ZW50ID09ICdyZXR1cm4nKTtcbiAgICAgICAgdmFyIHByZXZJc1JldHVybiA9IGZhbHNlO1xuICAgICAgICBpZiAobXlWaXouY3VySW5zdHIgPiAwKSB7XG4gICAgICAgICAgICBwcmV2TGluZU51bWJlciA9IG15Vml6LmN1clRyYWNlW215Vml6LmN1ckluc3RyIC0gMV0ubGluZTtcbiAgICAgICAgICAgIHByZXZJc1JldHVybiA9IChteVZpei5jdXJUcmFjZVtteVZpei5jdXJJbnN0ciAtIDFdLmV2ZW50ID09ICdyZXR1cm4nKTtcbiAgICAgICAgICAgIC8qIGtpbmRhIG51dHN5IGhhY2s6IGlmIHRoZSBwcmV2aW91cyBsaW5lIGlzIGEgcmV0dXJuIGxpbmUsIGRvbid0XG4gICAgICAgICAgICAgICBoaWdobGlnaHQgaXQuIGluc3RlYWQsIGhpZ2hsaWdodCB0aGUgbGluZSBpbiB0aGUgZW5jbG9zaW5nXG4gICAgICAgICAgICAgICBmdW5jdGlvbiB0aGF0IGNhbGxlZCB0aGlzIG9uZSAoaS5lLiwgdGhlIGNhbGwgc2l0ZSkuIGUuZy4sOlxuICAgICAgXG4gICAgICAgICAgICAgICAxLiBkZWYgZm9vKGxzdCk6XG4gICAgICAgICAgICAgICAyLiAgIHJldHVybiBsZW4obHN0KVxuICAgICAgICAgICAgICAgMy5cbiAgICAgICAgICAgICAgIDQuIHkgPSBmb28oWzEsMiwzXSlcbiAgICAgICAgICAgICAgIDUuIHByaW50IHlcbiAgICAgIFxuICAgICAgICAgICAgICAgSWYgcHJldkxpbmVOdW1iZXIgaXMgMiBhbmQgcHJldklzUmV0dXJuLCB0aGVuIGN1ckxpbmVOdW1iZXIgaXNcbiAgICAgICAgICAgICAgIDUsIHNpbmNlIHRoYXQncyB0aGUgbGluZSB0aGF0IGV4ZWN1dGVzIHJpZ2h0IGFmdGVyIGxpbmUgMlxuICAgICAgICAgICAgICAgZmluaXNoZXMuIEhvd2V2ZXIsIHRoaXMgbG9va3MgY29uZnVzaW5nIHRvIHRoZSB1c2VyIHNpbmNlIHdoYXRcbiAgICAgICAgICAgICAgIGFjdHVhbGx5IGhhcHBlbmVkIGhlcmUgd2FzIHRoYXQgdGhlIHJldHVybiB2YWx1ZSBvZiBmb28gd2FzXG4gICAgICAgICAgICAgICBhc3NpZ25lZCB0byB5IG9uIGxpbmUgNC4gSSB3YW50IHRvIGhhdmUgcHJldkxpbmVOdW1iZXIgYmUgbGluZVxuICAgICAgICAgICAgICAgNCBzbyB0aGF0IGl0IGdldHMgaGlnaGxpZ2h0ZWQuIFRoZXJlJ3Mgbm8gaWRlYWwgc29sdXRpb24sIGJ1dCBJXG4gICAgICAgICAgICAgICB0aGluayB0aGF0IGxvb2tzIG1vcmUgc2Vuc2libGUsIHNpbmNlIGxpbmUgNCB3YXMgdGhlIHByZXZpb3VzXG4gICAgICAgICAgICAgICBsaW5lIHRoYXQgZXhlY3V0ZWQgKmluIHRoaXMgZnVuY3Rpb24ncyBmcmFtZSouXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHByZXZJc1JldHVybikge1xuICAgICAgICAgICAgICAgIHZhciBpZHggPSBteVZpei5jdXJJbnN0ciAtIDE7XG4gICAgICAgICAgICAgICAgdmFyIHJldFN0YWNrID0gbXlWaXouY3VyVHJhY2VbaWR4XS5zdGFja190b19yZW5kZXI7XG4gICAgICAgICAgICAgICAgLy8gcmV0U3RhY2subGVuZ3RoID09IDAgaW4gcmFyZSBjYXNlcyBzdWNoIGFzIGluc2lkZSBvZiBhblxuICAgICAgICAgICAgICAgIC8vIGV4ZWMoKSBzdGF0ZW1lbnQuICN3ZWlyZFxuICAgICAgICAgICAgICAgIGlmIChyZXRTdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXRGcmFtZUlkID0gcmV0U3RhY2tbcmV0U3RhY2subGVuZ3RoIC0gMV0uZnJhbWVfaWQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdyBnbyBiYWNrd2FyZHMgdW50aWwgd2UgZmluZCBhICdjYWxsJyB0byB0aGlzIGZyYW1lXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpZHggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gbXlWaXouY3VyVHJhY2VbaWR4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5ldmVudCA9PSAnY2FsbCcgJiYgZW50cnkuc3RhY2tfdG9fcmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvcEZyYW1lID0gZW50cnkuc3RhY2tfdG9fcmVuZGVyW2VudHJ5LnN0YWNrX3RvX3JlbmRlci5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9wRnJhbWUuZnJhbWVfaWQgPT0gcmV0RnJhbWVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsgLy8gRE9ORSwgd2UgZm91bmQgdGhlIGNhbGwgdGhhdCBjb3JyZXNwb25kcyB0byB0aGlzIHJldHVyblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdyBpZHggaXMgdGhlIGluZGV4IG9mIHRoZSAnY2FsbCcgZW50cnkuIHdlIG5lZWQgdG8gZmluZCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gZW50cnkgYmVmb3JlIHRoYXQsIHdoaWNoIGlzIHRoZSBpbnN0cnVjdGlvbiBiZWZvcmUgdGhlIGNhbGwuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRIQVQncyB0aGUgbGluZSBvZiB0aGUgY2FsbCBzaXRlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxpbmdFbnRyeSA9IG15Vml6LmN1clRyYWNlW2lkeCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkxpbmVOdW1iZXIgPSBjYWxsaW5nRW50cnkubGluZTsgLy8gV09PSE9PISEhXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2SXNSZXR1cm4gPSBmYWxzZTsgLy8gdGhpcyBpcyBub3cgYSBjYWxsIHNpdGUsIG5vdCBhIHJldHVyblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBoYXNFcnJvciA9IGZhbHNlO1xuICAgICAgICBpZiAoY3VyRW50cnkuZXZlbnQgPT09ICdleGNlcHRpb24nIHx8IGN1ckVudHJ5LmV2ZW50ID09PSAndW5jYXVnaHRfZXhjZXB0aW9uJykge1xuICAgICAgICAgICAgYXNzZXJ0KGN1ckVudHJ5LmV4Y2VwdGlvbl9tc2cpO1xuICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgbXlWaXouY3VyTGluZUV4Y2VwdGlvbk1zZyA9IGN1ckVudHJ5LmV4Y2VwdGlvbl9tc2c7XG4gICAgICAgIH1cbiAgICAgICAgY3VyTGluZU51bWJlciA9IGN1ckVudHJ5LmxpbmU7XG4gICAgICAgIC8vIGVkZ2UgY2FzZSBmb3IgdGhlIGZpbmFsIGluc3RydWN0aW9uIDowXG4gICAgICAgIGlmIChpc1Rlcm1pbmF0ZWQgJiYgIWhhc0Vycm9yKSB7XG4gICAgICAgICAgICAvLyBkb24ndCBzaG93IHJlZHVuZGFudCBhcnJvd3Mgb24gdGhlIHNhbWUgbGluZSB3aGVuIHRlcm1pbmF0ZWQgLi4uXG4gICAgICAgICAgICBpZiAocHJldkxpbmVOdW1iZXIgPT0gY3VyTGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgIGN1ckxpbmVOdW1iZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCB0aGVzZSBmaWVsZHMgdG8gbXlWaXosIHdoaWNoIGlzIHRoZSBwb2ludCBvZiB0aGlzIGZ1bmN0aW9uIVxuICAgICAgICBteVZpei5jdXJMaW5lTnVtYmVyID0gY3VyTGluZU51bWJlcjtcbiAgICAgICAgbXlWaXoucHJldkxpbmVOdW1iZXIgPSBwcmV2TGluZU51bWJlcjtcbiAgICAgICAgbXlWaXouY3VyTGluZUlzUmV0dXJuID0gY3VySXNSZXR1cm47XG4gICAgICAgIG15Vml6LnByZXZMaW5lSXNSZXR1cm4gPSBwcmV2SXNSZXR1cm47XG4gICAgICAgIG15Vml6LnJlbmRlclF1ZXN0aW9uTWF5YmUoKTtcbiAgICB9O1xuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLmlzT3V0cHV0TGluZVZpc2libGVGb3JCdWJibGVzID0gZnVuY3Rpb24gKGxpbmVEaXZJRCkge1xuICAgICAgICB2YXIgcGNvZCA9IHRoaXMuZG9tUm9vdC5maW5kKCcjcHlDb2RlT3V0cHV0RGl2Jyk7XG4gICAgICAgIHZhciBsaW5lTm9UZCA9ICQoJyMnICsgbGluZURpdklEKTtcbiAgICAgICAgdmFyIExPID0gbGluZU5vVGQub2Zmc2V0KCkudG9wO1xuICAgICAgICB2YXIgUE8gPSBwY29kLm9mZnNldCgpLnRvcDtcbiAgICAgICAgdmFyIFNUID0gcGNvZC5zY3JvbGxUb3AoKTtcbiAgICAgICAgdmFyIEggPSBwY29kLmhlaWdodCgpO1xuICAgICAgICAvLyBhZGQgYSBmZXcgcGl4ZWxzIG9mIGZ1ZGdlIGZhY3RvciBvbiB0aGUgYm90dG9tIGVuZCBkdWUgdG8gYm90dG9tIHNjcm9sbGJhclxuICAgICAgICByZXR1cm4gKFBPIDw9IExPKSAmJiAoTE8gPCAoUE8gKyBIIC0gMjUpKTtcbiAgICB9O1xuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLnJlbmRlclF1ZXN0aW9uTWF5YmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGJubVxuICAgICAgICBpZiAodGhpcy5jdXJJbnN0ciA8IDEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBjdXJFbnRyeSA9IHRoaXMuY3VyVHJhY2VbdGhpcy5jdXJJbnN0ciAtIDFdO1xuICAgICAgICBpZiAoY3VyRW50cnkucXVlc3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBkb25lID0gZmFsc2U7XG4gICAgICAgICAgICB3aGlsZSAoIWRvbmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYW5zID0gcHJvbXB0KGN1ckVudHJ5LnF1ZXN0aW9uLnRleHQpO1xuICAgICAgICAgICAgICAgIHZhciBhbnN3ZXIgPSBjdXJFbnRyeS5xdWVzdGlvbi5jb3JyZWN0O1xuICAgICAgICAgICAgICAgIHZhciBhdHRycyA9IGFuc3dlci5zcGxpdChcIi5cIik7XG4gICAgICAgICAgICAgICAgdmFyIGNvcnJlY3RBbnMgPSB0aGlzLmN1clRyYWNlW3RoaXMuY3VySW5zdHJdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogaW4gYXR0cnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ycmVjdEFucyA9IGNvcnJlY3RBbnNbYXR0cnNbal1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYW5zLmxlbmd0aCA+IDAgJiYgYW5zID09IGNvcnJlY3RBbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0NvcnJlY3QnKTtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGN1c3RvbSBldmVudCBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gc3VjayBpbiBhbGwgb2YgcnVuZXN0b25lXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvZGVsZW5zLmpzICBoYXMgY29kZSB0aGF0IGJpbmRzIHRvIHRoaXMgZXZlbnQgYW5kIGdlbmVyYXRlcyB0aGUgY2FsbCB0b1xuICAgICAgICAgICAgICAgICAgICAvLyByZWNvcmQgdGhlIGFuc3dlci5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBuZXcgQ3VzdG9tRXZlbnQoXCJjb2RlbGVuczphbnN3ZXJcIiwgeyBkZXRhaWw6IHsgZGl2aWQ6ICQodGhpcy5kb21Sb290KS5jbG9zZXN0KFwiLnB5dHV0b3JWaXN1YWxpemVyXCIpWzBdLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyOiBhbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkb25lID0gIWNvbmZpcm0oY3VyRW50cnkucXVlc3Rpb24uZmVlZGJhY2sgKyBcIlxcbkNsaWNrIE9LIHRvIHRyeSBhZ2FpblwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBuZXcgQ3VzdG9tRXZlbnQoXCJjb2RlbGVuczphbnN3ZXJcIiwgeyBkZXRhaWw6IHsgZGl2aWQ6ICQodGhpcy5kb21Sb290KS5jbG9zZXN0KFwiLnB5dHV0b3JWaXN1YWxpemVyXCIpWzBdLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuc3dlcjogYW5zXG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgRXhlY3V0aW9uVmlzdWFsaXplci5jdXJWaXN1YWxpemVySUQgPSAxO1xuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIuREVGQVVMVF9FTUJFRERFRF9DT0RFX0RJVl9XSURUSCA9IDM1MDtcbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLkRFRkFVTFRfRU1CRURERURfQ09ERV9ESVZfSEVJR0hUID0gNDAwO1xuICAgIC8vIGFsd2F5cyBuZXN0IHZhbHVlcyBvZiB0aGVzZSB0eXBlcyB3aXRoaW4gb2JqZWN0cyB0byBtYWtlIHRoZVxuICAgIC8vIHZpc3VhbGl6YXRpb24gbG9vayBjbGVhbmVyOlxuICAgIC8vIC0gZnVuY3Rpb25zIHNob3VsZCBiZSBuZXN0ZWQgd2l0aGluIGhlYXAgb2JqZWN0cyBzaW5jZSB0aGF0J3MgYSBtb3JlXG4gICAgLy8gICBpbnR1aXRpdmUgcmVuZGVyaW5nIGZvciBtZXRob2RzIChpLmUuLCBmdW5jdGlvbnMgd2l0aGluIG9iamVjdHMpXG4gICAgLy8gLSBsb3RzIG9mIHNwZWNpYWwgY2FzZXMgZm9yIGZ1bmN0aW9uL3Byb3BlcnR5LWxpa2UgcHl0aG9uIHR5cGVzIHRoYXQgd2Ugc2hvdWxkIGlubGluZVxuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIuREVGQVVMVF9BTFdBWVNfTkVTVF9UWVBFUyA9IFsnRlVOQ1RJT04nLCAnSlNfRlVOQ1RJT04nLFxuICAgICAgICAncHJvcGVydHknLCAnY2xhc3NtZXRob2QnLCAnc3RhdGljbWV0aG9kJywgJ2J1aWx0aW5fZnVuY3Rpb25fb3JfbWV0aG9kJyxcbiAgICAgICAgJ21lbWJlcl9kZXNjcmlwdG9yJywgJ2dldHNldF9kZXNjcmlwdG9yJywgJ21ldGhvZF9kZXNjcmlwdG9yJywgJ3dyYXBwZXJfZGVzY3JpcHRvciddO1xuICAgIHJldHVybiBFeGVjdXRpb25WaXN1YWxpemVyO1xufSgpKTsgLy8gRU5EIGNsYXNzIEV4ZWN1dGlvblZpc3VhbGl6ZXJcbmV4cG9ydHMuRXhlY3V0aW9uVmlzdWFsaXplciA9IEV4ZWN1dGlvblZpc3VhbGl6ZXI7XG4vLyBpbXBsZW1lbnRzIHRoZSBkYXRhIHN0cnVjdHVyZSB2aXN1YWxpemF0aW9uIGZvciBhbiBlbnRpcmUgdHJhY2VcbnZhciBEYXRhVmlzdWFsaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEYXRhVmlzdWFsaXplcihvd25lciwgZG9tUm9vdCwgZG9tUm9vdEQzKSB7XG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICAgICAgdGhpcy5wYXJhbXMgPSB0aGlzLm93bmVyLnBhcmFtcztcbiAgICAgICAgdGhpcy5jdXJUcmFjZSA9IHRoaXMub3duZXIuY3VyVHJhY2U7XG4gICAgICAgIHRoaXMuZG9tUm9vdCA9IGRvbVJvb3Q7XG4gICAgICAgIHRoaXMuZG9tUm9vdEQzID0gZG9tUm9vdEQzO1xuICAgICAgICB0aGlzLmhpZGVWYXJzU2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5oaWRlRmllbGRzU2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5kcmFnZ2VkSGVhcE9iamVjdENTUyA9IGQzLm1hcCgpOyAvLyBzZWUgYWJvdmUgZm9yIGRlc2NyaXB0aW9uXG4gICAgICAgIHZhciBjb2RlVml6SFRNTCA9IFwiXFxuICAgICAgPGRpdiBpZD1cXFwic2VsZWN0aXZlSGlkZVN0YXR1c1xcXCI+PC9kaXY+XFxuICAgICAgPGRpdiBpZD1cXFwiZGF0YVZpelxcXCI+XFxuICAgICAgICAgPHRhYmxlIGlkPVxcXCJzdGFja0hlYXBUYWJsZVxcXCI+XFxuICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgIDx0ZCBpZD1cXFwic3RhY2tfdGRcXFwiPlxcbiAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcImdsb2JhbHNfYXJlYVxcXCI+XFxuICAgICAgICAgICAgICAgICA8ZGl2IGlkPVxcXCJzdGFja0hlYWRlclxcXCI+XCIgKyB0aGlzLmdldFJlYWxMYWJlbChcIkZyYW1lc1wiKSArIFwiPC9kaXY+XFxuICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwic3RhY2tcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgICA8dGQgaWQ9XFxcImhlYXBfdGRcXFwiPlxcbiAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcImhlYXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiaGVhcEhlYWRlclxcXCI+XCIgKyB0aGlzLmdldFJlYWxMYWJlbChcIk9iamVjdHNcIikgKyBcIjwvZGl2PlxcbiAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgPC90cj5cXG4gICAgICAgICA8L3RhYmxlPlxcbiAgICAgICA8L2Rpdj5cIjtcbiAgICAgICAgdGhpcy5kb21Sb290LmFwcGVuZChjb2RlVml6SFRNTCk7XG4gICAgICAgIC8vIGNyZWF0ZSBhIHBlcnNpc3RlbnQgZ2xvYmFscyBmcmFtZVxuICAgICAgICAvLyAobm90ZSB0aGF0IHdlIG5lZWQgdG8ga2VlcCAjZ2xvYmFsc19hcmVhIHNlcGFyYXRlIGZyb20gI3N0YWNrIGZvciBkMyB0byB3b3JrIGl0cyBtYWdpYylcbiAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoXCIjZ2xvYmFsc19hcmVhXCIpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInN0YWNrRnJhbWVcIiBpZD1cIidcbiAgICAgICAgICAgICsgdGhpcy5vd25lci5nZW5lcmF0ZUlEKCdnbG9iYWxzJykgKyAnXCI+PGRpdiBpZD1cIicgKyB0aGlzLm93bmVyLmdlbmVyYXRlSUQoJ2dsb2JhbHNfaGVhZGVyJylcbiAgICAgICAgICAgICsgJ1wiIGNsYXNzPVwic3RhY2tGcmFtZUhlYWRlclwiPicgKyB0aGlzLmdldFJlYWxMYWJlbCgnR2xvYmFsIGZyYW1lJykgKyAnPC9kaXY+PHRhYmxlIGNsYXNzPVwic3RhY2tGcmFtZVZhclRhYmxlXCIgaWQ9XCInXG4gICAgICAgICAgICArIHRoaXMub3duZXIuZ2VuZXJhdGVJRCgnZ2xvYmFsX3RhYmxlJykgKyAnXCI+PC90YWJsZT48L2Rpdj4nKTtcbiAgICAgICAgdGhpcy5qc1BsdW1iSW5zdGFuY2UgPSBqc1BsdW1iLmdldEluc3RhbmNlKHtcbiAgICAgICAgICAgIEVuZHBvaW50OiBbXCJEb3RcIiwgeyByYWRpdXM6IDMgfV0sXG4gICAgICAgICAgICBFbmRwb2ludFN0eWxlczogW3sgZmlsbFN0eWxlOiBjb25uZWN0b3JCYXNlQ29sb3IgfSwgeyBmaWxsc3R5bGU6IG51bGwgfSAvKiBtYWtlIHJpZ2h0IGVuZHBvaW50IGludmlzaWJsZSAqL10sXG4gICAgICAgICAgICBBbmNob3JzOiBbXCJSaWdodE1pZGRsZVwiLCBcIkxlZnRNaWRkbGVcIl0sXG4gICAgICAgICAgICBQYWludFN0eWxlOiB7IGxpbmVXaWR0aDogMSwgc3Ryb2tlU3R5bGU6IGNvbm5lY3RvckJhc2VDb2xvciB9LFxuICAgICAgICAgICAgLy8gRnJvbTogaHR0cDovL2pzcGx1bWIuZ2l0aHViLmlvL2pzcGx1bWIvaG9tZS5odG1sI2NvbnRhaW5lclxuICAgICAgICAgICAgLy8gXCJJdCBpcyBzdHJvbmdseSByZWNvbW1lbmRlZCB0aGF0IHlvdSBzZXQgYSBDb250YWluZXIgYmVmb3JlIHlvdSBiZWdpbiBwbHVtYmluZy5cIlxuICAgICAgICAgICAgLy8gLSBpZiB5b3UgZG9uJ3QgZG8gdGhpcywgdGhlbiBqc3BsdW1iIGFycm93IGVsZW1lbnRzIHdpbGwgbGl2ZSBuZXh0IHRvXG4gICAgICAgICAgICAvLyAgIHRoZSBlbGVtZW50cyB0aGF0IGFuY2hvciB0aGVtLCB3aGljaCBJTlRFUkFDVFMgUkVBTExZIFJFQUxMWSBCQURMWVxuICAgICAgICAgICAgLy8gICB3aXRoIGpRdWVyeSBkcmFnZ2FibGUgaW4gd2VpcmQgd2F5cy4gc28gc2V0IHRoaXMuZG9tUm9vdCBhcyBjb250YWluZXJcbiAgICAgICAgICAgIENvbnRhaW5lcjogdGhpcy5kb21Sb290LFxuICAgICAgICAgICAgLy8gbm90ZSB0aGF0IHRoaXMgZG9jdW1lbnRhdGlvbiBjb3ZlcnMgYSBuZXdlciB2ZXJzaW9uIG9mIGpzUGx1bWIsIGFuZFxuICAgICAgICAgICAgLy8gd2UncmUgc3RpbGwgb24gYSBzdXBlci1vbGQganNQbHVtYi0xLjMuMTAgaW4gbGliL1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kb2NzLmpzcGx1bWJ0b29sa2l0LmNvbS90b29sa2l0L2N1cnJlbnQvYXJ0aWNsZXMvY29ubmVjdG9ycy5odG1sXG4gICAgICAgICAgICBDb25uZWN0b3I6IFtcIlN0YXRlTWFjaGluZVwiXSxcbiAgICAgICAgICAgIE92ZXJsYXlzOiBbW1wiQXJyb3dcIiwgeyBsZW5ndGg6IDEwLCB3aWR0aDogNywgZm9sZGJhY2s6IDAuNTUsIGxvY2F0aW9uOiAxIC8qIDEgPSBkaXNwbGF5IGF0IHRhcmdldCAqLyB9XV0sXG4gICAgICAgICAgICBFbmRwb2ludEhvdmVyU3R5bGVzOiBbeyBmaWxsU3R5bGU6IGNvbm5lY3RvckhpZ2hsaWdodENvbG9yIH0sIHsgZmlsbHN0eWxlOiBudWxsIH0gLyogbWFrZSByaWdodCBlbmRwb2ludCBpbnZpc2libGUgKi9dLFxuICAgICAgICAgICAgSG92ZXJQYWludFN0eWxlOiB7IGxpbmVXaWR0aDogMSwgc3Ryb2tlU3R5bGU6IGNvbm5lY3RvckhpZ2hsaWdodENvbG9yIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBEYXRhVmlzdWFsaXplci5wcm90b3R5cGUuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb21Sb290LmZpbmQoJyNkYXRhVml6JykuaGVpZ2h0KCk7XG4gICAgfTtcbiAgICAvLyBjcmVhdGUgYSB1bmlxdWUgQ1NTIElEIGZvciBhIGhlYXAgb2JqZWN0LCB3aGljaCBzaG91bGQgaW5jbHVkZSBib3RoXG4gICAgLy8gaXRzIElEIGFuZCB0aGUgY3VycmVudCBzdGVwIG51bWJlci4gdGhpcyBpcyBuZWNlc3NhcnkgaWYgd2Ugd2FudCB0b1xuICAgIC8vIGRpc3BsYXkgdGhlIHNhbWUgaGVhcCBvYmplY3QgYXQgbXVsdGlwbGUgZXhlY3V0aW9uIHN0ZXBzLlxuICAgIC8vXG4gICAgLy8gMjAyMC0wMi0wNTogd2h5IGRvIHdlIG5lZWQgc3RlcE51bSBpbiB0aGUgSUQ/IHdoYXQgaGFwcGVucyBpZiB3ZVxuICAgIC8vIHJlbW92ZSBpdD8gaXQgbWF5IGJlIG1vcmUgY29udmVuaWVudCBpZiB3ZSByZW1vdmUgaXQgc2luY2Ugd2UgY2FuXG4gICAgLy8gdGhlbiB0cmFjayB0aGUgc3RhdGUgb2YgdGhlIHNhbWUgb2JqZWN0IGFjcm9zcyBtdWx0aXBsZSBleGVjdXRpb24gc3RlcHNcbiAgICAvLyBzdWNoIGFzIGl0cyBsb2NhdGlvbiAoaWYgdGhlIHVzZXIgZHJhZ2dlZCBpdCB0byBhIGN1c3RvbSBsb2NhdGlvbilcbiAgICAvLyBvciB3aGV0aGVyIGl0J3MgaGlkZGVuIG9yIG5vdCwgc2luY2UgaXQgd2lsbCBoYXZlIHRoZSBzYW1lIENTUyBJRFxuICAgIC8vIHdoZW4gaXQncyBiZWluZyByZW5kZXJlZCBhdCBkaWZmZXJlbnQgZXhlY3V0aW9uIHN0ZXBzLiB3aGF0IG1pZ2h0IGdvIHdyb25nP1xuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5nZW5lcmF0ZUhlYXBPYmpJRCA9IGZ1bmN0aW9uIChvYmpJRCwgc3RlcE51bSkge1xuICAgICAgICAvLyAyMDIwLTAyLTA1IC0gcmVtb3ZlIHN0ZXBOdW0gZnJvbSByZXR1cm5lZCBDU1MgSUQgYW5kIHNlZSB3aGF0IGhhcHBlbnM6XG4gICAgICAgIC8vcmV0dXJuIHRoaXMub3duZXIuZ2VuZXJhdGVJRCgnaGVhcF9vYmplY3RfJyArIG9iaklEICsgJ19zJyArIHN0ZXBOdW0pO1xuICAgICAgICByZXR1cm4gdGhpcy5vd25lci5nZW5lcmF0ZUlEKCdoZWFwX29iamVjdF8nICsgb2JqSUQpO1xuICAgIH07XG4gICAgLy8gY3VzdG9taXplIGxhYmVscyBmb3IgZWFjaCBsYW5ndWFnZSdzIHByZWZlcnJlZCB2b2NhYnVsYXJ5XG4gICAgRGF0YVZpc3VhbGl6ZXIucHJvdG90eXBlLmdldFJlYWxMYWJlbCA9IGZ1bmN0aW9uIChsYWJlbCkge1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMubGFuZyA9PT0gJ2pzJyB8fCB0aGlzLnBhcmFtcy5sYW5nID09PSAndHMnIHx8IHRoaXMucGFyYW1zLmxhbmcgPT09ICdydWJ5Jykge1xuICAgICAgICAgICAgaWYgKGxhYmVsID09PSAnbGlzdCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FycmF5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhYmVsID09PSAnaW5zdGFuY2UnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdvYmplY3QnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFiZWwgPT09ICdUcnVlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAndHJ1ZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYWJlbCA9PT0gJ0ZhbHNlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnZmFsc2UnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy5sYW5nID09PSAnanMnKSB7XG4gICAgICAgICAgICBpZiAobGFiZWwgPT09ICdkaWN0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnTWFwJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhYmVsID09PSAnc2V0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnU2V0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnBhcmFtcy5sYW5nID09PSAncnVieScpIHtcbiAgICAgICAgICAgIGlmIChsYWJlbCA9PT0gJ2RpY3QnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoYXNoJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhYmVsID09PSAnc2V0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnU2V0JzsgLy8gdGhlIFJ1YnkgU2V0IGNsYXNzIGlzIGNhcGl0YWxpemVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYWJlbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnbWV0aG9kJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhYmVsID09PSAnTm9uZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ25pbCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYWJlbCA9PT0gJ0dsb2JhbCBmcmFtZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0dsb2JhbCBPYmplY3QnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGFyYW1zLmxhbmcgPT09ICdqYXZhJykge1xuICAgICAgICAgICAgaWYgKGxhYmVsID09PSAnTm9uZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ251bGwnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFiZWwgPT09ICdUcnVlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAndHJ1ZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYWJlbCA9PT0gJ0ZhbHNlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnZmFsc2UnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGFyYW1zLmxhbmcgPT09ICdjJyB8fCB0aGlzLnBhcmFtcy5sYW5nID09PSAnY3BwJykge1xuICAgICAgICAgICAgaWYgKGxhYmVsID09PSAnR2xvYmFsIGZyYW1lJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnR2xvYmFsIHZhcmlhYmxlcyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYWJlbCA9PT0gJ0ZyYW1lcycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1N0YWNrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhYmVsID09PSAnT2JqZWN0cycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0hlYXAnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGRlZmF1bHQgZmFsbHRocm91Z2ggY2FzZSBpZiBubyBtYXRjaGVzIGFib3ZlXG4gICAgICAgIHJldHVybiBsYWJlbDtcbiAgICB9O1xuICAgIC8vIGZvciBtYW5hZ2luZyBzdGF0ZSByZWxhdGVkIHRvIHBlc2t5IGpzUGx1bWIgY29ubmVjdG9ycywgbmVlZCB0byByZXNldFxuICAgIC8vIGJlZm9yZSBldmVyeSBjYWxsIHRvIHJlbmRlckRhdGFTdHJ1Y3R1cmVzLCBvciBlbHNlIGFsbCBoZWxsIGJyZWFrc1xuICAgIC8vIGxvb3NlLiB5ZWFoLCB0aGlzIGlzIGtsdWRneSBhbmQgc3RhdGVmdWwsIGJ1dCBhdCBsZWFzdCBhbGwgb2YgdGhlXG4gICAgLy8gcmVsZXZhbnQgc3RhdGUgZ2V0cyBzaG92ZWQgaW50byBvbmUgdW5pZmllZCBwbGFjZVxuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5yZXNldEpzUGx1bWJNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmpzUGx1bWJNYW5hZ2VyID0ge1xuICAgICAgICAgICAgaGVhcF9wb2ludGVyX3NyY19pZDogMSxcbiAgICAgICAgICAgIC8vIEtleTogICBDU1MgSUQgb2YgdGhlIGRpdiBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgc3RhY2sgZnJhbWUgdmFyaWFibGVcbiAgICAgICAgICAgIC8vICAgICAgICAoZm9yIHN0YWNrLT5oZWFwIGNvbm5lY3Rpb25zKSBvciBoZWFwIG9iamVjdCAoZm9yIGhlYXAtPmhlYXAgY29ubmVjdGlvbnMpXG4gICAgICAgICAgICAvLyAgICAgICAgdGhlIGZvcm1hdCBpczogJzx0aGlzLnZpc3VhbGl6ZXJJRD5fX2hlYXBfcG9pbnRlcl9zcmNfPHNyYyBpZD4nXG4gICAgICAgICAgICAvLyBWYWx1ZTogQ1NTIElEIG9mIHRoZSBkaXYgZWxlbWVudCByZXByZXNlbnRpbmcgdGhlIHZhbHVlIHJlbmRlcmVkIGluIHRoZSBoZWFwXG4gICAgICAgICAgICAvLyAgICAgICAgKHRoZSBmb3JtYXQgaXMgZ2l2ZW4gYnkgZ2VuZXJhdGVIZWFwT2JqSUQoKSlcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUaGUgcmVhc29uIHdlIG5lZWQgdG8gcHJlcGVuZCB0aGlzLnZpc3VhbGl6ZXJJRCBpcyBiZWNhdXNlIGpzUGx1bWIgbmVlZHNcbiAgICAgICAgICAgIC8vIEdMT0JBTExZIFVOSVFVRSBJRHMgZm9yIHVzZSBhcyBjb25uZWN0b3IgZW5kcG9pbnRzLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRPRE86IGpzUGx1bWIgbWlnaHQgYmUgYWJsZSB0byBkaXJlY3RseSB0YWtlIERPTSBlbGVtZW50cyByYXRoZXJcbiAgICAgICAgICAgIC8vIHRoYW4gSURzLCB3aGljaCBtYWtlcyB0aGUgYWJvdmUgcG9pbnQgbW9vdC4gQnV0IGxldCdzIGp1c3Qgc3RpY2tcbiAgICAgICAgICAgIC8vIHdpdGggdGhpcyBmb3Igbm93IHVudGlsIEkgd2FudCB0byBtYWpvcmx5IHJlZmFjdG9yIDopXG4gICAgICAgICAgICAvLyB0aGUgb25seSBlbGVtZW50cyBpbiB0aGVzZSBzZXRzIGFyZSBORVcgZWxlbWVudHMgdG8gYmUgcmVuZGVyZWQgaW4gdGhpc1xuICAgICAgICAgICAgLy8gcGFydGljdWxhciBjYWxsIHRvIHJlbmRlckRhdGFTdHJ1Y3R1cmVzLlxuICAgICAgICAgICAgY29ubmVjdGlvbkVuZHBvaW50SURzOiBkMy5tYXAoKSxcbiAgICAgICAgICAgIGhlYXBDb25uZWN0aW9uRW5kcG9pbnRJRHM6IGQzLm1hcCgpLFxuICAgICAgICAgICAgLy8gYW5hbG9nb3VzIHRvIGNvbm5lY3Rpb25FbmRwb2ludElEcywgZXhjZXB0IGZvciBlbnZpcm9ubWVudCBwYXJlbnQgcG9pbnRlcnNcbiAgICAgICAgICAgIHBhcmVudFBvaW50ZXJDb25uZWN0aW9uRW5kcG9pbnRJRHM6IGQzLm1hcCgpLFxuICAgICAgICAgICAgcmVuZGVyZWRIZWFwT2JqZWN0SURzOiBkMy5tYXAoKSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8vIGdldHMgYWxsIGdsb2JhbCBhbmQgbG9jYWwgdmFyaWFibGUgbmFtZXMgdXNlZCBpbiB0aGlzIHByb2dyYW1cbiAgICAvLyBleGVjdXRpb24gYXMgaW5kaWNhdGVkIGJ5IHRoaXMuY3VyVHJhY2VcbiAgICBEYXRhVmlzdWFsaXplci5wcm90b3R5cGUuZ2V0QWxsUHJvZ3JhbVZhcm5hbWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgICB2YXIgYWxsVmFybmFtZXMgPSBbXTtcbiAgICAgICAgJC5lYWNoKHRoaXMuY3VyVHJhY2UsIGZ1bmN0aW9uIChpLCBjdXJFbnRyeSkge1xuICAgICAgICAgICAgJC5lYWNoKGN1ckVudHJ5Lm9yZGVyZWRfZ2xvYmFscywgZnVuY3Rpb24gKGksIHZhcm5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW5jb2RlZFZhcm5hbWUgPSBEYXRhVmlzdWFsaXplci5HTE9CQUxfUFJFRklYICsgJzonICsgdmFybmFtZTtcbiAgICAgICAgICAgICAgICBpZiAoYWxsVmFybmFtZXMuaW5kZXhPZihlbmNvZGVkVmFybmFtZSkgPCAwKSB7IC8vIGRvbid0IGluc2VydCBkdXBsaWNhdGVzXG4gICAgICAgICAgICAgICAgICAgIGFsbFZhcm5hbWVzLnB1c2goZW5jb2RlZFZhcm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJC5lYWNoKGN1ckVudHJ5LnN0YWNrX3RvX3JlbmRlciwgZnVuY3Rpb24gKGksIGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gc29tZSBmdW5jdGlvbnMgYXJlIHVubmFtZWQsIHNvIHVzZSBhIHBsYWNlaG9sZGVyOlxuICAgICAgICAgICAgICAgIHZhciBmdW5jX3ByZWZpeCA9IGZyYW1lLmZ1bmNfbmFtZSA/IGZyYW1lLmZ1bmNfbmFtZSA6IERhdGFWaXN1YWxpemVyLlVOTkFNRURfUFJFRklYO1xuICAgICAgICAgICAgICAgICQuZWFjaChmcmFtZS5vcmRlcmVkX3Zhcm5hbWVzLCBmdW5jdGlvbiAoeHh4LCB2YXJuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmNvZGVkVmFybmFtZSA9IGZ1bmNfcHJlZml4ICsgJzonICsgdmFybmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbFZhcm5hbWVzLmluZGV4T2YoZW5jb2RlZFZhcm5hbWUpIDwgMCkgeyAvLyBkb24ndCBpbnNlcnQgZHVwbGljYXRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsVmFybmFtZXMucHVzaChlbmNvZGVkVmFybmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFsbFZhcm5hbWVzO1xuICAgIH07XG4gICAgLy8gZ2V0cyBhbGwgZmllbGQgbmFtZXMgb2YgY2xhc3Nlcywgb2JqZWN0cywgZGljdHMsIEMgc3RydWN0cywgYW5kIGFueXRoaW5nXG4gICAgLy8gZWxzZSB0aGF0IGhhcyBhdHRyaWJ1dGUvZmllbGQgbmFtZXMsIGFzIGluZGljYXRlZCBieSB0aGlzLmN1clRyYWNlXG4gICAgRGF0YVZpc3VhbGl6ZXIucHJvdG90eXBlLmdldEFsbFByb2dyYW1PYmplY3RGaWVsZE5hbWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgICB2YXIgYWxsRmllbGRuYW1lcyA9IFtdO1xuICAgICAgICAvLyBjb3BpZWQgZnJvbSByZWN1cnNlSW50b0NTdHJ1Y3RBcnJheSAuLi5cbiAgICAgICAgLy8gc2VlIGluc2lkZSBjb21tZW50cyBmb3IgYW4gb3B0aW1pemF0aW9uIG9wcG9ydHVuaXR5OlxuICAgICAgICBmdW5jdGlvbiB0cmF2ZXJzZUNTdHJ1Y3RBcnJheSh2YWwpIHtcbiAgICAgICAgICAgIGlmICh2YWxbMF0gPT0gJ0NfU1RSVUNUJykge1xuICAgICAgICAgICAgICAgIC8vIGdyYWIgYWxsIGZpZWxkIG5hbWVzIGFuZCBhZGQgdG8gYWxsRmllbGRuYW1lc1xuICAgICAgICAgICAgICAgIHZhciBzdHJ1Y3ROYW1lXzEgPSB2YWxbMl0gPyB2YWxbMl0gOiBEYXRhVmlzdWFsaXplci5VTk5BTUVEX1BSRUZJWDtcbiAgICAgICAgICAgICAgICAkLmVhY2godmFsLCBmdW5jdGlvbiAoaW5kLCBrdlBhaXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZCA8IDMpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIHRoZXNlIGhhdmUgMyBoZWFkZXIgZmllbGRzXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZE5hbWUgPSBrdlBhaXJbMF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmNvZGVkRmllbGRuYW1lID0gc3RydWN0TmFtZV8xICsgJzonICsgZmllbGROYW1lO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsRmllbGRuYW1lcy5pbmRleE9mKGVuY29kZWRGaWVsZG5hbWUpIDwgMCkgeyAvLyBkb24ndCBpbnNlcnQgZHVwbGljYXRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRmllbGRuYW1lcy5wdXNoKGVuY29kZWRGaWVsZG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZWN1cnNlIGluc2lkZSBpZiBuZWNlc3NhcnkgLi4uXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVE9ETzogaWYgeW91IHJlYWxseSB3YW50IHRvIG1ha2UgdGhpcyBtb3JlIGVmZmljaWVudFxuICAgICAgICAgICAgLy8gKGVzcGVjaWFsbHkgZm9yIGh1Z2UgYXJyYXlzKSwgeW91IGNhbiBzaW1wbHkgdHJhdmVyc2UgaW50byB0aGVcbiAgICAgICAgICAgIC8vICpmaXJzdCBlbGVtZW50KiBvZiBDX0FSUkFZIG9yIENfTVVMVElESU1FTlNJT05BTF9BUlJBWSBzaW5jZVxuICAgICAgICAgICAgLy8gdGhleSdyZSBzdXBwb3NlZGx5IGhvbW9nZW5lb3VzLCBzbyB0aGUgdHlwZSBvZiB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGlkZW50aWNhbCB0byB0aGUgdHlwZSBvZiBhbGwgb3RoZXIgZWxlbWVudHMgOilcbiAgICAgICAgICAgIC8vIChqdXN0IGJld2FyZSBvZiB0aGUgY2FzZSBvZiBlbXB0eSAoemVyby1zaXplZCkgYXJyYXlzLCB0aG91Z2gpXG4gICAgICAgICAgICBpZiAodmFsWzBdID09PSAnQ19BUlJBWScpIHtcbiAgICAgICAgICAgICAgICAkLmVhY2godmFsLCBmdW5jdGlvbiAoaW5kLCBlbHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZCA8IDIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIHRoZXNlIGhhdmUgMiBoZWFkZXIgZmllbGRzXG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlQ1N0cnVjdEFycmF5KGVsdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWxbMF0gPT09ICdDX01VTFRJRElNRU5TSU9OQUxfQVJSQVknIHx8IHZhbFswXSA9PT0gJ0NfU1RSVUNUJykge1xuICAgICAgICAgICAgICAgICQuZWFjaCh2YWwsIGZ1bmN0aW9uIChpbmQsIGt2UGFpcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kIDwgMylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gdGhlc2UgaGF2ZSAzIGhlYWRlciBmaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VDU3RydWN0QXJyYXkoa3ZQYWlyWzFdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAkLmVhY2godGhpcy5jdXJUcmFjZSwgZnVuY3Rpb24gKGksIGN1ckVudHJ5KSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGksIGN1ckVudHJ5KTtcbiAgICAgICAgICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCB0aGUgaGVhcCBsb29raW5nIGZvciByZWxldmFudCBvYmplY3RzIHdpdGggZmllbGRzXG4gICAgICAgICAgICAvLyBleHBlY3RlZCBmb3JtYXQgZnJvbSAuLi9wZ19lbmNvZGVyLnB5XG4gICAgICAgICAgICAvLyAjICAgKiBpbnN0YW5jZSAtIFsnSU5TVEFOQ0UnLCBjbGFzcyBuYW1lLCBbYXR0cjEsIHZhbHVlMV0sIFthdHRyMiwgdmFsdWUyXSwgLi4uLCBbYXR0ck4sIHZhbHVlTl1dXG4gICAgICAgICAgICAvLyAjICAgKiBpbnN0YW5jZSB3aXRoIG5vbi10cml2aWFsIF9fc3RyX18gZGVmaW5lZCAtIFsnSU5TVEFOQ0VfUFBSSU5UJywgY2xhc3MgbmFtZSwgPF9fc3RyX18gdmFsdWU+LCBbYXR0cjEsIHZhbHVlMV0sIFthdHRyMiwgdmFsdWUyXSwgLi4uLCBbYXR0ck4sIHZhbHVlTl1dXG4gICAgICAgICAgICAvLyAjICAgKiBjbGFzcyAgICAtIFsnQ0xBU1MnLCBjbGFzcyBuYW1lLCBbbGlzdCBvZiBzdXBlcmNsYXNzIG5hbWVzXSwgW2F0dHIxLCB2YWx1ZTFdLCBbYXR0cjIsIHZhbHVlMl0sIC4uLiwgW2F0dHJOLCB2YWx1ZU5dXVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIGFsc28gZm9yIGphdmFzY3JpcHQsIEpTX0ZVTkNUSU9OIG9iamVjdHMgbWF5IGhhdmUgZnVuY1Byb3BlcnRpZXNcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBbTkI6IHdlIGRvbid0IGNvdW50IERJQ1QgaGVyZSBzaW5jZSB0aG9zZSBkb24ndCB0ZWNobmljYWxseSBjb250YWluXG4gICAgICAgICAgICAvLyAnZmllbGRzJzsgdGhleSBjb250YWluIGRpY3Qga2V5cywgd2hpY2ggZG9uJ3QgbmVjZXNzYXJpbHkgbmVlZCB0byBiZVxuICAgICAgICAgICAgLy8gc3RyaW5ncywgc28gaXQncyBjb25mdXNpbmcgdG8gdHJ5IHRvIGlnbm9yZSBhIG5vbi1zdHJpbmcgZGljdCBrZXldXG4gICAgICAgICAgICAkLmVhY2goY3VyRW50cnkuaGVhcCwgZnVuY3Rpb24gKGssIG9iaikge1xuICAgICAgICAgICAgICAgIHZhciB0eXAgPSBvYmpbMF07XG4gICAgICAgICAgICAgICAgaWYgKHR5cCA9PSAnSU5TVEFOQ0UnIHx8IHR5cCA9PSAnSU5TVEFOQ0VfUFBSSU5UJyB8fCB0eXAgPT0gJ0NMQVNTJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBEYXRhVmlzdWFsaXplci5nZXRDbGFzc0luc3RhbmNlTWV0YWRhdGEob2JqKSwgY2xhc3NOYW1lID0gX2FbMF0sIGhlYWRlckxlbmd0aCA9IF9hWzFdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzEgPSBoZWFkZXJMZW5ndGg7IGlfMSA8IG9iai5sZW5ndGg7IGlfMSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGROYW1lID0gb2JqW2lfMV1bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjbGFzc05hbWUgY2FuIHBvc3NpYmx5IGJlIG51bGwgLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5jb2RlZEZpZWxkbmFtZSA9IGNsYXNzTmFtZSA/IGNsYXNzTmFtZSArICc6JyArIGZpZWxkTmFtZSA6IGZpZWxkTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxGaWVsZG5hbWVzLmluZGV4T2YoZW5jb2RlZEZpZWxkbmFtZSkgPCAwKSB7IC8vIGRvbid0IGluc2VydCBkdXBsaWNhdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRmllbGRuYW1lcy5wdXNoKGVuY29kZWRGaWVsZG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cCA9PSAnSlNfRlVOQ1RJT04nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmdW5jUHJvcGVydGllcyA9IG9ialszXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmNQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnVuY05hbWUgPSBvYmpbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzcGVjaWFsLWNhc2UgaGFuZGxpbmc6IHByZWZpeCB3aXRoIGZ1bmN0aW9uIG5hbWUgaWYgYXBwcm9wcmlhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMiA9IDA7IGlfMiA8IGZ1bmNQcm9wZXJ0aWVzLmxlbmd0aDsgaV8yKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGROYW1lID0gZnVuY1Byb3BlcnRpZXNbaV8yXVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmdW5jTmFtZSBjYW4gcG9zc2libHkgYmUgZW1wdHkgLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuY29kZWRGaWVsZG5hbWUgPSBmdW5jTmFtZSA/IGZ1bmNOYW1lICsgJzonICsgZmllbGROYW1lIDogZmllbGROYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxGaWVsZG5hbWVzLmluZGV4T2YoZW5jb2RlZEZpZWxkbmFtZSkgPCAwKSB7IC8vIGRvbid0IGluc2VydCBkdXBsaWNhdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEZpZWxkbmFtZXMucHVzaChlbmNvZGVkRmllbGRuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwID09ICdDX0FSUkFZJyB8fCB0eXAgPT0gJ0NfTVVMVElESU1FTlNJT05BTF9BUlJBWScgfHwgdHlwID09ICdDX1NUUlVDVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VDU3RydWN0QXJyYXkob2JqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEMgYW5kIEMrKyBvYmplY3RzIGNhbiBleGlzdCBkaXJlY3RseSB3aXRoaW4gdGhlIGdsb2JhbCBmcmFtZSBvclxuICAgICAgICAgICAgLy8gc3RhY2sgZnJhbWVzIChub3QganVzdCBvbiB0aGUgaGVhcCksIHNvIHdlIG5lZWQgdG8gdHJhdmVyc2VcbiAgICAgICAgICAgIC8vIHRocm91Z2ggdGhvc2UgYXMgd2VsbFxuICAgICAgICAgICAgaWYgKG1lLmlzQ3BwTW9kZSgpKSB7XG4gICAgICAgICAgICAgICAgJC5lYWNoKGN1ckVudHJ5Lm9yZGVyZWRfZ2xvYmFscywgZnVuY3Rpb24gKGksIHZhcm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IGN1ckVudHJ5Lmdsb2JhbHNbdmFybmFtZV07XG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlQ1N0cnVjdEFycmF5KHZhbCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gaXRlcmF0ZSB0aHJ1IGFsbCBzdGFjayBmcmFtZXNcbiAgICAgICAgICAgICAgICAkLmVhY2goY3VyRW50cnkuc3RhY2tfdG9fcmVuZGVyLCBmdW5jdGlvbiAoaSwgZnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGZyYW1lLm9yZGVyZWRfdmFybmFtZXMsIGZ1bmN0aW9uICh4eHgsIHZhcm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBmcmFtZS5lbmNvZGVkX2xvY2Fsc1t2YXJuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlQ1N0cnVjdEFycmF5KHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFsbEZpZWxkbmFtZXM7XG4gICAgfTtcbiAgICAvLyB0aGlzIG1ldGhvZCBpbml0aWFsaXplcyBjdXJUcmFjZUxheW91dHNcbiAgICAvL1xuICAgIC8vIFByZS1jb21wdXRlIHRoZSBsYXlvdXQgb2YgdG9wLWxldmVsIGhlYXAgb2JqZWN0cyBmb3IgQUxMIGV4ZWN1dGlvblxuICAgIC8vIHBvaW50cyBhcyBzb29uIGFzIGEgdHJhY2UgaXMgZmlyc3QgbG9hZGVkLiBUaGUgcmVhc29uIHdoeSB3ZSB3YW50IHRvXG4gICAgLy8gZG8gdGhpcyBpcyBzbyB0aGF0IHdoZW4gdGhlIHVzZXIgc3RlcHMgdGhyb3VnaCBleGVjdXRpb24gcG9pbnRzLCB0aGVcbiAgICAvLyBoZWFwIG9iamVjdHMgZG9uJ3QgXCJqaWdnbGUgYXJvdW5kXCIgKGkuZS4sIHByZXNlcnZpbmcgcG9zaXRpb25hbFxuICAgIC8vIGludmFyaWFuY2UpLiBBbHNvLCBpZiB3ZSBzZXQgdXAgdGhlIGxheW91dCBvYmplY3RzIHByb3Blcmx5LCB0aGVuIHdlXG4gICAgLy8gY2FuIHRha2UgZnVsbCBhZHZhbnRhZ2Ugb2YgZDMgdG8gcGVyZm9ybSByZW5kZXJpbmcgYW5kIHRyYW5zaXRpb25zLlxuICAgIC8vXG4gICAgLy8gKGFsc28gY2FsbCB0aGlzIGZ1bmN0aW9uIHdoZW5ldmVyIHRoZSB1c2VyIGNob29zZXMgdG8gc2VsZWN0aXZlbHlcbiAgICAvLyAgaGlkZS9zaG93IHZhcmlhYmxlcy9vYmplY3RzLCBzaW5jZSB3ZSB3YW50IHRvIGdldCB0aGUgbGF0ZXN0IGxheW91dClcbiAgICBEYXRhVmlzdWFsaXplci5wcm90b3R5cGUucHJlY29tcHV0ZUN1clRyYWNlTGF5b3V0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygncHJlY29tcHV0ZUN1clRyYWNlTGF5b3V0cycpO1xuICAgICAgICAvLyBjdXJUcmFjZUxheW91dHMgaXMgYSBsaXN0IG9mIHRvcC1sZXZlbCBoZWFwIGxheW91dCBcIm9iamVjdHNcIiB3aXRoIHRoZVxuICAgICAgICAvLyBzYW1lIGxlbmd0aCBhcyBjdXJUcmFjZSBhZnRlciBpdCdzIGJlZW4gZnVsbHkgaW5pdGlhbGl6ZWQuIEVhY2hcbiAgICAgICAgLy8gZWxlbWVudCBvZiBjdXJUcmFjZUxheW91dHMgaXMgY29tcHV0ZWQgZnJvbSB0aGUgY29udGVudHMgb2YgaXRzXG4gICAgICAgIC8vIGltbWVkaWF0ZSBwcmVkZWNlc3NvciwgdGh1cyBlbnN1cmluZyB0aGF0IG9iamVjdHMgZG9uJ3QgXCJqaWdnbGVcbiAgICAgICAgLy8gYXJvdW5kXCIgYmV0d2VlbiBjb25zZWN1dGl2ZSBleGVjdXRpb24gcG9pbnRzLlxuICAgICAgICAvL1xuICAgICAgICAvLyBFYWNoIHRvcC1sZXZlbCBoZWFwIGxheW91dCBcIm9iamVjdFwiIGlzIGl0c2VsZiBhIExJU1Qgb2YgTElTVFMgb2ZcbiAgICAgICAgLy8gb2JqZWN0IElEcywgd2hlcmUgZWFjaCBlbGVtZW50IG9mIHRoZSBvdXRlciBsaXN0IHJlcHJlc2VudHMgYSByb3csXG4gICAgICAgIC8vIGFuZCBlYWNoIGVsZW1lbnQgb2YgdGhlIGlubmVyIGxpc3QgcmVwcmVzZW50cyBjb2x1bW5zIHdpdGhpbiBhXG4gICAgICAgIC8vIHBhcnRpY3VsYXIgcm93LiBFYWNoIHJvdyBjYW4gaGF2ZSBhIGRpZmZlcmVudCBudW1iZXIgb2YgY29sdW1ucy4gTW9zdFxuICAgICAgICAvLyByb3dzIGhhdmUgZXhhY3RseSBPTkUgY29sdW1uIChyZXByZXNlbnRpbmcgT05FIG9iamVjdCBJRCksIGJ1dCByb3dzXG4gICAgICAgIC8vIGNvbnRhaW5pbmcgMS1EIGxpbmtlZCBkYXRhIHN0cnVjdHVyZXMgaGF2ZSBtdWx0aXBsZSBjb2x1bW5zLiBFYWNoXG4gICAgICAgIC8vIGlubmVyIGxpc3QgZWxlbWVudCBsb29rcyBzb21ldGhpbmcgbGlrZSBbJ3JvdzEnLCAzLCAyLCAxXSB3aGVyZSB0aGVcbiAgICAgICAgLy8gZmlyc3QgZWxlbWVudCBpcyBhIHVuaXF1ZSByb3cgSUQgdGFnLCB3aGljaCBpcyB1c2VkIGFzIGEga2V5IGZvciBkMyB0b1xuICAgICAgICAvLyBwcmVzZXJ2ZSBcIm9iamVjdCBjb25zdGFuY3lcIiBmb3IgdXBkYXRlcywgdHJhbnNpdGlvbnMsIGV0Yy4gVGhlIHJvdyBJRFxuICAgICAgICAvLyBpcyBkZXJpdmVkIGZyb20gdGhlIEZJUlNUIG9iamVjdCBJRCBpbnNlcnRlZCBpbnRvIHRoZSByb3cuIFNpbmNlIGFsbFxuICAgICAgICAvLyBvYmplY3QgSURzIGFyZSB1bmlxdWUsIGFsbCByb3cgSURzIHdpbGwgYWxzbyBiZSB1bmlxdWUuXG4gICAgICAgIC8qIFRoaXMgaXMgYSBnb29kLCBzaW1wbGUgZXhhbXBsZSB0byB0ZXN0IHdoZXRoZXIgb2JqZWN0cyBcImppZ2dsZVwiXG4gICAgXG4gICAgICAgIHggPSBbMSwgWzIsIFszLCBOb25lXV1dXG4gICAgICAgIHkgPSBbNCwgWzUsIFs2LCBOb25lXV1dXG4gICAgXG4gICAgICAgIHhbMV1bMV0gPSB5WzFdXG4gICAgXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuY3VyVHJhY2VMYXlvdXRzID0gW107XG4gICAgICAgIHRoaXMuY3VyVHJhY2VMYXlvdXRzLnB1c2goW10pOyAvLyBwcmUtc2VlZCB3aXRoIGFuIGVtcHR5IHNlbnRpbmVsIHRvIHNpbXBsaWZ5IHRoZSBjb2RlXG4gICAgICAgIHZhciBteVZpeiA9IHRoaXM7IC8vIHRvIHByZXZlbnQgY29uZnVzaW9uIG9mICd0aGlzJyBpbnNpZGUgb2YgbmVzdGVkIGZ1bmN0aW9uc1xuICAgICAgICBhc3NlcnQodGhpcy5jdXJUcmFjZSAmJiB0aGlzLmN1clRyYWNlLmxlbmd0aCA+IDApO1xuICAgICAgICAkLmVhY2godGhpcy5jdXJUcmFjZSwgZnVuY3Rpb24gKGksIGN1ckVudHJ5KSB7XG4gICAgICAgICAgICB2YXIgcHJldkxheW91dCA9IG15Vml6LmN1clRyYWNlTGF5b3V0c1tteVZpei5jdXJUcmFjZUxheW91dHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAvLyBtYWtlIGEgREVFUCBDT1BZIG9mIHByZXZMYXlvdXQgdG8gdXNlIGFzIHRoZSBiYXNpcyBmb3IgY3VyTGluZVxuICAgICAgICAgICAgdmFyIGN1ckxheW91dCA9ICQuZXh0ZW5kKHRydWUgLyogZGVlcCBjb3B5ICovLCBbXSwgcHJldkxheW91dCk7XG4gICAgICAgICAgICAvLyBpbml0aWFsaXplIHdpdGggYWxsIElEcyBmcm9tIGN1ckxheW91dFxuICAgICAgICAgICAgdmFyIGlkc1RvUmVtb3ZlID0gZDMubWFwKCk7XG4gICAgICAgICAgICAkLmVhY2goY3VyTGF5b3V0LCBmdW5jdGlvbiAoaSwgcm93KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDEgLyogaWdub3JlIHJvdyBJRCB0YWcgKi87IGogPCByb3cubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWRzVG9SZW1vdmUuc2V0KHJvd1tqXSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgaWRzQWxyZWFkeUxhaWRPdXQgPSBkMy5tYXAoKTsgLy8gdG8gcHJldmVudCBpbmZpbml0ZSByZWN1cnNpb25cbiAgICAgICAgICAgIGZ1bmN0aW9uIGN1ckxheW91dEluZGV4T2YoaWQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1ckxheW91dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gY3VyTGF5b3V0W2ldO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSByb3cuaW5kZXhPZihpZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHsgLy8gaW5kZXggb2YgMCBpcyBpbXBvc3NpYmxlIHNpbmNlIGl0J3MgdGhlIHJvdyBJRCB0YWdcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJvdzogcm93LCBpbmRleDogaW5kZXggfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGlzTGluZWFyT2JqKGhlYXBPYmopIHtcbiAgICAgICAgICAgICAgICB2YXIgaG9va19yZXN1bHQgPSBteVZpei5vd25lci50cnlfaG9vayhcImlzTGluZWFyT2JqXCIsIHsgaGVhcE9iajogaGVhcE9iaiB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaG9va19yZXN1bHRbMF0pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBob29rX3Jlc3VsdFsxXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGVhcE9ialswXSA9PSAnTElTVCcgfHwgaGVhcE9ialswXSA9PSAnVFVQTEUnIHx8IGhlYXBPYmpbMF0gPT0gJ1NFVCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiByZWN1cnNlSW50b09iamVjdChpZCwgY3VyUm93LCBuZXdSb3cpIHtcbiAgICAgICAgICAgICAgICAvLyBoZXVyaXN0aWMgZm9yIGxheWluZyBvdXQgMS1EIGxpbmtlZCBkYXRhIHN0cnVjdHVyZXM6IGNoZWNrIGZvciBlbmNsb3NpbmcgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAvLyB0aGF0IGFyZSBzdHJ1Y3R1cmFsbHlFcXVpdmFsZW50KCkgYW5kIHRoZW4gbGF5IHRoZW0gb3V0IGFzIHNpYmxpbmdzIGluIHRoZSBzYW1lIFwicm93XCJcbiAgICAgICAgICAgICAgICB2YXIgaGVhcE9iaiA9IGN1ckVudHJ5LmhlYXBbaWRdO1xuICAgICAgICAgICAgICAgIGlmIChteVZpei5pc0NwcE1vZGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzb2Z0ZW4gdGhpcyBhc3N1bXB0aW9uIHNpbmNlIEMtc3R5bGUgcG9pbnRlcnMgbWlnaHQgbm90IHBvaW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBoZWFwOyB0aGV5IGNhbiBwb2ludCB0byBhbnkgcGllY2Ugb2YgZGF0YSFcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFwT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydChoZWFwT2JqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzTGluZWFyT2JqKGhlYXBPYmopKSB7XG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChoZWFwT2JqLCBmdW5jdGlvbiAoaW5kLCBjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZCA8IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBza2lwIHR5cGUgdGFnXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW15Vml6LmlzUHJpbWl0aXZlVHlwZShjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRJRCA9IGdldFJlZklEKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXlWaXouc3RydWN0dXJhbGx5RXF1aXZhbGVudChoZWFwT2JqLCBjdXJFbnRyeS5oZWFwW2NoaWxkSURdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXJMYXlvdXQoY2hpbGRJRCwgY3VyUm93LCBuZXdSb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghbXlWaXoub3duZXIuc2hvdWxkTmVzdE9iamVjdChjdXJFbnRyeS5oZWFwW2NoaWxkSURdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXJMYXlvdXQoY2hpbGRJRCwgW10sIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoZWFwT2JqWzBdID09ICdESUNUJykge1xuICAgICAgICAgICAgICAgICAgICAkLmVhY2goaGVhcE9iaiwgZnVuY3Rpb24gKGluZCwgY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gc2tpcCB0eXBlIHRhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpY3RLZXkgPSBjaGlsZFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbXlWaXouaXNQcmltaXRpdmVUeXBlKGRpY3RLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleUNoaWxkSUQgPSBnZXRSZWZJRChkaWN0S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW15Vml6Lm93bmVyLnNob3VsZE5lc3RPYmplY3QoY3VyRW50cnkuaGVhcFtrZXlDaGlsZElEXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ3VyTGF5b3V0KGtleUNoaWxkSUQsIFtdLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpY3RWYWwgPSBjaGlsZFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbXlWaXouaXNQcmltaXRpdmVUeXBlKGRpY3RWYWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkSUQgPSBnZXRSZWZJRChkaWN0VmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXlWaXouc3RydWN0dXJhbGx5RXF1aXZhbGVudChoZWFwT2JqLCBjdXJFbnRyeS5oZWFwW2NoaWxkSURdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXJMYXlvdXQoY2hpbGRJRCwgY3VyUm93LCBuZXdSb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghbXlWaXoub3duZXIuc2hvdWxkTmVzdE9iamVjdChjdXJFbnRyeS5oZWFwW2NoaWxkSURdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXJMYXlvdXQoY2hpbGRJRCwgW10sIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoZWFwT2JqWzBdID09ICdJTlNUQU5DRScgfHwgaGVhcE9ialswXSA9PSAnSU5TVEFOQ0VfUFBSSU5UJyB8fCBoZWFwT2JqWzBdID09ICdDTEFTUycpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gRGF0YVZpc3VhbGl6ZXIuZ2V0Q2xhc3NJbnN0YW5jZU1ldGFkYXRhKGhlYXBPYmopLCBjbGFzc05hbWVfMSA9IF9hWzBdLCBoZWFkZXJMZW5ndGhfMSA9IF9hWzFdO1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZWFjaChoZWFwT2JqLCBmdW5jdGlvbiAoaW5kLCBjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZCA8IGhlYWRlckxlbmd0aF8xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0S2V5ID0gY2hpbGRbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobXlWaXouaW5IaWRlRmllbGRzU2V0KGNsYXNzTmFtZV8xLCBpbnN0S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3ByZWNvbXB1dGUgSElESU5HJywgY2xhc3NOYW1lLCBpbnN0S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIGdldCBvdXQhXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW15Vml6LmlzUHJpbWl0aXZlVHlwZShpbnN0S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlDaGlsZElEID0gZ2V0UmVmSUQoaW5zdEtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFteVZpei5vd25lci5zaG91bGROZXN0T2JqZWN0KGN1ckVudHJ5LmhlYXBba2V5Q2hpbGRJRF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUN1ckxheW91dChrZXlDaGlsZElELCBbXSwgW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0VmFsID0gY2hpbGRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW15Vml6LmlzUHJpbWl0aXZlVHlwZShpbnN0VmFsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZElEID0gZ2V0UmVmSUQoaW5zdFZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG15Vml6LnN0cnVjdHVyYWxseUVxdWl2YWxlbnQoaGVhcE9iaiwgY3VyRW50cnkuaGVhcFtjaGlsZElEXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ3VyTGF5b3V0KGNoaWxkSUQsIGN1clJvdywgbmV3Um93KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIW15Vml6Lm93bmVyLnNob3VsZE5lc3RPYmplY3QoY3VyRW50cnkuaGVhcFtjaGlsZElEXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ3VyTGF5b3V0KGNoaWxkSUQsIFtdLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGVhcE9ialswXSA9PSAnRlVOQ1RJT04nIHx8IGhlYXBPYmpbMF0gPT0gJ0pTX0ZVTkNUSU9OJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBhIFB5dGhvbiBmdW5jdGlvbiBvYmplY3QgaGFzIGFuIG9wdGlvbmFsIGVsZW1lbnQgYXQgaW5kZXg9M1xuICAgICAgICAgICAgICAgICAgICAvLyAoemVyby1pbmRleGVkKSB0aGF0IHJlcHJlc2VudHMgZGVmYXVsdCBhcmcgbmFtZXMvdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgSmF2YVNjcmlwdCBmdW5jdGlvbiBvYmplY3QgaGFzIGZ1bmNQcm9wZXJ0aWVzIHRoYXQgd2Ugc2hvdWxkXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY3Vyc2UgaW50byBpbiBvcmRlciB0byBwcmVjb21wdXRlIHRoZWlyIGxheW91dHNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZ1bmNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gdHJhdmVyc2UgaW50byBkZWZhdWx0IGFyZ3VtZW50IHZhbHVlcyB0byBwcmVjb21wdXRlIHRoZWlyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxheW91dHMsIGlmIGFwcGxpY2FibGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlYXBPYmpbMF0gPT0gJ0ZVTkNUSU9OJyAmJiBoZWFwT2JqLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmNQcm9wZXJ0aWVzID0gaGVhcE9ialszXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaGVhcE9ialswXSA9PSAnSlNfRlVOQ1RJT04nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQoaGVhcE9iai5sZW5ndGggPT0gNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jUHJvcGVydGllcyA9IGhlYXBPYmpbM107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmNQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQoZnVuY1Byb3BlcnRpZXMubGVuZ3RoID4gMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnVuY05hbWVfMSA9IGhlYXBPYmpbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZnVuY1Byb3BlcnRpZXMsIGZ1bmN0aW9uIChpbmQsIGt2UGFpcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgY2hlY2sgdGhpcyBmb3IgSlNfRlVOQ1RJT04hIHdlJ3JlIG92ZXJsb2FkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnVuY1Byb3BlcnRpZXMgdG8gdXNlIGZvciBib3RoIEZVTkNUSU9OIGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEpTX0ZVTkNUSU9OLCB3aGljaCBtaWdodCBiZSBjb25mdXNpbmcgLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYXBPYmpbMF0gPT0gJ0pTX0ZVTkNUSU9OJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdEtleSA9IGt2UGFpclswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG15Vml6LmluSGlkZUZpZWxkc1NldChmdW5jTmFtZV8xLCBpbnN0S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygncHJlY29tcHV0ZSBISURJTkcnLCBmdW5jTmFtZSwgaW5zdEtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIGdldCBvdXQhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29weS9wYXN0ZSBmcm9tIElOU1RBTkNFL0NMQVNTIGNvZGUgYWJvdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdFZhbCA9IGt2UGFpclsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW15Vml6LmlzUHJpbWl0aXZlVHlwZShpbnN0VmFsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRJRCA9IGdldFJlZklEKGluc3RWYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW15Vml6Lm93bmVyLnNob3VsZE5lc3RPYmplY3QoY3VyRW50cnkuaGVhcFtjaGlsZElEXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUN1ckxheW91dChjaGlsZElELCBbXSwgW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKGhlYXBPYmpbMF0gPT0gJ0NfQVJSQVknKSB8fCAoaGVhcE9ialswXSA9PSAnQ19NVUxUSURJTUVOU0lPTkFMX0FSUkFZJykgfHwgKGhlYXBPYmpbMF0gPT0gJ0NfU1RSVUNUJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ3VyTGF5b3V0QW5kUmVjdXJzZShoZWFwT2JqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhIGtyYXp5IGZ1bmN0aW9uIVxuICAgICAgICAgICAgLy8gaWQgICAgIC0gdGhlIG5ldyBvYmplY3QgSUQgdG8gYmUgaW5zZXJ0ZWQgc29tZXdoZXJlIGluIGN1ckxheW91dFxuICAgICAgICAgICAgLy8gICAgICAgICAgKGlmIGl0J3Mgbm90IGFscmVhZHkgaW4gdGhlcmUpXG4gICAgICAgICAgICAvLyBjdXJSb3cgLSBhIHJvdyB3aXRoaW4gY3VyTGF5b3V0IHdoZXJlIG5ldyBsaW5rZWQgbGlzdFxuICAgICAgICAgICAgLy8gICAgICAgICAgZWxlbWVudHMgY2FuIGJlIGFwcGVuZGVkIG9udG8gKG1pZ2h0IGJlIG51bGwpXG4gICAgICAgICAgICAvLyBuZXdSb3cgLSBhIG5ldyByb3cgdGhhdCBtaWdodCBiZSBzcGxpY2VkIGludG8gY3VyUm93IG9yIGFwcGVuZGVkXG4gICAgICAgICAgICAvLyAgICAgICAgICBhcyBhIG5ldyByb3cgaW4gY3VyTGF5b3V0XG4gICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVDdXJMYXlvdXQoaWQsIGN1clJvdywgbmV3Um93KSB7XG4gICAgICAgICAgICAgICAgaWYgKGlkc0FscmVhZHlMYWlkT3V0LmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBQVU5UIVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY3VyTGF5b3V0TG9jID0gY3VyTGF5b3V0SW5kZXhPZihpZCk7XG4gICAgICAgICAgICAgICAgdmFyIGFscmVhZHlMYWlkT3V0ID0gaWRzQWxyZWFkeUxhaWRPdXQuaGFzKGlkKTtcbiAgICAgICAgICAgICAgICBpZHNBbHJlYWR5TGFpZE91dC5zZXQoaWQsIDEpOyAvLyB1bmNvbmRpdGlvbmFsbHkgc2V0IG5vd1xuICAgICAgICAgICAgICAgIC8vIGlmIGlkIGlzIGFscmVhZHkgaW4gY3VyTGF5b3V0IC4uLlxuICAgICAgICAgICAgICAgIGlmIChjdXJMYXlvdXRMb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvdW5kUm93ID0gY3VyTGF5b3V0TG9jLnJvdztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvdW5kSW5kZXggPSBjdXJMYXlvdXRMb2MuaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlkc1RvUmVtb3ZlLnJlbW92ZShpZCk7IC8vIHRoaXMgaWQgaXMgYWxyZWFkeSBhY2NvdW50ZWQgZm9yIVxuICAgICAgICAgICAgICAgICAgICAvLyB2ZXJ5IHN1YnRsZSAuLi4gaWYgaWQgaGFzbid0IGFscmVhZHkgYmVlbiBoYW5kbGVkIGluXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXRlcmF0aW9uLCB0aGVuIHNwbGljZSBuZXdSb3cgaW50byBmb3VuZFJvdy4gb3RoZXJ3aXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIChsYXRlcikgYXBwZW5kIG5ld1JvdyBvbnRvIGN1ckxheW91dCBhcyBhIHRydWx5IG5ldyByb3dcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbHJlYWR5TGFpZE91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3BsaWNlIHRoZSBjb250ZW50cyBvZiBuZXdSb3cgcmlnaHQgQkVGT1JFIGZvdW5kSW5kZXguXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAoVGhpbmsgYWJvdXQgd2hlbiB5b3UncmUgdHJ5aW5nIHRvIGluc2VydCBpbiBpZD0zIGludG8gWydyb3cxJywgMiwgMV1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICB0byByZXByZXNlbnQgYSBsaW5rZWQgbGlzdCAzLT4yLT4xLiBZb3Ugd2FudCB0byBzcGxpY2UgdGhlIDNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBlbnRyeSByaWdodCBiZWZvcmUgdGhlIDIgdG8gZm9ybSBbJ3JvdzEnLCAzLCAyLCAxXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdSb3cubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW2ZvdW5kSW5kZXgsIDBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbmV3Um93Lmxlbmd0aDsgaSsrKSB7IC8vIGlnbm9yZSByb3cgSUQgdGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChuZXdSb3dbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHNUb1JlbW92ZS5yZW1vdmUobmV3Um93W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRSb3cuc3BsaWNlLmFwcGx5KGZvdW5kUm93LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgQUxMIGVsZW1lbnRzIGZyb20gbmV3Um93IHNpbmNlIHRoZXkndmUgYWxsIGJlZW4gYWNjb3VudGVkIGZvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIChidXQgZG9uJ3QgcmVhc3NpZ24gaXQgYXdheSB0byBhbiBlbXB0eSBsaXN0LCBzaW5jZSB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDQUxMRVIgY2hlY2tzIGl0cyB2YWx1ZS4gVE9ETzogaG93IHRvIGdldCByaWQgb2YgdGhpcyBncm9zcyBoYWNrPyE/KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jvdy5zcGxpY2UoMCwgbmV3Um93Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjdXJzZSB0byBmaW5kIG1vcmUgdG9wLWxldmVsIGxpbmtlZCBlbnRyaWVzIHRvIGFwcGVuZCBvbnRvIGZvdW5kUm93XG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc2VJbnRvT2JqZWN0KGlkLCBmb3VuZFJvdywgW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcHVzaCBpZCBpbnRvIG5ld1JvdyAuLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Jvdy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Um93LnB1c2goJ3JvdycgKyBpZCk7IC8vIHVuaXF1ZSByb3cgSUQgKHNpbmNlIElEcyBhcmUgdW5pcXVlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5ld1Jvdy5wdXNoKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjdXJzZSB0byBmaW5kIG1vcmUgdG9wLWxldmVsIGxpbmtlZCBlbnRyaWVzIC4uLlxuICAgICAgICAgICAgICAgICAgICByZWN1cnNlSW50b09iamVjdChpZCwgY3VyUm93LCBuZXdSb3cpO1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBuZXdSb3cgaGFzbid0IGJlZW4gc3BsaWNlZCBpbnRvIGFuIGV4aXN0aW5nIHJvdyB5ZXQgZHVyaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgY2hpbGQgcmVjdXJzaXZlIGNhbGwgLi4uXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdSb3cubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clJvdyAmJiBjdXJSb3cubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFwcGVuZCBvbnRvIHRoZSBFTkQgb2YgY3VyUm93IGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbmV3Um93Lmxlbmd0aDsgaSsrKSB7IC8vIGlnbm9yZSByb3cgSUQgdGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clJvdy5wdXNoKG5ld1Jvd1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHB1c2ggdG8gY3VyTGF5b3V0IGFzIGEgbmV3IHJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdGhpcyBtaWdodCBub3QgYWx3YXlzIGxvb2sgdGhlIGJlc3QsIHNpbmNlIHdlIG1pZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc29tZXRpbWVzIHdhbnQgdG8gc3BsaWNlIG5ld1JvdyBpbiB0aGUgTUlERExFIG9mXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3VyTGF5b3V0LiBDb25zaWRlciB0aGlzIGV4YW1wbGU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB4ID0gWzEsMiwzXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHkgPSBbNCw1LDZdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8geCA9IFs3LDgsOV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIHRoaXJkIGxpbmUgaXMgZXhlY3V0ZWQsIHRoZSBhcnJvd3MgZm9yIHggYW5kIHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aWxsIGJlIGNyb3NzZWQgKHVnbHkhKSBzaW5jZSB0aGUgbmV3IHJvdyBmb3IgdGhlIFs3LDgsOV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvYmplY3QgaXMgcHVzaGVkIHRvIHRoZSBlbmQgKGJvdHRvbSkgb2YgY3VyTGF5b3V0LiBUaGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9wZXIgYmVoYXZpb3IgaXMgdG8gcHVzaCBpdCB0byB0aGUgYmVnaW5uaW5nIG9mXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3VyTGF5b3V0IHdoZXJlIHRoZSBvbGQgcm93IGZvciAneCcgdXNlZCB0byBiZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJMYXlvdXQucHVzaCgkLmV4dGVuZCh0cnVlIC8qIG1ha2UgYSBkZWVwIGNvcHkgKi8sIFtdLCBuZXdSb3cpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlZ2FyZGxlc3MsIG5ld1JvdyBpcyBub3cgYWNjb3VudGVkIGZvciwgc28gY2xlYXIgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbmV3Um93Lmxlbmd0aDsgaSsrKSB7IC8vIGlnbm9yZSByb3cgSUQgdGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRzVG9SZW1vdmUucmVtb3ZlKG5ld1Jvd1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3cuc3BsaWNlKDAsIG5ld1Jvdy5sZW5ndGgpOyAvLyBraWxsIGl0IVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlQ3VyTGF5b3V0QW5kUmVjdXJzZShlbHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVsdClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBlYXJseSBiYWlsIG91dFxuICAgICAgICAgICAgICAgIGlmIChpc0hlYXBSZWYoZWx0LCBjdXJFbnRyeS5oZWFwKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBnZXRSZWZJRChlbHQpO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXJMYXlvdXQoaWQsIG51bGwsIFtdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjdXJzZUludG9DU3RydWN0QXJyYXkoZWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRyYXZlcnNlIGluc2lkZSBvZiBDIHN0cnVjdHMgYW5kIGFycmF5cyB0byBmaW5kIHdoZXRoZXIgdGhleVxuICAgICAgICAgICAgLy8gKHJlY3Vyc2l2ZWx5KSBjb250YWluIGFueSByZWZlcmVuY2VzIHRvIGhlYXAgb2JqZWN0cyB3aXRoaW5cbiAgICAgICAgICAgIC8vIHRoZW1zZWx2ZXMuIGJlIGFibGUgdG8gaGFuZGxlIGFyYml0cmFyeSBuZXN0aW5nIVxuICAgICAgICAgICAgZnVuY3Rpb24gcmVjdXJzZUludG9DU3RydWN0QXJyYXkodmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbFswXSA9PT0gJ0NfQVJSQVknKSB7XG4gICAgICAgICAgICAgICAgICAgICQuZWFjaCh2YWwsIGZ1bmN0aW9uIChpbmQsIGVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZCA8IDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyB0aGVzZSBoYXZlIDIgaGVhZGVyIGZpZWxkc1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ3VyTGF5b3V0QW5kUmVjdXJzZShlbHQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsWzBdID09PSAnQ19NVUxUSURJTUVOU0lPTkFMX0FSUkFZJyB8fCB2YWxbMF0gPT09ICdDX1NUUlVDVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHZhbCwgZnVuY3Rpb24gKGluZCwga3ZQYWlyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kIDwgMylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIHRoZXNlIGhhdmUgMyBoZWFkZXIgZmllbGRzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsWzBdID09PSAnQ19TVFJVQ1QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0cnVjdE5hbWUgPSB2YWxbMl0gPyB2YWxbMl0gOiBEYXRhVmlzdWFsaXplci5VTk5BTUVEX1BSRUZJWDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGROYW1lID0ga3ZQYWlyWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChteVZpei5pbkhpZGVGaWVsZHNTZXQoc3RydWN0TmFtZSwgZmllbGROYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdwcmVjb21wdXRlIEhJRElORycsIHN0cnVjdE5hbWUsIGZpZWxkTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZ2V0IG91dCFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXJMYXlvdXRBbmRSZWN1cnNlKGt2UGFpclsxXSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBhbGwgZ2xvYmFscyBhbmQgb3JkZXJlZCBzdGFjayBmcmFtZXMgYW5kIGNhbGwgdXBkYXRlQ3VyTGF5b3V0XG4gICAgICAgICAgICAkLmVhY2goY3VyRW50cnkub3JkZXJlZF9nbG9iYWxzLCBmdW5jdGlvbiAoaSwgdmFybmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChteVZpei5pbkhpZGVWYXJzU2V0KERhdGFWaXN1YWxpemVyLkdMT0JBTF9QUkVGSVgsIHZhcm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3ByZWNvbXB1dGUgSElESU5HJywgRGF0YVZpc3VhbGl6ZXIuR0xPQkFMX1BSRUZJWCwgdmFybmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZ2V0IG91dCFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IGN1ckVudHJ5Lmdsb2JhbHNbdmFybmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7IC8vIG1pZ2h0IG5vdCBiZSBkZWZpbmVkIGF0IHRoaXMgbGluZSwgd2hpY2ggaXMgT0tBWSFcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdHJ5IHRvIHVuaWZ5IHRoaXMgYmVoYXZpb3IgYmV0d2VlbiBDL0MrKyBhbmQgb3RoZXIgbGFuZ3VhZ2VzOlxuICAgICAgICAgICAgICAgICAgICBpZiAobXlWaXouaXNDcHBNb2RlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUN1ckxheW91dEFuZFJlY3Vyc2UodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbXlWaXouaXNQcmltaXRpdmVUeXBlKHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBnZXRSZWZJRCh2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUN1ckxheW91dChpZCwgbnVsbCwgW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkLmVhY2goY3VyRW50cnkuc3RhY2tfdG9fcmVuZGVyLCBmdW5jdGlvbiAoaSwgZnJhbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBzb21lIGZ1bmN0aW9ucyBhcmUgdW5uYW1lZCwgc28gdXNlIGEgcGxhY2Vob2xkZXI6XG4gICAgICAgICAgICAgICAgdmFyIGZ1bmNfcHJlZml4ID0gZnJhbWUuZnVuY19uYW1lID8gZnJhbWUuZnVuY19uYW1lIDogRGF0YVZpc3VhbGl6ZXIuVU5OQU1FRF9QUkVGSVg7XG4gICAgICAgICAgICAgICAgJC5lYWNoKGZyYW1lLm9yZGVyZWRfdmFybmFtZXMsIGZ1bmN0aW9uICh4eHgsIHZhcm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG15Vml6LmluSGlkZVZhcnNTZXQoZnVuY19wcmVmaXgsIHZhcm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdwcmVjb21wdXRlIEhJRElORycsIGZ1bmNfcHJlZml4LCB2YXJuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZ2V0IG91dCFcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gZnJhbWUuZW5jb2RlZF9sb2NhbHNbdmFybmFtZV07XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHRyeSB0byB1bmlmeSB0aGlzIGJlaGF2aW9yIGJldHdlZW4gQy9DKysgYW5kIG90aGVyIGxhbmd1YWdlczpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG15Vml6LmlzQ3BwTW9kZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXJMYXlvdXRBbmRSZWN1cnNlKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW15Vml6LmlzUHJpbWl0aXZlVHlwZSh2YWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gZ2V0UmVmSUQodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXJMYXlvdXQoaWQsIG51bGwsIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBpdGVyYXRlIHRocm91Z2ggcmVtYWluaW5nIGVsZW1lbnRzIG9mIGlkc1RvUmVtb3ZlIGFuZCBSRU1PVkUgdGhlbSBmcm9tIGN1ckxheW91dFxuICAgICAgICAgICAgaWRzVG9SZW1vdmUuZm9yRWFjaChmdW5jdGlvbiAoaWQsIHh4eCkge1xuICAgICAgICAgICAgICAgIHZhciBpZEludCA9IE51bWJlcihpZCk7IC8vIGtleXMgYXJlIHN0b3JlZCBhcyBzdHJpbmdzLCBzbyBjb252ZXJ0ISEhXG4gICAgICAgICAgICAgICAgJC5lYWNoKGN1ckxheW91dCwgZnVuY3Rpb24gKHJvd251bSwgcm93KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmQgPSByb3cuaW5kZXhPZihpZEludCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPiAwKSB7IC8vIHJlbWVtYmVyIHRoYXQgaW5kZXggMCBvZiB0aGUgcm93IGlzIHRoZSByb3cgSUQgdGFnXG4gICAgICAgICAgICAgICAgICAgICAgICByb3cuc3BsaWNlKGluZCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gbm93IHJlbW92ZSBlbXB0eSByb3dzIChpLmUuLCB0aG9zZSB3aXRoIG9ubHkgYSByb3cgSUQgdGFnKSBmcm9tIGN1ckxheW91dFxuICAgICAgICAgICAgY3VyTGF5b3V0ID0gY3VyTGF5b3V0LmZpbHRlcihmdW5jdGlvbiAocm93KSB7IHJldHVybiByb3cubGVuZ3RoID4gMTsgfSk7XG4gICAgICAgICAgICBteVZpei5jdXJUcmFjZUxheW91dHMucHVzaChjdXJMYXlvdXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jdXJUcmFjZUxheW91dHMuc3BsaWNlKDAsIDEpOyAvLyByZW1vdmUgc2VlZGVkIGVtcHR5IHNlbnRpbmVsIGVsZW1lbnRcbiAgICAgICAgYXNzZXJ0KHRoaXMuY3VyVHJhY2UubGVuZ3RoID09IHRoaXMuY3VyVHJhY2VMYXlvdXRzLmxlbmd0aCk7XG4gICAgfTtcbiAgICAvLyBpcyB0aGlzIHZpc3VhbGl6ZXIgaW4gQyBvciBDKysgbW9kZT8gdGhlIGV2ZW50dWFsIGdvYWwgaXMgdG8gcmVtb3ZlXG4gICAgLy8gdGhpcyBzcGVjaWFsLWNhc2Uga2x1ZGdlIGNoZWNrIGFsdG9nZXRoZXIgYW5kIGhhdmUgdGhlIGVudGlyZVxuICAgIC8vIGNvZGViYXNlIGJlIHVuaWZpZWQuIGJ1dCBmb3Igbm93LCBrZWVwIEMvQysrIHNlcGFyYXRlIGJlY2F1c2UgSSBkb24ndFxuICAgIC8vIHdhbnQgdG8gcmlzayBzY3Jld2luZyB1cCB0aGUgdmlzdWFsaXphdGlvbnMgZm9yIHRoZSBvdGhlciBsYW5ndWFnZXNcbiAgICBEYXRhVmlzdWFsaXplci5wcm90b3R5cGUuaXNDcHBNb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMucGFyYW1zLmxhbmcgPT09ICdjJyB8fCB0aGlzLnBhcmFtcy5sYW5nID09PSAnY3BwJyk7XG4gICAgfTtcbiAgICAvLyBjb21wYXJlIHR3byBKU09OLWVuY29kZWQgY29tcG91bmQgb2JqZWN0cyBmb3Igc3RydWN0dXJhbCBlcXVpdmFsZW5jZTpcbiAgICBEYXRhVmlzdWFsaXplci5wcm90b3R5cGUuc3RydWN0dXJhbGx5RXF1aXZhbGVudCA9IGZ1bmN0aW9uIChvYmoxLCBvYmoyKSB7XG4gICAgICAgIC8vIHB1bnQgaWYgZWl0aGVyIGlzbid0IGEgY29tcG91bmQgdHlwZVxuICAgICAgICBpZiAodGhpcy5pc1ByaW1pdGl2ZVR5cGUob2JqMSkgfHwgdGhpcy5pc1ByaW1pdGl2ZVR5cGUob2JqMikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtdXN0IGJlIHRoZSBzYW1lIGNvbXBvdW5kIHR5cGVcbiAgICAgICAgaWYgKG9iajFbMF0gIT0gb2JqMlswXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG11c3QgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgZWxlbWVudHMgb3IgZmllbGRzXG4gICAgICAgIGlmIChvYmoxLmxlbmd0aCAhPSBvYmoyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZvciBhIGxpc3Qgb3IgdHVwbGUsIHNhbWUgc2l6ZSAoZS5nLiwgYSBjb25zIGNlbGwgaXMgYSBsaXN0L3R1cGxlIG9mIHNpemUgMilcbiAgICAgICAgaWYgKG9iajFbMF0gPT0gJ0xJU1QnIHx8IG9iajFbMF0gPT0gJ1RVUExFJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRpbmdJbmQgPSAtMTtcbiAgICAgICAgICAgIGlmIChvYmoxWzBdID09ICdESUNUJykge1xuICAgICAgICAgICAgICAgIHN0YXJ0aW5nSW5kID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9iajFbMF0gPT0gJ0lOU1RBTkNFJykge1xuICAgICAgICAgICAgICAgIHN0YXJ0aW5nSW5kID0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9iajFbMF0gPT0gJ0lOU1RBTkNFX1BQUklOVCcpIHtcbiAgICAgICAgICAgICAgICBzdGFydGluZ0luZCA9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHB1bnQgb24gYWxsIG90aGVyIHR5cGVzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb2JqMWZpZWxkcyA9IGQzLm1hcCgpO1xuICAgICAgICAgICAgLy8gZm9yIGEgZGljdCBvciBvYmplY3QgaW5zdGFuY2UsIHNhbWUgbmFtZXMgb2YgZmllbGRzIChvcmRlcmluZyBkb2Vzbid0IG1hdHRlcilcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydGluZ0luZDsgaSA8IG9iajEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvYmoxZmllbGRzLnNldChvYmoxW2ldWzBdLCAxKTsgLy8gdXNlIGFzIGEgc2V0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRpbmdJbmQ7IGkgPCBvYmoyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvYmoxZmllbGRzLmhhcyhvYmoyW2ldWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5pc1ByaW1pdGl2ZVR5cGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciBob29rX3Jlc3VsdCA9IHRoaXMub3duZXIudHJ5X2hvb2soXCJpc1ByaW1pdGl2ZVR5cGVcIiwgeyBvYmo6IG9iaiB9KTtcbiAgICAgICAgaWYgKGhvb2tfcmVzdWx0WzBdKVxuICAgICAgICAgICAgcmV0dXJuIGhvb2tfcmVzdWx0WzFdO1xuICAgICAgICAvLyBudWxsIGlzIGEgcHJpbWl0aXZlXG4gICAgICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIC8vIGtsdWRneVxuICAgICAgICAgICAgcmV0dXJuIChvYmpbMF0gPT0gJ0lNUE9SVEVEX0ZBVVhfUFJJTUlUSVZFJyB8fFxuICAgICAgICAgICAgICAgIG9ialswXSA9PSAnU1BFQ0lBTF9GTE9BVCcgfHwgb2JqWzBdID09ICdKU19TUEVDSUFMX1ZBTCcgfHxcbiAgICAgICAgICAgICAgICBvYmpbMF0gPT0gJ0NfREFUQScgLyogVE9ETzogaXMgdGhpcyByaWdodD8hPyAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBub24tb2JqZWN0cyBhcmUgcHJpbWl0aXZlc1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFRoaXMgaXMgdGhlIG1haW4gZXZlbnQgcmlnaHQgaGVyZSEhIVxuICAgIC8vXG4gICAgLy8gVGhlIFwiNC4wXCIgdmVyc2lvbiBvZiByZW5kZXJEYXRhU3RydWN0dXJlcyB3YXMgcmVmYWN0b3JlZCB0byBiZSBtdWNoXG4gICAgLy8gbGVzcyBtb25vbGl0aGljIGFuZCBtb3JlIG1vZHVsYXIuIEl0IHdhcyBtYWRlIHBvc3NpYmxlIGJ5IGZpcnN0XG4gICAgLy8gY3JlYXRpbmcgYSBzdWl0ZSBvZiBmcm9udGVuZCBKUyByZWdyZXNzaW9uIHRlc3RzIHNvIHRoYXQgSSBmZWx0IG1vcmVcbiAgICAvLyBjb21mb3J0YWJsZSBtdWNraW5nIGFyb3VuZCB3aXRoIHRoZSBzdXBlci1icml0dGxlIGNvZGUgaW4gdGhpc1xuICAgIC8vIGZ1bmN0aW9uLiBUaGlzIHZlcnNpb24gd2FzIGNyZWF0ZWQgaW4gQXByaWwgMjAxNC4gRm9yIHJlZmVyZW5jZSxcbiAgICAvLyBiZWZvcmUgcmVmYWN0b3JpbmcsIHRoaXMgZnVuY3Rpb24gd2FzIDEsMDMwIGxpbmVzIG9mIGNvbnZvbHV0ZWQgY29kZSFcbiAgICAvL1xuICAgIC8vIChBbHNvIGFkZGVkIHRoZSByaWdodHdhcmQgbnVkZ2UgaGFjayB0byBtYWtlIHRyZWUtbGlrZSBzdHJ1Y3R1cmVzXG4gICAgLy8gbG9vayBtb3JlIHNhbmUgd2l0aG91dCBhbnkgc29waGlzdGljYXRlZCBncmFwaCByZW5kZXJpbmcgY29kZS4gVGhhbmtzXG4gICAgLy8gdG8gSm9obiBEZU5lcm8gZm9yIHRoaXMgc3VnZ2VzdGlvbiBhbGwgdGhlIHdheSBiYWNrIGluIEZhbGwgMjAxMi4pXG4gICAgLy9cbiAgICAvLyBUaGUgXCIzLjBcIiB2ZXJzaW9uIG9mIHJlbmRlckRhdGFTdHJ1Y3R1cmVzIHJlbmRlcnMgdmFyaWFibGVzIGluXG4gICAgLy8gYSBzdGFjaywgdmFsdWVzIGluIGEgc2VwYXJhdGUgaGVhcCwgYW5kIGRyYXdzIGxpbmUgY29ubmVjdG9yc1xuICAgIC8vIHRvIHJlcHJlc2VudCBib3RoIHN0YWNrLT5oZWFwIG9iamVjdCByZWZlcmVuY2VzIGFuZCwgbW9yZSBpbXBvcnRhbnRseSxcbiAgICAvLyBoZWFwLT5oZWFwIHJlZmVyZW5jZXMuIFRoaXMgdmVyc2lvbiB3YXMgY3JlYXRlZCBpbiBBdWd1c3QgMjAxMi5cbiAgICAvL1xuICAgIC8vIFRoZSBcIjIuMFwiIHZlcnNpb24gb2YgcmVuZGVyRGF0YVN0cnVjdHVyZXMgcmVuZGVycyB2YXJpYWJsZXMgaW5cbiAgICAvLyBhIHN0YWNrIGFuZCB2YWx1ZXMgaW4gYSBzZXBhcmF0ZSBoZWFwLCB3aXRoIGRhdGEgc3RydWN0dXJlIGFsaWFzaW5nXG4gICAgLy8gZXhwbGljaXRseSByZXByZXNlbnRlZCB2aWEgbGluZSBjb25uZWN0b3JzICh0aGFua3MgdG8ganNQbHVtYiBsaWIpLlxuICAgIC8vIFRoaXMgdmVyc2lvbiB3YXMgY3JlYXRlZCBpbiBTZXB0ZW1iZXIgMjAxMS5cbiAgICAvL1xuICAgIC8vIFRoZSBPUklHSU5BTCBcIjEuMFwiIHZlcnNpb24gb2YgcmVuZGVyRGF0YVN0cnVjdHVyZXNcbiAgICAvLyB3YXMgY3JlYXRlZCBpbiBKYW51YXJ5IDIwMTAgYW5kIHJlbmRlcmVkIHZhcmlhYmxlcyBhbmQgdmFsdWVzXG4gICAgLy8gSU5MSU5FIHdpdGhpbiBlYWNoIHN0YWNrIGZyYW1lIHdpdGhvdXQgYW55IGV4cGxpY2l0IHJlcHJlc2VudGF0aW9uXG4gICAgLy8gb2YgZGF0YSBzdHJ1Y3R1cmUgYWxpYXNpbmcuIFRoYXQgaXMsIGFsaWFzZWQgb2JqZWN0cyB3ZXJlIHJlbmRlcmVkXG4gICAgLy8gbXVsdGlwbGUgdGltZXMsIGFuZCBhIHVuaXF1ZSBJRCBsYWJlbCB3YXMgdXNlZCB0byBpZGVudGlmeSBhbGlhc2VzLlxuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5yZW5kZXJEYXRhU3RydWN0dXJlcyA9IGZ1bmN0aW9uIChjdXJJbnN0cikge1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdyZW5kZXJEYXRhU3RydWN0dXJlcycsIGN1ckluc3RyKTtcbiAgICAgICAgdmFyIG15Vml6ID0gdGhpczsgLy8gdG8gcHJldmVudCBjb25mdXNpb24gb2YgJ3RoaXMnIGluc2lkZSBvZiBuZXN0ZWQgZnVuY3Rpb25zXG4gICAgICAgIHZhciBjdXJFbnRyeSA9IHRoaXMuY3VyVHJhY2VbY3VySW5zdHJdO1xuICAgICAgICB2YXIgY3VyVG9wbGV2ZWxMYXlvdXQgPSB0aGlzLmN1clRyYWNlTGF5b3V0c1tjdXJJbnN0cl07XG4gICAgICAgIG15Vml6LnJlc2V0SnNQbHVtYk1hbmFnZXIoKTsgLy8gdmVyeSBpbXBvcnRhbnQhISFcbiAgICAgICAgLy8gZm9yIHNpbXBsaWNpdHkgKGJ1dCBzYWNyaWZpY2luZyBzb21lIHBlcmZvcm1hbmNlKSwgZGVsZXRlIGFsbFxuICAgICAgICAvLyBjb25uZWN0b3JzIGFuZCByZWRyYXcgdGhlbSBmcm9tIHNjcmF0Y2guIGRvaW5nIHNvIGF2b2lkcyBteXN0ZXJpb3VzXG4gICAgICAgIC8vIGpzUGx1bWIgY29ubmVjdG9yIGFsaWdubWVudCBpc3N1ZXMgd2hlbiB0aGUgdmlzdWFsaXplcidzIGVuY2xvc2luZ1xuICAgICAgICAvLyBkaXYgY29udGFpbnMsIHNheSwgYSBcInBvc2l0aW9uOiByZWxhdGl2ZTtcIiBDU1MgdGFnXG4gICAgICAgIC8vICh3aGljaCBoYXBwZW5zIGluIHRoZSBJUHl0aG9uIE5vdGVib29rKVxuICAgICAgICB2YXIgZXhpc3RpbmdDb25uZWN0aW9uRW5kcG9pbnRJRHMgPSBkMy5tYXAoKTtcbiAgICAgICAgbXlWaXouanNQbHVtYkluc3RhbmNlLnNlbGVjdCh7IHNjb3BlOiAndmFyVmFsdWVQb2ludGVyJyB9KS5lYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIFZFUlkgY3J1ZGUsIGJ1dCB0byBwcmV2ZW50IG11bHRpcGxlIHJlZHVuZGFudCBIRUFQLT5IRUFQXG4gICAgICAgICAgICAvLyBjb25uZWN0b3JzIGZyb20gYmVpbmcgZHJhd24gd2l0aCB0aGUgc2FtZSBzb3VyY2UgYW5kIG9yaWdpbiwgd2UgbmVlZCB0byBmaXJzdFxuICAgICAgICAgICAgLy8gREVMRVRFIEFMTCBleGlzdGluZyBIRUFQLT5IRUFQIGNvbm5lY3Rpb25zLCBhbmQgdGhlbiByZS1yZW5kZXIgYWxsIG9mXG4gICAgICAgICAgICAvLyB0aGVtIGluIGVhY2ggY2FsbCB0byB0aGlzIGZ1bmN0aW9uLiBUaGUgcmVhc29uIHdoeSB3ZSBjYW4ndCBzYWZlbHlcbiAgICAgICAgICAgIC8vIGhvbGQgb250byB0aGVtIGlzIGJlY2F1c2UgdGhlcmUncyBubyB3YXkgdG8gZ3VhcmFudGVlIHRoYXQgdGhlXG4gICAgICAgICAgICAvLyAqX19oZWFwX3BvaW50ZXJfc3JjXzxzcmMgaWQ+IElEcyBhcmUgY29uc2lzdGVudCBhY3Jvc3MgZXhlY3V0aW9uIHBvaW50cy5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyB0aHVzLCBvbmx5IGFkZCB0byBleGlzdGluZ0Nvbm5lY3Rpb25FbmRwb2ludElEcyBpZiB0aGlzIGlzIE5PVCBoZWFwLT5oZWFwXG4gICAgICAgICAgICBpZiAoIWMuc291cmNlSWQubWF0Y2goaGVhcFB0clNyY1JFKSkge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29ubmVjdGlvbkVuZHBvaW50SURzLnNldChjLnNvdXJjZUlkLCBjLnRhcmdldElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBleGlzdGluZ1BhcmVudFBvaW50ZXJDb25uZWN0aW9uRW5kcG9pbnRJRHMgPSBkMy5tYXAoKTtcbiAgICAgICAgbXlWaXouanNQbHVtYkluc3RhbmNlLnNlbGVjdCh7IHNjb3BlOiAnZnJhbWVQYXJlbnRQb2ludGVyJyB9KS5lYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICBleGlzdGluZ1BhcmVudFBvaW50ZXJDb25uZWN0aW9uRW5kcG9pbnRJRHMuc2V0KGMuc291cmNlSWQsIGMudGFyZ2V0SWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gd2hhdCB2YXJpYWJsZXMvZmllbGRzIHdlcmUgaGlkZGVuIGluIHRoaXMgY2FsbCB0byByZW5kZXJEYXRhU3RydWN0dXJlcz9cbiAgICAgICAgLy8gKG1ha2UgdGhlc2UgZmllbGRzIGFuZCBub3QgbG9jYWxzIHNvIHRoYXQgd2UgY2FuIGFjY2VzcyB0aGVtIGluXG4gICAgICAgIC8vIG90aGVyIG1ldGhvZHMgdG9vLCBlcmdoKVxuICAgICAgICBteVZpei52YXJzSGlkZGVuID0gW107XG4gICAgICAgIG15Vml6LmZpZWxkc0hpZGRlbiA9IFtdO1xuICAgICAgICAvLyBIZWFwIG9iamVjdCByZW5kZXJpbmcgcGhhc2U6XG4gICAgICAgIC8vIGNvdW50IGV2ZXJ5dGhpbmcgaW4gY3VyVG9wbGV2ZWxMYXlvdXQgYXMgYWxyZWFkeSByZW5kZXJlZCBzaW5jZSB3ZSB3aWxsIHJlbmRlciB0aGVtXG4gICAgICAgIC8vIGluIGQzIC5lYWNoKCkgc3RhdGVtZW50c1xuICAgICAgICAkLmVhY2goY3VyVG9wbGV2ZWxMYXlvdXQsIGZ1bmN0aW9uICh4eHgsIHJvdykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3cubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JqSUQgPSByb3dbaV07XG4gICAgICAgICAgICAgICAgdmFyIGhlYXBPYmpJRCA9IG15Vml6LmdlbmVyYXRlSGVhcE9iaklEKG9iaklELCBjdXJJbnN0cik7XG4gICAgICAgICAgICAgICAgbXlWaXouanNQbHVtYk1hbmFnZXIucmVuZGVyZWRIZWFwT2JqZWN0SURzLnNldChoZWFwT2JqSUQsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gdXNlIGQzIHRvIHJlbmRlciB0aGUgaGVhcCBieSBtYXBwaW5nIGN1clRvcGxldmVsTGF5b3V0IGludG8gPHRhYmxlIGNsYXNzPVwiaGVhcFJvd1wiPlxuICAgICAgICAvLyBhbmQgPHRkIGNsYXNzPVwidG9wbGV2ZWxIZWFwT2JqZWN0XCI+IGVsZW1lbnRzXG4gICAgICAgIC8vIGJlZm9yZSB3ZSBjbGVhciB0aGUgaGVhcCBkaXYgYmVsb3csIHJlY29yZCB0aGUgY3VzdG9tIHBvc2l0aW9uc1xuICAgICAgICAvLyBvZiBhbnkgaGVhcE9iamVjdHMgdGhhdCB3ZSd2ZSBtYWRlIGFzIGRyYWdnYWJsZSAqYW5kKiB0aGF0J3MgYmVlblxuICAgICAgICAvLyBkcmFnZ2VkIHNvbWV3aGVyZSBkaWZmZXJlbnQgKGFzIGluZGljYXRlZCBieSB0aGUgalF1ZXJ5XG4gICAgICAgIC8vIGRhdGEoJ2RyYWdnZWRDU1MnKSBhdHRyaWJ1dGUgYmVpbmcgc2V0IHRvIHRoZSBjdXN0b20gQ1NTIG9mIHRoZVxuICAgICAgICAvLyBkcmFnZ2VkIG9iamVjdCwgd2hpY2ggc2hvdWxkIGNvbnRhaW4gaXRzIGN1cnJlbnQgY3VzdG9tIHBvc2l0aW9uKVxuICAgICAgICBteVZpei5kb21Sb290LmZpbmQoJy5oZWFwT2JqZWN0JykuZWFjaChmdW5jdGlvbiAoaSwgZSkge1xuICAgICAgICAgICAgdmFyIGRyYWdnZWRDU1MgPSAkKGUpLmRhdGEoJ2RyYWdnZWRDU1MnKTtcbiAgICAgICAgICAgIGlmIChkcmFnZ2VkQ1NTKSB7XG4gICAgICAgICAgICAgICAgLy8gc2F2ZSBhIG1hcHBpbmcgYmV0d2VlbiB0aGUgLmhlYXBPYmplY3QgaWQgYW5kIGl0cyBkcmFnZ2VkQ1NTXG4gICAgICAgICAgICAgICAgbXlWaXouZHJhZ2dlZEhlYXBPYmplY3RDU1Muc2V0KCQoZSkuYXR0cignaWQnKSwgZHJhZ2dlZENTUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBub3cgaXQncyBzYWZlIHRvIHRvdGFsbHkgZXJhc2UgYWxsIC5oZWFwT2JqZWN0IGVsZW1lbnRzIGJ5XG4gICAgICAgIC8vIGVtcHR5aW5nICcjaGVhcCcgYmVsb3cgLi4uXG4gICAgICAgIC8vIGZvciBzaW1wbGljaXR5LCBDTEVBUiB0aGlzIGVudGlyZSBkaXYgZXZlcnkgdGltZSwgd2hpY2ggdG90YWxseVxuICAgICAgICAvLyBnZXRzIHJpZCBvZiB0aGUgaW5jcmVtZW50YWwgYmVuZWZpdHMgb2YgdXNpbmcgZDMgZm9yLCBzYXksXG4gICAgICAgIC8vIHRyYW5zaXRpb25zIG9yIGVmZmljaWVudCB1cGRhdGVzLiBidXQgaXQgcHJvdmlkZXMgbW9yZVxuICAgICAgICAvLyBkZXRlcm1pbmlzdGljIGFuZCBwcmVkaWN0YWJsZSBvdXRwdXQgZm9yIG90aGVyIGZ1bmN0aW9ucy4gc2lnaCwgaSdtXG4gICAgICAgIC8vIG5vdCByZWFsbHkgdXNpbmcgZDMgdG8gdGhlIGZ1bGxlc3QsIGJ1dCBvaCB3ZWxscyFcbiAgICAgICAgbXlWaXouZG9tUm9vdC5maW5kKCcjaGVhcCcpXG4gICAgICAgICAgICAuZW1wdHkoKVxuICAgICAgICAgICAgLmh0bWwoXCI8ZGl2IGlkPVxcXCJoZWFwSGVhZGVyXFxcIj5cIiArIG15Vml6LmdldFJlYWxMYWJlbChcIk9iamVjdHNcIikgKyBcIjwvZGl2PlwiKTtcbiAgICAgICAgdmFyIGhlYXBSb3dzID0gbXlWaXouZG9tUm9vdEQzLnNlbGVjdCgnI2hlYXAnKVxuICAgICAgICAgICAgLnNlbGVjdEFsbCgndGFibGUuaGVhcFJvdycpXG4gICAgICAgICAgICAuYXR0cignaWQnLCBmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gJ2hlYXBSb3cnICsgaTsgfSkgLy8gYWRkIHVuaXF1ZSBJRFxuICAgICAgICAgICAgLmRhdGEoY3VyVG9wbGV2ZWxMYXlvdXQsIGZ1bmN0aW9uIChvYmpMc3QpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmpMc3RbMF07IC8vIHJldHVybiBmaXJzdCBlbGVtZW50LCB3aGljaCBpcyB0aGUgcm93IElEIHRhZ1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaW5zZXJ0IG5ldyBoZWFwIHJvd3NcbiAgICAgICAgaGVhcFJvd3MuZW50ZXIoKS5hcHBlbmQoJ3RhYmxlJylcbiAgICAgICAgICAgIC8vLmVhY2goZnVuY3Rpb24ob2JqTHN0LCBpKSB7Y29uc29sZS5sb2coJ05FVyBST1c6Jywgb2JqTHN0LCBpKTt9KVxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZnVuY3Rpb24gKGQsIGkpIHsgcmV0dXJuICdoZWFwUm93JyArIGk7IH0pIC8vIGFkZCB1bmlxdWUgSURcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdoZWFwUm93Jyk7XG4gICAgICAgIC8vIGRlbGV0ZSBhIGhlYXAgcm93XG4gICAgICAgIHZhciBockV4aXQgPSBoZWFwUm93cy5leGl0KCk7XG4gICAgICAgIGhyRXhpdFxuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKGQsIGlkeCkge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnREVMIFJPVzonLCBkLCBpZHgpO1xuICAgICAgICAgICAgJCh0aGlzKS5lbXB0eSgpOyAvLyBjcnVjaWFsIGZvciBnYXJiYWdlIGNvbGxlY3RpbmcganNQbHVtYiBjb25uZWN0b3JzIVxuICAgICAgICB9KVxuICAgICAgICAgICAgLnJlbW92ZSgpO1xuICAgICAgICAvLyB1cGRhdGUgYW4gZXhpc3RpbmcgaGVhcCByb3dcbiAgICAgICAgdmFyIHRvcGxldmVsSGVhcE9iamVjdHMgPSBoZWFwUm93c1xuICAgICAgICAgICAgLy8uZWFjaChmdW5jdGlvbihvYmpMc3QsIGkpIHsgY29uc29sZS5sb2coJ1VQREFURSBST1c6Jywgb2JqTHN0LCBpKTsgfSlcbiAgICAgICAgICAgIC5zZWxlY3RBbGwoJ3RkLnRvcGxldmVsSGVhcE9iamVjdCcpXG4gICAgICAgICAgICAuZGF0YShmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gZC5zbGljZSgxLCBkLmxlbmd0aCk7IH0sIC8qIG1hcCBvdmVyIGVhY2ggcm93LCBza2lwcGluZyByb3cgSUQgdGFnICovIGZ1bmN0aW9uIChvYmpJRCkgeyByZXR1cm4gb2JqSUQ7IH0gLyogZWFjaCBvYmplY3QgSUQgaXMgdW5pcXVlIGZvciBjb25zdGFuY3kgKi8pO1xuICAgICAgICAvLyBpbnNlcnQgYSBuZXcgdG9wbGV2ZWxIZWFwT2JqZWN0XG4gICAgICAgIHZhciB0bGhFbnRlciA9IHRvcGxldmVsSGVhcE9iamVjdHMuZW50ZXIoKS5hcHBlbmQoJ3RkJylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0b3BsZXZlbEhlYXBPYmplY3QnKVxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZnVuY3Rpb24gKGQsIGkpIHsgcmV0dXJuICd0b3BsZXZlbF9oZWFwX29iamVjdF8nICsgZDsgfSk7IC8vIFRPRE86IGlzIHRoaXMgQ1NTIElEIHVuaXF1ZT9cbiAgICAgICAgLy8gcmVtZW1iZXIgdGhhdCB0aGUgZW50ZXIgc2VsZWN0aW9uIGlzIGFkZGVkIHRvIHRoZSB1cGRhdGVcbiAgICAgICAgLy8gc2VsZWN0aW9uIHNvIHRoYXQgd2UgY2FuIHByb2Nlc3MgaXQgbGF0ZXIgLi4uXG4gICAgICAgIC8vIHVwZGF0ZSBhIHRvcGxldmVsSGVhcE9iamVjdFxuICAgICAgICB0b3BsZXZlbEhlYXBPYmplY3RzXG4gICAgICAgICAgICAub3JkZXIoKSAvLyBWRVJZIElNUE9SVEFOVCB0byBwdXQgaW4gdGhlIG9yZGVyIGNvcnJlc3BvbmRpbmcgdG8gZGF0YSBlbGVtZW50c1xuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKG9iaklELCBpKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdORVcvVVBEQVRFIEVMVCcsIG9iaklEKTtcbiAgICAgICAgICAgIC8vIFRPRE86IGFkZCBhIHNtb290aGVyIHRyYW5zaXRpb24gaW4gdGhlIGZ1dHVyZVxuICAgICAgICAgICAgLy8gUmlnaHQgbm93LCBqdXN0IGRlbGV0ZSB0aGUgb2xkIGVsZW1lbnQgYW5kIHJlbmRlciBhIG5ldyBvbmUgaW4gaXRzIHBsYWNlXG4gICAgICAgICAgICAkKHRoaXMpLmVtcHR5KCk7XG4gICAgICAgICAgICBpZiAobXlWaXouaXNDcHBNb2RlKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB3aHkgbWlnaHQgdGhpcyBiZSB1bmRlZmluZWQ/IT8gYmVjYXVzZSB0aGUgb2JqZWN0XG4gICAgICAgICAgICAgICAgLy8gZGlzYXBwZWFyZWQgZnJvbSB0aGUgaGVhcCBhbGwgb2YgYSBzdWRkZW4/IT9cbiAgICAgICAgICAgICAgICBpZiAoY3VyRW50cnkuaGVhcFtvYmpJRF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBteVZpei5yZW5kZXJDb21wb3VuZE9iamVjdChvYmpJRCwgY3VySW5zdHIsICQodGhpcyksIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlckNvbXBvdW5kT2JqZWN0KG9iaklELCBjdXJJbnN0ciwgJCh0aGlzKSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBkZWxldGUgYSB0b3BsZXZlbEhlYXBPYmplY3RcbiAgICAgICAgdmFyIHRsaEV4aXQgPSB0b3BsZXZlbEhlYXBPYmplY3RzLmV4aXQoKTtcbiAgICAgICAgdGxoRXhpdFxuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKGQsIGlkeCkge1xuICAgICAgICAgICAgJCh0aGlzKS5lbXB0eSgpOyAvLyBjcnVjaWFsIGZvciBnYXJiYWdlIGNvbGxlY3RpbmcganNQbHVtYiBjb25uZWN0b3JzIVxuICAgICAgICB9KVxuICAgICAgICAgICAgLnJlbW92ZSgpO1xuICAgICAgICAvLyBSZW5kZXIgZ2xvYmFscyBhbmQgdGhlbiBzdGFjayBmcmFtZXMgdXNpbmcgZDM6XG4gICAgICAgIC8vIFRPRE86IHRoaXMgc29tZXRpbWVzIHNlZW1zIGJ1Z2d5IG9uIFNhZmFyaSwgc28gbml4IGl0IGZvciBub3c6XG4gICAgICAgIGZ1bmN0aW9uIGhpZ2hsaWdodEFsaWFzZWRDb25uZWN0b3JzKGQsIGkpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgcm93IGNvbnRhaW5zIGEgc3RhY2sgcG9pbnRlciwgdGhlbiBoaWdobGlnaHQgaXRzIGFycm93IGFuZFxuICAgICAgICAgICAgLy8gQUxMIGFsaWFzZXMgdGhhdCBhbHNvIHBvaW50IHRvIHRoZSBzYW1lIGhlYXAgb2JqZWN0XG4gICAgICAgICAgICB2YXIgc3RhY2tQdHJJZCA9ICQodGhpcykuZmluZCgnZGl2LnN0YWNrX3BvaW50ZXInKS5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgaWYgKHN0YWNrUHRySWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZm91bmRUYXJnZXRJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgbXlWaXouanNQbHVtYkluc3RhbmNlLnNlbGVjdCh7IHNvdXJjZTogc3RhY2tQdHJJZCB9KS5lYWNoKGZ1bmN0aW9uIChjKSB7IGZvdW5kVGFyZ2V0SWQgPSBjLnRhcmdldElkOyB9KTtcbiAgICAgICAgICAgICAgICAvLyB1c2UgZm91bmRUYXJnZXRJZCB0byBoaWdobGlnaHQgQUxMIEFMSUFTRVNcbiAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iSW5zdGFuY2Uuc2VsZWN0KCkuZWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYy50YXJnZXRJZCA9PSBmb3VuZFRhcmdldElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnNldEhvdmVyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChjLmNhbnZhcykuY3NzKFwiei1pbmRleFwiLCAyMDAwKTsgLy8gLi4uIGFuZCBtb3ZlIGl0IHRvIHRoZSBWRVJZIEZST05UXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnNldEhvdmVyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHVuaGlnaGxpZ2h0QWxsQ29ubmVjdG9ycyhkLCBpKSB7XG4gICAgICAgICAgICBteVZpei5qc1BsdW1iSW5zdGFuY2Uuc2VsZWN0KCkuZWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgIGMuc2V0SG92ZXIoZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogY29hbGVzY2UgY29kZSBmb3IgcmVuZGVyaW5nIGdsb2JhbHMgYW5kIHN0YWNrIGZyYW1lcyxcbiAgICAgICAgLy8gc2luY2UgdGhlcmUncyBzbyBtdWNoIGNvcHktYW5kLXBhc3RlIGdyb3NzbmVzcyByaWdodCBub3dcbiAgICAgICAgLy8gcmVuZGVyIGFsbCBnbG9iYWwgdmFyaWFibGVzIElOIFRIRSBPUkRFUiB0aGV5IHdlcmUgY3JlYXRlZCBieSB0aGUgcHJvZ3JhbSxcbiAgICAgICAgLy8gaW4gb3JkZXIgdG8gZW5zdXJlIGNvbnRpbnVpdHk6XG4gICAgICAgIC8vIERlcml2ZSBhIGxpc3Qgd2hlcmUgZWFjaCBlbGVtZW50IGNvbnRhaW5zIHZhcm5hbWVcbiAgICAgICAgLy8gYXMgbG9uZyBhcyB2YWx1ZSBpcyBOT1QgdW5kZWZpbmVkLlxuICAgICAgICAvLyAoU29tZXRpbWVzIGVudHJpZXMgaW4gY3VyRW50cnkub3JkZXJlZF9nbG9iYWxzIGFyZSB1bmRlZmluZWQsXG4gICAgICAgIC8vIHNvIGZpbHRlciB0aG9zZSBvdXQuKVxuICAgICAgICB2YXIgcmVhbEdsb2JhbHNMc3QgPSBbXTtcbiAgICAgICAgJC5lYWNoKGN1ckVudHJ5Lm9yZGVyZWRfZ2xvYmFscywgZnVuY3Rpb24gKGksIHZhcm5hbWUpIHtcbiAgICAgICAgICAgIGlmIChteVZpei5pbkhpZGVWYXJzU2V0KERhdGFWaXN1YWxpemVyLkdMT0JBTF9QUkVGSVgsIHZhcm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlbmRlciBISURJTkcnLCBEYXRhVmlzdWFsaXplci5HTE9CQUxfUFJFRklYLCB2YXJuYW1lKTtcbiAgICAgICAgICAgICAgICBteVZpei52YXJzSGlkZGVuLnB1c2goRGF0YVZpc3VhbGl6ZXIuR0xPQkFMX1BSRUZJWCArICc6JyArIHZhcm5hbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZ2V0IG91dCFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2YWwgPSBjdXJFbnRyeS5nbG9iYWxzW3Zhcm5hbWVdO1xuICAgICAgICAgICAgLy8gKHVzZSAnIT09JyB0byBkbyBhbiBFWEFDVCBtYXRjaCBhZ2FpbnN0IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCkgeyAvLyBtaWdodCBub3QgYmUgZGVmaW5lZCBhdCB0aGlzIGxpbmUsIHdoaWNoIGlzIE9LQVkhXG4gICAgICAgICAgICAgICAgcmVhbEdsb2JhbHNMc3QucHVzaCh2YXJuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBnbG9iYWxzSUQgPSBteVZpei5vd25lci5nZW5lcmF0ZUlEKCdnbG9iYWxzJyk7XG4gICAgICAgIHZhciBnbG9iYWxUYmxJRCA9IG15Vml6Lm93bmVyLmdlbmVyYXRlSUQoJ2dsb2JhbF90YWJsZScpO1xuICAgICAgICB2YXIgZ2xvYmFsVmFyVGFibGUgPSBteVZpei5kb21Sb290RDMuc2VsZWN0KCcjJyArIGdsb2JhbFRibElEKVxuICAgICAgICAgICAgLnNlbGVjdEFsbCgndHInKVxuICAgICAgICAgICAgLmRhdGEocmVhbEdsb2JhbHNMc3QsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkOyB9IC8vIHVzZSB2YXJpYWJsZSBuYW1lIGFzIGtleVxuICAgICAgICApO1xuICAgICAgICBnbG9iYWxWYXJUYWJsZVxuICAgICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RyJylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd2YXJpYWJsZVRyJylcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsIGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gbXlWaXoub3duZXIuZ2VuZXJhdGVJRCh2YXJuYW1lVG9Dc3NJRCgnZ2xvYmFsX18nICsgZCArICdfdHInKSk7IC8vIG1ha2UgZ2xvYmFsbHkgdW5pcXVlICh3aXRoaW4gdGhlIHBhZ2UpXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZ2xvYmFsVmFyVGFibGVDZWxscyA9IGdsb2JhbFZhclRhYmxlXG4gICAgICAgICAgICAuc2VsZWN0QWxsKCd0ZC5zdGFja0ZyYW1lVmFyLHRkLnN0YWNrRnJhbWVWYWx1ZScpXG4gICAgICAgICAgICAuZGF0YShmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gW2QsIGRdOyB9KTsgLyogbWFwIHZhcm5hbWUgZG93biBib3RoIGNvbHVtbnMgKi9cbiAgICAgICAgZ2xvYmFsVmFyVGFibGVDZWxscy5lbnRlcigpXG4gICAgICAgICAgICAuYXBwZW5kKCd0ZCcpXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gKGkgPT0gMCkgPyAnc3RhY2tGcmFtZVZhcicgOiAnc3RhY2tGcmFtZVZhbHVlJzsgfSk7XG4gICAgICAgIC8vIHJlbWVtYmVyIHRoYXQgdGhlIGVudGVyIHNlbGVjdGlvbiBpcyBhZGRlZCB0byB0aGUgdXBkYXRlXG4gICAgICAgIC8vIHNlbGVjdGlvbiBzbyB0aGF0IHdlIGNhbiBwcm9jZXNzIGl0IGxhdGVyIC4uLlxuICAgICAgICAvLyBVUERBVEVcbiAgICAgICAgZ2xvYmFsVmFyVGFibGVDZWxsc1xuICAgICAgICAgICAgLm9yZGVyKCkgLy8gVkVSWSBJTVBPUlRBTlQgdG8gcHV0IGluIHRoZSBvcmRlciBjb3JyZXNwb25kaW5nIHRvIGRhdGEgZWxlbWVudHNcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uICh2YXJuYW1lLCBpKSB7XG4gICAgICAgICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5odG1sKHZhcm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYWx3YXlzIGRlbGV0ZSBhbmQgcmUtcmVuZGVyIHRoZSBnbG9iYWwgdmFyIC4uLlxuICAgICAgICAgICAgICAgIC8vIE5COiB0cnlpbmcgdG8gY2FjaGUgYW5kIGNvbXBhcmUgdGhlIG9sZCB2YWx1ZSB1c2luZyxcbiAgICAgICAgICAgICAgICAvLyBzYXkgLS0gJCh0aGlzKS5hdHRyKCdkYXRhLWN1cnZhbHVlJywgdmFsU3RyaW5nUmVwcikgLS0gbGVhZHMgdG9cbiAgICAgICAgICAgICAgICAvLyBhIG15c3RlcmlvdXMgYW5kIGtpbGxlciBtZW1vcnkgbGVhayB0aGF0IEkgY2FuJ3QgZmlndXJlIG91dCB5ZXRcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHZhcm5hbWUgZG9lc24ndCBjb250YWluIGFueSB3ZWlyZFxuICAgICAgICAgICAgICAgIC8vIGNoYXJhY3RlcnMgdGhhdCBhcmUgaWxsZWdhbCBmb3IgQ1NTIElEJ3MgLi4uXG4gICAgICAgICAgICAgICAgdmFyIHZhckRpdklEID0gbXlWaXoub3duZXIuZ2VuZXJhdGVJRCgnZ2xvYmFsX18nICsgdmFybmFtZVRvQ3NzSUQodmFybmFtZSkpO1xuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gZ2V0IHJpZCBvZiB0aGUgb2xkIGNvbm5lY3RvciBpbiBwcmVwYXJhdGlvbiBmb3IgcmVuZGVyaW5nIGEgbmV3IG9uZTpcbiAgICAgICAgICAgICAgICBleGlzdGluZ0Nvbm5lY3Rpb25FbmRwb2ludElEcy5yZW1vdmUodmFyRGl2SUQpO1xuICAgICAgICAgICAgICAgIHZhciB2YWwgPSBjdXJFbnRyeS5nbG9iYWxzW3Zhcm5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChteVZpei5pc1ByaW1pdGl2ZVR5cGUodmFsKSkge1xuICAgICAgICAgICAgICAgICAgICBteVZpei5yZW5kZXJQcmltaXRpdmVPYmplY3QodmFsLCBjdXJJbnN0ciwgJCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbFswXSA9PT0gJ0NfU1RSVUNUJyB8fCB2YWxbMF0gPT09ICdDX0FSUkFZJyB8fCB2YWxbMF0gPT09ICdDX01VTFRJRElNRU5TSU9OQUxfQVJSQVknKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEMgc3RydWN0cyBhbmQgYXJyYXlzIGNhbiBiZSBpbmxpbmVkIGluIGZyYW1lc1xuICAgICAgICAgICAgICAgICAgICBteVZpei5yZW5kZXJDU3RydWN0QXJyYXkodmFsLCBjdXJJbnN0ciwgJCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGVhcE9iaklEID0gbXlWaXouZ2VuZXJhdGVIZWFwT2JqSUQoZ2V0UmVmSUQodmFsKSwgY3VySW5zdHIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobXlWaXoucGFyYW1zLnRleHR1YWxNZW1vcnlMYWJlbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbElEID0gdmFyRGl2SUQgKyAnX3RleHRfbGFiZWwnO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJvYmplY3RJZExhYmVsXCIgaWQ9XCInICsgbGFiZWxJRCArICdcIj5pZCcgKyBnZXRSZWZJRCh2YWwpICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCdkaXYjJyArIGxhYmVsSUQpLmhvdmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iSW5zdGFuY2UuY29ubmVjdCh7IHNvdXJjZTogbGFiZWxJRCwgdGFyZ2V0OiBoZWFwT2JqSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiAndmFyVmFsdWVQb2ludGVyJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iSW5zdGFuY2Uuc2VsZWN0KHsgc291cmNlOiBsYWJlbElEIH0pLmRldGFjaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBzdHViIHNvIHRoYXQgd2UgY2FuIGNvbm5lY3QgaXQgd2l0aCBhIGNvbm5lY3RvciBsYXRlci5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFIG5lZWRzIHRoaXMgZGl2IHRvIGJlIE5PTi1FTVBUWSBpbiBvcmRlciB0byBwcm9wZXJseVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVuZGVyIGpzUGx1bWIgZW5kcG9pbnRzLCBzbyB0aGF0J3Mgd2h5IHdlIGFkZCBhbiBcIiZuYnNwO1wiIVxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJzdGFja19wb2ludGVyXCIgaWQ9XCInICsgdmFyRGl2SUQgKyAnXCI+Jm5ic3A7PC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQoIW15Vml6LmpzUGx1bWJNYW5hZ2VyLmNvbm5lY3Rpb25FbmRwb2ludElEcy5oYXModmFyRGl2SUQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LmpzUGx1bWJNYW5hZ2VyLmNvbm5lY3Rpb25FbmRwb2ludElEcy5zZXQodmFyRGl2SUQsIGhlYXBPYmpJRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdTVEFDSy0+SEVBUCcsIHZhckRpdklELCBoZWFwT2JqSUQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZ2xvYmFsVmFyVGFibGVDZWxscy5leGl0KClcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uIChkLCBpZHgpIHtcbiAgICAgICAgICAgICQodGhpcykuZW1wdHkoKTsgLy8gY3J1Y2lhbCBmb3IgZ2FyYmFnZSBjb2xsZWN0aW5nIGpzUGx1bWIgY29ubmVjdG9ycyFcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZW1vdmUoKTtcbiAgICAgICAgZ2xvYmFsVmFyVGFibGUuZXhpdCgpXG4gICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoZCwgaSkge1xuICAgICAgICAgICAgLy8gZGV0YWNoIGFsbCBzdGFja19wb2ludGVyIGNvbm5lY3RvcnMgZm9yIGRpdnMgdGhhdCBhcmUgYmVpbmcgcmVtb3ZlZFxuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuc3RhY2tfcG9pbnRlcicpLmVhY2goZnVuY3Rpb24gKGksIHNwKSB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdDb25uZWN0aW9uRW5kcG9pbnRJRHMucmVtb3ZlKCQoc3ApLmF0dHIoJ2lkJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKHRoaXMpLmVtcHR5KCk7IC8vIGNydWNpYWwgZm9yIGdhcmJhZ2UgY29sbGVjdGluZyBqc1BsdW1iIGNvbm5lY3RvcnMhXG4gICAgICAgIH0pXG4gICAgICAgICAgICAucmVtb3ZlKCk7XG4gICAgICAgIC8vIGZvciBhZXN0aGV0aWNzLCBoaWRlIGdsb2JhbHMgaWYgdGhlcmUgYXJlbid0IGFueSBnbG9iYWxzIHRvIGRpc3BsYXlcbiAgICAgICAgaWYgKGN1ckVudHJ5Lm9yZGVyZWRfZ2xvYmFscy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyMnICsgZ2xvYmFsc0lEKS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnIycgKyBnbG9iYWxzSUQpLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBob2x5IGNvdywgdGhlIGQzIGNvZGUgZm9yIHN0YWNrIHJlbmRlcmluZyBpcyBBQlNPTFVURUxZIE5VVFMhXG4gICAgICAgIHZhciBzdGFja0RpdiA9IG15Vml6LmRvbVJvb3REMy5zZWxlY3QoJyNzdGFjaycpO1xuICAgICAgICAvLyBWRVJZIElNUE9SVEFOVCBmb3Igc2VsZWN0QWxsIHNlbGVjdG9yIHRvIGJlIFNVUEVSIHNwZWNpZmljIGhlcmUhXG4gICAgICAgIHZhciBzdGFja0ZyYW1lRGl2ID0gc3RhY2tEaXYuc2VsZWN0QWxsKCdkaXYuc3RhY2tGcmFtZSxkaXYuem9tYmllU3RhY2tGcmFtZScpXG4gICAgICAgICAgICAuZGF0YShjdXJFbnRyeS5zdGFja190b19yZW5kZXIsIGZ1bmN0aW9uIChmcmFtZSkge1xuICAgICAgICAgICAgLy8gVkVSWSBWRVJZIFZFUlkgSU1QT1JUQU5UIGZvciBwcm9wZXJseSBoYW5kbGluZyBjbG9zdXJlcyBhbmQgbmVzdGVkIGZ1bmN0aW9uc1xuICAgICAgICAgICAgLy8gKHNlZSB0aGUgYmFja2VuZCBjb2RlIGZvciBtb3JlIGRldGFpbHMpXG4gICAgICAgICAgICByZXR1cm4gZnJhbWUudW5pcXVlX2hhc2g7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgc2ZkRW50ZXIgPSBzdGFja0ZyYW1lRGl2LmVudGVyKClcbiAgICAgICAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gZC5pc196b21iaWUgPyAnem9tYmllU3RhY2tGcmFtZScgOiAnc3RhY2tGcmFtZSc7IH0pXG4gICAgICAgICAgICAuYXR0cignaWQnLCBmdW5jdGlvbiAoZCwgaSkge1xuICAgICAgICAgICAgcmV0dXJuIGQuaXNfem9tYmllID8gbXlWaXoub3duZXIuZ2VuZXJhdGVJRChcInpvbWJpZV9zdGFja1wiICsgaSlcbiAgICAgICAgICAgICAgICA6IG15Vml6Lm93bmVyLmdlbmVyYXRlSUQoXCJzdGFja1wiICsgaSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAvLyBIVE1MNSBjdXN0b20gZGF0YSBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAuYXR0cignZGF0YS1mcmFtZV9pZCcsIGZ1bmN0aW9uIChmcmFtZSwgaSkgeyByZXR1cm4gZnJhbWUuZnJhbWVfaWQ7IH0pXG4gICAgICAgICAgICAuYXR0cignZGF0YS1wYXJlbnRfZnJhbWVfaWQnLCBmdW5jdGlvbiAoZnJhbWUsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiAoZnJhbWUucGFyZW50X2ZyYW1lX2lkX2xpc3QubGVuZ3RoID4gMCkgPyBmcmFtZS5wYXJlbnRfZnJhbWVfaWRfbGlzdFswXSA6IG51bGw7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoZnJhbWUsIGkpIHtcbiAgICAgICAgICAgIGlmICghbXlWaXoucGFyYW1zLmRyYXdQYXJlbnRQb2ludGVycykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG9ubHkgcnVuIGlmIG15Vml6LnBhcmFtcy5kcmF3UGFyZW50UG9pbnRlcnMgaXMgdHJ1ZSAuLi5cbiAgICAgICAgICAgIHZhciBteV9DU1NfaWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKG15X0NTU19pZCwgJ0VOVEVSJyk7XG4gICAgICAgICAgICAvLyByZW5kZXIgYSBwYXJlbnQgcG9pbnRlciB3aG9zZSBTT1VSQ0Ugbm9kZSBpcyB0aGlzIGZyYW1lXG4gICAgICAgICAgICAvLyBpLmUuLCBjb25uZWN0IHRoaXMgZnJhbWUgdG8gcCwgd2hlcmUgdGhpcy5wYXJlbnRfZnJhbWVfaWQgPT0gcC5mcmFtZV9pZFxuICAgICAgICAgICAgLy8gKGlmIHRoaXMucGFyZW50X2ZyYW1lX2lkIGlzIG51bGwsIHRoZW4gcCBpcyB0aGUgZ2xvYmFsIGZyYW1lKVxuICAgICAgICAgICAgaWYgKGZyYW1lLnBhcmVudF9mcmFtZV9pZF9saXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50X2ZyYW1lX2lkID0gZnJhbWUucGFyZW50X2ZyYW1lX2lkX2xpc3RbMF07XG4gICAgICAgICAgICAgICAgLy8gdHJpY2t5IHR1cmtleSFcbiAgICAgICAgICAgICAgICAvLyBvayB0aGlzIGhhY2sganVzdCBIQVBQRU5TIHRvIHdvcmsgYnkgbHVjayAuLi4gdXN1YWxseSB0aGVyZSB3aWxsIG9ubHkgYmUgT05FIGZyYW1lXG4gICAgICAgICAgICAgICAgLy8gdGhhdCBtYXRjaGVzIHRoaXMgc2VsZWN0b3IsIGJ1dCBzb21ldGltZXMgbXVsdGlwbGUgZnJhbWVzIG1hdGNoLCBpbiB3aGljaCBjYXNlIHRoZVxuICAgICAgICAgICAgICAgIC8vIEZJTkFMIGZyYW1lIHdpbnMgb3V0IChzaW5jZSBwYXJlbnRQb2ludGVyQ29ubmVjdGlvbkVuZHBvaW50SURzIGlzIGEgbWFwIHdoZXJlIGVhY2hcbiAgICAgICAgICAgICAgICAvLyBrZXkgY2FuIGJlIG1hcHBlZCB0byBvbmx5IE9ORSB2YWx1ZSkuIGl0IHNvIGhhcHBlbnMgdGhhdCB0aGUgZmluYWwgZnJhbWUgd2lubmluZ1xuICAgICAgICAgICAgICAgIC8vIG91dCBsb29rcyBcImRlc2lyYWJsZVwiIGZvciBzb21lIG9mIHRoZSBjbG9zdXJlIHRlc3QgY2FzZXMgdGhhdCBJJ3ZlIHRyaWVkLiBidXRcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGNvZGUgaXMgcXVpdGUgYnJpdHRsZSA6KFxuICAgICAgICAgICAgICAgIG15Vml6LmRvbVJvb3QuZmluZCgnZGl2I3N0YWNrIFtkYXRhLWZyYW1lX2lkPScgKyBwYXJlbnRfZnJhbWVfaWQgKyAnXScpLmVhY2goZnVuY3Rpb24gKGksIGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudF9DU1NfaWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2Nvbm5lY3QnLCBteV9DU1NfaWQsIHBhcmVudF9DU1NfaWQpO1xuICAgICAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iTWFuYWdlci5wYXJlbnRQb2ludGVyQ29ubmVjdGlvbkVuZHBvaW50SURzLnNldChteV9DU1NfaWQsIHBhcmVudF9DU1NfaWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmVuZGVyIGEgcGFyZW50IHBvaW50ZXIgdG8gdGhlIGdsb2JhbCBmcmFtZVxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2Nvbm5lY3QnLCBteV9DU1NfaWQsIGdsb2JhbHNJRCk7XG4gICAgICAgICAgICAgICAgLy8gb25seSBkbyB0aGlzIGlmIHRoZXJlIGFyZSBhY3R1YWxseSBzb21lIGdsb2JhbCB2YXJpYWJsZXMgdG8gZGlzcGxheSAuLi5cbiAgICAgICAgICAgICAgICBpZiAoY3VyRW50cnkub3JkZXJlZF9nbG9iYWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbXlWaXouanNQbHVtYk1hbmFnZXIucGFyZW50UG9pbnRlckNvbm5lY3Rpb25FbmRwb2ludElEcy5zZXQobXlfQ1NTX2lkLCBnbG9iYWxzSUQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRyaWNreSB0dXJrZXk6IHJlbmRlciBwYXJlbnQgcG9pbnRlcnMgd2hvc2UgVEFSR0VUIG5vZGUgaXMgdGhpcyBmcmFtZS5cbiAgICAgICAgICAgIC8vIGkuZS4sIGZvciBhbGwgZnJhbWVzIGYgc3VjaCB0aGF0IGYucGFyZW50X2ZyYW1lX2lkID09IG15X2ZyYW1lX2lkLFxuICAgICAgICAgICAgLy8gY29ubmVjdCBmIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAgICAvLyAobWFrZSBzdXJlIG5vdCB0byBjb25mdXNlIGZyYW1lIElEcyB3aXRoIENTUyBJRHMhISEpXG4gICAgICAgICAgICB2YXIgbXlfZnJhbWVfaWQgPSBmcmFtZS5mcmFtZV9pZDtcbiAgICAgICAgICAgIG15Vml6LmRvbVJvb3QuZmluZCgnZGl2I3N0YWNrIFtkYXRhLXBhcmVudF9mcmFtZV9pZD0nICsgbXlfZnJhbWVfaWQgKyAnXScpLmVhY2goZnVuY3Rpb24gKGksIGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRfQ1NTX2lkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2Nvbm5lY3QnLCBjaGlsZF9DU1NfaWQsIG15X0NTU19pZCk7XG4gICAgICAgICAgICAgICAgbXlWaXouanNQbHVtYk1hbmFnZXIucGFyZW50UG9pbnRlckNvbm5lY3Rpb25FbmRwb2ludElEcy5zZXQoY2hpbGRfQ1NTX2lkLCBteV9DU1NfaWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZmRFbnRlclxuICAgICAgICAgICAgLmFwcGVuZCgnZGl2JylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdzdGFja0ZyYW1lSGVhZGVyJylcbiAgICAgICAgICAgIC5odG1sKGZ1bmN0aW9uIChmcmFtZSwgaSkge1xuICAgICAgICAgICAgLy8gcHJldHR5LXByaW50IGxhbWJkYXMgYW5kIGRpc3BsYXkgb3RoZXIgd2VpcmQgY2hhcmFjdGVyc1xuICAgICAgICAgICAgLy8gKG1pZ2h0IGNvbnRhaW4gJzwnIG9yICc+JyBmb3Igd2VpcmQgbmFtZXMgbGlrZSA8Z2VuZXhwcj4pXG4gICAgICAgICAgICB2YXIgZnVuY05hbWUgPSBodG1sc3BlY2lhbGNoYXJzKGZyYW1lLmZ1bmNfbmFtZSkucmVwbGFjZSgnJmx0O2xhbWJkYSZndDsnLCAnXFx1MDNiYicpO1xuICAgICAgICAgICAgdmFyIGhlYWRlckxhYmVsID0gZnVuY05hbWU7XG4gICAgICAgICAgICAvLyBvbmx5IGRpc3BsYXkgaWYgeW91J3JlIHNvbWVvbmUncyBwYXJlbnQgKHVubGVzcyBzaG93QWxsRnJhbWVMYWJlbHMpXG4gICAgICAgICAgICBpZiAoZnJhbWUuaXNfcGFyZW50IHx8IG15Vml6LnBhcmFtcy5zaG93QWxsRnJhbWVMYWJlbHMpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJMYWJlbCA9ICdmJyArIGZyYW1lLmZyYW1lX2lkICsgJzogJyArIGhlYWRlckxhYmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3B0aW9uYWwgKGJ0dywgdGhpcyBpc24ndCBhIENTUyBpZClcbiAgICAgICAgICAgIGlmIChmcmFtZS5wYXJlbnRfZnJhbWVfaWRfbGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudEZyYW1lSUQgPSBmcmFtZS5wYXJlbnRfZnJhbWVfaWRfbGlzdFswXTtcbiAgICAgICAgICAgICAgICBoZWFkZXJMYWJlbCA9IGhlYWRlckxhYmVsICsgJyBbcGFyZW50PWYnICsgcGFyZW50RnJhbWVJRCArICddJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG15Vml6LnBhcmFtcy5zaG93QWxsRnJhbWVMYWJlbHMpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJMYWJlbCA9IGhlYWRlckxhYmVsICsgJyBbcGFyZW50PUdsb2JhbF0nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhlYWRlckxhYmVsO1xuICAgICAgICB9KTtcbiAgICAgICAgc2ZkRW50ZXJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RhYmxlJylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdzdGFja0ZyYW1lVmFyVGFibGUnKTtcbiAgICAgICAgdmFyIHN0YWNrVmFyVGFibGUgPSBzdGFja0ZyYW1lRGl2XG4gICAgICAgICAgICAub3JkZXIoKSAvLyBWRVJZIElNUE9SVEFOVCB0byBwdXQgaW4gdGhlIG9yZGVyIGNvcnJlc3BvbmRpbmcgdG8gZGF0YSBlbGVtZW50c1xuICAgICAgICAgICAgLnNlbGVjdCgndGFibGUnKS5zZWxlY3RBbGwoJ3RyJylcbiAgICAgICAgICAgIC5kYXRhKGZ1bmN0aW9uIChmcmFtZSkge1xuICAgICAgICAgICAgaWYgKG15Vml6LmhpZGVWYXJzU2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIGluIGhpZGVWYXJzU2V0XG4gICAgICAgICAgICAgICAgdmFyIGZ1bmNfcHJlZml4XzEgPSBmcmFtZS5mdW5jX25hbWUgPyBmcmFtZS5mdW5jX25hbWUgOiBEYXRhVmlzdWFsaXplci5VTk5BTUVEX1BSRUZJWDtcbiAgICAgICAgICAgICAgICAvLyBhIGJpdCBpbmVmZmljaWVudCBzaW5jZSB3ZSBjYWxsIGZpbHRlciB0d2ljZSwgYnV0IHdoYXRldmVzIDopXG4gICAgICAgICAgICAgICAgdmFyIGhpZGRlblZhcm5hbWVzTHN0ID0gZnJhbWUub3JkZXJlZF92YXJuYW1lcy5maWx0ZXIoZnVuY3Rpb24gKHZhcm5hbWUpIHsgcmV0dXJuIG15Vml6LmluSGlkZVZhcnNTZXQoZnVuY19wcmVmaXhfMSwgdmFybmFtZSk7IH0pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZW5kZXIgSElESU5HJywgZnVuY19wcmVmaXhfMSwgaGlkZGVuVmFybmFtZXNMc3QpO1xuICAgICAgICAgICAgICAgIGhpZGRlblZhcm5hbWVzTHN0LmZvckVhY2goZnVuY3Rpb24gKGUpIHsgbXlWaXoudmFyc0hpZGRlbi5wdXNoKGZ1bmNfcHJlZml4XzEgKyAnOicgKyBlKTsgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyYW1lLm9yZGVyZWRfdmFybmFtZXNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAodmFybmFtZSkgeyByZXR1cm4gIW15Vml6LmluSGlkZVZhcnNTZXQoZnVuY19wcmVmaXhfMSwgdmFybmFtZSk7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHZhcm5hbWUpIHsgcmV0dXJuIHsgdmFybmFtZTogdmFybmFtZSwgZnJhbWU6IGZyYW1lIH07IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZWFjaCBsaXN0IGVsZW1lbnQgY29udGFpbnMgYSByZWZlcmVuY2UgdG8gdGhlIGVudGlyZSBmcmFtZVxuICAgICAgICAgICAgICAgIC8vIG9iamVjdCBhcyB3ZWxsIGFzIHRoZSB2YXJpYWJsZSBuYW1lXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogbG9vayBpbnRvIHdoZXRoZXIgd2UgY2FuIHVzZSBkMyBwYXJlbnQgbm9kZXMgdG8gYXZvaWRcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGhhY2sgLi4uIGh0dHA6Ly9ib3N0Lm9ja3Mub3JnL21pa2UvbmVzdC9cbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWUub3JkZXJlZF92YXJuYW1lcy5tYXAoZnVuY3Rpb24gKHZhcm5hbWUpIHsgcmV0dXJuIHsgdmFybmFtZTogdmFybmFtZSwgZnJhbWU6IGZyYW1lIH07IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgLy8gVE9ETzogd2h5IHdvdWxkIGQgZXZlciBiZSBudWxsPyE/IHdlaXJkXG4gICAgICAgICAgICBpZiAoZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkLnZhcm5hbWU7IC8vIHVzZSB2YXJpYWJsZSBuYW1lIGFzIGtleVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc3RhY2tWYXJUYWJsZVxuICAgICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RyJylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd2YXJpYWJsZVRyJylcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsIGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gbXlWaXoub3duZXIuZ2VuZXJhdGVJRCh2YXJuYW1lVG9Dc3NJRChkLmZyYW1lLnVuaXF1ZV9oYXNoICsgJ19fJyArIGQudmFybmFtZSArICdfdHInKSk7IC8vIG1ha2UgZ2xvYmFsbHkgdW5pcXVlICh3aXRoaW4gdGhlIHBhZ2UpXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgc3RhY2tWYXJUYWJsZUNlbGxzID0gc3RhY2tWYXJUYWJsZVxuICAgICAgICAgICAgLnNlbGVjdEFsbCgndGQuc3RhY2tGcmFtZVZhcix0ZC5zdGFja0ZyYW1lVmFsdWUnKVxuICAgICAgICAgICAgLmRhdGEoZnVuY3Rpb24gKGQsIGkpIHsgcmV0dXJuIFtkLCBkXSAvKiBtYXAgaWRlbnRpY2FsIGRhdGEgZG93biBib3RoIGNvbHVtbnMgKi87IH0pO1xuICAgICAgICBzdGFja1ZhclRhYmxlQ2VsbHMuZW50ZXIoKVxuICAgICAgICAgICAgLmFwcGVuZCgndGQnKVxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHsgcmV0dXJuIChpID09IDApID8gJ3N0YWNrRnJhbWVWYXInIDogJ3N0YWNrRnJhbWVWYWx1ZSc7IH0pO1xuICAgICAgICBzdGFja1ZhclRhYmxlQ2VsbHNcbiAgICAgICAgICAgIC5vcmRlcigpIC8vIFZFUlkgSU1QT1JUQU5UIHRvIHB1dCBpbiB0aGUgb3JkZXIgY29ycmVzcG9uZGluZyB0byBkYXRhIGVsZW1lbnRzXG4gICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoZCwgaSkge1xuICAgICAgICAgICAgdmFyIHZhcm5hbWUgPSBkLnZhcm5hbWU7XG4gICAgICAgICAgICB2YXIgZnJhbWUgPSBkLmZyYW1lO1xuICAgICAgICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICh2YXJuYW1lID09ICdfX3JldHVybl9fJylcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5odG1sKCc8c3BhbiBjbGFzcz1cInJldHZhbFwiPlJldHVybjxici8+dmFsdWU8L3NwYW4+Jyk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmh0bWwodmFybmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhbHdheXMgZGVsZXRlIGFuZCByZS1yZW5kZXIgdGhlIHN0YWNrIHZhciAuLi5cbiAgICAgICAgICAgICAgICAvLyBOQjogdHJ5aW5nIHRvIGNhY2hlIGFuZCBjb21wYXJlIHRoZSBvbGQgdmFsdWUgdXNpbmcsXG4gICAgICAgICAgICAgICAgLy8gc2F5IC0tICQodGhpcykuYXR0cignZGF0YS1jdXJ2YWx1ZScsIHZhbFN0cmluZ1JlcHIpIC0tIGxlYWRzIHRvXG4gICAgICAgICAgICAgICAgLy8gYSBteXN0ZXJpb3VzIGFuZCBraWxsZXIgbWVtb3J5IGxlYWsgdGhhdCBJIGNhbid0IGZpZ3VyZSBvdXQgeWV0XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5lbXB0eSgpO1xuICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB2YXJuYW1lIGFuZCBmcmFtZS51bmlxdWVfaGFzaCBkb24ndCBjb250YWluIGFueSB3ZWlyZFxuICAgICAgICAgICAgICAgIC8vIGNoYXJhY3RlcnMgdGhhdCBhcmUgaWxsZWdhbCBmb3IgQ1NTIElEJ3MgLi4uXG4gICAgICAgICAgICAgICAgdmFyIHZhckRpdklEID0gbXlWaXoub3duZXIuZ2VuZXJhdGVJRCh2YXJuYW1lVG9Dc3NJRChmcmFtZS51bmlxdWVfaGFzaCArICdfXycgKyB2YXJuYW1lKSk7XG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0byBnZXQgcmlkIG9mIHRoZSBvbGQgY29ubmVjdG9yIGluIHByZXBhcmF0aW9uIGZvciByZW5kZXJpbmcgYSBuZXcgb25lOlxuICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29ubmVjdGlvbkVuZHBvaW50SURzLnJlbW92ZSh2YXJEaXZJRCk7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IGZyYW1lLmVuY29kZWRfbG9jYWxzW3Zhcm5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChteVZpei5pc1ByaW1pdGl2ZVR5cGUodmFsKSkge1xuICAgICAgICAgICAgICAgICAgICBteVZpei5yZW5kZXJQcmltaXRpdmVPYmplY3QodmFsLCBjdXJJbnN0ciwgJCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbFswXSA9PT0gJ0NfU1RSVUNUJyB8fCB2YWxbMF0gPT09ICdDX0FSUkFZJyB8fCB2YWxbMF0gPT09ICdDX01VTFRJRElNRU5TSU9OQUxfQVJSQVknKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEMgc3RydWN0cyBhbmQgYXJyYXlzIGNhbiBiZSBpbmxpbmVkIGluIGZyYW1lc1xuICAgICAgICAgICAgICAgICAgICBteVZpei5yZW5kZXJDU3RydWN0QXJyYXkodmFsLCBjdXJJbnN0ciwgJCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGVhcE9iaklEID0gbXlWaXouZ2VuZXJhdGVIZWFwT2JqSUQoZ2V0UmVmSUQodmFsKSwgY3VySW5zdHIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobXlWaXoucGFyYW1zLnRleHR1YWxNZW1vcnlMYWJlbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbElEID0gdmFyRGl2SUQgKyAnX3RleHRfbGFiZWwnO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJvYmplY3RJZExhYmVsXCIgaWQ9XCInICsgbGFiZWxJRCArICdcIj5pZCcgKyBnZXRSZWZJRCh2YWwpICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCdkaXYjJyArIGxhYmVsSUQpLmhvdmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iSW5zdGFuY2UuY29ubmVjdCh7IHNvdXJjZTogbGFiZWxJRCwgdGFyZ2V0OiBoZWFwT2JqSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiAndmFyVmFsdWVQb2ludGVyJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iSW5zdGFuY2Uuc2VsZWN0KHsgc291cmNlOiBsYWJlbElEIH0pLmRldGFjaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBzdHViIHNvIHRoYXQgd2UgY2FuIGNvbm5lY3QgaXQgd2l0aCBhIGNvbm5lY3RvciBsYXRlci5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFIG5lZWRzIHRoaXMgZGl2IHRvIGJlIE5PTi1FTVBUWSBpbiBvcmRlciB0byBwcm9wZXJseVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVuZGVyIGpzUGx1bWIgZW5kcG9pbnRzLCBzbyB0aGF0J3Mgd2h5IHdlIGFkZCBhbiBcIiZuYnNwO1wiIVxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJzdGFja19wb2ludGVyXCIgaWQ9XCInICsgdmFyRGl2SUQgKyAnXCI+Jm5ic3A7PC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQoIW15Vml6LmpzUGx1bWJNYW5hZ2VyLmNvbm5lY3Rpb25FbmRwb2ludElEcy5oYXModmFyRGl2SUQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LmpzUGx1bWJNYW5hZ2VyLmNvbm5lY3Rpb25FbmRwb2ludElEcy5zZXQodmFyRGl2SUQsIGhlYXBPYmpJRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdTVEFDSy0+SEVBUCcsIHZhckRpdklELCBoZWFwT2JqSUQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc3RhY2tWYXJUYWJsZUNlbGxzLmV4aXQoKVxuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKGQsIGlkeCkge1xuICAgICAgICAgICAgJCh0aGlzKS5lbXB0eSgpOyAvLyBjcnVjaWFsIGZvciBnYXJiYWdlIGNvbGxlY3RpbmcganNQbHVtYiBjb25uZWN0b3JzIVxuICAgICAgICB9KVxuICAgICAgICAgICAgLnJlbW92ZSgpO1xuICAgICAgICBzdGFja1ZhclRhYmxlLmV4aXQoKVxuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKGQsIGkpIHtcbiAgICAgICAgICAgICQodGhpcykuZmluZCgnLnN0YWNrX3BvaW50ZXInKS5lYWNoKGZ1bmN0aW9uIChpLCBzcCkge1xuICAgICAgICAgICAgICAgIC8vIGRldGFjaCBhbGwgc3RhY2tfcG9pbnRlciBjb25uZWN0b3JzIGZvciBkaXZzIHRoYXQgYXJlIGJlaW5nIHJlbW92ZWRcbiAgICAgICAgICAgICAgICBleGlzdGluZ0Nvbm5lY3Rpb25FbmRwb2ludElEcy5yZW1vdmUoJChzcCkuYXR0cignaWQnKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQodGhpcykuZW1wdHkoKTsgLy8gY3J1Y2lhbCBmb3IgZ2FyYmFnZSBjb2xsZWN0aW5nIGpzUGx1bWIgY29ubmVjdG9ycyFcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZW1vdmUoKTtcbiAgICAgICAgc3RhY2tGcmFtZURpdi5leGl0KClcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uIChmcmFtZSwgaSkge1xuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuc3RhY2tfcG9pbnRlcicpLmVhY2goZnVuY3Rpb24gKGksIHNwKSB7XG4gICAgICAgICAgICAgICAgLy8gZGV0YWNoIGFsbCBzdGFja19wb2ludGVyIGNvbm5lY3RvcnMgZm9yIGRpdnMgdGhhdCBhcmUgYmVpbmcgcmVtb3ZlZFxuICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29ubmVjdGlvbkVuZHBvaW50SURzLnJlbW92ZSgkKHNwKS5hdHRyKCdpZCcpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG15X0NTU19pZCA9ICQodGhpcykuYXR0cignaWQnKTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2cobXlfQ1NTX2lkLCAnRVhJVCcpO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGFsbCBwb2ludGVycyB3aGVyZSBlaXRoZXIgdGhlIHNvdXJjZSBvciBkZXN0aW5hdGlvbiBlbmQgaXMgbXlfQ1NTX2lkXG4gICAgICAgICAgICBleGlzdGluZ1BhcmVudFBvaW50ZXJDb25uZWN0aW9uRW5kcG9pbnRJRHMuZm9yRWFjaChmdW5jdGlvbiAoaywgdikge1xuICAgICAgICAgICAgICAgIGlmIChrID09IG15X0NTU19pZCB8fCB2ID09IG15X0NTU19pZCkge1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdyZW1vdmUgRVBQJywgaywgdik7XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUGFyZW50UG9pbnRlckNvbm5lY3Rpb25FbmRwb2ludElEcy5yZW1vdmUoayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKHRoaXMpLmVtcHR5KCk7IC8vIGNydWNpYWwgZm9yIGdhcmJhZ2UgY29sbGVjdGluZyBqc1BsdW1iIGNvbm5lY3RvcnMhXG4gICAgICAgIH0pXG4gICAgICAgICAgICAucmVtb3ZlKCk7XG4gICAgICAgIC8vIFJpZ2h0d2FyZCBudWRnZSBoYWNrIHRvIG1ha2UgdHJlZS1saWtlIHN0cnVjdHVyZXMgbG9vayBtb3JlIHNhbmVcbiAgICAgICAgLy8gd2l0aG91dCBhbnkgc29waGlzdGljYXRlZCBncmFwaCByZW5kZXJpbmcgY29kZS4gVGhhbmtzIHRvIEpvaG5cbiAgICAgICAgLy8gRGVOZXJvIGZvciB0aGlzIHN1Z2dlc3Rpb24gaW4gRmFsbCAyMDEyLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGhhY2sgdHJpZXMgdG8gZW5zdXJlIHRoYXQgYWxsIHBvaW50ZXJzIHRoYXQgc3BhbiBkaWZmZXJlbnRcbiAgICAgICAgLy8gcm93cyBwb2ludCBSSUdIVFdBUkQgKGFzIG11Y2ggYXMgcG9zc2libGUpLCB3aGljaCBtYWtlcyB0cmVlLWxpa2VcbiAgICAgICAgLy8gc3RydWN0dXJlcyBsb29rIGRlY2VudC4gZS5nLiw6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIHQgPSBbW1snYScsICdiJ10sIFsnYycsICdkJ11dLCBbWzEsMl0sIFszLDRdXV1cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRG8gaXQgaGVyZSBzaW5jZSBhbGwgb2YgdGhlIGRpdnMgaGF2ZSBiZWVuIHJlbmRlcmVkIGJ5IG5vdywgYnV0IG5vXG4gICAgICAgIC8vIGpzUGx1bWIgYXJyb3dzIGhhdmUgYmVlbiByZW5kZXJlZCB5ZXQuXG4gICAgICAgIGlmIChyaWdodHdhcmROdWRnZUhhY2spIHtcbiAgICAgICAgICAgIC8vIEJhc2ljIGlkZWE6IGtlZXAgYSBzZXQgb2YgYWxsIG51ZGdlZCBST1dTIGZvciBlYWNoIG51ZGdlciByb3csIHNvXG4gICAgICAgICAgICAvLyB0aGF0IHdoZW4geW91IGdldCBudWRnZWQsIHlvdSBjYW4sIGluIHR1cm4sIG51ZGdlIGFsbCBvZiB0aGUgcm93c1xuICAgICAgICAgICAgLy8gdGhhdCB5b3UndmUgbnVkZ2VkLiB0aGlzIGFsZ29yaXRobSBuaWNlbHkgdGFrZXMgY2FyZSBvZiB0aGUgZmFjdFxuICAgICAgICAgICAgLy8gdGhhdCB0aGVyZSBtaWdodCBub3QgYmUgY3ljbGVzIGluIG9iamVjdHMgdGhhdCB5b3UndmUgbnVkZ2VkLCBidXRcbiAgICAgICAgICAgIC8vIHRoZXJlIGFyZSBjeWNsZXMgaW4gZW50aXJlIHJvd3MuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gS2V5OiAgIElEIG9mIC5oZWFwUm93IG9iamVjdCB0aGF0IGRpZCB0aGUgbnVkZ2luZ1xuICAgICAgICAgICAgLy8gVmFsdWU6IHNldCBvZiAuaGVhcFJvdyBJRCB0aGF0IHdlcmUgKHRyYW5zaXRpdmVseSkgbnVkZ2VkIGJ5IHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgLy8gICAgICAgIChyZXByZXNlbnRlZCBhcyBhIGQzLm1hcClcbiAgICAgICAgICAgIHZhciBudWRnZXJfdG9fbnVkZ2VkX3Jvd3MgPSB7fTtcbiAgICAgICAgICAgIC8vIFZFUlkgSU1QT1JUQU5UIHRvIHNvcnQgdGhlc2UgY29ubmVjdG9yIElEcyBpbiBhc2NlbmRpbmcgb3JkZXIsXG4gICAgICAgICAgICAvLyBzaW5jZSBJIHRoaW5rIHRoZXkncmUgcmVuZGVyZWQgbGVmdC10by1yaWdodCwgdG9wLXRvLWJvdHRvbSBpbiBJRFxuICAgICAgICAgICAgLy8gb3JkZXIsIHNvIHdlIHdhbnQgdG8gcnVuIHRoZSBudWRnaW5nIGFsZ29yaXRobSBpbiB0aGF0IHNhbWUgb3JkZXIuXG4gICAgICAgICAgICB2YXIgc3JjSGVhcENvbm5lY3RvcklEcyA9IG15Vml6LmpzUGx1bWJNYW5hZ2VyLmhlYXBDb25uZWN0aW9uRW5kcG9pbnRJRHMua2V5cygpO1xuICAgICAgICAgICAgc3JjSGVhcENvbm5lY3RvcklEcy5zb3J0KCk7XG4gICAgICAgICAgICAkLmVhY2goc3JjSGVhcENvbm5lY3RvcklEcywgZnVuY3Rpb24gKGksIHNyY0lEKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRzdElEID0gbXlWaXouanNQbHVtYk1hbmFnZXIuaGVhcENvbm5lY3Rpb25FbmRwb2ludElEcy5nZXQoc3JjSUQpO1xuICAgICAgICAgICAgICAgIHZhciBzcmNBbmNob3JPYmplY3QgPSBteVZpei5kb21Sb290LmZpbmQoJyMnICsgc3JjSUQpO1xuICAgICAgICAgICAgICAgIHZhciBzcmNIZWFwT2JqZWN0ID0gc3JjQW5jaG9yT2JqZWN0LmNsb3Nlc3QoJy5oZWFwT2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGRzdEFuY2hvck9iamVjdCA9IG15Vml6LmRvbVJvb3QuZmluZCgnIycgKyBkc3RJRCk7XG4gICAgICAgICAgICAgICAgdmFyIGRzdEhlYXBPYmplY3QgPSBkc3RBbmNob3JPYmplY3QuY2xvc2VzdCgnLmhlYXBPYmplY3QnKTtcbiAgICAgICAgICAgICAgICB2YXIgc3JjSGVhcFJvdyA9IHNyY0hlYXBPYmplY3QuY2xvc2VzdCgnLmhlYXBSb3cnKTtcbiAgICAgICAgICAgICAgICB2YXIgZHN0SGVhcFJvdyA9IGRzdEhlYXBPYmplY3QuY2xvc2VzdCgnLmhlYXBSb3cnKTtcbiAgICAgICAgICAgICAgICB2YXIgc3JjUm93SUQgPSBzcmNIZWFwUm93LmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICAgICAgdmFyIGRzdFJvd0lEID0gZHN0SGVhcFJvdy5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgY29uc2lkZXIgbnVkZ2luZyBpZiBzcmNJRCBhbmQgZHN0SUQgYXJlIG9uIGRpZmZlcmVudCByb3dzXG4gICAgICAgICAgICAgICAgaWYgKHNyY1Jvd0lEICE9IGRzdFJvd0lEKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcmNBbmNob3JMZWZ0ID0gc3JjQW5jaG9yT2JqZWN0Lm9mZnNldCgpLmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcmNIZWFwT2JqZWN0TGVmdCA9IHNyY0hlYXBPYmplY3Qub2Zmc2V0KCkubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRzdEhlYXBPYmplY3RMZWZ0ID0gZHN0SGVhcE9iamVjdC5vZmZzZXQoKS5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBzcmNBbmNob3JPYmplY3QgaXMgdG8gdGhlIFJJR0hUIG9mIGRzdEhlYXBPYmplY3QsIHRoZW4gbnVkZ2VcbiAgICAgICAgICAgICAgICAgICAgLy8gZHN0SGVhcE9iamVjdCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNyY0FuY2hvckxlZnQgPiBkc3RIZWFwT2JqZWN0TGVmdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW4gZXh0cmEgbnVkZ2Ugb2YgMzJweCBtYXRjaGVzIHVwIHByZXR0eSB3ZWxsIHdpdGggdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50IENTUyBwYWRkaW5nIGFyb3VuZCAudG9wbGV2ZWxIZWFwT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSAoc3JjQW5jaG9yTGVmdCAtIGRzdEhlYXBPYmplY3RMZWZ0KSArIDMyO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IG1hcmdpbiByYXRoZXIgdGhhbiBwYWRkaW5nIHNvIHRoYXQgYXJyb3dzIHRpcHMgc3RpbGwgZW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhdCB0aGUgbGVmdCBlZGdlIG9mIHRoZSBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hvYSwgc2V0IHJlbGF0aXZlIENTUyB1c2luZyArPSwgbmljZSFcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB0cmllZCBsb29raW5nIGludG8gc2V0dGluZyAnbGVmdCcgZGlyZWN0bHkgaW5zdGVhZCBvZlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJ21hcmdpbi1sZWZ0JywgYnV0IHNvbWVob3cgdGhlIHJlc3VsdHMgbG9vayBkaWZmZXJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGRzdEhlYXBPYmplY3QuY3NzKCdtYXJnaW4tbGVmdCcsICcrPScgKyBkZWx0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHNyY1Jvd0lELCAnbnVkZ2VkJywgZHN0Um93SUQsICdieScsIGRlbHRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJfbnVkZ2VlX3NldCA9IG51ZGdlcl90b19udWRnZWRfcm93c1tzcmNSb3dJRF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyX251ZGdlZV9zZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cl9udWRnZWVfc2V0ID0gZDMubWFwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVkZ2VyX3RvX251ZGdlZF9yb3dzW3NyY1Jvd0lEXSA9IGN1cl9udWRnZWVfc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyX251ZGdlZV9zZXQuc2V0KGRzdFJvd0lELCAxIC8qIHVzZWxlc3MgdmFsdWUgKi8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm93IGlmIGRzdFJvd0lEIGl0c2VsZiBudWRnZWQgc29tZSBvdGhlciBub2RlcywgdGhlbiBudWRnZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxsIG9mIGl0cyBudWRnZWVzIGJ5IGRlbHRhIGFzIHdlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkc3RfbnVkZ2VlX3NldCA9IG51ZGdlcl90b19udWRnZWRfcm93c1tkc3RSb3dJRF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHN0X251ZGdlZV9zZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3RfbnVkZ2VlX3NldC5mb3JFYWNoKGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IG51ZGdlIGlmIGl0J3MgeW91cnNlbGYsIHRvIG1ha2UgY3ljbGVzIGxvb2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc29tZXdoYXQgcmVhc29uYWJsZSAoYWx0aG91Z2ggc3RpbGwgbm90IGlkZWFsKS4gZS5nLiw6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgeCA9IFsxLDJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgeSA9IFszLHhdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgeFsxXSA9IHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGsgIT0gc3JjUm93SUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG51ZGdlIHRoaXMgZW50aXJlIFJPVyBieSBkZWx0YSBhcyB3ZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAyMDIwLTAyLTA1OiBPSyBpbnN0ZWFkIG9mIG51ZGdpbmcgdGhlIC5oZWFwUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvYmplY3QsIHdlIHdpbGwgdHJhdmVyc2UgaW5zaWRlIG9mIGl0IGFuZCBudWRnZSBhbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIGl0cyAuaGVhcE9iamVjdCBjaGlsZHJlbiB0aGF0IHJlc2lkZSBkaXJlY3RseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2l0aGluIC5oZWFwUm93ID4gLnRvcGxldmVsSGVhcE9iamVjdCA+IC5oZWFwT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2h5IGFyZSB3ZSBkb2luZyB0aGlzPyBiZWNhdXNlIHdlIHdhbnQgaXQgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludGVyYWN0IHdlbGwgd2l0aCBkcmFnZ2VkSGVhcE9iamVjdENTUyAuLi4gaWYgYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgaXMgZHJhZ2dlZCwgd2Ugd2FudCB0byByZXN0b3JlIGl0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FjaGVkIHBvc2l0aW9uIGZyb20gZHJhZ2dlZEhlYXBPYmplY3RDU1MsIHdoaWNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aWxsIG92ZXJyaWRlIGFsbCBudWRnZXMuIGlmIHdlIGhhZCBudWRnZWQgLmhlYXBSb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpa2Ugd2UgdXNlZCB0byBkbywgdGhlbiAuaGVhcFJvdyBtYXkgaXRzZWxmIGJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBudWRnZWQsIHdoaWNoIHdvdWxkIGtpbmQgb2Ygb3ZlcnJpZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRyYWdnZWRIZWFwT2JqZWN0Q1NTLCB3aGljaCBpcyBhcHBsaWVkIHRvIC5oZWFwT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb2xkIGNvZGU6IG51ZGdlIC5oZWFwUm93IGl0c2VsZiAuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbXlWaXouZG9tUm9vdC5maW5kKCcjJyArIGspLmNzcygnbWFyZ2luLWxlZnQnLCAnKz0nICsgZGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV3IGNvZGU6IG51ZGdlIGFsbCAuaGVhcE9iamVjdCBjaGlsZHJlbiBvZiAuaGVhcFJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKHdoaWNoIGlzIHNlcGFyYXRlZCBieSBhbiBpbnRlcm1lZGlhcnkgLnRvcGxldmVsSGVhcE9iamVjdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LmRvbVJvb3QuZmluZCgnIycgKyBrKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZHJlbignLnRvcGxldmVsSGVhcE9iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKCcuaGVhcE9iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNzcygnbWFyZ2luLWxlZnQnLCAnKz0nICsgZGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTkI6IHdoeSBkb24ndCB3ZSBqdXN0IHVzZSAuZmluZCgpIHRvIGRpcmVjdGx5IGdldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxsIC5oZWFwT2JqZWN0IGVsZW1lbnRzPyBiZWNhdXNlIHRoZXJlIGFyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc29tZXRpbWVzIC5oZWFwT2JqZWN0IHRoYXQgYXJlIG5lc3RlZCAqd2l0aGluKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXIgLmhlYXBPYmplY3QsIGFuZCB3ZSBkb24ndCB3YW50IHRvIHVubmVjZXNzYXJpbHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG51ZGdlIHRob3NlIC4uLiB0aHVzLCB3ZSBzdGljayB0byAudG9wbGV2ZWxIZWFwT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIHRyYW5zaXRpdmVseSBhZGQgdG8gZW50cnkgZm9yIHNyY1Jvd0lEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJfbnVkZ2VlX3NldC5zZXQoaywgMSAvKiB1c2VsZXNzIHZhbHVlICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTkI6IHVnaCwgSSdtIG5vdCB2ZXJ5IGhhcHB5IGFib3V0IHRoaXMgaGFjaywgYnV0IGl0IHNlZW1zIG5lY2Vzc2FyeVxuICAgICAgICAvLyBmb3IgZW1iZWRkaW5nIHdpdGhpbiBzb3BoaXN0aWNhdGVkIHdlYnBhZ2VzIHN1Y2ggYXMgSVB5dGhvbiBOb3RlYm9va1xuICAgICAgICAvLyBkZWxldGUgYWxsIGNvbm5lY3RvcnMuIGRvIHRoaXMgQVMgTEFURSBBUyBQT1NTSUJMRSBzbyB0aGF0XG4gICAgICAgIC8vIChwcmVzdW1hYmx5KSB0aGUgY2FsbHMgdG8gJCh0aGlzKS5lbXB0eSgpIGVhcmxpZXIgaW4gdGhpcyBmdW5jdGlvblxuICAgICAgICAvLyB3aWxsIHByb3Blcmx5IGdhcmJhZ2UgY29sbGVjdCB0aGUgY29ubmVjdG9yc1xuICAgICAgICAvL1xuICAgICAgICAvLyBXQVJOSU5HOiBmb3IgZW52aXJvbm1lbnQgcGFyZW50IHBvaW50ZXJzLCBnYXJiYWdlIGNvbGxlY3Rpb24gZG9lc24ndCBzZWVtIHRvXG4gICAgICAgIC8vIGJlIHdvcmtpbmcgYXMgaW50ZW5kZWQgOihcbiAgICAgICAgLy9cbiAgICAgICAgLy8gSSBzdXNwZWN0IHRoYXQgdGhpcyBpcyBkdWUgdG8gdGhlIGZhY3QgdGhhdCBwYXJlbnQgcG9pbnRlcnMgYXJlIFNJQkxJTkdTXG4gICAgICAgIC8vIG9mIHN0YWNrRnJhbWUgZGl2cyBhbmQgbm90IGNoaWxkcmVuLCBzbyB3aGVuIHN0YWNrRnJhbWUgZGl2cyBnZXQgZGVzdHJveWVkLFxuICAgICAgICAvLyB0aGVpciBhc3NvY2lhdGVkIHBhcmVudCBwb2ludGVycyBkbyBOT1QuKVxuICAgICAgICBteVZpei5qc1BsdW1iSW5zdGFuY2UucmVzZXQoKTtcbiAgICAgICAgLy8gdXNlIGpzUGx1bWIgc2NvcGVzIHRvIGtlZXAgdGhlIGRpZmZlcmVudCBraW5kcyBvZiBwb2ludGVycyBzZXBhcmF0ZWRcbiAgICAgICAgZnVuY3Rpb24gcmVuZGVyVmFyVmFsdWVDb25uZWN0b3IodmFySUQsIHZhbHVlSUQpIHtcbiAgICAgICAgICAgIC8vIHNwZWNpYWwtY2FzZSBoYW5kbGluZyBmb3IgQy9DKysgcG9pbnRlcnMsIGp1c3QgdG8ga2VlcCBmcm9tIHJvY2tpbmdcbiAgICAgICAgICAgIC8vIHRoZSBib2F0IG9uIG15IGV4aXN0aW5nIChiYXR0bGUtdGVzdGVkKSBjb2RlXG4gICAgICAgICAgICBpZiAobXlWaXouaXNDcHBNb2RlKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAobXlWaXouZG9tUm9vdC5maW5kKCcjJyArIHZhbHVlSUQpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iSW5zdGFuY2UuY29ubmVjdCh7IHNvdXJjZTogdmFySUQsIHRhcmdldDogdmFsdWVJRCwgc2NvcGU6ICd2YXJWYWx1ZVBvaW50ZXInIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcG9pbnRlciBpc24ndCBwb2ludGluZyB0byBhbnl0aGluZyB2YWxpZDsgcHV0IGEgcG9vIGVtb2ppIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgbXlWaXouZG9tUm9vdC5maW5kKCcjJyArIHZhcklEKS5odG1sKCdcXHVEODNEXFx1RENBOScgLyogcGlsZSBvZiBwb28gZW1vamkgKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG15Vml6LmpzUGx1bWJJbnN0YW5jZS5jb25uZWN0KHsgc291cmNlOiB2YXJJRCwgdGFyZ2V0OiB2YWx1ZUlELCBzY29wZTogJ3ZhclZhbHVlUG9pbnRlcicgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvdGFsUGFyZW50UG9pbnRlcnNSZW5kZXJlZCA9IDA7XG4gICAgICAgIGZ1bmN0aW9uIHJlbmRlclBhcmVudFBvaW50ZXJDb25uZWN0b3Ioc3JjSUQsIGRzdElEKSB7XG4gICAgICAgICAgICAvLyBTVVBFUi1EVVBFUi11Z2x5IGhhY2sgc2luY2UgSSBjYW4ndCBmaWd1cmUgb3V0IGEgY2xlYW5lciBzb2x1dGlvbiBmb3Igbm93OlxuICAgICAgICAgICAgLy8gaWYgZWl0aGVyIHNyY0lEIG9yIGRzdElEIG5vIGxvbmdlciBleGlzdHMsIHRoZW4gU0tJUCByZW5kZXJpbmcgLi4uXG4gICAgICAgICAgICBpZiAoKG15Vml6LmRvbVJvb3QuZmluZCgnIycgKyBzcmNJRCkubGVuZ3RoID09IDApIHx8XG4gICAgICAgICAgICAgICAgKG15Vml6LmRvbVJvb3QuZmluZCgnIycgKyBkc3RJRCkubGVuZ3RoID09IDApKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygncmVuZGVyUGFyZW50UG9pbnRlckNvbm5lY3RvcjonLCBzcmNJRCwgZHN0SUQpO1xuICAgICAgICAgICAgbXlWaXouanNQbHVtYkluc3RhbmNlLmNvbm5lY3QoeyBzb3VyY2U6IHNyY0lELCB0YXJnZXQ6IGRzdElELFxuICAgICAgICAgICAgICAgIGFuY2hvcnM6IFtcIkxlZnRNaWRkbGVcIiwgXCJMZWZ0TWlkZGxlXCJdLFxuICAgICAgICAgICAgICAgIC8vICdob3Jpem9udGFsbHkgb2Zmc2V0JyB0aGUgcGFyZW50IHBvaW50ZXJzIHVwIHNvIHRoYXQgdGhleSBkb24ndCBsb29rIGFzIHVnbHkgLi4uXG4gICAgICAgICAgICAgICAgLy9jb25uZWN0b3I6IFtcIkZsb3djaGFydFwiLCB7IHN0dWI6IDkgKyAoNiAqICh0b3RhbFBhcmVudFBvaW50ZXJzUmVuZGVyZWQgKyAxKSkgfV0sXG4gICAgICAgICAgICAgICAgLy8gYWN0dWFsbHkgbGV0J3MgdHJ5IGEgYmV6aWVyIGN1cnZlIC4uLlxuICAgICAgICAgICAgICAgIGNvbm5lY3RvcjogW1wiQmV6aWVyXCIsIHsgY3VydmluZXNzOiA0NSB9XSxcbiAgICAgICAgICAgICAgICBlbmRwb2ludDogW1wiRG90XCIsIHsgcmFkaXVzOiA0IH1dLFxuICAgICAgICAgICAgICAgIC8vaG92ZXJQYWludFN0eWxlOiB7bGluZVdpZHRoOiAxLCBzdHJva2VTdHlsZTogY29ubmVjdG9ySW5hY3RpdmVDb2xvcn0sIC8vIG5vIGhvdmVyIGNvbG9yc1xuICAgICAgICAgICAgICAgIHNjb3BlOiAnZnJhbWVQYXJlbnRQb2ludGVyJyB9KTtcbiAgICAgICAgICAgIHRvdGFsUGFyZW50UG9pbnRlcnNSZW5kZXJlZCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbXlWaXoucGFyYW1zLnRleHR1YWxNZW1vcnlMYWJlbHMpIHtcbiAgICAgICAgICAgIC8vIHJlLXJlbmRlciBleGlzdGluZyBjb25uZWN0b3JzIGFuZCB0aGVuIC4uLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIE5COiBpbiBDL0MrKyBtb2RlLCB0byBrZWVwIHRoaW5ncyBzaW1wbGUsIGRvbid0IHRyeSB0byByZWRyYXdcbiAgICAgICAgICAgIC8vIGV4aXN0aW5nQ29ubmVjdGlvbkVuZHBvaW50SURzIHNpbmNlIHdlIHdhbnQgdG8gcmVkcmF3IGFsbCBhcnJvd3NcbiAgICAgICAgICAgIC8vIGVhY2ggYW5kIGV2ZXJ5IHRpbWUuXG4gICAgICAgICAgICBpZiAoIW15Vml6LmlzQ3BwTW9kZSgpKSB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdDb25uZWN0aW9uRW5kcG9pbnRJRHMuZm9yRWFjaChyZW5kZXJWYXJWYWx1ZUNvbm5lY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhZGQgYWxsIHRoZSBORVcgY29ubmVjdG9ycyB0aGF0IGhhdmUgYXJpc2VuIGluIHRoaXMgY2FsbCB0byByZW5kZXJEYXRhU3RydWN0dXJlc1xuICAgICAgICAgICAgbXlWaXouanNQbHVtYk1hbmFnZXIuY29ubmVjdGlvbkVuZHBvaW50SURzLmZvckVhY2gocmVuZGVyVmFyVmFsdWVDb25uZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRvIHRoZSBzYW1lIGZvciBlbnZpcm9ubWVudCBwYXJlbnQgcG9pbnRlcnNcbiAgICAgICAgaWYgKG15Vml6LnBhcmFtcy5kcmF3UGFyZW50UG9pbnRlcnMpIHtcbiAgICAgICAgICAgIGV4aXN0aW5nUGFyZW50UG9pbnRlckNvbm5lY3Rpb25FbmRwb2ludElEcy5mb3JFYWNoKHJlbmRlclBhcmVudFBvaW50ZXJDb25uZWN0b3IpO1xuICAgICAgICAgICAgbXlWaXouanNQbHVtYk1hbmFnZXIucGFyZW50UG9pbnRlckNvbm5lY3Rpb25FbmRwb2ludElEcy5mb3JFYWNoKHJlbmRlclBhcmVudFBvaW50ZXJDb25uZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgIG15Vml6LmpzUGx1bWJJbnN0YW5jZS5zZWxlY3QoKS5lYWNoKGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQ09OTjonLCBjLnNvdXJjZUlkLCBjLnRhcmdldElkKTtcbiAgICAgICAgfSk7XG4gICAgICAgICovXG4gICAgICAgIC8vY29uc29sZS5sb2coJy0tLScsIG15Vml6LmpzUGx1bWJJbnN0YW5jZS5zZWxlY3QoKS5sZW5ndGgsICctLS0nKTtcbiAgICAgICAgZnVuY3Rpb24gaGlnaGxpZ2h0X2ZyYW1lKGZyYW1lSUQpIHtcbiAgICAgICAgICAgIG15Vml6LmpzUGx1bWJJbnN0YW5jZS5zZWxlY3QoKS5lYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgICAgLy8gZmluZCB0aGUgZW5jbG9zaW5nIC5zdGFja0ZyYW1lIC4uLlxuICAgICAgICAgICAgICAgIHZhciBzdGFja0ZyYW1lRGl2ID0gYy5zb3VyY2UuY2xvc2VzdCgnLnN0YWNrRnJhbWUnKTtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGNvbm5lY3RvciBzdGFydHMgaW4gdGhlIHNlbGVjdGVkIHN0YWNrIGZyYW1lIC4uLlxuICAgICAgICAgICAgICAgIGlmIChzdGFja0ZyYW1lRGl2LmF0dHIoJ2lkJykgPT0gZnJhbWVJRCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIEhJR0hMSUdIVCBJVCFcbiAgICAgICAgICAgICAgICAgICAgYy5zZXRQYWludFN0eWxlKHsgbGluZVdpZHRoOiAxLCBzdHJva2VTdHlsZTogY29ubmVjdG9yQmFzZUNvbG9yIH0pO1xuICAgICAgICAgICAgICAgICAgICBjLmVuZHBvaW50c1swXS5zZXRQYWludFN0eWxlKHsgZmlsbFN0eWxlOiBjb25uZWN0b3JCYXNlQ29sb3IgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vYy5lbmRwb2ludHNbMV0uc2V0VmlzaWJsZShmYWxzZSwgdHJ1ZSwgdHJ1ZSk7IC8vIEpVU1Qgc2V0IHJpZ2h0IGVuZHBvaW50IHRvIGJlIGludmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICAkKGMuY2FudmFzKS5jc3MoXCJ6LWluZGV4XCIsIDEwMDApOyAvLyAuLi4gYW5kIG1vdmUgaXQgdG8gdGhlIFZFUlkgRlJPTlRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZm9yIGhlYXAtPmhlYXAgY29ubmVjdG9yc1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG15Vml6LmpzUGx1bWJNYW5hZ2VyLmhlYXBDb25uZWN0aW9uRW5kcG9pbnRJRHMuaGFzKGMuZW5kcG9pbnRzWzBdLmVsZW1lbnRJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTk9QIHNpbmNlIGl0J3MgYWxyZWFkeSB0aGUgY29sb3IgYW5kIHN0eWxlIHdlIHNldCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IG1heWJlIHRoaXMgbmVlZHMgc3BlY2lhbCBjb25zaWRlcmF0aW9uIGZvciBDL0MrKyBjb2RlPyBkdW5ub1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YWNrRnJhbWVEaXYubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbHNlIHVuaGlnaGxpZ2h0IGl0XG4gICAgICAgICAgICAgICAgICAgIC8vIChvbmx5IGlmIGMuc291cmNlIGFjdHVhbGx5IGJlbG9uZ3MgdG8gYSBzdGFja0ZyYW1lRGl2IChpLmUuLFxuICAgICAgICAgICAgICAgICAgICAvLyAgaXQgb3JpZ2luYXRlZCBmcm9tIHRoZSBzdGFjaykuIGZvciBpbnN0YW5jZSwgaW4gQyB0aGVyZSBhcmVcbiAgICAgICAgICAgICAgICAgICAgLy8gIGhlYXAgcG9pbnRlcnMsIGJ1dCB3ZSBkb2Vzbid0IHVzZSBoZWFwQ29ubmVjdGlvbkVuZHBvaW50SURzXG4gICAgICAgICAgICAgICAgICAgIC8vICBOQjogMjAyMC0wMi0wNCAtIHVwZ3JhZGVkIEMvQysrIHRvIHVzZSBoZWFwQ29ubmVjdGlvbkVuZHBvaW50SURzIClcbiAgICAgICAgICAgICAgICAgICAgYy5zZXRQYWludFN0eWxlKHsgbGluZVdpZHRoOiAxLCBzdHJva2VTdHlsZTogY29ubmVjdG9ySW5hY3RpdmVDb2xvciB9KTtcbiAgICAgICAgICAgICAgICAgICAgYy5lbmRwb2ludHNbMF0uc2V0UGFpbnRTdHlsZSh7IGZpbGxTdHlsZTogY29ubmVjdG9ySW5hY3RpdmVDb2xvciB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy9jLmVuZHBvaW50c1sxXS5zZXRWaXNpYmxlKGZhbHNlLCB0cnVlLCB0cnVlKTsgLy8gSlVTVCBzZXQgcmlnaHQgZW5kcG9pbnQgdG8gYmUgaW52aXNpYmxlXG4gICAgICAgICAgICAgICAgICAgICQoYy5jYW52YXMpLmNzcyhcInotaW5kZXhcIiwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBjbGVhciBldmVyeXRoaW5nLCB0aGVuIGp1c3QgYWN0aXZhdGUgdGhpcyBvbmUgLi4uXG4gICAgICAgICAgICBteVZpei5kb21Sb290LmZpbmQoXCIuc3RhY2tGcmFtZVwiKS5yZW1vdmVDbGFzcyhcImhpZ2hsaWdodGVkU3RhY2tGcmFtZVwiKTtcbiAgICAgICAgICAgIG15Vml6LmRvbVJvb3QuZmluZCgnIycgKyBmcmFtZUlEKS5hZGRDbGFzcyhcImhpZ2hsaWdodGVkU3RhY2tGcmFtZVwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBoaWdobGlnaHQgdGhlIHRvcC1tb3N0IG5vbi16b21iaWUgc3RhY2sgZnJhbWUgb3IsIGlmIG5vdCBhdmFpbGFibGUsIGdsb2JhbHNcbiAgICAgICAgdmFyIGZyYW1lX2FscmVhZHlfaGlnaGxpZ2h0ZWQgPSBmYWxzZTtcbiAgICAgICAgJC5lYWNoKGN1ckVudHJ5LnN0YWNrX3RvX3JlbmRlciwgZnVuY3Rpb24gKGksIGUpIHtcbiAgICAgICAgICAgIGlmIChlLmlzX2hpZ2hsaWdodGVkKSB7XG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0X2ZyYW1lKG15Vml6Lm93bmVyLmdlbmVyYXRlSUQoJ3N0YWNrJyArIGkpKTtcbiAgICAgICAgICAgICAgICBmcmFtZV9hbHJlYWR5X2hpZ2hsaWdodGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghZnJhbWVfYWxyZWFkeV9oaWdobGlnaHRlZCkge1xuICAgICAgICAgICAgaGlnaGxpZ2h0X2ZyYW1lKG15Vml6Lm93bmVyLmdlbmVyYXRlSUQoJ2dsb2JhbHMnKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgY3VzdG9taXplVml6T3B0aW9uc1Nob3duIC4uLlxuICAgICAgICAvLyB1c2UgalF1ZXJ5VUkncyBkcmFnZ2FibGUgdG8gbWFrZSBhbGwgaGVhcCBvYmplY3RzIGNvbnRhaW5lZFxuICAgICAgICAvLyB3aXRoaW4gWU9VUlNFTEYgZHJhZ2dhYmxlIChOQjogdXNlIG15Vml6LmRvbVJvb3QuZmluZCgpIGFuZCAqbm90KlxuICAgICAgICAvLyAkKCkgc2luY2UgdGhlIGxhdHRlciBtYXkgc2VsZWN0IGhlYXAgb2JqZWN0cyBiZWxvbmdpbmcgdG8gT1RIRVJcbiAgICAgICAgLy8gRXhlY3V0aW9uVmlzdWFsaXplciBvYmplY3RzIG9uIHBhZ2UhKVxuICAgICAgICB2YXIgbmVlZFRvUmVkcmF3Q29ubmVjdG9ycyA9IGZhbHNlO1xuICAgICAgICBteVZpei5kb21Sb290LmZpbmQoJy5oZWFwT2JqZWN0JykuZWFjaChmdW5jdGlvbiAoaSwgZSkge1xuICAgICAgICAgICAgLy8gdmVyeSBzdWJ0bGU6IGlmIHRoaXMgaXMgYSAuaGVhcE9iamVjdCB0aGF0J3MgKm5lc3RlZCogd2l0aGluXG4gICAgICAgICAgICAvLyBhbm90aGVyIG9uZSwgdGhlbiBkb24ndCBtYWtlIGl0IGRyYWdnYWJsZSwgc2luY2UgaXQncyB3ZWlyZCB0b1xuICAgICAgICAgICAgLy8gYmUgYWJsZSB0byBkcmFnIGEgbmVzdGVkIG9iamVjdCBpbnNpZGUgb2YgaXRzIHBhcmVudCBvYmplY3Q7IGluXG4gICAgICAgICAgICAvLyBvdGhlciB3b3Jkcywgd2Ugd2FudCB0byBkcmFnIG9ubHkgLnRvcGxldmVsSGVhcE9iamVjdCwgYnV0IGl0J3NcbiAgICAgICAgICAgIC8vIGNsZWFuZXIgdG8gbWFrZSB0aGUgLmhlYXBPYmplY3QgZWxlbWVudCBkcmFnZ2FibGUgYW5kIG5vdCB0aGVcbiAgICAgICAgICAgIC8vIC50b3BsZXZlbEhlYXBPYmplY3QgZWxlbWVudFxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIG5vdGUgdGhhdCB0aGlzIGNvZGUgbWF5IGJyZWFrIGlmIHdlJ3JlIG5lc3RpbmcgYW4gZW50aXJlXG4gICAgICAgICAgICAvLyBFeGVjdXRpb25WaXN1YWxpemVyIGluc3RhbmNlIGluc2lkZSB0aGUgLmhlYXBPYmplY3Qgb2YgYW5vdGhlclxuICAgICAgICAgICAgLy8gRXhlY3V0aW9uVmlzdWFsaXplciBzbyB0aGF0IGV2ZXJ5IC5oZWFwT2JqZWN0IGluIHRoZSBpbm5lciBvbmUgaXNcbiAgICAgICAgICAgIC8vIGFjdHVhbGx5IGluIHRoZSBvdXRlciBvbmUsIGJ1dCBpIGRvbid0IHNlZSB3aG8gd291bGQgYWN0dWFsbHkgZG8gdGhhdCFcbiAgICAgICAgICAgIGlmICgkKGUpLnBhcmVudHMoJy5oZWFwT2JqZWN0JykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2V0IGEgY3VzdG9tIHBvc2l0aW9uIGlmIG9uZSB3YXMgZm91bmQgaW4gZHJhZ2dlZEhlYXBPYmplY3RDU1MgLi4uXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgdG8gZG8gdGhpcyBhZnRlciBhcHBseWluZyByaWdodHdhcmROdWRnZUhhY2sgc28gdGhhdFxuICAgICAgICAgICAgLy8gd2Ugb3ZlcnJpZGUgdGhlIHBvc2l0aW9ucyBvZiBhbnkgbnVkZ2VkIGVsZW1lbnRzIHdpdGggb25lcyBmcm9tXG4gICAgICAgICAgICAvLyBkcmFnZ2VkSGVhcE9iamVjdENTU1xuICAgICAgICAgICAgdmFyIHNhdmVkRHJhZ2dlZENTUyA9IG15Vml6LmRyYWdnZWRIZWFwT2JqZWN0Q1NTLmdldCgkKGUpLmF0dHIoJ2lkJykpO1xuICAgICAgICAgICAgaWYgKHNhdmVkRHJhZ2dlZENTUykge1xuICAgICAgICAgICAgICAgICQoZSkuYXR0cignc3R5bGUnLCBzYXZlZERyYWdnZWRDU1MpO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ0dPVCBQT1NJVElPTiBGUk9NIENBQ0hFIScsICQoZSkuYXR0cignaWQnKSk7XG4gICAgICAgICAgICAgICAgbmVlZFRvUmVkcmF3Q29ubmVjdG9ycyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAyMDIwLTAyLTA2OiBvbmx5IG1ha2UgZHJhZ2dhYmxlKCkgaWYgY3VzdG9taXplVml6T3B0aW9uc1Nob3duXG4gICAgICAgICAgICAvLyAoaS5lLiwgd2hlbiB0aGUgdXNlciBoYXMgY2xpY2tlZCBcIkN1c3RvbWl6ZSB2aXN1YWxpemF0aW9uXCIgc28gdGhhdFxuICAgICAgICAgICAgLy8gdGhleSBwdXJwb3NlbHkgd2FudCB0byBjdXN0b21pemUgLi4uIHdlIGRvIHRoaXMgdG8gYmUgY29uc2VydmF0aXZlXG4gICAgICAgICAgICAvLyBzbyBhcyBub3QgdG8gcm9jayB0aGUgYm9hdCBiZWNhdXNlIGkgaGF2ZW4ndCB0ZXN0ZWQgZHJhZ2dhYmxlKClcbiAgICAgICAgICAgIC8vIHdpZGVseSB5ZXQpXG4gICAgICAgICAgICBpZiAobXlWaXoub3duZXIubmF2Q29udHJvbHMuY3VzdG9taXplVml6T3B0aW9uc1Nob3duKSB7XG4gICAgICAgICAgICAgICAgJChlKS5jc3MoJ2N1cnNvcicsICdwb2ludGVyJykgLy8gbWFrZSB0aGUgY3Vyc29yIGEgaGFuZCB3aGVuIHlvdSBob3ZlciBvdmVyIGl0XG4gICAgICAgICAgICAgICAgICAgIC5kcmFnZ2FibGUoe1xuICAgICAgICAgICAgICAgICAgICBkcmFnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkZWJvdW5jZSB0byBwcmV2ZW50IGV4Y2Vzc2l2ZSByZXBhaW50cywgd2hpY2ggY2FuIGdldCBzdXBlci1zbG93XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmRvVGltZW91dCgnaGVhcE9iamVjdERyYWcnLCAxMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkcmFnJyk7IC8vIHRvIG1ha2Ugc3VyZSB3ZSdyZSBub3QgYWRkaW5nIHRvbyBtYW55IGNhbGxiYWNrc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LnJlZHJhd0Nvbm5lY3RvcnMoKTsgLy8gcmVkcmF3IGFsbCBhcnJvd3Mgd2hlbmV2ZXIgeW91IGRyYWchXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlWaXoucmVkcmF3Q29ubmVjdG9ycygpOyAvLyByZWRyYXcgYWxsIGFycm93cyB3aGVuIHlvdSBkcmFnIHN0b3BzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1bnNldCB3aWR0aCBhbmQgaGVpZ2h0IGZpZWxkcyBzaW5jZSB0aG9zZSBkb24ndCBzZWVtXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZWxldmFudCBhbmQgd2UgZG9uJ3Qgd2FudCB0byBzYXZlIHRoZW0gaW4gZHJhZ2dlZENTU1xuICAgICAgICAgICAgICAgICAgICAgICAgJChlKS5jc3MoJ3dpZHRoJywgJycpLmNzcygnaGVpZ2h0JywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2F2ZSB5b3VyIGN1cnJlbnQgQ1NTLCB3aGljaCBoYXMgeW91ciBjdXN0b20gcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICQoZSkuZGF0YSgnZHJhZ2dlZENTUycsICQoZSkuYXR0cignc3R5bGUnKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBzaG93IHdoaWNoIHZhcmlhYmxlcy9maWVsZHMgd2VyZSBhY3R1YWxseSBoaWRkZW4gZHVyaW5nIHRoaXMgY2FsbFxuICAgICAgICAvLyB0byByZW5kZXJEYXRhU3RydWN0dXJlczpcbiAgICAgICAgaWYgKG15Vml6Lm93bmVyLm5hdkNvbnRyb2xzLmN1c3RvbWl6ZVZpek9wdGlvbnNTaG93bikge1xuICAgICAgICAgICAgbmVlZFRvUmVkcmF3Q29ubmVjdG9ycyA9IHRydWU7IC8vIGFsd2F5cyByZWRyYXchIFRPRE86IHdpbGwgdGhpcyBnZXQgaW5lZmZpY2llbnQ/IT9cbiAgICAgICAgICAgIHZhciBzaHMgPSB0aGlzLmRvbVJvb3QuZmluZCgnI3NlbGVjdGl2ZUhpZGVTdGF0dXMnKTtcbiAgICAgICAgICAgIHNocy5lbXB0eSgpOyAvLyBBTFdBWVMgc3RhcnQgZnJvbSBzY3JhdGNoIGVhY2ggdGltZSFcbiAgICAgICAgICAgIGlmIChteVZpei52YXJzSGlkZGVuLmxlbmd0aCA+IDAgfHwgbXlWaXouZmllbGRzSGlkZGVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBwcmludGluZyBoaWRkZW4gdmFycy9maWVsZHMgbWF5IG1vdmUgZWxlbWVudHMgaW4gdGhlIGhlYXAgdmlzdWFsaXphdGlvblxuICAgICAgICAgICAgICAgIGlmIChteVZpei52YXJzSGlkZGVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBkdXBsaWNhdGVzOlxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFyc0hpZGRlbk5vRHVwc18xID0gW107XG4gICAgICAgICAgICAgICAgICAgIG15Vml6LnZhcnNIaWRkZW4uZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcnNIaWRkZW5Ob0R1cHNfMS5pbmRleE9mKGUpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcnNIaWRkZW5Ob0R1cHNfMS5wdXNoKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2hzLmFwcGVuZChcIkhpZGRlbiB2YXJpYWJsZXM6IFwiICsgdmFybGlzdFRvSHRtbCh2YXJzSGlkZGVuTm9EdXBzXzEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG15Vml6LmZpZWxkc0hpZGRlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgZHVwbGljYXRlczpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkc0hpZGRlbk5vRHVwc18xID0gW107XG4gICAgICAgICAgICAgICAgICAgIG15Vml6LmZpZWxkc0hpZGRlbi5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGRzSGlkZGVuTm9EdXBzXzEuaW5kZXhPZihlKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHNIaWRkZW5Ob0R1cHNfMS5wdXNoKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2hzLmFwcGVuZChcIjxici8+SGlkZGVuIG9iamVjdCBmaWVsZHM6IFwiICsgdmFybGlzdFRvSHRtbChmaWVsZHNIaWRkZW5Ob0R1cHNfMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmVlZFRvUmVkcmF3Q29ubmVjdG9ycykge1xuICAgICAgICAgICAgbXlWaXoucmVkcmF3Q29ubmVjdG9ycygpO1xuICAgICAgICB9XG4gICAgICAgIG15Vml6Lm93bmVyLnRyeV9ob29rKFwiZW5kX3JlbmRlckRhdGFTdHJ1Y3R1cmVzXCIsIHsgbXlWaXo6IG15Vml6Lm93bmVyIC8qIHRyaWNreSEgdXNlIG93bmVyIHRvIGJlIHNhZmUgKi8gfSk7XG4gICAgfTtcbiAgICAvLyByZW5kZXJpbmcgZnVuY3Rpb25zLCB3aGljaCBhbGwgdGFrZSBhIGQzIGRvbSBlbGVtZW50IHRvIGFuY2hvciB0aGVcbiAgICAvLyBuZXcgZWxlbWVudCB0byByZW5kZXJcbiAgICBEYXRhVmlzdWFsaXplci5wcm90b3R5cGUucmVuZGVyUHJpbWl0aXZlT2JqZWN0ID0gZnVuY3Rpb24gKG9iaiwgc3RlcE51bSwgZDNEb21FbGVtZW50KSB7XG4gICAgICAgIHZhciBteVZpeiA9IHRoaXM7IC8vIHRvIHByZXZlbnQgY29uZnVzaW9uIG9mICd0aGlzJyBpbnNpZGUgb2YgbmVzdGVkIGZ1bmN0aW9uc1xuICAgICAgICBpZiAodGhpcy5vd25lci50cnlfaG9vayhcInJlbmRlclByaW1pdGl2ZU9iamVjdFwiLCB7IG9iajogb2JqLCBkM0RvbUVsZW1lbnQ6IGQzRG9tRWxlbWVudCB9KVswXSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHR5cCA9IHR5cGVvZiBvYmo7XG4gICAgICAgIGlmIChvYmogPT0gbnVsbCkge1xuICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJudWxsT2JqXCI+JyArIHRoaXMuZ2V0UmVhbExhYmVsKCdOb25lJykgKyAnPC9zcGFuPicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cCA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8c3BhbiBjbGFzcz1cIm51bWJlck9ialwiPicgKyBvYmogKyAnPC9zcGFuPicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cCA9PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwiYm9vbE9ialwiPicgKyB0aGlzLmdldFJlYWxMYWJlbCgnVHJ1ZScpICsgJzwvc3Bhbj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwiYm9vbE9ialwiPicgKyB0aGlzLmdldFJlYWxMYWJlbCgnRmFsc2UnKSArICc8L3NwYW4+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIC8vIGVzY2FwZSB1c2luZyBodG1sc3BlY2lhbGNoYXJzIHRvIHByZXZlbnQgSFRNTC9zY3JpcHQgaW5qZWN0aW9uXG4gICAgICAgICAgICB2YXIgbGl0ZXJhbFN0ciA9IGh0bWxzcGVjaWFsY2hhcnMob2JqKTtcbiAgICAgICAgICAgIC8vIHByaW50IGFzIGEgZG91YmxlLXF1b3RlZCBzdHJpbmcgbGl0ZXJhbFxuICAgICAgICAgICAgbGl0ZXJhbFN0ciA9IGxpdGVyYWxTdHIucmVwbGFjZShkb3VibGVRdW90ZUFsbFJlZ2V4LCAnXFxcXFwiJyk7IC8vIHJlcGxhY2UgQUxMXG4gICAgICAgICAgICBsaXRlcmFsU3RyID0gJ1wiJyArIGxpdGVyYWxTdHIgKyAnXCInO1xuICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJzdHJpbmdPYmpcIj4nICsgbGl0ZXJhbFN0ciArICc8L3NwYW4+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGlmIChvYmpbMF0gPT0gJ0NfREFUQScpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZU5hbWUgPSBvYmpbMl07XG4gICAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlcyBmb3IgYnJldml0eTpcbiAgICAgICAgICAgICAgICBpZiAodHlwZU5hbWUgPT09ICdzaG9ydCBpbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGVOYW1lID0gJ3Nob3J0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZU5hbWUgPT09ICdzaG9ydCB1bnNpZ25lZCBpbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGVOYW1lID0gJ3Vuc2lnbmVkIHNob3J0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZU5hbWUgPT09ICdsb25nIGludCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZU5hbWUgPSAnbG9uZyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVOYW1lID09PSAnbG9uZyBsb25nIGludCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZU5hbWUgPSAnbG9uZyBsb25nJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZU5hbWUgPT09ICdsb25nIHVuc2lnbmVkIGludCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZU5hbWUgPSAndW5zaWduZWQgbG9uZyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVOYW1lID09PSAnbG9uZyBsb25nIHVuc2lnbmVkIGludCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZU5hbWUgPSAndW5zaWduZWQgbG9uZyBsb25nIGludCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkUHRyID0gKCh0eXBlTmFtZSA9PT0gJ3BvaW50ZXInKSAmJlxuICAgICAgICAgICAgICAgICAgICAob2JqWzNdICE9PSAnPFVOSU5JVElBTElaRUQ+JykgJiZcbiAgICAgICAgICAgICAgICAgICAgKG9ialszXSAhPT0gJzxVTkFMTE9DQVRFRD4nKSk7XG4gICAgICAgICAgICAgICAgdmFyIGFkZHIgPSBvYmpbMV07XG4gICAgICAgICAgICAgICAgdmFyIGxlYWRlciA9ICcnO1xuICAgICAgICAgICAgICAgIC8vIHByZWZpeCB3aXRoICdjZGF0YV8nIHNvIHRoYXQgd2UgY2FuIGRpc3Rpbmd1aXNoIHRoaXMgZnJvbSBhXG4gICAgICAgICAgICAgICAgLy8gdG9wLWxldmVsIGhlYXAgSUQgZ2VuZXJhdGVkIGJ5IGdlbmVyYXRlSGVhcE9iaklEXG4gICAgICAgICAgICAgICAgdmFyIGNkYXRhSWQgPSBteVZpei5nZW5lcmF0ZUhlYXBPYmpJRCgnY2RhdGFfJyArIGFkZHIsIHN0ZXBOdW0pO1xuICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkUHRyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBwb2ludGVycywgcHV0IGNkYXRhSWQgaW4gdGhlIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGlkPVwiJyArIGNkYXRhSWQgKyAnXCIgY2xhc3M9XCJjZGF0YUhlYWRlclwiPicgKyBsZWFkZXIgKyB0eXBlTmFtZSArICc8L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHB0clZhbCA9IG9ialszXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgc3R1YiBzbyB0aGF0IHdlIGNhbiBjb25uZWN0IGl0IHdpdGggYSBjb25uZWN0b3IgbGF0ZXIuXG4gICAgICAgICAgICAgICAgICAgIC8vIElFIG5lZWRzIHRoaXMgZGl2IHRvIGJlIE5PTi1FTVBUWSBpbiBvcmRlciB0byBwcm9wZXJseVxuICAgICAgICAgICAgICAgICAgICAvLyByZW5kZXIganNQbHVtYiBlbmRwb2ludHMsIHNvIHRoYXQncyB3aHkgd2UgYWRkIGFuIFwiJm5ic3A7XCIhXG4gICAgICAgICAgICAgICAgICAgIHZhciBwdHJTcmNJZCA9IG15Vml6LmdlbmVyYXRlSGVhcE9iaklEKCdwdHJTcmNfJyArIGFkZHIsIHN0ZXBOdW0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHRyVGFyZ2V0SWQgPSBteVZpei5nZW5lcmF0ZUhlYXBPYmpJRCgnY2RhdGFfJyArIHB0clZhbCwgc3RlcE51bSk7IC8vIGRvbid0IGZvcmdldCBjZGF0YV8gcHJlZml4IVxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVidWdJbmZvID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgaXQgcmVhbGx5IG5hcnJvdyBzbyB0aGF0IHRoZSBkaXYgZG9lc24ndCBTVFJFVENIIHRvbyB3aWRlXG4gICAgICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgc3R5bGU9XCJ3aWR0aDogMTBweDtcIiBpZD1cIicgKyBwdHJTcmNJZCArICdcIiBjbGFzcz1cImNkYXRhRWx0XCI+Jm5ic3A7JyArIGRlYnVnSW5mbyArICc8L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlOiBkaXNwbGF5IDB4MCBhZGRyZXNzIGFzIGEgTlVMTCBwb2ludGVyIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAvLyB0byBkaXN0aW5ndWlzaCBpdCBmcm9tIGFsbCBvdGhlciBwb2ludGVycywgc2luY2Ugc29tZXRpbWVzXG4gICAgICAgICAgICAgICAgICAgIC8vIEMvQysrIHByb2dyYW1tZXJzICpleHBsaWNpdGx5KiBzZXQgYSBwb2ludGVyIHRvIG51bGxcbiAgICAgICAgICAgICAgICAgICAgaWYgKHB0clZhbCA9PT0gJzB4MCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyMnICsgcHRyU3JjSWQpLmh0bWwoJzxzcGFuIGNsYXNzPVwiY2RhdGFVbmluaXRcIj5OVUxMPC9zcGFuPicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhwdHJTcmNJZCwgJy0+JywgcHRyVGFyZ2V0SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KCFteVZpei5qc1BsdW1iTWFuYWdlci5jb25uZWN0aW9uRW5kcG9pbnRJRHMuaGFzKHB0clNyY0lkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iTWFuYWdlci5jb25uZWN0aW9uRW5kcG9pbnRJRHMuc2V0KHB0clNyY0lkLCBwdHJUYXJnZXRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3RlIHRoYXQgd2UgY2FuJ3QgdGVsbCB3aGV0aGVyIHB0clNyY0lkIG9yIHB0clRhcmdldElkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhcmUgb24gdGhlIHN0YWNrIG9yIGhlYXAgKHNpbmNlIHRoZSBDIHRyYWNlIGFsbG93cyBwb2ludGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvYmplY3RzIHRvIGV4aXN0IGluIGJvdGgpLCBzbyBhIGhhY2sgdG8gZmluZCBvdXQgaXMgdG8gZmluZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXRzIERPTSBlbGVtZW50LCBsb29rIHVwd2FyZCBpbiB0cmVlIGZvciBjbG9zZXN0IGhlYXBPYmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgaWYgd2UgZmluZCBpdCwgdGhlbiB3ZSBhc3N1bWUgaXQncyBvbiB0aGUgaGVhcFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNyY0FuY2hvck9iamVjdCA9IG15Vml6LmRvbVJvb3QuZmluZCgnIycgKyBwdHJTcmNJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHN0QW5jaG9yT2JqZWN0ID0gbXlWaXouZG9tUm9vdC5maW5kKCcjJyArIHB0clRhcmdldElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmNIZWFwT2JqZWN0ID0gc3JjQW5jaG9yT2JqZWN0LmNsb3Nlc3QoJy5oZWFwT2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHN0SGVhcE9iamVjdCA9IGRzdEFuY2hvck9iamVjdC5jbG9zZXN0KCcuaGVhcE9iamVjdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBkbyB0aGlzIGlmIEJPVEggcHRyU3JjSWQgYW5kIHB0clRhcmdldElkIGFyZSBvbiB0aGUgaGVhcFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNyY0hlYXBPYmplY3QubGVuZ3RoID4gMCAmJiBkc3RIZWFwT2JqZWN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iTWFuYWdlci5oZWFwQ29ubmVjdGlvbkVuZHBvaW50SURzLnNldChwdHJTcmNJZCwgcHRyVGFyZ2V0SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBmb3Igbm9uLXBvaW50ZXJzLCBwdXQgY2RhdGFJZCBvbiB0aGUgZWxlbWVudCBpdHNlbGYsIHNvIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgLy8gcG9pbnRlcnMgY2FuIHBvaW50IGRpcmVjdGx5IGF0IHRoZSBlbGVtZW50LCBub3QgdGhlIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiY2RhdGFIZWFkZXJcIj4nICsgbGVhZGVyICsgdHlwZU5hbWUgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXAgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmpbM10gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGl0ZXJhbFN0ciA9IG9ialszXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXRlcmFsU3RyID09PSAnPFVOSU5JVElBTElaRUQ+Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcCA9ICc8c3BhbiBjbGFzcz1cImNkYXRhVW5pbml0XCI+Pzwvc3Bhbj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVwID0gJ1xcdUQ4M0RcXHVEQ0E5JzsgLy8gcGlsZSBvZiBwb28gZW1vamlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxpdGVyYWxTdHIgPT0gJzxVTkFMTE9DQVRFRD4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwID0gJ1xcdUQ4M0RcXHVEQzgwJzsgLy8gc2t1bGwgZW1vamlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgcmVndWxhciBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXRlcmFsU3RyID0gbGl0ZXJhbFN0ci5yZXBsYWNlKG5ld2xpbmVBbGxSZWdleCwgJ1xcXFxuJyk7IC8vIHJlcGxhY2UgQUxMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGl0ZXJhbFN0ciA9IGxpdGVyYWxTdHIucmVwbGFjZSh0YWJBbGxSZWdleCwgJ1xcXFx0Jyk7IC8vIHJlcGxhY2UgQUxMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGl0ZXJhbFN0ciA9IGxpdGVyYWxTdHIucmVwbGFjZShkb3VibGVRdW90ZUFsbFJlZ2V4LCAnXFxcXFwiJyk7IC8vIHJlcGxhY2UgQUxMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdW5wcmludGFibGUgY2hhcnMgYXJlIGRlbm90ZWQgd2l0aCAnPz8/Jywgc28gc2hvdyB0aGVtIGFzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSBzcGVjaWFsIHVuaWNvZGUgY2hhcmFjdGVyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlTmFtZSA9PT0gJ2NoYXInICYmIGxpdGVyYWxTdHIgPT09ICc/Pz8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpdGVyYWxTdHIgPSAnXFx1RkZGRCc7IC8vIHF1ZXN0aW9uIG1hcmsgaW4gYmxhY2sgZGlhbW9uZCB1bmljb2RlIGNoYXJhY3RlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJpbnQgYXMgYSBTSU5HTEUtcXVvdGVkIHN0cmluZyBsaXRlcmFsICh0byBlbXVsYXRlIEMtc3R5bGUgY2hhcnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpdGVyYWxTdHIgPSBcIidcIiArIGxpdGVyYWxTdHIgKyBcIidcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwID0gaHRtbHNwZWNpYWxjaGFycyhsaXRlcmFsU3RyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcCA9IGh0bWxzcGVjaWFsY2hhcnMob2JqWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGlkPVwiJyArIGNkYXRhSWQgKyAnXCIgY2xhc3M9XCJjZGF0YUVsdFwiPicgKyByZXAgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob2JqWzBdID09ICdJTVBPUlRFRF9GQVVYX1BSSU1JVElWRScpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGVzZSByZXByZXNlbnQgb2JqZWN0cyB0aGF0IHlvdSd2ZSBpbXBvcnRlZCBmcm9tIGV4dGVybmFsXG4gICAgICAgICAgICAgICAgLy8gbGlicmFyaWVzL21vZHVsZXMsIHdoaWNoIHNob3VsZCBiZSBkaXNwbGF5ZWQgYXMgJ3ByaW1pdGl2ZXMnXG4gICAgICAgICAgICAgICAgLy8gc28gdGhhdCB3ZSBkb24ndCBjbHV0dGVyIHVwIHRoZSBkaXNwbGF5IGJ5IGRlZGljYXRpbmcgaGVhcFxuICAgICAgICAgICAgICAgIC8vIHNwYWNlIGZvciB0aGVtIG9yIHRyeWluZyB0byByZWN1cnNlIGludG8gdmlld2luZyB0aGVpciBpbnNpZGVzXG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJpbXBvcnRlZE9ialwiPicgKyBvYmpbMV0gKyAnPC9zcGFuPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KG9ialswXSA9PSAnU1BFQ0lBTF9GTE9BVCcgfHwgb2JqWzBdID09ICdKU19TUEVDSUFMX1ZBTCcpO1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwibnVtYmVyT2JqXCI+JyArIG9ialsxXSArICc8L3NwYW4+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhc3NlcnQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEYXRhVmlzdWFsaXplci5wcm90b3R5cGUucmVuZGVyTmVzdGVkT2JqZWN0ID0gZnVuY3Rpb24gKG9iaiwgc3RlcE51bSwgZDNEb21FbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmlzUHJpbWl0aXZlVHlwZShvYmopKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclByaW1pdGl2ZU9iamVjdChvYmosIHN0ZXBOdW0sIGQzRG9tRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAob2JqWzBdID09PSAnUkVGJykge1xuICAgICAgICAgICAgICAgIC8vIG9iaiBpcyBhIFtcIlJFRlwiLCA8aW50Pl0gc28gZGVyZWZlcmVuY2UgdGhlICdwb2ludGVyJyB0byByZW5kZXIgdGhhdCBvYmplY3RcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNvbXBvdW5kT2JqZWN0KGdldFJlZklEKG9iaiksIHN0ZXBOdW0sIGQzRG9tRWxlbWVudCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KG9ialswXSA9PT0gJ0NfU1RSVUNUJyB8fCBvYmpbMF0gPT09ICdDX0FSUkFZJyB8fCBvYmpbMF0gPT09ICdDX01VTFRJRElNRU5TSU9OQUxfQVJSQVknKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNTdHJ1Y3RBcnJheShvYmosIHN0ZXBOdW0sIGQzRG9tRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5yZW5kZXJDb21wb3VuZE9iamVjdCA9IGZ1bmN0aW9uIChvYmpJRCwgc3RlcE51bSwgZDNEb21FbGVtZW50LCBpc1RvcExldmVsKSB7XG4gICAgICAgIHZhciBteVZpeiA9IHRoaXM7IC8vIHRvIHByZXZlbnQgY29uZnVzaW9uIG9mICd0aGlzJyBpbnNpZGUgb2YgbmVzdGVkIGZ1bmN0aW9uc1xuICAgICAgICB2YXIgaGVhcE9iaklEID0gbXlWaXouZ2VuZXJhdGVIZWFwT2JqSUQob2JqSUQsIHN0ZXBOdW0pO1xuICAgICAgICBpZiAoIWlzVG9wTGV2ZWwgJiYgbXlWaXouanNQbHVtYk1hbmFnZXIucmVuZGVyZWRIZWFwT2JqZWN0SURzLmhhcyhoZWFwT2JqSUQpKSB7XG4gICAgICAgICAgICB2YXIgc3JjRGl2SUQgPSBteVZpei5vd25lci5nZW5lcmF0ZUlEKCdoZWFwX3BvaW50ZXJfc3JjXycgKyBteVZpei5qc1BsdW1iTWFuYWdlci5oZWFwX3BvaW50ZXJfc3JjX2lkKTtcbiAgICAgICAgICAgIG15Vml6LmpzUGx1bWJNYW5hZ2VyLmhlYXBfcG9pbnRlcl9zcmNfaWQrKzsgLy8ganVzdCBtYWtlIHN1cmUgZWFjaCBzb3VyY2UgaGFzIGEgVU5JUVVFIElEXG4gICAgICAgICAgICB2YXIgZHN0RGl2SUQgPSBoZWFwT2JqSUQ7XG4gICAgICAgICAgICBpZiAobXlWaXoucGFyYW1zLnRleHR1YWxNZW1vcnlMYWJlbHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGFiZWxJRCA9IHNyY0RpdklEICsgJ190ZXh0X2xhYmVsJztcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwib2JqZWN0SWRMYWJlbFwiIGlkPVwiJyArIGxhYmVsSUQgKyAnXCI+aWQnICsgb2JqSUQgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgbXlWaXouZG9tUm9vdC5maW5kKCdkaXYjJyArIGxhYmVsSUQpLmhvdmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbXlWaXouanNQbHVtYkluc3RhbmNlLmNvbm5lY3QoeyBzb3VyY2U6IGxhYmVsSUQsIHRhcmdldDogZHN0RGl2SUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZTogJ3ZhclZhbHVlUG9pbnRlcicgfSk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iSW5zdGFuY2Uuc2VsZWN0KHsgc291cmNlOiBsYWJlbElEIH0pLmRldGFjaCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmVuZGVyIGpzUGx1bWIgYXJyb3cgc291cmNlIHNpbmNlIHRoaXMgaGVhcCBvYmplY3QgaGFzIGFscmVhZHkgYmVlbiByZW5kZXJlZFxuICAgICAgICAgICAgICAgIC8vIChvciB3aWxsIGJlIHJlbmRlcmVkIHNvb24pXG4gICAgICAgICAgICAgICAgLy8gYWRkIGEgc3R1YiBzbyB0aGF0IHdlIGNhbiBjb25uZWN0IGl0IHdpdGggYSBjb25uZWN0b3IgbGF0ZXIuXG4gICAgICAgICAgICAgICAgLy8gSUUgbmVlZHMgdGhpcyBkaXYgdG8gYmUgTk9OLUVNUFRZIGluIG9yZGVyIHRvIHByb3Blcmx5XG4gICAgICAgICAgICAgICAgLy8gcmVuZGVyIGpzUGx1bWIgZW5kcG9pbnRzLCBzbyB0aGF0J3Mgd2h5IHdlIGFkZCBhbiBcIiZuYnNwO1wiIVxuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgaWQ9XCInICsgc3JjRGl2SUQgKyAnXCI+Jm5ic3A7PC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KCFteVZpei5qc1BsdW1iTWFuYWdlci5jb25uZWN0aW9uRW5kcG9pbnRJRHMuaGFzKHNyY0RpdklEKSk7XG4gICAgICAgICAgICAgICAgbXlWaXouanNQbHVtYk1hbmFnZXIuY29ubmVjdGlvbkVuZHBvaW50SURzLnNldChzcmNEaXZJRCwgZHN0RGl2SUQpO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ0hFQVAtPkhFQVAnLCBzcmNEaXZJRCwgZHN0RGl2SUQpO1xuICAgICAgICAgICAgICAgIGFzc2VydCghbXlWaXouanNQbHVtYk1hbmFnZXIuaGVhcENvbm5lY3Rpb25FbmRwb2ludElEcy5oYXMoc3JjRGl2SUQpKTtcbiAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iTWFuYWdlci5oZWFwQ29ubmVjdGlvbkVuZHBvaW50SURzLnNldChzcmNEaXZJRCwgZHN0RGl2SUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuOyAvLyBlYXJseSByZXR1cm4hXG4gICAgICAgIH1cbiAgICAgICAgLy8gd3JhcCBBTEwgY29tcG91bmQgb2JqZWN0cyBpbiBhIGhlYXBPYmplY3QgZGl2IHNvIHRoYXQganNQbHVtYlxuICAgICAgICAvLyBjb25uZWN0b3JzIGNhbiBwb2ludCB0byBpdDpcbiAgICAgICAgLy8gVE9ETzogd2hhdCBhYm91dCBDL0MrKyBvYmplY3RzIG9uIHRoZSBzdGFjayB0aGF0IGFyZSB0aGUgdGFyZ2V0IG9mIHBvaW50ZXJzP1xuICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiaGVhcE9iamVjdFwiIGlkPVwiJyArIGhlYXBPYmpJRCArICdcIj48L2Rpdj4nKTtcbiAgICAgICAgZDNEb21FbGVtZW50ID0gbXlWaXouZG9tUm9vdC5maW5kKCcjJyArIGhlYXBPYmpJRCk7IC8vIFRPRE86IG1heWJlIGluZWZmaWNpZW50XG4gICAgICAgIG15Vml6LmpzUGx1bWJNYW5hZ2VyLnJlbmRlcmVkSGVhcE9iamVjdElEcy5zZXQoaGVhcE9iaklELCAxKTtcbiAgICAgICAgdmFyIGN1ckhlYXAgPSBteVZpei5jdXJUcmFjZVtzdGVwTnVtXS5oZWFwO1xuICAgICAgICB2YXIgb2JqID0gY3VySGVhcFtvYmpJRF07XG4gICAgICAgIGFzc2VydCgkLmlzQXJyYXkob2JqKSk7XG4gICAgICAgIC8vIHByZXBlbmQgdGhlIHR5cGUgbGFiZWwgd2l0aCBhIG1lbW9yeSBhZGRyZXNzIGxhYmVsXG4gICAgICAgIHZhciB0eXBlTGFiZWxQcmVmaXggPSAnJztcbiAgICAgICAgaWYgKG15Vml6LnBhcmFtcy50ZXh0dWFsTWVtb3J5TGFiZWxzKSB7XG4gICAgICAgICAgICB0eXBlTGFiZWxQcmVmaXggPSAnaWQnICsgb2JqSUQgKyAnOic7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhvb2tfcmVzdWx0ID0gbXlWaXoub3duZXIudHJ5X2hvb2soXCJyZW5kZXJDb21wb3VuZE9iamVjdFwiLCB7IG9iaklEOiBvYmpJRCwgZDNEb21FbGVtZW50OiBkM0RvbUVsZW1lbnQsXG4gICAgICAgICAgICBpc1RvcExldmVsOiBpc1RvcExldmVsLCBvYmo6IG9iaixcbiAgICAgICAgICAgIHR5cGVMYWJlbFByZWZpeDogdHlwZUxhYmVsUHJlZml4LFxuICAgICAgICAgICAgc3RlcE51bTogc3RlcE51bSxcbiAgICAgICAgICAgIG15Vml6OiBteVZpeiB9KTtcbiAgICAgICAgaWYgKGhvb2tfcmVzdWx0WzBdKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAob2JqWzBdID09ICdMSVNUJyB8fCBvYmpbMF0gPT0gJ1RVUExFJyB8fCBvYmpbMF0gPT0gJ1NFVCcgfHwgb2JqWzBdID09ICdESUNUJykge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gb2JqWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBhc3NlcnQob2JqLmxlbmd0aCA+PSAxKTtcbiAgICAgICAgICAgIGlmIChvYmoubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwidHlwZUxhYmVsXCI+JyArIHR5cGVMYWJlbFByZWZpeCArICcgZW1wdHkgJyArIG15Vml6LmdldFJlYWxMYWJlbChsYWJlbCkgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwidHlwZUxhYmVsXCI+JyArIHR5cGVMYWJlbFByZWZpeCArIG15Vml6LmdldFJlYWxMYWJlbChsYWJlbCkgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPHRhYmxlIGNsYXNzPVwiJyArIGxhYmVsICsgJ1RibFwiPjwvdGFibGU+Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHRibCA9IGQzRG9tRWxlbWVudC5jaGlsZHJlbigndGFibGUnKTtcbiAgICAgICAgICAgICAgICBpZiAob2JqWzBdID09ICdMSVNUJyB8fCBvYmpbMF0gPT0gJ1RVUExFJykge1xuICAgICAgICAgICAgICAgICAgICB0YmwuYXBwZW5kKCc8dHI+PC90cj48dHI+PC90cj4nKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlclRyID0gdGJsLmZpbmQoJ3RyOmZpcnN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50VHIgPSB0YmwuZmluZCgndHI6bGFzdCcpO1xuICAgICAgICAgICAgICAgICAgICAkLmVhY2gob2JqLCBmdW5jdGlvbiAoaW5kLCB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gc2tpcCB0eXBlIHRhZyBhbmQgSUQgZW50cnlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBhIG5ldyBjb2x1bW4gYW5kIHRoZW4gcGFzcyBpbiB0aGF0IG5ld2x5LWFkZGVkIGNvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXMgZDNEb21FbGVtZW50IHRvIHRoZSByZWN1cnNpdmUgY2FsbCB0byBjaGlsZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlclRyLmFwcGVuZCgnPHRkIGNsYXNzPVwiJyArIGxhYmVsICsgJ0hlYWRlclwiPjwvdGQ+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJUci5maW5kKCd0ZDpsYXN0JykuYXBwZW5kKGluZCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFRyLmFwcGVuZCgnPHRkIGNsYXNzPVwiJyArIGxhYmVsICsgJ0VsdFwiPjwvdGQ+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVZpei5yZW5kZXJOZXN0ZWRPYmplY3QodmFsLCBzdGVwTnVtLCBjb250ZW50VHIuZmluZCgndGQ6bGFzdCcpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9ialswXSA9PSAnU0VUJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgYW4gUiB4IEMgbWF0cml4OlxuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRWx0cyA9IG9iai5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAvLyBnaXZlcyByb3VnaGx5IGEgM3g1IHJlY3Rhbmd1bGFyIHJhdGlvLCBzcXVhcmUgaXMgdG9vLCBlcnIsXG4gICAgICAgICAgICAgICAgICAgIC8vICdzcXVhcmUnIGFuZCBib3JpbmdcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bVJvd3MgPSBNYXRoLnJvdW5kKE1hdGguc3FydChudW1FbHRzKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChudW1Sb3dzID4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVtUm93cyAtPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1Db2xzID0gTWF0aC5yb3VuZChudW1FbHRzIC8gbnVtUm93cyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJvdW5kIHVwIGlmIG5vdCBhIHBlcmZlY3QgbXVsdGlwbGU6XG4gICAgICAgICAgICAgICAgICAgIGlmIChudW1FbHRzICUgbnVtUm93cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVtQ29scyArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5lYWNoKG9iaiwgZnVuY3Rpb24gKGluZCwgdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIHNraXAgJ1NFVCcgdGFnXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChpbmQgLSAxKSAlIG51bUNvbHMpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmwuYXBwZW5kKCc8dHI+PC90cj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJUciA9IHRibC5maW5kKCd0cjpsYXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUci5hcHBlbmQoJzx0ZCBjbGFzcz1cInNldEVsdFwiPjwvdGQ+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVZpei5yZW5kZXJOZXN0ZWRPYmplY3QodmFsLCBzdGVwTnVtLCBjdXJUci5maW5kKCd0ZDpsYXN0JykpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqWzBdID09ICdESUNUJykge1xuICAgICAgICAgICAgICAgICAgICAkLmVhY2gob2JqLCBmdW5jdGlvbiAoaW5kLCBrdlBhaXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gc2tpcCAnRElDVCcgdGFnXG4gICAgICAgICAgICAgICAgICAgICAgICB0YmwuYXBwZW5kKCc8dHIgY2xhc3M9XCJkaWN0RW50cnlcIj48dGQgY2xhc3M9XCJkaWN0S2V5XCI+PC90ZD48dGQgY2xhc3M9XCJkaWN0VmFsXCI+PC90ZD48L3RyPicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1JvdyA9IHRibC5maW5kKCd0cjpsYXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5VGQgPSBuZXdSb3cuZmluZCgndGQ6Zmlyc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWxUZCA9IG5ld1Jvdy5maW5kKCd0ZDpsYXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0ga3ZQYWlyWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IGt2UGFpclsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlck5lc3RlZE9iamVjdChrZXksIHN0ZXBOdW0sIGtleVRkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlck5lc3RlZE9iamVjdCh2YWwsIHN0ZXBOdW0sIHZhbFRkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9ialswXSA9PSAnSU5TVEFOQ0UnIHx8IG9ialswXSA9PSAnSU5TVEFOQ0VfUFBSSU5UJyB8fCBvYmpbMF0gPT0gJ0NMQVNTJykge1xuICAgICAgICAgICAgdmFyIGlzSW5zdGFuY2UgPSAob2JqWzBdID09ICdJTlNUQU5DRScpO1xuICAgICAgICAgICAgdmFyIGlzUHByaW50SW5zdGFuY2UgPSAob2JqWzBdID09ICdJTlNUQU5DRV9QUFJJTlQnKTtcbiAgICAgICAgICAgIHZhciBfYSA9IERhdGFWaXN1YWxpemVyLmdldENsYXNzSW5zdGFuY2VNZXRhZGF0YShvYmopLCBjbGFzc05hbWVfMiA9IF9hWzBdLCBoZWFkZXJMZW5ndGhfMiA9IF9hWzFdO1xuICAgICAgICAgICAgYXNzZXJ0KG9iai5sZW5ndGggPj0gaGVhZGVyTGVuZ3RoXzIpO1xuICAgICAgICAgICAgaWYgKGlzSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwidHlwZUxhYmVsXCI+JyArIHR5cGVMYWJlbFByZWZpeCArIG9ialsxXSArICcgJyArIG15Vml6LmdldFJlYWxMYWJlbCgnaW5zdGFuY2UnKSArICc8L2Rpdj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUHByaW50SW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwidHlwZUxhYmVsXCI+JyArIHR5cGVMYWJlbFByZWZpeCArIG9ialsxXSArICcgJyArIG15Vml6LmdldFJlYWxMYWJlbCgnaW5zdGFuY2UnKSArICc8L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8dGFibGUgY2xhc3M9XCJjdXN0b21PYmpUYmxcIj48dHI+PHRkIGNsYXNzPVwiY3VzdG9tT2JqRWx0XCI+JyArIGh0bWxzcGVjaWFsY2hhcnMob2JqWzJdKSArICc8L3RkPjwvdHI+PC90YWJsZT4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzdXBlcmNsYXNzU3RyID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKG9ialsyXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1cGVyY2xhc3NTdHIgKz0gKCdbZXh0ZW5kcyAnICsgb2JqWzJdLmpvaW4oJywgJykgKyAnXSAnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPGRpdiBjbGFzcz1cInR5cGVMYWJlbFwiPicgKyB0eXBlTGFiZWxQcmVmaXggKyBvYmpbMV0gKyAnIGNsYXNzICcgKyBzdXBlcmNsYXNzU3RyICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9iai5sZW5ndGggPiBoZWFkZXJMZW5ndGhfMikge1xuICAgICAgICAgICAgICAgIHZhciBsYWIgPSBpc0luc3RhbmNlID8gJ2luc3QnIDogJ2NsYXNzJztcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8dGFibGUgY2xhc3M9XCInICsgbGFiICsgJ1RibFwiPjwvdGFibGU+Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHRibCA9IGQzRG9tRWxlbWVudC5jaGlsZHJlbigndGFibGU6bGFzdCcpOyAvLyB0cmlja3ksIHRoZXJlJ3MgbW9yZSB0aGFuIDEgdGFibGUgaWYgaXNQcHJpbnRJbnN0YW5jZSBpcyB0cnVlXG4gICAgICAgICAgICAgICAgJC5lYWNoKG9iaiwgZnVuY3Rpb24gKGluZCwga3ZQYWlyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPCBoZWFkZXJMZW5ndGhfMilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gc2tpcCBoZWFkZXIgdGFnc1xuICAgICAgICAgICAgICAgICAgICBpZiAobXlWaXouaW5IaWRlRmllbGRzU2V0KGNsYXNzTmFtZV8yLCBrdlBhaXJbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVuZGVyIEhJRElORycsIGNsYXNzTmFtZV8yLCBrdlBhaXJbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlWaXouZmllbGRzSGlkZGVuLnB1c2goKGNsYXNzTmFtZV8yID8gY2xhc3NOYW1lXzIgKyAnOicgOiAnJykgKyBrdlBhaXJbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBnZXQgb3V0IVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRibC5hcHBlbmQoJzx0ciBjbGFzcz1cIicgKyBsYWIgKyAnRW50cnlcIj48dGQgY2xhc3M9XCInICsgbGFiICsgJ0tleVwiPjwvdGQ+PHRkIGNsYXNzPVwiJyArIGxhYiArICdWYWxcIj48L3RkPjwvdHI+Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdSb3cgPSB0YmwuZmluZCgndHI6bGFzdCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5VGQgPSBuZXdSb3cuZmluZCgndGQ6Zmlyc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbFRkID0gbmV3Um93LmZpbmQoJ3RkOmxhc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGtleXMgc2hvdWxkIGFsd2F5cyBiZSBzdHJpbmdzLCBzbyByZW5kZXIgdGhlbSBkaXJlY3RseSAoYW5kIHdpdGhvdXQgcXVvdGVzKTpcbiAgICAgICAgICAgICAgICAgICAgLy8gKGFjdHVhbGx5IHRoaXMgaXNuJ3QgdGhlIGNhc2Ugd2hlbiBzdHJpbmdzIGFyZSByZW5kZXJlZCBvbiB0aGUgaGVhcClcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBrdlBhaXJbMF0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tbW9uIGNhc2UgLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cm5hbWVTdHIgPSBodG1sc3BlY2lhbGNoYXJzKGt2UGFpclswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlUZC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwia2V5T2JqXCI+JyArIGF0dHJuYW1lU3RyICsgJzwvc3Bhbj4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gc3RyaW5ncyBhcmUgcmVuZGVyZWQgYXMgaGVhcCBvYmplY3RzIC4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgbXlWaXoucmVuZGVyTmVzdGVkT2JqZWN0KGt2UGFpclswXSwgc3RlcE51bSwga2V5VGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHZhbHVlcyBjYW4gYmUgYXJiaXRyYXJ5IG9iamVjdHMsIHNvIHJlY3Vyc2U6XG4gICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlck5lc3RlZE9iamVjdChrdlBhaXJbMV0sIHN0ZXBOdW0sIHZhbFRkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYmpbMF0gPT0gJ0ZVTkNUSU9OJykge1xuICAgICAgICAgICAgYXNzZXJ0KG9iai5sZW5ndGggPT0gMyB8fCBvYmoubGVuZ3RoID09IDQpO1xuICAgICAgICAgICAgLy8gcHJldHR5LXByaW50IGxhbWJkYXMgYW5kIGRpc3BsYXkgb3RoZXIgd2VpcmQgY2hhcmFjdGVyczpcbiAgICAgICAgICAgIHZhciBmdW5jTmFtZSA9IGh0bWxzcGVjaWFsY2hhcnMob2JqWzFdKS5yZXBsYWNlKCcmbHQ7bGFtYmRhJmd0OycsICdcXHUwM2JiJyk7XG4gICAgICAgICAgICB2YXIgcGFyZW50RnJhbWVJRCA9IG9ialsyXTsgLy8gb3B0aW9uYWxcbiAgICAgICAgICAgIGlmICghbXlWaXoucGFyYW1zLmNvbXBhY3RGdW5jTGFiZWxzKSB7XG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPGRpdiBjbGFzcz1cInR5cGVMYWJlbFwiPicgKyB0eXBlTGFiZWxQcmVmaXggKyBteVZpei5nZXRSZWFsTGFiZWwoJ2Z1bmN0aW9uJykgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZnVuY1ByZWZpeCA9IG15Vml6LnBhcmFtcy5jb21wYWN0RnVuY0xhYmVscyA/ICdmdW5jJyA6ICcnO1xuICAgICAgICAgICAgaWYgKHBhcmVudEZyYW1lSUQpIHtcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZnVuY09ialwiPicgKyBmdW5jUHJlZml4ICsgJyAnICsgZnVuY05hbWUgKyAnIFtwYXJlbnQ9ZicgKyBwYXJlbnRGcmFtZUlEICsgJ108L2Rpdj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG15Vml6LnBhcmFtcy5zaG93QWxsRnJhbWVMYWJlbHMpIHtcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZnVuY09ialwiPicgKyBmdW5jUHJlZml4ICsgJyAnICsgZnVuY05hbWUgKyAnIFtwYXJlbnQ9R2xvYmFsXTwvZGl2PicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPGRpdiBjbGFzcz1cImZ1bmNPYmpcIj4nICsgZnVuY1ByZWZpeCArICcgJyArIGZ1bmNOYW1lICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVuZGVyIGRlZmF1bHQgYXJndW1lbnQgbmFtZXMvdmFsdWVzIChzZWUgLi4vcGdfZW5jb2Rlci5weSlcbiAgICAgICAgICAgIGlmIChvYmoubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgICAgIHZhciBmdW5jUHJvcGVydGllcyA9IG9ialszXTtcbiAgICAgICAgICAgICAgICBhc3NlcnQoZnVuY1Byb3BlcnRpZXMubGVuZ3RoID4gMCk7XG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPGRpdiBjbGFzcz1cInR5cGVMYWJlbFwiIHN0eWxlPVwibWFyZ2luLXRvcDogM3B4O1wiPmRlZmF1bHQgYXJndW1lbnRzOjwvZGl2PicpO1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzx0YWJsZSBjbGFzcz1cImluc3RUYmxcIj48L3RhYmxlPicpO1xuICAgICAgICAgICAgICAgIHZhciB0YmwgPSBkM0RvbUVsZW1lbnQuY2hpbGRyZW4oJ3RhYmxlJyk7XG4gICAgICAgICAgICAgICAgJC5lYWNoKGZ1bmNQcm9wZXJ0aWVzLCBmdW5jdGlvbiAoaW5kLCBrdlBhaXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGJsLmFwcGVuZCgnPHRyIGNsYXNzPVwiaW5zdEVudHJ5XCI+PHRkIGNsYXNzPVwiaW5zdEtleVwiPjwvdGQ+PHRkIGNsYXNzPVwiaW5zdFZhbFwiPjwvdGQ+PC90cj4nKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1JvdyA9IHRibC5maW5kKCd0cjpsYXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlUZCA9IG5ld1Jvdy5maW5kKCd0ZDpmaXJzdCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsVGQgPSBuZXdSb3cuZmluZCgndGQ6bGFzdCcpO1xuICAgICAgICAgICAgICAgICAgICBrZXlUZC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwia2V5T2JqXCI+JyArIGh0bWxzcGVjaWFsY2hhcnMoa3ZQYWlyWzBdKSArICc8L3NwYW4+Jyk7XG4gICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlck5lc3RlZE9iamVjdChrdlBhaXJbMV0sIHN0ZXBOdW0sIHZhbFRkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYmpbMF0gPT0gJ0pTX0ZVTkNUSU9OJykgeyAvKiBUT0RPOiByZWZhY3RvciBtZSAqL1xuICAgICAgICAgICAgLy8gSmF2YVNjcmlwdCBmdW5jdGlvblxuICAgICAgICAgICAgYXNzZXJ0KG9iai5sZW5ndGggPT0gNSk7XG4gICAgICAgICAgICB2YXIgZnVuY05hbWUgPSBodG1sc3BlY2lhbGNoYXJzKG9ialsxXSk7XG4gICAgICAgICAgICB2YXIgZnVuY0NvZGUgPSB0eXBlTGFiZWxQcmVmaXggKyBodG1sc3BlY2lhbGNoYXJzKG9ialsyXSk7XG4gICAgICAgICAgICB2YXIgZnVuY1Byb3BlcnRpZXMgPSBvYmpbM107IC8vIGVpdGhlciBudWxsIG9yIGEgbm9uLWVtcHR5IGxpc3Qgb2Yga2V5LXZhbHVlIHBhaXJzXG4gICAgICAgICAgICB2YXIgcGFyZW50RnJhbWVJRCA9IG9ials0XTtcbiAgICAgICAgICAgIGlmIChmdW5jUHJvcGVydGllcyB8fCBwYXJlbnRGcmFtZUlEIHx8IG15Vml6LnBhcmFtcy5zaG93QWxsRnJhbWVMYWJlbHMpIHtcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8dGFibGUgY2xhc3M9XCJjbGFzc1RibFwiPjwvdGFibGU+Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHRibCA9IGQzRG9tRWxlbWVudC5jaGlsZHJlbigndGFibGUnKTtcbiAgICAgICAgICAgICAgICB0YmwuYXBwZW5kKCc8dHI+PHRkIGNsYXNzPVwiZnVuY0NvZFwiIGNvbHNwYW49XCIyXCI+PHByZSBjbGFzcz1cImZ1bmNDb2RlXCI+JyArIGZ1bmNDb2RlICsgJzwvcHJlPicgKyAnPC90ZD48L3RyPicpO1xuICAgICAgICAgICAgICAgIGlmIChmdW5jUHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoZnVuY1Byb3BlcnRpZXMubGVuZ3RoID4gMCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByYXdGdW5jTmFtZV8xID0gb2JqWzFdO1xuICAgICAgICAgICAgICAgICAgICAkLmVhY2goZnVuY1Byb3BlcnRpZXMsIGZ1bmN0aW9uIChpbmQsIGt2UGFpcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RLZXkgPSBrdlBhaXJbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobXlWaXouaW5IaWRlRmllbGRzU2V0KHJhd0Z1bmNOYW1lXzEsIGt2UGFpclswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVuZGVyIEhJRElORycsIHJhd0Z1bmNOYW1lXzEsIGt2UGFpclswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlWaXouZmllbGRzSGlkZGVuLnB1c2goKHJhd0Z1bmNOYW1lXzEgPyByYXdGdW5jTmFtZV8xICsgJzonIDogJycpICsga3ZQYWlyWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIGdldCBvdXQhXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0YmwuYXBwZW5kKCc8dHIgY2xhc3M9XCJjbGFzc0VudHJ5XCI+PHRkIGNsYXNzPVwiY2xhc3NLZXlcIj48L3RkPjx0ZCBjbGFzcz1cImNsYXNzVmFsXCI+PC90ZD48L3RyPicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1JvdyA9IHRibC5maW5kKCd0cjpsYXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5VGQgPSBuZXdSb3cuZmluZCgndGQ6Zmlyc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWxUZCA9IG5ld1Jvdy5maW5kKCd0ZDpsYXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlUZC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwia2V5T2JqXCI+JyArIGh0bWxzcGVjaWFsY2hhcnMoa3ZQYWlyWzBdKSArICc8L3NwYW4+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVZpei5yZW5kZXJOZXN0ZWRPYmplY3Qoa3ZQYWlyWzFdLCBzdGVwTnVtLCB2YWxUZCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGFyZW50RnJhbWVJRCkge1xuICAgICAgICAgICAgICAgICAgICB0YmwuYXBwZW5kKCc8dHIgY2xhc3M9XCJjbGFzc0VudHJ5XCI+PHRkIGNsYXNzPVwiY2xhc3NLZXlcIj5wYXJlbnQ8L3RkPjx0ZCBjbGFzcz1cImNsYXNzVmFsXCI+JyArICdmJyArIHBhcmVudEZyYW1lSUQgKyAnPC90ZD48L3RyPicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChteVZpei5wYXJhbXMuc2hvd0FsbEZyYW1lTGFiZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRibC5hcHBlbmQoJzx0ciBjbGFzcz1cImNsYXNzRW50cnlcIj48dGQgY2xhc3M9XCJjbGFzc0tleVwiPnBhcmVudDwvdGQ+PHRkIGNsYXNzPVwiY2xhc3NWYWxcIj4nICsgJ2dsb2JhbCcgKyAnPC90ZD48L3RyPicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGNvbXBhY3QgZm9ybTpcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8cHJlIGNsYXNzPVwiZnVuY0NvZGVcIj4nICsgZnVuY0NvZGUgKyAnPC9wcmU+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JqWzBdID09ICdIRUFQX1BSSU1JVElWRScpIHtcbiAgICAgICAgICAgIGFzc2VydChvYmoubGVuZ3RoID09IDMpO1xuICAgICAgICAgICAgdmFyIHR5cGVOYW1lID0gb2JqWzFdO1xuICAgICAgICAgICAgdmFyIHByaW1pdGl2ZVZhbCA9IG9ialsyXTtcbiAgICAgICAgICAgIC8vIGFkZCBhIGJpdCBvZiBwYWRkaW5nIHRvIGhlYXAgcHJpbWl0aXZlcywgZm9yIGFlc3RoZXRpY3NcbiAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJoZWFwUHJpbWl0aXZlXCI+PC9kaXY+Jyk7XG4gICAgICAgICAgICBkM0RvbUVsZW1lbnQuZmluZCgnZGl2LmhlYXBQcmltaXRpdmUnKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJ0eXBlTGFiZWxcIj4nICsgdHlwZUxhYmVsUHJlZml4ICsgdHlwZU5hbWUgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICBteVZpei5yZW5kZXJQcmltaXRpdmVPYmplY3QocHJpbWl0aXZlVmFsLCBzdGVwTnVtLCBkM0RvbUVsZW1lbnQuZmluZCgnZGl2LmhlYXBQcmltaXRpdmUnKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JqWzBdID09ICdDX1NUUlVDVCcgfHwgb2JqWzBdID09ICdDX0FSUkFZJyB8fCBvYmpbMF0gPT09ICdDX01VTFRJRElNRU5TSU9OQUxfQVJSQVknKSB7XG4gICAgICAgICAgICBteVZpei5yZW5kZXJDU3RydWN0QXJyYXkob2JqLCBzdGVwTnVtLCBkM0RvbUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVuZGVyIGN1c3RvbSBkYXRhIHR5cGVcbiAgICAgICAgICAgIGFzc2VydChvYmoubGVuZ3RoID09IDIpO1xuICAgICAgICAgICAgdmFyIHR5cGVOYW1lID0gb2JqWzBdO1xuICAgICAgICAgICAgdmFyIHN0clJlcHIgPSBvYmpbMV07XG4gICAgICAgICAgICBzdHJSZXByID0gaHRtbHNwZWNpYWxjaGFycyhzdHJSZXByKTsgLy8gZXNjYXBlIHN0cmluZ3MhXG4gICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwidHlwZUxhYmVsXCI+JyArIHR5cGVMYWJlbFByZWZpeCArIHR5cGVOYW1lICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPHRhYmxlIGNsYXNzPVwiY3VzdG9tT2JqVGJsXCI+PHRyPjx0ZCBjbGFzcz1cImN1c3RvbU9iakVsdFwiPicgKyBzdHJSZXByICsgJzwvdGQ+PC90cj48L3RhYmxlPicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBzcGVjaWFsLWNhc2Uga2x1ZGdlIGZvciBDL0MrK1xuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5yZW5kZXJDU3RydWN0QXJyYXkgPSBmdW5jdGlvbiAob2JqLCBzdGVwTnVtLCBkM0RvbUVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG15Vml6ID0gdGhpczsgLy8gdG8gcHJldmVudCBjb25mdXNpb24gb2YgJ3RoaXMnIGluc2lkZSBvZiBuZXN0ZWQgZnVuY3Rpb25zXG4gICAgICAgIGlmIChvYmpbMF0gPT0gJ0NfU1RSVUNUJykge1xuICAgICAgICAgICAgYXNzZXJ0KG9iai5sZW5ndGggPj0gMyk7XG4gICAgICAgICAgICB2YXIgYWRkciA9IG9ialsxXTtcbiAgICAgICAgICAgIHZhciB0eXBlbmFtZSA9IG9ialsyXTtcbiAgICAgICAgICAgIHZhciBsZWFkZXIgPSAnJztcbiAgICAgICAgICAgIGlmIChteVZpei5wYXJhbXMubGFuZyA9PT0gJ2NwcCcpIHtcbiAgICAgICAgICAgICAgICAvLyBjYWxsIGl0ICdvYmplY3QnIGluc3RlYWQgb2YgJ3N0cnVjdCdcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwidHlwZUxhYmVsXCI+JyArIGxlYWRlciArICdvYmplY3QgJyArIHR5cGVuYW1lICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPGRpdiBjbGFzcz1cInR5cGVMYWJlbFwiPicgKyBsZWFkZXIgKyAnc3RydWN0ICcgKyB0eXBlbmFtZSArICc8L2Rpdj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvYmoubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzx0YWJsZSBjbGFzcz1cImluc3RUYmxcIj48L3RhYmxlPicpO1xuICAgICAgICAgICAgICAgIHZhciB0YmwgPSBkM0RvbUVsZW1lbnQuY2hpbGRyZW4oJ3RhYmxlJyk7XG4gICAgICAgICAgICAgICAgdmFyIHN0cnVjdE5hbWVfMiA9IG9ialsyXSA/IG9ialsyXSA6IERhdGFWaXN1YWxpemVyLlVOTkFNRURfUFJFRklYO1xuICAgICAgICAgICAgICAgICQuZWFjaChvYmosIGZ1bmN0aW9uIChpbmQsIGt2UGFpcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kIDwgMylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gc2tpcCBoZWFkZXIgdGFnc1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGROYW1lID0ga3ZQYWlyWzBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobXlWaXouaW5IaWRlRmllbGRzU2V0KHN0cnVjdE5hbWVfMiwgZmllbGROYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlbmRlciBISURJTkcnLCBzdHJ1Y3ROYW1lXzIsIGZpZWxkTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVZpei5maWVsZHNIaWRkZW4ucHVzaChzdHJ1Y3ROYW1lXzIgKyAnOicgKyBmaWVsZE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBnZXQgb3V0IVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRibC5hcHBlbmQoJzx0ciBjbGFzcz1cImluc3RFbnRyeVwiPjx0ZCBjbGFzcz1cImluc3RLZXlcIj48L3RkPjx0ZCBjbGFzcz1cImluc3RWYWxcIj48L3RkPjwvdHI+Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdSb3cgPSB0YmwuZmluZCgndHI6bGFzdCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5VGQgPSBuZXdSb3cuZmluZCgndGQ6Zmlyc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbFRkID0gbmV3Um93LmZpbmQoJ3RkOmxhc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGtleXMgc2hvdWxkIGFsd2F5cyBiZSBzdHJpbmdzLCBzbyByZW5kZXIgdGhlbSBkaXJlY3RseSAoYW5kIHdpdGhvdXQgcXVvdGVzKTpcbiAgICAgICAgICAgICAgICAgICAgLy8gKGFjdHVhbGx5IHRoaXMgaXNuJ3QgdGhlIGNhc2Ugd2hlbiBzdHJpbmdzIGFyZSByZW5kZXJlZCBvbiB0aGUgaGVhcClcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiBrdlBhaXJbMF0gPT0gXCJzdHJpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbW1vbiBjYXNlIC4uLlxuICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cm5hbWVTdHIgPSBodG1sc3BlY2lhbGNoYXJzKGt2UGFpclswXSk7XG4gICAgICAgICAgICAgICAgICAgIGtleVRkLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJrZXlPYmpcIj4nICsgYXR0cm5hbWVTdHIgKyAnPC9zcGFuPicpO1xuICAgICAgICAgICAgICAgICAgICAvLyB2YWx1ZXMgY2FuIGJlIGFyYml0cmFyeSBvYmplY3RzLCBzbyByZWN1cnNlOlxuICAgICAgICAgICAgICAgICAgICBteVZpei5yZW5kZXJOZXN0ZWRPYmplY3Qoa3ZQYWlyWzFdLCBzdGVwTnVtLCB2YWxUZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JqWzBdID09ICdDX01VTFRJRElNRU5TSU9OQUxfQVJSQVknKSB7XG4gICAgICAgICAgICAvLyBzaW5jZSB3ZSBjYW4gZGlzcGxheSBvbmx5IDIgZGltZW5zaW9ucyBzZW5zaWJseSwgbWFrZSB0aGUgZmlyc3RcbiAgICAgICAgICAgIC8vIGRpbWVuc2lvbiBpbnRvIHJvd3MgYW5kIGZsYXR0ZW4gYWxsIG90aGVyIGRpbWVuc2lvbnMgdG9nZXRoZXIgaW50b1xuICAgICAgICAgICAgLy8gY29sdW1ucy4gaW4gdGhlIGNvbW1vbiBjYXNlIGZvciBhIDItRCBhcnJheSwgdGhpcyB3aWxsIGRvIHRoZVxuICAgICAgICAgICAgLy8gcGVyZmVjdCB0aGluZzogZmlyc3QgZGltZW5zaW9uIGlzIHJvd3MsIHNlY29uZCBkaW1lbnNpb24gaXMgY29sdW1ucy5cbiAgICAgICAgICAgIC8vIGUuZy4sIGZvciBhIDQtRCBhcnJheSwgdGhlIGZpcnN0IGRpbWVuc2lvbiBpcyByb3dzLCBhbmQgZGltZW5zaW9uc1xuICAgICAgICAgICAgLy8gMiwgMywgYW5kIDQgYXJlIGZsYXR0ZW5lZCB0b2dldGhlciBpbnRvIGNvbHVtbnMuIHdlIGNhbid0IGRvXG4gICAgICAgICAgICAvLyBhbnkgYmV0dGVyIHRoYW4gdGhpcyBzaW5jZSBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgdG8gZGlzcGxheVxuICAgICAgICAgICAgLy8gbW9yZSB0aGFuIDIgZGltZW5zaW9ucyBhdCBvbmNlIG9uIHNjcmVlblxuICAgICAgICAgICAgYXNzZXJ0KG9iai5sZW5ndGggPj0gMyk7XG4gICAgICAgICAgICB2YXIgYWRkciA9IG9ialsxXTtcbiAgICAgICAgICAgIHZhciBkaW1lbnNpb25zID0gb2JqWzJdO1xuICAgICAgICAgICAgYXNzZXJ0KGRpbWVuc2lvbnMubGVuZ3RoID4gMSk7IC8vIG1ha2Ugc3VyZSB3ZSdyZSByZWFsbHkgbXVsdGlkaW1lbnNpb25hbCFcbiAgICAgICAgICAgIHZhciBsZWFkZXIgPSAnJztcbiAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJ0eXBlTGFiZWxcIj4nICsgbGVhZGVyICsgJ2FycmF5PC9kaXY+Jyk7XG4gICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8dGFibGUgY2xhc3M9XCJjQXJyYXlUYmxcIj48L3RhYmxlPicpO1xuICAgICAgICAgICAgdmFyIHRibCA9IGQzRG9tRWxlbWVudC5jaGlsZHJlbigndGFibGUnKTtcbiAgICAgICAgICAgIC8vIGEgbGlzdCBvZiBhcnJheSBpbmRpY2VzIGZvciBlYWNoIGRpbWVuc2lvblxuICAgICAgICAgICAgdmFyIGluZGljZXNCeURpbWVuc2lvbiA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBkaW1lbnNpb25zLmxlbmd0aDsgZCsrKSB7XG4gICAgICAgICAgICAgICAgaW5kaWNlc0J5RGltZW5zaW9uLnB1c2goZDMucmFuZ2UoZGltZW5zaW9uc1tkXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29tbW9uIGNhc2UgaXMgMi1EOlxuICAgICAgICAgICAgdmFyIGFsbERpbWVuc2lvbnMgPSBtdWx0aXBseUxpc3RzKGluZGljZXNCeURpbWVuc2lvblswXSwgaW5kaWNlc0J5RGltZW5zaW9uWzFdKTtcbiAgICAgICAgICAgIC8vIGZvciBhbGwgZGltZW5zaW9ucyBhYm92ZSB0aGUgc2Vjb25kIG9uZSAuLi5cbiAgICAgICAgICAgIGZvciAodmFyIGQgPSAyOyBkIDwgZGltZW5zaW9ucy5sZW5ndGg7IGQrKykge1xuICAgICAgICAgICAgICAgIGFsbERpbWVuc2lvbnMgPSBtdWx0aXBseUxpc3RzKGFsbERpbWVuc2lvbnMsIGluZGljZXNCeURpbWVuc2lvbltkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdhbGxEaW1lbnNpb25zJywgSlNPTi5zdHJpbmdpZnkoYWxsRGltZW5zaW9ucykpO1xuICAgICAgICAgICAgLy8gaWdub3JlIGRpbWVuc2lvbnNbMF0sIHdoaWNoIGlzIHJvd3NcbiAgICAgICAgICAgIHZhciBudW1Db2x1bW5zID0gMTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZGltZW5zaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG51bUNvbHVtbnMgKj0gZGltZW5zaW9uc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IGRpbWVuc2lvbnNbMF07IHJvdysrKSB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygncm93Jywgcm93KTtcbiAgICAgICAgICAgICAgICAvLyBhIHBhaXIgb2Ygcm93cyBmb3IgaGVhZGVyICsgY29udGVudCwgcmVzcGVjdGl2ZWx5XG4gICAgICAgICAgICAgICAgdGJsLmFwcGVuZCgnPHRyPjwvdHI+Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlclRyID0gdGJsLmZpbmQoJ3RyOmxhc3QnKTtcbiAgICAgICAgICAgICAgICB0YmwuYXBwZW5kKCc8dHI+PC90cj4nKTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudFRyID0gdGJsLmZpbmQoJ3RyOmxhc3QnKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBudW1Db2x1bW5zOyBjb2wrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmxhdHRlbmVkSW5kID0gKHJvdyAqIG51bUNvbHVtbnMpICsgY29sOyAvLyB0aGUgcmVhbCBpbmRleCBpbnRvIHRoZSAxLUQgZmxhdHRlbmVkIGFycmF5IHN0b3JlZCBpbiBvYmpbMzpdXG4gICAgICAgICAgICAgICAgICAgIHZhciByZWFsSW5kID0gZmxhdHRlbmVkSW5kICsgMzsgLy8gc2tpcCAzIGhlYWRlciBmaWVsZHMgdG8gZ2V0IHRvIHRoZSByZWFsIGluZGV4IGluIG9ialxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gb2JqW3JlYWxJbmRdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kVG9EaXNwbGF5ID0gYWxsRGltZW5zaW9uc1tmbGF0dGVuZWRJbmRdLmpvaW4oJywnKTtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnICBjb2wnLCBjb2wsICd8IGZsYXR0ZW5lZEluZDonLCBmbGF0dGVuZWRJbmQsIGluZFRvRGlzcGxheSwgJ2NvbnRlbnRzOicsIHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBhIG5ldyBjb2x1bW4gYW5kIHRoZW4gcGFzcyBpbiB0aGF0IG5ld2x5LWFkZGVkIGNvbHVtblxuICAgICAgICAgICAgICAgICAgICAvLyBhcyBkM0RvbUVsZW1lbnQgdG8gdGhlIHJlY3Vyc2l2ZSBjYWxsIHRvIGNoaWxkOlxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJUci5hcHBlbmQoJzx0ZCBjbGFzcz1cImNNdWx0aWRpbUFycmF5SGVhZGVyXCI+PC90ZD4nKTtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyVHIuZmluZCgndGQ6bGFzdCcpLmFwcGVuZChpbmRUb0Rpc3BsYXkpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHIuYXBwZW5kKCc8dGQgY2xhc3M9XCJjTXVsdGlkaW1BcnJheUVsdFwiPjwvdGQ+Jyk7XG4gICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlck5lc3RlZE9iamVjdCh2YWwsIHN0ZXBOdW0sIGNvbnRlbnRUci5maW5kKCd0ZDpsYXN0JykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydChvYmpbMF0gPT0gJ0NfQVJSQVknKTtcbiAgICAgICAgICAgIGFzc2VydChvYmoubGVuZ3RoID49IDIpO1xuICAgICAgICAgICAgdmFyIGFkZHIgPSBvYmpbMV07XG4gICAgICAgICAgICB2YXIgbGVhZGVyID0gJyc7XG4gICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwidHlwZUxhYmVsXCI+JyArIGxlYWRlciArICdhcnJheTwvZGl2PicpO1xuICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPHRhYmxlIGNsYXNzPVwiY0FycmF5VGJsXCI+PC90YWJsZT4nKTtcbiAgICAgICAgICAgIHZhciB0YmwgPSBkM0RvbUVsZW1lbnQuY2hpbGRyZW4oJ3RhYmxlJyk7XG4gICAgICAgICAgICB0YmwuYXBwZW5kKCc8dHI+PC90cj48dHI+PC90cj4nKTtcbiAgICAgICAgICAgIHZhciBoZWFkZXJUciA9IHRibC5maW5kKCd0cjpmaXJzdCcpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnRUciA9IHRibC5maW5kKCd0cjpsYXN0Jyk7XG4gICAgICAgICAgICAkLmVhY2gob2JqLCBmdW5jdGlvbiAoaW5kLCB2YWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kIDwgMilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBza2lwICdDX0FSUkFZJyBhbmQgYWRkclxuICAgICAgICAgICAgICAgIC8vIGFkZCBhIG5ldyBjb2x1bW4gYW5kIHRoZW4gcGFzcyBpbiB0aGF0IG5ld2x5LWFkZGVkIGNvbHVtblxuICAgICAgICAgICAgICAgIC8vIGFzIGQzRG9tRWxlbWVudCB0byB0aGUgcmVjdXJzaXZlIGNhbGwgdG8gY2hpbGQ6XG4gICAgICAgICAgICAgICAgaGVhZGVyVHIuYXBwZW5kKCc8dGQgY2xhc3M9XCJjQXJyYXlIZWFkZXJcIj48L3RkPicpO1xuICAgICAgICAgICAgICAgIGhlYWRlclRyLmZpbmQoJ3RkOmxhc3QnKS5hcHBlbmQoaW5kIC0gMiAvKiBhZGp1c3QgKi8pO1xuICAgICAgICAgICAgICAgIGNvbnRlbnRUci5hcHBlbmQoJzx0ZCBjbGFzcz1cImNBcnJheUVsdFwiPjwvdGQ+Jyk7XG4gICAgICAgICAgICAgICAgbXlWaXoucmVuZGVyTmVzdGVkT2JqZWN0KHZhbCwgc3RlcE51bSwgY29udGVudFRyLmZpbmQoJ3RkOmxhc3QnKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGF0YVZpc3VhbGl6ZXIucHJvdG90eXBlLnJlZHJhd0Nvbm5lY3RvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuanNQbHVtYkluc3RhbmNlLnJlcGFpbnRFdmVyeXRoaW5nKCk7XG4gICAgfTtcbiAgICAvLyBzZWxlY3RpdmVseSBoaWRpbmcgdmFyaWFibGVzIG9yIGZpZWxkc1xuICAgIC8vXG4gICAgLy8gbm90ZSB0aGF0IEMrKyB1c2VzICc6OicgaW4gbWVtYmVyIGZ1bmN0aW9uIG5hbWVzLCBzbyBmb3JcbiAgICAvLyB0aGUgbmFtZXMgaW4gaGlkZVZhcnNMc3QgYW5kIGhpZGVGaWVsZHNMc3QsIHdlIGNhbid0XG4gICAgLy8gcmVsaWFibHkgc3BsaXQgb24gJzonIHRvIHJlY29uc3RydWN0IGl0cyBvcmlnaW5hbCBmdW5jdGlvbi9jbGFzc1xuICAgIC8vIG5hbWUgYW5kIGl0cyB2YXJpYWJsZSBuYW1lLiBlLmcuLCBcIkNvbXB1dGVyOjpzZXRzcGVlZChpbnQpOnBcIlxuICAgIC8vXG4gICAgLy8gdGhlIG1vcmUgcm9idXN0IHN0cmF0ZWd5IGlzIHRvIGtlZXAgdGhpcyBzdHJpbmcgaW50YWN0IGFuZCB0cnkgdG9cbiAgICAvLyByZWNvbnN0cnVjdCBpdCB3aGVuIG1hdGNoaW5nIHVwIHdpdGggdmFyaWFibGVzIGluIHRoZSBleGVjdXRpb24gdHJhY2VcbiAgICAvLyAuLi4gYnV0IGNvbnNpZGVyIHRoZSBjYXNlIHdoZXJlIHRoZXJlIGFyZSBOTyBDT0xPTlMgaW4gdGhlIHN0cmluZyxcbiAgICAvLyB3aGljaCBpbmRpY2F0ZXMgYSB2YXJpYWJsZS9maWVsZCBuYW1lIHRoYXQgc2hvdWxkIGJlIG1hdGNoZWRcbiAgICAvLyByZWdhcmRsZXNzIG9mIHdoYXQgZnVuY3Rpb24vb2JqZWN0IGl0IGJlbG9uZ3MgdG9cbiAgICBEYXRhVmlzdWFsaXplci5wcm90b3R5cGUuc2VsZWN0aXZlbHlIaWRlVmFyc0FuZEZpZWxkcyA9IGZ1bmN0aW9uIChoaWRlVmFyc0xzdCwgaGlkZUZpZWxkc0xzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoaGlkZVZhcnNMc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5oaWRlVmFyc1NldCA9IGQzLm1hcCgpO1xuICAgICAgICAgICAgaGlkZVZhcnNMc3QuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gX3RoaXMuaGlkZVZhcnNTZXQuc2V0KGUsIHRydWUpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZVZhcnNTZXQgPSBudWxsOyAvLyByZXNldFxuICAgICAgICB9XG4gICAgICAgIGlmIChoaWRlRmllbGRzTHN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZUZpZWxkc1NldCA9IGQzLm1hcCgpO1xuICAgICAgICAgICAgaGlkZUZpZWxkc0xzdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBfdGhpcy5oaWRlRmllbGRzU2V0LnNldChlLCB0cnVlKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhpZGVGaWVsZHNTZXQgPSBudWxsOyAvLyByZXNldFxuICAgICAgICB9XG4gICAgICAgIC8vIG5vdyB0aGF0IHRoaXMuaGlkZVZhcnNTZXQgYW5kIHRoaXMuaGlkZUZpZWxkc1NldCBoYXZlIGJlZW4gdXBkYXRlZCAuLi5cbiAgICAgICAgdGhpcy5wcmVjb21wdXRlQ3VyVHJhY2VMYXlvdXRzKCk7IC8vIHJlY29tcHV0ZSBsYXlvdXRzIHRvIGFjY291bnQgZm9yIGhpZGRlbiB2YXJzL29iamVjdHNcbiAgICAgICAgdGhpcy5yZW5kZXJEYXRhU3RydWN0dXJlcyh0aGlzLm93bmVyLmN1ckluc3RyKTsgLy8gcmVuZGVyIGN1cnJlbnQgc3RlcCBhZ2FpblxuICAgICAgICAvL3RoaXMub3duZXIudXBkYXRlT3V0cHV0KCk7IC8vIGFsdGVybmF0aXZlbHksIHRyeSB0aGlzXG4gICAgfTtcbiAgICAvLyBwcmVjb25kaXRpb246IG9ialswXSBpcyBpbiB7J0lOU1RBTkNFJywgJ0lOU1RBTkNFX1BQUklOVCcsICdDTEFTUyd9XG4gICAgLy8gcmV0dXJuczogW2NsYXNzIG5hbWUsIGhlYWRlciBsZW5ndGhdXG4gICAgRGF0YVZpc3VhbGl6ZXIuZ2V0Q2xhc3NJbnN0YW5jZU1ldGFkYXRhID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIgdHlwID0gb2JqWzBdO1xuICAgICAgICBhc3NlcnQodHlwID09ICdJTlNUQU5DRScgfHwgdHlwID09ICdJTlNUQU5DRV9QUFJJTlQnIHx8IHR5cCA9PSAnQ0xBU1MnKTtcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG9ialsxXTsgLy8gbWlnaHQgcG9zc2libHkgYmUgJydcbiAgICAgICAgdmFyIGhlYWRlckxlbmd0aCA9ICh0eXAgPT0gJ0lOU1RBTkNFJykgPyAyIDogMztcbiAgICAgICAgcmV0dXJuIFtjbGFzc05hbWUsIGhlYWRlckxlbmd0aF07XG4gICAgfTtcbiAgICAvLyByZXR1cm5zIHRydWUgaWYgZnVuY25hbWU6dmFybmFtZSBpcyBpbiB0aGlzLmhpZGVWYXJzU2V0XG4gICAgLy8gT1IgaWYgdmFybmFtZSBhbG9uZSAod2l0aG91dCBhIGZ1bmNuYW1lIHF1YWxpZmllcikgaXMgaW4gdGhpcy5oaWRlVmFyc1NldFxuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5pbkhpZGVWYXJzU2V0ID0gZnVuY3Rpb24gKGZ1bmNuYW1lLCB2YXJuYW1lKSB7XG4gICAgICAgIHJldHVybiBEYXRhVmlzdWFsaXplci5faW5IaWRlU2V0SGVscGVyKHRoaXMuaGlkZVZhcnNTZXQsIGZ1bmNuYW1lLCB2YXJuYW1lKTtcbiAgICB9O1xuICAgIC8vIHNhbWUgYXMgaW5IaWRlVmFyc1NldCBleGNlcHQgZm9yIGNsYXNzbmFtZS9maWVsZG5hbWUgaW4gdGhpcy5oaWRlRmllbGRzU2V0XG4gICAgRGF0YVZpc3VhbGl6ZXIucHJvdG90eXBlLmluSGlkZUZpZWxkc1NldCA9IGZ1bmN0aW9uIChjbGFzc25hbWUsIGZpZWxkbmFtZSkge1xuICAgICAgICByZXR1cm4gRGF0YVZpc3VhbGl6ZXIuX2luSGlkZVNldEhlbHBlcih0aGlzLmhpZGVGaWVsZHNTZXQsIGNsYXNzbmFtZSwgZmllbGRuYW1lKTtcbiAgICB9O1xuICAgIERhdGFWaXN1YWxpemVyLl9pbkhpZGVTZXRIZWxwZXIgPSBmdW5jdGlvbiAobXlNYXAsIGZpcnN0LCBzZWNvbmQpIHtcbiAgICAgICAgaWYgKCFteU1hcCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFmaXJzdCkgeyAvLyBvbmx5IG1hdGNoIG9uIHNlY29uZCwgaW4gdGhhdCBjYXNlXG4gICAgICAgICAgICByZXR1cm4gbXlNYXAuaGFzKHNlY29uZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIG1hdGNoIG9uIGVpdGhlciBmaXJzdDpzZWNvbmQgb3Igc2Vjb25kXG4gICAgICAgICAgICByZXR1cm4gbXlNYXAuaGFzKGZpcnN0ICsgJzonICsgc2Vjb25kKSB8fCBteU1hcC5oYXMoc2Vjb25kKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGF0YVZpc3VhbGl6ZXIuR0xPQkFMX1BSRUZJWCA9ICdnbG9iYWwnO1xuICAgIERhdGFWaXN1YWxpemVyLlVOTkFNRURfUFJFRklYID0gJzx1bm5hbWVkPic7XG4gICAgcmV0dXJuIERhdGFWaXN1YWxpemVyO1xufSgpKTsgLy8gRU5EIGNsYXNzIERhdGFWaXN1YWxpemVyXG52YXIgUHJvZ3JhbU91dHB1dEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcm9ncmFtT3V0cHV0Qm94KG93bmVyLCBkb21Sb290LCBoZWlnaHRPdmVycmlkZSkge1xuICAgICAgICBpZiAoaGVpZ2h0T3ZlcnJpZGUgPT09IHZvaWQgMCkgeyBoZWlnaHRPdmVycmlkZSA9IG51bGw7IH1cbiAgICAgICAgLy8gaG93IG1hbnkgKm1heGltdW0qIGxpbmVzIGdldCBwcmludGVkIHRvIHN0ZG91dCBpbiB0aGUgZW50aXJlIHRyYWNlP1xuICAgICAgICB0aGlzLm51bVN0ZG91dExpbmVzID0gMDtcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgICAgICB0aGlzLmRvbVJvb3QgPSBkb21Sb290O1xuICAgICAgICB2YXIgb3V0cHV0c0hUTUwgPSAnPGRpdiBpZD1cInByb2dPdXRwdXRzXCI+XFxcbiAgICAgICAgIDxkaXYgaWQ9XCJwcmludE91dHB1dERvY3NcIj5QcmludCBvdXRwdXQgKGRyYWcgbG93ZXIgcmlnaHQgY29ybmVyIHRvIHJlc2l6ZSk8L2Rpdj5cXG5cXFxuICAgICAgICAgPHRleHRhcmVhIGlkPVwicHlTdGRvdXRcIiBjb2xzPVwiNDBcIiByb3dzPVwiNVwiIHdyYXA9XCJvZmZcIiByZWFkb25seT48L3RleHRhcmVhPlxcXG4gICAgICAgPC9kaXY+JztcbiAgICAgICAgdGhpcy5kb21Sb290LmFwcGVuZChvdXRwdXRzSFRNTCk7XG4gICAgICAgIC8vIGdvIGJhY2t3YXJkcyBmcm9tIHRoZSBlbmQgLi4uIHNvbWV0aW1lcyB0aGUgZmluYWwgZW50cnkgZG9lc24ndFxuICAgICAgICAvLyBoYXZlIGFuIHN0ZG91dFxuICAgICAgICB2YXIgbGFzdFN0ZG91dDtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMub3duZXIuY3VyVHJhY2UubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxhc3RTdGRvdXQgPSB0aGlzLm93bmVyLmN1clRyYWNlW2ldLnN0ZG91dDtcbiAgICAgICAgICAgIGlmIChsYXN0U3Rkb3V0KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RTdGRvdXQpIHtcbiAgICAgICAgICAgIHRoaXMubnVtU3Rkb3V0TGluZXMgPSBsYXN0U3Rkb3V0LnJ0cmltKCkuc3BsaXQoJ1xcbicpLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Rkb3V0SGVpZ2h0ID0gJzc1cHgnO1xuICAgICAgICAvLyBoZXVyaXN0aWMgZm9yIGNvZGUgd2l0aCByZWFsbHkgc21hbGwgb3V0cHV0c1xuICAgICAgICBpZiAodGhpcy5udW1TdGRvdXRMaW5lcyA8PSAzKSB7XG4gICAgICAgICAgICBzdGRvdXRIZWlnaHQgPSAoMjUgKiB0aGlzLm51bVN0ZG91dExpbmVzKSArICdweCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlaWdodE92ZXJyaWRlKSB7XG4gICAgICAgICAgICBzdGRvdXRIZWlnaHQgPSBoZWlnaHRPdmVycmlkZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkbyB0aGlzIG9ubHkgYWZ0ZXIgYWRkaW5nIG91dHB1dHNIVE1MIHRvIHRoZSBET01cbiAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNweVN0ZG91dCcpLndpZHRoKCczNTBweCcpXG4gICAgICAgICAgICAuaGVpZ2h0KHN0ZG91dEhlaWdodClcbiAgICAgICAgICAgIC5yZXNpemFibGUoKTtcbiAgICB9XG4gICAgUHJvZ3JhbU91dHB1dEJveC5wcm90b3R5cGUucmVuZGVyT3V0cHV0ID0gZnVuY3Rpb24gKHN0ZG91dFN0cikge1xuICAgICAgICBpZiAoIXN0ZG91dFN0cikge1xuICAgICAgICAgICAgc3Rkb3V0U3RyID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlcmUgaXNuJ3QgYW55dGhpbmcgdG8gZGlzcGxheSwgZG9uJ3QgZXZlbiBib3RoZXJcbiAgICAgICAgLy8gZGlzcGxheWluZyB0aGUgcGFuZSAoYnV0IHRoaXMgbWF5IGNhdXNlIGp1bXBpbmVzcyBsYXRlcilcbiAgICAgICAgaWYgKHRoaXMubnVtU3Rkb3V0TGluZXMgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI3Byb2dPdXRwdXRzJykuc2hvdygpO1xuICAgICAgICAgICAgdmFyIHB5U3Rkb3V0ID0gdGhpcy5kb21Sb290LmZpbmQoXCIjcHlTdGRvdXRcIik7XG4gICAgICAgICAgICAvLyBrZWVwIG9yaWdpbmFsIGhvcml6b250YWwgc2Nyb2xsIGxldmVsOlxuICAgICAgICAgICAgdmFyIG9sZExlZnQgPSBweVN0ZG91dC5zY3JvbGxMZWZ0KCk7XG4gICAgICAgICAgICBweVN0ZG91dC52YWwoc3Rkb3V0U3RyLnJ0cmltKCkgLyogdHJpbSB0cmFpbGluZyBzcGFjZXMgKi8pO1xuICAgICAgICAgICAgcHlTdGRvdXQuc2Nyb2xsTGVmdChvbGRMZWZ0KTtcbiAgICAgICAgICAgIHB5U3Rkb3V0LnNjcm9sbFRvcChweVN0ZG91dFswXS5zY3JvbGxIZWlnaHQpOyAvLyBzY3JvbGwgdG8gYm90dG9tLCB0aG91Z2hcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjcHJvZ091dHB1dHMnKS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQcm9ncmFtT3V0cHV0Qm94O1xufSgpKTsgLy8gRU5EIGNsYXNzIFByb2dyYW1PdXRwdXRCb3hcbnZhciBDb2RlRGlzcGxheSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb2RlRGlzcGxheShvd25lciwgZG9tUm9vdCwgZG9tUm9vdEQzLCBjb2RUb0Rpc3BsYXksIGxhbmcsIGVkaXRDb2RlQmFzZVVSTCkge1xuICAgICAgICB0aGlzLmxlZnRHdXR0ZXJTdmdJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgICAgIHRoaXMuZG9tUm9vdCA9IGRvbVJvb3Q7XG4gICAgICAgIHRoaXMuZG9tUm9vdEQzID0gZG9tUm9vdEQzO1xuICAgICAgICB0aGlzLmNvZFRvRGlzcGxheSA9IGNvZFRvRGlzcGxheTtcbiAgICAgICAgLy8gMjAxOC0wMy0xNSAtIHJlbW92ZWQgXCJMaXZlIHByb2dyYW1taW5nXCIgbGluayBmcm9tXG4gICAgICAgIC8vIHZpc3VhbGl6YXRpb24gbW9kZSB0byBzaW1wbGlmeSB0aGUgVUksIGV2ZW4gaWYgaXQgZHJpdmVzXG4gICAgICAgIC8vIGZld2VyIHBlb3BsZSB0byBsaXZlIHByb2dyYW1taW5nIG1vZGU7IHRoZXkgY2FuIGFsd2F5cyBjbGlja1xuICAgICAgICAvLyB0aGUgXCJMaXZlIFByb2dyYW1taW5nIE1vZGVcIiBidXR0b24gaW4gdGhlIGNvZGUgZWRpdG9yOlxuICAgICAgICAvLzxzcGFuIGlkPVwibGl2ZU1vZGVTcGFuXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPnwgPGEgaWQ9XCJlZGl0TGl2ZU1vZGVCdG5cIiBocmVmPVwiI1wiPkxpdmUgcHJvZ3JhbW1pbmc8L2E+PC9hPlxcXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGFsc28gY2hhbmdlZCAnRWRpdCBjb2RlJyBsaW5rIHRvICdFZGl0IHRoaXMgY29kZScgdG8gbWFrZVxuICAgICAgICAvLyBpdCBtb3JlIGNsZWFyIHRvIHVzZXJzXG4gICAgICAgIHZhciBjb2RlRGlzcGxheUhUTUwgPSAnPGRpdiBpZD1cImNvZGVEaXNwbGF5RGl2XCI+XFxcbiAgICAgICAgIDxkaXYgaWQ9XCJsYW5nRGlzcGxheURpdlwiPjwvZGl2PlxcXG4gICAgICAgICA8ZGl2IGlkPVwicHlDb2RlT3V0cHV0RGl2XCIvPlxcXG4gICAgICAgICA8ZGl2IGlkPVwiZWRpdENvZGVMaW5rRGl2XCI+PGEgaWQ9XCJlZGl0QnRuXCI+RWRpdCB0aGlzIGNvZGU8L2E+XFxcbiAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICA8ZGl2IGlkPVwibGVnZW5kRGl2XCIvPlxcXG4gICAgICAgICA8ZGl2IGlkPVwiY29kZUZvb3RlckRvY3NcIj48L2Rpdj5cXFxuICAgICAgIDwvZGl2Pic7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5hcHBlbmQoY29kZURpc3BsYXlIVE1MKTtcbiAgICAgICAgaWYgKHRoaXMub3duZXIucGFyYW1zLmVtYmVkZGVkTW9kZSkge1xuICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNlZGl0Q29kZUxpbmtEaXYnKS5jc3MoJ2ZvbnQtc2l6ZScsICcxMHB0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNsZWdlbmREaXYnKVxuICAgICAgICAgICAgLmFwcGVuZCgnPHN2ZyBpZD1cInByZXZMZWdlbmRBcnJvd1NWR1wiLz4gbGluZSB0aGF0IGp1c3QgZXhlY3V0ZWQnKVxuICAgICAgICAgICAgLmFwcGVuZCgnPHAgc3R5bGU9XCJtYXJnaW4tdG9wOiA0cHhcIj48c3ZnIGlkPVwiY3VyTGVnZW5kQXJyb3dTVkdcIi8+IG5leHQgbGluZSB0byBleGVjdXRlPC9wPicpO1xuICAgICAgICB0aGlzLmRvbVJvb3REMy5zZWxlY3QoJ3N2ZyNwcmV2TGVnZW5kQXJyb3dTVkcnKVxuICAgICAgICAgICAgLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAgICAgICAuYXR0cigncG9pbnRzJywgZXhwb3J0cy5TVkdfQVJST1dfUE9MWUdPTilcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgZXhwb3J0cy5saWdodEFycm93Q29sb3IpO1xuICAgICAgICB0aGlzLmRvbVJvb3REMy5zZWxlY3QoJ3N2ZyNjdXJMZWdlbmRBcnJvd1NWRycpXG4gICAgICAgICAgICAuYXBwZW5kKCdwb2x5Z29uJylcbiAgICAgICAgICAgIC5hdHRyKCdwb2ludHMnLCBleHBvcnRzLlNWR19BUlJPV19QT0xZR09OKVxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBleHBvcnRzLmRhcmtBcnJvd0NvbG9yKTtcbiAgICAgICAgaWYgKGVkaXRDb2RlQmFzZVVSTCkge1xuICAgICAgICAgICAgLy8ga2luZGEga2x1ZGd5XG4gICAgICAgICAgICB2YXIgcHlWZXIgPSAnMic7IC8vIGRlZmF1bHRcbiAgICAgICAgICAgIGlmIChsYW5nID09PSAnanMnKSB7XG4gICAgICAgICAgICAgICAgcHlWZXIgPSAnanMnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFuZyA9PT0gJ3RzJykge1xuICAgICAgICAgICAgICAgIHB5VmVyID0gJ3RzJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmcgPT09ICdqYXZhJykge1xuICAgICAgICAgICAgICAgIHB5VmVyID0gJ2phdmEnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFuZyA9PT0gJ3B5MycpIHtcbiAgICAgICAgICAgICAgICBweVZlciA9ICczJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmcgPT09ICdweTNhbmFjb25kYScpIHtcbiAgICAgICAgICAgICAgICBweVZlciA9ICdweTNhbmFjb25kYSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nID09PSAnYycpIHtcbiAgICAgICAgICAgICAgICBweVZlciA9ICdjJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmcgPT09ICdjcHAnKSB7XG4gICAgICAgICAgICAgICAgcHlWZXIgPSAnY3BwJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1cmxTdHIgPSAkLnBhcmFtLmZyYWdtZW50KGVkaXRDb2RlQmFzZVVSTCwgeyBjb2RlOiB0aGlzLmNvZFRvRGlzcGxheSwgcHk6IHB5VmVyIH0sIDIpO1xuICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNlZGl0QnRuJykuYXR0cignaHJlZicsIHVybFN0cik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2VkaXRDb2RlTGlua0RpdicpLmhpZGUoKTsgLy8ganVzdCBoaWRlIGZvciBzaW1wbGljaXR5IVxuICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNlZGl0QnRuJykuYXR0cignaHJlZicsIFwiI1wiKTtcbiAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjZWRpdEJ0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9KTsgLy8gRElTQUJMRSB0aGUgbGluayFcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAobGFuZyA9PT0gJ2pzJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjbGFuZ0Rpc3BsYXlEaXYnKS5odG1sKCdKYXZhU2NyaXB0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nID09PSAndHMnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNsYW5nRGlzcGxheURpdicpLmh0bWwoJ1R5cGVTY3JpcHQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmcgPT09ICdydWJ5Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjbGFuZ0Rpc3BsYXlEaXYnKS5odG1sKCdSdWJ5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nID09PSAnamF2YScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2xhbmdEaXNwbGF5RGl2JykuaHRtbCgnSmF2YScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFuZyA9PT0gJ3B5MicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2xhbmdEaXNwbGF5RGl2JykuaHRtbCgnUHl0aG9uIDIuNycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFuZyA9PT0gJ3B5MycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2xhbmdEaXNwbGF5RGl2JykuaHRtbCgnUHl0aG9uIDMuNicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFuZyA9PT0gJ3B5M2FuYWNvbmRhJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjbGFuZ0Rpc3BsYXlEaXYnKS5odG1sKCdQeXRob24gMy42IHdpdGggPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vZG9jcy5hbmFjb25kYS5jb20vYW5hY29uZGEvXCI+QW5hY29uZGEgNS4yPC9hPiA8Zm9udCBjb2xvcj1cIiNlOTNmMzRcIj5FWFBFUklNRU5UQUwhPC9mb250Pjxici8+KG11Y2ggc2xvd2VyIHRoYW4gPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cInZpc3VhbGl6ZS5odG1sI3B5PTNcIj5yZWd1bGFyIFB5dGhvbiAzLjY8L2E+LCBidXQgbGV0cyB5b3UgaW1wb3J0IG1vcmUgbW9kdWxlcyknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmcgPT09ICdjJykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm93bmVyLnBhcmFtcy5lbWJlZGRlZE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNsYW5nRGlzcGxheURpdicpLmh0bWwoJ0MgKGdjYyA0LjgsIEMxMSknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjbGFuZ0Rpc3BsYXlEaXYnKS5odG1sKCdDIChnY2MgNC44LCBDMTEpPGJyLz48Zm9udCBjb2xvcj1cIiNlOTNmMzRcIj5FWFBFUklNRU5UQUwhPC9mb250PiA8YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL3BnYm92aW5lL09ubGluZVB5dGhvblR1dG9yL2Jsb2IvbWFzdGVyL3Vuc3VwcG9ydGVkLWZlYXR1cmVzLm1kI2MtYW5kLWMtdW5zdXBwb3J0ZWQtZmVhdHVyZXNcIiB0YXJnZXQ9XCJfYmxhbmtcIj5rbm93biBsaW1pdGF0aW9uczwvYT4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nID09PSAnY3BwJykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm93bmVyLnBhcmFtcy5lbWJlZGRlZE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNsYW5nRGlzcGxheURpdicpLmh0bWwoJ0MrKyAoZ2NjIDQuOCwgQysrMTEpJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2xhbmdEaXNwbGF5RGl2JykuaHRtbCgnQysrIChnY2MgNC44LCBDKysxMSk8YnIvPjxmb250IGNvbG9yPVwiI2U5M2YzNFwiPkVYUEVSSU1FTlRBTCE8L2ZvbnQ+IDxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vcGdib3ZpbmUvT25saW5lUHl0aG9uVHV0b3IvYmxvYi9tYXN0ZXIvdW5zdXBwb3J0ZWQtZmVhdHVyZXMubWQjYy1hbmQtYy11bnN1cHBvcnRlZC1mZWF0dXJlc1wiIHRhcmdldD1cIl9ibGFua1wiPmtub3duIGxpbWl0YXRpb25zPC9hPicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjbGFuZ0Rpc3BsYXlEaXYnKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgQ29kZURpc3BsYXkucHJvdG90eXBlLnJlbmRlclB5Q29kZU91dHB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG15Q29kT3V0cHV0ID0gdGhpczsgLy8gY2FwdHVyZVxuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI3B5Q29kZU91dHB1dERpdicpLmVtcHR5KCk7XG4gICAgICAgIC8vIG1hcHMgY29kZU91dHB1dExpbmVzIGRvd24gYm90aCB0YWJsZSBjb2x1bW5zXG4gICAgICAgIC8vIFRPRE86IGdldCByaWQgb2YgcGVza3kgb3duZXIgZGVwZW5kZW5jeVxuICAgICAgICB2YXIgY29kZU91dHB1dEQzID0gdGhpcy5kb21Sb290RDMuc2VsZWN0KCcjcHlDb2RlT3V0cHV0RGl2JylcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RhYmxlJylcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICdweUNvZGVPdXRwdXQnKVxuICAgICAgICAgICAgLnNlbGVjdEFsbCgndHInKVxuICAgICAgICAgICAgLmRhdGEodGhpcy5vd25lci5jb2RlT3V0cHV0TGluZXMpXG4gICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ3RyJylcbiAgICAgICAgICAgIC5zZWxlY3RBbGwoJ3RkJylcbiAgICAgICAgICAgIC5kYXRhKGZ1bmN0aW9uIChkLCBpKSB7IHJldHVybiBbZCwgZF0gLyogbWFwIGZ1bGwgZGF0YSBpdGVtIGRvd24gYm90aCBjb2x1bW5zICovOyB9KVxuICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCd0ZCcpXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkge1xuICAgICAgICAgICAgLy8gYWRkIHRoZSB0b2dldGhlcmpzQ2xvbmVDbGljayBjbGFzcyBvbiBoZXJlIHNvIHRoYXQgd2UgY2FuXG4gICAgICAgICAgICAvLyBzeW5jIGNsaWNrcyB2aWEgVG9nZXRoZXJKUyBmb3Igc2V0dGluZyBicmVha3BvaW50cyBpbiBzaGFyZWRcbiAgICAgICAgICAgIC8vIHNlc3Npb25zIChraW5kYSBsZWFreSBhYnN0cmFjdGlvbiBzaW5jZSBweXR1dG9yLnRzIHNob3VsZG4ndFxuICAgICAgICAgICAgLy8gbmVlZCB0byBrbm93IGFib3V0IFRvZ2V0aGVySlMsIGJ1dCBvaCB3ZWxscylcbiAgICAgICAgICAgIGlmIChpID09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2xpbmVObyB0b2dldGhlcmpzQ2xvbmVDbGljayc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2NvZCB0b2dldGhlcmpzQ2xvbmVDbGljayc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuYXR0cignaWQnLCBmdW5jdGlvbiAoZCwgaSkge1xuICAgICAgICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnbGluZU5vJyArIGQubGluZU51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vd25lci5nZW5lcmF0ZUlEKCdjb2QnICsgZC5saW5lTnVtYmVyKTsgLy8gbWFrZSBnbG9iYWxseSB1bmlxdWUgKHdpdGhpbiB0aGUgcGFnZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5odG1sKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQubGluZU51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBodG1sc3BlY2lhbGNoYXJzKGQudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjcmVhdGUgYSBsZWZ0LW1vc3QgZ3V0dGVyIHRkIHRoYXQgc3BhbnMgQUxMIHJvd3MgLi4uXG4gICAgICAgIC8vIChOQjogdmFsaWduPVwidG9wXCIgaXMgQ1JVQ0lBTCBmb3IgdGhpcyB0byB3b3JrIGluIElFKVxuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI3B5Q29kZU91dHB1dCB0cjpmaXJzdCcpXG4gICAgICAgICAgICAucHJlcGVuZCgnPHRkIGlkPVwiZ3V0dGVyVERcIiB2YWxpZ249XCJ0b3BcIiByb3dzcGFuPVwiJyArIHRoaXMub3duZXIuY29kZU91dHB1dExpbmVzLmxlbmd0aCArICdcIj48c3ZnIGlkPVwibGVmdENvZGVHdXR0ZXJTVkdcIi8+PC90ZD4nKTtcbiAgICAgICAgLy8gY3JlYXRlIHByZXZMaW5lQXJyb3cgYW5kIGN1ckxpbmVBcnJvd1xuICAgICAgICB0aGlzLmRvbVJvb3REMy5zZWxlY3QoJ3N2ZyNsZWZ0Q29kZUd1dHRlclNWRycpXG4gICAgICAgICAgICAuYXBwZW5kKCdwb2x5Z29uJylcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICdwcmV2TGluZUFycm93JylcbiAgICAgICAgICAgIC5hdHRyKCdwb2ludHMnLCBleHBvcnRzLlNWR19BUlJPV19QT0xZR09OKVxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBleHBvcnRzLmxpZ2h0QXJyb3dDb2xvcik7XG4gICAgICAgIHRoaXMuZG9tUm9vdEQzLnNlbGVjdCgnc3ZnI2xlZnRDb2RlR3V0dGVyU1ZHJylcbiAgICAgICAgICAgIC5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ2N1ckxpbmVBcnJvdycpXG4gICAgICAgICAgICAuYXR0cigncG9pbnRzJywgZXhwb3J0cy5TVkdfQVJST1dfUE9MWUdPTilcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgZXhwb3J0cy5kYXJrQXJyb3dDb2xvcik7XG4gICAgICAgIC8vIDIwMTItMDktMDU6IERpc2FibGUgYnJlYWtwb2ludHMgZm9yIG5vdyB0byBzaW1wbGlmeSBVWFxuICAgICAgICAvLyAyMDE2LTA1LTAxOiBSZXZpdmUgYnJlYWtwb2ludCBmdW5jdGlvbmFsaXR5XG4gICAgICAgIGNvZGVPdXRwdXREM1xuICAgICAgICAgICAgLnN0eWxlKCdjdXJzb3InLCBmdW5jdGlvbiAoZCwgaSkge1xuICAgICAgICAgICAgLy8gZG9uJ3QgZG8gYW55dGhpbmcgaWYgZXhlUHRzIGVtcHR5IChpLmUuLCB0aGlzIGxpbmUgd2FzIG5ldmVyIGV4ZWN1dGVkKVxuICAgICAgICAgICAgdmFyIGV4ZVB0cyA9IGQuZXhlY3V0aW9uUG9pbnRzO1xuICAgICAgICAgICAgaWYgKCFleGVQdHMgfHwgZXhlUHRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdwb2ludGVyJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCwgaSkge1xuICAgICAgICAgICAgLy8gZG9uJ3QgZG8gYW55dGhpbmcgaWYgZXhlUHRzIGVtcHR5IChpLmUuLCB0aGlzIGxpbmUgd2FzIG5ldmVyIGV4ZWN1dGVkKVxuICAgICAgICAgICAgdmFyIGV4ZVB0cyA9IGQuZXhlY3V0aW9uUG9pbnRzO1xuICAgICAgICAgICAgaWYgKCFleGVQdHMgfHwgZXhlUHRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZC5icmVha3BvaW50SGVyZSA9ICFkLmJyZWFrcG9pbnRIZXJlOyAvLyB0b2dnbGVcbiAgICAgICAgICAgIGlmIChkLmJyZWFrcG9pbnRIZXJlKSB7XG4gICAgICAgICAgICAgICAgbXlDb2RPdXRwdXQub3duZXIuc2V0QnJlYWtwb2ludChkKTtcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcy5wYXJlbnROb2RlKS5zZWxlY3QoJ3RkLmxpbmVObycpLnN0eWxlKCdjb2xvcicsIGJyZWFrcG9pbnRDb2xvcik7XG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMucGFyZW50Tm9kZSkuc2VsZWN0KCd0ZC5saW5lTm8nKS5zdHlsZSgnZm9udC13ZWlnaHQnLCAnYm9sZCcpO1xuICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzLnBhcmVudE5vZGUpLnNlbGVjdCgndGQuY29kJykuc3R5bGUoJ2NvbG9yJywgYnJlYWtwb2ludENvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG15Q29kT3V0cHV0Lm93bmVyLnVuc2V0QnJlYWtwb2ludChkKTtcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcy5wYXJlbnROb2RlKS5zZWxlY3QoJ3RkLmxpbmVObycpLnN0eWxlKCdjb2xvcicsICcnKTtcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcy5wYXJlbnROb2RlKS5zZWxlY3QoJ3RkLmxpbmVObycpLnN0eWxlKCdmb250LXdlaWdodCcsICcnKTtcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcy5wYXJlbnROb2RlKS5zZWxlY3QoJ3RkLmNvZCcpLnN0eWxlKCdjb2xvcicsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb2RlRGlzcGxheS5wcm90b3R5cGUudXBkYXRlQ29kT3V0cHV0ID0gZnVuY3Rpb24gKHNtb290aFRyYW5zaXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHNtb290aFRyYW5zaXRpb24gPT09IHZvaWQgMCkgeyBzbW9vdGhUcmFuc2l0aW9uID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIGd1dHRlclNWRyA9IHRoaXMuZG9tUm9vdC5maW5kKCdzdmcjbGVmdENvZGVHdXR0ZXJTVkcnKTtcbiAgICAgICAgLy8gb25lLXRpbWUgaW5pdGlhbGl6YXRpb24gb2YgdGhlIGxlZnQgZ3V0dGVyXG4gICAgICAgIC8vICh3ZSBvZnRlbiBjYW4ndCBkbyB0aGlzIGVhcmxpZXIgc2luY2UgdGhlIGVudGlyZSBwYW5lXG4gICAgICAgIC8vICBtaWdodCBiZSBpbnZpc2libGUgYW5kIGhlbmNlIHJldHVybnMgYSBoZWlnaHQgb2YgemVybyBvciBOYU5cbiAgICAgICAgLy8gIC0tIHRoZSBleGFjdCBmb3JtYXQgZGVwZW5kcyBvbiBicm93c2VyKVxuICAgICAgICBpZiAoIXRoaXMubGVmdEd1dHRlclN2Z0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICAvLyBzZXQgdGhlIGd1dHRlcidzIGhlaWdodCB0byBtYXRjaCB0aGF0IG9mIGl0cyBwYXJlbnRcbiAgICAgICAgICAgIGd1dHRlclNWRy5oZWlnaHQoZ3V0dGVyU1ZHLnBhcmVudCgpLmhlaWdodCgpKTtcbiAgICAgICAgICAgIHZhciBmaXJzdFJvd09mZnNldFkgPSB0aGlzLmRvbVJvb3QuZmluZCgndGFibGUjcHlDb2RlT3V0cHV0IHRyOmZpcnN0Jykub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgLy8gZmlyc3QgdGFrZSBjYXJlIG9mIGVkZ2UgY2FzZSB3aGVuIHRoZXJlJ3Mgb25seSBvbmUgbGluZSAuLi5cbiAgICAgICAgICAgIHRoaXMuY29kZVJvd0hlaWdodCA9IHRoaXMuZG9tUm9vdC5maW5kKCd0YWJsZSNweUNvZGVPdXRwdXQgdGQuY29kOmZpcnN0JykuaGVpZ2h0KCk7XG4gICAgICAgICAgICAvLyAuLi4gdGhlbiBoYW5kbGUgdGhlIChtdWNoIG1vcmUgY29tbW9uKSBtdWx0aS1saW5lIGNhc2UgLi4uXG4gICAgICAgICAgICAvLyB0aGlzIHdlaXJkIGNvbnRvcnRpb24gaXMgbmVjZXNzYXJ5IHRvIGdldCB0aGUgYWNjdXJhdGUgcm93IGhlaWdodCBvbiBJbnRlcm5ldCBFeHBsb3JlclxuICAgICAgICAgICAgLy8gKHNpbXBsZXIgbWV0aG9kcyB3b3JrIG9uIGFsbCBvdGhlciBtYWpvciBicm93c2VycywgZXJnaGhoaGhoISEhKVxuICAgICAgICAgICAgaWYgKHRoaXMub3duZXIuY29kZU91dHB1dExpbmVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2Vjb25kUm93T2Zmc2V0WSA9IHRoaXMuZG9tUm9vdC5maW5kKCd0YWJsZSNweUNvZGVPdXRwdXQgdHI6bnRoLWNoaWxkKDIpJykub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgICAgIHRoaXMuY29kZVJvd0hlaWdodCA9IHNlY29uZFJvd09mZnNldFkgLSBmaXJzdFJvd09mZnNldFk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5jb2RlUm93SGVpZ2h0ID4gMCk7XG4gICAgICAgICAgICB2YXIgZ3V0dGVyT2Zmc2V0WSA9IGd1dHRlclNWRy5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICB2YXIgdGVlbnlBZGp1c3RtZW50ID0gZ3V0dGVyT2Zmc2V0WSAtIGZpcnN0Um93T2Zmc2V0WTtcbiAgICAgICAgICAgIC8vIHN1cGVyLXBpY2t5IGRldGFpbCB0byBhZGp1c3QgdGhlIHZlcnRpY2FsIGFsaWdubWVudCBvZiBhcnJvd3Mgc28gdGhhdCB0aGV5IGxpbmUgdXBcbiAgICAgICAgICAgIC8vIHdlbGwgd2l0aCB0aGUgcG9pbnRlZC10byBjb2RlIHRleHQgLi4uXG4gICAgICAgICAgICAvLyAoaWYgeW91IHdhbnQgdG8gbWFudWFsbHkgYWRqdXN0IHRhYmxlVG9wLCB0aGVuIH41IGlzIGEgcmVhc29uYWJsZSBudW1iZXIpXG4gICAgICAgICAgICB0aGlzLmFycm93T2Zmc2V0WSA9IE1hdGguZmxvb3IoKHRoaXMuY29kZVJvd0hlaWdodCAvIDIpIC0gKFNWR19BUlJPV19IRUlHSFQgLyAyKSkgLSB0ZWVueUFkanVzdG1lbnQ7XG4gICAgICAgICAgICB0aGlzLmxlZnRHdXR0ZXJTdmdJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0KHRoaXMuYXJyb3dPZmZzZXRZICE9PSB1bmRlZmluZWQpO1xuICAgICAgICBhc3NlcnQodGhpcy5jb2RlUm93SGVpZ2h0ICE9PSB1bmRlZmluZWQpO1xuICAgICAgICBhc3NlcnQoMCA8PSB0aGlzLmFycm93T2Zmc2V0WSAmJiB0aGlzLmFycm93T2Zmc2V0WSA8PSB0aGlzLmNvZGVSb3dIZWlnaHQpO1xuICAgICAgICAvLyBhc3N1bWVzIHRoYXQgdGhpcy5vd25lci51cGRhdGVMaW5lQW5kRXhjZXB0aW9uSW5mbyBoYXMgYWxyZWFkeVxuICAgICAgICAvLyBiZWVuIHJ1biwgc28gbGluZSBudW1iZXIgaW5mbyBpcyB1cC10by1kYXRlIVxuICAgICAgICAvLyBUT0RPOiBnZXQgcmlkIG9mIHRoaXMgcGVza3kgJ293bmVyJyBkZXBlbmRlbmN5XG4gICAgICAgIHZhciBteVZpeiA9IHRoaXMub3duZXI7XG4gICAgICAgIHZhciBpc0xhc3RJbnN0ciA9IChteVZpei5jdXJJbnN0ciA9PT0gKG15Vml6LmN1clRyYWNlLmxlbmd0aCAtIDEpKTtcbiAgICAgICAgdmFyIGN1ckVudHJ5ID0gbXlWaXouY3VyVHJhY2VbbXlWaXouY3VySW5zdHJdO1xuICAgICAgICB2YXIgaGFzRXJyb3IgPSAoY3VyRW50cnkuZXZlbnQgPT09ICdleGNlcHRpb24nIHx8IGN1ckVudHJ5LmV2ZW50ID09PSAndW5jYXVnaHRfZXhjZXB0aW9uJyk7XG4gICAgICAgIHZhciBpc1Rlcm1pbmF0ZWQgPSAoIW15Vml6Lmluc3RyTGltaXRSZWFjaGVkICYmIGlzTGFzdEluc3RyKTtcbiAgICAgICAgdmFyIHBjb2QgPSB0aGlzLmRvbVJvb3QuZmluZCgnI3B5Q29kZU91dHB1dERpdicpO1xuICAgICAgICB2YXIgcHJldlZlcnRpY2FsTnVkZ2UgPSBteVZpei5wcmV2TGluZUlzUmV0dXJuID8gTWF0aC5mbG9vcih0aGlzLmNvZGVSb3dIZWlnaHQgLyAzKSA6IDA7XG4gICAgICAgIHZhciBjdXJWZXJ0aWNhbE51ZGdlID0gbXlWaXouY3VyTGluZUlzUmV0dXJuID8gTWF0aC5mbG9vcih0aGlzLmNvZGVSb3dIZWlnaHQgLyAzKSA6IDA7XG4gICAgICAgIC8vIHVnbHkgZWRnZSBjYXNlIGZvciB0aGUgZmluYWwgaW5zdHJ1Y3Rpb24gOjBcbiAgICAgICAgaWYgKGlzVGVybWluYXRlZCAmJiAhaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChteVZpei5wcmV2TGluZU51bWJlciAhPT0gbXlWaXouY3VyTGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgIGN1clZlcnRpY2FsTnVkZ2UgPSBjdXJWZXJ0aWNhbE51ZGdlIC0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobXlWaXoucHJldkxpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBwbGEgPSB0aGlzLmRvbVJvb3REMy5zZWxlY3QoJyNwcmV2TGluZUFycm93Jyk7XG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRlUHJldkNtZCA9ICd0cmFuc2xhdGUoMCwgJyArICgoKG15Vml6LnByZXZMaW5lTnVtYmVyIC0gMSkgKiB0aGlzLmNvZGVSb3dIZWlnaHQpICsgdGhpcy5hcnJvd09mZnNldFkgKyBwcmV2VmVydGljYWxOdWRnZSkgKyAnKSc7XG4gICAgICAgICAgICBpZiAoc21vb3RoVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgIHBsYVxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbigyMDApXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJ3doaXRlJylcbiAgICAgICAgICAgICAgICAgICAgLmVhY2goJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgdHJhbnNsYXRlUHJldkNtZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgZXhwb3J0cy5saWdodEFycm93Q29sb3IpO1xuICAgICAgICAgICAgICAgICAgICBndXR0ZXJTVkcuZmluZCgnI3ByZXZMaW5lQXJyb3cnKS5zaG93KCk7IC8vIHNob3cgYXQgdGhlIGVuZCB0byBhdm9pZCBmbGlja2VyaW5nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwbGEuYXR0cigndHJhbnNmb3JtJywgdHJhbnNsYXRlUHJldkNtZCk7XG4gICAgICAgICAgICAgICAgZ3V0dGVyU1ZHLmZpbmQoJyNwcmV2TGluZUFycm93Jykuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ3V0dGVyU1ZHLmZpbmQoJyNwcmV2TGluZUFycm93JykuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChteVZpei5jdXJMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgY2xhID0gdGhpcy5kb21Sb290RDMuc2VsZWN0KCcjY3VyTGluZUFycm93Jyk7XG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRlQ3VyQ21kID0gJ3RyYW5zbGF0ZSgwLCAnICsgKCgobXlWaXouY3VyTGluZU51bWJlciAtIDEpICogdGhpcy5jb2RlUm93SGVpZ2h0KSArIHRoaXMuYXJyb3dPZmZzZXRZICsgY3VyVmVydGljYWxOdWRnZSkgKyAnKSc7XG4gICAgICAgICAgICBpZiAoc21vb3RoVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgIGNsYVxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAgICAgICAgIC5kZWxheSgyMDApXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbigyNTApXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCB0cmFuc2xhdGVDdXJDbWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xhLmF0dHIoJ3RyYW5zZm9ybScsIHRyYW5zbGF0ZUN1ckNtZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBndXR0ZXJTVkcuZmluZCgnI2N1ckxpbmVBcnJvdycpLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGd1dHRlclNWRy5maW5kKCcjY3VyTGluZUFycm93JykuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZG9tUm9vdEQzLnNlbGVjdEFsbCgnI3B5Q29kZU91dHB1dERpdiB0ZC5jb2QnKVxuICAgICAgICAgICAgLnN0eWxlKCdib3JkZXItdG9wJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIGlmIChoYXNFcnJvciAmJiAoZC5saW5lTnVtYmVyID09IGN1ckVudHJ5LmxpbmUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcxcHggc29saWQgJyArIGVycm9yQ29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuc3R5bGUoJ2JvcmRlci1ib3R0b20nLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgLy8gQ09QWSBBTkQgUEFTVEUgQUxFUlQhXG4gICAgICAgICAgICBpZiAoaGFzRXJyb3IgJiYgKGQubGluZU51bWJlciA9PSBjdXJFbnRyeS5saW5lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnMXB4IHNvbGlkICcgKyBlcnJvckNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gcmV0dXJucyBUcnVlIGlmZiBsaW5lTm8gaXMgdmlzaWJsZSBpbiBweUNvZGVPdXRwdXREaXZcbiAgICAgICAgdmFyIGlzT3V0cHV0TGluZVZpc2libGUgPSBmdW5jdGlvbiAobGluZU5vKSB7XG4gICAgICAgICAgICB2YXIgbGluZU5vVGQgPSBfdGhpcy5kb21Sb290LmZpbmQoJyNsaW5lTm8nICsgbGluZU5vKTtcbiAgICAgICAgICAgIC8vIGlmIHdlIGNhbid0IGV2ZW4gZmluZCB0aGlzIGxpbmVObyBkaXYsIHRoZW4gcHVudCFcbiAgICAgICAgICAgIGlmICghbGluZU5vVGQgfHwgbGluZU5vVGQubGVuZ3RoIC8qIGpRdWVyeSBzZWxlY3RvciByZXR1cm5zIGEgbGlzdCAqLyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBMTyA9IGxpbmVOb1RkLm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgIHZhciBQTyA9IHBjb2Qub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgdmFyIFNUID0gcGNvZC5zY3JvbGxUb3AoKTtcbiAgICAgICAgICAgIHZhciBIID0gcGNvZC5oZWlnaHQoKTtcbiAgICAgICAgICAgIC8vIGFkZCBhIGZldyBwaXhlbHMgb2YgZnVkZ2UgZmFjdG9yIG9uIHRoZSBib3R0b20gZW5kIGR1ZSB0byBib3R0b20gc2Nyb2xsYmFyXG4gICAgICAgICAgICByZXR1cm4gKFBPIDw9IExPKSAmJiAoTE8gPCAoUE8gKyBIIC0gMzApKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gc21vb3RobHkgc2Nyb2xsIHB5Q29kZU91dHB1dERpdiBzbyB0aGF0IHRoZSBnaXZlbiBsaW5lIGlzIGF0IHRoZSBjZW50ZXJcbiAgICAgICAgdmFyIHNjcm9sbENvZGVPdXRwdXRUb0xpbmUgPSBmdW5jdGlvbiAobGluZU5vKSB7XG4gICAgICAgICAgICB2YXIgbGluZU5vVGQgPSBfdGhpcy5kb21Sb290LmZpbmQoJyNsaW5lTm8nICsgbGluZU5vKTtcbiAgICAgICAgICAgIC8vIGlmIHdlIGNhbid0IGV2ZW4gZmluZCB0aGlzIGxpbmVObyBkaXYsIHRoZW4gcHVudCFcbiAgICAgICAgICAgIGlmICghbGluZU5vVGQgfHwgbGluZU5vVGQubGVuZ3RoIC8qIGpRdWVyeSBzZWxlY3RvciByZXR1cm5zIGEgbGlzdCAqLyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBMTyA9IGxpbmVOb1RkLm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgIHZhciBQTyA9IHBjb2Qub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgdmFyIFNUID0gcGNvZC5zY3JvbGxUb3AoKTtcbiAgICAgICAgICAgIHZhciBIID0gcGNvZC5oZWlnaHQoKTtcbiAgICAgICAgICAgIHBjb2Quc3RvcCgpOyAvLyBmaXJzdCBzdG9wIGFsbCBwcmV2aW91c2x5LXF1ZXVlZCBhbmltYXRpb25zXG4gICAgICAgICAgICBwY29kLmFuaW1hdGUoeyBzY3JvbGxUb3A6IChTVCArIChMTyAtIFBPIC0gKE1hdGgucm91bmQoSCAvIDIpKSkpIH0sIDMwMCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHNtb290aGx5IHNjcm9sbCBjb2RlIGRpc3BsYXlcbiAgICAgICAgaWYgKCFpc091dHB1dExpbmVWaXNpYmxlKGN1ckVudHJ5LmxpbmUpKSB7XG4gICAgICAgICAgICBzY3JvbGxDb2RlT3V0cHV0VG9MaW5lKGN1ckVudHJ5LmxpbmUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29kZURpc3BsYXk7XG59KCkpOyAvLyBFTkQgY2xhc3MgQ29kZURpc3BsYXlcbnZhciBOYXZpZ2F0aW9uQ29udHJvbGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOYXZpZ2F0aW9uQ29udHJvbGxlcihvd25lciwgZG9tUm9vdCwgZG9tUm9vdEQzLCBuU3RlcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG15c2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICAgICAgdGhpcy5kb21Sb290ID0gZG9tUm9vdDtcbiAgICAgICAgdGhpcy5kb21Sb290RDMgPSBkb21Sb290RDM7XG4gICAgICAgIHRoaXMublN0ZXBzID0gblN0ZXBzO1xuICAgICAgICB0aGlzLmN1c3RvbWl6ZVZpek9wdGlvbnNTaG93biA9IGZhbHNlO1xuICAgICAgICB2YXIgbmF2SFRNTCA9ICc8ZGl2IGlkPVwibmF2Q29udHJvbHNEaXZcIj5cXFxuICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImV4ZWN1dGlvblNsaWRlclwiLz5cXFxuICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImV4ZWN1dGlvblNsaWRlckZvb3RlclwiLz5cXFxuICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cInZjckNvbnRyb2xzXCI+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImptcEZpcnN0SW5zdHJcIiwgdHlwZT1cImJ1dHRvblwiPiZsdDsmbHQ7IEZpcnN0PC9idXR0b24+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImptcFN0ZXBCYWNrXCIsIHR5cGU9XCJidXR0b25cIj4mbHQ7IFByZXY8L2J1dHRvbj5cXFxuICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiam1wU3RlcEZ3ZFwiLCB0eXBlPVwiYnV0dG9uXCI+TmV4dCAmZ3Q7PC9idXR0b24+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImptcExhc3RJbnN0clwiLCB0eXBlPVwiYnV0dG9uXCI+TGFzdCAmZ3Q7Jmd0OzwvYnV0dG9uPlxcXG4gICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImN1ckluc3RyXCI+U3RlcCA/IG9mID88L2Rpdj5cXFxuICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cInJhd1VzZXJJbnB1dERpdlwiPlxcXG4gICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwidXNlcklucHV0UHJvbXB0U3RyXCIvPlxcXG4gICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwicmF3X2lucHV0X3RleHRib3hcIiBzaXplPVwiMzBcIi8+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInJhd19pbnB1dF9zdWJtaXRfYnRuXCI+U3VibWl0PC9idXR0b24+XFxcbiAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZXJyb3JPdXRwdXRcIi8+XFxcbiAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJjcmVkaXRzUGFuZVwiPjwvZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwidWlDb250cm9sc1BhbmVcIj48YSBpZD1cImN1c3RvbWl6ZVZpekxpbmtcIiBocmVmPVwiI1wiPkN1c3RvbWl6ZSB2aXN1YWxpemF0aW9uPC9hPiAoPGZvbnQgY29sb3I9XCIjZTkzZjM0XCI+TkVXITwvZm9udD4pPC9kaXY+XFxcbiAgICAgICAgICAgICAgICAgICA8L2Rpdj4nO1xuICAgICAgICB0aGlzLmRvbVJvb3QuYXBwZW5kKG5hdkhUTUwpO1xuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZChcIiNqbXBGaXJzdEluc3RyXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgX3RoaXMub3duZXIucmVuZGVyU3RlcCgwKTsgfSk7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKFwiI2ptcExhc3RJbnN0clwiKS5jbGljayhmdW5jdGlvbiAoKSB7IF90aGlzLm93bmVyLnJlbmRlclN0ZXAoX3RoaXMublN0ZXBzIC0gMSk7IH0pO1xuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZChcIiNqbXBTdGVwQmFja1wiKS5jbGljayhmdW5jdGlvbiAoKSB7IF90aGlzLm93bmVyLnN0ZXBCYWNrKCk7IH0pO1xuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZChcIiNqbXBTdGVwRndkXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgX3RoaXMub3duZXIuc3RlcEZvcndhcmQoKTsgfSk7XG4gICAgICAgIC8vIGRpc2FibGUgY29udHJvbHMgaW5pdGlhbGx5IC4uLlxuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZChcIiN2Y3JDb250cm9scyAjam1wRmlyc3RJbnN0clwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKFwiI3ZjckNvbnRyb2xzICNqbXBTdGVwQmFja1wiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKFwiI3ZjckNvbnRyb2xzICNqbXBTdGVwRndkXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoXCIjdmNyQ29udHJvbHMgI2ptcExhc3RJbnN0clwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgIHZhciBydWlEaXYgPSB0aGlzLmRvbVJvb3QuZmluZCgnI3Jhd1VzZXJJbnB1dERpdicpO1xuICAgICAgICBydWlEaXYuZmluZCgnI3VzZXJJbnB1dFByb21wdFN0cicpLmh0bWwodGhpcy5vd25lci51c2VySW5wdXRQcm9tcHRTdHIpO1xuICAgICAgICBydWlEaXYuZmluZCgnI3Jhd19pbnB1dF9zdWJtaXRfYnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHVzZXJJbnB1dCA9IHJ1aURpdi5maW5kKCcjcmF3X2lucHV0X3RleHRib3gnKS52YWwoKTtcbiAgICAgICAgICAgIC8vIGFkdmFuY2UgaW5zdHJ1Y3Rpb24gY291bnQgYnkgMSB0byBnZXQgdG8gdGhlIE5FWFQgaW5zdHJ1Y3Rpb25cbiAgICAgICAgICAgIF90aGlzLm93bmVyLnBhcmFtcy5leGVjdXRlQ29kZVdpdGhSYXdJbnB1dEZ1bmModXNlcklucHV0LCBfdGhpcy5vd25lci5jdXJJbnN0ciArIDEpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gY3JlYXRlIGN1c3RvbWl6ZSB2aXN1YWxpemF0aW9uIFVJXG4gICAgICAgIHZhciB1aUNvbnRyb2xzUGFuZSA9IHRoaXMuZG9tUm9vdC5maW5kKFwiI3VpQ29udHJvbHNQYW5lXCIpO1xuICAgICAgICAvLyBleHBvc2UgdGhlIGN1c3RvbWl6YXRpb24gVUlcbiAgICAgICAgdWlDb250cm9sc1BhbmUuZmluZChcIiNjdXN0b21pemVWaXpMaW5rXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5jdXN0b21pemVWaXpPcHRpb25zU2hvd24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkbyB0aGlzIHVwIHRvcCBzbyB0aGF0IHJlbmRlckRhdGFTdHJ1Y3R1cmVzIGlzIGNhbGxlZCxcbiAgICAgICAgICAgIC8vIGN1c3RvbWl6ZVZpek9wdGlvbnNTaG93biBpcyBvbiwgc28gb2JqZWN0cyBnZXQgbWFkZSAuZHJhZ2dhYmxlKClcbiAgICAgICAgICAgIF90aGlzLmN1c3RvbWl6ZVZpek9wdGlvbnNTaG93biA9IHRydWU7XG4gICAgICAgICAgICB1aUNvbnRyb2xzUGFuZS5hcHBlbmQoJyBcXFxuICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLXRvcDogOHB4O1wiLz5cXFxuICAgICAgICAgIDxmb250IGNvbG9yPVwiI2U5M2YzNFwiPldhcm5pbmc6PC9mb250PiBSZWxvYWRpbmcgdGhpcyBwYWdlIGxvc2VzIGFsbCBjaGFuZ2VzO1xcXG4gICAgICAgICAgY3VzdG9taXphdGlvbnMgPGVtPk5PVDwvZW0+IHNoYXJlZCBpbiBVUkwgb3IgY2hhdCBzZXNzaW9uc1xcXG4gICAgICAgICAgPHAvPjxiPkRyYWc8L2I+IGFueSBvYmplY3QgYXJvdW5kIHRvIG1vdmUgaXQuIEN1c3RvbWl6ZSBpdHMgcG9pbnRlcnM6XFxcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLXRvcDogMTJweDsgbWFyZ2luLWJvdHRvbTogNXB4O1wiPlxcXG4gICAgICAgICAgTGluZSBzdHlsZTpcXFxuICAgICAgICAgIDxzZWxlY3QgaWQ9XCJqc3BsdW1iQ29ubmVjdG9yVHlwZVwiPlxcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiU3RhdGVNYWNoaW5lXCIgc2VsZWN0ZWQ+RGVmYXVsdDwvb3B0aW9uPlxcXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQmV6aWVyXCI+QmV6aWVyPC9vcHRpb24+XFxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJTdHJhaWdodFwiPlN0cmFpZ2h0PC9vcHRpb24+XFxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJGbG93Y2hhcnRcIj5GbG93Y2hhcnQ8L29wdGlvbj5cXFxuICAgICAgICAgIDwvc2VsZWN0PlxcXG4gICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyV3JhcHBlclwiPkN1cnZlOiA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjEwMFwiIHZhbHVlPVwiMTBcIiBjbGFzcz1cImpzcGx1bWJPcHRpb25TbGlkZXJcIiBpZD1cInNtQ3VydmluZXNzXCI+PHNwYW4gY2xhc3M9XCJzbGlkZXJWYWxcIj4xMDwvc3Bhbj48L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXJXcmFwcGVyXCI+Q3VydmU6IDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiNTAwXCIgdmFsdWU9XCIxNTBcIiBjbGFzcz1cImpzcGx1bWJPcHRpb25TbGlkZXJcIiBpZD1cImJlemllckN1cnZpbmVzc1wiPjxzcGFuIGNsYXNzPVwic2xpZGVyVmFsXCI+MTUwPC9zcGFuPjwvZGl2PlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlcldyYXBwZXJcIj5NYXJnaW46IDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiMjBcIiB2YWx1ZT1cIjVcIiBjbGFzcz1cImpzcGx1bWJPcHRpb25TbGlkZXJcIiBpZD1cIm1hcmdpblwiPjxzcGFuIGNsYXNzPVwic2xpZGVyVmFsXCI+NTwvc3Bhbj48L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXJXcmFwcGVyXCI+U3R1YjogPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCI1MFwiIHZhbHVlPVwiMFwiIGNsYXNzPVwianNwbHVtYk9wdGlvblNsaWRlclwiIGlkPVwic3R1YlwiPjxzcGFuIGNsYXNzPVwic2xpZGVyVmFsXCI+MDwvc3Bhbj48L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXJXcmFwcGVyXCI+R2FwOiA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjUwXCIgdmFsdWU9XCIwXCIgY2xhc3M9XCJqc3BsdW1iT3B0aW9uU2xpZGVyXCIgaWQ9XCJnYXBcIj48c3BhbiBjbGFzcz1cInNsaWRlclZhbFwiPjA8L3NwYW4+PC9kaXY+XFxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyV3JhcHBlclwiPk1pZHBvaW50OiA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjEwXCIgdmFsdWU9XCIwLjVcIiBzdGVwPVwiMC41XCIgY2xhc3M9XCJqc3BsdW1iT3B0aW9uU2xpZGVyXCIgaWQ9XCJtaWRwb2ludFwiPjxzcGFuIGNsYXNzPVwic2xpZGVyVmFsXCI+MC41PC9zcGFuPjwvZGl2PlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlcldyYXBwZXJcIj5Db3JuZXJSYWRpdXM6IDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiMTBcIiB2YWx1ZT1cIjBcIiBjbGFzcz1cImpzcGx1bWJPcHRpb25TbGlkZXJcIiBpZD1cImNvcm5lclJhZGl1c1wiPjxzcGFuIGNsYXNzPVwic2xpZGVyVmFsXCI+MDwvc3Bhbj48L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXJXcmFwcGVyXCI+QXJyb3cgbGVuZ3RoOiA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMVwiIG1heD1cIjMwXCIgdmFsdWU9XCIxMFwiIGNsYXNzPVwianNwbHVtYk9wdGlvblNsaWRlclwiIGlkPVwiYXJyb3dMZW5ndGhcIj48c3BhbiBjbGFzcz1cInNsaWRlclZhbFwiPjEwPC9zcGFuPjwvZGl2PlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlcldyYXBwZXJcIj5BcnJvdyB3aWR0aDogPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjFcIiBtYXg9XCIzMFwiIHZhbHVlPVwiN1wiIGNsYXNzPVwianNwbHVtYk9wdGlvblNsaWRlclwiIGlkPVwiYXJyb3dXaWR0aFwiPjxzcGFuIGNsYXNzPVwic2xpZGVyVmFsXCI+Nzwvc3Bhbj48L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXJXcmFwcGVyXCI+QXJyb3cgZm9sZDogPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCIxXCIgdmFsdWU9XCIwLjU1XCIgc3RlcD1cIjAuMDVcIiBjbGFzcz1cImpzcGx1bWJPcHRpb25TbGlkZXJcIiBpZD1cImFycm93Rm9sZGJhY2tcIj48c3BhbiBjbGFzcz1cInNsaWRlclZhbFwiPjAuNTU8L3NwYW4+PC9kaXY+XFxcbiAgICAgICAgICA8ZGl2IGlkPVwic2VsZWN0aXZlSGlkZURpdlwiIHN0eWxlPVwibWFyZ2luLXRvcDogMTVweDsgcGFkZGluZzogNnB4IDZweCA2cHggNnB4OyBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1wiPlxcXG4gICAgICAgICAgICA8Yj5IaWRlIHZhcmlhYmxlcy9maWVsZHM8L2I+IChlbGVtZW50cyBtYXkgZW5kIHVwIG91dCBvZiBvcmRlciwgc28gcmVsb2FkIHBhZ2UgdG8gcmVzZXQpPGJyLz5cXFxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInVwZGF0ZUhpZGVWYXJzQnRuXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiA4cHg7XCI+VXBkYXRlIHZpc3VhbGl6YXRpb248L2J1dHRvbj5cXFxuICAgICAgICAgICAgPHAvPkFsbCBjaG9pY2VzIGJlbG93OyB1c2UgcGFydCBhZnRlciBjb2xvbiB0byBtYXRjaCBhbGwgdmFyaWFibGVzL2ZpZWxkcyB3aXRoIHRoYXQgbmFtZS48YnIvPlxcXG4gICAgICAgICAgICA8Zm9udCBjb2xvcj1cIiNlOTNmMzRcIj4oRG91YmxlLWNoZWNrIHlvdXIgc3BlbGxpbmchKTwvZm9udD5cXFxuICAgICAgICAgICAgPHAvPkhpZGUgdGhlc2UgdmFyaWFibGVzOjxici8+XFxcbiAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cImhpZGVWYXJzXCIgcm93cz1cIjNcIiBjb2xzPVwiNzBcIi8+XFxcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJoaWRlVmFyc0Nob2ljZXNcIiBzdHlsZT1cIndpZHRoOiA1MDBweDtcIj48L2Rpdj5cXFxuICAgICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW4tdG9wOiAxNXB4O1wiLz5IaWRlIHRoZXNlIG9iamVjdCBmaWVsZHM6PGJyLz5cXFxuICAgICAgICAgICAgPHRleHRhcmVhIGlkPVwiaGlkZUZpZWxkc1wiIHJvd3M9XCIzXCIgY29scz1cIjcwXCIvPlxcXG4gICAgICAgICAgICA8ZGl2IGlkPVwiaGlkZUZpZWxkc0Nob2ljZXNcIiBzdHlsZT1cIndpZHRoOiA1MDBweDtcIj48L2Rpdj5cXFxuICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgIDwvZGl2PlxcXG4gICAgICAnKTtcbiAgICAgICAgICAgIC8vIG5vdGUgdGhhdCBtYW55IG9mIHRoZXNlIG9wdGlvbnMgYXJlbid0IHByZXNlbnQgaW4gdGhlIE9MRCBPTERcbiAgICAgICAgICAgIC8vIE9MRCB2ZXJzaW9uIG9mIC4vbGliL2pxdWVyeS5qc1BsdW1iLTEuMy4xMC1hbGwtbWluLmpzIHRoYXRcbiAgICAgICAgICAgIC8vIHdlJ3JlIHVzaW5nLCBzbyB0aGV5IG1pZ2h0IG5vdCBkbyBhbnl0aGluZyB3aGVuIHRoZXkncmVcbiAgICAgICAgICAgIC8vIHRyaWdnZXJlZC4gbG9vayBhdCB0aGUgaW5saW5lIGNvbW1lbnRzL2RvY3VtZW50YXRpb24gaW4gdGhlIHNvdXJjZSBjb2RlXG4gICAgICAgICAgICAvLyBoZXJlIGZvciBkZXRhaWxzOiBsaWIvanNwbHVtYi0xLjMuMTAuemlwXG4gICAgICAgICAgICBmdW5jdGlvbiByZXJlbmRlckpzUGx1bWJDb25uZWN0b3JzKCkge1xuICAgICAgICAgICAgICAgIHZhciBjb25uZWN0b3JUeXBlID0gdWlDb250cm9sc1BhbmUuZmluZCgnI2pzcGx1bWJDb25uZWN0b3JUeXBlJykudmFsKCk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbm5lY3RvclNwZWMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0b3JUeXBlID09PSBcIlN0YXRlTWFjaGluZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJ2aW5lc3MgPSB1aUNvbnRyb2xzUGFuZS5maW5kKCcjc21DdXJ2aW5lc3MnKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yU3BlYyA9IFtjb25uZWN0b3JUeXBlLCB7IGN1cnZpbmVzczogY3VydmluZXNzIH1dOyAvLyBtYXJnaW4gc2VlbXMgdG8gaGF2ZSBubyBlZmZlY3RcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29ubmVjdG9yVHlwZSA9PT0gXCJCZXppZXJcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VydmluZXNzID0gdWlDb250cm9sc1BhbmUuZmluZCgnI2JlemllckN1cnZpbmVzcycpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JTcGVjID0gW2Nvbm5lY3RvclR5cGUsIHsgY3VydmluZXNzOiBjdXJ2aW5lc3MgfV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbm5lY3RvclR5cGUgPT09IFwiU3RyYWlnaHRcIikge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JTcGVjID0gW2Nvbm5lY3RvclR5cGVdOyAvLyBzdHViIGFuZCBnYXAgc2VlbSB0byBoYXZlIG5vIGVmZmVjdFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KGNvbm5lY3RvclR5cGUgPT09IFwiRmxvd2NoYXJ0XCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBzdHViLCBtaWRwb2ludCwgYW5kIHJhZGl1cyBzZWVtIHRvIGhhdmUgbm8gZWZmZWN0IChhY3R1YWxseVxuICAgICAgICAgICAgICAgICAgICAvLyBzdHViIGNhdXNlcyBjcmFzaGVzLCBlcmdoKVxuICAgICAgICAgICAgICAgICAgICB2YXIgZ2FwID0gdWlDb250cm9sc1BhbmUuZmluZCgnI2dhcCcpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JTcGVjID0gW2Nvbm5lY3RvclR5cGUsIHsgZ2FwOiBnYXAgfV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0b3JTcGVjKSB7XG4gICAgICAgICAgICAgICAgICAgIG15c2VsZi5vd25lci5kYXRhVml6LmpzUGx1bWJJbnN0YW5jZS5pbXBvcnREZWZhdWx0cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBDb25uZWN0b3I6IGNvbm5lY3RvclNwZWMsXG4gICAgICAgICAgICAgICAgICAgICAgICBPdmVybGF5czogW1tcIkFycm93XCIsIHsgbGVuZ3RoOiB1aUNvbnRyb2xzUGFuZS5maW5kKCcjYXJyb3dMZW5ndGgnKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB1aUNvbnRyb2xzUGFuZS5maW5kKCcjYXJyb3dXaWR0aCcpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sZGJhY2s6IHVpQ29udHJvbHNQYW5lLmZpbmQoJyNhcnJvd0ZvbGRiYWNrJykudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogMSAvLyBhbHdheXMgMSwgd2hpY2ggbWVhbnMgdG8gZGlzcGxheSBhdCB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1dLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbXlzZWxmLm93bmVyLmRhdGFWaXoucmVuZGVyRGF0YVN0cnVjdHVyZXMobXlzZWxmLm93bmVyLmN1ckluc3RyKTsgLy8gVUdMWSFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3aGVuIGFueSBzbGlkZXIgaXMgbW92ZWQsIHVwZGF0ZSBpdHMgbnVtZXJpYyBkaXNwbGF5IGFuZCB0aGVuXG4gICAgICAgICAgICAvLyByZWRyYXcgYWxsIGpzUGx1bWIgY29ubmVjdG9ycyB3aXRoIG5ldyBvcHRpb25zXG4gICAgICAgICAgICB1aUNvbnRyb2xzUGFuZS5maW5kKCcuanNwbHVtYk9wdGlvblNsaWRlcicpLmVhY2goZnVuY3Rpb24gKGksIGUpIHtcbiAgICAgICAgICAgICAgICBlLm9uaW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQoZSkuc2libGluZ3MoJy5zbGlkZXJWYWwnKS5odG1sKHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXJlbmRlckpzUGx1bWJDb25uZWN0b3JzKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gc2hvdyBjZXJ0YWluIHNsaWRlcnMgZGVwZW5kaW5nIG9uIHZhbHVlIG9mIGpzcGx1bWJDb25uZWN0b3JUeXBlXG4gICAgICAgICAgICAvLyB1c2UgdGhpcyBhcyBhIHJlZmVyZW5jZTpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vY29tbXVuaXR5LmpzcGx1bWJ0b29sa2l0LmNvbS9kb2MvY29ubmVjdG9ycy5odG1sXG4gICAgICAgICAgICB1aUNvbnRyb2xzUGFuZS5maW5kKCcjanNwbHVtYkNvbm5lY3RvclR5cGUnKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB2ID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgICB1aUNvbnRyb2xzUGFuZS5maW5kKCcuc2xpZGVyV3JhcHBlcicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodiA9PT0gXCJTdGF0ZU1hY2hpbmVcIikge1xuICAgICAgICAgICAgICAgICAgICB1aUNvbnRyb2xzUGFuZS5maW5kKCcjc21DdXJ2aW5lc3MnKS5wYXJlbnQoJy5zbGlkZXJXcmFwcGVyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAvKiBtYXJnaW4gc2VlbXMgdG8gaGF2ZSBubyBlZmZlY3QgLi4uXG4gICAgICAgICAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJyNtYXJnaW4nKS5wYXJlbnQoJy5zbGlkZXJXcmFwcGVyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2ID09PSBcIkJlemllclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJyNiZXppZXJDdXJ2aW5lc3MnKS5wYXJlbnQoJy5zbGlkZXJXcmFwcGVyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2ID09PSBcIlN0cmFpZ2h0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLyogbmVpdGhlciBzdHViIG5vciBnYXAgc2VlbSB0byBoYXZlIGFueSBlZmZlY3QgOi9cbiAgICAgICAgICAgICAgICAgICAgdWlDb250cm9sc1BhbmUuZmluZCgnI3N0dWInKS52YWwoMCkuc2libGluZ3MoJy5zbGlkZXJWYWwnKS5odG1sKDApOyAvLyBzZXQgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICB1aUNvbnRyb2xzUGFuZS5maW5kKCcjc3R1YicpLnBhcmVudCgnLnNsaWRlcldyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJyNnYXAnKS5wYXJlbnQoJy5zbGlkZXJXcmFwcGVyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KHYgPT09IFwiRmxvd2NoYXJ0XCIpO1xuICAgICAgICAgICAgICAgICAgICAvKiBzdHViIHNlZW1zIHRvIGJlIGJvZ3VzIGFuZCByZXN1bHQgaW4gZXJyb3JzXG4gICAgICAgICAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJyNzdHViJykudmFsKDMwKS5zaWJsaW5ncygnLnNsaWRlclZhbCcpLmh0bWwoMzApOyAvLyBzZXQgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICB1aUNvbnRyb2xzUGFuZS5maW5kKCcjc3R1YicpLnBhcmVudCgnLnNsaWRlcldyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIG1pZHBvaW50IGFuZCBjb3JuZXJSYWRpdXMgc2VlbSBlcXVhbGx5IHVzZWxlc3NcbiAgICAgICAgICAgICAgICAgICAgdWlDb250cm9sc1BhbmUuZmluZCgnI21pZHBvaW50JykucGFyZW50KCcuc2xpZGVyV3JhcHBlcicpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgdWlDb250cm9sc1BhbmUuZmluZCgnI2Nvcm5lclJhZGl1cycpLnBhcmVudCgnLnNsaWRlcldyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJyNnYXAnKS5wYXJlbnQoJy5zbGlkZXJXcmFwcGVyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBhbHdheXMgc2hvdyBhcnJvdyBzdHVmZlxuICAgICAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJyNhcnJvd0xlbmd0aCwjYXJyb3dXaWR0aCwjYXJyb3dGb2xkYmFjaycpLnBhcmVudCgnLnNsaWRlcldyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgcmVyZW5kZXJKc1BsdW1iQ29ubmVjdG9ycygpOyAvLyByZS1yZW5kZXIgYmFzZWQgb24gbmV3IGNvbm5lY3RvciB0eXBlIGNob2ljZVxuICAgICAgICAgICAgfSkudmFsKCdTdGF0ZU1hY2hpbmUnKS5jaGFuZ2UoKTsgLy8gPC0tIHRyaWdnZXIgYSBjaGFuZ2UgZXZlbnQgb24gdGhpc1xuICAgICAgICAgICAgLy8gaW5pdGlhbCBzZXR0aW5nIHRvIGdldCB0aGUgY2hhbmdlXG4gICAgICAgICAgICAvLyBoYW5kbGVyIGFib3ZlIHRvIHJ1blxuICAgICAgICAgICAgLy8gc2V0IHVwIGluZnJhc3RydWN0dXJlIGZvciBzaG93aW5nL2hpZGluZyB2YXJpYWJsZXMgLyBvYmplY3QgZmllbGRzXG4gICAgICAgICAgICB2YXIgYWxsVmFybmFtZXMgPSBfdGhpcy5vd25lci5kYXRhVml6LmdldEFsbFByb2dyYW1WYXJuYW1lcygpO1xuICAgICAgICAgICAgdmFyIGFsbEZpZWxkbmFtZXMgPSBfdGhpcy5vd25lci5kYXRhVml6LmdldEFsbFByb2dyYW1PYmplY3RGaWVsZE5hbWVzKCk7XG4gICAgICAgICAgICB2YXIgdmFybmFtZUNob2ljZXMgPSB2YXJsaXN0VG9IdG1sKGFsbFZhcm5hbWVzKTtcbiAgICAgICAgICAgIHZhciBmaWVsZG5hbWVDaG9pY2VzID0gdmFybGlzdFRvSHRtbChhbGxGaWVsZG5hbWVzKTtcbiAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJyNoaWRlVmFyc0Nob2ljZXMnKS5odG1sKCc8Yj48ZW0+Q2hvaWNlczo8L2VtPjwvYj4gJyArIHZhcm5hbWVDaG9pY2VzKTtcbiAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJyNoaWRlRmllbGRzQ2hvaWNlcycpLmh0bWwoJzxiPjxlbT5DaG9pY2VzOjwvZW0+PC9iPiAnICsgZmllbGRuYW1lQ2hvaWNlcyk7XG4gICAgICAgICAgICB1aUNvbnRyb2xzUGFuZS5maW5kKCcjdXBkYXRlSGlkZVZhcnNCdG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhpZGVWYXJzTHN0ID0gcHJvY2Vzc0hpZGVTdHJpbmcodWlDb250cm9sc1BhbmUuZmluZCgnI2hpZGVWYXJzJykudmFsKCkpO1xuICAgICAgICAgICAgICAgIHZhciBoaWRlRmllbGRzTHN0ID0gcHJvY2Vzc0hpZGVTdHJpbmcodWlDb250cm9sc1BhbmUuZmluZCgnI2hpZGVGaWVsZHMnKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgX3RoaXMub3duZXIuZGF0YVZpei5zZWxlY3RpdmVseUhpZGVWYXJzQW5kRmllbGRzKGhpZGVWYXJzTHN0LCBoaWRlRmllbGRzTHN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBkb24ndCBmb2xsb3cgdGhlIGxpbmsgYW5kIHJlbG9hZCB0aGUgcGFnZSFcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIE5hdmlnYXRpb25Db250cm9sbGVyLnByb3RvdHlwZS5oaWRlVXNlcklucHV0RGl2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI3Jhd1VzZXJJbnB1dERpdicpLmhpZGUoKTtcbiAgICB9O1xuICAgIE5hdmlnYXRpb25Db250cm9sbGVyLnByb3RvdHlwZS5zaG93VXNlcklucHV0RGl2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI3Jhd1VzZXJJbnB1dERpdicpLnNob3coKTtcbiAgICB9O1xuICAgIE5hdmlnYXRpb25Db250cm9sbGVyLnByb3RvdHlwZS5zZXRTbGlkZXJWYWwgPSBmdW5jdGlvbiAodikge1xuICAgICAgICAvLyBQUk9HUkFNTUFUSUNBTExZIGNoYW5nZSB0aGUgdmFsdWUsIHNvIGV2dC5vcmlnaW5hbEV2ZW50IHNob3VsZCBiZSB1bmRlZmluZWRcbiAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNleGVjdXRpb25TbGlkZXInKS5zbGlkZXIoJ3ZhbHVlJywgdik7XG4gICAgfTtcbiAgICBOYXZpZ2F0aW9uQ29udHJvbGxlci5wcm90b3R5cGUuc2V0VmNyQ29udHJvbHMgPSBmdW5jdGlvbiAobXNnLCBpc0ZpcnN0SW5zdHIsIGlzTGFzdEluc3RyKSB7XG4gICAgICAgIHZhciB2Y3JDb250cm9scyA9IHRoaXMuZG9tUm9vdC5maW5kKFwiI3ZjckNvbnRyb2xzXCIpO1xuICAgICAgICB2Y3JDb250cm9scy5maW5kKFwiI2ptcEZpcnN0SW5zdHJcIikuYXR0cihcImRpc2FibGVkXCIsIGZhbHNlKTtcbiAgICAgICAgdmNyQ29udHJvbHMuZmluZChcIiNqbXBTdGVwQmFja1wiKS5hdHRyKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xuICAgICAgICB2Y3JDb250cm9scy5maW5kKFwiI2ptcFN0ZXBGd2RcIikuYXR0cihcImRpc2FibGVkXCIsIGZhbHNlKTtcbiAgICAgICAgdmNyQ29udHJvbHMuZmluZChcIiNqbXBMYXN0SW5zdHJcIikuYXR0cihcImRpc2FibGVkXCIsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoXCIjY3VySW5zdHJcIikuaHRtbChtc2cpO1xuICAgICAgICBpZiAoaXNGaXJzdEluc3RyKSB7XG4gICAgICAgICAgICB2Y3JDb250cm9scy5maW5kKFwiI2ptcEZpcnN0SW5zdHJcIikuYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICAgICAgdmNyQ29udHJvbHMuZmluZChcIiNqbXBTdGVwQmFja1wiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTGFzdEluc3RyKSB7XG4gICAgICAgICAgICB2Y3JDb250cm9scy5maW5kKFwiI2ptcExhc3RJbnN0clwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICB2Y3JDb250cm9scy5maW5kKFwiI2ptcFN0ZXBGd2RcIikuYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOYXZpZ2F0aW9uQ29udHJvbGxlci5wcm90b3R5cGUuc2V0dXBTbGlkZXIgPSBmdW5jdGlvbiAobWF4U2xpZGVyVmFsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGFzc2VydChtYXhTbGlkZXJWYWwgPj0gMCk7XG4gICAgICAgIHZhciBzbGlkZXJEaXYgPSB0aGlzLmRvbVJvb3QuZmluZCgnI2V4ZWN1dGlvblNsaWRlcicpO1xuICAgICAgICBzbGlkZXJEaXYuc2xpZGVyKHsgbWluOiAwLCBtYXg6IG1heFNsaWRlclZhbCwgc3RlcDogMSB9KTtcbiAgICAgICAgLy8gZGlzYWJsZSBrZXlib2FyZCBhY3Rpb25zIG9uIHRoZSBzbGlkZXIgaXRzZWxmICh0byBwcmV2ZW50IGRvdWJsZS1maXJpbmdcbiAgICAgICAgLy8gb2YgZXZlbnRzKSwgYW5kIG1ha2Ugc2tpbm5pZXIgYW5kIHRhbGxlclxuICAgICAgICBzbGlkZXJEaXZcbiAgICAgICAgICAgIC5maW5kKFwiLnVpLXNsaWRlci1oYW5kbGVcIilcbiAgICAgICAgICAgIC51bmJpbmQoJ2tleWRvd24nKVxuICAgICAgICAgICAgLmNzcygnd2lkdGgnLCAnMC44ZW0nKVxuICAgICAgICAgICAgLmNzcygnaGVpZ2h0JywgJzEuNGVtJyk7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKFwiLnVpLXdpZGdldC1jb250ZW50XCIpLmNzcygnZm9udC1zaXplJywgJzAuOWVtJyk7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjZXhlY3V0aW9uU2xpZGVyJykuYmluZCgnc2xpZGUnLCBmdW5jdGlvbiAoZXZ0LCB1aSkge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBTVVBFUiBzdWJ0bGUuIGlmIHRoaXMgdmFsdWUgd2FzIGNoYW5nZWQgcHJvZ3JhbW1hdGljYWxseSxcbiAgICAgICAgICAgIC8vIHRoZW4gZXZ0Lm9yaWdpbmFsRXZlbnQgd2lsbCBiZSB1bmRlZmluZWQuIGhvd2V2ZXIsIGlmIHRoaXMgdmFsdWVcbiAgICAgICAgICAgIC8vIHdhcyBjaGFuZ2VkIGJ5IGEgdXNlci1pbml0aWF0ZWQgZXZlbnQsIHRoZW4gdGhpcyBjb2RlIHNob3VsZCBiZVxuICAgICAgICAgICAgLy8gZXhlY3V0ZWQgLi4uXG4gICAgICAgICAgICBpZiAoZXZ0Lm9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vd25lci5yZW5kZXJTdGVwKHVpLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBOYXZpZ2F0aW9uQ29udHJvbGxlci5wcm90b3R5cGUucmVuZGVyU2xpZGVyQnJlYWtwb2ludHMgPSBmdW5jdGlvbiAoc29ydGVkQnJlYWtwb2ludHNMaXN0KSB7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKFwiI2V4ZWN1dGlvblNsaWRlckZvb3RlclwiKS5lbXB0eSgpO1xuICAgICAgICB2YXIgdyA9IHRoaXMuZG9tUm9vdC5maW5kKCcjZXhlY3V0aW9uU2xpZGVyJykud2lkdGgoKTtcbiAgICAgICAgLy8gSSBvcmlnaW5hbGx5IGRpZG4ndCB3YW50IHRvIGRlbGV0ZSBhbmQgcmUtY3JlYXRlIHRoaXMgb3ZlcmxheSBldmVyeSB0aW1lLFxuICAgICAgICAvLyBidXQgaWYgSSBkb24ndCBkbyBzbywgdGhlcmUgYXJlIHdlaXJkIGZsaWNrZXJpbmcgYXJ0aWZhY3RzIHdpdGggY2xlYXJpbmdcbiAgICAgICAgLy8gdGhlIFNWRyBjb250YWluZXI7IHNvIGl0J3MgYmVzdCB0byBqdXN0IGRlbGV0ZSBhbmQgcmUtY3JlYXRlIHRoZSBjb250YWluZXIgZWFjaCB0aW1lXG4gICAgICAgIHZhciBzbGlkZXJPdmVybGF5ID0gdGhpcy5kb21Sb290RDMuc2VsZWN0KCcjZXhlY3V0aW9uU2xpZGVyRm9vdGVyJylcbiAgICAgICAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAgICAgICAuYXR0cignaWQnLCAnc2xpZGVyT3ZlcmxheScpXG4gICAgICAgICAgICAuYXR0cignd2lkdGgnLCB3KVxuICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIDEyKTtcbiAgICAgICAgdmFyIHhyYW5nZSA9IGQzLnNjYWxlLmxpbmVhcigpXG4gICAgICAgICAgICAuZG9tYWluKFswLCB0aGlzLm5TdGVwcyAtIDFdKVxuICAgICAgICAgICAgLnJhbmdlKFswLCB3XSk7XG4gICAgICAgIHNsaWRlck92ZXJsYXkuc2VsZWN0QWxsKCdyZWN0JylcbiAgICAgICAgICAgIC5kYXRhKHNvcnRlZEJyZWFrcG9pbnRzTGlzdClcbiAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgncmVjdCcpXG4gICAgICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICAvLyBtYWtlIGVkZ2UgY2FzZSBvZiAwIGxvb2sgZGVjZW50OlxuICAgICAgICAgICAgcmV0dXJuIChkID09PSAwKSA/IDAgOiB4cmFuZ2UoZCkgLSAxO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmF0dHIoJ3knLCAwKVxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgMilcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCAxMilcbiAgICAgICAgICAgIC5zdHlsZSgnZmlsbCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gYnJlYWtwb2ludENvbG9yO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE5hdmlnYXRpb25Db250cm9sbGVyLnByb3RvdHlwZS5zaG93RXJyb3IgPSBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIGlmIChtc2cpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKFwiI2Vycm9yT3V0cHV0XCIpLmh0bWwoaHRtbHNwZWNpYWxjaGFycyhtc2cpICsgKFwiXFxuICAgICAgPGRpdiBzdHlsZT1cXFwiZm9udC1zaXplOiAxMXB0OyBjb2xvcjogIzY2NlxcXCI+KFwiICsgZm9vdGVyX2h0bWxfMS51bnN1cHBvcnRlZEZlYXR1cmVzU3RyICsgXCIpPC9kaXY+XCIpKS5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZChcIiNlcnJvck91dHB1dFwiKS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOYXZpZ2F0aW9uQ29udHJvbGxlcjtcbn0oKSk7IC8vIEVORCBjbGFzcyBOYXZpZ2F0aW9uQ29udHJvbGxlclxuLy8gVXRpbGl0aWVzXG5mdW5jdGlvbiBhc3NlcnQoY29uZCkge1xuICAgIGlmICghY29uZCkge1xuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICAgIGFsZXJ0KFwiQXNzZXJ0aW9uIEZhaWx1cmUgKHNlZSBjb25zb2xlIGxvZyBmb3IgYmFja3RyYWNlKVwiKTtcbiAgICAgICAgdGhyb3cgJ0Fzc2VydGlvbiBGYWlsdXJlJztcbiAgICB9XG59XG5leHBvcnRzLmFzc2VydCA9IGFzc2VydDtcbi8vIHRha2VuIGZyb20gaHR0cDovL3d3dy50b2FvLm5ldC8zMi1teS1odG1sc3BlY2lhbGNoYXJzLWZ1bmN0aW9uLWZvci1qYXZhc2NyaXB0XG5mdW5jdGlvbiBodG1sc3BlY2lhbGNoYXJzKHN0cikge1xuICAgIGlmICh0eXBlb2YgKHN0cikgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgvJi9nLCBcIiZhbXA7XCIpOyAvKiBtdXN0IGRvICZhbXA7IGZpcnN0ICovXG4gICAgICAgIC8vIGlnbm9yZSB0aGVzZSBmb3Igbm93IC4uLlxuICAgICAgICAvL3N0ciA9IHN0ci5yZXBsYWNlKC9cIi9nLCBcIiZxdW90O1wiKTtcbiAgICAgICAgLy9zdHIgPSBzdHIucmVwbGFjZSgvJy9nLCBcIiYjMDM5O1wiKTtcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpO1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgvPi9nLCBcIiZndDtcIik7XG4gICAgICAgIC8vIHJlcGxhY2Ugc3BhY2VzOlxuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgvIC9nLCBcIiZuYnNwO1wiKTtcbiAgICAgICAgLy8gcmVwbGFjZSB0YWIgYXMgZm91ciBzcGFjZXM6XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9cXHQvZywgXCImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDtcIik7XG4gICAgICAgIC8vIHJlcGxhY2UgbmV3bGluZSBhcyA8YnIvPlxuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShuZXdsaW5lQWxsUmVnZXgsICc8YnIvPicpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xufVxuZXhwb3J0cy5odG1sc3BlY2lhbGNoYXJzID0gaHRtbHNwZWNpYWxjaGFycztcbi8vIHNhbWUgYXMgaHRtbHNwZWNpYWxjaGFycyBleGNlcHQgZG9uJ3Qgd29ycnkgYWJvdXQgZXhwYW5kaW5nIHNwYWNlcyBvclxuLy8gdGFicyBzaW5jZSB3ZSB3YW50IHByb3BlciB3b3JkIHdyYXBwaW5nIGluIGRpdnMuXG5mdW5jdGlvbiBodG1sc2FuaXRpemUoc3RyKSB7XG4gICAgaWYgKHR5cGVvZiAoc3RyKSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIik7IC8qIG11c3QgZG8gJmFtcDsgZmlyc3QgKi9cbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpO1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgvPi9nLCBcIiZndDtcIik7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5TdHJpbmcucHJvdG90eXBlIC8qIFRTIHRvbyBzdHJpY3QgKi8ucnRyaW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXFxzKiQvZywgXCJcIik7XG59O1xuLy8gbWFrZSBzdXJlIHZhcm5hbWUgZG9lc24ndCBjb250YWluIGFueSB3ZWlyZFxuLy8gY2hhcmFjdGVycyB0aGF0IGFyZSBpbGxlZ2FsIGZvciBDU1MgSUQncyAuLi5cbi8vXG4vLyBJIGtub3cgZm9yIGEgZmFjdCB0aGF0IGl0ZXJhdG9yIHRtcCB2YXJpYWJsZXMgbmFtZWQgJ19bMV0nXG4vLyBhcmUgTk9UIGxlZ2FsIG5hbWVzIGZvciBDU1MgSUQncy5cbi8vIEkgYWxzbyB0aHJldyBpbiAneycsICd9JywgJygnLCAnKScsICc8JywgJz4nIGFzIGlsbGVnYWwgY2hhcmFjdGVycy5cbi8vXG4vLyBhbHNvIHNvbWUgdmFyaWFibGUgbmFtZXMgYXJlIGxpa2UgJy4wJyAoZm9yIGdlbmVyYXRvciBleHByZXNzaW9ucyksXG4vLyBhbmQgJy4nIHNlZW1zIHRvIGJlIGlsbGVnYWwuXG4vL1xuLy8gYWxzbyAnPScsICchJywgYW5kICc/JyBhcmUgY29tbW9uIGluIFJ1YnkgbmFtZXMsIHNvIGVzY2FwZSB0aG9zZSBhcyB3ZWxsXG4vLyAnJCcgc29tZXRpbWVzIGZvdW5kIGluIEphdmFTY3JpcHQgbmFtZXMsIHNvIGVzY2FwZSBhcyB3ZWxsXG4vL1xuLy8gYWxzbyBzcGFjZXMgYXJlIGlsbGVnYWwsIHNvIGNvbnZlcnQgdG8gJ18nXG4vLyBUT0RPOiB3aGF0IG90aGVyIGNoYXJhY3RlcnMgYXJlIGlsbGVnYWw/Pz9cbnZhciBsYlJFID0gbmV3IFJlZ0V4cCgnXFxcXFt8e3xcXFxcKHw8JywgJ2cnKTtcbnZhciByYlJFID0gbmV3IFJlZ0V4cCgnXFxcXF18fXxcXFxcKXw+JywgJ2cnKTtcbmZ1bmN0aW9uIHZhcm5hbWVUb0Nzc0lEKHZhcm5hbWUpIHtcbiAgICAvLyBtYWtlIHN1cmUgdG8gUkVQTEFDRSBBTEwgKHVzaW5nIHRoZSAnZycgb3B0aW9uKVxuICAgIC8vIHJhdGhlciB0aGFuIGp1c3QgcmVwbGFjaW5nIHRoZSBmaXJzdCBlbnRyeVxuICAgIHJldHVybiB2YXJuYW1lLnJlcGxhY2UobGJSRSwgJ0xlZnRCXycpXG4gICAgICAgIC5yZXBsYWNlKHJiUkUsICdfUmlnaHRCJylcbiAgICAgICAgLnJlcGxhY2UoL1shXS9nLCAnX0JBTkdfJylcbiAgICAgICAgLnJlcGxhY2UoL1s/XS9nLCAnX1FVRVNfJylcbiAgICAgICAgLnJlcGxhY2UoL1s6XS9nLCAnX0NPTE9OXycpXG4gICAgICAgIC5yZXBsYWNlKC9bPV0vZywgJ19FUV8nKVxuICAgICAgICAucmVwbGFjZSgvWy5dL2csICdfRE9UXycpXG4gICAgICAgIC5yZXBsYWNlKC9bJF0vZywgJ19ET0xMQVJfJylcbiAgICAgICAgLnJlcGxhY2UoLyAvZywgJ18nKTtcbn1cbmZ1bmN0aW9uIGlzSGVhcFJlZihvYmosIGhlYXApIHtcbiAgICAvLyBvcmRpbmFyeSBSRUZcbiAgICBpZiAob2JqWzBdID09PSAnUkVGJykge1xuICAgICAgICByZXR1cm4gKGhlYXBbb2JqWzFdXSAhPT0gdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgZWxzZSBpZiAob2JqWzBdID09PSAnQ19EQVRBJyAmJiBvYmpbMl0gPT09ICdwb2ludGVyJykge1xuICAgICAgICAvLyBDLXN0eWxlIHBvaW50ZXIgdGhhdCBoYXMgYSB2YWxpZCB2YWx1ZVxuICAgICAgICBpZiAob2JqWzNdICE9ICc8VU5JTklUSUFMSVpFRD4nICYmIG9ialszXSAhPSAnPFVOQUxMT0NBVEVEPicpIHtcbiAgICAgICAgICAgIHJldHVybiAoaGVhcFtvYmpbM11dICE9PSB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldFJlZklEKG9iaikge1xuICAgIGlmIChvYmpbMF0gPT0gJ1JFRicpIHtcbiAgICAgICAgcmV0dXJuIG9ialsxXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFzc2VydChvYmpbMF0gPT09ICdDX0RBVEEnICYmIG9ialsyXSA9PT0gJ3BvaW50ZXInKTtcbiAgICAgICAgYXNzZXJ0KG9ialszXSAhPSAnPFVOSU5JVElBTElaRUQ+JyAmJiBvYmpbM10gIT0gJzxVTkFMTE9DQVRFRD4nKTtcbiAgICAgICAgcmV0dXJuIG9ialszXTsgLy8gcG9pbnRlZC10byBhZGRyZXNzXG4gICAgfVxufVxuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygwKSwgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wcml2YWN5QW5kRW5kaW5nSFRNTCA9IFwiXFxuXFxuPHAgc3R5bGU9XFxcIm1hcmdpbi10b3A6IDMwcHg7XFxcIj5Qcml2YWN5IFBvbGljeTogQnkgdXNpbmcgUHl0aG9uIFR1dG9yLCB5b3VyXFxudmlzdWFsaXplZCBjb2RlLCBvcHRpb25zLCB1c2VyIGludGVyYWN0aW9ucywgdGV4dCBjaGF0cywgYW5kIElQIGFkZHJlc3NcXG5hcmUgbG9nZ2VkIG9uIG91ciBzZXJ2ZXIgYW5kIG1heSBiZSBhbmFseXplZCBmb3IgcmVzZWFyY2ggcHVycG9zZXMuXFxuTmVhcmx5IGFsbCB3ZWIgc2VydmljZXMgY29sbGVjdCB0aGlzIGJhc2ljIGluZm9ybWF0aW9uIGZyb20gdXNlcnMgaW5cXG50aGVpciBzZXJ2ZXIgbG9ncy4gSG93ZXZlciwgUHl0aG9uIFR1dG9yIGRvZXMgbm90IGNvbGxlY3QgYW55IHBlcnNvbmFsbHlcXG5pZGVudGlmaWFibGUgaW5mb3JtYXRpb24gZnJvbSBpdHMgdXNlcnMuIEl0IHVzZXMgR29vZ2xlIEFuYWx5dGljcyBmb3JcXG53ZWJzaXRlIGFuYWx5dGljcy48L3A+XFxuXFxuPHA+VGVybXMgb2YgU2VydmljZTogVGhlIFB5dGhvbiBUdXRvciBzZXJ2aWNlIGlzIHByb3ZpZGVkIGZvciBmcmVlIG9uIGFuXFxuYXMtaXMgYmFzaXMuIFVzZSB0aGlzIHNlcnZpY2UgYXQgeW91ciBvd24gcmlzay4gRG8gbm90IHVzZSBpdCB0byBzaGFyZVxcbmNvbmZpZGVudGlhbCBpbmZvcm1hdGlvbi4gVGhlIGRldmVsb3BlcnMgb2YgUHl0aG9uIFR1dG9yIGFyZSBub3RcXG5yZXNwb25zaWJsZSBmb3IgdGhlIGNoYXQgbWVzc2FnZXMgb3IgYmVoYXZpb3JzIG9mIGFueSBvZiB0aGUgdXNlcnMgb25cXG50aGlzIHdlYnNpdGUuIFdlIGFyZSBhbHNvIG5vdCByZXNwb25zaWJsZSBmb3IgYW55IGRhbWFnZXMgY2F1c2VkIGJ5XFxudXNpbmcgdGhpcyB3ZWJzaXRlLiBGaW5hbGx5LCBpdCBpcyB5b3VyIHJlc3BvbnNpYmlsaXR5IHRvIGZvbGxvd1xcbmFwcHJvcHJpYXRlIGFjYWRlbWljIGludGVncml0eSBzdGFuZGFyZHMuPC9wPlxcblxcbjxwIHN0eWxlPVxcXCJtYXJnaW4tdG9wOiAyNXB4O1xcXCI+XFxuQ29weXJpZ2h0ICZjb3B5OyA8YSBocmVmPVxcXCJodHRwOi8vd3d3LnBnYm92aW5lLm5ldC9cXFwiPlBoaWxpcCBHdW88L2E+LiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cXG48L3A+XCI7XG5leHBvcnRzLmZvb3Rlckh0bWwgPSBcIlxcbjxwIHN0eWxlPVxcXCJtYXJnaW4tdG9wOiAyMHB4OyBtYXJnaW4tYm90dG9tOiAzMHB4O1xcXCI+PGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL3BnYm92aW5lL09ubGluZVB5dGhvblR1dG9yL2Jsb2IvbWFzdGVyL3Vuc3VwcG9ydGVkLWZlYXR1cmVzLm1kXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+dW5zdXBwb3J0ZWQgZmVhdHVyZXM8L2E+IHxcXG48YSBocmVmPVxcXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PTgwenRUWFA5MFZzJmxpc3Q9UEx6VjU4Wm04RnVCTDJXeHhaS0daNmoxZEg4TktiX0hZSSZpbmRleD01XFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+c2V0dGluZyBicmVha3BvaW50czwvYT4gfFxcbjxhIGhyZWY9XFxcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9TXh0OUhaV2d3QU0mbGlzdD1QTHpWNThabThGdUJMMld4eFpLR1o2ajFkSDhOS2JfSFlJJmluZGV4PTZcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5oaWRpbmcgdmFyaWFibGVzPC9hPiB8XFxuPGEgaHJlZj1cXFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1Kakd0OTVUZTB3byZpbmRleD0zJmxpc3Q9UEx6VjU4Wm04RnVCTDJXeHhaS0daNmoxZEg4TktiX0hZSVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPmxpdmUgcHJvZ3JhbW1pbmc8L2E+XFxuPC9wPlxcblxcbjxwPlxcbiAgPGJ1dHRvbiBpZD1cXFwiZ2VuVXJsQnRuXFxcIiBjbGFzcz1cXFwic21hbGxCdG5cXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+R2VuZXJhdGUgcGVybWFuZW50IGxpbms8L2J1dHRvbj4gPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGlkPVxcXCJ1cmxPdXRwdXRcXFwiIHNpemU9XFxcIjYwXFxcIi8+XFxuKDxhIGhyZWY9XFxcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9aDRxM1VLZEVGS0VcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj52aWRlbyBkZW1vPC9hPilcXG48L3A+XFxuXFxuPGRpdiBpZD1cXFwiZW1iZWRMaW5rRGl2XFxcIj5cXG48cD5cXG4gIDxidXR0b24gaWQ9XFxcImdlbkVtYmVkQnRuXFxcIiBjbGFzcz1cXFwic21hbGxCdG5cXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+R2VuZXJhdGUgZW1iZWQgY29kZTwvYnV0dG9uPiA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgaWQ9XFxcImVtYmVkQ29kZU91dHB1dFxcXCIgc2l6ZT1cXFwiNjBcXFwiLz4gKGFsc28gc3VwcG9ydHMgaHR0cHM6Ly8pXFxuPC9wPlxcbjwvZGl2PlxcblxcbjxwIHN0eWxlPVxcXCJtYXJnaW4tdG9wOiAyNXB4O1xcXCI+XFxuPGEgaHJlZj1cXFwiaHR0cDovL3B5dGhvbnR1dG9yLmNvbS9cXFwiPlB5dGhvbiBUdXRvcjwvYT4gKDxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS9wZ2JvdmluZS9PbmxpbmVQeXRob25UdXRvclxcXCI+Y29kZSBvbiBHaXRIdWI8L2E+KSBzdXBwb3J0czpcXG5cXG5QeXRob24gPGEgaHJlZj1cXFwiaHR0cHM6Ly9kb2NzLnB5dGhvbi5vcmcvMy42L1xcXCI+My42PC9hPiBhbmQgPGFcXG5ocmVmPVxcXCJodHRwczovL2RvY3MucHl0aG9uLm9yZy8yLjcvXFxcIj4yLjc8L2E+IHdpdGggbGltaXRlZCBpbXBvcnRzXFxuKF9fZnV0dXJlX18sIGFiYywgYXJyYXksIGJpc2VjdCwgY2FsZW5kYXIsXFxuY21hdGgsIGNvbGxlY3Rpb25zLCBjb3B5LCBkYXRldGltZSwgZGVjaW1hbCxcXG5kb2N0ZXN0LCBmcmFjdGlvbnMsIGZ1bmN0b29scywgaGFzaGxpYiwgaGVhcHEsXFxuaW8sIGl0ZXJ0b29scywganNvbiwgbG9jYWxlLCBtYXRoLFxcbm9wZXJhdG9yLCBwaWNrbGUsIHBwcmludCwgcmFuZG9tLCByZSxcXG5zdHJpbmcsIHRpbWUsIHR5cGVzLCB1bml0dGVzdCwgU3RyaW5nSU8gKFB5dGhvbiAyKSwgdHlwaW5nIChQeXRob24gMykpLFxcblxcbk9yYWNsZSBKYXZhIDggKGltcGxlbWVudGVkIGJ5IDxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS9kYXZlYWdwXFxcIj5EYXZpZCBQcml0Y2hhcmQ8L2E+IGFuZCBXaWxsIEd3b3pkeixcXG5zdXBwb3J0c1xcbjxjb2RlPjxhIGhyZWY9XFxcImh0dHA6Ly9pbnRyb2NzLmNzLnByaW5jZXRvbi5lZHUvamF2YS9zdGRsaWIvamF2YWRvYy9TdGRJbi5odG1sXFxcIj5TdGRJbjwvYT48L2NvZGU+LCBcXG48Y29kZT48YSBocmVmPVxcXCJodHRwOi8vaW50cm9jcy5jcy5wcmluY2V0b24uZWR1L2phdmEvc3RkbGliL2phdmFkb2MvU3RkT3V0Lmh0bWxcXFwiPlN0ZE91dDwvYT48L2NvZGU+LCBcXG5tb3N0IG90aGVyIDxhIGhyZWY9XFxcImh0dHA6Ly9pbnRyb2NzLmNzLnByaW5jZXRvbi5lZHUvamF2YS9zdGRsaWJcXFwiPjx0dD5zdGRsaWI8L3R0PiBsaWJyYXJpZXM8L2E+LFxcbjxhIGhyZWY9XFxcImh0dHA6Ly9pbnRyb2NzLmNzLnByaW5jZXRvbi5lZHUvamF2YS80M3N0YWNrL1N0YWNrLmphdmEuaHRtbFxcXCI+PHR0PlN0YWNrPC90dD48L2E+LFxcbjxhIGhyZWY9XFxcImh0dHA6Ly9pbnRyb2NzLmNzLnByaW5jZXRvbi5lZHUvamF2YS80M3N0YWNrL1F1ZXVlLmphdmEuaHRtbFxcXCI+PHR0PlF1ZXVlPC90dD48L2E+LFxcbmFuZCA8YSBocmVmPVxcXCJodHRwOi8vaW50cm9jcy5jcy5wcmluY2V0b24uZWR1L2phdmEvNDRzdC9TVC5qYXZhLmh0bWxcXFwiPjx0dD5TVDwvdHQ+PC9hPi5cXG5UbyBhY2Nlc3MgYnVpbHQtaW4gPHR0PlN0YWNrPC90dD4vPHR0PlF1ZXVlPC90dD4gY2xhc3Nlcywgd3JpdGU6XFxuPHR0PmltcG9ydCBqYXZhLnV0aWwuU3RhY2s7PC90dD4gVGhpcyB3b24ndCB3b3JrOiA8dHQ+aW1wb3J0XFxuamF2YS51dGlsLio7PC90dD4pLFxcblxcbkphdmFTY3JpcHQgRVM2IGFuZCBUeXBlU2NyaXB0IDEuNC4xIChOb2RlLmpzIHY2LjAuMCksIFJ1YnkgMiAoTVJJIDIuMi4yKSwgQyBhbmQgQysrIChnY2MgNC44LCBDMTEvQysrMTEsIFZhbGdyaW5kIE1lbWNoZWNrKTwvcD5cXG5cXG5cIiArIGV4cG9ydHMucHJpdmFjeUFuZEVuZGluZ0hUTUw7XG5leHBvcnRzLm51bGxUcmFjZUVycm9yTHN0ID0gW1xuICAgIFwiVW5rbm93biBlcnJvcjogVGhlIHNlcnZlciBpcyBPVkVSTE9BREVEIG9yIHlvdXIgY29kZSBoYXMgVU5TVVBQT1JURUQgRkVBVFVSRVMuXCIsXG4gICAgXCJUcnkgYWdhaW4gbGF0ZXIuIFRoaXMgc2l0ZSBpcyBmcmVlIHdpdGggTk8gYXZhaWxhYmxlIHRlY2huaWNhbCBzdXBwb3J0LiBbI051bGxUcmFjZV1cIlxuXTtcbmV4cG9ydHMudW5zdXBwb3J0ZWRGZWF0dXJlc1N0ciA9ICdzZWUgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9wZ2JvdmluZS9PbmxpbmVQeXRob25UdXRvci9ibG9iL21hc3Rlci91bnN1cHBvcnRlZC1mZWF0dXJlcy5tZFwiPlVOU1VQUE9SVEVEIEZFQVRVUkVTPC9hPic7XG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihqUXVlcnkpIHsvKlxuICogalF1ZXJ5IGRvVGltZW91dDogTGlrZSBzZXRUaW1lb3V0LCBidXQgYmV0dGVyISAtIHYxLjAgLSAzLzMvMjAxMFxuICogaHR0cDovL2JlbmFsbWFuLmNvbS9wcm9qZWN0cy9qcXVlcnktZG90aW1lb3V0LXBsdWdpbi9cbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDEwIFwiQ293Ym95XCIgQmVuIEFsbWFuXG4gKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlcy5cbiAqIGh0dHA6Ly9iZW5hbG1hbi5jb20vYWJvdXQvbGljZW5zZS9cbiAqL1xuKGZ1bmN0aW9uKCQpe3ZhciBhPXt9LGM9XCJkb1RpbWVvdXRcIixkPUFycmF5LnByb3RvdHlwZS5zbGljZTskW2NdPWZ1bmN0aW9uKCl7cmV0dXJuIGIuYXBwbHkod2luZG93LFswXS5jb25jYXQoZC5jYWxsKGFyZ3VtZW50cykpKX07JC5mbltjXT1mdW5jdGlvbigpe3ZhciBmPWQuY2FsbChhcmd1bWVudHMpLGU9Yi5hcHBseSh0aGlzLFtjK2ZbMF1dLmNvbmNhdChmKSk7cmV0dXJuIHR5cGVvZiBmWzBdPT09XCJudW1iZXJcInx8dHlwZW9mIGZbMV09PT1cIm51bWJlclwiP3RoaXM6ZX07ZnVuY3Rpb24gYihsKXt2YXIgbT10aGlzLGgsaz17fSxnPWw/JC5mbjokLG49YXJndW1lbnRzLGk9NCxmPW5bMV0saj1uWzJdLHA9blszXTtpZih0eXBlb2YgZiE9PVwic3RyaW5nXCIpe2ktLTtmPWw9MDtqPW5bMV07cD1uWzJdfWlmKGwpe2g9bS5lcSgwKTtoLmRhdGEobCxrPWguZGF0YShsKXx8e30pfWVsc2V7aWYoZil7az1hW2ZdfHwoYVtmXT17fSl9fWsuaWQmJmNsZWFyVGltZW91dChrLmlkKTtkZWxldGUgay5pZDtmdW5jdGlvbiBlKCl7aWYobCl7aC5yZW1vdmVEYXRhKGwpfWVsc2V7aWYoZil7ZGVsZXRlIGFbZl19fX1mdW5jdGlvbiBvKCl7ay5pZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ay5mbigpfSxqKX1pZihwKXtrLmZuPWZ1bmN0aW9uKHEpe2lmKHR5cGVvZiBwPT09XCJzdHJpbmdcIil7cD1nW3BdfXAuYXBwbHkobSxkLmNhbGwobixpKSk9PT10cnVlJiYhcT9vKCk6ZSgpfTtvKCl9ZWxzZXtpZihrLmZuKXtqPT09dW5kZWZpbmVkP2UoKTprLmZuKGo9PT1mYWxzZSk7cmV0dXJuIHRydWV9ZWxzZXtlKCl9fX19KShqUXVlcnkpO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMCkpKVxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIG9wdGlvbnMgPSB7fTtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGUsIG5vLXBhcmFtLXJlYXNzaWduXG5cblxuICB1cmwgPSB1cmwgJiYgdXJsLl9fZXNNb2R1bGUgPyB1cmwuZGVmYXVsdCA6IHVybDtcblxuICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9IC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuXG5cbiAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgdXJsID0gdXJsLnNsaWNlKDEsIC0xKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9IC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcblxuXG4gIGlmICgvW1wiJygpIFxcdFxcbl0vLnRlc3QodXJsKSB8fCBvcHRpb25zLm5lZWRRdW90ZXMpIHtcbiAgICByZXR1cm4gXCJcXFwiXCIuY29uY2F0KHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csICdcXFxcbicpLCBcIlxcXCJcIik7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTtcblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihfX3dlYnBhY2tfYW1kX29wdGlvbnNfXykgey8qIGdsb2JhbHMgX193ZWJwYWNrX2FtZF9vcHRpb25zX18gKi9cclxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcclxuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywge30pKVxuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChhLGIpe3RyeXtmb3IodmFyIGMgaW4gYilPYmplY3QuZGVmaW5lUHJvcGVydHkoYS5wcm90b3R5cGUsYyx7dmFsdWU6YltjXSxlbnVtZXJhYmxlOiExfSl9Y2F0Y2goZCl7YS5wcm90b3R5cGU9Yn19ZnVuY3Rpb24gZihhKXt2YXIgYj0tMSxjPWEubGVuZ3RoLGQ9W107d2hpbGUoKytiPGMpZC5wdXNoKGFbYl0pO3JldHVybiBkfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEpfWZ1bmN0aW9uIGooKXt9ZnVuY3Rpb24gbShhKXtyZXR1cm4gYX1mdW5jdGlvbiBuKCl7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gbygpe3JldHVybiEwfWZ1bmN0aW9uIHAoYSl7cmV0dXJuIHR5cGVvZiBhPT1cImZ1bmN0aW9uXCI/YTpmdW5jdGlvbigpe3JldHVybiBhfX1mdW5jdGlvbiBxKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLmFwcGx5KGIsYXJndW1lbnRzKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9hOmR9fWZ1bmN0aW9uIHIoYSl7cmV0dXJuIGEhPW51bGwmJiFpc05hTihhKX1mdW5jdGlvbiBzKGEpe3JldHVybiBhLmxlbmd0aH1mdW5jdGlvbiB1KGEpe3JldHVybiBhPT1udWxsfWZ1bmN0aW9uIHYoYSl7cmV0dXJuIGEucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKS5yZXBsYWNlKC9cXHMrL2csXCIgXCIpfWZ1bmN0aW9uIHcoYSl7dmFyIGI9MTt3aGlsZShhKmIlMSliKj0xMDtyZXR1cm4gYn1mdW5jdGlvbiB6KCl7fWZ1bmN0aW9uIEEoYSl7ZnVuY3Rpb24gZCgpe3ZhciBjPWIsZD0tMSxlPWMubGVuZ3RoLGY7d2hpbGUoKytkPGUpKGY9Y1tkXS5vbikmJmYuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBhfXZhciBiPVtdLGM9bmV3IGo7cmV0dXJuIGQub249ZnVuY3Rpb24oZCxlKXt2YXIgZj1jLmdldChkKSxnO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/ZiYmZi5vbjooZiYmKGYub249bnVsbCxiPWIuc2xpY2UoMCxnPWIuaW5kZXhPZihmKSkuY29uY2F0KGIuc2xpY2UoZysxKSksYy5yZW1vdmUoZCkpLGUmJmIucHVzaChjLnNldChkLHtvbjplfSkpLGEpfSxkfWZ1bmN0aW9uIEQoYSxiKXtyZXR1cm4gYi0oYT8xK01hdGguZmxvb3IoTWF0aC5sb2coYStNYXRoLnBvdygxMCwxK01hdGguZmxvb3IoTWF0aC5sb2coYSkvTWF0aC5MTjEwKS1iKSkvTWF0aC5MTjEwKToxKX1mdW5jdGlvbiBFKGEpe3JldHVybiBhK1wiXCJ9ZnVuY3Rpb24gRihhKXt2YXIgYj1hLmxhc3RJbmRleE9mKFwiLlwiKSxjPWI+PTA/YS5zdWJzdHJpbmcoYik6KGI9YS5sZW5ndGgsXCJcIiksZD1bXTt3aGlsZShiPjApZC5wdXNoKGEuc3Vic3RyaW5nKGItPTMsYiszKSk7cmV0dXJuIGQucmV2ZXJzZSgpLmpvaW4oXCIsXCIpK2N9ZnVuY3Rpb24gSChhLGIpe3ZhciBjPU1hdGgucG93KDEwLE1hdGguYWJzKDgtYikqMyk7cmV0dXJue3NjYWxlOmI+OD9mdW5jdGlvbihhKXtyZXR1cm4gYS9jfTpmdW5jdGlvbihhKXtyZXR1cm4gYSpjfSxzeW1ib2w6YX19ZnVuY3Rpb24gTihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGI8PTA/MDpiPj0xPzE6YShiKX19ZnVuY3Rpb24gTyhhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIDEtYSgxLWIpfX1mdW5jdGlvbiBQKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4uNSooYjwuNT9hKDIqYik6Mi1hKDItMipiKSl9fWZ1bmN0aW9uIFEoYSl7cmV0dXJuIGF9ZnVuY3Rpb24gUihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIE1hdGgucG93KGIsYSl9fWZ1bmN0aW9uIFMoYSl7cmV0dXJuIDEtTWF0aC5jb3MoYSpNYXRoLlBJLzIpfWZ1bmN0aW9uIFQoYSl7cmV0dXJuIE1hdGgucG93KDIsMTAqKGEtMSkpfWZ1bmN0aW9uIFUoYSl7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtYSphKX1mdW5jdGlvbiBWKGEsYil7dmFyIGM7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKGI9LjQ1KSxhcmd1bWVudHMubGVuZ3RoPDE/KGE9MSxjPWIvNCk6Yz1iLygyKk1hdGguUEkpKk1hdGguYXNpbigxL2EpLGZ1bmN0aW9uKGQpe3JldHVybiAxK2EqTWF0aC5wb3coMiwxMCotZCkqTWF0aC5zaW4oKGQtYykqMipNYXRoLlBJL2IpfX1mdW5jdGlvbiBXKGEpe3JldHVybiBhfHwoYT0xLjcwMTU4KSxmdW5jdGlvbihiKXtyZXR1cm4gYipiKigoYSsxKSpiLWEpfX1mdW5jdGlvbiBYKGEpe3JldHVybiBhPDEvMi43NT83LjU2MjUqYSphOmE8Mi8yLjc1PzcuNTYyNSooYS09MS41LzIuNzUpKmErLjc1OmE8Mi41LzIuNzU/Ny41NjI1KihhLT0yLjI1LzIuNzUpKmErLjkzNzU6Ny41NjI1KihhLT0yLjYyNS8yLjc1KSphKy45ODQzNzV9ZnVuY3Rpb24gWSgpe2QzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpLGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gWigpe3ZhciBhPWQzLmV2ZW50LGI7d2hpbGUoYj1hLnNvdXJjZUV2ZW50KWE9YjtyZXR1cm4gYX1mdW5jdGlvbiAkKGEpe3ZhciBiPW5ldyB6LGM9MCxkPWFyZ3VtZW50cy5sZW5ndGg7d2hpbGUoKytjPGQpYlthcmd1bWVudHNbY11dPUEoYik7cmV0dXJuIGIub2Y9ZnVuY3Rpb24oYyxkKXtyZXR1cm4gZnVuY3Rpb24oZSl7dHJ5e3ZhciBmPWUuc291cmNlRXZlbnQ9ZDMuZXZlbnQ7ZS50YXJnZXQ9YSxkMy5ldmVudD1lLGJbZS50eXBlXS5hcHBseShjLGQpfWZpbmFsbHl7ZDMuZXZlbnQ9Zn19fSxifWZ1bmN0aW9uIGJhKGEpe3JldHVybiBhPT1cInRyYW5zZm9ybVwiP2QzLmludGVycG9sYXRlVHJhbnNmb3JtOmQzLmludGVycG9sYXRlfWZ1bmN0aW9uIGJiKGEsYil7cmV0dXJuIGI9Yi0oYT0rYSk/MS8oYi1hKTowLGZ1bmN0aW9uKGMpe3JldHVybihjLWEpKmJ9fWZ1bmN0aW9uIGJjKGEsYil7cmV0dXJuIGI9Yi0oYT0rYSk/MS8oYi1hKTowLGZ1bmN0aW9uKGMpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKDEsKGMtYSkqYikpfX1mdW5jdGlvbiBiZChhLGIsYyl7cmV0dXJuIG5ldyBiZShhLGIsYyl9ZnVuY3Rpb24gYmUoYSxiLGMpe3RoaXMucj1hLHRoaXMuZz1iLHRoaXMuYj1jfWZ1bmN0aW9uIGJmKGEpe3JldHVybiBhPDE2P1wiMFwiK01hdGgubWF4KDAsYSkudG9TdHJpbmcoMTYpOk1hdGgubWluKDI1NSxhKS50b1N0cmluZygxNil9ZnVuY3Rpb24gYmcoYSxiLGMpe3ZhciBkPTAsZT0wLGY9MCxnLGgsaTtnPS8oW2Etel0rKVxcKCguKilcXCkvaS5leGVjKGEpO2lmKGcpe2g9Z1syXS5zcGxpdChcIixcIik7c3dpdGNoKGdbMV0pe2Nhc2VcImhzbFwiOnJldHVybiBjKHBhcnNlRmxvYXQoaFswXSkscGFyc2VGbG9hdChoWzFdKS8xMDAscGFyc2VGbG9hdChoWzJdKS8xMDApO2Nhc2VcInJnYlwiOnJldHVybiBiKGJpKGhbMF0pLGJpKGhbMV0pLGJpKGhbMl0pKX19cmV0dXJuKGk9YmouZ2V0KGEpKT9iKGkucixpLmcsaS5iKTooYSE9bnVsbCYmYS5jaGFyQXQoMCk9PT1cIiNcIiYmKGEubGVuZ3RoPT09ND8oZD1hLmNoYXJBdCgxKSxkKz1kLGU9YS5jaGFyQXQoMiksZSs9ZSxmPWEuY2hhckF0KDMpLGYrPWYpOmEubGVuZ3RoPT09NyYmKGQ9YS5zdWJzdHJpbmcoMSwzKSxlPWEuc3Vic3RyaW5nKDMsNSksZj1hLnN1YnN0cmluZyg1LDcpKSxkPXBhcnNlSW50KGQsMTYpLGU9cGFyc2VJbnQoZSwxNiksZj1wYXJzZUludChmLDE2KSksYihkLGUsZikpfWZ1bmN0aW9uIGJoKGEsYixjKXt2YXIgZD1NYXRoLm1pbihhLz0yNTUsYi89MjU1LGMvPTI1NSksZT1NYXRoLm1heChhLGIsYyksZj1lLWQsZyxoLGk9KGUrZCkvMjtyZXR1cm4gZj8oaD1pPC41P2YvKGUrZCk6Zi8oMi1lLWQpLGE9PWU/Zz0oYi1jKS9mKyhiPGM/NjowKTpiPT1lP2c9KGMtYSkvZisyOmc9KGEtYikvZis0LGcqPTYwKTpoPWc9MCxiayhnLGgsaSl9ZnVuY3Rpb24gYmkoYSl7dmFyIGI9cGFyc2VGbG9hdChhKTtyZXR1cm4gYS5jaGFyQXQoYS5sZW5ndGgtMSk9PT1cIiVcIj9NYXRoLnJvdW5kKGIqMi41NSk6Yn1mdW5jdGlvbiBiayhhLGIsYyl7cmV0dXJuIG5ldyBibChhLGIsYyl9ZnVuY3Rpb24gYmwoYSxiLGMpe3RoaXMuaD1hLHRoaXMucz1iLHRoaXMubD1jfWZ1bmN0aW9uIGJtKGEsYixjKXtmdW5jdGlvbiBmKGEpe3JldHVybiBhPjM2MD9hLT0zNjA6YTwwJiYoYSs9MzYwKSxhPDYwP2QrKGUtZCkqYS82MDphPDE4MD9lOmE8MjQwP2QrKGUtZCkqKDI0MC1hKS82MDpkfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIE1hdGgucm91bmQoZihhKSoyNTUpfXZhciBkLGU7cmV0dXJuIGElPTM2MCxhPDAmJihhKz0zNjApLGI9YjwwPzA6Yj4xPzE6YixjPWM8MD8wOmM+MT8xOmMsZT1jPD0uNT9jKigxK2IpOmMrYi1jKmIsZD0yKmMtZSxiZChnKGErMTIwKSxnKGEpLGcoYS0xMjApKX1mdW5jdGlvbiBibihhKXtyZXR1cm4gaShhLGJ0KSxhfWZ1bmN0aW9uIGJ1KGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBibyhhLHRoaXMpfX1mdW5jdGlvbiBidihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYnAoYSx0aGlzKX19ZnVuY3Rpb24gYncoYSxiKXtmdW5jdGlvbiBmKCl7aWYoYj10aGlzLmNsYXNzTGlzdClyZXR1cm4gYi5hZGQoYSk7dmFyIGI9dGhpcy5jbGFzc05hbWUsZD1iLmJhc2VWYWwhPW51bGwsZT1kP2IuYmFzZVZhbDpiO2MubGFzdEluZGV4PTAsYy50ZXN0KGUpfHwoZT12KGUrXCIgXCIrYSksZD9iLmJhc2VWYWw9ZTp0aGlzLmNsYXNzTmFtZT1lKX1mdW5jdGlvbiBnKCl7aWYoYj10aGlzLmNsYXNzTGlzdClyZXR1cm4gYi5yZW1vdmUoYSk7dmFyIGI9dGhpcy5jbGFzc05hbWUsZD1iLmJhc2VWYWwhPW51bGwsZT1kP2IuYmFzZVZhbDpiO2U9dihlLnJlcGxhY2UoYyxcIiBcIikpLGQ/Yi5iYXNlVmFsPWU6dGhpcy5jbGFzc05hbWU9ZX1mdW5jdGlvbiBoKCl7KGIuYXBwbHkodGhpcyxhcmd1bWVudHMpP2Y6ZykuY2FsbCh0aGlzKX12YXIgYz1uZXcgUmVnRXhwKFwiKF58XFxcXHMrKVwiK2QzLnJlcXVvdGUoYSkrXCIoXFxcXHMrfCQpXCIsXCJnXCIpO2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil7dmFyIGQ9dGhpcy5ub2RlKCk7aWYoZT1kLmNsYXNzTGlzdClyZXR1cm4gZS5jb250YWlucyhhKTt2YXIgZT1kLmNsYXNzTmFtZTtyZXR1cm4gYy5sYXN0SW5kZXg9MCxjLnRlc3QoZS5iYXNlVmFsIT1udWxsP2UuYmFzZVZhbDplKX1yZXR1cm4gdGhpcy5lYWNoKHR5cGVvZiBiPT1cImZ1bmN0aW9uXCI/aDpiP2Y6Zyl9ZnVuY3Rpb24gYngoYSl7cmV0dXJue19fZGF0YV9fOmF9fWZ1bmN0aW9uIGJ5KGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBicyh0aGlzLGEpfX1mdW5jdGlvbiBieihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aHx8KGE9ZDMuYXNjZW5kaW5nKSxmdW5jdGlvbihiLGMpe3JldHVybiBhKGImJmIuX19kYXRhX18sYyYmYy5fX2RhdGFfXyl9fWZ1bmN0aW9uIGJBKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKWZvcih2YXIgZT1hW2NdLGY9MCxnPWUubGVuZ3RoLGg7ZjxnO2YrKykoaD1lW2ZdKSYmYihoLGYsYyk7cmV0dXJuIGF9ZnVuY3Rpb24gYkMoYSl7cmV0dXJuIGkoYSxiRCksYX1mdW5jdGlvbiBiRShhLGIsYyl7aShhLGJJKTt2YXIgZD1uZXcgaixlPWQzLmRpc3BhdGNoKFwic3RhcnRcIixcImVuZFwiKSxmPWJRO3JldHVybiBhLmlkPWIsYS50aW1lPWMsYS50d2Vlbj1mdW5jdGlvbihiLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/ZC5nZXQoYik6KGM9PW51bGw/ZC5yZW1vdmUoYik6ZC5zZXQoYixjKSxhKX0sYS5lYXNlPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhmPXR5cGVvZiBiPT1cImZ1bmN0aW9uXCI/YjpkMy5lYXNlLmFwcGx5KGQzLGFyZ3VtZW50cyksYSk6Zn0sYS5lYWNoPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj9iUi5jYWxsKGEsYik6KGUub24oYixjKSxhKX0sZDMudGltZXIoZnVuY3Rpb24oZyl7cmV0dXJuIGJBKGEsZnVuY3Rpb24oYSxoLGkpe2Z1bmN0aW9uIG8oZil7cmV0dXJuIG0uYWN0aXZlPmI/cSgpOihtLmFjdGl2ZT1iLGQuZm9yRWFjaChmdW5jdGlvbihiLGMpeyhjPWMuY2FsbChhLG4saCkpJiZqLnB1c2goYyl9KSxlLnN0YXJ0LmNhbGwoYSxuLGgpLHAoZil8fGQzLnRpbWVyKHAsMCxjKSwxKX1mdW5jdGlvbiBwKGMpe2lmKG0uYWN0aXZlIT09YilyZXR1cm4gcSgpO3ZhciBkPShjLWspL2wsZz1mKGQpLGk9ai5sZW5ndGg7d2hpbGUoaT4wKWpbLS1pXS5jYWxsKGEsZyk7aWYoZD49MSlyZXR1cm4gcSgpLGJLPWIsZS5lbmQuY2FsbChhLG4saCksYks9MCwxfWZ1bmN0aW9uIHEoKXtyZXR1cm4tLW0uY291bnR8fGRlbGV0ZSBhLl9fdHJhbnNpdGlvbl9fLDF9dmFyIGo9W10saz1hLmRlbGF5LGw9YS5kdXJhdGlvbixtPShhPWEubm9kZSkuX190cmFuc2l0aW9uX198fChhLl9fdHJhbnNpdGlvbl9fPXthY3RpdmU6MCxjb3VudDowfSksbj1hLl9fZGF0YV9fOysrbS5jb3VudCxrPD1nP28oZyk6ZDMudGltZXIobyxrLGMpfSl9LDAsYyksYX1mdW5jdGlvbiBiRyhhLGIsYyl7cmV0dXJuIGMhPVwiXCImJmJGfWZ1bmN0aW9uIGJIKGEsYil7ZnVuY3Rpb24gZChhLGQsZSl7dmFyIGY9Yi5jYWxsKHRoaXMsYSxkKTtyZXR1cm4gZj09bnVsbD9lIT1cIlwiJiZiRjplIT1mJiZjKGUsZil9ZnVuY3Rpb24gZShhLGQsZSl7cmV0dXJuIGUhPWImJmMoZSxiKX12YXIgYz1iYShhKTtyZXR1cm4gdHlwZW9mIGI9PVwiZnVuY3Rpb25cIj9kOmI9PW51bGw/Ykc6KGIrPVwiXCIsZSl9ZnVuY3Rpb24gYlIoYSl7dmFyIGI9YkssYz1iUSxkPWJPLGU9YlA7cmV0dXJuIGJLPXRoaXMuaWQsYlE9dGhpcy5lYXNlKCksYkEodGhpcyxmdW5jdGlvbihiLGMsZCl7Yk89Yi5kZWxheSxiUD1iLmR1cmF0aW9uLGEuY2FsbChiPWIubm9kZSxiLl9fZGF0YV9fLGMsZCl9KSxiSz1iLGJRPWMsYk89ZCxiUD1lLHRoaXN9ZnVuY3Rpb24gYlYoKXt2YXIgYSxiPURhdGUubm93KCksYz1iUzt3aGlsZShjKWE9Yi1jLnRoZW4sYT49Yy5kZWxheSYmKGMuZmx1c2g9Yy5jYWxsYmFjayhhKSksYz1jLm5leHQ7dmFyIGQ9YlcoKS1iO2Q+MjQ/KGlzRmluaXRlKGQpJiYoY2xlYXJUaW1lb3V0KGJVKSxiVT1zZXRUaW1lb3V0KGJWLGQpKSxiVD0wKTooYlQ9MSxiWChiVikpfWZ1bmN0aW9uIGJXKCl7dmFyIGE9bnVsbCxiPWJTLGM9SW5maW5pdHk7d2hpbGUoYiliLmZsdXNoP2I9YT9hLm5leHQ9Yi5uZXh0OmJTPWIubmV4dDooYz1NYXRoLm1pbihjLGIudGhlbitiLmRlbGF5KSxiPShhPWIpLm5leHQpO3JldHVybiBjfWZ1bmN0aW9uIGJZKGEpe3ZhciBiPVthLmEsYS5iXSxjPVthLmMsYS5kXSxkPWIkKGIpLGU9YlooYixjKSxmPWIkKGJfKGMsYiwtZSkpfHwwO2JbMF0qY1sxXTxjWzBdKmJbMV0mJihiWzBdKj0tMSxiWzFdKj0tMSxkKj0tMSxlKj0tMSksdGhpcy5yb3RhdGU9KGQ/TWF0aC5hdGFuMihiWzFdLGJbMF0pOk1hdGguYXRhbjIoLWNbMF0sY1sxXSkpKmNhLHRoaXMudHJhbnNsYXRlPVthLmUsYS5mXSx0aGlzLnNjYWxlPVtkLGZdLHRoaXMuc2tldz1mP01hdGguYXRhbjIoZSxmKSpjYTowfWZ1bmN0aW9uIGJaKGEsYil7cmV0dXJuIGFbMF0qYlswXSthWzFdKmJbMV19ZnVuY3Rpb24gYiQoYSl7dmFyIGI9TWF0aC5zcXJ0KGJaKGEsYSkpO3JldHVybiBiJiYoYVswXS89YixhWzFdLz1iKSxifWZ1bmN0aW9uIGJfKGEsYixjKXtyZXR1cm4gYVswXSs9YypiWzBdLGFbMV0rPWMqYlsxXSxhfWZ1bmN0aW9uIGNjKGEsYil7dmFyIGM9YS5vd25lclNWR0VsZW1lbnR8fGE7aWYoYy5jcmVhdGVTVkdQb2ludCl7dmFyIGQ9Yy5jcmVhdGVTVkdQb2ludCgpO2lmKGNiPDAmJih3aW5kb3cuc2Nyb2xsWHx8d2luZG93LnNjcm9sbFkpKXtjPWQzLnNlbGVjdChkb2N1bWVudC5ib2R5KS5hcHBlbmQoXCJzdmdcIikuc3R5bGUoXCJwb3NpdGlvblwiLFwiYWJzb2x1dGVcIikuc3R5bGUoXCJ0b3BcIiwwKS5zdHlsZShcImxlZnRcIiwwKTt2YXIgZT1jWzBdWzBdLmdldFNjcmVlbkNUTSgpO2NiPSFlLmYmJiFlLmUsYy5yZW1vdmUoKX1yZXR1cm4gY2I/KGQueD1iLnBhZ2VYLGQueT1iLnBhZ2VZKTooZC54PWIuY2xpZW50WCxkLnk9Yi5jbGllbnRZKSxkPWQubWF0cml4VHJhbnNmb3JtKGEuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpKSxbZC54LGQueV19dmFyIGY9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm5bYi5jbGllbnRYLWYubGVmdC1hLmNsaWVudExlZnQsYi5jbGllbnRZLWYudG9wLWEuY2xpZW50VG9wXX1mdW5jdGlvbiBjZCgpe31mdW5jdGlvbiBjZShhKXt2YXIgYj1hWzBdLGM9YVthLmxlbmd0aC0xXTtyZXR1cm4gYjxjP1tiLGNdOltjLGJdfWZ1bmN0aW9uIGNmKGEpe3JldHVybiBhLnJhbmdlRXh0ZW50P2EucmFuZ2VFeHRlbnQoKTpjZShhLnJhbmdlKCkpfWZ1bmN0aW9uIGNnKGEsYil7dmFyIGM9MCxkPWEubGVuZ3RoLTEsZT1hW2NdLGY9YVtkXSxnO2Y8ZSYmKGc9YyxjPWQsZD1nLGc9ZSxlPWYsZj1nKTtpZihnPWYtZSliPWIoZyksYVtjXT1iLmZsb29yKGUpLGFbZF09Yi5jZWlsKGYpO3JldHVybiBhfWZ1bmN0aW9uIGNoKCl7cmV0dXJuIE1hdGh9ZnVuY3Rpb24gY2koYSxiLGMsZCl7ZnVuY3Rpb24gZygpe3ZhciBnPU1hdGgubWluKGEubGVuZ3RoLGIubGVuZ3RoKT4yP2NwOmNvLGk9ZD9iYzpiYjtyZXR1cm4gZT1nKGEsYixpLGMpLGY9ZyhiLGEsaSxkMy5pbnRlcnBvbGF0ZSksaH1mdW5jdGlvbiBoKGEpe3JldHVybiBlKGEpfXZhciBlLGY7cmV0dXJuIGguaW52ZXJ0PWZ1bmN0aW9uKGEpe3JldHVybiBmKGEpfSxoLmRvbWFpbj1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT1iLm1hcChOdW1iZXIpLGcoKSk6YX0saC5yYW5nZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1hLGcoKSk6Yn0saC5yYW5nZVJvdW5kPWZ1bmN0aW9uKGEpe3JldHVybiBoLnJhbmdlKGEpLmludGVycG9sYXRlKGQzLmludGVycG9sYXRlUm91bmQpfSxoLmNsYW1wPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkPWEsZygpKTpkfSxoLmludGVycG9sYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPWEsZygpKTpjfSxoLnRpY2tzPWZ1bmN0aW9uKGIpe3JldHVybiBjbShhLGIpfSxoLnRpY2tGb3JtYXQ9ZnVuY3Rpb24oYil7cmV0dXJuIGNuKGEsYil9LGgubmljZT1mdW5jdGlvbigpe3JldHVybiBjZyhhLGNrKSxnKCl9LGguY29weT1mdW5jdGlvbigpe3JldHVybiBjaShhLGIsYyxkKX0sZygpfWZ1bmN0aW9uIGNqKGEsYil7cmV0dXJuIGQzLnJlYmluZChhLGIsXCJyYW5nZVwiLFwicmFuZ2VSb3VuZFwiLFwiaW50ZXJwb2xhdGVcIixcImNsYW1wXCIpfWZ1bmN0aW9uIGNrKGEpe3JldHVybiBhPU1hdGgucG93KDEwLE1hdGgucm91bmQoTWF0aC5sb2coYSkvTWF0aC5MTjEwKS0xKSx7Zmxvb3I6ZnVuY3Rpb24oYil7cmV0dXJuIE1hdGguZmxvb3IoYi9hKSphfSxjZWlsOmZ1bmN0aW9uKGIpe3JldHVybiBNYXRoLmNlaWwoYi9hKSphfX19ZnVuY3Rpb24gY2woYSxiKXt2YXIgYz1jZShhKSxkPWNbMV0tY1swXSxlPU1hdGgucG93KDEwLE1hdGguZmxvb3IoTWF0aC5sb2coZC9iKS9NYXRoLkxOMTApKSxmPWIvZCplO3JldHVybiBmPD0uMTU/ZSo9MTA6Zjw9LjM1P2UqPTU6Zjw9Ljc1JiYoZSo9MiksY1swXT1NYXRoLmNlaWwoY1swXS9lKSplLGNbMV09TWF0aC5mbG9vcihjWzFdL2UpKmUrZSouNSxjWzJdPWUsY31mdW5jdGlvbiBjbShhLGIpe3JldHVybiBkMy5yYW5nZS5hcHBseShkMyxjbChhLGIpKX1mdW5jdGlvbiBjbihhLGIpe3JldHVybiBkMy5mb3JtYXQoXCIsLlwiK01hdGgubWF4KDAsLU1hdGguZmxvb3IoTWF0aC5sb2coY2woYSxiKVsyXSkvTWF0aC5MTjEwKy4wMSkpK1wiZlwiKX1mdW5jdGlvbiBjbyhhLGIsYyxkKXt2YXIgZT1jKGFbMF0sYVsxXSksZj1kKGJbMF0sYlsxXSk7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmKGUoYSkpfX1mdW5jdGlvbiBjcChhLGIsYyxkKXt2YXIgZT1bXSxmPVtdLGc9MCxoPU1hdGgubWluKGEubGVuZ3RoLGIubGVuZ3RoKS0xO2FbaF08YVswXSYmKGE9YS5zbGljZSgpLnJldmVyc2UoKSxiPWIuc2xpY2UoKS5yZXZlcnNlKCkpO3doaWxlKCsrZzw9aCllLnB1c2goYyhhW2ctMV0sYVtnXSkpLGYucHVzaChkKGJbZy0xXSxiW2ddKSk7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWQzLmJpc2VjdChhLGIsMSxoKS0xO3JldHVybiBmW2NdKGVbY10oYikpfX1mdW5jdGlvbiBjcShhLGIpe2Z1bmN0aW9uIGQoYyl7cmV0dXJuIGEoYihjKSl9dmFyIGM9Yi5wb3c7cmV0dXJuIGQuaW52ZXJ0PWZ1bmN0aW9uKGIpe3JldHVybiBjKGEuaW52ZXJ0KGIpKX0sZC5kb21haW49ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9ZVswXTwwP2N0OmNzLGM9Yi5wb3csYS5kb21haW4oZS5tYXAoYikpLGQpOmEuZG9tYWluKCkubWFwKGMpfSxkLm5pY2U9ZnVuY3Rpb24oKXtyZXR1cm4gYS5kb21haW4oY2coYS5kb21haW4oKSxjaCkpLGR9LGQudGlja3M9ZnVuY3Rpb24oKXt2YXIgZD1jZShhLmRvbWFpbigpKSxlPVtdO2lmKGQuZXZlcnkoaXNGaW5pdGUpKXt2YXIgZj1NYXRoLmZsb29yKGRbMF0pLGc9TWF0aC5jZWlsKGRbMV0pLGg9YyhkWzBdKSxpPWMoZFsxXSk7aWYoYj09PWN0KXtlLnB1c2goYyhmKSk7Zm9yKDtmKys8ZzspZm9yKHZhciBqPTk7aj4wO2otLSllLnB1c2goYyhmKSpqKX1lbHNle2Zvcig7ZjxnO2YrKylmb3IodmFyIGo9MTtqPDEwO2orKyllLnB1c2goYyhmKSpqKTtlLnB1c2goYyhmKSl9Zm9yKGY9MDtlW2ZdPGg7ZisrKTtmb3IoZz1lLmxlbmd0aDtlW2ctMV0+aTtnLS0pO2U9ZS5zbGljZShmLGcpfXJldHVybiBlfSxkLnRpY2tGb3JtYXQ9ZnVuY3Rpb24oYSxlKXthcmd1bWVudHMubGVuZ3RoPDImJihlPWNyKTtpZihhcmd1bWVudHMubGVuZ3RoPDEpcmV0dXJuIGU7dmFyIGY9TWF0aC5tYXgoLjEsYS9kLnRpY2tzKCkubGVuZ3RoKSxnPWI9PT1jdD8oaD0tMWUtMTIsTWF0aC5mbG9vcik6KGg9MWUtMTIsTWF0aC5jZWlsKSxoO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS9jKGcoYihhKStoKSk8PWY/ZShhKTpcIlwifX0sZC5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIGNxKGEuY29weSgpLGIpfSxjaihkLGEpfWZ1bmN0aW9uIGNzKGEpe3JldHVybiBNYXRoLmxvZyhhPDA/MDphKS9NYXRoLkxOMTB9ZnVuY3Rpb24gY3QoYSl7cmV0dXJuLU1hdGgubG9nKGE+MD8wOi1hKS9NYXRoLkxOMTB9ZnVuY3Rpb24gY3UoYSxiKXtmdW5jdGlvbiBlKGIpe3JldHVybiBhKGMoYikpfXZhciBjPWN2KGIpLGQ9Y3YoMS9iKTtyZXR1cm4gZS5pbnZlcnQ9ZnVuY3Rpb24oYil7cmV0dXJuIGQoYS5pbnZlcnQoYikpfSxlLmRvbWFpbj1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYS5kb21haW4oYi5tYXAoYykpLGUpOmEuZG9tYWluKCkubWFwKGQpfSxlLnRpY2tzPWZ1bmN0aW9uKGEpe3JldHVybiBjbShlLmRvbWFpbigpLGEpfSxlLnRpY2tGb3JtYXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGNuKGUuZG9tYWluKCksYSl9LGUubmljZT1mdW5jdGlvbigpe3JldHVybiBlLmRvbWFpbihjZyhlLmRvbWFpbigpLGNrKSl9LGUuZXhwb25lbnQ9ZnVuY3Rpb24oYSl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGI7dmFyIGY9ZS5kb21haW4oKTtyZXR1cm4gYz1jdihiPWEpLGQ9Y3YoMS9iKSxlLmRvbWFpbihmKX0sZS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIGN1KGEuY29weSgpLGIpfSxjaihlLGEpfWZ1bmN0aW9uIGN2KGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYjwwPy1NYXRoLnBvdygtYixhKTpNYXRoLnBvdyhiLGEpfX1mdW5jdGlvbiBjdyhhLGIpe2Z1bmN0aW9uIGYoYil7cmV0dXJuIGRbKChjLmdldChiKXx8Yy5zZXQoYixhLnB1c2goYikpKS0xKSVkLmxlbmd0aF19ZnVuY3Rpb24gZyhiLGMpe3JldHVybiBkMy5yYW5nZShhLmxlbmd0aCkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBiK2MqYX0pfXZhciBjLGQsZTtyZXR1cm4gZi5kb21haW49ZnVuY3Rpb24oZCl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGE7YT1bXSxjPW5ldyBqO3ZhciBlPS0xLGc9ZC5sZW5ndGgsaDt3aGlsZSgrK2U8ZyljLmhhcyhoPWRbZV0pfHxjLnNldChoLGEucHVzaChoKSk7cmV0dXJuIGZbYi50XShiLngsYi5wKX0sZi5yYW5nZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD1hLGU9MCxiPXt0OlwicmFuZ2VcIix4OmF9LGYpOmR9LGYucmFuZ2VQb2ludHM9ZnVuY3Rpb24oYyxoKXthcmd1bWVudHMubGVuZ3RoPDImJihoPTApO3ZhciBpPWNbMF0saj1jWzFdLGs9KGotaSkvKGEubGVuZ3RoLTEraCk7cmV0dXJuIGQ9ZyhhLmxlbmd0aDwyPyhpK2opLzI6aStrKmgvMixrKSxlPTAsYj17dDpcInJhbmdlUG9pbnRzXCIseDpjLHA6aH0sZn0sZi5yYW5nZUJhbmRzPWZ1bmN0aW9uKGMsaCl7YXJndW1lbnRzLmxlbmd0aDwyJiYoaD0wKTt2YXIgaT1jWzFdPGNbMF0saj1jW2ktMF0saz1jWzEtaV0sbD0oay1qKS8oYS5sZW5ndGgraCk7cmV0dXJuIGQ9ZyhqK2wqaCxsKSxpJiZkLnJldmVyc2UoKSxlPWwqKDEtaCksYj17dDpcInJhbmdlQmFuZHNcIix4OmMscDpofSxmfSxmLnJhbmdlUm91bmRCYW5kcz1mdW5jdGlvbihjLGgpe2FyZ3VtZW50cy5sZW5ndGg8MiYmKGg9MCk7dmFyIGk9Y1sxXTxjWzBdLGo9Y1tpLTBdLGs9Y1sxLWldLGw9TWF0aC5mbG9vcigoay1qKS8oYS5sZW5ndGgraCkpLG09ay1qLShhLmxlbmd0aC1oKSpsO3JldHVybiBkPWcoaitNYXRoLnJvdW5kKG0vMiksbCksaSYmZC5yZXZlcnNlKCksZT1NYXRoLnJvdW5kKGwqKDEtaCkpLGI9e3Q6XCJyYW5nZVJvdW5kQmFuZHNcIix4OmMscDpofSxmfSxmLnJhbmdlQmFuZD1mdW5jdGlvbigpe3JldHVybiBlfSxmLnJhbmdlRXh0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGNlKGIueCl9LGYuY29weT1mdW5jdGlvbigpe3JldHVybiBjdyhhLGIpfSxmLmRvbWFpbihhKX1mdW5jdGlvbiBjQihhLGIpe2Z1bmN0aW9uIGQoKXt2YXIgZD0wLGY9YS5sZW5ndGgsZz1iLmxlbmd0aDtjPVtdO3doaWxlKCsrZDxnKWNbZC0xXT1kMy5xdWFudGlsZShhLGQvZyk7cmV0dXJuIGV9ZnVuY3Rpb24gZShhKXtyZXR1cm4gaXNOYU4oYT0rYSk/TmFOOmJbZDMuYmlzZWN0KGMsYSldfXZhciBjO3JldHVybiBlLmRvbWFpbj1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT1iLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4haXNOYU4oYSl9KS5zb3J0KGQzLmFzY2VuZGluZyksZCgpKTphfSxlLnJhbmdlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWEsZCgpKTpifSxlLnF1YW50aWxlcz1mdW5jdGlvbigpe3JldHVybiBjfSxlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gY0IoYSxiKX0sZCgpfWZ1bmN0aW9uIGNDKGEsYixjKXtmdW5jdGlvbiBmKGIpe3JldHVybiBjW01hdGgubWF4KDAsTWF0aC5taW4oZSxNYXRoLmZsb29yKGQqKGItYSkpKSldfWZ1bmN0aW9uIGcoKXtyZXR1cm4gZD1jLmxlbmd0aC8oYi1hKSxlPWMubGVuZ3RoLTEsZn12YXIgZCxlO3JldHVybiBmLmRvbWFpbj1mdW5jdGlvbihjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT0rY1swXSxiPStjW2MubGVuZ3RoLTFdLGcoKSk6W2EsYl19LGYucmFuZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YSxnKCkpOmN9LGYuY29weT1mdW5jdGlvbigpe3JldHVybiBjQyhhLGIsYyl9LGcoKX1mdW5jdGlvbiBjRChhKXtmdW5jdGlvbiBiKGEpe3JldHVybithfXJldHVybiBiLmludmVydD1iLGIuZG9tYWluPWIucmFuZ2U9ZnVuY3Rpb24oYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9Yy5tYXAoYiksYik6YX0sYi50aWNrcz1mdW5jdGlvbihiKXtyZXR1cm4gY20oYSxiKX0sYi50aWNrRm9ybWF0PWZ1bmN0aW9uKGIpe3JldHVybiBjbihhLGIpfSxiLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gY0QoYSl9LGJ9ZnVuY3Rpb24gY0coYSl7cmV0dXJuIGEuaW5uZXJSYWRpdXN9ZnVuY3Rpb24gY0goYSl7cmV0dXJuIGEub3V0ZXJSYWRpdXN9ZnVuY3Rpb24gY0koYSl7cmV0dXJuIGEuc3RhcnRBbmdsZX1mdW5jdGlvbiBjSihhKXtyZXR1cm4gYS5lbmRBbmdsZX1mdW5jdGlvbiBjSyhhKXtmdW5jdGlvbiBoKGUpe2Z1bmN0aW9uIG8oKXtoLnB1c2goXCJNXCIsZihhKGkpLGcpKX12YXIgaD1bXSxpPVtdLGo9LTEsaz1lLmxlbmd0aCxsLG09cChiKSxuPXAoYyk7d2hpbGUoKytqPGspZC5jYWxsKHRoaXMsbD1lW2pdLGopP2kucHVzaChbK20uY2FsbCh0aGlzLGwsaiksK24uY2FsbCh0aGlzLGwsaildKTppLmxlbmd0aCYmKG8oKSxpPVtdKTtyZXR1cm4gaS5sZW5ndGgmJm8oKSxoLmxlbmd0aD9oLmpvaW4oXCJcIik6bnVsbH12YXIgYj1jTCxjPWNNLGQ9byxlPWNOLGY9Y1AsZz0uNztyZXR1cm4gaC54PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWEsaCk6Yn0saC55PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPWEsaCk6Y30saC5kZWZpbmVkPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkPWEsaCk6ZH0saC5pbnRlcnBvbGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oY08uaGFzKGErPVwiXCIpfHwoYT1jTiksZj1jTy5nZXQoZT1hKSxoKTplfSxoLnRlbnNpb249ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGc9YSxoKTpnfSxofWZ1bmN0aW9uIGNMKGEpe3JldHVybiBhWzBdfWZ1bmN0aW9uIGNNKGEpe3JldHVybiBhWzFdfWZ1bmN0aW9uIGNQKGEpe3ZhciBiPTAsYz1hLmxlbmd0aCxkPWFbMF0sZT1bZFswXSxcIixcIixkWzFdXTt3aGlsZSgrK2I8YyllLnB1c2goXCJMXCIsKGQ9YVtiXSlbMF0sXCIsXCIsZFsxXSk7cmV0dXJuIGUuam9pbihcIlwiKX1mdW5jdGlvbiBjUShhKXt2YXIgYj0wLGM9YS5sZW5ndGgsZD1hWzBdLGU9W2RbMF0sXCIsXCIsZFsxXV07d2hpbGUoKytiPGMpZS5wdXNoKFwiVlwiLChkPWFbYl0pWzFdLFwiSFwiLGRbMF0pO3JldHVybiBlLmpvaW4oXCJcIil9ZnVuY3Rpb24gY1IoYSl7dmFyIGI9MCxjPWEubGVuZ3RoLGQ9YVswXSxlPVtkWzBdLFwiLFwiLGRbMV1dO3doaWxlKCsrYjxjKWUucHVzaChcIkhcIiwoZD1hW2JdKVswXSxcIlZcIixkWzFdKTtyZXR1cm4gZS5qb2luKFwiXCIpfWZ1bmN0aW9uIGNTKGEsYil7cmV0dXJuIGEubGVuZ3RoPDQ/Y1AoYSk6YVsxXStjVihhLnNsaWNlKDEsYS5sZW5ndGgtMSksY1coYSxiKSl9ZnVuY3Rpb24gY1QoYSxiKXtyZXR1cm4gYS5sZW5ndGg8Mz9jUChhKTphWzBdK2NWKChhLnB1c2goYVswXSksYSksY1coW2FbYS5sZW5ndGgtMl1dLmNvbmNhdChhLFthWzFdXSksYikpfWZ1bmN0aW9uIGNVKGEsYixjKXtyZXR1cm4gYS5sZW5ndGg8Mz9jUChhKTphWzBdK2NWKGEsY1coYSxiKSl9ZnVuY3Rpb24gY1YoYSxiKXtpZihiLmxlbmd0aDwxfHxhLmxlbmd0aCE9Yi5sZW5ndGgmJmEubGVuZ3RoIT1iLmxlbmd0aCsyKXJldHVybiBjUChhKTt2YXIgYz1hLmxlbmd0aCE9Yi5sZW5ndGgsZD1cIlwiLGU9YVswXSxmPWFbMV0sZz1iWzBdLGg9ZyxpPTE7YyYmKGQrPVwiUVwiKyhmWzBdLWdbMF0qMi8zKStcIixcIisoZlsxXS1nWzFdKjIvMykrXCIsXCIrZlswXStcIixcIitmWzFdLGU9YVsxXSxpPTIpO2lmKGIubGVuZ3RoPjEpe2g9YlsxXSxmPWFbaV0saSsrLGQrPVwiQ1wiKyhlWzBdK2dbMF0pK1wiLFwiKyhlWzFdK2dbMV0pK1wiLFwiKyhmWzBdLWhbMF0pK1wiLFwiKyhmWzFdLWhbMV0pK1wiLFwiK2ZbMF0rXCIsXCIrZlsxXTtmb3IodmFyIGo9MjtqPGIubGVuZ3RoO2orKyxpKyspZj1hW2ldLGg9YltqXSxkKz1cIlNcIisoZlswXS1oWzBdKStcIixcIisoZlsxXS1oWzFdKStcIixcIitmWzBdK1wiLFwiK2ZbMV19aWYoYyl7dmFyIGs9YVtpXTtkKz1cIlFcIisoZlswXStoWzBdKjIvMykrXCIsXCIrKGZbMV0raFsxXSoyLzMpK1wiLFwiK2tbMF0rXCIsXCIra1sxXX1yZXR1cm4gZH1mdW5jdGlvbiBjVyhhLGIpe3ZhciBjPVtdLGQ9KDEtYikvMixlLGY9YVswXSxnPWFbMV0saD0xLGk9YS5sZW5ndGg7d2hpbGUoKytoPGkpZT1mLGY9ZyxnPWFbaF0sYy5wdXNoKFtkKihnWzBdLWVbMF0pLGQqKGdbMV0tZVsxXSldKTtyZXR1cm4gY31mdW5jdGlvbiBjWChhKXtpZihhLmxlbmd0aDwzKXJldHVybiBjUChhKTt2YXIgYj0xLGM9YS5sZW5ndGgsZD1hWzBdLGU9ZFswXSxmPWRbMV0sZz1bZSxlLGUsKGQ9YVsxXSlbMF1dLGg9W2YsZixmLGRbMV1dLGk9W2UsXCIsXCIsZl07ZGQoaSxnLGgpO3doaWxlKCsrYjxjKWQ9YVtiXSxnLnNoaWZ0KCksZy5wdXNoKGRbMF0pLGguc2hpZnQoKSxoLnB1c2goZFsxXSksZGQoaSxnLGgpO2I9LTE7d2hpbGUoKytiPDIpZy5zaGlmdCgpLGcucHVzaChkWzBdKSxoLnNoaWZ0KCksaC5wdXNoKGRbMV0pLGRkKGksZyxoKTtyZXR1cm4gaS5qb2luKFwiXCIpfWZ1bmN0aW9uIGNZKGEpe2lmKGEubGVuZ3RoPDQpcmV0dXJuIGNQKGEpO3ZhciBiPVtdLGM9LTEsZD1hLmxlbmd0aCxlLGY9WzBdLGc9WzBdO3doaWxlKCsrYzwzKWU9YVtjXSxmLnB1c2goZVswXSksZy5wdXNoKGVbMV0pO2IucHVzaChjXyhkYyxmKStcIixcIitjXyhkYyxnKSksLS1jO3doaWxlKCsrYzxkKWU9YVtjXSxmLnNoaWZ0KCksZi5wdXNoKGVbMF0pLGcuc2hpZnQoKSxnLnB1c2goZVsxXSksZGQoYixmLGcpO3JldHVybiBiLmpvaW4oXCJcIil9ZnVuY3Rpb24gY1ooYSl7dmFyIGIsYz0tMSxkPWEubGVuZ3RoLGU9ZCs0LGYsZz1bXSxoPVtdO3doaWxlKCsrYzw0KWY9YVtjJWRdLGcucHVzaChmWzBdKSxoLnB1c2goZlsxXSk7Yj1bY18oZGMsZyksXCIsXCIsY18oZGMsaCldLC0tYzt3aGlsZSgrK2M8ZSlmPWFbYyVkXSxnLnNoaWZ0KCksZy5wdXNoKGZbMF0pLGguc2hpZnQoKSxoLnB1c2goZlsxXSksZGQoYixnLGgpO3JldHVybiBiLmpvaW4oXCJcIil9ZnVuY3Rpb24gYyQoYSxiKXt2YXIgYz1hLmxlbmd0aC0xO2lmKGMpe3ZhciBkPWFbMF1bMF0sZT1hWzBdWzFdLGY9YVtjXVswXS1kLGc9YVtjXVsxXS1lLGg9LTEsaSxqO3doaWxlKCsraDw9YylpPWFbaF0saj1oL2MsaVswXT1iKmlbMF0rKDEtYikqKGQraipmKSxpWzFdPWIqaVsxXSsoMS1iKSooZStqKmcpfXJldHVybiBjWChhKX1mdW5jdGlvbiBjXyhhLGIpe3JldHVybiBhWzBdKmJbMF0rYVsxXSpiWzFdK2FbMl0qYlsyXSthWzNdKmJbM119ZnVuY3Rpb24gZGQoYSxiLGMpe2EucHVzaChcIkNcIixjXyhkYSxiKSxcIixcIixjXyhkYSxjKSxcIixcIixjXyhkYixiKSxcIixcIixjXyhkYixjKSxcIixcIixjXyhkYyxiKSxcIixcIixjXyhkYyxjKSl9ZnVuY3Rpb24gZGUoYSxiKXtyZXR1cm4oYlsxXS1hWzFdKS8oYlswXS1hWzBdKX1mdW5jdGlvbiBkZihhKXt2YXIgYj0wLGM9YS5sZW5ndGgtMSxkPVtdLGU9YVswXSxmPWFbMV0sZz1kWzBdPWRlKGUsZik7d2hpbGUoKytiPGMpZFtiXT1nKyhnPWRlKGU9ZixmPWFbYisxXSkpO3JldHVybiBkW2JdPWcsZH1mdW5jdGlvbiBkZyhhKXt2YXIgYj1bXSxjLGQsZSxmLGc9ZGYoYSksaD0tMSxpPWEubGVuZ3RoLTE7d2hpbGUoKytoPGkpYz1kZShhW2hdLGFbaCsxXSksTWF0aC5hYnMoYyk8MWUtNj9nW2hdPWdbaCsxXT0wOihkPWdbaF0vYyxlPWdbaCsxXS9jLGY9ZCpkK2UqZSxmPjkmJihmPWMqMy9NYXRoLnNxcnQoZiksZ1toXT1mKmQsZ1toKzFdPWYqZSkpO2g9LTE7d2hpbGUoKytoPD1pKWY9KGFbTWF0aC5taW4oaSxoKzEpXVswXS1hW01hdGgubWF4KDAsaC0xKV1bMF0pLyg2KigxK2dbaF0qZ1toXSkpLGIucHVzaChbZnx8MCxnW2hdKmZ8fDBdKTtyZXR1cm4gYn1mdW5jdGlvbiBkaChhKXtyZXR1cm4gYS5sZW5ndGg8Mz9jUChhKTphWzBdK2NWKGEsZGcoYSkpfWZ1bmN0aW9uIGRpKGEpe3ZhciBiLGM9LTEsZD1hLmxlbmd0aCxlLGY7d2hpbGUoKytjPGQpYj1hW2NdLGU9YlswXSxmPWJbMV0rY0UsYlswXT1lKk1hdGguY29zKGYpLGJbMV09ZSpNYXRoLnNpbihmKTtyZXR1cm4gYX1mdW5jdGlvbiBkaihhKXtmdW5jdGlvbiBsKGcpe2Z1bmN0aW9uIHkoKXtsLnB1c2goXCJNXCIsaChhKG4pLGspLGosaShhKG0ucmV2ZXJzZSgpKSxrKSxcIlpcIil9dmFyIGw9W10sbT1bXSxuPVtdLG89LTEscT1nLmxlbmd0aCxyLHM9cChiKSx0PXAoZCksdT1iPT09Yz9mdW5jdGlvbigpe3JldHVybiB3fTpwKGMpLHY9ZD09PWU/ZnVuY3Rpb24oKXtyZXR1cm4geH06cChlKSx3LHg7d2hpbGUoKytvPHEpZi5jYWxsKHRoaXMscj1nW29dLG8pPyhtLnB1c2goW3c9K3MuY2FsbCh0aGlzLHIsbykseD0rdC5jYWxsKHRoaXMscixvKV0pLG4ucHVzaChbK3UuY2FsbCh0aGlzLHIsbyksK3YuY2FsbCh0aGlzLHIsbyldKSk6bS5sZW5ndGgmJih5KCksbT1bXSxuPVtdKTtyZXR1cm4gbS5sZW5ndGgmJnkoKSxsLmxlbmd0aD9sLmpvaW4oXCJcIik6bnVsbH12YXIgYj1jTCxjPWNMLGQ9MCxlPWNNLGY9byxnPWNOLGg9Y1AsaT1jUCxqPVwiTFwiLGs9Ljc7cmV0dXJuIGwueD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1jPWEsbCk6Y30sbC54MD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1hLGwpOmJ9LGwueDE9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YSxsKTpjfSxsLnk9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9ZT1hLGwpOmV9LGwueTA9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9YSxsKTpkfSxsLnkxPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPWEsbCk6ZX0sbC5kZWZpbmVkPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhmPWEsbCk6Zn0sbC5pbnRlcnBvbGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oY08uaGFzKGErPVwiXCIpfHwoYT1jTiksaD1jTy5nZXQoZz1hKSxpPWgucmV2ZXJzZXx8aCxqPS8tY2xvc2VkJC8udGVzdChhKT9cIk1cIjpcIkxcIixsKTpnfSxsLnRlbnNpb249ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGs9YSxsKTprfSxsfWZ1bmN0aW9uIGRrKGEpe3JldHVybiBhLnNvdXJjZX1mdW5jdGlvbiBkbChhKXtyZXR1cm4gYS50YXJnZXR9ZnVuY3Rpb24gZG0oYSl7cmV0dXJuIGEucmFkaXVzfWZ1bmN0aW9uIGRuKGEpe3JldHVybiBhLnN0YXJ0QW5nbGV9ZnVuY3Rpb24gZHAoYSl7cmV0dXJuIGEuZW5kQW5nbGV9ZnVuY3Rpb24gZHEoYSl7cmV0dXJuW2EueCxhLnldfWZ1bmN0aW9uIGRyKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPWEuYXBwbHkodGhpcyxhcmd1bWVudHMpLGM9YlswXSxkPWJbMV0rY0U7cmV0dXJuW2MqTWF0aC5jb3MoZCksYypNYXRoLnNpbihkKV19fWZ1bmN0aW9uIGRzKCl7cmV0dXJuIDY0fWZ1bmN0aW9uIGR0KCl7cmV0dXJuXCJjaXJjbGVcIn1mdW5jdGlvbiBkdShhKXt2YXIgYj1NYXRoLnNxcnQoYS9NYXRoLlBJKTtyZXR1cm5cIk0wLFwiK2IrXCJBXCIrYitcIixcIitiK1wiIDAgMSwxIDAsXCIrIC1iK1wiQVwiK2IrXCIsXCIrYitcIiAwIDEsMSAwLFwiK2IrXCJaXCJ9ZnVuY3Rpb24gZHkoYSxiKXthLmF0dHIoXCJ0cmFuc2Zvcm1cIixmdW5jdGlvbihhKXtyZXR1cm5cInRyYW5zbGF0ZShcIitiKGEpK1wiLDApXCJ9KX1mdW5jdGlvbiBkeihhLGIpe2EuYXR0cihcInRyYW5zZm9ybVwiLGZ1bmN0aW9uKGEpe3JldHVyblwidHJhbnNsYXRlKDAsXCIrYihhKStcIilcIn0pfWZ1bmN0aW9uIGRBKGEsYixjKXtlPVtdO2lmKGMmJmIubGVuZ3RoPjEpe3ZhciBkPWNlKGEuZG9tYWluKCkpLGUsZj0tMSxnPWIubGVuZ3RoLGg9KGJbMV0tYlswXSkvKytjLGksajt3aGlsZSgrK2Y8Zylmb3IoaT1jOy0taT4wOykoaj0rYltmXS1pKmgpPj1kWzBdJiZlLnB1c2goaik7Zm9yKC0tZixpPTA7KytpPGMmJihqPStiW2ZdK2kqaCk8ZFsxXTspZS5wdXNoKGopfXJldHVybiBlfWZ1bmN0aW9uIGRGKCl7ZER8fChkRD1kMy5zZWxlY3QoXCJib2R5XCIpLmFwcGVuZChcImRpdlwiKS5zdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKS5zdHlsZShcInRvcFwiLDApLnN0eWxlKFwiaGVpZ2h0XCIsMCkuc3R5bGUoXCJ3aWR0aFwiLDApLnN0eWxlKFwib3ZlcmZsb3cteVwiLFwic2Nyb2xsXCIpLmFwcGVuZChcImRpdlwiKS5zdHlsZShcImhlaWdodFwiLFwiMjAwMHB4XCIpLm5vZGUoKS5wYXJlbnROb2RlKTt2YXIgYT1kMy5ldmVudCxiO3RyeXtkRC5zY3JvbGxUb3A9MWUzLGRELmRpc3BhdGNoRXZlbnQoYSksYj0xZTMtZEQuc2Nyb2xsVG9wfWNhdGNoKGMpe2I9YS53aGVlbERlbHRhfHwtYS5kZXRhaWwqNX1yZXR1cm4gYn1mdW5jdGlvbiBkRyhhKXt2YXIgYj1hLnNvdXJjZSxjPWEudGFyZ2V0LGQ9ZEkoYixjKSxlPVtiXTt3aGlsZShiIT09ZCliPWIucGFyZW50LGUucHVzaChiKTt2YXIgZj1lLmxlbmd0aDt3aGlsZShjIT09ZCllLnNwbGljZShmLDAsYyksYz1jLnBhcmVudDtyZXR1cm4gZX1mdW5jdGlvbiBkSChhKXt2YXIgYj1bXSxjPWEucGFyZW50O3doaWxlKGMhPW51bGwpYi5wdXNoKGEpLGE9YyxjPWMucGFyZW50O3JldHVybiBiLnB1c2goYSksYn1mdW5jdGlvbiBkSShhLGIpe2lmKGE9PT1iKXJldHVybiBhO3ZhciBjPWRIKGEpLGQ9ZEgoYiksZT1jLnBvcCgpLGY9ZC5wb3AoKSxnPW51bGw7d2hpbGUoZT09PWYpZz1lLGU9Yy5wb3AoKSxmPWQucG9wKCk7cmV0dXJuIGd9ZnVuY3Rpb24gZEwoYSl7YS5maXhlZHw9Mn1mdW5jdGlvbiBkTShhKXthIT09ZEsmJihhLmZpeGVkJj0xKX1mdW5jdGlvbiBkTigpe2RLLmZpeGVkJj0xLGRKPWRLPW51bGx9ZnVuY3Rpb24gZE8oKXtkSy5weD1kMy5ldmVudC54LGRLLnB5PWQzLmV2ZW50LnksZEoucmVzdW1lKCl9ZnVuY3Rpb24gZFAoYSxiLGMpe3ZhciBkPTAsZT0wO2EuY2hhcmdlPTA7aWYoIWEubGVhZil7dmFyIGY9YS5ub2RlcyxnPWYubGVuZ3RoLGg9LTEsaTt3aGlsZSgrK2g8Zyl7aT1mW2hdO2lmKGk9PW51bGwpY29udGludWU7ZFAoaSxiLGMpLGEuY2hhcmdlKz1pLmNoYXJnZSxkKz1pLmNoYXJnZSppLmN4LGUrPWkuY2hhcmdlKmkuY3l9fWlmKGEucG9pbnQpe2EubGVhZnx8KGEucG9pbnQueCs9TWF0aC5yYW5kb20oKS0uNSxhLnBvaW50LnkrPU1hdGgucmFuZG9tKCktLjUpO3ZhciBqPWIqY1thLnBvaW50LmluZGV4XTthLmNoYXJnZSs9YS5wb2ludENoYXJnZT1qLGQrPWoqYS5wb2ludC54LGUrPWoqYS5wb2ludC55fWEuY3g9ZC9hLmNoYXJnZSxhLmN5PWUvYS5jaGFyZ2V9ZnVuY3Rpb24gZFEoYSl7cmV0dXJuIDIwfWZ1bmN0aW9uIGRSKGEpe3JldHVybiAxfWZ1bmN0aW9uIGRUKGEpe3JldHVybiBhLnh9ZnVuY3Rpb24gZFUoYSl7cmV0dXJuIGEueX1mdW5jdGlvbiBkVihhLGIsYyl7YS55MD1iLGEueT1jfWZ1bmN0aW9uIGRZKGEpe3JldHVybiBkMy5yYW5nZShhLmxlbmd0aCl9ZnVuY3Rpb24gZFooYSl7dmFyIGI9LTEsYz1hWzBdLmxlbmd0aCxkPVtdO3doaWxlKCsrYjxjKWRbYl09MDtyZXR1cm4gZH1mdW5jdGlvbiBkJChhKXt2YXIgYj0xLGM9MCxkPWFbMF1bMV0sZSxmPWEubGVuZ3RoO2Zvcig7YjxmOysrYikoZT1hW2JdWzFdKT5kJiYoYz1iLGQ9ZSk7cmV0dXJuIGN9ZnVuY3Rpb24gZF8oYSl7cmV0dXJuIGEucmVkdWNlKGVhLDApfWZ1bmN0aW9uIGVhKGEsYil7cmV0dXJuIGErYlsxXX1mdW5jdGlvbiBlYihhLGIpe3JldHVybiBlYyhhLE1hdGguY2VpbChNYXRoLmxvZyhiLmxlbmd0aCkvTWF0aC5MTjIrMSkpfWZ1bmN0aW9uIGVjKGEsYil7dmFyIGM9LTEsZD0rYVswXSxlPShhWzFdLWQpL2IsZj1bXTt3aGlsZSgrK2M8PWIpZltjXT1lKmMrZDtyZXR1cm4gZn1mdW5jdGlvbiBlZChhKXtyZXR1cm5bZDMubWluKGEpLGQzLm1heChhKV19ZnVuY3Rpb24gZWUoYSxiKXtyZXR1cm4gZDMucmViaW5kKGEsYixcInNvcnRcIixcImNoaWxkcmVuXCIsXCJ2YWx1ZVwiKSxhLmxpbmtzPWVpLGEubm9kZXM9ZnVuY3Rpb24oYil7cmV0dXJuIGVqPSEwLChhLm5vZGVzPWEpKGIpfSxhfWZ1bmN0aW9uIGVmKGEpe3JldHVybiBhLmNoaWxkcmVufWZ1bmN0aW9uIGVnKGEpe3JldHVybiBhLnZhbHVlfWZ1bmN0aW9uIGVoKGEsYil7cmV0dXJuIGIudmFsdWUtYS52YWx1ZX1mdW5jdGlvbiBlaShhKXtyZXR1cm4gZDMubWVyZ2UoYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuKGEuY2hpbGRyZW58fFtdKS5tYXAoZnVuY3Rpb24oYil7cmV0dXJue3NvdXJjZTphLHRhcmdldDpifX0pfSkpfWZ1bmN0aW9uIGVrKGEsYil7cmV0dXJuIGEudmFsdWUtYi52YWx1ZX1mdW5jdGlvbiBlbChhLGIpe3ZhciBjPWEuX3BhY2tfbmV4dDthLl9wYWNrX25leHQ9YixiLl9wYWNrX3ByZXY9YSxiLl9wYWNrX25leHQ9YyxjLl9wYWNrX3ByZXY9Yn1mdW5jdGlvbiBlbShhLGIpe2EuX3BhY2tfbmV4dD1iLGIuX3BhY2tfcHJldj1hfWZ1bmN0aW9uIGVuKGEsYil7dmFyIGM9Yi54LWEueCxkPWIueS1hLnksZT1hLnIrYi5yO3JldHVybiBlKmUtYypjLWQqZD4uMDAxfWZ1bmN0aW9uIGVvKGEpe2Z1bmN0aW9uIGwoYSl7Yj1NYXRoLm1pbihhLngtYS5yLGIpLGM9TWF0aC5tYXgoYS54K2EucixjKSxkPU1hdGgubWluKGEueS1hLnIsZCksZT1NYXRoLm1heChhLnkrYS5yLGUpfXZhciBiPUluZmluaXR5LGM9LUluZmluaXR5LGQ9SW5maW5pdHksZT0tSW5maW5pdHksZj1hLmxlbmd0aCxnLGgsaSxqLGs7YS5mb3JFYWNoKGVwKSxnPWFbMF0sZy54PS1nLnIsZy55PTAsbChnKTtpZihmPjEpe2g9YVsxXSxoLng9aC5yLGgueT0wLGwoaCk7aWYoZj4yKXtpPWFbMl0sZXQoZyxoLGkpLGwoaSksZWwoZyxpKSxnLl9wYWNrX3ByZXY9aSxlbChpLGgpLGg9Zy5fcGFja19uZXh0O2Zvcih2YXIgbT0zO208ZjttKyspe2V0KGcsaCxpPWFbbV0pO3ZhciBuPTAsbz0xLHA9MTtmb3Ioaj1oLl9wYWNrX25leHQ7aiE9PWg7aj1qLl9wYWNrX25leHQsbysrKWlmKGVuKGosaSkpe249MTticmVha31pZihuPT0xKWZvcihrPWcuX3BhY2tfcHJldjtrIT09ai5fcGFja19wcmV2O2s9ay5fcGFja19wcmV2LHArKylpZihlbihrLGkpKWJyZWFrO24/KG88cHx8bz09cCYmaC5yPGcucj9lbShnLGg9aik6ZW0oZz1rLGgpLG0tLSk6KGVsKGcsaSksaD1pLGwoaSkpfX19dmFyIHE9KGIrYykvMixyPShkK2UpLzIscz0wO2Zvcih2YXIgbT0wO208ZjttKyspe3ZhciB0PWFbbV07dC54LT1xLHQueS09cixzPU1hdGgubWF4KHMsdC5yK01hdGguc3FydCh0LngqdC54K3QueSp0LnkpKX1yZXR1cm4gYS5mb3JFYWNoKGVxKSxzfWZ1bmN0aW9uIGVwKGEpe2EuX3BhY2tfbmV4dD1hLl9wYWNrX3ByZXY9YX1mdW5jdGlvbiBlcShhKXtkZWxldGUgYS5fcGFja19uZXh0LGRlbGV0ZSBhLl9wYWNrX3ByZXZ9ZnVuY3Rpb24gZXIoYSl7dmFyIGI9YS5jaGlsZHJlbjtiJiZiLmxlbmd0aD8oYi5mb3JFYWNoKGVyKSxhLnI9ZW8oYikpOmEucj1NYXRoLnNxcnQoYS52YWx1ZSl9ZnVuY3Rpb24gZXMoYSxiLGMsZCl7dmFyIGU9YS5jaGlsZHJlbjthLng9Yis9ZCphLngsYS55PWMrPWQqYS55LGEucio9ZDtpZihlKXt2YXIgZj0tMSxnPWUubGVuZ3RoO3doaWxlKCsrZjxnKWVzKGVbZl0sYixjLGQpfX1mdW5jdGlvbiBldChhLGIsYyl7dmFyIGQ9YS5yK2MucixlPWIueC1hLngsZj1iLnktYS55O2lmKGQmJihlfHxmKSl7dmFyIGc9Yi5yK2MucixoPU1hdGguc3FydChlKmUrZipmKSxpPU1hdGgubWF4KC0xLE1hdGgubWluKDEsKGQqZCtoKmgtZypnKS8oMipkKmgpKSksaj1NYXRoLmFjb3MoaSksaz1pKihkLz1oKSxsPU1hdGguc2luKGopKmQ7Yy54PWEueCtrKmUrbCpmLGMueT1hLnkraypmLWwqZX1lbHNlIGMueD1hLngrZCxjLnk9YS55fWZ1bmN0aW9uIGV1KGEpe3JldHVybiAxK2QzLm1heChhLGZ1bmN0aW9uKGEpe3JldHVybiBhLnl9KX1mdW5jdGlvbiBldihhKXtyZXR1cm4gYS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStiLnh9LDApL2EubGVuZ3RofWZ1bmN0aW9uIGV3KGEpe3ZhciBiPWEuY2hpbGRyZW47cmV0dXJuIGImJmIubGVuZ3RoP2V3KGJbMF0pOmF9ZnVuY3Rpb24gZXgoYSl7dmFyIGI9YS5jaGlsZHJlbixjO3JldHVybiBiJiYoYz1iLmxlbmd0aCk/ZXgoYltjLTFdKTphfWZ1bmN0aW9uIGV5KGEsYil7cmV0dXJuIGEucGFyZW50PT1iLnBhcmVudD8xOjJ9ZnVuY3Rpb24gZXooYSl7dmFyIGI9YS5jaGlsZHJlbjtyZXR1cm4gYiYmYi5sZW5ndGg/YlswXTphLl90cmVlLnRocmVhZH1mdW5jdGlvbiBlQShhKXt2YXIgYj1hLmNoaWxkcmVuLGM7cmV0dXJuIGImJihjPWIubGVuZ3RoKT9iW2MtMV06YS5fdHJlZS50aHJlYWR9ZnVuY3Rpb24gZUIoYSxiKXt2YXIgYz1hLmNoaWxkcmVuO2lmKGMmJihlPWMubGVuZ3RoKSl7dmFyIGQsZSxmPS0xO3doaWxlKCsrZjxlKWIoZD1lQihjW2ZdLGIpLGEpPjAmJihhPWQpfXJldHVybiBhfWZ1bmN0aW9uIGVDKGEsYil7cmV0dXJuIGEueC1iLnh9ZnVuY3Rpb24gZUQoYSxiKXtyZXR1cm4gYi54LWEueH1mdW5jdGlvbiBlRShhLGIpe3JldHVybiBhLmRlcHRoLWIuZGVwdGh9ZnVuY3Rpb24gZUYoYSxiKXtmdW5jdGlvbiBjKGEsZCl7dmFyIGU9YS5jaGlsZHJlbjtpZihlJiYoaT1lLmxlbmd0aCkpe3ZhciBmLGc9bnVsbCxoPS0xLGk7d2hpbGUoKytoPGkpZj1lW2hdLGMoZixnKSxnPWZ9YihhLGQpfWMoYSxudWxsKX1mdW5jdGlvbiBlRyhhKXt2YXIgYj0wLGM9MCxkPWEuY2hpbGRyZW4sZT1kLmxlbmd0aCxmO3doaWxlKC0tZT49MClmPWRbZV0uX3RyZWUsZi5wcmVsaW0rPWIsZi5tb2QrPWIsYis9Zi5zaGlmdCsoYys9Zi5jaGFuZ2UpfWZ1bmN0aW9uIGVIKGEsYixjKXthPWEuX3RyZWUsYj1iLl90cmVlO3ZhciBkPWMvKGIubnVtYmVyLWEubnVtYmVyKTthLmNoYW5nZSs9ZCxiLmNoYW5nZS09ZCxiLnNoaWZ0Kz1jLGIucHJlbGltKz1jLGIubW9kKz1jfWZ1bmN0aW9uIGVJKGEsYixjKXtyZXR1cm4gYS5fdHJlZS5hbmNlc3Rvci5wYXJlbnQ9PWIucGFyZW50P2EuX3RyZWUuYW5jZXN0b3I6Y31mdW5jdGlvbiBlSihhKXtyZXR1cm57eDphLngseTphLnksZHg6YS5keCxkeTphLmR5fX1mdW5jdGlvbiBlSyhhLGIpe3ZhciBjPWEueCtiWzNdLGQ9YS55K2JbMF0sZT1hLmR4LWJbMV0tYlszXSxmPWEuZHktYlswXS1iWzJdO3JldHVybiBlPDAmJihjKz1lLzIsZT0wKSxmPDAmJihkKz1mLzIsZj0wKSx7eDpjLHk6ZCxkeDplLGR5OmZ9fWZ1bmN0aW9uIGVMKGEpe3JldHVybiBhLm1hcChlTSkuam9pbihcIixcIil9ZnVuY3Rpb24gZU0oYSl7cmV0dXJuL1tcIixcXG5dLy50ZXN0KGEpPydcIicrYS5yZXBsYWNlKC9cXFwiL2csJ1wiXCInKSsnXCInOmF9ZnVuY3Rpb24gZU8oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGMmJmEuaGFzT3duUHJvcGVydHkoYy50eXBlKT9hW2MudHlwZV0oYyk6Yn19ZnVuY3Rpb24gZVAoYSl7cmV0dXJuXCJtMCxcIithK1wiYVwiK2ErXCIsXCIrYStcIiAwIDEsMSAwLFwiKyAtMiphK1wiYVwiK2ErXCIsXCIrYStcIiAwIDEsMSAwLFwiKzIqYStcInpcIn1mdW5jdGlvbiBlUShhLGIpe2VSLmhhc093blByb3BlcnR5KGEudHlwZSkmJmVSW2EudHlwZV0oYSxiKX1mdW5jdGlvbiBlUyhhLGIpe2VRKGEuZ2VvbWV0cnksYil9ZnVuY3Rpb24gZVQoYSxiKXtmb3IodmFyIGM9YS5mZWF0dXJlcyxkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKWVRKGNbZF0uZ2VvbWV0cnksYil9ZnVuY3Rpb24gZVUoYSxiKXtmb3IodmFyIGM9YS5nZW9tZXRyaWVzLGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspZVEoY1tkXSxiKX1mdW5jdGlvbiBlVihhLGIpe2Zvcih2YXIgYz1hLmNvb3JkaW5hdGVzLGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYi5hcHBseShudWxsLGNbZF0pfWZ1bmN0aW9uIGVXKGEsYil7Zm9yKHZhciBjPWEuY29vcmRpbmF0ZXMsZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKylmb3IodmFyIGY9Y1tkXSxnPTAsaD1mLmxlbmd0aDtnPGg7ZysrKWIuYXBwbHkobnVsbCxmW2ddKX1mdW5jdGlvbiBlWChhLGIpe2Zvcih2YXIgYz1hLmNvb3JkaW5hdGVzLGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspZm9yKHZhciBmPWNbZF1bMF0sZz0wLGg9Zi5sZW5ndGg7ZzxoO2crKyliLmFwcGx5KG51bGwsZltnXSl9ZnVuY3Rpb24gZVkoYSxiKXtiLmFwcGx5KG51bGwsYS5jb29yZGluYXRlcyl9ZnVuY3Rpb24gZVooYSxiKXtmb3IodmFyIGM9YS5jb29yZGluYXRlc1swXSxkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKWIuYXBwbHkobnVsbCxjW2RdKX1mdW5jdGlvbiBlJChhKXtyZXR1cm4gYS5zb3VyY2V9ZnVuY3Rpb24gZV8oYSl7cmV0dXJuIGEudGFyZ2V0fWZ1bmN0aW9uIGZhKCl7ZnVuY3Rpb24gbyhhKXt2YXIgYj1NYXRoLnNpbihhKj1tKSpuLGM9TWF0aC5zaW4obS1hKSpuLGc9YyplK2IqayxoPWMqZitiKmwsaT1jKmQrYipqO3JldHVybltNYXRoLmF0YW4yKGgsZykvZU4sTWF0aC5hdGFuMihpLE1hdGguc3FydChnKmcraCpoKSkvZU5dfXZhciBhLGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG47cmV0dXJuIG8uZGlzdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gbT09bnVsbCYmKG49MS9NYXRoLnNpbihtPU1hdGguYWNvcyhNYXRoLm1heCgtMSxNYXRoLm1pbigxLGQqaitjKmkqTWF0aC5jb3MoZy1hKSkpKSkpLG19LG8uc291cmNlPWZ1bmN0aW9uKGcpe3ZhciBoPU1hdGguY29zKGE9Z1swXSplTiksaT1NYXRoLnNpbihhKTtyZXR1cm4gYz1NYXRoLmNvcyhiPWdbMV0qZU4pLGQ9TWF0aC5zaW4oYiksZT1jKmgsZj1jKmksbT1udWxsLG99LG8udGFyZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPU1hdGguY29zKGc9YVswXSplTiksYz1NYXRoLnNpbihnKTtyZXR1cm4gaT1NYXRoLmNvcyhoPWFbMV0qZU4pLGo9TWF0aC5zaW4oaCksaz1pKmIsbD1pKmMsbT1udWxsLG99LG99ZnVuY3Rpb24gZmIoYSxiKXt2YXIgYz1mYSgpLnNvdXJjZShhKS50YXJnZXQoYik7cmV0dXJuIGMuZGlzdGFuY2UoKSxjfWZ1bmN0aW9uIGZlKGEpe3ZhciBiPTAsYz0wO2Zvcig7Oyl7aWYoYShiLGMpKXJldHVybltiLGNdO2I9PT0wPyhiPWMrMSxjPTApOihiLT0xLGMrPTEpfX1mdW5jdGlvbiBmZihhLGIsYyxkKXt2YXIgZSxmLGcsaCxpLGosaztyZXR1cm4gZT1kW2FdLGY9ZVswXSxnPWVbMV0sZT1kW2JdLGg9ZVswXSxpPWVbMV0sZT1kW2NdLGo9ZVswXSxrPWVbMV0sKGstZykqKGgtZiktKGktZykqKGotZik+MH1mdW5jdGlvbiBmZyhhLGIsYyl7cmV0dXJuKGNbMF0tYlswXSkqKGFbMV0tYlsxXSk8KGNbMV0tYlsxXSkqKGFbMF0tYlswXSl9ZnVuY3Rpb24gZmgoYSxiLGMsZCl7dmFyIGU9YVswXSxmPWJbMF0sZz1jWzBdLGg9ZFswXSxpPWFbMV0saj1iWzFdLGs9Y1sxXSxsPWRbMV0sbT1lLWcsbj1mLWUsbz1oLWcscD1pLWsscT1qLWkscj1sLWsscz0obypwLXIqbSkvKHIqbi1vKnEpO3JldHVybltlK3MqbixpK3MqcV19ZnVuY3Rpb24gZmooYSxiKXt2YXIgYz17bGlzdDphLm1hcChmdW5jdGlvbihhLGIpe3JldHVybntpbmRleDpiLHg6YVswXSx5OmFbMV19fSkuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnk8Yi55Py0xOmEueT5iLnk/MTphLng8Yi54Py0xOmEueD5iLng/MTowfSksYm90dG9tU2l0ZTpudWxsfSxkPXtsaXN0OltdLGxlZnRFbmQ6bnVsbCxyaWdodEVuZDpudWxsLGluaXQ6ZnVuY3Rpb24oKXtkLmxlZnRFbmQ9ZC5jcmVhdGVIYWxmRWRnZShudWxsLFwibFwiKSxkLnJpZ2h0RW5kPWQuY3JlYXRlSGFsZkVkZ2UobnVsbCxcImxcIiksZC5sZWZ0RW5kLnI9ZC5yaWdodEVuZCxkLnJpZ2h0RW5kLmw9ZC5sZWZ0RW5kLGQubGlzdC51bnNoaWZ0KGQubGVmdEVuZCxkLnJpZ2h0RW5kKX0sY3JlYXRlSGFsZkVkZ2U6ZnVuY3Rpb24oYSxiKXtyZXR1cm57ZWRnZTphLHNpZGU6Yix2ZXJ0ZXg6bnVsbCxsOm51bGwscjpudWxsfX0saW5zZXJ0OmZ1bmN0aW9uKGEsYil7Yi5sPWEsYi5yPWEucixhLnIubD1iLGEucj1ifSxsZWZ0Qm91bmQ6ZnVuY3Rpb24oYSl7dmFyIGI9ZC5sZWZ0RW5kO2RvIGI9Yi5yO3doaWxlKGIhPWQucmlnaHRFbmQmJmUucmlnaHRPZihiLGEpKTtyZXR1cm4gYj1iLmwsYn0sZGVsOmZ1bmN0aW9uKGEpe2EubC5yPWEucixhLnIubD1hLmwsYS5lZGdlPW51bGx9LHJpZ2h0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJ9LGxlZnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubH0sbGVmdFJlZ2lvbjpmdW5jdGlvbihhKXtyZXR1cm4gYS5lZGdlPT1udWxsP2MuYm90dG9tU2l0ZTphLmVkZ2UucmVnaW9uW2Euc2lkZV19LHJpZ2h0UmVnaW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhLmVkZ2U9PW51bGw/Yy5ib3R0b21TaXRlOmEuZWRnZS5yZWdpb25bZmlbYS5zaWRlXV19fSxlPXtiaXNlY3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz17cmVnaW9uOntsOmEscjpifSxlcDp7bDpudWxsLHI6bnVsbH19LGQ9Yi54LWEueCxlPWIueS1hLnksZj1kPjA/ZDotZCxnPWU+MD9lOi1lO3JldHVybiBjLmM9YS54KmQrYS55KmUrKGQqZCtlKmUpKi41LGY+Zz8oYy5hPTEsYy5iPWUvZCxjLmMvPWQpOihjLmI9MSxjLmE9ZC9lLGMuYy89ZSksY30saW50ZXJzZWN0OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5lZGdlLGQ9Yi5lZGdlO2lmKCFjfHwhZHx8Yy5yZWdpb24ucj09ZC5yZWdpb24ucilyZXR1cm4gbnVsbDt2YXIgZT1jLmEqZC5iLWMuYipkLmE7aWYoTWF0aC5hYnMoZSk8MWUtMTApcmV0dXJuIG51bGw7dmFyIGY9KGMuYypkLmItZC5jKmMuYikvZSxnPShkLmMqYy5hLWMuYypkLmEpL2UsaD1jLnJlZ2lvbi5yLGk9ZC5yZWdpb24ucixqLGs7aC55PGkueXx8aC55PT1pLnkmJmgueDxpLng/KGo9YSxrPWMpOihqPWIsaz1kKTt2YXIgbD1mPj1rLnJlZ2lvbi5yLng7cmV0dXJuIGwmJmouc2lkZT09PVwibFwifHwhbCYmai5zaWRlPT09XCJyXCI/bnVsbDp7eDpmLHk6Z319LHJpZ2h0T2Y6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmVkZ2UsZD1jLnJlZ2lvbi5yLGU9Yi54PmQueDtpZihlJiZhLnNpZGU9PT1cImxcIilyZXR1cm4gMTtpZighZSYmYS5zaWRlPT09XCJyXCIpcmV0dXJuIDA7aWYoYy5hPT09MSl7dmFyIGY9Yi55LWQueSxnPWIueC1kLngsaD0wLGk9MDshZSYmYy5iPDB8fGUmJmMuYj49MD9pPWg9Zj49Yy5iKmc6KGk9Yi54K2IueSpjLmI+Yy5jLGMuYjwwJiYoaT0haSksaXx8KGg9MSkpO2lmKCFoKXt2YXIgaj1kLngtYy5yZWdpb24ubC54O2k9Yy5iKihnKmctZipmKTxqKmYqKDErMipnL2orYy5iKmMuYiksYy5iPDAmJihpPSFpKX19ZWxzZXt2YXIgaz1jLmMtYy5hKmIueCxsPWIueS1rLG09Yi54LWQueCxuPWstZC55O2k9bCpsPm0qbStuKm59cmV0dXJuIGEuc2lkZT09PVwibFwiP2k6IWl9LGVuZFBvaW50OmZ1bmN0aW9uKGEsYyxkKXthLmVwW2NdPWQ7aWYoIWEuZXBbZmlbY11dKXJldHVybjtiKGEpfSxkaXN0YW5jZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEueC1iLngsZD1hLnktYi55O3JldHVybiBNYXRoLnNxcnQoYypjK2QqZCl9fSxmPXtsaXN0OltdLGluc2VydDpmdW5jdGlvbihhLGIsYyl7YS52ZXJ0ZXg9YixhLnlzdGFyPWIueStjO2Zvcih2YXIgZD0wLGU9Zi5saXN0LGc9ZS5sZW5ndGg7ZDxnO2QrKyl7dmFyIGg9ZVtkXTtpZihhLnlzdGFyPmgueXN0YXJ8fGEueXN0YXI9PWgueXN0YXImJmIueD5oLnZlcnRleC54KWNvbnRpbnVlO2JyZWFrfWUuc3BsaWNlKGQsMCxhKX0sZGVsOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9Zi5saXN0LGQ9Yy5sZW5ndGg7YjxkJiZjW2JdIT1hOysrYik7Yy5zcGxpY2UoYiwxKX0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gZi5saXN0Lmxlbmd0aD09PTB9LG5leHRFdmVudDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPWYubGlzdCxkPWMubGVuZ3RoO2I8ZDsrK2IpaWYoY1tiXT09YSlyZXR1cm4gY1tiKzFdO3JldHVybiBudWxsfSxtaW46ZnVuY3Rpb24oKXt2YXIgYT1mLmxpc3RbMF07cmV0dXJue3g6YS52ZXJ0ZXgueCx5OmEueXN0YXJ9fSxleHRyYWN0TWluOmZ1bmN0aW9uKCl7cmV0dXJuIGYubGlzdC5zaGlmdCgpfX07ZC5pbml0KCksYy5ib3R0b21TaXRlPWMubGlzdC5zaGlmdCgpO3ZhciBnPWMubGlzdC5zaGlmdCgpLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQ7Zm9yKDs7KXtmLmVtcHR5KCl8fChoPWYubWluKCkpO2lmKGcmJihmLmVtcHR5KCl8fGcueTxoLnl8fGcueT09aC55JiZnLng8aC54KSlpPWQubGVmdEJvdW5kKGcpLGo9ZC5yaWdodChpKSxuPWQucmlnaHRSZWdpb24oaSkscz1lLmJpc2VjdChuLGcpLG09ZC5jcmVhdGVIYWxmRWRnZShzLFwibFwiKSxkLmluc2VydChpLG0pLHE9ZS5pbnRlcnNlY3QoaSxtKSxxJiYoZi5kZWwoaSksZi5pbnNlcnQoaSxxLGUuZGlzdGFuY2UocSxnKSkpLGk9bSxtPWQuY3JlYXRlSGFsZkVkZ2UocyxcInJcIiksZC5pbnNlcnQoaSxtKSxxPWUuaW50ZXJzZWN0KG0saikscSYmZi5pbnNlcnQobSxxLGUuZGlzdGFuY2UocSxnKSksZz1jLmxpc3Quc2hpZnQoKTtlbHNlIGlmKCFmLmVtcHR5KCkpaT1mLmV4dHJhY3RNaW4oKSxrPWQubGVmdChpKSxqPWQucmlnaHQoaSksbD1kLnJpZ2h0KGopLG49ZC5sZWZ0UmVnaW9uKGkpLG89ZC5yaWdodFJlZ2lvbihqKSxyPWkudmVydGV4LGUuZW5kUG9pbnQoaS5lZGdlLGkuc2lkZSxyKSxlLmVuZFBvaW50KGouZWRnZSxqLnNpZGUsciksZC5kZWwoaSksZi5kZWwoaiksZC5kZWwoaiksdD1cImxcIixuLnk+by55JiYocD1uLG49byxvPXAsdD1cInJcIikscz1lLmJpc2VjdChuLG8pLG09ZC5jcmVhdGVIYWxmRWRnZShzLHQpLGQuaW5zZXJ0KGssbSksZS5lbmRQb2ludChzLGZpW3RdLHIpLHE9ZS5pbnRlcnNlY3QoayxtKSxxJiYoZi5kZWwoayksZi5pbnNlcnQoayxxLGUuZGlzdGFuY2UocSxuKSkpLHE9ZS5pbnRlcnNlY3QobSxsKSxxJiZmLmluc2VydChtLHEsZS5kaXN0YW5jZShxLG4pKTtlbHNlIGJyZWFrfWZvcihpPWQucmlnaHQoZC5sZWZ0RW5kKTtpIT1kLnJpZ2h0RW5kO2k9ZC5yaWdodChpKSliKGkuZWRnZSl9ZnVuY3Rpb24gZmsoKXtyZXR1cm57bGVhZjohMCxub2RlczpbXSxwb2ludDpudWxsfX1mdW5jdGlvbiBmbChhLGIsYyxkLGUsZil7aWYoIWEoYixjLGQsZSxmKSl7dmFyIGc9KGMrZSkqLjUsaD0oZCtmKSouNSxpPWIubm9kZXM7aVswXSYmZmwoYSxpWzBdLGMsZCxnLGgpLGlbMV0mJmZsKGEsaVsxXSxnLGQsZSxoKSxpWzJdJiZmbChhLGlbMl0sYyxoLGcsZiksaVszXSYmZmwoYSxpWzNdLGcsaCxlLGYpfX1mdW5jdGlvbiBmbShhKXtyZXR1cm57eDphWzBdLHk6YVsxXX19ZnVuY3Rpb24gZm8oKXt0aGlzLl89bmV3IERhdGUoYXJndW1lbnRzLmxlbmd0aD4xP0RhdGUuVVRDLmFwcGx5KHRoaXMsYXJndW1lbnRzKTphcmd1bWVudHNbMF0pfWZ1bmN0aW9uIGZxKGEsYixjLGQpe3ZhciBlLGYsZz0wLGg9Yi5sZW5ndGgsaT1jLmxlbmd0aDt3aGlsZShnPGgpe2lmKGQ+PWkpcmV0dXJuLTE7ZT1iLmNoYXJDb2RlQXQoZysrKTtpZihlPT0zNyl7Zj1md1tiLmNoYXJBdChnKyspXTtpZighZnx8KGQ9ZihhLGMsZCkpPDApcmV0dXJuLTF9ZWxzZSBpZihlIT1jLmNoYXJDb2RlQXQoZCsrKSlyZXR1cm4tMX1yZXR1cm4gZH1mdW5jdGlvbiBmeChhLGIsYyl7cmV0dXJuIGZ6LnRlc3QoYi5zdWJzdHJpbmcoYyxjKz0zKSk/YzotMX1mdW5jdGlvbiBmeShhLGIsYyl7ZkEubGFzdEluZGV4PTA7dmFyIGQ9ZkEuZXhlYyhiLnN1YnN0cmluZyhjLGMrMTApKTtyZXR1cm4gZD9jKz1kWzBdLmxlbmd0aDotMX1mdW5jdGlvbiBmQyhhLGIsYyl7dmFyIGQ9ZkQuZ2V0KGIuc3Vic3RyaW5nKGMsYys9MykudG9Mb3dlckNhc2UoKSk7cmV0dXJuIGQ9PW51bGw/LTE6KGEubT1kLGMpfWZ1bmN0aW9uIGZFKGEsYixjKXtmRi5sYXN0SW5kZXg9MDt2YXIgZD1mRi5leGVjKGIuc3Vic3RyaW5nKGMsYysxMikpO3JldHVybiBkPyhhLm09ZkcuZ2V0KGRbMF0udG9Mb3dlckNhc2UoKSksYys9ZFswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGZJKGEsYixjKXtyZXR1cm4gZnEoYSxmdi5jLnRvU3RyaW5nKCksYixjKX1mdW5jdGlvbiBmSihhLGIsYyl7cmV0dXJuIGZxKGEsZnYueC50b1N0cmluZygpLGIsYyl9ZnVuY3Rpb24gZksoYSxiLGMpe3JldHVybiBmcShhLGZ2LlgudG9TdHJpbmcoKSxiLGMpfWZ1bmN0aW9uIGZMKGEsYixjKXtmVS5sYXN0SW5kZXg9MDt2YXIgZD1mVS5leGVjKGIuc3Vic3RyaW5nKGMsYys0KSk7cmV0dXJuIGQ/KGEueT0rZFswXSxjKz1kWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gZk0oYSxiLGMpe2ZVLmxhc3RJbmRleD0wO3ZhciBkPWZVLmV4ZWMoYi5zdWJzdHJpbmcoYyxjKzIpKTtyZXR1cm4gZD8oYS55PWZOKCkrICtkWzBdLGMrPWRbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBmTigpe3JldHVybn5+KChuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKS8xZTMpKjFlM31mdW5jdGlvbiBmTyhhLGIsYyl7ZlUubGFzdEluZGV4PTA7dmFyIGQ9ZlUuZXhlYyhiLnN1YnN0cmluZyhjLGMrMikpO3JldHVybiBkPyhhLm09ZFswXS0xLGMrPWRbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBmUChhLGIsYyl7ZlUubGFzdEluZGV4PTA7dmFyIGQ9ZlUuZXhlYyhiLnN1YnN0cmluZyhjLGMrMikpO3JldHVybiBkPyhhLmQ9K2RbMF0sYys9ZFswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGZRKGEsYixjKXtmVS5sYXN0SW5kZXg9MDt2YXIgZD1mVS5leGVjKGIuc3Vic3RyaW5nKGMsYysyKSk7cmV0dXJuIGQ/KGEuSD0rZFswXSxjKz1kWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gZlIoYSxiLGMpe2ZVLmxhc3RJbmRleD0wO3ZhciBkPWZVLmV4ZWMoYi5zdWJzdHJpbmcoYyxjKzIpKTtyZXR1cm4gZD8oYS5NPStkWzBdLGMrPWRbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBmUyhhLGIsYyl7ZlUubGFzdEluZGV4PTA7dmFyIGQ9ZlUuZXhlYyhiLnN1YnN0cmluZyhjLGMrMikpO3JldHVybiBkPyhhLlM9K2RbMF0sYys9ZFswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGZUKGEsYixjKXtmVS5sYXN0SW5kZXg9MDt2YXIgZD1mVS5leGVjKGIuc3Vic3RyaW5nKGMsYyszKSk7cmV0dXJuIGQ/KGEuTD0rZFswXSxjKz1kWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gZlYoYSxiLGMpe3ZhciBkPWZXLmdldChiLnN1YnN0cmluZyhjLGMrPTIpLnRvTG93ZXJDYXNlKCkpO3JldHVybiBkPT1udWxsPy0xOihhLnA9ZCxjKX1mdW5jdGlvbiBmWChhKXt2YXIgYj1hLmdldFRpbWV6b25lT2Zmc2V0KCksYz1iPjA/XCItXCI6XCIrXCIsZD1+fihNYXRoLmFicyhiKS82MCksZT1NYXRoLmFicyhiKSU2MDtyZXR1cm4gYytmcihkKStmcihlKX1mdW5jdGlvbiBmWihhKXtyZXR1cm4gYS50b0lTT1N0cmluZygpfWZ1bmN0aW9uIGYkKGEsYixjKXtmdW5jdGlvbiBkKGIpe3ZhciBjPWEoYiksZD1mKGMsMSk7cmV0dXJuIGItYzxkLWI/YzpkfWZ1bmN0aW9uIGUoYyl7cmV0dXJuIGIoYz1hKG5ldyBmbihjLTEpKSwxKSxjfWZ1bmN0aW9uIGYoYSxjKXtyZXR1cm4gYihhPW5ldyBmbigrYSksYyksYX1mdW5jdGlvbiBnKGEsZCxmKXt2YXIgZz1lKGEpLGg9W107aWYoZj4xKXdoaWxlKGc8ZCljKGcpJWZ8fGgucHVzaChuZXcgRGF0ZSgrZykpLGIoZywxKTtlbHNlIHdoaWxlKGc8ZCloLnB1c2gobmV3IERhdGUoK2cpKSxiKGcsMSk7cmV0dXJuIGh9ZnVuY3Rpb24gaChhLGIsYyl7dHJ5e1xuZm49Zm87dmFyIGQ9bmV3IGZvO3JldHVybiBkLl89YSxnKGQsYixjKX1maW5hbGx5e2ZuPURhdGV9fWEuZmxvb3I9YSxhLnJvdW5kPWQsYS5jZWlsPWUsYS5vZmZzZXQ9ZixhLnJhbmdlPWc7dmFyIGk9YS51dGM9Zl8oYSk7cmV0dXJuIGkuZmxvb3I9aSxpLnJvdW5kPWZfKGQpLGkuY2VpbD1mXyhlKSxpLm9mZnNldD1mXyhmKSxpLnJhbmdlPWgsYX1mdW5jdGlvbiBmXyhhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXt0cnl7Zm49Zm87dmFyIGQ9bmV3IGZvO3JldHVybiBkLl89YixhKGQsYykuX31maW5hbGx5e2ZuPURhdGV9fX1mdW5jdGlvbiBnYShhLGIsYyl7ZnVuY3Rpb24gZChiKXtyZXR1cm4gYShiKX1yZXR1cm4gZC5pbnZlcnQ9ZnVuY3Rpb24oYil7cmV0dXJuIGdjKGEuaW52ZXJ0KGIpKX0sZC5kb21haW49ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGEuZG9tYWluKGIpLGQpOmEuZG9tYWluKCkubWFwKGdjKX0sZC5uaWNlPWZ1bmN0aW9uKGEpe3ZhciBiPWdiKGQuZG9tYWluKCkpO3JldHVybiBkLmRvbWFpbihbYS5mbG9vcihiWzBdKSxhLmNlaWwoYlsxXSldKX0sZC50aWNrcz1mdW5jdGlvbihjLGUpe3ZhciBmPWdiKGQuZG9tYWluKCkpO2lmKHR5cGVvZiBjIT1cImZ1bmN0aW9uXCIpe3ZhciBnPWZbMV0tZlswXSxoPWcvYyxpPWQzLmJpc2VjdChnZyxoKTtpZihpPT1nZy5sZW5ndGgpcmV0dXJuIGIueWVhcihmLGMpO2lmKCFpKXJldHVybiBhLnRpY2tzKGMpLm1hcChnYyk7TWF0aC5sb2coaC9nZ1tpLTFdKTxNYXRoLmxvZyhnZ1tpXS9oKSYmLS1pLGM9YltpXSxlPWNbMV0sYz1jWzBdLnJhbmdlfXJldHVybiBjKGZbMF0sbmV3IERhdGUoK2ZbMV0rMSksZSl9LGQudGlja0Zvcm1hdD1mdW5jdGlvbigpe3JldHVybiBjfSxkLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gZ2EoYS5jb3B5KCksYixjKX0sZDMucmViaW5kKGQsYSxcInJhbmdlXCIsXCJyYW5nZVJvdW5kXCIsXCJpbnRlcnBvbGF0ZVwiLFwiY2xhbXBcIil9ZnVuY3Rpb24gZ2IoYSl7dmFyIGI9YVswXSxjPWFbYS5sZW5ndGgtMV07cmV0dXJuIGI8Yz9bYixjXTpbYyxiXX1mdW5jdGlvbiBnYyhhKXtyZXR1cm4gbmV3IERhdGUoYSl9ZnVuY3Rpb24gZ2QoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWEubGVuZ3RoLTEsZD1hW2NdO3doaWxlKCFkWzFdKGIpKWQ9YVstLWNdO3JldHVybiBkWzBdKGIpfX1mdW5jdGlvbiBnZShhKXt2YXIgYj1uZXcgRGF0ZShhLDAsMSk7cmV0dXJuIGIuc2V0RnVsbFllYXIoYSksYn1mdW5jdGlvbiBnZihhKXt2YXIgYj1hLmdldEZ1bGxZZWFyKCksYz1nZShiKSxkPWdlKGIrMSk7cmV0dXJuIGIrKGEtYykvKGQtYyl9ZnVuY3Rpb24gZ28oYSl7dmFyIGI9bmV3IERhdGUoRGF0ZS5VVEMoYSwwLDEpKTtyZXR1cm4gYi5zZXRVVENGdWxsWWVhcihhKSxifWZ1bmN0aW9uIGdwKGEpe3ZhciBiPWEuZ2V0VVRDRnVsbFllYXIoKSxjPWdvKGIpLGQ9Z28oYisxKTtyZXR1cm4gYisoYS1jKS8oZC1jKX1EYXRlLm5vd3x8KERhdGUubm93PWZ1bmN0aW9uKCl7cmV0dXJuKyhuZXcgRGF0ZSl9KTt0cnl7ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZS5zZXRQcm9wZXJ0eShcIm9wYWNpdHlcIiwwLFwiXCIpfWNhdGNoKGEpe3ZhciBiPUNTU1N0eWxlRGVjbGFyYXRpb24ucHJvdG90eXBlLGM9Yi5zZXRQcm9wZXJ0eTtiLnNldFByb3BlcnR5PWZ1bmN0aW9uKGEsYixkKXtjLmNhbGwodGhpcyxhLGIrXCJcIixkKX19ZDM9e3ZlcnNpb246XCIyLjkuNlwifTt2YXIgZT1nO3RyeXtlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jaGlsZE5vZGVzKVswXS5ub2RlVHlwZX1jYXRjaChoKXtlPWZ9dmFyIGk9W10uX19wcm90b19fP2Z1bmN0aW9uKGEsYil7YS5fX3Byb3RvX189Yn06ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYilhW2NdPWJbY119O2QzLm1hcD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgajtmb3IodmFyIGMgaW4gYSliLnNldChjLGFbY10pO3JldHVybiBifSxkKGose2hhczpmdW5jdGlvbihhKXtyZXR1cm4gaythIGluIHRoaXN9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpc1trK2FdfSxzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpc1trK2FdPWJ9LHJlbW92ZTpmdW5jdGlvbihhKXtyZXR1cm4gYT1rK2EsYSBpbiB0aGlzJiZkZWxldGUgdGhpc1thXX0sa2V5czpmdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oYil7YS5wdXNoKGIpfSksYX0sdmFsdWVzOmZ1bmN0aW9uKCl7dmFyIGE9W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihiLGMpe2EucHVzaChjKX0pLGF9LGVudHJpZXM6ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGIsYyl7YS5wdXNoKHtrZXk6Yix2YWx1ZTpjfSl9KSxhfSxmb3JFYWNoOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiB0aGlzKWIuY2hhckNvZGVBdCgwKT09PWwmJmEuY2FsbCh0aGlzLGIuc3Vic3RyaW5nKDEpLHRoaXNbYl0pfX0pO3ZhciBrPVwiXFwwXCIsbD1rLmNoYXJDb2RlQXQoMCk7ZDMuZnVuY3Rvcj1wLGQzLnJlYmluZD1mdW5jdGlvbihhLGIpe3ZhciBjPTEsZD1hcmd1bWVudHMubGVuZ3RoLGU7d2hpbGUoKytjPGQpYVtlPWFyZ3VtZW50c1tjXV09cShhLGIsYltlXSk7cmV0dXJuIGF9LGQzLmFzY2VuZGluZz1mdW5jdGlvbihhLGIpe3JldHVybiBhPGI/LTE6YT5iPzE6YT49Yj8wOk5hTn0sZDMuZGVzY2VuZGluZz1mdW5jdGlvbihhLGIpe3JldHVybiBiPGE/LTE6Yj5hPzE6Yj49YT8wOk5hTn0sZDMubWVhbj1mdW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoLGQsZT0wLGY9LTEsZz0wO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0xKXdoaWxlKCsrZjxjKXIoZD1hW2ZdKSYmKGUrPShkLWUpLysrZyk7ZWxzZSB3aGlsZSgrK2Y8YylyKGQ9Yi5jYWxsKGEsYVtmXSxmKSkmJihlKz0oZC1lKS8rK2cpO3JldHVybiBnP2U6dW5kZWZpbmVkfSxkMy5tZWRpYW49ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xJiYoYT1hLm1hcChiKSksYT1hLmZpbHRlcihyKSxhLmxlbmd0aD9kMy5xdWFudGlsZShhLnNvcnQoZDMuYXNjZW5kaW5nKSwuNSk6dW5kZWZpbmVkfSxkMy5taW49ZnVuY3Rpb24oYSxiKXt2YXIgYz0tMSxkPWEubGVuZ3RoLGUsZjtpZihhcmd1bWVudHMubGVuZ3RoPT09MSl7d2hpbGUoKytjPGQmJigoZT1hW2NdKT09bnVsbHx8ZSE9ZSkpZT11bmRlZmluZWQ7d2hpbGUoKytjPGQpKGY9YVtjXSkhPW51bGwmJmU+ZiYmKGU9Zil9ZWxzZXt3aGlsZSgrK2M8ZCYmKChlPWIuY2FsbChhLGFbY10sYykpPT1udWxsfHxlIT1lKSllPXVuZGVmaW5lZDt3aGlsZSgrK2M8ZCkoZj1iLmNhbGwoYSxhW2NdLGMpKSE9bnVsbCYmZT5mJiYoZT1mKX1yZXR1cm4gZX0sZDMubWF4PWZ1bmN0aW9uKGEsYil7dmFyIGM9LTEsZD1hLmxlbmd0aCxlLGY7aWYoYXJndW1lbnRzLmxlbmd0aD09PTEpe3doaWxlKCsrYzxkJiYoKGU9YVtjXSk9PW51bGx8fGUhPWUpKWU9dW5kZWZpbmVkO3doaWxlKCsrYzxkKShmPWFbY10pIT1udWxsJiZmPmUmJihlPWYpfWVsc2V7d2hpbGUoKytjPGQmJigoZT1iLmNhbGwoYSxhW2NdLGMpKT09bnVsbHx8ZSE9ZSkpZT11bmRlZmluZWQ7d2hpbGUoKytjPGQpKGY9Yi5jYWxsKGEsYVtjXSxjKSkhPW51bGwmJmY+ZSYmKGU9Zil9cmV0dXJuIGV9LGQzLmV4dGVudD1mdW5jdGlvbihhLGIpe3ZhciBjPS0xLGQ9YS5sZW5ndGgsZSxmLGc7aWYoYXJndW1lbnRzLmxlbmd0aD09PTEpe3doaWxlKCsrYzxkJiYoKGU9Zz1hW2NdKT09bnVsbHx8ZSE9ZSkpZT1nPXVuZGVmaW5lZDt3aGlsZSgrK2M8ZCkoZj1hW2NdKSE9bnVsbCYmKGU+ZiYmKGU9ZiksZzxmJiYoZz1mKSl9ZWxzZXt3aGlsZSgrK2M8ZCYmKChlPWc9Yi5jYWxsKGEsYVtjXSxjKSk9PW51bGx8fGUhPWUpKWU9dW5kZWZpbmVkO3doaWxlKCsrYzxkKShmPWIuY2FsbChhLGFbY10sYykpIT1udWxsJiYoZT5mJiYoZT1mKSxnPGYmJihnPWYpKX1yZXR1cm5bZSxnXX0sZDMucmFuZG9tPXtub3JtYWw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYoYj0xKSxhcmd1bWVudHMubGVuZ3RoPDEmJihhPTApLGZ1bmN0aW9uKCl7dmFyIGMsZCxlO2RvIGM9TWF0aC5yYW5kb20oKSoyLTEsZD1NYXRoLnJhbmRvbSgpKjItMSxlPWMqYytkKmQ7d2hpbGUoIWV8fGU+MSk7cmV0dXJuIGErYipjKk1hdGguc3FydCgtMipNYXRoLmxvZyhlKS9lKX19fSxkMy5zdW09ZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9YS5sZW5ndGgsZSxmPS0xO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0xKXdoaWxlKCsrZjxkKWlzTmFOKGU9K2FbZl0pfHwoYys9ZSk7ZWxzZSB3aGlsZSgrK2Y8ZClpc05hTihlPStiLmNhbGwoYSxhW2ZdLGYpKXx8KGMrPWUpO3JldHVybiBjfSxkMy5xdWFudGlsZT1mdW5jdGlvbihhLGIpe3ZhciBjPShhLmxlbmd0aC0xKSpiKzEsZD1NYXRoLmZsb29yKGMpLGU9YVtkLTFdLGY9Yy1kO3JldHVybiBmP2UrZiooYVtkXS1lKTplfSxkMy50cmFuc3Bvc2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGQzLnppcC5hcHBseShkMyxhKX0sZDMuemlwPWZ1bmN0aW9uKCl7aWYoIShlPWFyZ3VtZW50cy5sZW5ndGgpKXJldHVybltdO2Zvcih2YXIgYT0tMSxiPWQzLm1pbihhcmd1bWVudHMscyksYz1uZXcgQXJyYXkoYik7KythPGI7KWZvcih2YXIgZD0tMSxlLGY9Y1thXT1uZXcgQXJyYXkoZSk7KytkPGU7KWZbZF09YXJndW1lbnRzW2RdW2FdO3JldHVybiBjfSxkMy5iaXNlY3Rvcj1mdW5jdGlvbihhKXtyZXR1cm57bGVmdDpmdW5jdGlvbihiLGMsZCxlKXthcmd1bWVudHMubGVuZ3RoPDMmJihkPTApLGFyZ3VtZW50cy5sZW5ndGg8NCYmKGU9Yi5sZW5ndGgpO3doaWxlKGQ8ZSl7dmFyIGY9ZCtlPj4xO2EuY2FsbChiLGJbZl0sZik8Yz9kPWYrMTplPWZ9cmV0dXJuIGR9LHJpZ2h0OmZ1bmN0aW9uKGIsYyxkLGUpe2FyZ3VtZW50cy5sZW5ndGg8MyYmKGQ9MCksYXJndW1lbnRzLmxlbmd0aDw0JiYoZT1iLmxlbmd0aCk7d2hpbGUoZDxlKXt2YXIgZj1kK2U+PjE7YzxhLmNhbGwoYixiW2ZdLGYpP2U9ZjpkPWYrMX1yZXR1cm4gZH19fTt2YXIgdD1kMy5iaXNlY3RvcihmdW5jdGlvbihhKXtyZXR1cm4gYX0pO2QzLmJpc2VjdExlZnQ9dC5sZWZ0LGQzLmJpc2VjdD1kMy5iaXNlY3RSaWdodD10LnJpZ2h0LGQzLmZpcnN0PWZ1bmN0aW9uKGEsYil7dmFyIGM9MCxkPWEubGVuZ3RoLGU9YVswXSxmO2FyZ3VtZW50cy5sZW5ndGg9PT0xJiYoYj1kMy5hc2NlbmRpbmcpO3doaWxlKCsrYzxkKWIuY2FsbChhLGUsZj1hW2NdKT4wJiYoZT1mKTtyZXR1cm4gZX0sZDMubGFzdD1mdW5jdGlvbihhLGIpe3ZhciBjPTAsZD1hLmxlbmd0aCxlPWFbMF0sZjthcmd1bWVudHMubGVuZ3RoPT09MSYmKGI9ZDMuYXNjZW5kaW5nKTt3aGlsZSgrK2M8ZCliLmNhbGwoYSxlLGY9YVtjXSk8PTAmJihlPWYpO3JldHVybiBlfSxkMy5uZXN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZihjLGcpe2lmKGc+PWIubGVuZ3RoKXJldHVybiBlP2UuY2FsbChhLGMpOmQ/Yy5zb3J0KGQpOmM7dmFyIGg9LTEsaT1jLmxlbmd0aCxrPWJbZysrXSxsLG0sbj1uZXcgaixvLHA9e307d2hpbGUoKytoPGkpKG89bi5nZXQobD1rKG09Y1toXSkpKT9vLnB1c2gobSk6bi5zZXQobCxbbV0pO3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24oYSl7cFthXT1mKG4uZ2V0KGEpLGcpfSkscH1mdW5jdGlvbiBnKGEsZCl7aWYoZD49Yi5sZW5ndGgpcmV0dXJuIGE7dmFyIGU9W10sZj1jW2QrK10saDtmb3IoaCBpbiBhKWUucHVzaCh7a2V5OmgsdmFsdWVzOmcoYVtoXSxkKX0pO3JldHVybiBmJiZlLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gZihhLmtleSxiLmtleSl9KSxlfXZhciBhPXt9LGI9W10sYz1bXSxkLGU7cmV0dXJuIGEubWFwPWZ1bmN0aW9uKGEpe3JldHVybiBmKGEsMCl9LGEuZW50cmllcz1mdW5jdGlvbihhKXtyZXR1cm4gZyhmKGEsMCksMCl9LGEua2V5PWZ1bmN0aW9uKGMpe3JldHVybiBiLnB1c2goYyksYX0sYS5zb3J0S2V5cz1mdW5jdGlvbihkKXtyZXR1cm4gY1tiLmxlbmd0aC0xXT1kLGF9LGEuc29ydFZhbHVlcz1mdW5jdGlvbihiKXtyZXR1cm4gZD1iLGF9LGEucm9sbHVwPWZ1bmN0aW9uKGIpe3JldHVybiBlPWIsYX0sYX0sZDMua2V5cz1mdW5jdGlvbihhKXt2YXIgYj1bXTtmb3IodmFyIGMgaW4gYSliLnB1c2goYyk7cmV0dXJuIGJ9LGQzLnZhbHVlcz1mdW5jdGlvbihhKXt2YXIgYj1bXTtmb3IodmFyIGMgaW4gYSliLnB1c2goYVtjXSk7cmV0dXJuIGJ9LGQzLmVudHJpZXM9ZnVuY3Rpb24oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpYi5wdXNoKHtrZXk6Yyx2YWx1ZTphW2NdfSk7cmV0dXJuIGJ9LGQzLnBlcm11dGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPS0xLGU9Yi5sZW5ndGg7d2hpbGUoKytkPGUpY1tkXT1hW2JbZF1dO3JldHVybiBjfSxkMy5tZXJnZT1mdW5jdGlvbihhKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSxhKX0sZDMuc3BsaXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPVtdLGUsZj0tMSxnPWEubGVuZ3RoO2FyZ3VtZW50cy5sZW5ndGg8MiYmKGI9dSk7d2hpbGUoKytmPGcpYi5jYWxsKGQsZT1hW2ZdLGYpP2Q9W106KGQubGVuZ3RofHxjLnB1c2goZCksZC5wdXNoKGUpKTtyZXR1cm4gY30sZDMucmFuZ2U9ZnVuY3Rpb24oYSxiLGMpe2FyZ3VtZW50cy5sZW5ndGg8MyYmKGM9MSxhcmd1bWVudHMubGVuZ3RoPDImJihiPWEsYT0wKSk7aWYoKGItYSkvYz09PUluZmluaXR5KXRocm93IG5ldyBFcnJvcihcImluZmluaXRlIHJhbmdlXCIpO3ZhciBkPVtdLGU9dyhNYXRoLmFicyhjKSksZj0tMSxnO2EqPWUsYio9ZSxjKj1lO2lmKGM8MCl3aGlsZSgoZz1hK2MqKytmKT5iKWQucHVzaChnL2UpO2Vsc2Ugd2hpbGUoKGc9YStjKisrZik8YilkLnB1c2goZy9lKTtyZXR1cm4gZH0sZDMucmVxdW90ZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHgsXCJcXFxcJCZcIil9O3ZhciB4PS9bXFxcXFxcXlxcJFxcKlxcK1xcP1xcfFxcW1xcXVxcKFxcKVxcLlxce1xcfV0vZztkMy5yb3VuZD1mdW5jdGlvbihhLGIpe3JldHVybiBiP01hdGgucm91bmQoYSooYj1NYXRoLnBvdygxMCxiKSkpL2I6TWF0aC5yb3VuZChhKX0sZDMueGhyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgWE1MSHR0cFJlcXVlc3Q7YXJndW1lbnRzLmxlbmd0aDwzPyhjPWIsYj1udWxsKTpiJiZkLm92ZXJyaWRlTWltZVR5cGUmJmQub3ZlcnJpZGVNaW1lVHlwZShiKSxkLm9wZW4oXCJHRVRcIixhLCEwKSxiJiZkLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixiKSxkLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKGQucmVhZHlTdGF0ZT09PTQpe3ZhciBhPWQuc3RhdHVzO2MoIWEmJmQucmVzcG9uc2V8fGE+PTIwMCYmYTwzMDB8fGE9PT0zMDQ/ZDpudWxsKX19LGQuc2VuZChudWxsKX0sZDMudGV4dD1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXtjKGEmJmEucmVzcG9uc2VUZXh0KX1hcmd1bWVudHMubGVuZ3RoPDMmJihjPWIsYj1udWxsKSxkMy54aHIoYSxiLGQpfSxkMy5qc29uPWZ1bmN0aW9uKGEsYil7ZDMudGV4dChhLFwiYXBwbGljYXRpb24vanNvblwiLGZ1bmN0aW9uKGEpe2IoYT9KU09OLnBhcnNlKGEpOm51bGwpfSl9LGQzLmh0bWw9ZnVuY3Rpb24oYSxiKXtkMy50ZXh0KGEsXCJ0ZXh0L2h0bWxcIixmdW5jdGlvbihhKXtpZihhIT1udWxsKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO2Muc2VsZWN0Tm9kZShkb2N1bWVudC5ib2R5KSxhPWMuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGEpfWIoYSl9KX0sZDMueG1sPWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe2MoYSYmYS5yZXNwb25zZVhNTCl9YXJndW1lbnRzLmxlbmd0aDwzJiYoYz1iLGI9bnVsbCksZDMueGhyKGEsYixkKX07dmFyIHk9e3N2ZzpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIseGh0bWw6XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIseGxpbms6XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIseG1sOlwiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlXCIseG1sbnM6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wifTtkMy5ucz17cHJlZml4OnkscXVhbGlmeTpmdW5jdGlvbihhKXt2YXIgYj1hLmluZGV4T2YoXCI6XCIpLGM9YTtyZXR1cm4gYj49MCYmKGM9YS5zdWJzdHJpbmcoMCxiKSxhPWEuc3Vic3RyaW5nKGIrMSkpLHkuaGFzT3duUHJvcGVydHkoYyk/e3NwYWNlOnlbY10sbG9jYWw6YX06YX19LGQzLmRpc3BhdGNoPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHosYj0tMSxjPWFyZ3VtZW50cy5sZW5ndGg7d2hpbGUoKytiPGMpYVthcmd1bWVudHNbYl1dPUEoYSk7cmV0dXJuIGF9LHoucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5pbmRleE9mKFwiLlwiKSxkPVwiXCI7cmV0dXJuIGM+MCYmKGQ9YS5zdWJzdHJpbmcoYysxKSxhPWEuc3Vic3RyaW5nKDAsYykpLGFyZ3VtZW50cy5sZW5ndGg8Mj90aGlzW2FdLm9uKGQpOnRoaXNbYV0ub24oZCxiKX0sZDMuZm9ybWF0PWZ1bmN0aW9uKGEpe3ZhciBiPUIuZXhlYyhhKSxjPWJbMV18fFwiIFwiLGQ9YlszXXx8XCJcIixlPWJbNV0sZj0rYls2XSxnPWJbN10saD1iWzhdLGk9Yls5XSxqPTEsaz1cIlwiLGw9ITE7aCYmKGg9K2guc3Vic3RyaW5nKDEpKSxlJiYoYz1cIjBcIixnJiYoZi09TWF0aC5mbG9vcigoZi0xKS80KSkpO3N3aXRjaChpKXtjYXNlXCJuXCI6Zz0hMCxpPVwiZ1wiO2JyZWFrO2Nhc2VcIiVcIjpqPTEwMCxrPVwiJVwiLGk9XCJmXCI7YnJlYWs7Y2FzZVwicFwiOmo9MTAwLGs9XCIlXCIsaT1cInJcIjticmVhaztjYXNlXCJkXCI6bD0hMCxoPTA7YnJlYWs7Y2FzZVwic1wiOmo9LTEsaT1cInJcIn1yZXR1cm4gaT09XCJyXCImJiFoJiYoaT1cImdcIiksaT1DLmdldChpKXx8RSxmdW5jdGlvbihhKXtpZihsJiZhJTEpcmV0dXJuXCJcIjt2YXIgYj1hPDAmJihhPS1hKT9cIuKIklwiOmQ7aWYoajwwKXt2YXIgbT1kMy5mb3JtYXRQcmVmaXgoYSxoKTthPW0uc2NhbGUoYSksaz1tLnN5bWJvbH1lbHNlIGEqPWo7YT1pKGEsaCk7aWYoZSl7dmFyIG49YS5sZW5ndGgrYi5sZW5ndGg7bjxmJiYoYT0obmV3IEFycmF5KGYtbisxKSkuam9pbihjKSthKSxnJiYoYT1GKGEpKSxhPWIrYX1lbHNle2cmJihhPUYoYSkpLGE9YithO3ZhciBuPWEubGVuZ3RoO248ZiYmKGE9KG5ldyBBcnJheShmLW4rMSkpLmpvaW4oYykrYSl9cmV0dXJuIGEra319O3ZhciBCPS8oPzooW157XSk/KFs8Pj1eXSkpPyhbK1xcLSBdKT8oIyk/KDApPyhbMC05XSspPygsKT8oXFwuWzAtOV0rKT8oW2EtekEtWiVdKT8vLEM9ZDMubWFwKHtnOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudG9QcmVjaXNpb24oYil9LGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS50b0V4cG9uZW50aWFsKGIpfSxmOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudG9GaXhlZChiKX0scjpmdW5jdGlvbihhLGIpe3JldHVybiBkMy5yb3VuZChhLGI9RChhLGIpKS50b0ZpeGVkKE1hdGgubWF4KDAsTWF0aC5taW4oMjAsYikpKX19KSxHPVtcInlcIixcInpcIixcImFcIixcImZcIixcInBcIixcIm5cIixcIs68XCIsXCJtXCIsXCJcIixcImtcIixcIk1cIixcIkdcIixcIlRcIixcIlBcIixcIkVcIixcIlpcIixcIllcIl0ubWFwKEgpO2QzLmZvcm1hdFByZWZpeD1mdW5jdGlvbihhLGIpe3ZhciBjPTA7cmV0dXJuIGEmJihhPDAmJihhKj0tMSksYiYmKGE9ZDMucm91bmQoYSxEKGEsYikpKSxjPTErTWF0aC5mbG9vcigxZS0xMitNYXRoLmxvZyhhKS9NYXRoLkxOMTApLGM9TWF0aC5tYXgoLTI0LE1hdGgubWluKDI0LE1hdGguZmxvb3IoKGM8PTA/YysxOmMtMSkvMykqMykpKSxHWzgrYy8zXX07dmFyIEk9UigyKSxKPVIoMyksSz1mdW5jdGlvbigpe3JldHVybiBRfSxMPWQzLm1hcCh7bGluZWFyOksscG9seTpSLHF1YWQ6ZnVuY3Rpb24oKXtyZXR1cm4gSX0sY3ViaWM6ZnVuY3Rpb24oKXtyZXR1cm4gSn0sc2luOmZ1bmN0aW9uKCl7cmV0dXJuIFN9LGV4cDpmdW5jdGlvbigpe3JldHVybiBUfSxjaXJjbGU6ZnVuY3Rpb24oKXtyZXR1cm4gVX0sZWxhc3RpYzpWLGJhY2s6Vyxib3VuY2U6ZnVuY3Rpb24oKXtyZXR1cm4gWH19KSxNPWQzLm1hcCh7XCJpblwiOlEsb3V0Ok8sXCJpbi1vdXRcIjpQLFwib3V0LWluXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIFAoTyhhKSl9fSk7ZDMuZWFzZT1mdW5jdGlvbihhKXt2YXIgYj1hLmluZGV4T2YoXCItXCIpLGM9Yj49MD9hLnN1YnN0cmluZygwLGIpOmEsZD1iPj0wP2Euc3Vic3RyaW5nKGIrMSk6XCJpblwiO3JldHVybiBjPUwuZ2V0KGMpfHxLLGQ9TS5nZXQoZCl8fFEsTihkKGMuYXBwbHkobnVsbCxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpKSl9LGQzLmV2ZW50PW51bGwsZDMuaW50ZXJwb2xhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kMy5pbnRlcnBvbGF0b3JzLmxlbmd0aCxkO3doaWxlKC0tYz49MCYmIShkPWQzLmludGVycG9sYXRvcnNbY10oYSxiKSkpO3JldHVybiBkfSxkMy5pbnRlcnBvbGF0ZU51bWJlcj1mdW5jdGlvbihhLGIpe3JldHVybiBiLT1hLGZ1bmN0aW9uKGMpe3JldHVybiBhK2IqY319LGQzLmludGVycG9sYXRlUm91bmQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi09YSxmdW5jdGlvbihjKXtyZXR1cm4gTWF0aC5yb3VuZChhK2IqYyl9fSxkMy5pbnRlcnBvbGF0ZVN0cmluZz1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPTAsZz0wLGg9W10saT1bXSxqLGs7Xy5sYXN0SW5kZXg9MDtmb3IoZD0wO2M9Xy5leGVjKGIpOysrZCljLmluZGV4JiZoLnB1c2goYi5zdWJzdHJpbmcoZixnPWMuaW5kZXgpKSxpLnB1c2goe2k6aC5sZW5ndGgseDpjWzBdfSksaC5wdXNoKG51bGwpLGY9Xy5sYXN0SW5kZXg7ZjxiLmxlbmd0aCYmaC5wdXNoKGIuc3Vic3RyaW5nKGYpKTtmb3IoZD0wLGo9aS5sZW5ndGg7KGM9Xy5leGVjKGEpKSYmZDxqOysrZCl7az1pW2RdO2lmKGsueD09Y1swXSl7aWYoay5pKWlmKGhbay5pKzFdPT1udWxsKXtoW2suaS0xXSs9ay54LGguc3BsaWNlKGsuaSwxKTtmb3IoZT1kKzE7ZTxqOysrZSlpW2VdLmktLX1lbHNle2hbay5pLTFdKz1rLngraFtrLmkrMV0saC5zcGxpY2Uoay5pLDIpO2ZvcihlPWQrMTtlPGo7KytlKWlbZV0uaS09Mn1lbHNlIGlmKGhbay5pKzFdPT1udWxsKWhbay5pXT1rLng7ZWxzZXtoW2suaV09ay54K2hbay5pKzFdLGguc3BsaWNlKGsuaSsxLDEpO2ZvcihlPWQrMTtlPGo7KytlKWlbZV0uaS0tfWkuc3BsaWNlKGQsMSksai0tLGQtLX1lbHNlIGsueD1kMy5pbnRlcnBvbGF0ZU51bWJlcihwYXJzZUZsb2F0KGNbMF0pLHBhcnNlRmxvYXQoay54KSl9d2hpbGUoZDxqKWs9aS5wb3AoKSxoW2suaSsxXT09bnVsbD9oW2suaV09ay54OihoW2suaV09ay54K2hbay5pKzFdLGguc3BsaWNlKGsuaSsxLDEpKSxqLS07cmV0dXJuIGgubGVuZ3RoPT09MT9oWzBdPT1udWxsP2lbMF0ueDpmdW5jdGlvbigpe3JldHVybiBifTpmdW5jdGlvbihhKXtmb3IoZD0wO2Q8ajsrK2QpaFsoaz1pW2RdKS5pXT1rLngoYSk7cmV0dXJuIGguam9pbihcIlwiKX19LGQzLmludGVycG9sYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZD1bXSxlLGY9ZDMudHJhbnNmb3JtKGEpLGc9ZDMudHJhbnNmb3JtKGIpLGg9Zi50cmFuc2xhdGUsaT1nLnRyYW5zbGF0ZSxqPWYucm90YXRlLGs9Zy5yb3RhdGUsbD1mLnNrZXcsbT1nLnNrZXcsbj1mLnNjYWxlLG89Zy5zY2FsZTtyZXR1cm4gaFswXSE9aVswXXx8aFsxXSE9aVsxXT8oYy5wdXNoKFwidHJhbnNsYXRlKFwiLG51bGwsXCIsXCIsbnVsbCxcIilcIiksZC5wdXNoKHtpOjEseDpkMy5pbnRlcnBvbGF0ZU51bWJlcihoWzBdLGlbMF0pfSx7aTozLHg6ZDMuaW50ZXJwb2xhdGVOdW1iZXIoaFsxXSxpWzFdKX0pKTppWzBdfHxpWzFdP2MucHVzaChcInRyYW5zbGF0ZShcIitpK1wiKVwiKTpjLnB1c2goXCJcIiksaiE9az8oai1rPjE4MD9rKz0zNjA6ay1qPjE4MCYmKGorPTM2MCksZC5wdXNoKHtpOmMucHVzaChjLnBvcCgpK1wicm90YXRlKFwiLG51bGwsXCIpXCIpLTIseDpkMy5pbnRlcnBvbGF0ZU51bWJlcihqLGspfSkpOmsmJmMucHVzaChjLnBvcCgpK1wicm90YXRlKFwiK2srXCIpXCIpLGwhPW0/ZC5wdXNoKHtpOmMucHVzaChjLnBvcCgpK1wic2tld1goXCIsbnVsbCxcIilcIiktMix4OmQzLmludGVycG9sYXRlTnVtYmVyKGwsbSl9KTptJiZjLnB1c2goYy5wb3AoKStcInNrZXdYKFwiK20rXCIpXCIpLG5bMF0hPW9bMF18fG5bMV0hPW9bMV0/KGU9Yy5wdXNoKGMucG9wKCkrXCJzY2FsZShcIixudWxsLFwiLFwiLG51bGwsXCIpXCIpLGQucHVzaCh7aTplLTQseDpkMy5pbnRlcnBvbGF0ZU51bWJlcihuWzBdLG9bMF0pfSx7aTplLTIseDpkMy5pbnRlcnBvbGF0ZU51bWJlcihuWzFdLG9bMV0pfSkpOihvWzBdIT0xfHxvWzFdIT0xKSYmYy5wdXNoKGMucG9wKCkrXCJzY2FsZShcIitvK1wiKVwiKSxlPWQubGVuZ3RoLGZ1bmN0aW9uKGEpe3ZhciBiPS0xLGY7d2hpbGUoKytiPGUpY1soZj1kW2JdKS5pXT1mLngoYSk7cmV0dXJuIGMuam9pbihcIlwiKX19LGQzLmludGVycG9sYXRlUmdiPWZ1bmN0aW9uKGEsYil7YT1kMy5yZ2IoYSksYj1kMy5yZ2IoYik7dmFyIGM9YS5yLGQ9YS5nLGU9YS5iLGY9Yi5yLWMsZz1iLmctZCxoPWIuYi1lO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm5cIiNcIitiZihNYXRoLnJvdW5kKGMrZiphKSkrYmYoTWF0aC5yb3VuZChkK2cqYSkpK2JmKE1hdGgucm91bmQoZStoKmEpKX19LGQzLmludGVycG9sYXRlSHNsPWZ1bmN0aW9uKGEsYil7YT1kMy5oc2woYSksYj1kMy5oc2woYik7dmFyIGM9YS5oLGQ9YS5zLGU9YS5sLGY9Yi5oLWMsZz1iLnMtZCxoPWIubC1lO3JldHVybiBmPjE4MD9mLT0zNjA6ZjwtMTgwJiYoZis9MzYwKSxmdW5jdGlvbihhKXtyZXR1cm4gYm0oYytmKmEsZCtnKmEsZStoKmEpLnRvU3RyaW5nKCl9fSxkMy5pbnRlcnBvbGF0ZUFycmF5PWZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZD1bXSxlPWEubGVuZ3RoLGY9Yi5sZW5ndGgsZz1NYXRoLm1pbihhLmxlbmd0aCxiLmxlbmd0aCksaDtmb3IoaD0wO2g8ZzsrK2gpYy5wdXNoKGQzLmludGVycG9sYXRlKGFbaF0sYltoXSkpO2Zvcig7aDxlOysraClkW2hdPWFbaF07Zm9yKDtoPGY7KytoKWRbaF09YltoXTtyZXR1cm4gZnVuY3Rpb24oYSl7Zm9yKGg9MDtoPGc7KytoKWRbaF09Y1toXShhKTtyZXR1cm4gZH19LGQzLmludGVycG9sYXRlT2JqZWN0PWZ1bmN0aW9uKGEsYil7dmFyIGM9e30sZD17fSxlO2ZvcihlIGluIGEpZSBpbiBiP2NbZV09YmEoZSkoYVtlXSxiW2VdKTpkW2VdPWFbZV07Zm9yKGUgaW4gYillIGluIGF8fChkW2VdPWJbZV0pO3JldHVybiBmdW5jdGlvbihhKXtmb3IoZSBpbiBjKWRbZV09Y1tlXShhKTtyZXR1cm4gZH19O3ZhciBfPS9bLStdPyg/OlxcZCtcXC4/XFxkKnxcXC4/XFxkKykoPzpbZUVdWy0rXT9cXGQrKT8vZztkMy5pbnRlcnBvbGF0b3JzPVtkMy5pbnRlcnBvbGF0ZU9iamVjdCxmdW5jdGlvbihhLGIpe3JldHVybiBiIGluc3RhbmNlb2YgQXJyYXkmJmQzLmludGVycG9sYXRlQXJyYXkoYSxiKX0sZnVuY3Rpb24oYSxiKXtyZXR1cm4odHlwZW9mIGE9PVwic3RyaW5nXCJ8fHR5cGVvZiBiPT1cInN0cmluZ1wiKSYmZDMuaW50ZXJwb2xhdGVTdHJpbmcoYStcIlwiLGIrXCJcIil9LGZ1bmN0aW9uKGEsYil7cmV0dXJuKHR5cGVvZiBiPT1cInN0cmluZ1wiP2JqLmhhcyhiKXx8L14oI3xyZ2JcXCh8aHNsXFwoKS8udGVzdChiKTpiIGluc3RhbmNlb2YgYmV8fGIgaW5zdGFuY2VvZiBibCkmJmQzLmludGVycG9sYXRlUmdiKGEsYil9LGZ1bmN0aW9uKGEsYil7cmV0dXJuIWlzTmFOKGE9K2EpJiYhaXNOYU4oYj0rYikmJmQzLmludGVycG9sYXRlTnVtYmVyKGEsYil9XSxkMy5yZ2I9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPT09MT9hIGluc3RhbmNlb2YgYmU/YmQoYS5yLGEuZyxhLmIpOmJnKFwiXCIrYSxiZCxibSk6YmQofn5hLH5+Yix+fmMpfSxiZS5wcm90b3R5cGUuYnJpZ2h0ZXI9ZnVuY3Rpb24oYSl7YT1NYXRoLnBvdyguNyxhcmd1bWVudHMubGVuZ3RoP2E6MSk7dmFyIGI9dGhpcy5yLGM9dGhpcy5nLGQ9dGhpcy5iLGU9MzA7cmV0dXJuIWImJiFjJiYhZD9iZChlLGUsZSk6KGImJmI8ZSYmKGI9ZSksYyYmYzxlJiYoYz1lKSxkJiZkPGUmJihkPWUpLGJkKE1hdGgubWluKDI1NSxNYXRoLmZsb29yKGIvYSkpLE1hdGgubWluKDI1NSxNYXRoLmZsb29yKGMvYSkpLE1hdGgubWluKDI1NSxNYXRoLmZsb29yKGQvYSkpKSl9LGJlLnByb3RvdHlwZS5kYXJrZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9TWF0aC5wb3coLjcsYXJndW1lbnRzLmxlbmd0aD9hOjEpLGJkKE1hdGguZmxvb3IoYSp0aGlzLnIpLE1hdGguZmxvb3IoYSp0aGlzLmcpLE1hdGguZmxvb3IoYSp0aGlzLmIpKX0sYmUucHJvdG90eXBlLmhzbD1mdW5jdGlvbigpe3JldHVybiBiaCh0aGlzLnIsdGhpcy5nLHRoaXMuYil9LGJlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiI1wiK2JmKHRoaXMucikrYmYodGhpcy5nKStiZih0aGlzLmIpfTt2YXIgYmo9ZDMubWFwKHthbGljZWJsdWU6XCIjZjBmOGZmXCIsYW50aXF1ZXdoaXRlOlwiI2ZhZWJkN1wiLGFxdWE6XCIjMDBmZmZmXCIsYXF1YW1hcmluZTpcIiM3ZmZmZDRcIixhenVyZTpcIiNmMGZmZmZcIixiZWlnZTpcIiNmNWY1ZGNcIixiaXNxdWU6XCIjZmZlNGM0XCIsYmxhY2s6XCIjMDAwMDAwXCIsYmxhbmNoZWRhbG1vbmQ6XCIjZmZlYmNkXCIsYmx1ZTpcIiMwMDAwZmZcIixibHVldmlvbGV0OlwiIzhhMmJlMlwiLGJyb3duOlwiI2E1MmEyYVwiLGJ1cmx5d29vZDpcIiNkZWI4ODdcIixjYWRldGJsdWU6XCIjNWY5ZWEwXCIsY2hhcnRyZXVzZTpcIiM3ZmZmMDBcIixjaG9jb2xhdGU6XCIjZDI2OTFlXCIsY29yYWw6XCIjZmY3ZjUwXCIsY29ybmZsb3dlcmJsdWU6XCIjNjQ5NWVkXCIsY29ybnNpbGs6XCIjZmZmOGRjXCIsY3JpbXNvbjpcIiNkYzE0M2NcIixjeWFuOlwiIzAwZmZmZlwiLGRhcmtibHVlOlwiIzAwMDA4YlwiLGRhcmtjeWFuOlwiIzAwOGI4YlwiLGRhcmtnb2xkZW5yb2Q6XCIjYjg4NjBiXCIsZGFya2dyYXk6XCIjYTlhOWE5XCIsZGFya2dyZWVuOlwiIzAwNjQwMFwiLGRhcmtncmV5OlwiI2E5YTlhOVwiLGRhcmtraGFraTpcIiNiZGI3NmJcIixkYXJrbWFnZW50YTpcIiM4YjAwOGJcIixkYXJrb2xpdmVncmVlbjpcIiM1NTZiMmZcIixkYXJrb3JhbmdlOlwiI2ZmOGMwMFwiLGRhcmtvcmNoaWQ6XCIjOTkzMmNjXCIsZGFya3JlZDpcIiM4YjAwMDBcIixkYXJrc2FsbW9uOlwiI2U5OTY3YVwiLGRhcmtzZWFncmVlbjpcIiM4ZmJjOGZcIixkYXJrc2xhdGVibHVlOlwiIzQ4M2Q4YlwiLGRhcmtzbGF0ZWdyYXk6XCIjMmY0ZjRmXCIsZGFya3NsYXRlZ3JleTpcIiMyZjRmNGZcIixkYXJrdHVycXVvaXNlOlwiIzAwY2VkMVwiLGRhcmt2aW9sZXQ6XCIjOTQwMGQzXCIsZGVlcHBpbms6XCIjZmYxNDkzXCIsZGVlcHNreWJsdWU6XCIjMDBiZmZmXCIsZGltZ3JheTpcIiM2OTY5NjlcIixkaW1ncmV5OlwiIzY5Njk2OVwiLGRvZGdlcmJsdWU6XCIjMWU5MGZmXCIsZmlyZWJyaWNrOlwiI2IyMjIyMlwiLGZsb3JhbHdoaXRlOlwiI2ZmZmFmMFwiLGZvcmVzdGdyZWVuOlwiIzIyOGIyMlwiLGZ1Y2hzaWE6XCIjZmYwMGZmXCIsZ2FpbnNib3JvOlwiI2RjZGNkY1wiLGdob3N0d2hpdGU6XCIjZjhmOGZmXCIsZ29sZDpcIiNmZmQ3MDBcIixnb2xkZW5yb2Q6XCIjZGFhNTIwXCIsZ3JheTpcIiM4MDgwODBcIixncmVlbjpcIiMwMDgwMDBcIixncmVlbnllbGxvdzpcIiNhZGZmMmZcIixncmV5OlwiIzgwODA4MFwiLGhvbmV5ZGV3OlwiI2YwZmZmMFwiLGhvdHBpbms6XCIjZmY2OWI0XCIsaW5kaWFucmVkOlwiI2NkNWM1Y1wiLGluZGlnbzpcIiM0YjAwODJcIixpdm9yeTpcIiNmZmZmZjBcIixraGFraTpcIiNmMGU2OGNcIixsYXZlbmRlcjpcIiNlNmU2ZmFcIixsYXZlbmRlcmJsdXNoOlwiI2ZmZjBmNVwiLGxhd25ncmVlbjpcIiM3Y2ZjMDBcIixsZW1vbmNoaWZmb246XCIjZmZmYWNkXCIsbGlnaHRibHVlOlwiI2FkZDhlNlwiLGxpZ2h0Y29yYWw6XCIjZjA4MDgwXCIsbGlnaHRjeWFuOlwiI2UwZmZmZlwiLGxpZ2h0Z29sZGVucm9keWVsbG93OlwiI2ZhZmFkMlwiLGxpZ2h0Z3JheTpcIiNkM2QzZDNcIixsaWdodGdyZWVuOlwiIzkwZWU5MFwiLGxpZ2h0Z3JleTpcIiNkM2QzZDNcIixsaWdodHBpbms6XCIjZmZiNmMxXCIsbGlnaHRzYWxtb246XCIjZmZhMDdhXCIsbGlnaHRzZWFncmVlbjpcIiMyMGIyYWFcIixsaWdodHNreWJsdWU6XCIjODdjZWZhXCIsbGlnaHRzbGF0ZWdyYXk6XCIjNzc4ODk5XCIsbGlnaHRzbGF0ZWdyZXk6XCIjNzc4ODk5XCIsbGlnaHRzdGVlbGJsdWU6XCIjYjBjNGRlXCIsbGlnaHR5ZWxsb3c6XCIjZmZmZmUwXCIsbGltZTpcIiMwMGZmMDBcIixsaW1lZ3JlZW46XCIjMzJjZDMyXCIsbGluZW46XCIjZmFmMGU2XCIsbWFnZW50YTpcIiNmZjAwZmZcIixtYXJvb246XCIjODAwMDAwXCIsbWVkaXVtYXF1YW1hcmluZTpcIiM2NmNkYWFcIixtZWRpdW1ibHVlOlwiIzAwMDBjZFwiLG1lZGl1bW9yY2hpZDpcIiNiYTU1ZDNcIixtZWRpdW1wdXJwbGU6XCIjOTM3MGRiXCIsbWVkaXVtc2VhZ3JlZW46XCIjM2NiMzcxXCIsbWVkaXVtc2xhdGVibHVlOlwiIzdiNjhlZVwiLG1lZGl1bXNwcmluZ2dyZWVuOlwiIzAwZmE5YVwiLG1lZGl1bXR1cnF1b2lzZTpcIiM0OGQxY2NcIixtZWRpdW12aW9sZXRyZWQ6XCIjYzcxNTg1XCIsbWlkbmlnaHRibHVlOlwiIzE5MTk3MFwiLG1pbnRjcmVhbTpcIiNmNWZmZmFcIixtaXN0eXJvc2U6XCIjZmZlNGUxXCIsbW9jY2FzaW46XCIjZmZlNGI1XCIsbmF2YWpvd2hpdGU6XCIjZmZkZWFkXCIsbmF2eTpcIiMwMDAwODBcIixvbGRsYWNlOlwiI2ZkZjVlNlwiLG9saXZlOlwiIzgwODAwMFwiLG9saXZlZHJhYjpcIiM2YjhlMjNcIixvcmFuZ2U6XCIjZmZhNTAwXCIsb3JhbmdlcmVkOlwiI2ZmNDUwMFwiLG9yY2hpZDpcIiNkYTcwZDZcIixwYWxlZ29sZGVucm9kOlwiI2VlZThhYVwiLHBhbGVncmVlbjpcIiM5OGZiOThcIixwYWxldHVycXVvaXNlOlwiI2FmZWVlZVwiLHBhbGV2aW9sZXRyZWQ6XCIjZGI3MDkzXCIscGFwYXlhd2hpcDpcIiNmZmVmZDVcIixwZWFjaHB1ZmY6XCIjZmZkYWI5XCIscGVydTpcIiNjZDg1M2ZcIixwaW5rOlwiI2ZmYzBjYlwiLHBsdW06XCIjZGRhMGRkXCIscG93ZGVyYmx1ZTpcIiNiMGUwZTZcIixwdXJwbGU6XCIjODAwMDgwXCIscmVkOlwiI2ZmMDAwMFwiLHJvc3licm93bjpcIiNiYzhmOGZcIixyb3lhbGJsdWU6XCIjNDE2OWUxXCIsc2FkZGxlYnJvd246XCIjOGI0NTEzXCIsc2FsbW9uOlwiI2ZhODA3MlwiLHNhbmR5YnJvd246XCIjZjRhNDYwXCIsc2VhZ3JlZW46XCIjMmU4YjU3XCIsc2Vhc2hlbGw6XCIjZmZmNWVlXCIsc2llbm5hOlwiI2EwNTIyZFwiLHNpbHZlcjpcIiNjMGMwYzBcIixza3libHVlOlwiIzg3Y2VlYlwiLHNsYXRlYmx1ZTpcIiM2YTVhY2RcIixzbGF0ZWdyYXk6XCIjNzA4MDkwXCIsc2xhdGVncmV5OlwiIzcwODA5MFwiLHNub3c6XCIjZmZmYWZhXCIsc3ByaW5nZ3JlZW46XCIjMDBmZjdmXCIsc3RlZWxibHVlOlwiIzQ2ODJiNFwiLHRhbjpcIiNkMmI0OGNcIix0ZWFsOlwiIzAwODA4MFwiLHRoaXN0bGU6XCIjZDhiZmQ4XCIsdG9tYXRvOlwiI2ZmNjM0N1wiLHR1cnF1b2lzZTpcIiM0MGUwZDBcIix2aW9sZXQ6XCIjZWU4MmVlXCIsd2hlYXQ6XCIjZjVkZWIzXCIsd2hpdGU6XCIjZmZmZmZmXCIsd2hpdGVzbW9rZTpcIiNmNWY1ZjVcIix5ZWxsb3c6XCIjZmZmZjAwXCIseWVsbG93Z3JlZW46XCIjOWFjZDMyXCJ9KTtiai5mb3JFYWNoKGZ1bmN0aW9uKGEsYil7Ymouc2V0KGEsYmcoYixiZCxibSkpfSksZDMuaHNsPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD09PTE/YSBpbnN0YW5jZW9mIGJsP2JrKGEuaCxhLnMsYS5sKTpiZyhcIlwiK2EsYmgsYmspOmJrKCthLCtiLCtjKX0sYmwucHJvdG90eXBlLmJyaWdodGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhPU1hdGgucG93KC43LGFyZ3VtZW50cy5sZW5ndGg/YToxKSxiayh0aGlzLmgsdGhpcy5zLHRoaXMubC9hKX0sYmwucHJvdG90eXBlLmRhcmtlcj1mdW5jdGlvbihhKXtyZXR1cm4gYT1NYXRoLnBvdyguNyxhcmd1bWVudHMubGVuZ3RoP2E6MSksYmsodGhpcy5oLHRoaXMucyxhKnRoaXMubCl9LGJsLnByb3RvdHlwZS5yZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gYm0odGhpcy5oLHRoaXMucyx0aGlzLmwpfSxibC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZ2IoKS50b1N0cmluZygpfTt2YXIgYm89ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5xdWVyeVNlbGVjdG9yKGEpfSxicD1mdW5jdGlvbihhLGIpe3JldHVybiBiLnF1ZXJ5U2VsZWN0b3JBbGwoYSl9LGJxPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxicj1icS5tYXRjaGVzU2VsZWN0b3J8fGJxLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8YnEubW96TWF0Y2hlc1NlbGVjdG9yfHxicS5tc01hdGNoZXNTZWxlY3Rvcnx8YnEub01hdGNoZXNTZWxlY3Rvcixicz1mdW5jdGlvbihhLGIpe3JldHVybiBici5jYWxsKGEsYil9O3R5cGVvZiBTaXp6bGU9PVwiZnVuY3Rpb25cIiYmKGJvPWZ1bmN0aW9uKGEsYil7cmV0dXJuIFNpenpsZShhLGIpWzBdfHxudWxsfSxicD1mdW5jdGlvbihhLGIpe3JldHVybiBTaXp6bGUudW5pcXVlU29ydChTaXp6bGUoYSxiKSl9LGJzPVNpenpsZS5tYXRjaGVzU2VsZWN0b3IpO3ZhciBidD1bXTtkMy5zZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gYkJ9LGQzLnNlbGVjdGlvbi5wcm90b3R5cGU9YnQsYnQuc2VsZWN0PWZ1bmN0aW9uKGEpe3ZhciBiPVtdLGMsZCxlLGY7dHlwZW9mIGEhPVwiZnVuY3Rpb25cIiYmKGE9YnUoYSkpO2Zvcih2YXIgZz0tMSxoPXRoaXMubGVuZ3RoOysrZzxoOyl7Yi5wdXNoKGM9W10pLGMucGFyZW50Tm9kZT0oZT10aGlzW2ddKS5wYXJlbnROb2RlO2Zvcih2YXIgaT0tMSxqPWUubGVuZ3RoOysraTxqOykoZj1lW2ldKT8oYy5wdXNoKGQ9YS5jYWxsKGYsZi5fX2RhdGFfXyxpKSksZCYmXCJfX2RhdGFfX1wiaW4gZiYmKGQuX19kYXRhX189Zi5fX2RhdGFfXykpOmMucHVzaChudWxsKX1yZXR1cm4gYm4oYil9LGJ0LnNlbGVjdEFsbD1mdW5jdGlvbihhKXt2YXIgYj1bXSxjLGQ7dHlwZW9mIGEhPVwiZnVuY3Rpb25cIiYmKGE9YnYoYSkpO2Zvcih2YXIgZj0tMSxnPXRoaXMubGVuZ3RoOysrZjxnOylmb3IodmFyIGg9dGhpc1tmXSxpPS0xLGo9aC5sZW5ndGg7KytpPGo7KWlmKGQ9aFtpXSliLnB1c2goYz1lKGEuY2FsbChkLGQuX19kYXRhX18saSkpKSxjLnBhcmVudE5vZGU9ZDtyZXR1cm4gYm4oYil9LGJ0LmF0dHI9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKCl7dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSl9ZnVuY3Rpb24gZSgpe3RoaXMucmVtb3ZlQXR0cmlidXRlTlMoYS5zcGFjZSxhLmxvY2FsKX1mdW5jdGlvbiBmKCl7dGhpcy5zZXRBdHRyaWJ1dGUoYSxiKX1mdW5jdGlvbiBnKCl7dGhpcy5zZXRBdHRyaWJ1dGVOUyhhLnNwYWNlLGEubG9jYWwsYil9ZnVuY3Rpb24gaCgpe3ZhciBjPWIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2M9PW51bGw/dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSk6dGhpcy5zZXRBdHRyaWJ1dGUoYSxjKX1mdW5jdGlvbiBpKCl7dmFyIGM9Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yz09bnVsbD90aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGEuc3BhY2UsYS5sb2NhbCk6dGhpcy5zZXRBdHRyaWJ1dGVOUyhhLnNwYWNlLGEubG9jYWwsYyl9YT1kMy5ucy5xdWFsaWZ5KGEpO2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil7dmFyIGM9dGhpcy5ub2RlKCk7cmV0dXJuIGEubG9jYWw/Yy5nZXRBdHRyaWJ1dGVOUyhhLnNwYWNlLGEubG9jYWwpOmMuZ2V0QXR0cmlidXRlKGEpfXJldHVybiB0aGlzLmVhY2goYj09bnVsbD9hLmxvY2FsP2U6ZDp0eXBlb2YgYj09XCJmdW5jdGlvblwiP2EubG9jYWw/aTpoOmEubG9jYWw/ZzpmKX0sYnQuY2xhc3NlZD1mdW5jdGlvbihhLGIpe3ZhciBjPXYoYSkuc3BsaXQoXCIgXCIpLGQ9Yy5sZW5ndGgsZT0tMTtpZihhcmd1bWVudHMubGVuZ3RoPjEpe3doaWxlKCsrZTxkKWJ3LmNhbGwodGhpcyxjW2VdLGIpO3JldHVybiB0aGlzfXdoaWxlKCsrZTxkKWlmKCFidy5jYWxsKHRoaXMsY1tlXSkpcmV0dXJuITE7cmV0dXJuITB9LGJ0LnN0eWxlPWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7dGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShhKX1mdW5jdGlvbiBlKCl7dGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShhLGIsYyl9ZnVuY3Rpb24gZigpe3ZhciBkPWIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Q9PW51bGw/dGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShhKTp0aGlzLnN0eWxlLnNldFByb3BlcnR5KGEsZCxjKX1yZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwzJiYoYz1cIlwiKSxhcmd1bWVudHMubGVuZ3RoPDI/d2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5ub2RlKCksbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShhKTp0aGlzLmVhY2goYj09bnVsbD9kOnR5cGVvZiBiPT1cImZ1bmN0aW9uXCI/ZjplKX0sYnQucHJvcGVydHk9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7ZGVsZXRlIHRoaXNbYV19ZnVuY3Rpb24gZCgpe3RoaXNbYV09Yn1mdW5jdGlvbiBlKCl7dmFyIGM9Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yz09bnVsbD9kZWxldGUgdGhpc1thXTp0aGlzW2FdPWN9cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj90aGlzLm5vZGUoKVthXTp0aGlzLmVhY2goYj09bnVsbD9jOnR5cGVvZiBiPT1cImZ1bmN0aW9uXCI/ZTpkKX0sYnQudGV4dD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwxP3RoaXMubm9kZSgpLnRleHRDb250ZW50OnRoaXMuZWFjaCh0eXBlb2YgYT09XCJmdW5jdGlvblwiP2Z1bmN0aW9uKCl7dmFyIGI9YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy50ZXh0Q29udGVudD1iPT1udWxsP1wiXCI6Yn06YT09bnVsbD9mdW5jdGlvbigpe3RoaXMudGV4dENvbnRlbnQ9XCJcIn06ZnVuY3Rpb24oKXt0aGlzLnRleHRDb250ZW50PWF9KX0sYnQuaHRtbD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwxP3RoaXMubm9kZSgpLmlubmVySFRNTDp0aGlzLmVhY2godHlwZW9mIGE9PVwiZnVuY3Rpb25cIj9mdW5jdGlvbigpe3ZhciBiPWEuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuaW5uZXJIVE1MPWI9PW51bGw/XCJcIjpifTphPT1udWxsP2Z1bmN0aW9uKCl7dGhpcy5pbm5lckhUTUw9XCJcIn06ZnVuY3Rpb24oKXt0aGlzLmlubmVySFRNTD1hfSl9LGJ0LmFwcGVuZD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7cmV0dXJuIHRoaXMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMubmFtZXNwYWNlVVJJLGEpKX1mdW5jdGlvbiBjKCl7cmV0dXJuIHRoaXMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGEuc3BhY2UsYS5sb2NhbCkpfXJldHVybiBhPWQzLm5zLnF1YWxpZnkoYSksdGhpcy5zZWxlY3QoYS5sb2NhbD9jOmIpfSxidC5pbnNlcnQ9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5hbWVzcGFjZVVSSSxhKSxibyhiLHRoaXMpKX1mdW5jdGlvbiBkKCl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhhLnNwYWNlLGEubG9jYWwpLGJvKGIsdGhpcykpfXJldHVybiBhPWQzLm5zLnF1YWxpZnkoYSksdGhpcy5zZWxlY3QoYS5sb2NhbD9kOmMpfSxidC5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYXJlbnROb2RlO2EmJmEucmVtb3ZlQ2hpbGQodGhpcyl9KX0sYnQuZGF0YT1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGcoYSxjKXt2YXIgZCxlPWEubGVuZ3RoLGY9Yy5sZW5ndGgsZz1NYXRoLm1pbihlLGYpLGw9TWF0aC5tYXgoZSxmKSxtPVtdLG49W10sbz1bXSxwLHE7aWYoYil7dmFyIHI9bmV3IGoscz1bXSx0LHU9Yy5sZW5ndGg7Zm9yKGQ9LTE7KytkPGU7KXQ9Yi5jYWxsKHA9YVtkXSxwLl9fZGF0YV9fLGQpLHIuaGFzKHQpP29bdSsrXT1wOnIuc2V0KHQscCkscy5wdXNoKHQpO2ZvcihkPS0xOysrZDxmOyl0PWIuY2FsbChjLHE9Y1tkXSxkKSxyLmhhcyh0KT8obVtkXT1wPXIuZ2V0KHQpLHAuX19kYXRhX189cSxuW2RdPW9bZF09bnVsbCk6KG5bZF09YngocSksbVtkXT1vW2RdPW51bGwpLHIucmVtb3ZlKHQpO2ZvcihkPS0xOysrZDxlOylyLmhhcyhzW2RdKSYmKG9bZF09YVtkXSl9ZWxzZXtmb3IoZD0tMTsrK2Q8ZzspcD1hW2RdLHE9Y1tkXSxwPyhwLl9fZGF0YV9fPXEsbVtkXT1wLG5bZF09b1tkXT1udWxsKToobltkXT1ieChxKSxtW2RdPW9bZF09bnVsbCk7Zm9yKDtkPGY7KytkKW5bZF09YngoY1tkXSksbVtkXT1vW2RdPW51bGw7Zm9yKDtkPGw7KytkKW9bZF09YVtkXSxuW2RdPW1bZF09bnVsbH1uLnVwZGF0ZT1tLG4ucGFyZW50Tm9kZT1tLnBhcmVudE5vZGU9by5wYXJlbnROb2RlPWEucGFyZW50Tm9kZSxoLnB1c2gobiksaS5wdXNoKG0pLGsucHVzaChvKX12YXIgYz0tMSxkPXRoaXMubGVuZ3RoLGUsZjtpZighYXJndW1lbnRzLmxlbmd0aCl7YT1uZXcgQXJyYXkoZD0oZT10aGlzWzBdKS5sZW5ndGgpO3doaWxlKCsrYzxkKWlmKGY9ZVtjXSlhW2NdPWYuX19kYXRhX187cmV0dXJuIGF9dmFyIGg9YkMoW10pLGk9Ym4oW10pLGs9Ym4oW10pO2lmKHR5cGVvZiBhPT1cImZ1bmN0aW9uXCIpd2hpbGUoKytjPGQpZyhlPXRoaXNbY10sYS5jYWxsKGUsZS5wYXJlbnROb2RlLl9fZGF0YV9fLGMpKTtlbHNlIHdoaWxlKCsrYzxkKWcoZT10aGlzW2NdLGEpO3JldHVybiBpLmVudGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGh9LGkuZXhpdD1mdW5jdGlvbigpe3JldHVybiBrfSxpfSxidC5kYXR1bT1idC5tYXA9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MT90aGlzLnByb3BlcnR5KFwiX19kYXRhX19cIik6dGhpcy5wcm9wZXJ0eShcIl9fZGF0YV9fXCIsYSl9LGJ0LmZpbHRlcj1mdW5jdGlvbihhKXt2YXIgYj1bXSxjLGQsZTt0eXBlb2YgYSE9XCJmdW5jdGlvblwiJiYoYT1ieShhKSk7Zm9yKHZhciBmPTAsZz10aGlzLmxlbmd0aDtmPGc7ZisrKXtiLnB1c2goYz1bXSksYy5wYXJlbnROb2RlPShkPXRoaXNbZl0pLnBhcmVudE5vZGU7Zm9yKHZhciBoPTAsaT1kLmxlbmd0aDtoPGk7aCsrKShlPWRbaF0pJiZhLmNhbGwoZSxlLl9fZGF0YV9fLGgpJiZjLnB1c2goZSl9cmV0dXJuIGJuKGIpfSxidC5vcmRlcj1mdW5jdGlvbigpe2Zvcih2YXIgYT0tMSxiPXRoaXMubGVuZ3RoOysrYTxiOylmb3IodmFyIGM9dGhpc1thXSxkPWMubGVuZ3RoLTEsZT1jW2RdLGY7LS1kPj0wOylpZihmPWNbZF0pZSYmZSE9PWYubmV4dFNpYmxpbmcmJmUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZixlKSxlPWY7cmV0dXJuIHRoaXN9LGJ0LnNvcnQ9ZnVuY3Rpb24oYSl7YT1iei5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Zm9yKHZhciBiPS0xLGM9dGhpcy5sZW5ndGg7KytiPGM7KXRoaXNbYl0uc29ydChhKTtyZXR1cm4gdGhpcy5vcmRlcigpfSxidC5vbj1mdW5jdGlvbihhLGIsYyl7YXJndW1lbnRzLmxlbmd0aDwzJiYoYz0hMSk7dmFyIGQ9XCJfX29uXCIrYSxlPWEuaW5kZXhPZihcIi5cIik7cmV0dXJuIGU+MCYmKGE9YS5zdWJzdHJpbmcoMCxlKSksYXJndW1lbnRzLmxlbmd0aDwyPyhlPXRoaXMubm9kZSgpW2RdKSYmZS5fOnRoaXMuZWFjaChmdW5jdGlvbihlLGYpe2Z1bmN0aW9uIGkoYSl7dmFyIGM9ZDMuZXZlbnQ7ZDMuZXZlbnQ9YTt0cnl7Yi5jYWxsKGcsZy5fX2RhdGFfXyxmKX1maW5hbGx5e2QzLmV2ZW50PWN9fXZhciBnPXRoaXMsaD1nW2RdO2gmJihnLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxoLGguJCksZGVsZXRlIGdbZF0pLGImJihnLmFkZEV2ZW50TGlzdGVuZXIoYSxnW2RdPWksaS4kPWMpLGkuXz1iKX0pfSxidC5lYWNoPWZ1bmN0aW9uKGEpe3JldHVybiBiQSh0aGlzLGZ1bmN0aW9uKGIsYyxkKXthLmNhbGwoYixiLl9fZGF0YV9fLGMsZCl9KX0sYnQuY2FsbD1mdW5jdGlvbihhKXtyZXR1cm4gYS5hcHBseSh0aGlzLChhcmd1bWVudHNbMF09dGhpcyxhcmd1bWVudHMpKSx0aGlzfSxidC5lbXB0eT1mdW5jdGlvbigpe3JldHVybiF0aGlzLm5vZGUoKX0sYnQubm9kZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPXRoaXMubGVuZ3RoO2I8YztiKyspZm9yKHZhciBkPXRoaXNbYl0sZT0wLGY9ZC5sZW5ndGg7ZTxmO2UrKyl7dmFyIGc9ZFtlXTtpZihnKXJldHVybiBnfXJldHVybiBudWxsfSxidC50cmFuc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9W10sYixjO2Zvcih2YXIgZD0tMSxlPXRoaXMubGVuZ3RoOysrZDxlOyl7YS5wdXNoKGI9W10pO2Zvcih2YXIgZj10aGlzW2RdLGc9LTEsaD1mLmxlbmd0aDsrK2c8aDspYi5wdXNoKChjPWZbZ10pP3tub2RlOmMsZGVsYXk6Yk8sZHVyYXRpb246YlB9Om51bGwpfXJldHVybiBiRShhLGJLfHwrK2JKLERhdGUubm93KCkpfTt2YXIgYkI9Ym4oW1tkb2N1bWVudF1dKTtiQlswXS5wYXJlbnROb2RlPWJxLGQzLnNlbGVjdD1mdW5jdGlvbihhKXtyZXR1cm4gdHlwZW9mIGE9PVwic3RyaW5nXCI/YkIuc2VsZWN0KGEpOmJuKFtbYV1dKX0sZDMuc2VsZWN0QWxsPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgYT09XCJzdHJpbmdcIj9iQi5zZWxlY3RBbGwoYSk6Ym4oW2UoYSldKX07dmFyIGJEPVtdO2QzLnNlbGVjdGlvbi5lbnRlcj1iQyxkMy5zZWxlY3Rpb24uZW50ZXIucHJvdG90eXBlPWJELGJELmFwcGVuZD1idC5hcHBlbmQsYkQuaW5zZXJ0PWJ0Lmluc2VydCxiRC5lbXB0eT1idC5lbXB0eSxiRC5ub2RlPWJ0Lm5vZGUsYkQuc2VsZWN0PWZ1bmN0aW9uKGEpe3ZhciBiPVtdLGMsZCxlLGYsZztmb3IodmFyIGg9LTEsaT10aGlzLmxlbmd0aDsrK2g8aTspe2U9KGY9dGhpc1toXSkudXBkYXRlLGIucHVzaChjPVtdKSxjLnBhcmVudE5vZGU9Zi5wYXJlbnROb2RlO2Zvcih2YXIgaj0tMSxrPWYubGVuZ3RoOysrajxrOykoZz1mW2pdKT8oYy5wdXNoKGVbal09ZD1hLmNhbGwoZi5wYXJlbnROb2RlLGcuX19kYXRhX18saikpLGQuX19kYXRhX189Zy5fX2RhdGFfXyk6Yy5wdXNoKG51bGwpfXJldHVybiBibihiKX07dmFyIGJGPXt9LGJJPVtdLGJKPTAsYks9MCxiTD0wLGJNPTI1MCxiTj1kMy5lYXNlKFwiY3ViaWMtaW4tb3V0XCIpLGJPPWJMLGJQPWJNLGJRPWJOO2JJLmNhbGw9YnQuY2FsbCxkMy50cmFuc2l0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2JLP2EudHJhbnNpdGlvbigpOmE6YkIudHJhbnNpdGlvbigpfSxkMy50cmFuc2l0aW9uLnByb3RvdHlwZT1iSSxiSS5zZWxlY3Q9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYyxkLGU7dHlwZW9mIGEhPVwiZnVuY3Rpb25cIiYmKGE9YnUoYSkpO2Zvcih2YXIgZj0tMSxnPXRoaXMubGVuZ3RoOysrZjxnOyl7Yi5wdXNoKGM9W10pO2Zvcih2YXIgaD10aGlzW2ZdLGk9LTEsaj1oLmxlbmd0aDsrK2k8ajspKGU9aFtpXSkmJihkPWEuY2FsbChlLm5vZGUsZS5ub2RlLl9fZGF0YV9fLGkpKT8oXCJfX2RhdGFfX1wiaW4gZS5ub2RlJiYoZC5fX2RhdGFfXz1lLm5vZGUuX19kYXRhX18pLGMucHVzaCh7bm9kZTpkLGRlbGF5OmUuZGVsYXksZHVyYXRpb246ZS5kdXJhdGlvbn0pKTpjLnB1c2gobnVsbCl9cmV0dXJuIGJFKGIsdGhpcy5pZCx0aGlzLnRpbWUpLmVhc2UodGhpcy5lYXNlKCkpfSxiSS5zZWxlY3RBbGw9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYyxkLGU7dHlwZW9mIGEhPVwiZnVuY3Rpb25cIiYmKGE9YnYoYSkpO2Zvcih2YXIgZj0tMSxnPXRoaXMubGVuZ3RoOysrZjxnOylmb3IodmFyIGg9dGhpc1tmXSxpPS0xLGo9aC5sZW5ndGg7KytpPGo7KWlmKGU9aFtpXSl7ZD1hLmNhbGwoZS5ub2RlLGUubm9kZS5fX2RhdGFfXyxpKSxiLnB1c2goYz1bXSk7Zm9yKHZhciBrPS0xLGw9ZC5sZW5ndGg7KytrPGw7KWMucHVzaCh7bm9kZTpkW2tdLGRlbGF5OmUuZGVsYXksZHVyYXRpb246ZS5kdXJhdGlvbn0pfXJldHVybiBiRShiLHRoaXMuaWQsdGhpcy50aW1lKS5lYXNlKHRoaXMuZWFzZSgpKX0sYkkuYXR0cj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmF0dHJUd2VlbihhLGJIKGEsYikpfSxiSS5hdHRyVHdlZW49ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGEsZCl7dmFyIGU9Yi5jYWxsKHRoaXMsYSxkLHRoaXMuZ2V0QXR0cmlidXRlKGMpKTtyZXR1cm4gZT09PWJGPyh0aGlzLnJlbW92ZUF0dHJpYnV0ZShjKSxudWxsKTplJiZmdW5jdGlvbihhKXt0aGlzLnNldEF0dHJpYnV0ZShjLGUoYSkpfX1mdW5jdGlvbiBlKGEsZCl7dmFyIGU9Yi5jYWxsKHRoaXMsYSxkLHRoaXMuZ2V0QXR0cmlidXRlTlMoYy5zcGFjZSxjLmxvY2FsKSk7cmV0dXJuIGU9PT1iRj8odGhpcy5yZW1vdmVBdHRyaWJ1dGVOUyhjLnNwYWNlLGMubG9jYWwpLG51bGwpOmUmJmZ1bmN0aW9uKGEpe3RoaXMuc2V0QXR0cmlidXRlTlMoYy5zcGFjZSxjLmxvY2FsLGUoYSkpfX12YXIgYz1kMy5ucy5xdWFsaWZ5KGEpO3JldHVybiB0aGlzLnR3ZWVuKFwiYXR0ci5cIithLGMubG9jYWw/ZTpkKX0sYkkuc3R5bGU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDMmJihjPVwiXCIpLHRoaXMuc3R5bGVUd2VlbihhLGJIKGEsYiksYyl9LGJJLnN0eWxlVHdlZW49ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDMmJihjPVwiXCIpLHRoaXMudHdlZW4oXCJzdHlsZS5cIithLGZ1bmN0aW9uKGQsZSl7dmFyIGY9Yi5jYWxsKHRoaXMsZCxlLHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShhKSk7cmV0dXJuIGY9PT1iRj8odGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShhKSxudWxsKTpmJiZmdW5jdGlvbihiKXt0aGlzLnN0eWxlLnNldFByb3BlcnR5KGEsZihiKSxjKX19KX0sYkkudGV4dD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50d2VlbihcInRleHRcIixmdW5jdGlvbihiLGMpe3RoaXMudGV4dENvbnRlbnQ9dHlwZW9mIGE9PVwiZnVuY3Rpb25cIj9hLmNhbGwodGhpcyxiLGMpOmF9KX0sYkkucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChcImVuZC50cmFuc2l0aW9uXCIsZnVuY3Rpb24oKXt2YXIgYTshdGhpcy5fX3RyYW5zaXRpb25fXyYmKGE9dGhpcy5wYXJlbnROb2RlKSYmYS5yZW1vdmVDaGlsZCh0aGlzKX0pfSxiSS5kZWxheT1mdW5jdGlvbihhKXtyZXR1cm4gYkEodGhpcyx0eXBlb2YgYT09XCJmdW5jdGlvblwiP2Z1bmN0aW9uKGIsYyxkKXtiLmRlbGF5PWEuY2FsbChiPWIubm9kZSxiLl9fZGF0YV9fLGMsZCl8MH06KGF8PTAsZnVuY3Rpb24oYil7Yi5kZWxheT1hfSkpfSxiSS5kdXJhdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gYkEodGhpcyx0eXBlb2YgYT09XCJmdW5jdGlvblwiP2Z1bmN0aW9uKGIsYyxkKXtiLmR1cmF0aW9uPU1hdGgubWF4KDEsYS5jYWxsKGI9Yi5ub2RlLGIuX19kYXRhX18sYyxkKXwwKX06KGE9TWF0aC5tYXgoMSxhfDApLGZ1bmN0aW9uKGIpe2IuZHVyYXRpb249YX0pKX0sYkkudHJhbnNpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdChuKX07dmFyIGJTPW51bGwsYlQsYlU7ZDMudGltZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSExLGUsZj1iUztpZihhcmd1bWVudHMubGVuZ3RoPDMpe2lmKGFyZ3VtZW50cy5sZW5ndGg8MiliPTA7ZWxzZSBpZighaXNGaW5pdGUoYikpcmV0dXJuO2M9RGF0ZS5ub3coKX13aGlsZShmKXtpZihmLmNhbGxiYWNrPT09YSl7Zi50aGVuPWMsZi5kZWxheT1iLGQ9ITA7YnJlYWt9ZT1mLGY9Zi5uZXh0fWR8fChiUz17Y2FsbGJhY2s6YSx0aGVuOmMsZGVsYXk6YixuZXh0OmJTfSksYlR8fChiVT1jbGVhclRpbWVvdXQoYlUpLGJUPTEsYlgoYlYpKX0sZDMudGltZXIuZmx1c2g9ZnVuY3Rpb24oKXt2YXIgYSxiPURhdGUubm93KCksYz1iUzt3aGlsZShjKWE9Yi1jLnRoZW4sYy5kZWxheXx8KGMuZmx1c2g9Yy5jYWxsYmFjayhhKSksYz1jLm5leHQ7YlcoKX07dmFyIGJYPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwxNyl9O2QzLnRyYW5zZm9ybT1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZDMubnMucHJlZml4LnN2ZyxcImdcIiksYz17YToxLGI6MCxjOjAsZDoxLGU6MCxmOjB9O3JldHVybihkMy50cmFuc2Zvcm09ZnVuY3Rpb24oYSl7Yi5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixhKTt2YXIgZD1iLnRyYW5zZm9ybS5iYXNlVmFsLmNvbnNvbGlkYXRlKCk7cmV0dXJuIG5ldyBiWShkP2QubWF0cml4OmMpfSkoYSl9LGJZLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwidHJhbnNsYXRlKFwiK3RoaXMudHJhbnNsYXRlK1wiKXJvdGF0ZShcIit0aGlzLnJvdGF0ZStcIilza2V3WChcIit0aGlzLnNrZXcrXCIpc2NhbGUoXCIrdGhpcy5zY2FsZStcIilcIn07dmFyIGNhPTE4MC9NYXRoLlBJO2QzLm1vdXNlPWZ1bmN0aW9uKGEpe3JldHVybiBjYyhhLFooKSl9O3ZhciBjYj0vV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpPy0xOjA7ZDMudG91Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJihiPVooKS50b3VjaGVzKSxiP2UoYikubWFwKGZ1bmN0aW9uKGIpe3ZhciBjPWNjKGEsYik7cmV0dXJuIGMuaWRlbnRpZmllcj1iLmlkZW50aWZpZXIsY30pOltdfSxkMy5zY2FsZT17fSxkMy5zY2FsZS5saW5lYXI9ZnVuY3Rpb24oKXtyZXR1cm4gY2koWzAsMV0sWzAsMV0sZDMuaW50ZXJwb2xhdGUsITEpfSxkMy5zY2FsZS5sb2c9ZnVuY3Rpb24oKXtyZXR1cm4gY3EoZDMuc2NhbGUubGluZWFyKCksY3MpfTt2YXIgY3I9ZDMuZm9ybWF0KFwiLjBlXCIpO2NzLnBvdz1mdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5wb3coMTAsYSl9LGN0LnBvdz1mdW5jdGlvbihhKXtyZXR1cm4tTWF0aC5wb3coMTAsLWEpfSxkMy5zY2FsZS5wb3c9ZnVuY3Rpb24oKXtyZXR1cm4gY3UoZDMuc2NhbGUubGluZWFyKCksMSl9LGQzLnNjYWxlLnNxcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZDMuc2NhbGUucG93KCkuZXhwb25lbnQoLjUpfSxkMy5zY2FsZS5vcmRpbmFsPWZ1bmN0aW9uKCl7cmV0dXJuIGN3KFtdLHt0OlwicmFuZ2VcIix4OltdfSl9LGQzLnNjYWxlLmNhdGVnb3J5MTA9ZnVuY3Rpb24oKXtyZXR1cm4gZDMuc2NhbGUub3JkaW5hbCgpLnJhbmdlKGN4KX0sZDMuc2NhbGUuY2F0ZWdvcnkyMD1mdW5jdGlvbigpe3JldHVybiBkMy5zY2FsZS5vcmRpbmFsKCkucmFuZ2UoY3kpfSxkMy5zY2FsZS5jYXRlZ29yeTIwYj1mdW5jdGlvbigpe3JldHVybiBkMy5zY2FsZS5vcmRpbmFsKCkucmFuZ2UoY3opfSxkMy5zY2FsZS5jYXRlZ29yeTIwYz1mdW5jdGlvbigpe3JldHVybiBkMy5zY2FsZS5vcmRpbmFsKCkucmFuZ2UoY0EpfTt2YXIgY3g9W1wiIzFmNzdiNFwiLFwiI2ZmN2YwZVwiLFwiIzJjYTAyY1wiLFwiI2Q2MjcyOFwiLFwiIzk0NjdiZFwiLFwiIzhjNTY0YlwiLFwiI2UzNzdjMlwiLFwiIzdmN2Y3ZlwiLFwiI2JjYmQyMlwiLFwiIzE3YmVjZlwiXSxjeT1bXCIjMWY3N2I0XCIsXCIjYWVjN2U4XCIsXCIjZmY3ZjBlXCIsXCIjZmZiYjc4XCIsXCIjMmNhMDJjXCIsXCIjOThkZjhhXCIsXCIjZDYyNzI4XCIsXCIjZmY5ODk2XCIsXCIjOTQ2N2JkXCIsXCIjYzViMGQ1XCIsXCIjOGM1NjRiXCIsXCIjYzQ5Yzk0XCIsXCIjZTM3N2MyXCIsXCIjZjdiNmQyXCIsXCIjN2Y3ZjdmXCIsXCIjYzdjN2M3XCIsXCIjYmNiZDIyXCIsXCIjZGJkYjhkXCIsXCIjMTdiZWNmXCIsXCIjOWVkYWU1XCJdLGN6PVtcIiMzOTNiNzlcIixcIiM1MjU0YTNcIixcIiM2YjZlY2ZcIixcIiM5YzllZGVcIixcIiM2Mzc5MzlcIixcIiM4Y2EyNTJcIixcIiNiNWNmNmJcIixcIiNjZWRiOWNcIixcIiM4YzZkMzFcIixcIiNiZDllMzlcIixcIiNlN2JhNTJcIixcIiNlN2NiOTRcIixcIiM4NDNjMzlcIixcIiNhZDQ5NGFcIixcIiNkNjYxNmJcIixcIiNlNzk2OWNcIixcIiM3YjQxNzNcIixcIiNhNTUxOTRcIixcIiNjZTZkYmRcIixcIiNkZTllZDZcIl0sY0E9W1wiIzMxODJiZFwiLFwiIzZiYWVkNlwiLFwiIzllY2FlMVwiLFwiI2M2ZGJlZlwiLFwiI2U2NTUwZFwiLFwiI2ZkOGQzY1wiLFwiI2ZkYWU2YlwiLFwiI2ZkZDBhMlwiLFwiIzMxYTM1NFwiLFwiIzc0YzQ3NlwiLFwiI2ExZDk5YlwiLFwiI2M3ZTljMFwiLFwiIzc1NmJiMVwiLFwiIzllOWFjOFwiLFwiI2JjYmRkY1wiLFwiI2RhZGFlYlwiLFwiIzYzNjM2M1wiLFwiIzk2OTY5NlwiLFwiI2JkYmRiZFwiLFwiI2Q5ZDlkOVwiXTtkMy5zY2FsZS5xdWFudGlsZT1mdW5jdGlvbigpe3JldHVybiBjQihbXSxbXSl9LGQzLnNjYWxlLnF1YW50aXplPWZ1bmN0aW9uKCl7cmV0dXJuIGNDKDAsMSxbMCwxXSl9LGQzLnNjYWxlLmlkZW50aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIGNEKFswLDFdKX0sZDMuc3ZnPXt9LGQzLnN2Zy5hcmM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIGU9YS5hcHBseSh0aGlzLGFyZ3VtZW50cyksZj1iLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxnPWMuYXBwbHkodGhpcyxhcmd1bWVudHMpK2NFLGg9ZC5hcHBseSh0aGlzLGFyZ3VtZW50cykrY0UsaT0oaDxnJiYoaT1nLGc9aCxoPWkpLGgtZyksaj1pPE1hdGguUEk/XCIwXCI6XCIxXCIsaz1NYXRoLmNvcyhnKSxsPU1hdGguc2luKGcpLG09TWF0aC5jb3MoaCksbj1NYXRoLnNpbihoKTtyZXR1cm4gaT49Y0Y/ZT9cIk0wLFwiK2YrXCJBXCIrZitcIixcIitmK1wiIDAgMSwxIDAsXCIrIC1mK1wiQVwiK2YrXCIsXCIrZitcIiAwIDEsMSAwLFwiK2YrXCJNMCxcIitlK1wiQVwiK2UrXCIsXCIrZStcIiAwIDEsMCAwLFwiKyAtZStcIkFcIitlK1wiLFwiK2UrXCIgMCAxLDAgMCxcIitlK1wiWlwiOlwiTTAsXCIrZitcIkFcIitmK1wiLFwiK2YrXCIgMCAxLDEgMCxcIisgLWYrXCJBXCIrZitcIixcIitmK1wiIDAgMSwxIDAsXCIrZitcIlpcIjplP1wiTVwiK2YqaytcIixcIitmKmwrXCJBXCIrZitcIixcIitmK1wiIDAgXCIraitcIiwxIFwiK2YqbStcIixcIitmKm4rXCJMXCIrZSptK1wiLFwiK2UqbitcIkFcIitlK1wiLFwiK2UrXCIgMCBcIitqK1wiLDAgXCIrZSprK1wiLFwiK2UqbCtcIlpcIjpcIk1cIitmKmsrXCIsXCIrZipsK1wiQVwiK2YrXCIsXCIrZitcIiAwIFwiK2orXCIsMSBcIitmKm0rXCIsXCIrZipuK1wiTDAsMFwiK1wiWlwifXZhciBhPWNHLGI9Y0gsYz1jSSxkPWNKO3JldHVybiBlLmlubmVyUmFkaXVzPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPXAoYiksZSk6YX0sZS5vdXRlclJhZGl1cz1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1wKGEpLGUpOmJ9LGUuc3RhcnRBbmdsZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1wKGEpLGUpOmN9LGUuZW5kQW5nbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9cChhKSxlKTpkfSxlLmNlbnRyb2lkPWZ1bmN0aW9uKCl7dmFyIGU9KGEuYXBwbHkodGhpcyxhcmd1bWVudHMpK2IuYXBwbHkodGhpcyxhcmd1bWVudHMpKS8yLGY9KGMuYXBwbHkodGhpcyxhcmd1bWVudHMpK2QuYXBwbHkodGhpcyxhcmd1bWVudHMpKS8yK2NFO3JldHVybltNYXRoLmNvcyhmKSplLE1hdGguc2luKGYpKmVdfSxlfTt2YXIgY0U9LU1hdGguUEkvMixjRj0yKk1hdGguUEktMWUtNjtkMy5zdmcubGluZT1mdW5jdGlvbigpe3JldHVybiBjSyhtKX07dmFyIGNOPVwibGluZWFyXCIsY089ZDMubWFwKHtsaW5lYXI6Y1AsXCJzdGVwLWJlZm9yZVwiOmNRLFwic3RlcC1hZnRlclwiOmNSLGJhc2lzOmNYLFwiYmFzaXMtb3BlblwiOmNZLFwiYmFzaXMtY2xvc2VkXCI6Y1osYnVuZGxlOmMkLGNhcmRpbmFsOmNVLFwiY2FyZGluYWwtb3BlblwiOmNTLFwiY2FyZGluYWwtY2xvc2VkXCI6Y1QsbW9ub3RvbmU6ZGh9KSxkYT1bMCwyLzMsMS8zLDBdLGRiPVswLDEvMywyLzMsMF0sZGM9WzAsMS82LDIvMywxLzZdO2QzLnN2Zy5saW5lLnJhZGlhbD1mdW5jdGlvbigpe3ZhciBhPWNLKGRpKTtyZXR1cm4gYS5yYWRpdXM9YS54LGRlbGV0ZSBhLngsYS5hbmdsZT1hLnksZGVsZXRlIGEueSxhfSxjUS5yZXZlcnNlPWNSLGNSLnJldmVyc2U9Y1EsZDMuc3ZnLmFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gZGooT2JqZWN0KX0sZDMuc3ZnLmFyZWEucmFkaWFsPWZ1bmN0aW9uKCl7dmFyIGE9ZGooZGkpO3JldHVybiBhLnJhZGl1cz1hLngsZGVsZXRlIGEueCxhLmlubmVyUmFkaXVzPWEueDAsZGVsZXRlIGEueDAsYS5vdXRlclJhZGl1cz1hLngxLGRlbGV0ZSBhLngxLGEuYW5nbGU9YS55LGRlbGV0ZSBhLnksYS5zdGFydEFuZ2xlPWEueTAsZGVsZXRlIGEueTAsYS5lbmRBbmdsZT1hLnkxLGRlbGV0ZSBhLnkxLGF9LGQzLnN2Zy5jaG9yZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGYoYyxkKXt2YXIgZT1nKHRoaXMsYSxjLGQpLGY9Zyh0aGlzLGIsYyxkKTtyZXR1cm5cIk1cIitlLnAwK2koZS5yLGUucDEsZS5hMS1lLmEwKSsoaChlLGYpP2ooZS5yLGUucDEsZS5yLGUucDApOmooZS5yLGUucDEsZi5yLGYucDApK2koZi5yLGYucDEsZi5hMS1mLmEwKStqKGYucixmLnAxLGUucixlLnAwKSkrXCJaXCJ9ZnVuY3Rpb24gZyhhLGIsZixnKXt2YXIgaD1iLmNhbGwoYSxmLGcpLGk9Yy5jYWxsKGEsaCxnKSxqPWQuY2FsbChhLGgsZykrY0Usaz1lLmNhbGwoYSxoLGcpK2NFO3JldHVybntyOmksYTA6aixhMTprLHAwOltpKk1hdGguY29zKGopLGkqTWF0aC5zaW4oaildLHAxOltpKk1hdGguY29zKGspLGkqTWF0aC5zaW4oayldfX1mdW5jdGlvbiBoKGEsYil7cmV0dXJuIGEuYTA9PWIuYTAmJmEuYTE9PWIuYTF9ZnVuY3Rpb24gaShhLGIsYyl7cmV0dXJuXCJBXCIrYStcIixcIithK1wiIDAgXCIrICsoYz5NYXRoLlBJKStcIiwxIFwiK2J9ZnVuY3Rpb24gaihhLGIsYyxkKXtyZXR1cm5cIlEgMCwwIFwiK2R9dmFyIGE9ZGssYj1kbCxjPWRtLGQ9Y0ksZT1jSjtyZXR1cm4gZi5yYWRpdXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9cChhKSxmKTpjfSxmLnNvdXJjZT1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT1wKGIpLGYpOmF9LGYudGFyZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPXAoYSksZik6Yn0sZi5zdGFydEFuZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkPXAoYSksZik6ZH0sZi5lbmRBbmdsZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT1wKGEpLGYpOmV9LGZ9LGQzLnN2Zy5kaWFnb25hbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGQoZCxlKXt2YXIgZj1hLmNhbGwodGhpcyxkLGUpLGc9Yi5jYWxsKHRoaXMsZCxlKSxoPShmLnkrZy55KS8yLGk9W2Yse3g6Zi54LHk6aH0se3g6Zy54LHk6aH0sZ107cmV0dXJuIGk9aS5tYXAoYyksXCJNXCIraVswXStcIkNcIitpWzFdK1wiIFwiK2lbMl0rXCIgXCIraVszXX12YXIgYT1kayxiPWRsLGM9ZHE7cmV0dXJuIGQuc291cmNlPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPXAoYiksZCk6YX0sZC50YXJnZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9cChhKSxkKTpifSxkLnByb2plY3Rpb249ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YSxkKTpjfSxkfSxkMy5zdmcuZGlhZ29uYWxcbi5yYWRpYWw9ZnVuY3Rpb24oKXt2YXIgYT1kMy5zdmcuZGlhZ29uYWwoKSxiPWRxLGM9YS5wcm9qZWN0aW9uO3JldHVybiBhLnByb2plY3Rpb249ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/YyhkcihiPWEpKTpifSxhfSxkMy5zdmcubW91c2U9ZDMubW91c2UsZDMuc3ZnLnRvdWNoZXM9ZDMudG91Y2hlcyxkMy5zdmcuc3ltYm9sPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhjLGQpe3JldHVybihkdi5nZXQoYS5jYWxsKHRoaXMsYyxkKSl8fGR1KShiLmNhbGwodGhpcyxjLGQpKX12YXIgYT1kdCxiPWRzO3JldHVybiBjLnR5cGU9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9cChiKSxjKTphfSxjLnNpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9cChhKSxjKTpifSxjfTt2YXIgZHY9ZDMubWFwKHtjaXJjbGU6ZHUsY3Jvc3M6ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5zcXJ0KGEvNSkvMjtyZXR1cm5cIk1cIisgLTMqYitcIixcIisgLWIrXCJIXCIrIC1iK1wiVlwiKyAtMypiK1wiSFwiK2IrXCJWXCIrIC1iK1wiSFwiKzMqYitcIlZcIitiK1wiSFwiK2IrXCJWXCIrMypiK1wiSFwiKyAtYitcIlZcIitiK1wiSFwiKyAtMypiK1wiWlwifSxkaWFtb25kOmZ1bmN0aW9uKGEpe3ZhciBiPU1hdGguc3FydChhLygyKmR4KSksYz1iKmR4O3JldHVyblwiTTAsXCIrIC1iK1wiTFwiK2MrXCIsMFwiK1wiIDAsXCIrYitcIiBcIisgLWMrXCIsMFwiK1wiWlwifSxzcXVhcmU6ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5zcXJ0KGEpLzI7cmV0dXJuXCJNXCIrIC1iK1wiLFwiKyAtYitcIkxcIitiK1wiLFwiKyAtYitcIiBcIitiK1wiLFwiK2IrXCIgXCIrIC1iK1wiLFwiK2IrXCJaXCJ9LFwidHJpYW5nbGUtZG93blwiOmZ1bmN0aW9uKGEpe3ZhciBiPU1hdGguc3FydChhL2R3KSxjPWIqZHcvMjtyZXR1cm5cIk0wLFwiK2MrXCJMXCIrYitcIixcIisgLWMrXCIgXCIrIC1iK1wiLFwiKyAtYytcIlpcIn0sXCJ0cmlhbmdsZS11cFwiOmZ1bmN0aW9uKGEpe3ZhciBiPU1hdGguc3FydChhL2R3KSxjPWIqZHcvMjtyZXR1cm5cIk0wLFwiKyAtYytcIkxcIitiK1wiLFwiK2MrXCIgXCIrIC1iK1wiLFwiK2MrXCJaXCJ9fSk7ZDMuc3ZnLnN5bWJvbFR5cGVzPWR2LmtleXMoKTt2YXIgZHc9TWF0aC5zcXJ0KDMpLGR4PU1hdGgudGFuKDMwKk1hdGguUEkvMTgwKTtkMy5zdmcuYXhpcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGsoayl7ay5lYWNoKGZ1bmN0aW9uKCl7dmFyIGs9ZDMuc2VsZWN0KHRoaXMpLGw9aD09bnVsbD9hLnRpY2tzP2EudGlja3MuYXBwbHkoYSxnKTphLmRvbWFpbigpOmgsbT1pPT1udWxsP2EudGlja0Zvcm1hdD9hLnRpY2tGb3JtYXQuYXBwbHkoYSxnKTpTdHJpbmc6aSxuPWRBKGEsbCxqKSxvPWsuc2VsZWN0QWxsKFwiLm1pbm9yXCIpLmRhdGEobixTdHJpbmcpLHA9by5lbnRlcigpLmluc2VydChcImxpbmVcIixcImdcIikuYXR0cihcImNsYXNzXCIsXCJ0aWNrIG1pbm9yXCIpLnN0eWxlKFwib3BhY2l0eVwiLDFlLTYpLHE9ZDMudHJhbnNpdGlvbihvLmV4aXQoKSkuc3R5bGUoXCJvcGFjaXR5XCIsMWUtNikucmVtb3ZlKCkscj1kMy50cmFuc2l0aW9uKG8pLnN0eWxlKFwib3BhY2l0eVwiLDEpLHM9ay5zZWxlY3RBbGwoXCJnXCIpLmRhdGEobCxTdHJpbmcpLHQ9cy5lbnRlcigpLmluc2VydChcImdcIixcInBhdGhcIikuc3R5bGUoXCJvcGFjaXR5XCIsMWUtNiksdT1kMy50cmFuc2l0aW9uKHMuZXhpdCgpKS5zdHlsZShcIm9wYWNpdHlcIiwxZS02KS5yZW1vdmUoKSx2PWQzLnRyYW5zaXRpb24ocykuc3R5bGUoXCJvcGFjaXR5XCIsMSksdyx4PWNmKGEpLHk9ay5zZWxlY3RBbGwoXCIuZG9tYWluXCIpLmRhdGEoWzBdKSx6PXkuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpLmF0dHIoXCJjbGFzc1wiLFwiZG9tYWluXCIpLEE9ZDMudHJhbnNpdGlvbih5KSxCPWEuY29weSgpLEM9dGhpcy5fX2NoYXJ0X198fEI7dGhpcy5fX2NoYXJ0X189Qix0LmFwcGVuZChcImxpbmVcIikuYXR0cihcImNsYXNzXCIsXCJ0aWNrXCIpLHQuYXBwZW5kKFwidGV4dFwiKTt2YXIgRD10LnNlbGVjdChcImxpbmVcIiksRT12LnNlbGVjdChcImxpbmVcIiksRj1zLnNlbGVjdChcInRleHRcIikudGV4dChtKSxHPXQuc2VsZWN0KFwidGV4dFwiKSxIPXYuc2VsZWN0KFwidGV4dFwiKTtzd2l0Y2goYil7Y2FzZVwiYm90dG9tXCI6dz1keSxwLmF0dHIoXCJ5MlwiLGQpLHIuYXR0cihcIngyXCIsMCkuYXR0cihcInkyXCIsZCksRC5hdHRyKFwieTJcIixjKSxHLmF0dHIoXCJ5XCIsTWF0aC5tYXgoYywwKStmKSxFLmF0dHIoXCJ4MlwiLDApLmF0dHIoXCJ5MlwiLGMpLEguYXR0cihcInhcIiwwKS5hdHRyKFwieVwiLE1hdGgubWF4KGMsMCkrZiksRi5hdHRyKFwiZHlcIixcIi43MWVtXCIpLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLFwibWlkZGxlXCIpLEEuYXR0cihcImRcIixcIk1cIit4WzBdK1wiLFwiK2UrXCJWMEhcIit4WzFdK1wiVlwiK2UpO2JyZWFrO2Nhc2VcInRvcFwiOnc9ZHkscC5hdHRyKFwieTJcIiwtZCksci5hdHRyKFwieDJcIiwwKS5hdHRyKFwieTJcIiwtZCksRC5hdHRyKFwieTJcIiwtYyksRy5hdHRyKFwieVwiLC0oTWF0aC5tYXgoYywwKStmKSksRS5hdHRyKFwieDJcIiwwKS5hdHRyKFwieTJcIiwtYyksSC5hdHRyKFwieFwiLDApLmF0dHIoXCJ5XCIsLShNYXRoLm1heChjLDApK2YpKSxGLmF0dHIoXCJkeVwiLFwiMGVtXCIpLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLFwibWlkZGxlXCIpLEEuYXR0cihcImRcIixcIk1cIit4WzBdK1wiLFwiKyAtZStcIlYwSFwiK3hbMV0rXCJWXCIrIC1lKTticmVhaztjYXNlXCJsZWZ0XCI6dz1keixwLmF0dHIoXCJ4MlwiLC1kKSxyLmF0dHIoXCJ4MlwiLC1kKS5hdHRyKFwieTJcIiwwKSxELmF0dHIoXCJ4MlwiLC1jKSxHLmF0dHIoXCJ4XCIsLShNYXRoLm1heChjLDApK2YpKSxFLmF0dHIoXCJ4MlwiLC1jKS5hdHRyKFwieTJcIiwwKSxILmF0dHIoXCJ4XCIsLShNYXRoLm1heChjLDApK2YpKS5hdHRyKFwieVwiLDApLEYuYXR0cihcImR5XCIsXCIuMzJlbVwiKS5hdHRyKFwidGV4dC1hbmNob3JcIixcImVuZFwiKSxBLmF0dHIoXCJkXCIsXCJNXCIrIC1lK1wiLFwiK3hbMF0rXCJIMFZcIit4WzFdK1wiSFwiKyAtZSk7YnJlYWs7Y2FzZVwicmlnaHRcIjp3PWR6LHAuYXR0cihcIngyXCIsZCksci5hdHRyKFwieDJcIixkKS5hdHRyKFwieTJcIiwwKSxELmF0dHIoXCJ4MlwiLGMpLEcuYXR0cihcInhcIixNYXRoLm1heChjLDApK2YpLEUuYXR0cihcIngyXCIsYykuYXR0cihcInkyXCIsMCksSC5hdHRyKFwieFwiLE1hdGgubWF4KGMsMCkrZikuYXR0cihcInlcIiwwKSxGLmF0dHIoXCJkeVwiLFwiLjMyZW1cIikuYXR0cihcInRleHQtYW5jaG9yXCIsXCJzdGFydFwiKSxBLmF0dHIoXCJkXCIsXCJNXCIrZStcIixcIit4WzBdK1wiSDBWXCIreFsxXStcIkhcIitlKX1pZihhLnRpY2tzKXQuY2FsbCh3LEMpLHYuY2FsbCh3LEIpLHUuY2FsbCh3LEIpLHAuY2FsbCh3LEMpLHIuY2FsbCh3LEIpLHEuY2FsbCh3LEIpO2Vsc2V7dmFyIEk9Qi5yYW5nZUJhbmQoKS8yLEo9ZnVuY3Rpb24oYSl7cmV0dXJuIEIoYSkrSX07dC5jYWxsKHcsSiksdi5jYWxsKHcsSil9fSl9dmFyIGE9ZDMuc2NhbGUubGluZWFyKCksYj1cImJvdHRvbVwiLGM9NixkPTYsZT02LGY9MyxnPVsxMF0saD1udWxsLGksaj0wO3JldHVybiBrLnNjYWxlPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPWIsayk6YX0say5vcmllbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9YSxrKTpifSxrLnRpY2tzPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGc9YXJndW1lbnRzLGspOmd9LGsudGlja1ZhbHVlcz1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaD1hLGspOmh9LGsudGlja0Zvcm1hdD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1hLGspOml9LGsudGlja1NpemU9ZnVuY3Rpb24oYSxiLGYpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiBjO3ZhciBnPWFyZ3VtZW50cy5sZW5ndGgtMTtyZXR1cm4gYz0rYSxkPWc+MT8rYjpjLGU9Zz4wPythcmd1bWVudHNbZ106YyxrfSxrLnRpY2tQYWRkaW5nPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhmPSthLGspOmZ9LGsudGlja1N1YmRpdmlkZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaj0rYSxrKTpqfSxrfSxkMy5zdmcuYnJ1c2g9ZnVuY3Rpb24oKXtmdW5jdGlvbiBnKGEpe2EuZWFjaChmdW5jdGlvbigpe3ZhciBhPWQzLnNlbGVjdCh0aGlzKSxlPWEuc2VsZWN0QWxsKFwiLmJhY2tncm91bmRcIikuZGF0YShbMF0pLGY9YS5zZWxlY3RBbGwoXCIuZXh0ZW50XCIpLmRhdGEoWzBdKSxsPWEuc2VsZWN0QWxsKFwiLnJlc2l6ZVwiKS5kYXRhKGQsU3RyaW5nKSxtO2Euc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLFwiYWxsXCIpLm9uKFwibW91c2Vkb3duLmJydXNoXCIsaykub24oXCJ0b3VjaHN0YXJ0LmJydXNoXCIsayksZS5lbnRlcigpLmFwcGVuZChcInJlY3RcIikuYXR0cihcImNsYXNzXCIsXCJiYWNrZ3JvdW5kXCIpLnN0eWxlKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpLnN0eWxlKFwiY3Vyc29yXCIsXCJjcm9zc2hhaXJcIiksZi5lbnRlcigpLmFwcGVuZChcInJlY3RcIikuYXR0cihcImNsYXNzXCIsXCJleHRlbnRcIikuc3R5bGUoXCJjdXJzb3JcIixcIm1vdmVcIiksbC5lbnRlcigpLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oYSl7cmV0dXJuXCJyZXNpemUgXCIrYX0pLnN0eWxlKFwiY3Vyc29yXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGRCW2FdfSkuYXBwZW5kKFwicmVjdFwiKS5hdHRyKFwieFwiLGZ1bmN0aW9uKGEpe3JldHVybi9bZXddJC8udGVzdChhKT8tMzpudWxsfSkuYXR0cihcInlcIixmdW5jdGlvbihhKXtyZXR1cm4vXltuc10vLnRlc3QoYSk/LTM6bnVsbH0pLmF0dHIoXCJ3aWR0aFwiLDYpLmF0dHIoXCJoZWlnaHRcIiw2KS5zdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKSxsLnN0eWxlKFwiZGlzcGxheVwiLGcuZW1wdHkoKT9cIm5vbmVcIjpudWxsKSxsLmV4aXQoKS5yZW1vdmUoKSxiJiYobT1jZihiKSxlLmF0dHIoXCJ4XCIsbVswXSkuYXR0cihcIndpZHRoXCIsbVsxXS1tWzBdKSxpKGEpKSxjJiYobT1jZihjKSxlLmF0dHIoXCJ5XCIsbVswXSkuYXR0cihcImhlaWdodFwiLG1bMV0tbVswXSksaihhKSksaChhKX0pfWZ1bmN0aW9uIGgoYSl7YS5zZWxlY3RBbGwoXCIucmVzaXplXCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIixmdW5jdGlvbihhKXtyZXR1cm5cInRyYW5zbGF0ZShcIitlWysvZSQvLnRlc3QoYSldWzBdK1wiLFwiK2VbKy9ecy8udGVzdChhKV1bMV0rXCIpXCJ9KX1mdW5jdGlvbiBpKGEpe2Euc2VsZWN0KFwiLmV4dGVudFwiKS5hdHRyKFwieFwiLGVbMF1bMF0pLGEuc2VsZWN0QWxsKFwiLmV4dGVudCwubj5yZWN0LC5zPnJlY3RcIikuYXR0cihcIndpZHRoXCIsZVsxXVswXS1lWzBdWzBdKX1mdW5jdGlvbiBqKGEpe2Euc2VsZWN0KFwiLmV4dGVudFwiKS5hdHRyKFwieVwiLGVbMF1bMV0pLGEuc2VsZWN0QWxsKFwiLmV4dGVudCwuZT5yZWN0LC53PnJlY3RcIikuYXR0cihcImhlaWdodFwiLGVbMV1bMV0tZVswXVsxXSl9ZnVuY3Rpb24gaygpe2Z1bmN0aW9uIHgoKXt2YXIgYT1kMy5ldmVudC5jaGFuZ2VkVG91Y2hlcztyZXR1cm4gYT9kMy50b3VjaGVzKGQsYSlbMF06ZDMubW91c2UoZCl9ZnVuY3Rpb24geSgpe2QzLmV2ZW50LmtleUNvZGU9PTMyJiYocXx8KHI9bnVsbCxzWzBdLT1lWzFdWzBdLHNbMV0tPWVbMV1bMV0scT0yKSxZKCkpfWZ1bmN0aW9uIHooKXtkMy5ldmVudC5rZXlDb2RlPT0zMiYmcT09MiYmKHNbMF0rPWVbMV1bMF0sc1sxXSs9ZVsxXVsxXSxxPTAsWSgpKX1mdW5jdGlvbiBBKCl7dmFyIGE9eCgpLGQ9ITE7dCYmKGFbMF0rPXRbMF0sYVsxXSs9dFsxXSkscXx8KGQzLmV2ZW50LmFsdEtleT8ocnx8KHI9WyhlWzBdWzBdK2VbMV1bMF0pLzIsKGVbMF1bMV0rZVsxXVsxXSkvMl0pLHNbMF09ZVsrKGFbMF08clswXSldWzBdLHNbMV09ZVsrKGFbMV08clsxXSldWzFdKTpyPW51bGwpLG8mJkIoYSxiLDApJiYoaShtKSxkPSEwKSxwJiZCKGEsYywxKSYmKGoobSksZD0hMCksZCYmKGgobSksbCh7dHlwZTpcImJydXNoXCIsbW9kZTpxP1wibW92ZVwiOlwicmVzaXplXCJ9KSl9ZnVuY3Rpb24gQihhLGIsYyl7dmFyIGQ9Y2YoYiksZz1kWzBdLGg9ZFsxXSxpPXNbY10saj1lWzFdW2NdLWVbMF1bY10sayxsO3EmJihnLT1pLGgtPWoraSksaz1NYXRoLm1heChnLE1hdGgubWluKGgsYVtjXSkpLHE/bD0oays9aSkrajoociYmKGk9TWF0aC5tYXgoZyxNYXRoLm1pbihoLDIqcltjXS1rKSkpLGk8az8obD1rLGs9aSk6bD1pKTtpZihlWzBdW2NdIT09a3x8ZVsxXVtjXSE9PWwpcmV0dXJuIGY9bnVsbCxlWzBdW2NdPWssZVsxXVtjXT1sLCEwfWZ1bmN0aW9uIEMoKXtBKCksbS5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsXCJhbGxcIikuc2VsZWN0QWxsKFwiLnJlc2l6ZVwiKS5zdHlsZShcImRpc3BsYXlcIixnLmVtcHR5KCk/XCJub25lXCI6bnVsbCksZDMuc2VsZWN0KFwiYm9keVwiKS5zdHlsZShcImN1cnNvclwiLG51bGwpLHUub24oXCJtb3VzZW1vdmUuYnJ1c2hcIixudWxsKS5vbihcIm1vdXNldXAuYnJ1c2hcIixudWxsKS5vbihcInRvdWNobW92ZS5icnVzaFwiLG51bGwpLm9uKFwidG91Y2hlbmQuYnJ1c2hcIixudWxsKS5vbihcImtleWRvd24uYnJ1c2hcIixudWxsKS5vbihcImtleXVwLmJydXNoXCIsbnVsbCksbCh7dHlwZTpcImJydXNoZW5kXCJ9KSxZKCl9dmFyIGQ9dGhpcyxrPWQzLnNlbGVjdChkMy5ldmVudC50YXJnZXQpLGw9YS5vZihkLGFyZ3VtZW50cyksbT1kMy5zZWxlY3QoZCksbj1rLmRhdHVtKCksbz0hL14obnxzKSQvLnRlc3QobikmJmIscD0hL14oZXx3KSQvLnRlc3QobikmJmMscT1rLmNsYXNzZWQoXCJleHRlbnRcIikscixzPXgoKSx0LHU9ZDMuc2VsZWN0KHdpbmRvdykub24oXCJtb3VzZW1vdmUuYnJ1c2hcIixBKS5vbihcIm1vdXNldXAuYnJ1c2hcIixDKS5vbihcInRvdWNobW92ZS5icnVzaFwiLEEpLm9uKFwidG91Y2hlbmQuYnJ1c2hcIixDKS5vbihcImtleWRvd24uYnJ1c2hcIix5KS5vbihcImtleXVwLmJydXNoXCIseik7aWYocSlzWzBdPWVbMF1bMF0tc1swXSxzWzFdPWVbMF1bMV0tc1sxXTtlbHNlIGlmKG4pe3ZhciB2PSsvdyQvLnRlc3Qobiksdz0rL15uLy50ZXN0KG4pO3Q9W2VbMS12XVswXS1zWzBdLGVbMS13XVsxXS1zWzFdXSxzWzBdPWVbdl1bMF0sc1sxXT1lW3ddWzFdfWVsc2UgZDMuZXZlbnQuYWx0S2V5JiYocj1zLnNsaWNlKCkpO20uc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLFwibm9uZVwiKS5zZWxlY3RBbGwoXCIucmVzaXplXCIpLnN0eWxlKFwiZGlzcGxheVwiLG51bGwpLGQzLnNlbGVjdChcImJvZHlcIikuc3R5bGUoXCJjdXJzb3JcIixrLnN0eWxlKFwiY3Vyc29yXCIpKSxsKHt0eXBlOlwiYnJ1c2hzdGFydFwifSksQSgpLFkoKX12YXIgYT0kKGcsXCJicnVzaHN0YXJ0XCIsXCJicnVzaFwiLFwiYnJ1c2hlbmRcIiksYj1udWxsLGM9bnVsbCxkPWRDWzBdLGU9W1swLDBdLFswLDBdXSxmO3JldHVybiBnLng9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9YSxkPWRDWyFiPDwxfCFjXSxnKTpifSxnLnk9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YSxkPWRDWyFiPDwxfCFjXSxnKTpjfSxnLmV4dGVudD1mdW5jdGlvbihhKXt2YXIgZCxoLGksaixrO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhmPVtbMCwwXSxbMCwwXV0sYiYmKGQ9YVswXSxoPWFbMV0sYyYmKGQ9ZFswXSxoPWhbMF0pLGZbMF1bMF09ZCxmWzFdWzBdPWgsYi5pbnZlcnQmJihkPWIoZCksaD1iKGgpKSxoPGQmJihrPWQsZD1oLGg9ayksZVswXVswXT1kfDAsZVsxXVswXT1ofDApLGMmJihpPWFbMF0saj1hWzFdLGImJihpPWlbMV0saj1qWzFdKSxmWzBdWzFdPWksZlsxXVsxXT1qLGMuaW52ZXJ0JiYoaT1jKGkpLGo9YyhqKSksajxpJiYoaz1pLGk9aixqPWspLGVbMF1bMV09aXwwLGVbMV1bMV09anwwKSxnKTooYT1mfHxlLGImJihkPWFbMF1bMF0saD1hWzFdWzBdLGZ8fChkPWVbMF1bMF0saD1lWzFdWzBdLGIuaW52ZXJ0JiYoZD1iLmludmVydChkKSxoPWIuaW52ZXJ0KGgpKSxoPGQmJihrPWQsZD1oLGg9aykpKSxjJiYoaT1hWzBdWzFdLGo9YVsxXVsxXSxmfHwoaT1lWzBdWzFdLGo9ZVsxXVsxXSxjLmludmVydCYmKGk9Yy5pbnZlcnQoaSksaj1jLmludmVydChqKSksajxpJiYoaz1pLGk9aixqPWspKSksYiYmYz9bW2QsaV0sW2gsal1dOmI/W2QsaF06YyYmW2ksal0pfSxnLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIGY9bnVsbCxlWzBdWzBdPWVbMF1bMV09ZVsxXVswXT1lWzFdWzFdPTAsZ30sZy5lbXB0eT1mdW5jdGlvbigpe3JldHVybiBiJiZlWzBdWzBdPT09ZVsxXVswXXx8YyYmZVswXVsxXT09PWVbMV1bMV19LGQzLnJlYmluZChnLGEsXCJvblwiKX07dmFyIGRCPXtuOlwibnMtcmVzaXplXCIsZTpcImV3LXJlc2l6ZVwiLHM6XCJucy1yZXNpemVcIix3OlwiZXctcmVzaXplXCIsbnc6XCJud3NlLXJlc2l6ZVwiLG5lOlwibmVzdy1yZXNpemVcIixzZTpcIm53c2UtcmVzaXplXCIsc3c6XCJuZXN3LXJlc2l6ZVwifSxkQz1bW1wiblwiLFwiZVwiLFwic1wiLFwid1wiLFwibndcIixcIm5lXCIsXCJzZVwiLFwic3dcIl0sW1wiZVwiLFwid1wiXSxbXCJuXCIsXCJzXCJdLFtdXTtkMy5iZWhhdmlvcj17fSxkMy5iZWhhdmlvci5kcmFnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYygpe3RoaXMub24oXCJtb3VzZWRvd24uZHJhZ1wiLGQpLm9uKFwidG91Y2hzdGFydC5kcmFnXCIsZCl9ZnVuY3Rpb24gZCgpe2Z1bmN0aW9uIGooKXt2YXIgYT1jLnBhcmVudE5vZGUsYj1kMy5ldmVudC5jaGFuZ2VkVG91Y2hlcztyZXR1cm4gYj9kMy50b3VjaGVzKGEsYilbMF06ZDMubW91c2UoYSl9ZnVuY3Rpb24gaygpe2lmKCFjLnBhcmVudE5vZGUpcmV0dXJuIGwoKTt2YXIgYT1qKCksYj1hWzBdLWdbMF0sZT1hWzFdLWdbMV07aHw9YnxlLGc9YSxZKCksZCh7dHlwZTpcImRyYWdcIix4OmFbMF0rZlswXSx5OmFbMV0rZlsxXSxkeDpiLGR5OmV9KX1mdW5jdGlvbiBsKCl7ZCh7dHlwZTpcImRyYWdlbmRcIn0pLGgmJihZKCksZDMuZXZlbnQudGFyZ2V0PT09ZSYmaS5vbihcImNsaWNrLmRyYWdcIixtLCEwKSksaS5vbihcIm1vdXNlbW92ZS5kcmFnXCIsbnVsbCkub24oXCJ0b3VjaG1vdmUuZHJhZ1wiLG51bGwpLm9uKFwibW91c2V1cC5kcmFnXCIsbnVsbCkub24oXCJ0b3VjaGVuZC5kcmFnXCIsbnVsbCl9ZnVuY3Rpb24gbSgpe1koKSxpLm9uKFwiY2xpY2suZHJhZ1wiLG51bGwpfXZhciBjPXRoaXMsZD1hLm9mKGMsYXJndW1lbnRzKSxlPWQzLmV2ZW50LnRhcmdldCxmLGc9aigpLGg9MCxpPWQzLnNlbGVjdCh3aW5kb3cpLm9uKFwibW91c2Vtb3ZlLmRyYWdcIixrKS5vbihcInRvdWNobW92ZS5kcmFnXCIsaykub24oXCJtb3VzZXVwLmRyYWdcIixsLCEwKS5vbihcInRvdWNoZW5kLmRyYWdcIixsLCEwKTtiPyhmPWIuYXBwbHkoYyxhcmd1bWVudHMpLGY9W2YueC1nWzBdLGYueS1nWzFdXSk6Zj1bMCwwXSxZKCksZCh7dHlwZTpcImRyYWdzdGFydFwifSl9dmFyIGE9JChjLFwiZHJhZ1wiLFwiZHJhZ3N0YXJ0XCIsXCJkcmFnZW5kXCIpLGI9bnVsbDtyZXR1cm4gYy5vcmlnaW49ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9YSxjKTpifSxkMy5yZWJpbmQoYyxhLFwib25cIil9LGQzLmJlaGF2aW9yLnpvb209ZnVuY3Rpb24oKXtmdW5jdGlvbiBsKCl7dGhpcy5vbihcIm1vdXNlZG93bi56b29tXCIscikub24oXCJtb3VzZXdoZWVsLnpvb21cIixzKS5vbihcIm1vdXNlbW92ZS56b29tXCIsdCkub24oXCJET01Nb3VzZVNjcm9sbC56b29tXCIscykub24oXCJkYmxjbGljay56b29tXCIsdSkub24oXCJ0b3VjaHN0YXJ0Lnpvb21cIix2KS5vbihcInRvdWNobW92ZS56b29tXCIsdykub24oXCJ0b3VjaGVuZC56b29tXCIsdil9ZnVuY3Rpb24gbShiKXtyZXR1cm5bKGJbMF0tYVswXSkvYywoYlsxXS1hWzFdKS9jXX1mdW5jdGlvbiBuKGIpe3JldHVybltiWzBdKmMrYVswXSxiWzFdKmMrYVsxXV19ZnVuY3Rpb24gbyhhKXtjPU1hdGgubWF4KGVbMF0sTWF0aC5taW4oZVsxXSxhKSl9ZnVuY3Rpb24gcChiLGMpe2M9bihjKSxhWzBdKz1iWzBdLWNbMF0sYVsxXSs9YlsxXS1jWzFdfWZ1bmN0aW9uIHEoYil7aCYmaC5kb21haW4oZy5yYW5nZSgpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4oYi1hWzBdKS9jfSkubWFwKGcuaW52ZXJ0KSksaiYmai5kb21haW4oaS5yYW5nZSgpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4oYi1hWzFdKS9jfSkubWFwKGkuaW52ZXJ0KSksZDMuZXZlbnQucHJldmVudERlZmF1bHQoKSxiKHt0eXBlOlwiem9vbVwiLHNjYWxlOmMsdHJhbnNsYXRlOmF9KX1mdW5jdGlvbiByKCl7ZnVuY3Rpb24gaCgpe2Q9MSxwKGQzLm1vdXNlKGEpLGcpLHEoYil9ZnVuY3Rpb24gaSgpe2QmJlkoKSxlLm9uKFwibW91c2Vtb3ZlLnpvb21cIixudWxsKS5vbihcIm1vdXNldXAuem9vbVwiLG51bGwpLGQmJmQzLmV2ZW50LnRhcmdldD09PWMmJmUub24oXCJjbGljay56b29tXCIsaiwhMCl9ZnVuY3Rpb24gaigpe1koKSxlLm9uKFwiY2xpY2suem9vbVwiLG51bGwpfXZhciBhPXRoaXMsYj1mLm9mKGEsYXJndW1lbnRzKSxjPWQzLmV2ZW50LnRhcmdldCxkPTAsZT1kMy5zZWxlY3Qod2luZG93KS5vbihcIm1vdXNlbW92ZS56b29tXCIsaCkub24oXCJtb3VzZXVwLnpvb21cIixpKSxnPW0oZDMubW91c2UoYSkpO3dpbmRvdy5mb2N1cygpLFkoKX1mdW5jdGlvbiBzKCl7Ynx8KGI9bShkMy5tb3VzZSh0aGlzKSkpLG8oTWF0aC5wb3coMixkRigpKi4wMDIpKmMpLHAoZDMubW91c2UodGhpcyksYikscShmLm9mKHRoaXMsYXJndW1lbnRzKSl9ZnVuY3Rpb24gdCgpe2I9bnVsbH1mdW5jdGlvbiB1KCl7dmFyIGE9ZDMubW91c2UodGhpcyksYj1tKGEpO28oZDMuZXZlbnQuc2hpZnRLZXk/Yy8yOmMqMikscChhLGIpLHEoZi5vZih0aGlzLGFyZ3VtZW50cykpfWZ1bmN0aW9uIHYoKXt2YXIgYT1kMy50b3VjaGVzKHRoaXMpLGU9RGF0ZS5ub3coKTtkPWMsYj17fSxhLmZvckVhY2goZnVuY3Rpb24oYSl7YlthLmlkZW50aWZpZXJdPW0oYSl9KSxZKCk7aWYoYS5sZW5ndGg9PT0xJiZlLWs8NTAwKXt2YXIgZz1hWzBdLGg9bShhWzBdKTtvKGMqMikscChnLGgpLHEoZi5vZih0aGlzLGFyZ3VtZW50cykpfWs9ZX1mdW5jdGlvbiB3KCl7dmFyIGE9ZDMudG91Y2hlcyh0aGlzKSxjPWFbMF0sZT1iW2MuaWRlbnRpZmllcl07aWYoZz1hWzFdKXt2YXIgZyxoPWJbZy5pZGVudGlmaWVyXTtjPVsoY1swXStnWzBdKS8yLChjWzFdK2dbMV0pLzJdLGU9WyhlWzBdK2hbMF0pLzIsKGVbMV0raFsxXSkvMl0sbyhkMy5ldmVudC5zY2FsZSpkKX1wKGMsZSkscShmLm9mKHRoaXMsYXJndW1lbnRzKSl9dmFyIGE9WzAsMF0sYixjPTEsZCxlPWRFLGY9JChsLFwiem9vbVwiKSxnLGgsaSxqLGs7cmV0dXJuIGwudHJhbnNsYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPWIubWFwKE51bWJlciksbCk6YX0sbC5zY2FsZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz0rYSxsKTpjfSxsLnNjYWxlRXh0ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPWE9PW51bGw/ZEU6YS5tYXAoTnVtYmVyKSxsKTplfSxsLng9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGg9YSxnPWEuY29weSgpLGwpOmh9LGwueT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaj1hLGk9YS5jb3B5KCksbCk6an0sZDMucmViaW5kKGwsZixcIm9uXCIpfTt2YXIgZEQsZEU9WzAsSW5maW5pdHldO2QzLmxheW91dD17fSxkMy5sYXlvdXQuYnVuZGxlPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9LTEsZD1hLmxlbmd0aDt3aGlsZSgrK2M8ZCliLnB1c2goZEcoYVtjXSkpO3JldHVybiBifX0sZDMubGF5b3V0LmNob3JkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaigpe3ZhciBhPXt9LGo9W10sbD1kMy5yYW5nZShlKSxtPVtdLG4sbyxwLHEscjtiPVtdLGM9W10sbj0wLHE9LTE7d2hpbGUoKytxPGUpe289MCxyPS0xO3doaWxlKCsrcjxlKW8rPWRbcV1bcl07ai5wdXNoKG8pLG0ucHVzaChkMy5yYW5nZShlKSksbis9b31nJiZsLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gZyhqW2FdLGpbYl0pfSksaCYmbS5mb3JFYWNoKGZ1bmN0aW9uKGEsYil7YS5zb3J0KGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGgoZFtiXVthXSxkW2JdW2NdKX0pfSksbj0oMipNYXRoLlBJLWYqZSkvbixvPTAscT0tMTt3aGlsZSgrK3E8ZSl7cD1vLHI9LTE7d2hpbGUoKytyPGUpe3ZhciBzPWxbcV0sdD1tW3NdW3JdLHU9ZFtzXVt0XSx2PW8sdz1vKz11Km47YVtzK1wiLVwiK3RdPXtpbmRleDpzLHN1YmluZGV4OnQsc3RhcnRBbmdsZTp2LGVuZEFuZ2xlOncsdmFsdWU6dX19Y1tzXT17aW5kZXg6cyxzdGFydEFuZ2xlOnAsZW5kQW5nbGU6byx2YWx1ZTooby1wKS9ufSxvKz1mfXE9LTE7d2hpbGUoKytxPGUpe3I9cS0xO3doaWxlKCsrcjxlKXt2YXIgeD1hW3ErXCItXCIrcl0seT1hW3IrXCItXCIrcV07KHgudmFsdWV8fHkudmFsdWUpJiZiLnB1c2goeC52YWx1ZTx5LnZhbHVlP3tzb3VyY2U6eSx0YXJnZXQ6eH06e3NvdXJjZTp4LHRhcmdldDp5fSl9fWkmJmsoKX1mdW5jdGlvbiBrKCl7Yi5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGkoKGEuc291cmNlLnZhbHVlK2EudGFyZ2V0LnZhbHVlKS8yLChiLnNvdXJjZS52YWx1ZStiLnRhcmdldC52YWx1ZSkvMil9KX12YXIgYT17fSxiLGMsZCxlLGY9MCxnLGgsaTtyZXR1cm4gYS5tYXRyaXg9ZnVuY3Rpb24oZil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9KGQ9ZikmJmQubGVuZ3RoLGI9Yz1udWxsLGEpOmR9LGEucGFkZGluZz1mdW5jdGlvbihkKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZj1kLGI9Yz1udWxsLGEpOmZ9LGEuc29ydEdyb3Vwcz1mdW5jdGlvbihkKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZz1kLGI9Yz1udWxsLGEpOmd9LGEuc29ydFN1Ymdyb3Vwcz1mdW5jdGlvbihjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaD1jLGI9bnVsbCxhKTpofSxhLnNvcnRDaG9yZHM9ZnVuY3Rpb24oYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9YyxiJiZrKCksYSk6aX0sYS5jaG9yZHM9ZnVuY3Rpb24oKXtyZXR1cm4gYnx8aigpLGJ9LGEuZ3JvdXBzPWZ1bmN0aW9uKCl7cmV0dXJuIGN8fGooKSxjfSxhfSxkMy5sYXlvdXQuZm9yY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGEpe3JldHVybiBmdW5jdGlvbihiLGMsZCxlLGYpe2lmKGIucG9pbnQhPT1hKXt2YXIgZz1iLmN4LWEueCxoPWIuY3ktYS55LGk9MS9NYXRoLnNxcnQoZypnK2gqaCk7aWYoKGUtYykqaTxrKXt2YXIgaj1iLmNoYXJnZSppKmk7cmV0dXJuIGEucHgtPWcqaixhLnB5LT1oKmosITB9aWYoYi5wb2ludCYmaXNGaW5pdGUoaSkpe3ZhciBqPWIucG9pbnRDaGFyZ2UqaSppO2EucHgtPWcqaixhLnB5LT1oKmp9fXJldHVybiFiLmNoYXJnZX19ZnVuY3Rpb24gdShiKXtkTChkSz1iKSxkSj1hfXZhciBhPXt9LGI9ZDMuZGlzcGF0Y2goXCJzdGFydFwiLFwidGlja1wiLFwiZW5kXCIpLGM9WzEsMV0sZCxlLGY9LjksZz1kUSxoPWRSLGk9LTMwLGo9LjEsaz0uOCxsLG49W10sbz1bXSxxLHIscztyZXR1cm4gYS50aWNrPWZ1bmN0aW9uKCl7aWYoKGUqPS45OSk8LjAwNSlyZXR1cm4gYi5lbmQoe3R5cGU6XCJlbmRcIixhbHBoYTplPTB9KSwhMDt2YXIgYT1uLmxlbmd0aCxkPW8ubGVuZ3RoLGcsaCxrLGwsbSxwLHUsdix3O2ZvcihoPTA7aDxkOysraCl7az1vW2hdLGw9ay5zb3VyY2UsbT1rLnRhcmdldCx2PW0ueC1sLngsdz1tLnktbC55O2lmKHA9dip2K3cqdylwPWUqcltoXSooKHA9TWF0aC5zcXJ0KHApKS1xW2hdKS9wLHYqPXAsdyo9cCxtLngtPXYqKHU9bC53ZWlnaHQvKG0ud2VpZ2h0K2wud2VpZ2h0KSksbS55LT13KnUsbC54Kz12Kih1PTEtdSksbC55Kz13KnV9aWYodT1lKmope3Y9Y1swXS8yLHc9Y1sxXS8yLGg9LTE7aWYodSl3aGlsZSgrK2g8YSlrPW5baF0say54Kz0odi1rLngpKnUsay55Kz0ody1rLnkpKnV9aWYoaSl7ZFAoZz1kMy5nZW9tLnF1YWR0cmVlKG4pLGUscyksaD0tMTt3aGlsZSgrK2g8YSkoaz1uW2hdKS5maXhlZHx8Zy52aXNpdCh0KGspKX1oPS0xO3doaWxlKCsraDxhKWs9bltoXSxrLmZpeGVkPyhrLng9ay5weCxrLnk9ay5weSk6KGsueC09KGsucHgtKGsucHg9ay54KSkqZixrLnktPShrLnB5LShrLnB5PWsueSkpKmYpO2IudGljayh7dHlwZTpcInRpY2tcIixhbHBoYTplfSl9LGEubm9kZXM9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49YixhKTpufSxhLmxpbmtzPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvPWIsYSk6b30sYS5zaXplPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPWIsYSk6Y30sYS5saW5rRGlzdGFuY2U9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGc9cChiKSxhKTpnfSxhLmRpc3RhbmNlPWEubGlua0Rpc3RhbmNlLGEubGlua1N0cmVuZ3RoPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhoPXAoYiksYSk6aH0sYS5mcmljdGlvbj1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZj1iLGEpOmZ9LGEuY2hhcmdlPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPXR5cGVvZiBiPT1cImZ1bmN0aW9uXCI/YjorYixhKTppfSxhLmdyYXZpdHk9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGo9YixhKTpqfSxhLnRoZXRhPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhrPWIsYSk6a30sYS5hbHBoYT1mdW5jdGlvbihjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT9jPjA/ZT1jOmU9MDpjPjAmJihiLnN0YXJ0KHt0eXBlOlwic3RhcnRcIixhbHBoYTplPWN9KSxkMy50aW1lcihhLnRpY2spKSxhKTplfSxhLnN0YXJ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcChhLGMpe3ZhciBkPXQoYiksZT0tMSxmPWQubGVuZ3RoLGc7d2hpbGUoKytlPGYpaWYoIWlzTmFOKGc9ZFtlXVthXSkpcmV0dXJuIGc7cmV0dXJuIE1hdGgucmFuZG9tKCkqY31mdW5jdGlvbiB0KCl7aWYoIWwpe2w9W107Zm9yKGQ9MDtkPGU7KytkKWxbZF09W107Zm9yKGQ9MDtkPGY7KytkKXt2YXIgYT1vW2RdO2xbYS5zb3VyY2UuaW5kZXhdLnB1c2goYS50YXJnZXQpLGxbYS50YXJnZXQuaW5kZXhdLnB1c2goYS5zb3VyY2UpfX1yZXR1cm4gbFtiXX12YXIgYixkLGU9bi5sZW5ndGgsZj1vLmxlbmd0aCxqPWNbMF0saz1jWzFdLGwsbTtmb3IoYj0wO2I8ZTsrK2IpKG09bltiXSkuaW5kZXg9YixtLndlaWdodD0wO3E9W10scj1bXTtmb3IoYj0wO2I8ZjsrK2IpbT1vW2JdLHR5cGVvZiBtLnNvdXJjZT09XCJudW1iZXJcIiYmKG0uc291cmNlPW5bbS5zb3VyY2VdKSx0eXBlb2YgbS50YXJnZXQ9PVwibnVtYmVyXCImJihtLnRhcmdldD1uW20udGFyZ2V0XSkscVtiXT1nLmNhbGwodGhpcyxtLGIpLHJbYl09aC5jYWxsKHRoaXMsbSxiKSwrK20uc291cmNlLndlaWdodCwrK20udGFyZ2V0LndlaWdodDtmb3IoYj0wO2I8ZTsrK2IpbT1uW2JdLGlzTmFOKG0ueCkmJihtLng9cChcInhcIixqKSksaXNOYU4obS55KSYmKG0ueT1wKFwieVwiLGspKSxpc05hTihtLnB4KSYmKG0ucHg9bS54KSxpc05hTihtLnB5KSYmKG0ucHk9bS55KTtzPVtdO2lmKHR5cGVvZiBpPT1cImZ1bmN0aW9uXCIpZm9yKGI9MDtiPGU7KytiKXNbYl09K2kuY2FsbCh0aGlzLG5bYl0sYik7ZWxzZSBmb3IoYj0wO2I8ZTsrK2Ipc1tiXT1pO3JldHVybiBhLnJlc3VtZSgpfSxhLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiBhLmFscGhhKC4xKX0sYS5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYWxwaGEoMCl9LGEuZHJhZz1mdW5jdGlvbigpe2R8fChkPWQzLmJlaGF2aW9yLmRyYWcoKS5vcmlnaW4obSkub24oXCJkcmFnc3RhcnRcIix1KS5vbihcImRyYWdcIixkTykub24oXCJkcmFnZW5kXCIsZE4pKSx0aGlzLm9uKFwibW91c2VvdmVyLmZvcmNlXCIsZEwpLm9uKFwibW91c2VvdXQuZm9yY2VcIixkTSkuY2FsbChkKX0sZDMucmViaW5kKGEsYixcIm9uXCIpfTt2YXIgZEosZEs7ZDMubGF5b3V0LnBhcnRpdGlvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoYSxiLGQsZSl7dmFyIGY9YS5jaGlsZHJlbjthLng9YixhLnk9YS5kZXB0aCplLGEuZHg9ZCxhLmR5PWU7aWYoZiYmKGg9Zi5sZW5ndGgpKXt2YXIgZz0tMSxoLGksajtkPWEudmFsdWU/ZC9hLnZhbHVlOjA7d2hpbGUoKytnPGgpYyhpPWZbZ10sYixqPWkudmFsdWUqZCxlKSxiKz1qfX1mdW5jdGlvbiBkKGEpe3ZhciBiPWEuY2hpbGRyZW4sYz0wO2lmKGImJihmPWIubGVuZ3RoKSl7dmFyIGU9LTEsZjt3aGlsZSgrK2U8ZiljPU1hdGgubWF4KGMsZChiW2VdKSl9cmV0dXJuIDErY31mdW5jdGlvbiBlKGUsZil7dmFyIGc9YS5jYWxsKHRoaXMsZSxmKTtyZXR1cm4gYyhnWzBdLDAsYlswXSxiWzFdL2QoZ1swXSkpLGd9dmFyIGE9ZDMubGF5b3V0LmhpZXJhcmNoeSgpLGI9WzEsMV07cmV0dXJuIGUuc2l6ZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1hLGUpOmJ9LGVlKGUsYSl9LGQzLmxheW91dC5waWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGYsZyl7dmFyIGg9Zi5tYXAoZnVuY3Rpb24oYixjKXtyZXR1cm4rYS5jYWxsKGUsYixjKX0pLGk9Kyh0eXBlb2YgYz09XCJmdW5jdGlvblwiP2MuYXBwbHkodGhpcyxhcmd1bWVudHMpOmMpLGo9KCh0eXBlb2YgZD09XCJmdW5jdGlvblwiP2QuYXBwbHkodGhpcyxhcmd1bWVudHMpOmQpLWMpL2QzLnN1bShoKSxrPWQzLnJhbmdlKGYubGVuZ3RoKTtiIT1udWxsJiZrLnNvcnQoYj09PWRTP2Z1bmN0aW9uKGEsYil7cmV0dXJuIGhbYl0taFthXX06ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYihmW2FdLGZbY10pfSk7dmFyIGw9W107cmV0dXJuIGsuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYjtsW2FdPXtkYXRhOmZbYV0sdmFsdWU6Yj1oW2FdLHN0YXJ0QW5nbGU6aSxlbmRBbmdsZTppKz1iKmp9fSksbH12YXIgYT1OdW1iZXIsYj1kUyxjPTAsZD0yKk1hdGguUEk7cmV0dXJuIGUudmFsdWU9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9YixlKTphfSxlLnNvcnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9YSxlKTpifSxlLnN0YXJ0QW5nbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YSxlKTpjfSxlLmVuZEFuZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkPWEsZSk6ZH0sZX07dmFyIGRTPXt9O2QzLmxheW91dC5zdGFjaz1mdW5jdGlvbigpe2Z1bmN0aW9uIGcoaCxpKXt2YXIgaj1oLm1hcChmdW5jdGlvbihiLGMpe3JldHVybiBhLmNhbGwoZyxiLGMpfSksaz1qLm1hcChmdW5jdGlvbihhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhLGIpe3JldHVybltlLmNhbGwoZyxhLGIpLGYuY2FsbChnLGEsYildfSl9KSxsPWIuY2FsbChnLGssaSk7aj1kMy5wZXJtdXRlKGosbCksaz1kMy5wZXJtdXRlKGssbCk7dmFyIG09Yy5jYWxsKGcsayxpKSxuPWoubGVuZ3RoLG89alswXS5sZW5ndGgscCxxLHI7Zm9yKHE9MDtxPG87KytxKXtkLmNhbGwoZyxqWzBdW3FdLHI9bVtxXSxrWzBdW3FdWzFdKTtmb3IocD0xO3A8bjsrK3ApZC5jYWxsKGcsaltwXVtxXSxyKz1rW3AtMV1bcV1bMV0sa1twXVtxXVsxXSl9cmV0dXJuIGh9dmFyIGE9bSxiPWRZLGM9ZFosZD1kVixlPWRULGY9ZFU7cmV0dXJuIGcudmFsdWVzPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPWIsZyk6YX0sZy5vcmRlcj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj10eXBlb2YgYT09XCJmdW5jdGlvblwiP2E6ZFcuZ2V0KGEpfHxkWSxnKTpifSxnLm9mZnNldD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz10eXBlb2YgYT09XCJmdW5jdGlvblwiP2E6ZFguZ2V0KGEpfHxkWixnKTpjfSxnLng9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9YSxnKTplfSxnLnk9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9YSxnKTpmfSxnLm91dD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD1hLGcpOmR9LGd9O3ZhciBkVz1kMy5tYXAoe1wiaW5zaWRlLW91dFwiOmZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoLGMsZCxlPWEubWFwKGQkKSxmPWEubWFwKGRfKSxnPWQzLnJhbmdlKGIpLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gZVthXS1lW2JdfSksaD0wLGk9MCxqPVtdLGs9W107Zm9yKGM9MDtjPGI7KytjKWQ9Z1tjXSxoPGk/KGgrPWZbZF0sai5wdXNoKGQpKTooaSs9ZltkXSxrLnB1c2goZCkpO3JldHVybiBrLnJldmVyc2UoKS5jb25jYXQoail9LHJldmVyc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGQzLnJhbmdlKGEubGVuZ3RoKS5yZXZlcnNlKCl9LFwiZGVmYXVsdFwiOmRZfSksZFg9ZDMubWFwKHtzaWxob3VldHRlOmZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoLGM9YVswXS5sZW5ndGgsZD1bXSxlPTAsZixnLGgsaT1bXTtmb3IoZz0wO2c8YzsrK2cpe2ZvcihmPTAsaD0wO2Y8YjtmKyspaCs9YVtmXVtnXVsxXTtoPmUmJihlPWgpLGQucHVzaChoKX1mb3IoZz0wO2c8YzsrK2cpaVtnXT0oZS1kW2ddKS8yO3JldHVybiBpfSx3aWdnbGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5sZW5ndGgsYz1hWzBdLGQ9Yy5sZW5ndGgsZT0wLGYsZyxoLGksaixrLGwsbSxuLG89W107b1swXT1tPW49MDtmb3IoZz0xO2c8ZDsrK2cpe2ZvcihmPTAsaT0wO2Y8YjsrK2YpaSs9YVtmXVtnXVsxXTtmb3IoZj0wLGo9MCxsPWNbZ11bMF0tY1tnLTFdWzBdO2Y8YjsrK2Ype2ZvcihoPTAsaz0oYVtmXVtnXVsxXS1hW2ZdW2ctMV1bMV0pLygyKmwpO2g8ZjsrK2gpays9KGFbaF1bZ11bMV0tYVtoXVtnLTFdWzFdKS9sO2orPWsqYVtmXVtnXVsxXX1vW2ddPW0tPWk/ai9pKmw6MCxtPG4mJihuPW0pfWZvcihnPTA7ZzxkOysrZylvW2ddLT1uO3JldHVybiBvfSxleHBhbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5sZW5ndGgsYz1hWzBdLmxlbmd0aCxkPTEvYixlLGYsZyxoPVtdO2ZvcihmPTA7ZjxjOysrZil7Zm9yKGU9MCxnPTA7ZTxiO2UrKylnKz1hW2VdW2ZdWzFdO2lmKGcpZm9yKGU9MDtlPGI7ZSsrKWFbZV1bZl1bMV0vPWc7ZWxzZSBmb3IoZT0wO2U8YjtlKyspYVtlXVtmXVsxXT1kfWZvcihmPTA7ZjxjOysrZiloW2ZdPTA7cmV0dXJuIGh9LHplcm86ZFp9KTtkMy5sYXlvdXQuaGlzdG9ncmFtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLGYpe3ZhciBnPVtdLGg9ZS5tYXAoYix0aGlzKSxpPWMuY2FsbCh0aGlzLGgsZiksaj1kLmNhbGwodGhpcyxpLGgsZiksayxmPS0xLGw9aC5sZW5ndGgsbT1qLmxlbmd0aC0xLG49YT8xOjEvbCxvO3doaWxlKCsrZjxtKWs9Z1tmXT1bXSxrLmR4PWpbZisxXS0oay54PWpbZl0pLGsueT0wO2lmKG0+MCl7Zj0tMTt3aGlsZSgrK2Y8bClvPWhbZl0sbz49aVswXSYmbzw9aVsxXSYmKGs9Z1tkMy5iaXNlY3QoaixvLDEsbSktMV0say55Kz1uLGsucHVzaChlW2ZdKSl9cmV0dXJuIGd9dmFyIGE9ITAsYj1OdW1iZXIsYz1lZCxkPWViO3JldHVybiBlLnZhbHVlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWEsZSk6Yn0sZS5yYW5nZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1wKGEpLGUpOmN9LGUuYmlucz1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD10eXBlb2YgYT09XCJudW1iZXJcIj9mdW5jdGlvbihiKXtyZXR1cm4gZWMoYixhKX06cChhKSxlKTpkfSxlLmZyZXF1ZW5jeT1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT0hIWIsZSk6YX0sZX0sZDMubGF5b3V0LmhpZXJhcmNoeT1mdW5jdGlvbigpe2Z1bmN0aW9uIGQoZSxnLGgpe3ZhciBpPWIuY2FsbChmLGUsZyksaj1laj9lOntkYXRhOmV9O2ouZGVwdGg9ZyxoLnB1c2goaik7aWYoaSYmKGw9aS5sZW5ndGgpKXt2YXIgaz0tMSxsLG09ai5jaGlsZHJlbj1bXSxuPTAsbz1nKzEscDt3aGlsZSgrK2s8bClwPWQoaVtrXSxvLGgpLHAucGFyZW50PWosbS5wdXNoKHApLG4rPXAudmFsdWU7YSYmbS5zb3J0KGEpLGMmJihqLnZhbHVlPW4pfWVsc2UgYyYmKGoudmFsdWU9K2MuY2FsbChmLGUsZyl8fDApO3JldHVybiBqfWZ1bmN0aW9uIGUoYSxiKXt2YXIgZD1hLmNoaWxkcmVuLGc9MDtpZihkJiYoaT1kLmxlbmd0aCkpe3ZhciBoPS0xLGksaj1iKzE7d2hpbGUoKytoPGkpZys9ZShkW2hdLGopfWVsc2UgYyYmKGc9K2MuY2FsbChmLGVqP2E6YS5kYXRhLGIpfHwwKTtyZXR1cm4gYyYmKGEudmFsdWU9ZyksZ31mdW5jdGlvbiBmKGEpe3ZhciBiPVtdO3JldHVybiBkKGEsMCxiKSxifXZhciBhPWVoLGI9ZWYsYz1lZztyZXR1cm4gZi5zb3J0PWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPWIsZik6YX0sZi5jaGlsZHJlbj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1hLGYpOmJ9LGYudmFsdWU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YSxmKTpjfSxmLnJldmFsdWU9ZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSwwKSxhfSxmfTt2YXIgZWo9ITE7ZDMubGF5b3V0LnBhY2s9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGMsZCl7dmFyIGU9YS5jYWxsKHRoaXMsYyxkKSxmPWVbMF07Zi54PTAsZi55PTAsZXIoZik7dmFyIGc9YlswXSxoPWJbMV0saT0xL01hdGgubWF4KDIqZi5yL2csMipmLnIvaCk7cmV0dXJuIGVzKGYsZy8yLGgvMixpKSxlfXZhciBhPWQzLmxheW91dC5oaWVyYXJjaHkoKS5zb3J0KGVrKSxiPVsxLDFdO3JldHVybiBjLnNpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9YSxjKTpifSxlZShjLGEpfSxkMy5sYXlvdXQuY2x1c3Rlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGQoZCxlKXt2YXIgZj1hLmNhbGwodGhpcyxkLGUpLGc9ZlswXSxoLGk9MCxqLGs7ZUYoZyxmdW5jdGlvbihhKXt2YXIgYz1hLmNoaWxkcmVuO2MmJmMubGVuZ3RoPyhhLng9ZXYoYyksYS55PWV1KGMpKTooYS54PWg/aSs9YihhLGgpOjAsYS55PTAsaD1hKX0pO3ZhciBsPWV3KGcpLG09ZXgoZyksbj1sLngtYihsLG0pLzIsbz1tLngrYihtLGwpLzI7cmV0dXJuIGVGKGcsZnVuY3Rpb24oYSl7YS54PShhLngtbikvKG8tbikqY1swXSxhLnk9KDEtKGcueT9hLnkvZy55OjEpKSpjWzFdfSksZn12YXIgYT1kMy5sYXlvdXQuaGllcmFyY2h5KCkuc29ydChudWxsKS52YWx1ZShudWxsKSxiPWV5LGM9WzEsMV07cmV0dXJuIGQuc2VwYXJhdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1hLGQpOmJ9LGQuc2l6ZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1hLGQpOmN9LGVlKGQsYSl9LGQzLmxheW91dC50cmVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChkLGUpe2Z1bmN0aW9uIGgoYSxjKXt2YXIgZD1hLmNoaWxkcmVuLGU9YS5fdHJlZTtpZihkJiYoZj1kLmxlbmd0aCkpe3ZhciBmLGc9ZFswXSxpLGs9ZyxsLG09LTE7d2hpbGUoKyttPGYpbD1kW21dLGgobCxpKSxrPWoobCxpLGspLGk9bDtlRyhhKTt2YXIgbj0uNSooZy5fdHJlZS5wcmVsaW0rbC5fdHJlZS5wcmVsaW0pO2M/KGUucHJlbGltPWMuX3RyZWUucHJlbGltK2IoYSxjKSxlLm1vZD1lLnByZWxpbS1uKTplLnByZWxpbT1ufWVsc2UgYyYmKGUucHJlbGltPWMuX3RyZWUucHJlbGltK2IoYSxjKSl9ZnVuY3Rpb24gaShhLGIpe2EueD1hLl90cmVlLnByZWxpbStiO3ZhciBjPWEuY2hpbGRyZW47aWYoYyYmKGU9Yy5sZW5ndGgpKXt2YXIgZD0tMSxlO2IrPWEuX3RyZWUubW9kO3doaWxlKCsrZDxlKWkoY1tkXSxiKX19ZnVuY3Rpb24gaihhLGMsZCl7aWYoYyl7dmFyIGU9YSxmPWEsZz1jLGg9YS5wYXJlbnQuY2hpbGRyZW5bMF0saT1lLl90cmVlLm1vZCxqPWYuX3RyZWUubW9kLGs9Zy5fdHJlZS5tb2QsbD1oLl90cmVlLm1vZCxtO3doaWxlKGc9ZUEoZyksZT1leihlKSxnJiZlKWg9ZXooaCksZj1lQShmKSxmLl90cmVlLmFuY2VzdG9yPWEsbT1nLl90cmVlLnByZWxpbStrLWUuX3RyZWUucHJlbGltLWkrYihnLGUpLG0+MCYmKGVIKGVJKGcsYSxkKSxhLG0pLGkrPW0sais9bSksays9Zy5fdHJlZS5tb2QsaSs9ZS5fdHJlZS5tb2QsbCs9aC5fdHJlZS5tb2Qsais9Zi5fdHJlZS5tb2Q7ZyYmIWVBKGYpJiYoZi5fdHJlZS50aHJlYWQ9ZyxmLl90cmVlLm1vZCs9ay1qKSxlJiYhZXooaCkmJihoLl90cmVlLnRocmVhZD1lLGguX3RyZWUubW9kKz1pLWwsZD1hKX1yZXR1cm4gZH12YXIgZj1hLmNhbGwodGhpcyxkLGUpLGc9ZlswXTtlRihnLGZ1bmN0aW9uKGEsYil7YS5fdHJlZT17YW5jZXN0b3I6YSxwcmVsaW06MCxtb2Q6MCxjaGFuZ2U6MCxzaGlmdDowLG51bWJlcjpiP2IuX3RyZWUubnVtYmVyKzE6MH19KSxoKGcpLGkoZywtZy5fdHJlZS5wcmVsaW0pO3ZhciBrPWVCKGcsZUQpLGw9ZUIoZyxlQyksbT1lQihnLGVFKSxuPWsueC1iKGssbCkvMixvPWwueCtiKGwsaykvMixwPW0uZGVwdGh8fDE7cmV0dXJuIGVGKGcsZnVuY3Rpb24oYSl7YS54PShhLngtbikvKG8tbikqY1swXSxhLnk9YS5kZXB0aC9wKmNbMV0sZGVsZXRlIGEuX3RyZWV9KSxmfXZhciBhPWQzLmxheW91dC5oaWVyYXJjaHkoKS5zb3J0KG51bGwpLnZhbHVlKG51bGwpLGI9ZXksYz1bMSwxXTtyZXR1cm4gZC5zZXBhcmF0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWEsZCk6Yn0sZC5zaXplPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPWEsZCk6Y30sZWUoZCxhKX0sZDMubGF5b3V0LnRyZWVtYXA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGEsYil7dmFyIGM9LTEsZD1hLmxlbmd0aCxlLGY7d2hpbGUoKytjPGQpZj0oZT1hW2NdKS52YWx1ZSooYjwwPzA6YiksZS5hcmVhPWlzTmFOKGYpfHxmPD0wPzA6Zn1mdW5jdGlvbiBqKGEpe3ZhciBiPWEuY2hpbGRyZW47aWYoYiYmYi5sZW5ndGgpe3ZhciBjPWUoYSksZD1bXSxmPWIuc2xpY2UoKSxnLGg9SW5maW5pdHksayxuPU1hdGgubWluKGMuZHgsYy5keSksbztpKGYsYy5keCpjLmR5L2EudmFsdWUpLGQuYXJlYT0wO3doaWxlKChvPWYubGVuZ3RoKT4wKWQucHVzaChnPWZbby0xXSksZC5hcmVhKz1nLmFyZWEsKGs9bChkLG4pKTw9aD8oZi5wb3AoKSxoPWspOihkLmFyZWEtPWQucG9wKCkuYXJlYSxtKGQsbixjLCExKSxuPU1hdGgubWluKGMuZHgsYy5keSksZC5sZW5ndGg9ZC5hcmVhPTAsaD1JbmZpbml0eSk7ZC5sZW5ndGgmJihtKGQsbixjLCEwKSxkLmxlbmd0aD1kLmFyZWE9MCksYi5mb3JFYWNoKGopfX1mdW5jdGlvbiBrKGEpe3ZhciBiPWEuY2hpbGRyZW47aWYoYiYmYi5sZW5ndGgpe3ZhciBjPWUoYSksZD1iLnNsaWNlKCksZixnPVtdO2koZCxjLmR4KmMuZHkvYS52YWx1ZSksZy5hcmVhPTA7d2hpbGUoZj1kLnBvcCgpKWcucHVzaChmKSxnLmFyZWErPWYuYXJlYSxmLnohPW51bGwmJihtKGcsZi56P2MuZHg6Yy5keSxjLCFkLmxlbmd0aCksZy5sZW5ndGg9Zy5hcmVhPTApO2IuZm9yRWFjaChrKX19ZnVuY3Rpb24gbChhLGIpe3ZhciBjPWEuYXJlYSxkLGU9MCxmPUluZmluaXR5LGc9LTEsaT1hLmxlbmd0aDt3aGlsZSgrK2c8aSl7aWYoIShkPWFbZ10uYXJlYSkpY29udGludWU7ZDxmJiYoZj1kKSxkPmUmJihlPWQpfXJldHVybiBjKj1jLGIqPWIsYz9NYXRoLm1heChiKmUqaC9jLGMvKGIqZipoKSk6SW5maW5pdHl9ZnVuY3Rpb24gbShhLGMsZCxlKXt2YXIgZj0tMSxnPWEubGVuZ3RoLGg9ZC54LGk9ZC55LGo9Yz9iKGEuYXJlYS9jKTowLGs7aWYoYz09ZC5keCl7aWYoZXx8aj5kLmR5KWo9ZC5keTt3aGlsZSgrK2Y8ZylrPWFbZl0say54PWgsay55PWksay5keT1qLGgrPWsuZHg9TWF0aC5taW4oZC54K2QuZHgtaCxqP2Ioay5hcmVhL2opOjApO2suej0hMCxrLmR4Kz1kLngrZC5keC1oLGQueSs9aixkLmR5LT1qfWVsc2V7aWYoZXx8aj5kLmR4KWo9ZC5keDt3aGlsZSgrK2Y8ZylrPWFbZl0say54PWgsay55PWksay5keD1qLGkrPWsuZHk9TWF0aC5taW4oZC55K2QuZHktaSxqP2Ioay5hcmVhL2opOjApO2suej0hMSxrLmR5Kz1kLnkrZC5keS1pLGQueCs9aixkLmR4LT1qfX1mdW5jdGlvbiBuKGIpe3ZhciBkPWd8fGEoYiksZT1kWzBdO3JldHVybiBlLng9MCxlLnk9MCxlLmR4PWNbMF0sZS5keT1jWzFdLGcmJmEucmV2YWx1ZShlKSxpKFtlXSxlLmR4KmUuZHkvZS52YWx1ZSksKGc/azpqKShlKSxmJiYoZz1kKSxkfXZhciBhPWQzLmxheW91dC5oaWVyYXJjaHkoKSxiPU1hdGgucm91bmQsYz1bMSwxXSxkPW51bGwsZT1lSixmPSExLGcsaD0uNSooMStNYXRoLnNxcnQoNSkpO3JldHVybiBuLnNpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YSxuKTpjfSxuLnBhZGRpbmc9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXt2YXIgYz1hLmNhbGwobixiLGIuZGVwdGgpO3JldHVybiBjPT1udWxsP2VKKGIpOmVLKGIsdHlwZW9mIGM9PVwibnVtYmVyXCI/W2MsYyxjLGNdOmMpfWZ1bmN0aW9uIGMoYil7cmV0dXJuIGVLKGIsYSl9aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGQ7dmFyIGY7cmV0dXJuIGU9KGQ9YSk9PW51bGw/ZUo6KGY9dHlwZW9mIGEpPT09XCJmdW5jdGlvblwiP2I6Zj09PVwibnVtYmVyXCI/KGE9W2EsYSxhLGFdLGMpOmMsbn0sbi5yb3VuZD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1hP01hdGgucm91bmQ6TnVtYmVyLG4pOmIhPU51bWJlcn0sbi5zdGlja3k9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9YSxnPW51bGwsbik6Zn0sbi5yYXRpbz1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaD1hLG4pOmh9LGVlKG4sYSl9LGQzLmNzdj1mdW5jdGlvbihhLGIpe2QzLnRleHQoYSxcInRleHQvY3N2XCIsZnVuY3Rpb24oYSl7YihhJiZkMy5jc3YucGFyc2UoYSkpfSl9LGQzLmNzdi5wYXJzZT1mdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gZDMuY3N2LnBhcnNlUm93cyhhLGZ1bmN0aW9uKGEsYyl7aWYoYyl7dmFyIGQ9e30sZT0tMSxmPWIubGVuZ3RoO3doaWxlKCsrZTxmKWRbYltlXV09YVtlXTtyZXR1cm4gZH1yZXR1cm4gYj1hLG51bGx9KX0sZDMuY3N2LnBhcnNlUm93cz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGooKXtpZihmLmxhc3RJbmRleD49YS5sZW5ndGgpcmV0dXJuIGQ7aWYoaSlyZXR1cm4gaT0hMSxjO3ZhciBiPWYubGFzdEluZGV4O2lmKGEuY2hhckNvZGVBdChiKT09PTM0KXt2YXIgZT1iO3doaWxlKGUrKzxhLmxlbmd0aClpZihhLmNoYXJDb2RlQXQoZSk9PT0zNCl7aWYoYS5jaGFyQ29kZUF0KGUrMSkhPT0zNClicmVhaztlKyt9Zi5sYXN0SW5kZXg9ZSsyO3ZhciBnPWEuY2hhckNvZGVBdChlKzEpO3JldHVybiBnPT09MTM/KGk9ITAsYS5jaGFyQ29kZUF0KGUrMik9PT0xMCYmZi5sYXN0SW5kZXgrKyk6Zz09PTEwJiYoaT0hMCksYS5zdWJzdHJpbmcoYisxLGUpLnJlcGxhY2UoL1wiXCIvZywnXCInKX12YXIgaD1mLmV4ZWMoYSk7cmV0dXJuIGg/KGk9aFswXS5jaGFyQ29kZUF0KDApIT09NDQsYS5zdWJzdHJpbmcoYixoLmluZGV4KSk6KGYubGFzdEluZGV4PWEubGVuZ3RoLGEuc3Vic3RyaW5nKGIpKX12YXIgYz17fSxkPXt9LGU9W10sZj0vXFxyXFxufFssXFxyXFxuXS9nLGc9MCxoLGk7Zi5sYXN0SW5kZXg9MDt3aGlsZSgoaD1qKCkpIT09ZCl7dmFyIGs9W107d2hpbGUoaCE9PWMmJmghPT1kKWsucHVzaChoKSxoPWooKTtpZihiJiYhKGs9YihrLGcrKykpKWNvbnRpbnVlO2UucHVzaChrKX1yZXR1cm4gZX0sZDMuY3N2LmZvcm1hdD1mdW5jdGlvbihhKXtyZXR1cm4gYS5tYXAoZUwpLmpvaW4oXCJcXG5cIil9LGQzLmdlbz17fTt2YXIgZU49TWF0aC5QSS8xODA7ZDMuZ2VvLmF6aW11dGhhbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoYil7dmFyIGY9YlswXSplTi1lLGk9YlsxXSplTixqPU1hdGguY29zKGYpLGs9TWF0aC5zaW4oZiksbD1NYXRoLmNvcyhpKSxtPU1hdGguc2luKGkpLG49YSE9PVwib3J0aG9ncmFwaGljXCI/aCptK2cqbCpqOm51bGwsbyxwPWE9PT1cInN0ZXJlb2dyYXBoaWNcIj8xLygxK24pOmE9PT1cImdub21vbmljXCI/MS9uOmE9PT1cImVxdWlkaXN0YW50XCI/KG89TWF0aC5hY29zKG4pLG8/by9NYXRoLnNpbihvKTowKTphPT09XCJlcXVhbGFyZWFcIj9NYXRoLnNxcnQoMi8oMStuKSk6MSxxPXAqbCprLHI9cCooaCpsKmotZyptKTtyZXR1cm5bYypxK2RbMF0sYypyK2RbMV1dfXZhciBhPVwib3J0aG9ncmFwaGljXCIsYixjPTIwMCxkPVs0ODAsMjUwXSxlLGYsZyxoO3JldHVybiBpLmludmVydD1mdW5jdGlvbihiKXt2YXIgZj0oYlswXS1kWzBdKS9jLGk9KGJbMV0tZFsxXSkvYyxqPU1hdGguc3FydChmKmYraSppKSxrPWE9PT1cInN0ZXJlb2dyYXBoaWNcIj8yKk1hdGguYXRhbihqKTphPT09XCJnbm9tb25pY1wiP01hdGguYXRhbihqKTphPT09XCJlcXVpZGlzdGFudFwiP2o6YT09PVwiZXF1YWxhcmVhXCI/MipNYXRoLmFzaW4oLjUqaik6TWF0aC5hc2luKGopLGw9TWF0aC5zaW4oayksbT1NYXRoLmNvcyhrKTtyZXR1cm5bKGUrTWF0aC5hdGFuMihmKmwsaipnKm0raSpoKmwpKS9lTixNYXRoLmFzaW4obSpoLShqP2kqbCpnL2o6MCkpL2VOXX0saS5tb2RlPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPWIrXCJcIixpKTphfSxpLm9yaWdpbj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1hLGU9YlswXSplTixmPWJbMV0qZU4sZz1NYXRoLmNvcyhmKSxoPU1hdGguc2luKGYpLGkpOmJ9LGkuc2NhbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9K2EsaSk6Y30saS50cmFuc2xhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9WythWzBdLCthWzFdXSxpKTpkfSxpLm9yaWdpbihbMCwwXSl9LGQzLmdlby5hbGJlcnM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGEpe3ZhciBiPWYqKGVOKmFbMF0tZSksaT1NYXRoLnNxcnQoZy0yKmYqTWF0aC5zaW4oZU4qYVsxXSkpL2Y7cmV0dXJuW2MqaSpNYXRoLnNpbihiKStkWzBdLGMqKGkqTWF0aC5jb3MoYiktaCkrZFsxXV19ZnVuY3Rpb24gaigpe3ZhciBjPWVOKmJbMF0sZD1lTipiWzFdLGo9ZU4qYVsxXSxrPU1hdGguc2luKGMpLGw9TWF0aC5jb3MoYyk7cmV0dXJuIGU9ZU4qYVswXSxmPS41KihrK01hdGguc2luKGQpKSxnPWwqbCsyKmYqayxoPU1hdGguc3FydChnLTIqZipNYXRoLnNpbihqKSkvZixpfXZhciBhPVstOTgsMzhdLGI9WzI5LjUsNDUuNV0sYz0xZTMsZD1bNDgwLDI1MF0sZSxmLGcsaDtyZXR1cm4gaS5pbnZlcnQ9ZnVuY3Rpb24oYSl7dmFyIGI9KGFbMF0tZFswXSkvYyxpPShhWzFdLWRbMV0pL2Msaj1oK2ksaz1NYXRoLmF0YW4yKGIsaiksbD1NYXRoLnNxcnQoYipiK2oqaik7cmV0dXJuWyhlK2svZikvZU4sTWF0aC5hc2luKChnLWwqbCpmKmYpLygyKmYpKS9lTl19LGkub3JpZ2luPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPVsrYlswXSwrYlsxXV0saigpKTphfSxpLnBhcmFsbGVscz1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1bK2FbMF0sK2FbMV1dLGooKSk6Yn0saS5zY2FsZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz0rYSxpKTpjfSxpLnRyYW5zbGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD1bK2FbMF0sK2FbMV1dLGkpOmR9LGooKX0sZDMuZ2VvLmFsYmVyc1VzYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIGY9ZVswXSxnPWVbMV07cmV0dXJuKGc+NTA/YjpmPC0xNDA/YzpnPDIxP2Q6YSkoZSl9dmFyIGE9ZDMuZ2VvLmFsYmVycygpLGI9ZDMuZ2VvLmFsYmVycygpLm9yaWdpbihbLTE2MCw2MF0pLnBhcmFsbGVscyhbNTUsNjVdKSxjPWQzLmdlby5hbGJlcnMoKS5vcmlnaW4oWy0xNjAsMjBdKS5wYXJhbGxlbHMoWzgsMThdKSxkPWQzLmdlby5hbGJlcnMoKS5vcmlnaW4oWy02MCwxMF0pLnBhcmFsbGVscyhbOCwxOF0pO3JldHVybiBlLnNjYWxlPWZ1bmN0aW9uKGYpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhLnNjYWxlKGYpLGIuc2NhbGUoZiouNiksYy5zY2FsZShmKSxkLnNjYWxlKGYqMS41KSxlLnRyYW5zbGF0ZShhLnRyYW5zbGF0ZSgpKSk6YS5zY2FsZSgpfSxlLnRyYW5zbGF0ZT1mdW5jdGlvbihmKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYS50cmFuc2xhdGUoKTt2YXIgZz1hLnNjYWxlKCkvMWUzLGg9ZlswXSxpPWZbMV07cmV0dXJuIGEudHJhbnNsYXRlKGYpLGIudHJhbnNsYXRlKFtoLTQwMCpnLGkrMTcwKmddKSxjLnRyYW5zbGF0ZShbaC0xOTAqZyxpKzIwMCpnXSksZC50cmFuc2xhdGUoW2grNTgwKmcsaSs0MzAqZ10pLGV9LGUuc2NhbGUoYS5zY2FsZSgpKX0sZDMuZ2VvLmJvbm5lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZyhnKXt2YXIgaD1nWzBdKmVOLWMsaT1nWzFdKmVOLWQ7aWYoZSl7dmFyIGo9ZitlLWksaz1oKk1hdGguY29zKGkpL2o7aD1qKk1hdGguc2luKGspLGk9aipNYXRoLmNvcyhrKS1mfWVsc2UgaCo9TWF0aC5jb3MoaSksaSo9LTE7cmV0dXJuW2EqaCtiWzBdLGEqaStiWzFdXX12YXIgYT0yMDAsYj1bNDgwLDI1MF0sYyxkLGUsZjtyZXR1cm4gZy5pbnZlcnQ9ZnVuY3Rpb24oZCl7dmFyIGc9KGRbMF0tYlswXSkvYSxoPShkWzFdLWJbMV0pL2E7aWYoZSl7dmFyIGk9ZitoLGo9TWF0aC5zcXJ0KGcqZytpKmkpO2g9ZitlLWosZz1jK2oqTWF0aC5hdGFuMihnLGkpL01hdGguY29zKGgpfWVsc2UgaCo9LTEsZy89TWF0aC5jb3MoaCk7cmV0dXJuW2cvZU4saC9lTl19LGcucGFyYWxsZWw9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9MS9NYXRoLnRhbihlPWEqZU4pLGcpOmUvZU59LGcub3JpZ2luPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPWFbMF0qZU4sZD1hWzFdKmVOLGcpOltjL2VOLGQvZU5dfSxnLnNjYWxlPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPStiLGcpOmF9LGcudHJhbnNsYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPVsrYVswXSwrYVsxXV0sZyk6Yn0sZy5vcmlnaW4oWzAsMF0pLnBhcmFsbGVsKDQ1KX0sZDMuZ2VvLmVxdWlyZWN0YW5ndWxhcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoYyl7dmFyIGQ9Y1swXS8zNjAsZT0tY1sxXS8zNjA7cmV0dXJuW2EqZCtiWzBdLGEqZStiWzFdXX12YXIgYT01MDAsYj1bNDgwLDI1MF07cmV0dXJuIGMuaW52ZXJ0PWZ1bmN0aW9uKGMpe3ZhciBkPShjWzBdLWJbMF0pL2EsZT0oY1sxXS1iWzFdKS9hO3JldHVyblszNjAqZCwtMzYwKmVdfSxjLnNjYWxlPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPStiLGMpOmF9LGMudHJhbnNsYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPVsrYVswXSwrYVsxXV0sYyk6Yn0sY30sZDMuZ2VvLm1lcmNhdG9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhjKXt2YXIgZD1jWzBdLzM2MCxlPS0oTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K2NbMV0qZU4vMikpL2VOKS8zNjA7cmV0dXJuW2EqZCtiWzBdLGEqTWF0aC5tYXgoLTAuNSxNYXRoLm1pbiguNSxlKSkrYlsxXV19dmFyIGE9NTAwLGI9WzQ4MCwyNTBdO3JldHVybiBjLmludmVydD1mdW5jdGlvbihjKXt2YXIgZD0oY1swXS1iWzBdKS9hLGU9KGNbMV0tYlsxXSkvYTtyZXR1cm5bMzYwKmQsMipNYXRoLmF0YW4oTWF0aC5leHAoLTM2MCplKmVOKSkvZU4tOTBdfSxjLnNjYWxlPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPStiLGMpOmF9LGMudHJhbnNsYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPVsrYVswXSwrYVsxXV0sYyk6Yn0sY30sZDMuZ2VvLnBhdGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGMsZSl7dHlwZW9mIGE9PVwiZnVuY3Rpb25cIiYmKGI9ZVAoYS5hcHBseSh0aGlzLGFyZ3VtZW50cykpKSxnKGMpO3ZhciBmPWQubGVuZ3RoP2Quam9pbihcIlwiKTpudWxsO3JldHVybiBkPVtdLGZ9ZnVuY3Rpb24gZihhKXtyZXR1cm4gYyhhKS5qb2luKFwiLFwiKX1mdW5jdGlvbiBpKGEpe3ZhciBiPWwoYVswXSksYz0wLGQ9YS5sZW5ndGg7d2hpbGUoKytjPGQpYi09bChhW2NdKTtyZXR1cm4gYn1mdW5jdGlvbiBqKGEpe3ZhciBiPWQzLmdlb20ucG9seWdvbihhWzBdLm1hcChjKSksZD1iLmFyZWEoKSxlPWIuY2VudHJvaWQoZDwwPyhkKj0tMSwxKTotMSksZj1lWzBdLGc9ZVsxXSxoPWQsaT0wLGo9YS5sZW5ndGg7d2hpbGUoKytpPGopYj1kMy5nZW9tLnBvbHlnb24oYVtpXS5tYXAoYykpLGQ9Yi5hcmVhKCksZT1iLmNlbnRyb2lkKGQ8MD8oZCo9LTEsMSk6LTEpLGYtPWVbMF0sZy09ZVsxXSxoLT1kO3JldHVybltmLGcsNipoXX1mdW5jdGlvbiBsKGEpe3JldHVybiBNYXRoLmFicyhkMy5nZW9tLnBvbHlnb24oYS5tYXAoYykpLmFyZWEoKSl9dmFyIGE9NC41LGI9ZVAoYSksYz1kMy5nZW8uYWxiZXJzVXNhKCksZD1bXSxnPWVPKHtGZWF0dXJlQ29sbGVjdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1hLmZlYXR1cmVzLGM9LTEsZT1iLmxlbmd0aDt3aGlsZSgrK2M8ZSlkLnB1c2goZyhiW2NdLmdlb21ldHJ5KSl9LEZlYXR1cmU6ZnVuY3Rpb24oYSl7ZyhhLmdlb21ldHJ5KX0sUG9pbnQ6ZnVuY3Rpb24oYSl7ZC5wdXNoKFwiTVwiLGYoYS5jb29yZGluYXRlcyksYil9LE11bHRpUG9pbnQ6ZnVuY3Rpb24oYSl7dmFyIGM9YS5jb29yZGluYXRlcyxlPS0xLGc9Yy5sZW5ndGg7d2hpbGUoKytlPGcpZC5wdXNoKFwiTVwiLGYoY1tlXSksYil9LExpbmVTdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jb29yZGluYXRlcyxjPS0xLGU9Yi5sZW5ndGg7ZC5wdXNoKFwiTVwiKTt3aGlsZSgrK2M8ZSlkLnB1c2goZihiW2NdKSxcIkxcIik7ZC5wb3AoKX0sTXVsdGlMaW5lU3RyaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY29vcmRpbmF0ZXMsYz0tMSxlPWIubGVuZ3RoLGcsaCxpO3doaWxlKCsrYzxlKXtnPWJbY10saD0tMSxpPWcubGVuZ3RoLGQucHVzaChcIk1cIik7d2hpbGUoKytoPGkpZC5wdXNoKGYoZ1toXSksXCJMXCIpO2QucG9wKCl9fSxQb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY29vcmRpbmF0ZXMsYz0tMSxlPWIubGVuZ3RoLGcsaCxpO3doaWxlKCsrYzxlKXtnPWJbY10saD0tMTtpZigoaT1nLmxlbmd0aC0xKT4wKXtkLnB1c2goXCJNXCIpO3doaWxlKCsraDxpKWQucHVzaChmKGdbaF0pLFwiTFwiKTtkW2QubGVuZ3RoLTFdPVwiWlwifX19LE11bHRpUG9seWdvbjpmdW5jdGlvbihhKXt2YXIgYj1hLmNvb3JkaW5hdGVzLGM9LTEsZT1iLmxlbmd0aCxnLGgsaSxqLGssbDt3aGlsZSgrK2M8ZSl7Zz1iW2NdLGg9LTEsaT1nLmxlbmd0aDt3aGlsZSgrK2g8aSl7aj1nW2hdLGs9LTE7aWYoKGw9ai5sZW5ndGgtMSk+MCl7ZC5wdXNoKFwiTVwiKTt3aGlsZSgrK2s8bClkLnB1c2goZihqW2tdKSxcIkxcIik7ZFtkLmxlbmd0aC0xXT1cIlpcIn19fX0sR2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2VvbWV0cmllcyxjPS0xLGU9Yi5sZW5ndGg7d2hpbGUoKytjPGUpZC5wdXNoKGcoYltjXSkpfX0pLGg9ZS5hcmVhPWVPKHtGZWF0dXJlQ29sbGVjdGlvbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9YS5mZWF0dXJlcyxkPS0xLGU9Yy5sZW5ndGg7d2hpbGUoKytkPGUpYis9aChjW2RdKTtyZXR1cm4gYn0sRmVhdHVyZTpmdW5jdGlvbihhKXtyZXR1cm4gaChhLmdlb21ldHJ5KX0sUG9seWdvbjpmdW5jdGlvbihhKXtyZXR1cm4gaShhLmNvb3JkaW5hdGVzKX0sTXVsdGlQb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1hLmNvb3JkaW5hdGVzLGQ9LTEsZT1jLmxlbmd0aDt3aGlsZSgrK2Q8ZSliKz1pKGNbZF0pO3JldHVybiBifSxHZW9tZXRyeUNvbGxlY3Rpb246ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPWEuZ2VvbWV0cmllcyxkPS0xLGU9Yy5sZW5ndGg7d2hpbGUoKytkPGUpYis9aChjW2RdKTtyZXR1cm4gYn19LDApLGs9ZS5jZW50cm9pZD1lTyh7RmVhdHVyZTpmdW5jdGlvbihhKXtyZXR1cm4gayhhLmdlb21ldHJ5KX0sUG9seWdvbjpmdW5jdGlvbihhKXt2YXIgYj1qKGEuY29vcmRpbmF0ZXMpO3JldHVybltiWzBdL2JbMl0sYlsxXS9iWzJdXX0sTXVsdGlQb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1hLmNvb3JkaW5hdGVzLGQsZT0wLGY9MCxnPTAsaD0tMSxpPWMubGVuZ3RoO3doaWxlKCsraDxpKWQ9aihjW2hdKSxlKz1kWzBdLGYrPWRbMV0sZys9ZFsyXTtyZXR1cm5bZS9nLGYvZ119fSk7cmV0dXJuIGUucHJvamVjdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gYz1hLGV9LGUucG9pbnRSYWRpdXM9ZnVuY3Rpb24oYyl7cmV0dXJuIHR5cGVvZiBjPT1cImZ1bmN0aW9uXCI/YT1jOihhPStjLGI9ZVAoYSkpLGV9LGV9LGQzLmdlby5ib3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9SW5maW5pdHksYz1JbmZpbml0eSxkPS1JbmZpbml0eSxlPS1JbmZpbml0eTtyZXR1cm4gZVEoYSxmdW5jdGlvbihhLGYpe2E8YiYmKGI9YSksYT5kJiYoZD1hKSxmPGMmJihjPWYpLGY+ZSYmKGU9Zil9KSxbW2IsY10sW2QsZV1dfTt2YXIgZVI9e0ZlYXR1cmU6ZVMsRmVhdHVyZUNvbGxlY3Rpb246ZVQsR2VvbWV0cnlDb2xsZWN0aW9uOmVVLExpbmVTdHJpbmc6ZVYsTXVsdGlMaW5lU3RyaW5nOmVXLE11bHRpUG9pbnQ6ZVYsTXVsdGlQb2x5Z29uOmVYLFBvaW50OmVZLFBvbHlnb246ZVp9O2QzLmdlby5jaXJjbGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGQuZGlzdGFuY2UoYSk8Y31mdW5jdGlvbiBoKGEpe3ZhciBiPS0xLGU9YS5sZW5ndGgsZj1bXSxnLGgsaixrLGw7d2hpbGUoKytiPGUpbD1kLmRpc3RhbmNlKGo9YVtiXSksbDxjPyhoJiZmLnB1c2goZmIoaCxqKSgoay1jKS8oay1sKSkpLGYucHVzaChqKSxnPWg9bnVsbCk6KGg9aiwhZyYmZi5sZW5ndGgmJihmLnB1c2goZmIoZltmLmxlbmd0aC0xXSxoKSgoYy1rKS8obC1rKSkpLGc9aCkpLGs9bDtyZXR1cm4gZz1hWzBdLGg9ZlswXSxoJiZqWzBdPT09Z1swXSYmalsxXT09PWdbMV0mJihqWzBdIT09aFswXXx8alsxXSE9PWhbMV0pJiZmLnB1c2goaCksaShmKX1mdW5jdGlvbiBpKGEpe3ZhciBiPTAsYz1hLmxlbmd0aCxlLGYsZz1jP1thWzBdXTphLGgsaT1kLnNvdXJjZSgpO3doaWxlKCsrYjxjKXtoPWQuc291cmNlKGFbYi0xXSkoYVtiXSkuY29vcmRpbmF0ZXM7Zm9yKGU9MCxmPWgubGVuZ3RoOysrZTxmOylnLnB1c2goaFtlXSl9cmV0dXJuIGQuc291cmNlKGkpLGd9dmFyIGE9WzAsMF0sYj04OS45OSxjPWIqZU4sZD1kMy5nZW8uZ3JlYXRBcmMoKS5zb3VyY2UoYSkudGFyZ2V0KG0pO2UuY2xpcD1mdW5jdGlvbihiKXtyZXR1cm4gdHlwZW9mIGE9PVwiZnVuY3Rpb25cIiYmZC5zb3VyY2UoYS5hcHBseSh0aGlzLGFyZ3VtZW50cykpLGcoYil8fG51bGx9O3ZhciBnPWVPKHtGZWF0dXJlQ29sbGVjdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1hLmZlYXR1cmVzLm1hcChnKVxuLmZpbHRlcihtKTtyZXR1cm4gYiYmKGE9T2JqZWN0LmNyZWF0ZShhKSxhLmZlYXR1cmVzPWIsYSl9LEZlYXR1cmU6ZnVuY3Rpb24oYSl7dmFyIGI9ZyhhLmdlb21ldHJ5KTtyZXR1cm4gYiYmKGE9T2JqZWN0LmNyZWF0ZShhKSxhLmdlb21ldHJ5PWIsYSl9LFBvaW50OmZ1bmN0aW9uKGEpe3JldHVybiBmKGEuY29vcmRpbmF0ZXMpJiZhfSxNdWx0aVBvaW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEuY29vcmRpbmF0ZXMuZmlsdGVyKGYpO3JldHVybiBiLmxlbmd0aCYme3R5cGU6YS50eXBlLGNvb3JkaW5hdGVzOmJ9fSxMaW5lU3RyaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPWgoYS5jb29yZGluYXRlcyk7cmV0dXJuIGIubGVuZ3RoJiYoYT1PYmplY3QuY3JlYXRlKGEpLGEuY29vcmRpbmF0ZXM9YixhKX0sTXVsdGlMaW5lU3RyaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY29vcmRpbmF0ZXMubWFwKGgpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGh9KTtyZXR1cm4gYi5sZW5ndGgmJihhPU9iamVjdC5jcmVhdGUoYSksYS5jb29yZGluYXRlcz1iLGEpfSxQb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY29vcmRpbmF0ZXMubWFwKGgpO3JldHVybiBiWzBdLmxlbmd0aCYmKGE9T2JqZWN0LmNyZWF0ZShhKSxhLmNvb3JkaW5hdGVzPWIsYSl9LE11bHRpUG9seWdvbjpmdW5jdGlvbihhKXt2YXIgYj1hLmNvb3JkaW5hdGVzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5tYXAoaCl9KS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGFbMF0ubGVuZ3RofSk7cmV0dXJuIGIubGVuZ3RoJiYoYT1PYmplY3QuY3JlYXRlKGEpLGEuY29vcmRpbmF0ZXM9YixhKX0sR2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2VvbWV0cmllcy5tYXAoZykuZmlsdGVyKG0pO3JldHVybiBiLmxlbmd0aCYmKGE9T2JqZWN0LmNyZWF0ZShhKSxhLmdlb21ldHJpZXM9YixhKX19KTtyZXR1cm4gZS5vcmlnaW49ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9Yix0eXBlb2YgYSE9XCJmdW5jdGlvblwiJiZkLnNvdXJjZShhKSxlKTphfSxlLmFuZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPShiPSthKSplTixlKTpifSxkMy5yZWJpbmQoZSxkLFwicHJlY2lzaW9uXCIpfSxkMy5nZW8uZ3JlYXRBcmM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBnKCl7dmFyIGE9Zy5kaXN0YW5jZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksYz0wLGg9ZS9hLGk9W2JdO3doaWxlKChjKz1oKTwxKWkucHVzaChmKGMpKTtyZXR1cm4gaS5wdXNoKGQpLHt0eXBlOlwiTGluZVN0cmluZ1wiLGNvb3JkaW5hdGVzOml9fXZhciBhPWUkLGIsYz1lXyxkLGU9NiplTixmPWZhKCk7cmV0dXJuIGcuZGlzdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdHlwZW9mIGE9PVwiZnVuY3Rpb25cIiYmZi5zb3VyY2UoYj1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKSksdHlwZW9mIGM9PVwiZnVuY3Rpb25cIiYmZi50YXJnZXQoZD1jLmFwcGx5KHRoaXMsYXJndW1lbnRzKSksZi5kaXN0YW5jZSgpfSxnLnNvdXJjZT1mdW5jdGlvbihjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT1jLHR5cGVvZiBhIT1cImZ1bmN0aW9uXCImJmYuc291cmNlKGI9YSksZyk6YX0sZy50YXJnZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YSx0eXBlb2YgYyE9XCJmdW5jdGlvblwiJiZmLnRhcmdldChkPWMpLGcpOmN9LGcucHJlY2lzaW9uPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPWEqZU4sZyk6ZS9lTn0sZ30sZDMuZ2VvLmdyZWF0Q2lyY2xlPWQzLmdlby5jaXJjbGUsZDMuZ2VvbT17fSxkMy5nZW9tLmNvbnRvdXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxmZShhKSxkPVtdLGU9Y1swXSxmPWNbMV0sZz0wLGg9MCxpPU5hTixqPU5hTixrPTA7ZG8gaz0wLGEoZS0xLGYtMSkmJihrKz0xKSxhKGUsZi0xKSYmKGsrPTIpLGEoZS0xLGYpJiYoays9NCksYShlLGYpJiYoays9OCksaz09PTY/KGc9aj09PS0xPy0xOjEsaD0wKTprPT09OT8oZz0wLGg9aT09PTE/LTE6MSk6KGc9ZmNba10saD1mZFtrXSksZyE9aSYmaCE9aiYmKGQucHVzaChbZSxmXSksaT1nLGo9aCksZSs9ZyxmKz1oO3doaWxlKGNbMF0hPWV8fGNbMV0hPWYpO3JldHVybiBkfTt2YXIgZmM9WzEsMCwxLDEsLTEsMCwtMSwxLDAsMCwwLDAsLTEsMCwtMSxOYU5dLGZkPVswLC0xLDAsMCwwLC0xLDAsMCwxLC0xLDEsMSwwLC0xLDAsTmFOXTtkMy5nZW9tLmh1bGw9ZnVuY3Rpb24oYSl7aWYoYS5sZW5ndGg8MylyZXR1cm5bXTt2YXIgYj1hLmxlbmd0aCxjPWItMSxkPVtdLGU9W10sZixnLGg9MCxpLGosayxsLG0sbixvLHA7Zm9yKGY9MTtmPGI7KytmKWFbZl1bMV08YVtoXVsxXT9oPWY6YVtmXVsxXT09YVtoXVsxXSYmKGg9YVtmXVswXTxhW2hdWzBdP2Y6aCk7Zm9yKGY9MDtmPGI7KytmKXtpZihmPT09aCljb250aW51ZTtqPWFbZl1bMV0tYVtoXVsxXSxpPWFbZl1bMF0tYVtoXVswXSxkLnB1c2goe2FuZ2xlOk1hdGguYXRhbjIoaixpKSxpbmRleDpmfSl9ZC5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYW5nbGUtYi5hbmdsZX0pLG89ZFswXS5hbmdsZSxuPWRbMF0uaW5kZXgsbT0wO2ZvcihmPTE7ZjxjOysrZilnPWRbZl0uaW5kZXgsbz09ZFtmXS5hbmdsZT8oaT1hW25dWzBdLWFbaF1bMF0saj1hW25dWzFdLWFbaF1bMV0saz1hW2ddWzBdLWFbaF1bMF0sbD1hW2ddWzFdLWFbaF1bMV0saSppK2oqaj49ayprK2wqbD9kW2ZdLmluZGV4PS0xOihkW21dLmluZGV4PS0xLG89ZFtmXS5hbmdsZSxtPWYsbj1nKSk6KG89ZFtmXS5hbmdsZSxtPWYsbj1nKTtlLnB1c2goaCk7Zm9yKGY9MCxnPTA7ZjwyOysrZylkW2ddLmluZGV4IT09LTEmJihlLnB1c2goZFtnXS5pbmRleCksZisrKTtwPWUubGVuZ3RoO2Zvcig7ZzxjOysrZyl7aWYoZFtnXS5pbmRleD09PS0xKWNvbnRpbnVlO3doaWxlKCFmZihlW3AtMl0sZVtwLTFdLGRbZ10uaW5kZXgsYSkpLS1wO2VbcCsrXT1kW2ddLmluZGV4fXZhciBxPVtdO2ZvcihmPTA7ZjxwOysrZilxLnB1c2goYVtlW2ZdXSk7cmV0dXJuIHF9LGQzLmdlb20ucG9seWdvbj1mdW5jdGlvbihhKXtyZXR1cm4gYS5hcmVhPWZ1bmN0aW9uKCl7dmFyIGI9MCxjPWEubGVuZ3RoLGQ9YVtjLTFdWzBdKmFbMF1bMV0sZT1hW2MtMV1bMV0qYVswXVswXTt3aGlsZSgrK2I8YylkKz1hW2ItMV1bMF0qYVtiXVsxXSxlKz1hW2ItMV1bMV0qYVtiXVswXTtyZXR1cm4oZS1kKSouNX0sYS5jZW50cm9pZD1mdW5jdGlvbihiKXt2YXIgYz0tMSxkPWEubGVuZ3RoLGU9MCxmPTAsZyxoPWFbZC0xXSxpO2FyZ3VtZW50cy5sZW5ndGh8fChiPS0xLyg2KmEuYXJlYSgpKSk7d2hpbGUoKytjPGQpZz1oLGg9YVtjXSxpPWdbMF0qaFsxXS1oWzBdKmdbMV0sZSs9KGdbMF0raFswXSkqaSxmKz0oZ1sxXStoWzFdKSppO3JldHVybltlKmIsZipiXX0sYS5jbGlwPWZ1bmN0aW9uKGIpe3ZhciBjLGQ9LTEsZT1hLmxlbmd0aCxmLGcsaD1hW2UtMV0saSxqLGs7d2hpbGUoKytkPGUpe2M9Yi5zbGljZSgpLGIubGVuZ3RoPTAsaT1hW2RdLGo9Y1soZz1jLmxlbmd0aCktMV0sZj0tMTt3aGlsZSgrK2Y8ZylrPWNbZl0sZmcoayxoLGkpPyhmZyhqLGgsaSl8fGIucHVzaChmaChqLGssaCxpKSksYi5wdXNoKGspKTpmZyhqLGgsaSkmJmIucHVzaChmaChqLGssaCxpKSksaj1rO2g9aX1yZXR1cm4gYn0sYX0sZDMuZ2VvbS52b3Jvbm9pPWZ1bmN0aW9uKGEpe3ZhciBiPWEubWFwKGZ1bmN0aW9uKCl7cmV0dXJuW119KTtyZXR1cm4gZmooYSxmdW5jdGlvbihhKXt2YXIgYyxkLGUsZixnLGg7YS5hPT09MSYmYS5iPj0wPyhjPWEuZXAucixkPWEuZXAubCk6KGM9YS5lcC5sLGQ9YS5lcC5yKSxhLmE9PT0xPyhnPWM/Yy55Oi0xZTYsZT1hLmMtYS5iKmcsaD1kP2QueToxZTYsZj1hLmMtYS5iKmgpOihlPWM/Yy54Oi0xZTYsZz1hLmMtYS5hKmUsZj1kP2QueDoxZTYsaD1hLmMtYS5hKmYpO3ZhciBpPVtlLGddLGo9W2YsaF07YlthLnJlZ2lvbi5sLmluZGV4XS5wdXNoKGksaiksYlthLnJlZ2lvbi5yLmluZGV4XS5wdXNoKGksail9KSxiLm1hcChmdW5jdGlvbihiLGMpe3ZhciBkPWFbY11bMF0sZT1hW2NdWzFdO3JldHVybiBiLmZvckVhY2goZnVuY3Rpb24oYSl7YS5hbmdsZT1NYXRoLmF0YW4yKGFbMF0tZCxhWzFdLWUpfSksYi5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYW5nbGUtYi5hbmdsZX0pLmZpbHRlcihmdW5jdGlvbihhLGMpe3JldHVybiFjfHxhLmFuZ2xlLWJbYy0xXS5hbmdsZT4xZS0xMH0pfSl9O3ZhciBmaT17bDpcInJcIixyOlwibFwifTtkMy5nZW9tLmRlbGF1bmF5PWZ1bmN0aW9uKGEpe3ZhciBiPWEubWFwKGZ1bmN0aW9uKCl7cmV0dXJuW119KSxjPVtdO3JldHVybiBmaihhLGZ1bmN0aW9uKGMpe2JbYy5yZWdpb24ubC5pbmRleF0ucHVzaChhW2MucmVnaW9uLnIuaW5kZXhdKX0pLGIuZm9yRWFjaChmdW5jdGlvbihiLGQpe3ZhciBlPWFbZF0sZj1lWzBdLGc9ZVsxXTtiLmZvckVhY2goZnVuY3Rpb24oYSl7YS5hbmdsZT1NYXRoLmF0YW4yKGFbMF0tZixhWzFdLWcpfSksYi5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYW5nbGUtYi5hbmdsZX0pO2Zvcih2YXIgaD0wLGk9Yi5sZW5ndGgtMTtoPGk7aCsrKWMucHVzaChbZSxiW2hdLGJbaCsxXV0pfSksY30sZDMuZ2VvbS5xdWFkdHJlZT1mdW5jdGlvbihhLGIsYyxkLGUpe2Z1bmN0aW9uIGsoYSxiLGMsZCxlLGYpe2lmKGlzTmFOKGIueCl8fGlzTmFOKGIueSkpcmV0dXJuO2lmKGEubGVhZil7dmFyIGc9YS5wb2ludDtnP01hdGguYWJzKGcueC1iLngpK01hdGguYWJzKGcueS1iLnkpPC4wMT9sKGEsYixjLGQsZSxmKTooYS5wb2ludD1udWxsLGwoYSxnLGMsZCxlLGYpLGwoYSxiLGMsZCxlLGYpKTphLnBvaW50PWJ9ZWxzZSBsKGEsYixjLGQsZSxmKX1mdW5jdGlvbiBsKGEsYixjLGQsZSxmKXt2YXIgZz0oYytlKSouNSxoPShkK2YpKi41LGk9Yi54Pj1nLGo9Yi55Pj1oLGw9KGo8PDEpK2k7YS5sZWFmPSExLGE9YS5ub2Rlc1tsXXx8KGEubm9kZXNbbF09ZmsoKSksaT9jPWc6ZT1nLGo/ZD1oOmY9aCxrKGEsYixjLGQsZSxmKX12YXIgZixnPS0xLGg9YS5sZW5ndGg7aCYmaXNOYU4oYVswXS54KSYmKGE9YS5tYXAoZm0pKTtpZihhcmd1bWVudHMubGVuZ3RoPDUpaWYoYXJndW1lbnRzLmxlbmd0aD09PTMpZT1kPWMsYz1iO2Vsc2V7Yj1jPUluZmluaXR5LGQ9ZT0tSW5maW5pdHk7d2hpbGUoKytnPGgpZj1hW2ddLGYueDxiJiYoYj1mLngpLGYueTxjJiYoYz1mLnkpLGYueD5kJiYoZD1mLngpLGYueT5lJiYoZT1mLnkpO3ZhciBpPWQtYixqPWUtYztpPmo/ZT1jK2k6ZD1iK2p9dmFyIG09ZmsoKTtyZXR1cm4gbS5hZGQ9ZnVuY3Rpb24oYSl7ayhtLGEsYixjLGQsZSl9LG0udmlzaXQ9ZnVuY3Rpb24oYSl7ZmwoYSxtLGIsYyxkLGUpfSxhLmZvckVhY2gobS5hZGQpLG19LGQzLnRpbWU9e307dmFyIGZuPURhdGU7Zm8ucHJvdG90eXBlPXtnZXREYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENEYXRlKCl9LGdldERheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDRGF5KCl9LGdldEZ1bGxZZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENGdWxsWWVhcigpfSxnZXRIb3VyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDSG91cnMoKX0sZ2V0TWlsbGlzZWNvbmRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENNaWxsaXNlY29uZHMoKX0sZ2V0TWludXRlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDTWludXRlcygpfSxnZXRNb250aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDTW9udGgoKX0sZ2V0U2Vjb25kczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDU2Vjb25kcygpfSxnZXRUaW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRUaW1lKCl9LGdldFRpbWV6b25lT2Zmc2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDB9LHZhbHVlT2Y6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnZhbHVlT2YoKX0sc2V0RGF0ZTpmdW5jdGlvbigpe2ZwLnNldFVUQ0RhdGUuYXBwbHkodGhpcy5fLGFyZ3VtZW50cyl9LHNldERheTpmdW5jdGlvbigpe2ZwLnNldFVUQ0RheS5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0RnVsbFllYXI6ZnVuY3Rpb24oKXtmcC5zZXRVVENGdWxsWWVhci5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0SG91cnM6ZnVuY3Rpb24oKXtmcC5zZXRVVENIb3Vycy5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0TWlsbGlzZWNvbmRzOmZ1bmN0aW9uKCl7ZnAuc2V0VVRDTWlsbGlzZWNvbmRzLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRNaW51dGVzOmZ1bmN0aW9uKCl7ZnAuc2V0VVRDTWludXRlcy5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0TW9udGg6ZnVuY3Rpb24oKXtmcC5zZXRVVENNb250aC5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0U2Vjb25kczpmdW5jdGlvbigpe2ZwLnNldFVUQ1NlY29uZHMuYXBwbHkodGhpcy5fLGFyZ3VtZW50cyl9LHNldFRpbWU6ZnVuY3Rpb24oKXtmcC5zZXRUaW1lLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfX07dmFyIGZwPURhdGUucHJvdG90eXBlO2QzLnRpbWUuZm9ybWF0PWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYyl7dmFyIGQ9W10sZT0tMSxmPTAsZyxoO3doaWxlKCsrZTxiKWEuY2hhckNvZGVBdChlKT09MzcmJihkLnB1c2goYS5zdWJzdHJpbmcoZixlKSwoaD1mdltnPWEuY2hhckF0KCsrZSldKT9oKGMpOmcpLGY9ZSsxKTtyZXR1cm4gZC5wdXNoKGEuc3Vic3RyaW5nKGYsZSkpLGQuam9pbihcIlwiKX12YXIgYj1hLmxlbmd0aDtyZXR1cm4gYy5wYXJzZT1mdW5jdGlvbihiKXt2YXIgYz17eToxOTAwLG06MCxkOjEsSDowLE06MCxTOjAsTDowfSxkPWZxKGMsYSxiLDApO2lmKGQhPWIubGVuZ3RoKXJldHVybiBudWxsO1wicFwiaW4gYyYmKGMuSD1jLkglMTIrYy5wKjEyKTt2YXIgZT1uZXcgZm47cmV0dXJuIGUuc2V0RnVsbFllYXIoYy55LGMubSxjLmQpLGUuc2V0SG91cnMoYy5ILGMuTSxjLlMsYy5MKSxlfSxjLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGF9LGN9O3ZhciBmcj1kMy5mb3JtYXQoXCIwMmRcIiksZnM9ZDMuZm9ybWF0KFwiMDNkXCIpLGZ0PWQzLmZvcm1hdChcIjA0ZFwiKSxmdT1kMy5mb3JtYXQoXCIyZFwiKSxmdj17YTpmdW5jdGlvbihhKXtyZXR1cm4gZkJbYS5nZXREYXkoKV0uc3Vic3RyaW5nKDAsMyl9LEE6ZnVuY3Rpb24oYSl7cmV0dXJuIGZCW2EuZ2V0RGF5KCldfSxiOmZ1bmN0aW9uKGEpe3JldHVybiBmSFthLmdldE1vbnRoKCldLnN1YnN0cmluZygwLDMpfSxCOmZ1bmN0aW9uKGEpe3JldHVybiBmSFthLmdldE1vbnRoKCldfSxjOmQzLnRpbWUuZm9ybWF0KFwiJWEgJWIgJWUgJUg6JU06JVMgJVlcIiksZDpmdW5jdGlvbihhKXtyZXR1cm4gZnIoYS5nZXREYXRlKCkpfSxlOmZ1bmN0aW9uKGEpe3JldHVybiBmdShhLmdldERhdGUoKSl9LEg6ZnVuY3Rpb24oYSl7cmV0dXJuIGZyKGEuZ2V0SG91cnMoKSl9LEk6ZnVuY3Rpb24oYSl7cmV0dXJuIGZyKGEuZ2V0SG91cnMoKSUxMnx8MTIpfSxqOmZ1bmN0aW9uKGEpe3JldHVybiBmcygxK2QzLnRpbWUuZGF5T2ZZZWFyKGEpKX0sTDpmdW5jdGlvbihhKXtyZXR1cm4gZnMoYS5nZXRNaWxsaXNlY29uZHMoKSl9LG06ZnVuY3Rpb24oYSl7cmV0dXJuIGZyKGEuZ2V0TW9udGgoKSsxKX0sTTpmdW5jdGlvbihhKXtyZXR1cm4gZnIoYS5nZXRNaW51dGVzKCkpfSxwOmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEhvdXJzKCk+PTEyP1wiUE1cIjpcIkFNXCJ9LFM6ZnVuY3Rpb24oYSl7cmV0dXJuIGZyKGEuZ2V0U2Vjb25kcygpKX0sVTpmdW5jdGlvbihhKXtyZXR1cm4gZnIoZDMudGltZS5zdW5kYXlPZlllYXIoYSkpfSx3OmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldERheSgpfSxXOmZ1bmN0aW9uKGEpe3JldHVybiBmcihkMy50aW1lLm1vbmRheU9mWWVhcihhKSl9LHg6ZDMudGltZS5mb3JtYXQoXCIlbS8lZC8leVwiKSxYOmQzLnRpbWUuZm9ybWF0KFwiJUg6JU06JVNcIikseTpmdW5jdGlvbihhKXtyZXR1cm4gZnIoYS5nZXRGdWxsWWVhcigpJTEwMCl9LFk6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ0KGEuZ2V0RnVsbFllYXIoKSUxZTQpfSxaOmZYLFwiJVwiOmZ1bmN0aW9uKGEpe3JldHVyblwiJVwifX0sZnc9e2E6ZngsQTpmeSxiOmZDLEI6ZkUsYzpmSSxkOmZQLGU6ZlAsSDpmUSxJOmZRLEw6ZlQsbTpmTyxNOmZSLHA6ZlYsUzpmUyx4OmZKLFg6ZksseTpmTSxZOmZMfSxmej0vXig/OnN1bnxtb258dHVlfHdlZHx0aHV8ZnJpfHNhdCkvaSxmQT0vXig/OlN1bmRheXxNb25kYXl8VHVlc2RheXxXZWRuZXNkYXl8VGh1cnNkYXl8RnJpZGF5fFNhdHVyZGF5KS9pLGZCPVtcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdLGZEPWQzLm1hcCh7amFuOjAsZmViOjEsbWFyOjIsYXByOjMsbWF5OjQsanVuOjUsanVsOjYsYXVnOjcsc2VwOjgsb2N0Ojksbm92OjEwLGRlYzoxMX0pLGZGPS9eKD86SmFudWFyeXxGZWJydWFyeXxNYXJjaHxBcHJpbHxNYXl8SnVuZXxKdWx5fEF1Z3VzdHxTZXB0ZW1iZXJ8T2N0b2JlcnxOb3ZlbWJlcnxEZWNlbWJlcikvaWcsZkc9ZDMubWFwKHtqYW51YXJ5OjAsZmVicnVhcnk6MSxtYXJjaDoyLGFwcmlsOjMsbWF5OjQsanVuZTo1LGp1bHk6NixhdWd1c3Q6NyxzZXB0ZW1iZXI6OCxvY3RvYmVyOjksbm92ZW1iZXI6MTAsZGVjZW1iZXI6MTF9KSxmSD1bXCJKYW51YXJ5XCIsXCJGZWJydWFyeVwiLFwiTWFyY2hcIixcIkFwcmlsXCIsXCJNYXlcIixcIkp1bmVcIixcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl0sZlU9L1xccypcXGQrLyxmVz1kMy5tYXAoe2FtOjAscG06MX0pO2QzLnRpbWUuZm9ybWF0LnV0Yz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpe3RyeXtmbj1mbzt2YXIgYz1uZXcgZm47cmV0dXJuIGMuXz1hLGIoYyl9ZmluYWxseXtmbj1EYXRlfX12YXIgYj1kMy50aW1lLmZvcm1hdChhKTtyZXR1cm4gYy5wYXJzZT1mdW5jdGlvbihhKXt0cnl7Zm49Zm87dmFyIGM9Yi5wYXJzZShhKTtyZXR1cm4gYyYmYy5ffWZpbmFsbHl7Zm49RGF0ZX19LGMudG9TdHJpbmc9Yi50b1N0cmluZyxjfTt2YXIgZlk9ZDMudGltZS5mb3JtYXQudXRjKFwiJVktJW0tJWRUJUg6JU06JVMuJUxaXCIpO2QzLnRpbWUuZm9ybWF0Lmlzbz1EYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZz9mWjpmWSxmWi5wYXJzZT1mdW5jdGlvbihhKXt2YXIgYj1uZXcgRGF0ZShhKTtyZXR1cm4gaXNOYU4oYik/bnVsbDpifSxmWi50b1N0cmluZz1mWS50b1N0cmluZyxkMy50aW1lLnNlY29uZD1mJChmdW5jdGlvbihhKXtyZXR1cm4gbmV3IGZuKE1hdGguZmxvb3IoYS8xZTMpKjFlMyl9LGZ1bmN0aW9uKGEsYil7YS5zZXRUaW1lKGEuZ2V0VGltZSgpK01hdGguZmxvb3IoYikqMWUzKX0sZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0U2Vjb25kcygpfSksZDMudGltZS5zZWNvbmRzPWQzLnRpbWUuc2Vjb25kLnJhbmdlLGQzLnRpbWUuc2Vjb25kcy51dGM9ZDMudGltZS5zZWNvbmQudXRjLnJhbmdlLGQzLnRpbWUubWludXRlPWYkKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgZm4oTWF0aC5mbG9vcihhLzZlNCkqNmU0KX0sZnVuY3Rpb24oYSxiKXthLnNldFRpbWUoYS5nZXRUaW1lKCkrTWF0aC5mbG9vcihiKSo2ZTQpfSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRNaW51dGVzKCl9KSxkMy50aW1lLm1pbnV0ZXM9ZDMudGltZS5taW51dGUucmFuZ2UsZDMudGltZS5taW51dGVzLnV0Yz1kMy50aW1lLm1pbnV0ZS51dGMucmFuZ2UsZDMudGltZS5ob3VyPWYkKGZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0VGltZXpvbmVPZmZzZXQoKS82MDtyZXR1cm4gbmV3IGZuKChNYXRoLmZsb29yKGEvMzZlNS1iKStiKSozNmU1KX0sZnVuY3Rpb24oYSxiKXthLnNldFRpbWUoYS5nZXRUaW1lKCkrTWF0aC5mbG9vcihiKSozNmU1KX0sZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0SG91cnMoKX0pLGQzLnRpbWUuaG91cnM9ZDMudGltZS5ob3VyLnJhbmdlLGQzLnRpbWUuaG91cnMudXRjPWQzLnRpbWUuaG91ci51dGMucmFuZ2UsZDMudGltZS5kYXk9ZiQoZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBmbihhLmdldEZ1bGxZZWFyKCksYS5nZXRNb250aCgpLGEuZ2V0RGF0ZSgpKX0sZnVuY3Rpb24oYSxiKXthLnNldERhdGUoYS5nZXREYXRlKCkrYil9LGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldERhdGUoKS0xfSksZDMudGltZS5kYXlzPWQzLnRpbWUuZGF5LnJhbmdlLGQzLnRpbWUuZGF5cy51dGM9ZDMudGltZS5kYXkudXRjLnJhbmdlLGQzLnRpbWUuZGF5T2ZZZWFyPWZ1bmN0aW9uKGEpe3ZhciBiPWQzLnRpbWUueWVhcihhKTtyZXR1cm4gTWF0aC5mbG9vcigoYS1iKS84NjRlNS0oYS5nZXRUaW1lem9uZU9mZnNldCgpLWIuZ2V0VGltZXpvbmVPZmZzZXQoKSkvMTQ0MCl9LGZCLmZvckVhY2goZnVuY3Rpb24oYSxiKXthPWEudG9Mb3dlckNhc2UoKSxiPTctYjt2YXIgYz1kMy50aW1lW2FdPWYkKGZ1bmN0aW9uKGEpe3JldHVybihhPWQzLnRpbWUuZGF5KGEpKS5zZXREYXRlKGEuZ2V0RGF0ZSgpLShhLmdldERheSgpK2IpJTcpLGF9LGZ1bmN0aW9uKGEsYil7YS5zZXREYXRlKGEuZ2V0RGF0ZSgpK01hdGguZmxvb3IoYikqNyl9LGZ1bmN0aW9uKGEpe3ZhciBjPWQzLnRpbWUueWVhcihhKS5nZXREYXkoKTtyZXR1cm4gTWF0aC5mbG9vcigoZDMudGltZS5kYXlPZlllYXIoYSkrKGMrYiklNykvNyktKGMhPT1iKX0pO2QzLnRpbWVbYStcInNcIl09Yy5yYW5nZSxkMy50aW1lW2ErXCJzXCJdLnV0Yz1jLnV0Yy5yYW5nZSxkMy50aW1lW2ErXCJPZlllYXJcIl09ZnVuY3Rpb24oYSl7dmFyIGM9ZDMudGltZS55ZWFyKGEpLmdldERheSgpO3JldHVybiBNYXRoLmZsb29yKChkMy50aW1lLmRheU9mWWVhcihhKSsoYytiKSU3KS83KX19KSxkMy50aW1lLndlZWs9ZDMudGltZS5zdW5kYXksZDMudGltZS53ZWVrcz1kMy50aW1lLnN1bmRheS5yYW5nZSxkMy50aW1lLndlZWtzLnV0Yz1kMy50aW1lLnN1bmRheS51dGMucmFuZ2UsZDMudGltZS53ZWVrT2ZZZWFyPWQzLnRpbWUuc3VuZGF5T2ZZZWFyLGQzLnRpbWUubW9udGg9ZiQoZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBmbihhLmdldEZ1bGxZZWFyKCksYS5nZXRNb250aCgpLDEpfSxmdW5jdGlvbihhLGIpe2Euc2V0TW9udGgoYS5nZXRNb250aCgpK2IpfSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRNb250aCgpfSksZDMudGltZS5tb250aHM9ZDMudGltZS5tb250aC5yYW5nZSxkMy50aW1lLm1vbnRocy51dGM9ZDMudGltZS5tb250aC51dGMucmFuZ2UsZDMudGltZS55ZWFyPWYkKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgZm4oYS5nZXRGdWxsWWVhcigpLDAsMSl9LGZ1bmN0aW9uKGEsYil7YS5zZXRGdWxsWWVhcihhLmdldEZ1bGxZZWFyKCkrYil9LGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEZ1bGxZZWFyKCl9KSxkMy50aW1lLnllYXJzPWQzLnRpbWUueWVhci5yYW5nZSxkMy50aW1lLnllYXJzLnV0Yz1kMy50aW1lLnllYXIudXRjLnJhbmdlO3ZhciBnZz1bMWUzLDVlMywxNWUzLDNlNCw2ZTQsM2U1LDllNSwxOGU1LDM2ZTUsMTA4ZTUsMjE2ZTUsNDMyZTUsODY0ZTUsMTcyOGU1LDYwNDhlNSwyNTkyZTYsNzc3NmU2LDMxNTM2ZTZdLGdoPVtbZDMudGltZS5zZWNvbmQsMV0sW2QzLnRpbWUuc2Vjb25kLDVdLFtkMy50aW1lLnNlY29uZCwxNV0sW2QzLnRpbWUuc2Vjb25kLDMwXSxbZDMudGltZS5taW51dGUsMV0sW2QzLnRpbWUubWludXRlLDVdLFtkMy50aW1lLm1pbnV0ZSwxNV0sW2QzLnRpbWUubWludXRlLDMwXSxbZDMudGltZS5ob3VyLDFdLFtkMy50aW1lLmhvdXIsM10sW2QzLnRpbWUuaG91ciw2XSxbZDMudGltZS5ob3VyLDEyXSxbZDMudGltZS5kYXksMV0sW2QzLnRpbWUuZGF5LDJdLFtkMy50aW1lLndlZWssMV0sW2QzLnRpbWUubW9udGgsMV0sW2QzLnRpbWUubW9udGgsM10sW2QzLnRpbWUueWVhciwxXV0sZ2k9W1tkMy50aW1lLmZvcm1hdChcIiVZXCIpLGZ1bmN0aW9uKGEpe3JldHVybiEwfV0sW2QzLnRpbWUuZm9ybWF0KFwiJUJcIiksZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0TW9udGgoKX1dLFtkMy50aW1lLmZvcm1hdChcIiViICVkXCIpLGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldERhdGUoKSE9MX1dLFtkMy50aW1lLmZvcm1hdChcIiVhICVkXCIpLGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldERheSgpJiZhLmdldERhdGUoKSE9MX1dLFtkMy50aW1lLmZvcm1hdChcIiVJICVwXCIpLGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEhvdXJzKCl9XSxbZDMudGltZS5mb3JtYXQoXCIlSTolTVwiKSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRNaW51dGVzKCl9XSxbZDMudGltZS5mb3JtYXQoXCI6JVNcIiksZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0U2Vjb25kcygpfV0sW2QzLnRpbWUuZm9ybWF0KFwiLiVMXCIpLGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldE1pbGxpc2Vjb25kcygpfV1dLGdqPWQzLnNjYWxlLmxpbmVhcigpLGdrPWdkKGdpKTtnaC55ZWFyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGdqLmRvbWFpbihhLm1hcChnZikpLnRpY2tzKGIpLm1hcChnZSl9LGQzLnRpbWUuc2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gZ2EoZDMuc2NhbGUubGluZWFyKCksZ2gsZ2spfTt2YXIgZ2w9Z2gubWFwKGZ1bmN0aW9uKGEpe3JldHVyblthWzBdLnV0YyxhWzFdXX0pLGdtPVtbZDMudGltZS5mb3JtYXQudXRjKFwiJVlcIiksZnVuY3Rpb24oYSl7cmV0dXJuITB9XSxbZDMudGltZS5mb3JtYXQudXRjKFwiJUJcIiksZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0VVRDTW9udGgoKX1dLFtkMy50aW1lLmZvcm1hdC51dGMoXCIlYiAlZFwiKSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRVVENEYXRlKCkhPTF9XSxbZDMudGltZS5mb3JtYXQudXRjKFwiJWEgJWRcIiksZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0VVRDRGF5KCkmJmEuZ2V0VVRDRGF0ZSgpIT0xfV0sW2QzLnRpbWUuZm9ybWF0LnV0YyhcIiVJICVwXCIpLGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFVUQ0hvdXJzKCl9XSxbZDMudGltZS5mb3JtYXQudXRjKFwiJUk6JU1cIiksZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0VVRDTWludXRlcygpfV0sW2QzLnRpbWUuZm9ybWF0LnV0YyhcIjolU1wiKSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRVVENTZWNvbmRzKCl9XSxbZDMudGltZS5mb3JtYXQudXRjKFwiLiVMXCIpLGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFVUQ01pbGxpc2Vjb25kcygpfV1dLGduPWdkKGdtKTtnbC55ZWFyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGdqLmRvbWFpbihhLm1hcChncCkpLnRpY2tzKGIpLm1hcChnbyl9LGQzLnRpbWUuc2NhbGUudXRjPWZ1bmN0aW9uKCl7cmV0dXJuIGdhKGQzLnNjYWxlLmxpbmVhcigpLGdsLGduKX19KSgpO1xuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihqUXVlcnkpIHtqc1BsdW1iVXRpbD17aXNBcnJheTpmdW5jdGlvbihiKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGIpPT09XCJbb2JqZWN0IEFycmF5XVwifSxpc1N0cmluZzpmdW5jdGlvbihhKXtyZXR1cm4gdHlwZW9mIGE9PT1cInN0cmluZ1wifSxpc09iamVjdDpmdW5jdGlvbihhKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpPT09XCJbb2JqZWN0IE9iamVjdF1cIn0sY29udmVydFN0eWxlOmZ1bmN0aW9uKGIsYSl7aWYoXCJ0cmFuc3BhcmVudFwiPT09Yil7cmV0dXJuIGJ9dmFyIGc9YixmPWZ1bmN0aW9uKGgpe3JldHVybiBoLmxlbmd0aD09MT9cIjBcIitoOmh9LGM9ZnVuY3Rpb24oaCl7cmV0dXJuIGYoTnVtYmVyKGgpLnRvU3RyaW5nKDE2KSl9LGQ9LyhyZ2JbYV0/XFwoKSguKikoXFwpKS87aWYoYi5tYXRjaChkKSl7dmFyIGU9Yi5tYXRjaChkKVsyXS5zcGxpdChcIixcIik7Zz1cIiNcIitjKGVbMF0pK2MoZVsxXSkrYyhlWzJdKTtpZighYSYmZS5sZW5ndGg9PTQpe2c9ZytjKGVbM10pfX1yZXR1cm4gZ30sZ3JhZGllbnQ6ZnVuY3Rpb24oYixhKXtiPWpzUGx1bWJVdGlsLmlzQXJyYXkoYik/YjpbYi54LGIueV07YT1qc1BsdW1iVXRpbC5pc0FycmF5KGEpP2E6W2EueCxhLnldO3JldHVybihhWzFdLWJbMV0pLyhhWzBdLWJbMF0pfSxub3JtYWw6ZnVuY3Rpb24oYixhKXtyZXR1cm4gLTEvanNQbHVtYlV0aWwuZ3JhZGllbnQoYixhKX0sbGluZUxlbmd0aDpmdW5jdGlvbihiLGEpe2I9anNQbHVtYlV0aWwuaXNBcnJheShiKT9iOltiLngsYi55XTthPWpzUGx1bWJVdGlsLmlzQXJyYXkoYSk/YTpbYS54LGEueV07cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhhWzFdLWJbMV0sMikrTWF0aC5wb3coYVswXS1iWzBdLDIpKX0sc2VnbWVudDpmdW5jdGlvbihiLGEpe2I9anNQbHVtYlV0aWwuaXNBcnJheShiKT9iOltiLngsYi55XTthPWpzUGx1bWJVdGlsLmlzQXJyYXkoYSk/YTpbYS54LGEueV07aWYoYVswXT5iWzBdKXtyZXR1cm4oYVsxXT5iWzFdKT8yOjF9ZWxzZXtyZXR1cm4oYVsxXT5iWzFdKT8zOjR9fSxpbnRlcnNlY3RzOmZ1bmN0aW9uKGYsZSl7dmFyIGM9Zi54LGE9Zi54K2YudyxrPWYueSxoPWYueStmLmgsZD1lLngsYj1lLngrZS53LGk9ZS55LGc9ZS55K2UuaDtyZXR1cm4oKGM8PWQmJmQ8PWEpJiYoazw9aSYmaTw9aCkpfHwoKGM8PWImJmI8PWEpJiYoazw9aSYmaTw9aCkpfHwoKGM8PWQmJmQ8PWEpJiYoazw9ZyYmZzw9aCkpfHwoKGM8PWImJmQ8PWEpJiYoazw9ZyYmZzw9aCkpfHwoKGQ8PWMmJmM8PWIpJiYoaTw9ayYmazw9ZykpfHwoKGQ8PWEmJmE8PWIpJiYoaTw9ayYmazw9ZykpfHwoKGQ8PWMmJmM8PWIpJiYoaTw9aCYmaDw9ZykpfHwoKGQ8PWEmJmM8PWIpJiYoaTw9aCYmaDw9ZykpfSxzZWdtZW50TXVsdGlwbGllcnM6W251bGwsWzEsLTFdLFsxLDFdLFstMSwxXSxbLTEsLTFdXSxpbnZlcnNlU2VnbWVudE11bHRpcGxpZXJzOltudWxsLFstMSwtMV0sWy0xLDFdLFsxLDFdLFsxLC0xXV0scG9pbnRPbkxpbmU6ZnVuY3Rpb24oYSxlLGIpe3ZhciBkPWpzUGx1bWJVdGlsLmdyYWRpZW50KGEsZSksaT1qc1BsdW1iVXRpbC5zZWdtZW50KGEsZSksaD1iPjA/anNQbHVtYlV0aWwuc2VnbWVudE11bHRpcGxpZXJzW2ldOmpzUGx1bWJVdGlsLmludmVyc2VTZWdtZW50TXVsdGlwbGllcnNbaV0sYz1NYXRoLmF0YW4oZCksZj1NYXRoLmFicyhiKk1hdGguc2luKGMpKSpoWzFdLGc9TWF0aC5hYnMoYipNYXRoLmNvcyhjKSkqaFswXTtyZXR1cm57eDphLngrZyx5OmEueStmfX0scGVycGVuZGljdWxhckxpbmVUbzpmdW5jdGlvbihjLGQsZSl7dmFyIGI9anNQbHVtYlV0aWwuZ3JhZGllbnQoYyxkKSxmPU1hdGguYXRhbigtMS9iKSxnPWUvMipNYXRoLnNpbihmKSxhPWUvMipNYXRoLmNvcyhmKTtyZXR1cm5be3g6ZC54K2EseTpkLnkrZ30se3g6ZC54LWEseTpkLnktZ31dfSxmaW5kV2l0aEZ1bmN0aW9uOmZ1bmN0aW9uKGIsZCl7aWYoYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe2lmKGQoYltjXSkpe3JldHVybiBjfX19cmV0dXJuIC0xfSxpbmRleE9mOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGpzUGx1bWJVdGlsLmZpbmRXaXRoRnVuY3Rpb24oYSxmdW5jdGlvbihjKXtyZXR1cm4gYz09Yn0pfSxyZW1vdmVXaXRoRnVuY3Rpb246ZnVuY3Rpb24oYyxkKXt2YXIgYj1qc1BsdW1iVXRpbC5maW5kV2l0aEZ1bmN0aW9uKGMsZCk7aWYoYj4tMSl7Yy5zcGxpY2UoYiwxKX1yZXR1cm4gYiE9LTF9LHJlbW92ZTpmdW5jdGlvbihiLGMpe3ZhciBhPWpzUGx1bWJVdGlsLmluZGV4T2YoYixjKTtpZihhPi0xKXtiLnNwbGljZShhLDEpfXJldHVybiBhIT0tMX0sYWRkV2l0aEZ1bmN0aW9uOmZ1bmN0aW9uKGMsYixhKXtpZihqc1BsdW1iVXRpbC5maW5kV2l0aEZ1bmN0aW9uKGMsYSk9PS0xKXtjLnB1c2goYil9fSxhZGRUb0xpc3Q6ZnVuY3Rpb24oZCxiLGMpe3ZhciBhPWRbYl07aWYoYT09bnVsbCl7YT1bXSxkW2JdPWF9YS5wdXNoKGMpO3JldHVybiBhfSxFdmVudEdlbmVyYXRvcjpmdW5jdGlvbigpe3ZhciBjPXt9LGI9dGhpczt2YXIgYT1bXCJyZWFkeVwiXTt0aGlzLmJpbmQ9ZnVuY3Rpb24oZCxlKXtqc1BsdW1iVXRpbC5hZGRUb0xpc3QoYyxkLGUpO3JldHVybiBifTt0aGlzLmZpcmU9ZnVuY3Rpb24oZyxoLGQpe2lmKGNbZ10pe2Zvcih2YXIgZj0wO2Y8Y1tnXS5sZW5ndGg7ZisrKXtpZihqc1BsdW1iVXRpbC5maW5kV2l0aEZ1bmN0aW9uKGEsZnVuY3Rpb24oaSl7cmV0dXJuIGk9PT1nfSkhPS0xKXtjW2ddW2ZdKGgsZCl9ZWxzZXt0cnl7Y1tnXVtmXShoLGQpfWNhdGNoKGspe2pzUGx1bWJVdGlsLmxvZyhcImpzUGx1bWI6IGZpcmUgZmFpbGVkIGZvciBldmVudCBcIitnK1wiIDogXCIrayl9fX19cmV0dXJuIGJ9O3RoaXMudW5iaW5kPWZ1bmN0aW9uKGQpe2lmKGQpe2RlbGV0ZSBjW2RdfWVsc2V7ZGVsZXRlIGM7Yz17fX1yZXR1cm4gYn07dGhpcy5nZXRMaXN0ZW5lcj1mdW5jdGlvbihkKXtyZXR1cm4gY1tkXX19LGxvZ0VuYWJsZWQ6dHJ1ZSxsb2c6ZnVuY3Rpb24oKXtpZihqc1BsdW1iVXRpbC5sb2dFbmFibGVkJiZ0eXBlb2YgY29uc29sZSE9XCJ1bmRlZmluZWRcIil7dHJ5e3ZhciBiPWFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTFdO2NvbnNvbGUubG9nKGIpfWNhdGNoKGEpe319fSxncm91cDpmdW5jdGlvbihhKXtpZihqc1BsdW1iVXRpbC5sb2dFbmFibGVkJiZ0eXBlb2YgY29uc29sZSE9XCJ1bmRlZmluZWRcIil7Y29uc29sZS5ncm91cChhKX19LGdyb3VwRW5kOmZ1bmN0aW9uKGEpe2lmKGpzUGx1bWJVdGlsLmxvZ0VuYWJsZWQmJnR5cGVvZiBjb25zb2xlIT1cInVuZGVmaW5lZFwiKXtjb25zb2xlLmdyb3VwRW5kKGEpfX0sdGltZTpmdW5jdGlvbihhKXtpZihqc1BsdW1iVXRpbC5sb2dFbmFibGVkJiZ0eXBlb2YgY29uc29sZSE9XCJ1bmRlZmluZWRcIil7Y29uc29sZS50aW1lKGEpfX0sdGltZUVuZDpmdW5jdGlvbihhKXtpZihqc1BsdW1iVXRpbC5sb2dFbmFibGVkJiZ0eXBlb2YgY29uc29sZSE9XCJ1bmRlZmluZWRcIil7Y29uc29sZS50aW1lRW5kKGEpfX19OyhmdW5jdGlvbigpe3ZhciBBPSEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0LGU9ISF3aW5kb3cuU1ZHQW5nbGV8fGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoXCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0Jhc2ljU3RydWN0dXJlXCIsXCIxLjFcIiksYj1mdW5jdGlvbigpe2lmKGIudm1sPT11bmRlZmluZWQpe3ZhciBMPWRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7TC5pbm5lckhUTUw9Jzx2OnNoYXBlIGlkPVwidm1sX2ZsYWcxXCIgYWRqPVwiMVwiIC8+Jzt2YXIgSz1MLmZpcnN0Q2hpbGQ7Sy5zdHlsZS5iZWhhdmlvcj1cInVybCgjZGVmYXVsdCNWTUwpXCI7Yi52bWw9Sz90eXBlb2YgSy5hZGo9PVwib2JqZWN0XCI6dHJ1ZTtMLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoTCl9cmV0dXJuIGIudm1sfTt2YXIgaT1qc1BsdW1iVXRpbC5maW5kV2l0aEZ1bmN0aW9uLEo9anNQbHVtYlV0aWwuaW5kZXhPZixEPWpzUGx1bWJVdGlsLnJlbW92ZVdpdGhGdW5jdGlvbixtPWpzUGx1bWJVdGlsLnJlbW92ZSx1PWpzUGx1bWJVdGlsLmFkZFdpdGhGdW5jdGlvbixsPWpzUGx1bWJVdGlsLmFkZFRvTGlzdCxuPWpzUGx1bWJVdGlsLmlzQXJyYXksQz1qc1BsdW1iVXRpbC5pc1N0cmluZyx3PWpzUGx1bWJVdGlsLmlzT2JqZWN0O2lmKCF3aW5kb3cuY29uc29sZSl7d2luZG93LmNvbnNvbGU9e3RpbWU6ZnVuY3Rpb24oKXt9LHRpbWVFbmQ6ZnVuY3Rpb24oKXt9LGdyb3VwOmZ1bmN0aW9uKCl7fSxncm91cEVuZDpmdW5jdGlvbigpe30sbG9nOmZ1bmN0aW9uKCl7fX19dmFyIHg9bnVsbCxkPWZ1bmN0aW9uKEssTCl7cmV0dXJuIHAuQ3VycmVudExpYnJhcnkuZ2V0QXR0cmlidXRlKEYoSyksTCl9LGY9ZnVuY3Rpb24oTCxNLEspe3AuQ3VycmVudExpYnJhcnkuc2V0QXR0cmlidXRlKEYoTCksTSxLKX0sQj1mdW5jdGlvbihMLEspe3AuQ3VycmVudExpYnJhcnkuYWRkQ2xhc3MoRihMKSxLKX0saz1mdW5jdGlvbihMLEspe3JldHVybiBwLkN1cnJlbnRMaWJyYXJ5Lmhhc0NsYXNzKEYoTCksSyl9LG89ZnVuY3Rpb24oTCxLKXtwLkN1cnJlbnRMaWJyYXJ5LnJlbW92ZUNsYXNzKEYoTCksSyl9LEY9ZnVuY3Rpb24oSyl7cmV0dXJuIHAuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChLKX0sdD1mdW5jdGlvbihLKXtyZXR1cm4gcC5DdXJyZW50TGlicmFyeS5nZXRPZmZzZXQoRihLKSl9LGE9ZnVuY3Rpb24oSyl7cmV0dXJuIHAuQ3VycmVudExpYnJhcnkuZ2V0U2l6ZShGKEspKX0scT1qc1BsdW1iVXRpbC5sb2csST1qc1BsdW1iVXRpbC5ncm91cCxoPWpzUGx1bWJVdGlsLmdyb3VwRW5kLEg9anNQbHVtYlV0aWwudGltZSx2PWpzUGx1bWJVdGlsLnRpbWVFbmQscj1mdW5jdGlvbigpe3JldHVyblwiXCIrKG5ldyBEYXRlKCkpLmdldFRpbWUoKX0sRT1mdW5jdGlvbihaKXt2YXIgVT10aGlzLGFhPWFyZ3VtZW50cyxSPWZhbHNlLE89Wi5wYXJhbWV0ZXJzfHx7fSxNPVUuaWRQcmVmaXgsVz1NKyhuZXcgRGF0ZSgpKS5nZXRUaW1lKCksVj1udWxsLGFiPW51bGw7VS5fanNQbHVtYj1aLl9qc1BsdW1iO1UuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gV307VS50b29sdGlwPVoudG9vbHRpcDtVLmhvdmVyQ2xhc3M9Wi5ob3ZlckNsYXNzfHxVLl9qc1BsdW1iLkRlZmF1bHRzLkhvdmVyQ2xhc3N8fHAuRGVmYXVsdHMuSG92ZXJDbGFzcztqc1BsdW1iVXRpbC5FdmVudEdlbmVyYXRvci5hcHBseSh0aGlzKTt0aGlzLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGFjPW5ldyBPYmplY3QoKTtVLmNvbnN0cnVjdG9yLmFwcGx5KGFjLGFhKTtyZXR1cm4gYWN9O3RoaXMuZ2V0UGFyYW1ldGVyPWZ1bmN0aW9uKGFjKXtyZXR1cm4gT1thY119LHRoaXMuZ2V0UGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybiBPfSx0aGlzLnNldFBhcmFtZXRlcj1mdW5jdGlvbihhYyxhZCl7T1thY109YWR9LHRoaXMuc2V0UGFyYW1ldGVycz1mdW5jdGlvbihhYyl7Tz1hY30sdGhpcy5vdmVybGF5UGxhY2VtZW50cz1bXTt2YXIgTj1aLmJlZm9yZURldGFjaDt0aGlzLmlzRGV0YWNoQWxsb3dlZD1mdW5jdGlvbihhYyl7dmFyIGFkPVUuX2pzUGx1bWIuY2hlY2tDb25kaXRpb24oXCJiZWZvcmVEZXRhY2hcIixhYyk7aWYoTil7dHJ5e2FkPU4oYWMpfWNhdGNoKGFlKXtxKFwianNQbHVtYjogYmVmb3JlRGV0YWNoIGNhbGxiYWNrIGZhaWxlZFwiLGFlKX19cmV0dXJuIGFkfTt2YXIgUT1aLmJlZm9yZURyb3A7dGhpcy5pc0Ryb3BBbGxvd2VkPWZ1bmN0aW9uKGFoLGFlLGFmLGFjLGFkKXt2YXIgYWc9VS5fanNQbHVtYi5jaGVja0NvbmRpdGlvbihcImJlZm9yZURyb3BcIix7c291cmNlSWQ6YWgsdGFyZ2V0SWQ6YWUsc2NvcGU6YWYsY29ubmVjdGlvbjphYyxkcm9wRW5kcG9pbnQ6YWR9KTtpZihRKXt0cnl7YWc9USh7c291cmNlSWQ6YWgsdGFyZ2V0SWQ6YWUsc2NvcGU6YWYsY29ubmVjdGlvbjphYyxkcm9wRW5kcG9pbnQ6YWR9KX1jYXRjaChhaSl7cShcImpzUGx1bWI6IGJlZm9yZURyb3AgY2FsbGJhY2sgZmFpbGVkXCIsYWkpfX1yZXR1cm4gYWd9O3ZhciBYPWZ1bmN0aW9uKCl7aWYoViYmYWIpe3ZhciBhYz17fTtwLmV4dGVuZChhYyxWKTtwLmV4dGVuZChhYyxhYik7ZGVsZXRlIFUuaG92ZXJQYWludFN0eWxlO2lmKGFjLmdyYWRpZW50JiZWLmZpbGxTdHlsZSl7ZGVsZXRlIGFjLmdyYWRpZW50fWFiPWFjfX07dGhpcy5zZXRQYWludFN0eWxlPWZ1bmN0aW9uKGFjLGFkKXtWPWFjO1UucGFpbnRTdHlsZUluVXNlPVY7WCgpO2lmKCFhZCl7VS5yZXBhaW50KCl9fTt0aGlzLmdldFBhaW50U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gVn07dGhpcy5zZXRIb3ZlclBhaW50U3R5bGU9ZnVuY3Rpb24oYWMsYWQpe2FiPWFjO1goKTtpZighYWQpe1UucmVwYWludCgpfX07dGhpcy5nZXRIb3ZlclBhaW50U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gYWJ9O3RoaXMuc2V0SG92ZXI9ZnVuY3Rpb24oYWMsYWUsYWQpe2lmKCFVLl9qc1BsdW1iLmN1cnJlbnRseURyYWdnaW5nJiYhVS5fanNQbHVtYi5pc0hvdmVyU3VzcGVuZGVkKCkpe1I9YWM7aWYoVS5ob3ZlckNsYXNzIT1udWxsJiZVLmNhbnZhcyE9bnVsbCl7aWYoYWMpe0wuYWRkQ2xhc3MoVS5jYW52YXMsVS5ob3ZlckNsYXNzKX1lbHNle0wucmVtb3ZlQ2xhc3MoVS5jYW52YXMsVS5ob3ZlckNsYXNzKX19aWYoYWIhPW51bGwpe1UucGFpbnRTdHlsZUluVXNlPWFjP2FiOlY7YWQ9YWR8fHIoKTtVLnJlcGFpbnQoe3RpbWVzdGFtcDphZCxyZWNhbGM6ZmFsc2V9KX1pZihVLmdldEF0dGFjaGVkRWxlbWVudHMmJiFhZSl7WShhYyxyKCksVSl9fX07dGhpcy5pc0hvdmVyPWZ1bmN0aW9uKCl7cmV0dXJuIFJ9O3ZhciBMPXAuQ3VycmVudExpYnJhcnksSz1bXCJjbGlja1wiLFwiZGJsY2xpY2tcIixcIm1vdXNlZW50ZXJcIixcIm1vdXNlb3V0XCIsXCJtb3VzZW1vdmVcIixcIm1vdXNlZG93blwiLFwibW91c2V1cFwiLFwiY29udGV4dG1lbnVcIl0sVD17bW91c2VvdXQ6XCJtb3VzZWV4aXRcIn0sUD1mdW5jdGlvbihhZSxhZixhZCl7dmFyIGFjPVRbYWRdfHxhZDtMLmJpbmQoYWUsYWQsZnVuY3Rpb24oYWcpe2FmLmZpcmUoYWMsYWYsYWcpfSl9LFM9ZnVuY3Rpb24oYWUsYWQpe3ZhciBhYz1UW2FkXXx8YWQ7TC51bmJpbmQoYWUsYWQpfTt0aGlzLmF0dGFjaExpc3RlbmVycz1mdW5jdGlvbihhZCxhZSl7Zm9yKHZhciBhYz0wO2FjPEsubGVuZ3RoO2FjKyspe1AoYWQsYWUsS1thY10pfX07dmFyIFk9ZnVuY3Rpb24oYWcsYWYsYWMpe3ZhciBhZT1VLmdldEF0dGFjaGVkRWxlbWVudHMoKTtpZihhZSl7Zm9yKHZhciBhZD0wO2FkPGFlLmxlbmd0aDthZCsrKXtpZighYWN8fGFjIT1hZVthZF0pe2FlW2FkXS5zZXRIb3ZlcihhZyx0cnVlLGFmKX19fX07dGhpcy5yZWF0dGFjaExpc3RlbmVyc0ZvckVsZW1lbnQ9ZnVuY3Rpb24oYWQpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKHZhciBhYz0wO2FjPEsubGVuZ3RoO2FjKyspe1MoYWQsS1thY10pfWZvcih2YXIgYWM9MTthYzxhcmd1bWVudHMubGVuZ3RoO2FjKyspe1UuYXR0YWNoTGlzdGVuZXJzKGFkLGFyZ3VtZW50c1thY10pfX19fSx6PWZ1bmN0aW9uKFApe0UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBVPXRoaXM7dGhpcy5vdmVybGF5cz1bXTt2YXIgTj1mdW5jdGlvbihaKXt2YXIgWD1udWxsO2lmKG4oWikpe3ZhciBXPVpbMF0sWT1wLmV4dGVuZCh7Y29tcG9uZW50OlUsX2pzUGx1bWI6VS5fanNQbHVtYn0sWlsxXSk7aWYoWi5sZW5ndGg9PTMpe3AuZXh0ZW5kKFksWlsyXSl9WD1uZXcgcC5PdmVybGF5c1tVLl9qc1BsdW1iLmdldFJlbmRlck1vZGUoKV1bV10oWSk7aWYoWS5ldmVudHMpe2Zvcih2YXIgViBpbiBZLmV2ZW50cyl7WC5iaW5kKFYsWS5ldmVudHNbVl0pfX19ZWxzZXtpZihaLmNvbnN0cnVjdG9yPT1TdHJpbmcpe1g9bmV3IHAuT3ZlcmxheXNbVS5fanNQbHVtYi5nZXRSZW5kZXJNb2RlKCldW1pdKHtjb21wb25lbnQ6VSxfanNQbHVtYjpVLl9qc1BsdW1ifSl9ZWxzZXtYPVp9fVUub3ZlcmxheXMucHVzaChYKX0sTz1mdW5jdGlvbihaKXt2YXIgVj1VLmRlZmF1bHRPdmVybGF5S2V5c3x8W10sWT1aLm92ZXJsYXlzLFc9ZnVuY3Rpb24oYWEpe3JldHVybiBVLl9qc1BsdW1iLkRlZmF1bHRzW2FhXXx8cC5EZWZhdWx0c1thYV18fFtdfTtpZighWSl7WT1bXX1mb3IodmFyIFg9MDtYPFYubGVuZ3RoO1grKyl7WS51bnNoaWZ0LmFwcGx5KFksVyhWW1hdKSl9cmV0dXJuIFl9O3ZhciBMPU8oUCk7aWYoTCl7Zm9yKHZhciBRPTA7UTxMLmxlbmd0aDtRKyspe04oTFtRXSl9fXZhciBLPWZ1bmN0aW9uKFgpe3ZhciBWPS0xO2Zvcih2YXIgVz0wO1c8VS5vdmVybGF5cy5sZW5ndGg7VysrKXtpZihYPT09VS5vdmVybGF5c1tXXS5pZCl7Vj1XO2JyZWFrfX1yZXR1cm4gVn07dGhpcy5hZGRPdmVybGF5PWZ1bmN0aW9uKFYpe04oVik7VS5yZXBhaW50KCl9O3RoaXMuZ2V0T3ZlcmxheT1mdW5jdGlvbihXKXt2YXIgVj1LKFcpO3JldHVybiBWPj0wP1Uub3ZlcmxheXNbVl06bnVsbH07dGhpcy5nZXRPdmVybGF5cz1mdW5jdGlvbigpe3JldHVybiBVLm92ZXJsYXlzfTt0aGlzLmhpZGVPdmVybGF5PWZ1bmN0aW9uKFcpe3ZhciBWPVUuZ2V0T3ZlcmxheShXKTtpZihWKXtWLmhpZGUoKX19O3RoaXMuaGlkZU92ZXJsYXlzPWZ1bmN0aW9uKCl7Zm9yKHZhciBWPTA7VjxVLm92ZXJsYXlzLmxlbmd0aDtWKyspe1Uub3ZlcmxheXNbVl0uaGlkZSgpfX07dGhpcy5zaG93T3ZlcmxheT1mdW5jdGlvbihXKXt2YXIgVj1VLmdldE92ZXJsYXkoVyk7aWYoVil7Vi5zaG93KCl9fTt0aGlzLnNob3dPdmVybGF5cz1mdW5jdGlvbigpe2Zvcih2YXIgVj0wO1Y8VS5vdmVybGF5cy5sZW5ndGg7VisrKXtVLm92ZXJsYXlzW1ZdLnNob3coKX19O3RoaXMucmVtb3ZlQWxsT3ZlcmxheXM9ZnVuY3Rpb24oKXtmb3IodmFyIFYgaW4gVS5vdmVybGF5cyl7VS5vdmVybGF5c1tWXS5jbGVhbnVwKCl9VS5vdmVybGF5cy5zcGxpY2UoMCxVLm92ZXJsYXlzLmxlbmd0aCk7VS5yZXBhaW50KCl9O3RoaXMucmVtb3ZlT3ZlcmxheT1mdW5jdGlvbihXKXt2YXIgVj1LKFcpO2lmKFYhPS0xKXt2YXIgWD1VLm92ZXJsYXlzW1ZdO1guY2xlYW51cCgpO1Uub3ZlcmxheXMuc3BsaWNlKFYsMSl9fTt0aGlzLnJlbW92ZU92ZXJsYXlzPWZ1bmN0aW9uKCl7Zm9yKHZhciBWPTA7Vjxhcmd1bWVudHMubGVuZ3RoO1YrKyl7VS5yZW1vdmVPdmVybGF5KGFyZ3VtZW50c1tWXSl9fTt2YXIgTT1cIl9fbGFiZWxcIixUPWZ1bmN0aW9uKFgpe3ZhciBWPXtjc3NDbGFzczpYLmNzc0NsYXNzLGxhYmVsU3R5bGU6dGhpcy5sYWJlbFN0eWxlLGlkOk0sY29tcG9uZW50OlUsX2pzUGx1bWI6VS5fanNQbHVtYn0sVz1wLmV4dGVuZChWLFgpO3JldHVybiBuZXcgcC5PdmVybGF5c1tVLl9qc1BsdW1iLmdldFJlbmRlck1vZGUoKV0uTGFiZWwoVyl9O2lmKFAubGFiZWwpe3ZhciBSPVAubGFiZWxMb2NhdGlvbnx8VS5kZWZhdWx0TGFiZWxMb2NhdGlvbnx8MC41LFM9UC5sYWJlbFN0eWxlfHxVLl9qc1BsdW1iLkRlZmF1bHRzLkxhYmVsU3R5bGV8fHAuRGVmYXVsdHMuTGFiZWxTdHlsZTt0aGlzLm92ZXJsYXlzLnB1c2goVCh7bGFiZWw6UC5sYWJlbCxsb2NhdGlvbjpSLGxhYmVsU3R5bGU6U30pKX10aGlzLnNldExhYmVsPWZ1bmN0aW9uKFYpe3ZhciBXPVUuZ2V0T3ZlcmxheShNKTtpZighVyl7dmFyIFg9Vi5jb25zdHJ1Y3Rvcj09U3RyaW5nfHxWLmNvbnN0cnVjdG9yPT1GdW5jdGlvbj97bGFiZWw6Vn06VjtXPVQoWCk7dGhpcy5vdmVybGF5cy5wdXNoKFcpfWVsc2V7aWYoVi5jb25zdHJ1Y3Rvcj09U3RyaW5nfHxWLmNvbnN0cnVjdG9yPT1GdW5jdGlvbil7Vy5zZXRMYWJlbChWKX1lbHNle2lmKFYubGFiZWwpe1cuc2V0TGFiZWwoVi5sYWJlbCl9aWYoVi5sb2NhdGlvbil7Vy5zZXRMb2NhdGlvbihWLmxvY2F0aW9uKX19fVUucmVwYWludCgpfTt0aGlzLmdldExhYmVsPWZ1bmN0aW9uKCl7dmFyIFY9VS5nZXRPdmVybGF5KE0pO3JldHVybiBWIT1udWxsP1YuZ2V0TGFiZWwoKTpudWxsfTt0aGlzLmdldExhYmVsT3ZlcmxheT1mdW5jdGlvbigpe3JldHVybiBVLmdldE92ZXJsYXkoTSl9fSxHPWZ1bmN0aW9uKE0sSyxMKXtNLmJpbmQoXCJjbGlja1wiLGZ1bmN0aW9uKE4sTyl7Sy5maXJlKFwiY2xpY2tcIixLLE8pfSk7TS5iaW5kKFwiZGJsY2xpY2tcIixmdW5jdGlvbihOLE8pe0suZmlyZShcImRibGNsaWNrXCIsSyxPKX0pO00uYmluZChcImNvbnRleHRtZW51XCIsZnVuY3Rpb24oTixPKXtLLmZpcmUoXCJjb250ZXh0bWVudVwiLEssTyl9KTtNLmJpbmQoXCJtb3VzZWVudGVyXCIsZnVuY3Rpb24oTixPKXtpZighSy5pc0hvdmVyKCkpe0wodHJ1ZSk7Sy5maXJlKFwibW91c2VlbnRlclwiLEssTyl9fSk7TS5iaW5kKFwibW91c2VleGl0XCIsZnVuY3Rpb24oTixPKXtpZihLLmlzSG92ZXIoKSl7TChmYWxzZSk7Sy5maXJlKFwibW91c2VleGl0XCIsSyxPKX19KX07dmFyIGc9MCxjPWZ1bmN0aW9uKCl7dmFyIEs9ZysxO2crKztyZXR1cm4gS307dmFyIHk9ZnVuY3Rpb24oTCl7dGhpcy5EZWZhdWx0cz17QW5jaG9yOlwiQm90dG9tQ2VudGVyXCIsQW5jaG9yczpbbnVsbCxudWxsXSxDb25uZWN0aW9uc0RldGFjaGFibGU6dHJ1ZSxDb25uZWN0aW9uT3ZlcmxheXM6W10sQ29ubmVjdG9yOlwiQmV6aWVyXCIsQ29udGFpbmVyOm51bGwsRHJhZ09wdGlvbnM6e30sRHJvcE9wdGlvbnM6e30sRW5kcG9pbnQ6XCJEb3RcIixFbmRwb2ludE92ZXJsYXlzOltdLEVuZHBvaW50czpbbnVsbCxudWxsXSxFbmRwb2ludFN0eWxlOntmaWxsU3R5bGU6XCIjNDU2XCJ9LEVuZHBvaW50U3R5bGVzOltudWxsLG51bGxdLEVuZHBvaW50SG92ZXJTdHlsZTpudWxsLEVuZHBvaW50SG92ZXJTdHlsZXM6W251bGwsbnVsbF0sSG92ZXJQYWludFN0eWxlOm51bGwsTGFiZWxTdHlsZTp7Y29sb3I6XCJibGFja1wifSxMb2dFbmFibGVkOmZhbHNlLE92ZXJsYXlzOltdLE1heENvbm5lY3Rpb25zOjEsUGFpbnRTdHlsZTp7bGluZVdpZHRoOjgsc3Ryb2tlU3R5bGU6XCIjNDU2XCJ9LFJlbmRlck1vZGU6XCJzdmdcIixTY29wZTpcImpzUGx1bWJfRGVmYXVsdFNjb3BlXCJ9O2lmKEwpe3AuZXh0ZW5kKHRoaXMuRGVmYXVsdHMsTCl9dGhpcy5sb2dFbmFibGVkPXRoaXMuRGVmYXVsdHMuTG9nRW5hYmxlZDtqc1BsdW1iVXRpbC5FdmVudEdlbmVyYXRvci5hcHBseSh0aGlzKTt2YXIgYm49dGhpcyxhTD1jKCksYU89Ym4uYmluZCxhQz17fTtmb3IodmFyIGFCIGluIHRoaXMuRGVmYXVsdHMpe2FDW2FCXT10aGlzLkRlZmF1bHRzW2FCXX10aGlzLmJpbmQ9ZnVuY3Rpb24oYncsYnYpe2lmKFwicmVhZHlcIj09PWJ3JiZNKXtidigpfWVsc2V7YU8uYXBwbHkoYm4sW2J3LGJ2XSl9fTtibi5pbXBvcnREZWZhdWx0cz1mdW5jdGlvbihidyl7Zm9yKHZhciBidiBpbiBidyl7Ym4uRGVmYXVsdHNbYnZdPWJ3W2J2XX19O2JuLnJlc3RvcmVEZWZhdWx0cz1mdW5jdGlvbigpe2JuLkRlZmF1bHRzPXAuZXh0ZW5kKHt9LGFDKX07dmFyIFA9bnVsbCxhcj1mdW5jdGlvbigpe3AucmVwYWludEV2ZXJ5dGhpbmcoKX0sYnA9dHJ1ZSxhUD1mdW5jdGlvbigpe2lmKGJwKXthcigpfX0sYmU9bnVsbCxNPWZhbHNlLGFZPXt9LGFUPXt9LGFVPXt9LGFoPXt9LGJyPXt9LGJmPXt9LGJtPXt9LGJ1PVtdLGFlPVtdLFE9dGhpcy5EZWZhdWx0cy5TY29wZSxYPW51bGwsVj1mdW5jdGlvbihieSxidyxieCl7dmFyIGJ2PWJ5W2J3XTtpZihidj09bnVsbCl7YnY9W107YnlbYnddPWJ2fWJ2LnB1c2goYngpO3JldHVybiBidn0sYVc9ZnVuY3Rpb24oYncsYnYpe2lmKGJuLkRlZmF1bHRzLkNvbnRhaW5lcil7cC5DdXJyZW50TGlicmFyeS5hcHBlbmRFbGVtZW50KGJ3LGJuLkRlZmF1bHRzLkNvbnRhaW5lcil9ZWxzZXtpZighYnYpe2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYncpfWVsc2V7cC5DdXJyZW50TGlicmFyeS5hcHBlbmRFbGVtZW50KGJ3LGJ2KX19fSxhRD0xLGFrPWZ1bmN0aW9uKCl7cmV0dXJuXCJcIithRCsrfSxhST1mdW5jdGlvbihidil7cmV0dXJuIGJ2Ll9ub2Rlcz9idi5fbm9kZXM6YnZ9LGE2PWZhbHNlLGJnPWZ1bmN0aW9uKGJ3LGJ2KXthNj1idztpZihidil7Ym4ucmVwYWludEV2ZXJ5dGhpbmcoKX19LGJhPWZ1bmN0aW9uKGJ4LGJ6LGJ5KXtpZighYTYpe3ZhciBiQT1kKGJ4LFwiaWRcIiksYnY9Ym4uZHJhZ01hbmFnZXIuZ2V0RWxlbWVudHNGb3JEcmFnZ2FibGUoYkEpO2lmKGJ5PT1udWxsKXtieT1yKCl9Ym4uYW5jaG9yTWFuYWdlci5yZWRyYXcoYkEsYnosYnkpO2lmKGJ2KXtmb3IodmFyIGJ3IGluIGJ2KXtibi5hbmNob3JNYW5hZ2VyLnJlZHJhdyhidltid10uaWQsYnosYnksYnZbYnddLm9mZnNldCl9fX19LGFHPWZ1bmN0aW9uKGJ3LGJ5KXt2YXIgYno9bnVsbDtpZihuKGJ3KSl7Yno9W107Zm9yKHZhciBidj0wO2J2PGJ3Lmxlbmd0aDtidisrKXt2YXIgYng9Rihid1tidl0pLGJBPWQoYngsXCJpZFwiKTtiei5wdXNoKGJ5KGJ4LGJBKSl9fWVsc2V7dmFyIGJ4PUYoYncpLGJBPWQoYngsXCJpZFwiKTtiej1ieShieCxiQSl9cmV0dXJuIGJ6fSxhdj1mdW5jdGlvbihidil7cmV0dXJuIGFVW2J2XX0sYmI9ZnVuY3Rpb24oYnosYnYsYkMpe3ZhciBiRT1idj09bnVsbD9mYWxzZTpidixiQT1wLkN1cnJlbnRMaWJyYXJ5O2lmKGJFKXtpZihiQS5pc0RyYWdTdXBwb3J0ZWQoYnopJiYhYkEuaXNBbHJlYWR5RHJhZ2dhYmxlKGJ6KSl7dmFyIGJEPWJDfHxibi5EZWZhdWx0cy5EcmFnT3B0aW9uc3x8cC5EZWZhdWx0cy5EcmFnT3B0aW9ucztiRD1wLmV4dGVuZCh7fSxiRCk7dmFyIGJCPWJBLmRyYWdFdmVudHMuZHJhZyxidz1iQS5kcmFnRXZlbnRzLnN0b3AsYnk9YkEuZHJhZ0V2ZW50cy5zdGFydDtiRFtieV09YW0oYkRbYnldLGZ1bmN0aW9uKCl7Ym4uc2V0SG92ZXJTdXNwZW5kZWQodHJ1ZSl9KTtiRFtiQl09YW0oYkRbYkJdLGZ1bmN0aW9uKCl7dmFyIGJGPWJBLmdldFVJUG9zaXRpb24oYXJndW1lbnRzKTtiYShieixiRik7QihieixcImpzUGx1bWJfZHJhZ2dlZFwiKX0pO2JEW2J3XT1hbShiRFtid10sZnVuY3Rpb24oKXt2YXIgYkY9YkEuZ2V0VUlQb3NpdGlvbihhcmd1bWVudHMpO2JhKGJ6LGJGKTtvKGJ6LFwianNQbHVtYl9kcmFnZ2VkXCIpO2JuLnNldEhvdmVyU3VzcGVuZGVkKGZhbHNlKX0pO3ZhciBieD1LKGJ6KTtibVtieF09dHJ1ZTt2YXIgYkU9Ym1bYnhdO2JELmRpc2FibGVkPWJFPT1udWxsP2ZhbHNlOiFiRTtiQS5pbml0RHJhZ2dhYmxlKGJ6LGJELGZhbHNlKTtibi5kcmFnTWFuYWdlci5yZWdpc3Rlcihieil9fX0sYUE9ZnVuY3Rpb24oYkIsYncpe3ZhciBidj1wLmV4dGVuZCh7fSxiQik7aWYoYncpe3AuZXh0ZW5kKGJ2LGJ3KX1pZihidi5zb3VyY2UmJmJ2LnNvdXJjZS5lbmRwb2ludCl7YnYuc291cmNlRW5kcG9pbnQ9YnYuc291cmNlfWlmKGJ2LnNvdXJjZSYmYnYudGFyZ2V0LmVuZHBvaW50KXtidi50YXJnZXRFbmRwb2ludD1idi50YXJnZXR9aWYoYkIudXVpZHMpe2J2LnNvdXJjZUVuZHBvaW50PWF2KGJCLnV1aWRzWzBdKTtidi50YXJnZXRFbmRwb2ludD1hdihiQi51dWlkc1sxXSl9aWYoYnYuc291cmNlRW5kcG9pbnQmJmJ2LnNvdXJjZUVuZHBvaW50LmlzRnVsbCgpKXtxKGJuLFwiY291bGQgbm90IGFkZCBjb25uZWN0aW9uOyBzb3VyY2UgZW5kcG9pbnQgaXMgZnVsbFwiKTtyZXR1cm59aWYoYnYudGFyZ2V0RW5kcG9pbnQmJmJ2LnRhcmdldEVuZHBvaW50LmlzRnVsbCgpKXtxKGJuLFwiY291bGQgbm90IGFkZCBjb25uZWN0aW9uOyB0YXJnZXQgZW5kcG9pbnQgaXMgZnVsbFwiKTtyZXR1cm59aWYoYnYuc291cmNlRW5kcG9pbnQmJmJ2LnNvdXJjZUVuZHBvaW50LmNvbm5lY3Rvck92ZXJsYXlzKXtidi5vdmVybGF5cz1idi5vdmVybGF5c3x8W107Zm9yKHZhciBiej0wO2J6PGJ2LnNvdXJjZUVuZHBvaW50LmNvbm5lY3Rvck92ZXJsYXlzLmxlbmd0aDtieisrKXtidi5vdmVybGF5cy5wdXNoKGJ2LnNvdXJjZUVuZHBvaW50LmNvbm5lY3Rvck92ZXJsYXlzW2J6XSl9fWJ2LnRvb2x0aXA9YkIudG9vbHRpcDtpZighYnYudG9vbHRpcCYmYnYuc291cmNlRW5kcG9pbnQmJmJ2LnNvdXJjZUVuZHBvaW50LmNvbm5lY3RvclRvb2x0aXApe2J2LnRvb2x0aXA9YnYuc291cmNlRW5kcG9pbnQuY29ubmVjdG9yVG9vbHRpcH1pZihidi50YXJnZXQmJiFidi50YXJnZXQuZW5kcG9pbnQmJiFidi50YXJnZXRFbmRwb2ludCYmIWJ2Lm5ld0Nvbm5lY3Rpb24pe3ZhciBiQT1LKGJ2LnRhcmdldCksYkM9YVpbYkFdLGJ4PWFIW2JBXTtpZihiQyl7aWYoIWFqW2JBXSl7cmV0dXJufXZhciBieT1ieCE9bnVsbD9ieDpibi5hZGRFbmRwb2ludChidi50YXJnZXQsYkMpO2lmKGJoW2JBXSl7YUhbYkFdPWJ5fWJ2LnRhcmdldEVuZHBvaW50PWJ5O2J5Ll9tYWtlVGFyZ2V0Q3JlYXRvcj10cnVlfX1pZihidi5zb3VyY2UmJiFidi5zb3VyY2UuZW5kcG9pbnQmJiFidi5zb3VyY2VFbmRwb2ludCYmIWJ2Lm5ld0Nvbm5lY3Rpb24pe3ZhciBiQT1LKGJ2LnNvdXJjZSksYkM9YXpbYkFdLGJ4PWE1W2JBXTtpZihiQyl7aWYoIWFjW2JBXSl7cmV0dXJufXZhciBieT1ieCE9bnVsbD9ieDpibi5hZGRFbmRwb2ludChidi5zb3VyY2UsYkMpO2lmKGE5W2JBXSl7YTVbYkFdPWJ5fWJ2LnNvdXJjZUVuZHBvaW50PWJ5fX1yZXR1cm4gYnZ9LGFkPWZ1bmN0aW9uKGJ6KXt2YXIgYnk9Ym4uRGVmYXVsdHMuQ29ubmVjdGlvblR5cGV8fGJuLmdldERlZmF1bHRDb25uZWN0aW9uVHlwZSgpLGJ4PWJuLkRlZmF1bHRzLkVuZHBvaW50VHlwZXx8YWYsYnc9cC5DdXJyZW50TGlicmFyeS5nZXRQYXJlbnQ7aWYoYnouY29udGFpbmVyKXtiei5wYXJlbnQ9YnouY29udGFpbmVyfWVsc2V7aWYoYnouc291cmNlRW5kcG9pbnQpe2J6LnBhcmVudD1iei5zb3VyY2VFbmRwb2ludC5wYXJlbnR9ZWxzZXtpZihiei5zb3VyY2UuY29uc3RydWN0b3I9PWJ4KXtiei5wYXJlbnQ9Ynouc291cmNlLnBhcmVudH1lbHNle2J6LnBhcmVudD1idyhiei5zb3VyY2UpfX19YnouX2pzUGx1bWI9Ym47dmFyIGJ2PW5ldyBieShieik7YnYuaWQ9XCJjb25fXCIrYWsoKTticyhcImNsaWNrXCIsXCJjbGlja1wiLGJ2KTticyhcImRibGNsaWNrXCIsXCJkYmxjbGlja1wiLGJ2KTticyhcImNvbnRleHRtZW51XCIsXCJjb250ZXh0bWVudVwiLGJ2KTtyZXR1cm4gYnZ9LGJ0PWZ1bmN0aW9uKGJ3LGJ4LGJ2KXtieD1ieHx8e307aWYoIWJ3LnN1c3BlbmRlZEVuZHBvaW50KXtWKGFZLGJ3LnNjb3BlLGJ3KX1pZighYnguZG9Ob3RGaXJlQ29ubmVjdGlvbkV2ZW50JiZieC5maXJlRXZlbnQhPT1mYWxzZSl7Ym4uZmlyZShcImpzUGx1bWJDb25uZWN0aW9uXCIse2Nvbm5lY3Rpb246Yncsc291cmNlOmJ3LnNvdXJjZSx0YXJnZXQ6YncudGFyZ2V0LHNvdXJjZUlkOmJ3LnNvdXJjZUlkLHRhcmdldElkOmJ3LnRhcmdldElkLHNvdXJjZUVuZHBvaW50OmJ3LmVuZHBvaW50c1swXSx0YXJnZXRFbmRwb2ludDpidy5lbmRwb2ludHNbMV19LGJ2KX1ibi5hbmNob3JNYW5hZ2VyLm5ld0Nvbm5lY3Rpb24oYncpO2JhKGJ3LnNvdXJjZSl9LGJzPWZ1bmN0aW9uKGJ2LGJ3LGJ4KXtieC5iaW5kKGJ2LGZ1bmN0aW9uKGJ6LGJ5KXtibi5maXJlKGJ3LGJ4LGJ5KX0pfSxhdz1mdW5jdGlvbihieCl7aWYoYnguY29udGFpbmVyKXtyZXR1cm4gYnguY29udGFpbmVyfWVsc2V7dmFyIGJ2PXAuQ3VycmVudExpYnJhcnkuZ2V0VGFnTmFtZShieC5zb3VyY2UpLGJ3PXAuQ3VycmVudExpYnJhcnkuZ2V0UGFyZW50KGJ4LnNvdXJjZSk7aWYoYnYmJmJ2LnRvTG93ZXJDYXNlKCk9PT1cInRkXCIpe3JldHVybiBwLkN1cnJlbnRMaWJyYXJ5LmdldFBhcmVudChidyl9ZWxzZXtyZXR1cm4gYnd9fX0sYUY9ZnVuY3Rpb24oYngpe3ZhciBidz1ibi5EZWZhdWx0cy5FbmRwb2ludFR5cGV8fGFmO2J4LnBhcmVudD1hdyhieCk7YnguX2pzUGx1bWI9Ym47dmFyIGJ2PW5ldyBidyhieCk7YnYuaWQ9XCJlcF9cIithaygpO2JzKFwiY2xpY2tcIixcImVuZHBvaW50Q2xpY2tcIixidik7YnMoXCJkYmxjbGlja1wiLFwiZW5kcG9pbnREYmxDbGlja1wiLGJ2KTticyhcImNvbnRleHRtZW51XCIsXCJjb250ZXh0bWVudVwiLGJ2KTtyZXR1cm4gYnZ9LFU9ZnVuY3Rpb24oYngsYkEsYnope3ZhciBidj1hVFtieF07aWYoYnYmJmJ2Lmxlbmd0aCl7Zm9yKHZhciBieT0wO2J5PGJ2Lmxlbmd0aDtieSsrKXtmb3IodmFyIGJ3PTA7Ync8YnZbYnldLmNvbm5lY3Rpb25zLmxlbmd0aDtidysrKXt2YXIgYkI9YkEoYnZbYnldLmNvbm5lY3Rpb25zW2J3XSk7aWYoYkIpe3JldHVybn19aWYoYnope2J6KGJ2W2J5XSl9fX19LFk9ZnVuY3Rpb24oYncpe2Zvcih2YXIgYnYgaW4gYVQpe1UoYnYsYncpfX0sYXU9ZnVuY3Rpb24oYnYsYncpe2lmKGJ2IT1udWxsJiZidi5wYXJlbnROb2RlIT1udWxsKXtidi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJ2KX19LGFYPWZ1bmN0aW9uKGJ4LGJ3KXtmb3IodmFyIGJ2PTA7YnY8YngubGVuZ3RoO2J2Kyspe2F1KGJ4W2J2XSxidyl9fSxiaz1mdW5jdGlvbihidyxidil7cmV0dXJuIGFHKGJ3LGZ1bmN0aW9uKGJ4LGJ5KXtibVtieV09YnY7aWYocC5DdXJyZW50TGlicmFyeS5pc0RyYWdTdXBwb3J0ZWQoYngpKXtwLkN1cnJlbnRMaWJyYXJ5LnNldERyYWdnYWJsZShieCxidil9fSl9LGEzPWZ1bmN0aW9uKGJ4LGJ5LGJ2KXtieT1ieT09PVwiYmxvY2tcIjt2YXIgYnc9bnVsbDtpZihidil7aWYoYnkpe2J3PWZ1bmN0aW9uKGJBKXtiQS5zZXRWaXNpYmxlKHRydWUsdHJ1ZSx0cnVlKX19ZWxzZXtidz1mdW5jdGlvbihiQSl7YkEuc2V0VmlzaWJsZShmYWxzZSx0cnVlLHRydWUpfX19dmFyIGJ6PWQoYngsXCJpZFwiKTtVKGJ6LGZ1bmN0aW9uKGJCKXtpZihieSYmYnYpe3ZhciBiQT1iQi5zb3VyY2VJZD09PWJ6PzE6MDtpZihiQi5lbmRwb2ludHNbYkFdLmlzVmlzaWJsZSgpKXtiQi5zZXRWaXNpYmxlKHRydWUpfX1lbHNle2JCLnNldFZpc2libGUoYnkpfX0sYncpfSxiaT1mdW5jdGlvbihidil7cmV0dXJuIGFHKGJ2LGZ1bmN0aW9uKGJ4LGJ3KXt2YXIgYnk9Ym1bYnddPT1udWxsP2ZhbHNlOmJtW2J3XTtieT0hYnk7Ym1bYnddPWJ5O3AuQ3VycmVudExpYnJhcnkuc2V0RHJhZ2dhYmxlKGJ4LGJ5KTtyZXR1cm4gYnl9KX0sYVE9ZnVuY3Rpb24oYnYsYngpe3ZhciBidz1udWxsO2lmKGJ4KXtidz1mdW5jdGlvbihieSl7dmFyIGJ6PWJ5LmlzVmlzaWJsZSgpO2J5LnNldFZpc2libGUoIWJ6KX19VShidixmdW5jdGlvbihieil7dmFyIGJ5PWJ6LmlzVmlzaWJsZSgpO2J6LnNldFZpc2libGUoIWJ5KX0sYncpfSxXPWZ1bmN0aW9uKGJBKXt2YXIgYnk9YkEudGltZXN0YW1wLGJ2PWJBLnJlY2FsYyxiej1iQS5vZmZzZXQsYnc9YkEuZWxJZDtpZighYnYpe2lmKGJ5JiZieT09PWJyW2J3XSl7cmV0dXJuIGFoW2J3XX19aWYoYnZ8fCFieil7dmFyIGJ4PUYoYncpO2lmKGJ4IT1udWxsKXthZVtid109YShieCk7YWhbYnddPXQoYngpO2JyW2J3XT1ieX19ZWxzZXthaFtid109Yno7aWYoYWVbYnddPT1udWxsKXt2YXIgYng9Rihidyk7aWYoYnghPW51bGwpe2FlW2J3XT1hKGJ4KX19fWlmKGFoW2J3XSYmIWFoW2J3XS5yaWdodCl7YWhbYnddLnJpZ2h0PWFoW2J3XS5sZWZ0K2FlW2J3XVswXTthaFtid10uYm90dG9tPWFoW2J3XS50b3ArYWVbYnddWzFdO2FoW2J3XS53aWR0aD1hZVtid11bMF07YWhbYnddLmhlaWdodD1hZVtid11bMV07YWhbYnddLmNlbnRlcng9YWhbYnddLmxlZnQrKGFoW2J3XS53aWR0aC8yKTthaFtid10uY2VudGVyeT1haFtid10udG9wKyhhaFtid10uaGVpZ2h0LzIpfXJldHVybiBhaFtid119LGFOPWZ1bmN0aW9uKGJ2KXt2YXIgYnc9YWhbYnZdO2lmKCFidyl7Ync9Vyh7ZWxJZDpidn0pfXJldHVybntvOmJ3LHM6YWVbYnZdfX0sSz1mdW5jdGlvbihidixidyxieSl7dmFyIGJ4PUYoYnYpO3ZhciBiej1kKGJ4LFwiaWRcIik7aWYoIWJ6fHxiej09XCJ1bmRlZmluZWRcIil7aWYoYXJndW1lbnRzLmxlbmd0aD09MiYmYXJndW1lbnRzWzFdIT11bmRlZmluZWQpe2J6PWJ3fWVsc2V7aWYoYXJndW1lbnRzLmxlbmd0aD09MXx8KGFyZ3VtZW50cy5sZW5ndGg9PTMmJiFhcmd1bWVudHNbMl0pKXtiej1cImpzUGx1bWJfXCIrYUwrXCJfXCIrYWsoKX19ZihieCxcImlkXCIsYnopfXJldHVybiBien0sYW09ZnVuY3Rpb24oYngsYnYsYncpe2J4PWJ4fHxmdW5jdGlvbigpe307YnY9YnZ8fGZ1bmN0aW9uKCl7fTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYnk9bnVsbDt0cnl7Ynk9YnYuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGJ6KXtxKGJuLFwianNQbHVtYiBmdW5jdGlvbiBmYWlsZWQgOiBcIitieil9aWYoYnc9PW51bGx8fChieSE9PWJ3KSl7dHJ5e2J4LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jYXRjaChieil7cShibixcIndyYXBwZWQgZnVuY3Rpb24gZmFpbGVkIDogXCIrYnopfX1yZXR1cm4gYnl9fTt0aGlzLmNvbm5lY3RvckNsYXNzPVwiX2pzUGx1bWJfY29ubmVjdG9yXCI7dGhpcy5lbmRwb2ludENsYXNzPVwiX2pzUGx1bWJfZW5kcG9pbnRcIjt0aGlzLm92ZXJsYXlDbGFzcz1cIl9qc1BsdW1iX292ZXJsYXlcIjt0aGlzLkFuY2hvcnM9e307dGhpcy5Db25uZWN0b3JzPXtjYW52YXM6e30sc3ZnOnt9LHZtbDp7fX07dGhpcy5FbmRwb2ludHM9e2NhbnZhczp7fSxzdmc6e30sdm1sOnt9fTt0aGlzLk92ZXJsYXlzPXtjYW52YXM6e30sc3ZnOnt9LHZtbDp7fX07dGhpcy5hZGRDbGFzcz1mdW5jdGlvbihidyxidil7cmV0dXJuIHAuQ3VycmVudExpYnJhcnkuYWRkQ2xhc3MoYncsYnYpfTt0aGlzLnJlbW92ZUNsYXNzPWZ1bmN0aW9uKGJ3LGJ2KXtyZXR1cm4gcC5DdXJyZW50TGlicmFyeS5yZW1vdmVDbGFzcyhidyxidil9O3RoaXMuaGFzQ2xhc3M9ZnVuY3Rpb24oYncsYnYpe3JldHVybiBwLkN1cnJlbnRMaWJyYXJ5Lmhhc0NsYXNzKGJ3LGJ2KX07dGhpcy5hZGRFbmRwb2ludD1mdW5jdGlvbihieCxieSxiSCl7Ykg9Ykh8fHt9O3ZhciBidz1wLmV4dGVuZCh7fSxiSCk7cC5leHRlbmQoYncsYnkpO2J3LmVuZHBvaW50PWJ3LmVuZHBvaW50fHxibi5EZWZhdWx0cy5FbmRwb2ludHx8cC5EZWZhdWx0cy5FbmRwb2ludDtidy5wYWludFN0eWxlPWJ3LnBhaW50U3R5bGV8fGJuLkRlZmF1bHRzLkVuZHBvaW50U3R5bGV8fHAuRGVmYXVsdHMuRW5kcG9pbnRTdHlsZTtieD1hSShieCk7dmFyIGJ6PVtdLGJDPWJ4Lmxlbmd0aCYmYnguY29uc3RydWN0b3IhPVN0cmluZz9ieDpbYnhdO2Zvcih2YXIgYkE9MDtiQTxiQy5sZW5ndGg7YkErKyl7dmFyIGJGPUYoYkNbYkFdKSxidj1LKGJGKTtidy5zb3VyY2U9YkY7Vyh7ZWxJZDpidn0pO3ZhciBiRT1hRihidyk7aWYoYncucGFyZW50QW5jaG9yKXtiRS5wYXJlbnRBbmNob3I9YncucGFyZW50QW5jaG9yfVYoYVQsYnYsYkUpO3ZhciBiRD1haFtidl0sYkI9YWVbYnZdO3ZhciBiRz1iRS5hbmNob3IuY29tcHV0ZSh7eHk6W2JELmxlZnQsYkQudG9wXSx3aDpiQixlbGVtZW50OmJFfSk7YkUucGFpbnQoe2FuY2hvckxvYzpiR30pO2J6LnB1c2goYkUpO2JuLmRyYWdNYW5hZ2VyLmVuZHBvaW50QWRkZWQoYkYpfXJldHVybiBiei5sZW5ndGg9PTE/YnpbMF06Ynp9O3RoaXMuYWRkRW5kcG9pbnRzPWZ1bmN0aW9uKGJ6LGJ3LGJ2KXt2YXIgYnk9W107Zm9yKHZhciBieD0wO2J4PGJ3Lmxlbmd0aDtieCsrKXt2YXIgYkE9Ym4uYWRkRW5kcG9pbnQoYnosYndbYnhdLGJ2KTtpZihuKGJBKSl7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYnksYkEpfWVsc2V7YnkucHVzaChiQSl9fXJldHVybiBieX07dGhpcy5hbmltYXRlPWZ1bmN0aW9uKGJ4LGJ3LGJ2KXt2YXIgYnk9RihieCksYkI9ZChieCxcImlkXCIpO2J2PWJ2fHx7fTt2YXIgYkE9cC5DdXJyZW50TGlicmFyeS5kcmFnRXZlbnRzLnN0ZXA7dmFyIGJ6PXAuQ3VycmVudExpYnJhcnkuZHJhZ0V2ZW50cy5jb21wbGV0ZTtidltiQV09YW0oYnZbYkFdLGZ1bmN0aW9uKCl7Ym4ucmVwYWludChiQil9KTtidltiel09YW0oYnZbYnpdLGZ1bmN0aW9uKCl7Ym4ucmVwYWludChiQil9KTtwLkN1cnJlbnRMaWJyYXJ5LmFuaW1hdGUoYnksYncsYnYpfTt0aGlzLmNoZWNrQ29uZGl0aW9uPWZ1bmN0aW9uKGJ4LGJ6KXt2YXIgYnY9Ym4uZ2V0TGlzdGVuZXIoYngpO3ZhciBieT10cnVlO2lmKGJ2JiZidi5sZW5ndGg+MCl7dHJ5e2Zvcih2YXIgYnc9MDtidzxidi5sZW5ndGg7YncrKyl7Ynk9YnkmJmJ2W2J3XShieil9fWNhdGNoKGJBKXtxKGJuLFwiY2Fubm90IGNoZWNrIGNvbmRpdGlvbiBbXCIrYngrXCJdXCIrYkEpfX1yZXR1cm4gYnl9O3RoaXMuY29ubmVjdD1mdW5jdGlvbihieSxidyl7dmFyIGJ2PWFBKGJ5LGJ3KTtpZihidil7aWYoYnYuZGVsZXRlRW5kcG9pbnRzT25EZXRhY2g9PW51bGwpe2J2LmRlbGV0ZUVuZHBvaW50c09uRGV0YWNoPXRydWV9dmFyIGJ4PWFkKGJ2KTtidChieCxidik7cmV0dXJuIGJ4fX07dGhpcy5kZWxldGVFbmRwb2ludD1mdW5jdGlvbihidyl7dmFyIGJCPSh0eXBlb2YgYnc9PVwic3RyaW5nXCIpP2FVW2J3XTpidztpZihiQil7dmFyIGJ5PWJCLmdldFV1aWQoKTtpZihieSl7YVVbYnldPW51bGx9YkIuZGV0YWNoQWxsKCk7YVgoYkIuZW5kcG9pbnQuZ2V0RGlzcGxheUVsZW1lbnRzKCkpO2JuLmFuY2hvck1hbmFnZXIuZGVsZXRlRW5kcG9pbnQoYkIpO2Zvcih2YXIgYkEgaW4gYVQpe3ZhciBidj1hVFtiQV07aWYoYnYpe3ZhciBiej1bXTtmb3IodmFyIGJ4PTA7Yng8YnYubGVuZ3RoO2J4Kyspe2lmKGJ2W2J4XSE9YkIpe2J6LnB1c2goYnZbYnhdKX19YVRbYkFdPWJ6fX1ibi5kcmFnTWFuYWdlci5lbmRwb2ludERlbGV0ZWQoYkIpfX07dGhpcy5kZWxldGVFdmVyeUVuZHBvaW50PWZ1bmN0aW9uKCl7Zm9yKHZhciBieCBpbiBhVCl7dmFyIGJ2PWFUW2J4XTtpZihidiYmYnYubGVuZ3RoKXtmb3IodmFyIGJ3PTA7Ync8YnYubGVuZ3RoO2J3Kyspe2JuLmRlbGV0ZUVuZHBvaW50KGJ2W2J3XSl9fX1kZWxldGUgYVQ7YVQ9e307ZGVsZXRlIGFVO2FVPXt9fTt2YXIgYTc9ZnVuY3Rpb24oYnksYkEsYnYpe3ZhciBieD1ibi5EZWZhdWx0cy5Db25uZWN0aW9uVHlwZXx8Ym4uZ2V0RGVmYXVsdENvbm5lY3Rpb25UeXBlKCksYnc9YnkuY29uc3RydWN0b3I9PWJ4LGJ6PWJ3P3tjb25uZWN0aW9uOmJ5LHNvdXJjZTpieS5zb3VyY2UsdGFyZ2V0OmJ5LnRhcmdldCxzb3VyY2VJZDpieS5zb3VyY2VJZCx0YXJnZXRJZDpieS50YXJnZXRJZCxzb3VyY2VFbmRwb2ludDpieS5lbmRwb2ludHNbMF0sdGFyZ2V0RW5kcG9pbnQ6YnkuZW5kcG9pbnRzWzFdfTpieTtpZihiQSl7Ym4uZmlyZShcImpzUGx1bWJDb25uZWN0aW9uRGV0YWNoZWRcIixieixidil9Ym4uYW5jaG9yTWFuYWdlci5jb25uZWN0aW9uRGV0YWNoZWQoYnopfSxhND1mdW5jdGlvbihidil7Ym4uZmlyZShcImNvbm5lY3Rpb25EcmFnXCIsYnYpfSxhUj1mdW5jdGlvbihidil7Ym4uZmlyZShcImNvbm5lY3Rpb25EcmFnU3RvcFwiLGJ2KX07dGhpcy5kZXRhY2g9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPT0wKXtyZXR1cm59dmFyIGJ6PWJuLkRlZmF1bHRzLkNvbm5lY3Rpb25UeXBlfHxibi5nZXREZWZhdWx0Q29ubmVjdGlvblR5cGUoKSxiQT1hcmd1bWVudHNbMF0uY29uc3RydWN0b3I9PWJ6LGJ5PWFyZ3VtZW50cy5sZW5ndGg9PTI/YkE/KGFyZ3VtZW50c1sxXXx8e30pOmFyZ3VtZW50c1swXTphcmd1bWVudHNbMF0sYkQ9KGJ5LmZpcmVFdmVudCE9PWZhbHNlKSxieD1ieS5mb3JjZURldGFjaCxidz1iQT9hcmd1bWVudHNbMF06YnkuY29ubmVjdGlvbjtpZihidyl7aWYoYnh8fChidy5pc0RldGFjaEFsbG93ZWQoYncpJiZidy5lbmRwb2ludHNbMF0uaXNEZXRhY2hBbGxvd2VkKGJ3KSYmYncuZW5kcG9pbnRzWzFdLmlzRGV0YWNoQWxsb3dlZChidykpKXtpZihieHx8Ym4uY2hlY2tDb25kaXRpb24oXCJiZWZvcmVEZXRhY2hcIixidykpe2J3LmVuZHBvaW50c1swXS5kZXRhY2goYncsZmFsc2UsdHJ1ZSxiRCl9fX1lbHNle3ZhciBidj1wLmV4dGVuZCh7fSxieSk7aWYoYnYudXVpZHMpe2F2KGJ2LnV1aWRzWzBdKS5kZXRhY2hGcm9tKGF2KGJ2LnV1aWRzWzFdKSxiRCl9ZWxzZXtpZihidi5zb3VyY2VFbmRwb2ludCYmYnYudGFyZ2V0RW5kcG9pbnQpe2J2LnNvdXJjZUVuZHBvaW50LmRldGFjaEZyb20oYnYudGFyZ2V0RW5kcG9pbnQpfWVsc2V7dmFyIGJDPUsoYnYuc291cmNlKSxiQj1LKGJ2LnRhcmdldCk7VShiQyxmdW5jdGlvbihiRSl7aWYoKGJFLnNvdXJjZUlkPT1iQyYmYkUudGFyZ2V0SWQ9PWJCKXx8KGJFLnRhcmdldElkPT1iQyYmYkUuc291cmNlSWQ9PWJCKSl7aWYoYm4uY2hlY2tDb25kaXRpb24oXCJiZWZvcmVEZXRhY2hcIixiRSkpe2JFLmVuZHBvaW50c1swXS5kZXRhY2goYkUsZmFsc2UsdHJ1ZSxiRCl9fX0pfX19fTt0aGlzLmRldGFjaEFsbENvbm5lY3Rpb25zPWZ1bmN0aW9uKGJ4LGJ5KXtieT1ieXx8e307Yng9RihieCk7dmFyIGJ6PWQoYngsXCJpZFwiKSxidj1hVFtiel07aWYoYnYmJmJ2Lmxlbmd0aCl7Zm9yKHZhciBidz0wO2J3PGJ2Lmxlbmd0aDtidysrKXtidltid10uZGV0YWNoQWxsKGJ5LmZpcmVFdmVudCl9fX07dGhpcy5kZXRhY2hFdmVyeUNvbm5lY3Rpb249ZnVuY3Rpb24oYngpe2J4PWJ4fHx7fTtmb3IodmFyIGJ5IGluIGFUKXt2YXIgYnY9YVRbYnldO2lmKGJ2JiZidi5sZW5ndGgpe2Zvcih2YXIgYnc9MDtidzxidi5sZW5ndGg7YncrKyl7YnZbYnddLmRldGFjaEFsbChieC5maXJlRXZlbnQpfX19ZGVsZXRlIGFZO2FZPXt9fTt0aGlzLmRyYWdnYWJsZT1mdW5jdGlvbihieCxidil7aWYodHlwZW9mIGJ4PT1cIm9iamVjdFwiJiZieC5sZW5ndGgpe2Zvcih2YXIgYnc9MDtidzxieC5sZW5ndGg7YncrKyl7dmFyIGJ5PUYoYnhbYnddKTtpZihieSl7YmIoYnksdHJ1ZSxidil9fX1lbHNle2lmKGJ4Ll9ub2Rlcyl7Zm9yKHZhciBidz0wO2J3PGJ4Ll9ub2Rlcy5sZW5ndGg7YncrKyl7dmFyIGJ5PUYoYnguX25vZGVzW2J3XSk7aWYoYnkpe2JiKGJ5LHRydWUsYnYpfX19ZWxzZXt2YXIgYnk9RihieCk7aWYoYnkpe2JiKGJ5LHRydWUsYnYpfX19fTt0aGlzLmV4dGVuZD1mdW5jdGlvbihidyxidil7cmV0dXJuIHAuQ3VycmVudExpYnJhcnkuZXh0ZW5kKGJ3LGJ2KX07dGhpcy5nZXREZWZhdWx0RW5kcG9pbnRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGFmfTt0aGlzLmdldERlZmF1bHRDb25uZWN0aW9uVHlwZT1mdW5jdGlvbigpe3JldHVybiBheH07dmFyIGJxPWZ1bmN0aW9uKGJ6LGJ5LGJ3LGJ2KXtmb3IodmFyIGJ4PTA7Yng8YnoubGVuZ3RoO2J4Kyspe2J6W2J4XVtieV0uYXBwbHkoYnpbYnhdLGJ3KX1yZXR1cm4gYnYoYnopfSxTPWZ1bmN0aW9uKGJ6LGJ5LGJ3KXt2YXIgYnY9W107Zm9yKHZhciBieD0wO2J4PGJ6Lmxlbmd0aDtieCsrKXtidi5wdXNoKFtieltieF1bYnldLmFwcGx5KGJ6W2J4XSxidyksYnpbYnhdXSl9cmV0dXJuIGJ2fSxhbj1mdW5jdGlvbihieCxidyxidil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGJxKGJ4LGJ3LGFyZ3VtZW50cyxidil9fSxheT1mdW5jdGlvbihidyxidil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIFMoYncsYnYsYXJndW1lbnRzKX19O3RoaXMuZ2V0Q29ubmVjdGlvbnM9ZnVuY3Rpb24oYkgsYncpe2lmKCFiSCl7Ykg9e319ZWxzZXtpZihiSC5jb25zdHJ1Y3Rvcj09U3RyaW5nKXtiSD17c2NvcGU6Ykh9fX12YXIgYkU9ZnVuY3Rpb24oYkkpe3ZhciBiSj1bXTtpZihiSSl7aWYodHlwZW9mIGJJPT1cInN0cmluZ1wiKXtpZihiST09PVwiKlwiKXtyZXR1cm4gYkl9YkoucHVzaChiSSl9ZWxzZXtiSj1iSX19cmV0dXJuIGJKfSxiRj1iSC5zY29wZXx8Ym4uZ2V0RGVmYXVsdFNjb3BlKCksYkQ9YkUoYkYpLGJ2PWJFKGJILnNvdXJjZSksYkI9YkUoYkgudGFyZ2V0KSxieD1mdW5jdGlvbihiSixiSSl7aWYoYko9PT1cIipcIil7cmV0dXJuIHRydWV9cmV0dXJuIGJKLmxlbmd0aD4wP0ooYkosYkkpIT0tMTp0cnVlfSxiQT0oIWJ3JiZiRC5sZW5ndGg+MSk/e306W10sYkc9ZnVuY3Rpb24oYkosYkspe2lmKCFidyYmYkQubGVuZ3RoPjEpe3ZhciBiST1iQVtiSl07aWYoYkk9PW51bGwpe2JJPVtdO2JBW2JKXT1iSX1iSS5wdXNoKGJLKX1lbHNle2JBLnB1c2goYkspfX07Zm9yKHZhciBieiBpbiBhWSl7aWYoYngoYkQsYnopKXtmb3IodmFyIGJ5PTA7Ynk8YVlbYnpdLmxlbmd0aDtieSsrKXt2YXIgYkM9YVlbYnpdW2J5XTtpZihieChidixiQy5zb3VyY2VJZCkmJmJ4KGJCLGJDLnRhcmdldElkKSl7YkcoYnosYkMpfX19fXJldHVybiBiQX07dmFyIGFLPWZ1bmN0aW9uKGJ2KXtyZXR1cm57c2V0SG92ZXI6YW4oYnYsXCJzZXRIb3ZlclwiLGFLKSxyZW1vdmVBbGxPdmVybGF5czphbihidixcInJlbW92ZUFsbE92ZXJsYXlzXCIsYUspLHNldExhYmVsOmFuKGJ2LFwic2V0TGFiZWxcIixhSyksYWRkT3ZlcmxheTphbihidixcImFkZE92ZXJsYXlcIixhSykscmVtb3ZlT3ZlcmxheTphbihidixcInJlbW92ZU92ZXJsYXlcIixhSykscmVtb3ZlT3ZlcmxheXM6YW4oYnYsXCJyZW1vdmVPdmVybGF5c1wiLGFLKSxzaG93T3ZlcmxheTphbihidixcInNob3dPdmVybGF5XCIsYUspLGhpZGVPdmVybGF5OmFuKGJ2LFwiaGlkZU92ZXJsYXlcIixhSyksc2hvd092ZXJsYXlzOmFuKGJ2LFwic2hvd092ZXJsYXlzXCIsYUspLGhpZGVPdmVybGF5czphbihidixcImhpZGVPdmVybGF5c1wiLGFLKSxzZXRQYWludFN0eWxlOmFuKGJ2LFwic2V0UGFpbnRTdHlsZVwiLGFLKSxzZXRIb3ZlclBhaW50U3R5bGU6YW4oYnYsXCJzZXRIb3ZlclBhaW50U3R5bGVcIixhSyksc2V0RGV0YWNoYWJsZTphbihidixcInNldERldGFjaGFibGVcIixhSyksc2V0Q29ubmVjdG9yOmFuKGJ2LFwic2V0Q29ubmVjdG9yXCIsYUspLHNldFBhcmFtZXRlcjphbihidixcInNldFBhcmFtZXRlclwiLGFLKSxzZXRQYXJhbWV0ZXJzOmFuKGJ2LFwic2V0UGFyYW1ldGVyc1wiLGFLKSxkZXRhY2g6ZnVuY3Rpb24oKXtmb3IodmFyIGJ3PTA7Ync8YnYubGVuZ3RoO2J3Kyspe2JuLmRldGFjaChidltid10pfX0sZ2V0TGFiZWw6YXkoYnYsXCJnZXRMYWJlbFwiKSxnZXRPdmVybGF5OmF5KGJ2LFwiZ2V0T3ZlcmxheVwiKSxpc0hvdmVyOmF5KGJ2LFwiaXNIb3ZlclwiKSxpc0RldGFjaGFibGU6YXkoYnYsXCJpc0RldGFjaGFibGVcIiksZ2V0UGFyYW1ldGVyOmF5KGJ2LFwiZ2V0UGFyYW1ldGVyXCIpLGdldFBhcmFtZXRlcnM6YXkoYnYsXCJnZXRQYXJhbWV0ZXJzXCIpLGdldFBhaW50U3R5bGU6YXkoYnYsXCJnZXRQYWludFN0eWxlXCIpLGdldEhvdmVyUGFpbnRTdHlsZTpheShidixcImdldEhvdmVyUGFpbnRTdHlsZVwiKSxsZW5ndGg6YnYubGVuZ3RoLGVhY2g6ZnVuY3Rpb24oYngpe2Zvcih2YXIgYnc9MDtidzxidi5sZW5ndGg7YncrKyl7YngoYnZbYnddKX1yZXR1cm4gYUsoYnYpfSxnZXQ6ZnVuY3Rpb24oYncpe3JldHVybiBidltid119fX07dGhpcy5zZWxlY3Q9ZnVuY3Rpb24oYnYpe2J2PWJ2fHx7fTtidi5zY29wZT1idi5zY29wZXx8XCIqXCI7dmFyIGJ3PWJuLmdldENvbm5lY3Rpb25zKGJ2LHRydWUpO3JldHVybiBhSyhidyl9O3RoaXMuZ2V0QWxsQ29ubmVjdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gYVl9O3RoaXMuZ2V0RGVmYXVsdFNjb3BlPWZ1bmN0aW9uKCl7cmV0dXJuIFF9O3RoaXMuZ2V0RW5kcG9pbnQ9YXY7dGhpcy5nZXRFbmRwb2ludHM9ZnVuY3Rpb24oYnYpe3JldHVybiBhVFtLKGJ2KV19O3RoaXMuZ2V0SWQ9Szt0aGlzLmdldE9mZnNldD1mdW5jdGlvbihidyl7dmFyIGJ2PWFoW2J3XTtyZXR1cm4gVyh7ZWxJZDpid30pfTt0aGlzLmdldFNlbGVjdG9yPWZ1bmN0aW9uKGJ2KXtyZXR1cm4gcC5DdXJyZW50TGlicmFyeS5nZXRTZWxlY3Rvcihidil9O3RoaXMuZ2V0U2l6ZT1mdW5jdGlvbihidyl7dmFyIGJ2PWFlW2J3XTtpZighYnYpe1coe2VsSWQ6Ynd9KX1yZXR1cm4gYWVbYnddfTt0aGlzLmFwcGVuZEVsZW1lbnQ9YVc7dmFyIGFTPWZhbHNlO3RoaXMuaXNIb3ZlclN1c3BlbmRlZD1mdW5jdGlvbigpe3JldHVybiBhU307dGhpcy5zZXRIb3ZlclN1c3BlbmRlZD1mdW5jdGlvbihidil7YVM9YnZ9O3RoaXMuaXNDYW52YXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gQX07dGhpcy5pc1NWR0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiBlfTt0aGlzLmlzVk1MQXZhaWxhYmxlPWI7dGhpcy5oaWRlPWZ1bmN0aW9uKGJ2LGJ3KXthMyhidixcIm5vbmVcIixidyl9O3RoaXMuaWRzdGFtcD1hazt0aGlzLmluaXQ9ZnVuY3Rpb24oKXtpZighTSl7Ym4uc2V0UmVuZGVyTW9kZShibi5EZWZhdWx0cy5SZW5kZXJNb2RlKTt2YXIgYnY9ZnVuY3Rpb24oYncpe3AuQ3VycmVudExpYnJhcnkuYmluZChkb2N1bWVudCxidyxmdW5jdGlvbihiQyl7aWYoIWJuLmN1cnJlbnRseURyYWdnaW5nJiZYPT1wLkNBTlZBUyl7Zm9yKHZhciBiQiBpbiBhWSl7dmFyIGJEPWFZW2JCXTtmb3IodmFyIGJ6PTA7Yno8YkQubGVuZ3RoO2J6Kyspe3ZhciBieT1iRFtiel0uY29ubmVjdG9yW2J3XShiQyk7aWYoYnkpe3JldHVybn19fWZvcih2YXIgYkEgaW4gYVQpe3ZhciBieD1hVFtiQV07Zm9yKHZhciBiej0wO2J6PGJ4Lmxlbmd0aDtieisrKXtpZihieFtiel0uZW5kcG9pbnRbYnddKGJDKSl7cmV0dXJufX19fX0pfTtidihcImNsaWNrXCIpO2J2KFwiZGJsY2xpY2tcIik7YnYoXCJtb3VzZW1vdmVcIik7YnYoXCJtb3VzZWRvd25cIik7YnYoXCJtb3VzZXVwXCIpO2J2KFwiY29udGV4dG1lbnVcIik7TT10cnVlO2JuLmZpcmUoXCJyZWFkeVwiKX19O3RoaXMubG9nPVA7dGhpcy5qc1BsdW1iVUlDb21wb25lbnQ9RTt0aGlzLm1ha2VBbmNob3I9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPT0wKXtyZXR1cm4gbnVsbH12YXIgYkE9YXJndW1lbnRzWzBdLGJ4PWFyZ3VtZW50c1sxXSxidz1hcmd1bWVudHNbMl0sYnk9bnVsbDtpZihiQS5jb21wdXRlJiZiQS5nZXRPcmllbnRhdGlvbil7cmV0dXJuIGJBfWVsc2V7aWYodHlwZW9mIGJBPT1cInN0cmluZ1wiKXtieT1wLkFuY2hvcnNbYXJndW1lbnRzWzBdXSh7ZWxlbWVudElkOmJ4LGpzUGx1bWJJbnN0YW5jZTpibn0pfWVsc2V7aWYobihiQSkpe2lmKG4oYkFbMF0pfHxDKGJBWzBdKSl7aWYoYkEubGVuZ3RoPT0yJiZDKGJBWzBdKSYmdyhiQVsxXSkpe3ZhciBidj1wLmV4dGVuZCh7ZWxlbWVudElkOmJ4LGpzUGx1bWJJbnN0YW5jZTpibn0sYkFbMV0pO2J5PXAuQW5jaG9yc1tiQVswXV0oYnYpfWVsc2V7Ynk9bmV3IGFxKGJBLG51bGwsYngpfX1lbHNle3ZhciBiej17eDpiQVswXSx5OmJBWzFdLG9yaWVudGF0aW9uOihiQS5sZW5ndGg+PTQpP1tiQVsyXSxiQVszXV06WzAsMF0sb2Zmc2V0czooYkEubGVuZ3RoPT02KT9bYkFbNF0sYkFbNV1dOlswLDBdLGVsZW1lbnRJZDpieH07Ynk9bmV3IGFhKGJ6KTtieS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgYWEoYnopfX19fX1pZighYnkuaWQpe2J5LmlkPVwiYW5jaG9yX1wiK2FrKCl9cmV0dXJuIGJ5fTt0aGlzLm1ha2VBbmNob3JzPWZ1bmN0aW9uKGJ5LGJ3LGJ2KXt2YXIgYno9W107Zm9yKHZhciBieD0wO2J4PGJ5Lmxlbmd0aDtieCsrKXtpZih0eXBlb2YgYnlbYnhdPT1cInN0cmluZ1wiKXtiei5wdXNoKHAuQW5jaG9yc1tieVtieF1dKHtlbGVtZW50SWQ6YncsanNQbHVtYkluc3RhbmNlOmJ2fSkpfWVsc2V7aWYobihieVtieF0pKXtiei5wdXNoKGJuLm1ha2VBbmNob3IoYnlbYnhdLGJ3LGJ2KSl9fX1yZXR1cm4gYnp9O3RoaXMubWFrZUR5bmFtaWNBbmNob3I9ZnVuY3Rpb24oYnYsYncpe3JldHVybiBuZXcgYXEoYnYsYncpfTt2YXIgYVo9e30sYUg9e30sYmg9e30sYXA9e30sYWI9ZnVuY3Rpb24oYnYsYncpe2J2LnBhaW50U3R5bGU9YnYucGFpbnRTdHlsZXx8Ym4uRGVmYXVsdHMuRW5kcG9pbnRTdHlsZXNbYnddfHxibi5EZWZhdWx0cy5FbmRwb2ludFN0eWxlfHxwLkRlZmF1bHRzLkVuZHBvaW50U3R5bGVzW2J3XXx8cC5EZWZhdWx0cy5FbmRwb2ludFN0eWxlO2J2LmhvdmVyUGFpbnRTdHlsZT1idi5ob3ZlclBhaW50U3R5bGV8fGJuLkRlZmF1bHRzLkVuZHBvaW50SG92ZXJTdHlsZXNbYnddfHxibi5EZWZhdWx0cy5FbmRwb2ludEhvdmVyU3R5bGV8fHAuRGVmYXVsdHMuRW5kcG9pbnRIb3ZlclN0eWxlc1tid118fHAuRGVmYXVsdHMuRW5kcG9pbnRIb3ZlclN0eWxlO2J2LmFuY2hvcj1idi5hbmNob3J8fGJuLkRlZmF1bHRzLkFuY2hvcnNbYnddfHxibi5EZWZhdWx0cy5BbmNob3J8fHAuRGVmYXVsdHMuQW5jaG9yc1tid118fHAuRGVmYXVsdHMuQW5jaG9yO2J2LmVuZHBvaW50PWJ2LmVuZHBvaW50fHxibi5EZWZhdWx0cy5FbmRwb2ludHNbYnddfHxibi5EZWZhdWx0cy5FbmRwb2ludHx8cC5EZWZhdWx0cy5FbmRwb2ludHNbYnddfHxwLkRlZmF1bHRzLkVuZHBvaW50fTt0aGlzLm1ha2VUYXJnZXQ9ZnVuY3Rpb24oYnksYnosYkYpe3ZhciBidz1wLmV4dGVuZCh7X2pzUGx1bWI6Ym59LGJGKTtwLmV4dGVuZChidyxieik7YWIoYncsMSk7dmFyIGJEPXAuQ3VycmVudExpYnJhcnksYkU9Yncuc2NvcGV8fGJuLkRlZmF1bHRzLlNjb3BlLGJBPSEoYncuZGVsZXRlRW5kcG9pbnRzT25EZXRhY2g9PT1mYWxzZSksYng9YncubWF4Q29ubmVjdGlvbnN8fC0xLGJ2PWZ1bmN0aW9uKGJLKXt2YXIgYkk9SyhiSyk7YVpbYkldPWJ3O2JoW2JJXT1idy51bmlxdWVFbmRwb2ludCxhcFtiSV09YngsYWpbYkldPXRydWUscHJveHlDb21wb25lbnQ9bmV3IEUoYncpO3ZhciBiSD1wLmV4dGVuZCh7fSxidy5kcm9wT3B0aW9uc3x8e30pLGJHPWZ1bmN0aW9uKCl7dmFyIGJOPXAuQ3VycmVudExpYnJhcnkuZ2V0RHJvcEV2ZW50KGFyZ3VtZW50cyksYlA9Ym4uc2VsZWN0KHt0YXJnZXQ6Ykl9KS5sZW5ndGg7aWYoIWFqW2JJXXx8YXBbYkldPjAmJmJQPj1hcFtiSV0pe2NvbnNvbGUubG9nKFwidGFyZ2V0IGVsZW1lbnQgXCIrYkkrXCIgaXMgZnVsbC5cIik7cmV0dXJuIGZhbHNlfWJuLmN1cnJlbnRseURyYWdnaW5nPWZhbHNlO3ZhciBiWj1GKGJELmdldERyYWdPYmplY3QoYXJndW1lbnRzKSksYk89ZChiWixcImRyYWdJZFwiKSxiWD1kKGJaLFwib3JpZ2luYWxTY29wZVwiKSxiVT1iZltiT10sYk09YlUuZW5kcG9pbnRzWzBdLGJMPWJ3LmVuZHBvaW50P3AuZXh0ZW5kKHt9LGJ3LmVuZHBvaW50KTp7fTtiTS5hbmNob3IubG9ja2VkPWZhbHNlO2lmKGJYKXtiRC5zZXREcmFnU2NvcGUoYlosYlgpfXZhciBiUz1wcm94eUNvbXBvbmVudC5pc0Ryb3BBbGxvd2VkKGJVLnNvdXJjZUlkLEsoYkspLGJVLnNjb3BlLGJVLG51bGwpO2lmKGJVLmVuZHBvaW50c1RvRGVsZXRlT25EZXRhY2gpe2lmKGJNPT09YlUuZW5kcG9pbnRzVG9EZWxldGVPbkRldGFjaFswXSl7YlUuZW5kcG9pbnRzVG9EZWxldGVPbkRldGFjaFswXT1udWxsfWVsc2V7aWYoYk09PT1iVS5lbmRwb2ludHNUb0RlbGV0ZU9uRGV0YWNoWzFdKXtiVS5lbmRwb2ludHNUb0RlbGV0ZU9uRGV0YWNoWzFdPW51bGx9fX1pZihiVS5zdXNwZW5kZWRFbmRwb2ludCl7YlUudGFyZ2V0SWQ9YlUuc3VzcGVuZGVkRW5kcG9pbnQuZWxlbWVudElkO2JVLnRhcmdldD1iRC5nZXRFbGVtZW50T2JqZWN0KGJVLnN1c3BlbmRlZEVuZHBvaW50LmVsZW1lbnRJZCk7YlUuZW5kcG9pbnRzWzFdPWJVLnN1c3BlbmRlZEVuZHBvaW50fWlmKGJTKXtiTS5kZXRhY2goYlUsZmFsc2UsdHJ1ZSxmYWxzZSk7dmFyIGJZPWFIW2JJXXx8Ym4uYWRkRW5kcG9pbnQoYkssYncpO2lmKGJ3LnVuaXF1ZUVuZHBvaW50KXthSFtiSV09Yll9YlkuX21ha2VUYXJnZXRDcmVhdG9yPXRydWU7aWYoYlkuYW5jaG9yLnBvc2l0aW9uRmluZGVyIT1udWxsKXt2YXIgYlY9YkQuZ2V0VUlQb3NpdGlvbihhcmd1bWVudHMpLGJSPWJELmdldE9mZnNldChiSyksYlc9YkQuZ2V0U2l6ZShiSyksYlE9YlkuYW5jaG9yLnBvc2l0aW9uRmluZGVyKGJWLGJSLGJXLGJZLmFuY2hvci5jb25zdHJ1Y3RvclBhcmFtcyk7YlkuYW5jaG9yLng9YlFbMF07YlkuYW5jaG9yLnk9YlFbMV19dmFyIGJUPWJuLmNvbm5lY3Qoe3NvdXJjZTpiTSx0YXJnZXQ6Ylksc2NvcGU6YlgscHJldmlvdXNDb25uZWN0aW9uOmJVLGNvbnRhaW5lcjpiVS5wYXJlbnQsZGVsZXRlRW5kcG9pbnRzT25EZXRhY2g6YkEsZG9Ob3RGaXJlQ29ubmVjdGlvbkV2ZW50OmJNLmVuZHBvaW50V2lsbE1vdmVBZnRlckNvbm5lY3Rpb259KTtpZihiVS5lbmRwb2ludHNbMV0uX21ha2VUYXJnZXRDcmVhdG9yJiZiVS5lbmRwb2ludHNbMV0uY29ubmVjdGlvbnMubGVuZ3RoPDIpe2JuLmRlbGV0ZUVuZHBvaW50KGJVLmVuZHBvaW50c1sxXSl9aWYoYkEpe2JULmVuZHBvaW50c1RvRGVsZXRlT25EZXRhY2g9W2JNLGJZXX1iVC5yZXBhaW50KCl9ZWxzZXtpZihiVS5zdXNwZW5kZWRFbmRwb2ludCl7aWYoYk0uaXNSZWF0dGFjaCl7YlUuc2V0SG92ZXIoZmFsc2UpO2JVLmZsb2F0aW5nQW5jaG9ySW5kZXg9bnVsbDtiVS5zdXNwZW5kZWRFbmRwb2ludC5hZGRDb25uZWN0aW9uKGJVKTtibi5yZXBhaW50KGJNLmVsZW1lbnRJZCl9ZWxzZXtiTS5kZXRhY2goYlUsZmFsc2UsdHJ1ZSx0cnVlLGJOKX19fX07dmFyIGJKPWJELmRyYWdFdmVudHMuZHJvcDtiSC5zY29wZT1iSC5zY29wZXx8YkU7YkhbYkpdPWFtKGJIW2JKXSxiRyk7YkQuaW5pdERyb3BwYWJsZShiSyxiSCx0cnVlKX07Ynk9YUkoYnkpO3ZhciBiQz1ieS5sZW5ndGgmJmJ5LmNvbnN0cnVjdG9yIT1TdHJpbmc/Ynk6W2J5XTtmb3IodmFyIGJCPTA7YkI8YkMubGVuZ3RoO2JCKyspe2J2KEYoYkNbYkJdKSl9cmV0dXJuIGJufTt0aGlzLnVubWFrZVRhcmdldD1mdW5jdGlvbihidyxieCl7Ync9cC5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGJ3KTt2YXIgYnY9Syhidyk7aWYoIWJ4KXtkZWxldGUgYVpbYnZdO2RlbGV0ZSBiaFtidl07ZGVsZXRlIGFwW2J2XTtkZWxldGUgYWpbYnZdfXJldHVybiBibn07dGhpcy5tYWtlVGFyZ2V0cz1mdW5jdGlvbihieCxieSxidil7Zm9yKHZhciBidz0wO2J3PGJ4Lmxlbmd0aDtidysrKXtibi5tYWtlVGFyZ2V0KGJ4W2J3XSxieSxidil9fTt2YXIgYXo9e30sYTU9e30sYTk9e30sYWM9e30sTj17fSxhaj17fTt0aGlzLm1ha2VTb3VyY2U9ZnVuY3Rpb24oYnosYkMsYnYpe3ZhciBiQT1wLmV4dGVuZCh7fSxidik7cC5leHRlbmQoYkEsYkMpO2FiKGJBLDApO3ZhciBieT1wLkN1cnJlbnRMaWJyYXJ5LGJCPWZ1bmN0aW9uKGJLKXt2YXIgYkU9SyhiSyksYkw9YkEucGFyZW50LGJEPWJMIT1udWxsP2JuLmdldElkKGJ5LmdldEVsZW1lbnRPYmplY3QoYkwpKTpiRTtheltiRF09YkE7YTlbYkRdPWJBLnVuaXF1ZUVuZHBvaW50O2FjW2JEXT10cnVlO3ZhciBiRj1ieS5kcmFnRXZlbnRzLnN0b3AsYko9YnkuZHJhZ0V2ZW50cy5kcmFnLGJNPXAuZXh0ZW5kKHt9LGJBLmRyYWdPcHRpb25zfHx7fSksYkg9Yk0uZHJhZyxiTj1iTS5zdG9wLGJPPW51bGwsYkk9ZmFsc2U7Yk0uc2NvcGU9Yk0uc2NvcGV8fGJBLnNjb3BlO2JNW2JKXT1hbShiTVtiSl0sZnVuY3Rpb24oKXtpZihiSCl7YkguYXBwbHkodGhpcyxhcmd1bWVudHMpfWJJPWZhbHNlfSk7Yk1bYkZdPWFtKGJNW2JGXSxmdW5jdGlvbigpe2lmKGJOKXtiTi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Ym4uY3VycmVudGx5RHJhZ2dpbmc9ZmFsc2U7aWYoYk8uY29ubmVjdGlvbnMubGVuZ3RoPT0wKXtibi5kZWxldGVFbmRwb2ludChiTyl9ZWxzZXtieS51bmJpbmQoYk8uY2FudmFzLFwibW91c2Vkb3duXCIpO3ZhciBiUT1iQS5hbmNob3J8fGJuLkRlZmF1bHRzLkFuY2hvcixiUj1iTy5hbmNob3IsYlQ9Yk8uY29ubmVjdGlvbnNbMF07Yk8uYW5jaG9yPWJuLm1ha2VBbmNob3IoYlEsYkUsYm4pO2lmKGJBLnBhcmVudCl7dmFyIGJTPWJ5LmdldEVsZW1lbnRPYmplY3QoYkEucGFyZW50KTtpZihiUyl7dmFyIGJQPWJPLmVsZW1lbnRJZDt2YXIgYlU9YkEuY29udGFpbmVyfHxibi5EZWZhdWx0cy5Db250YWluZXJ8fHAuRGVmYXVsdHMuQ29udGFpbmVyO2JPLnNldEVsZW1lbnQoYlMsYlUpO2JPLmVuZHBvaW50V2lsbE1vdmVBZnRlckNvbm5lY3Rpb249ZmFsc2U7Ym4uYW5jaG9yTWFuYWdlci5yZWhvbWVFbmRwb2ludChiUCxiUyk7YlQucHJldmlvdXNDb25uZWN0aW9uPW51bGw7RChhWVtiVC5zY29wZV0sZnVuY3Rpb24oYlYpe3JldHVybiBiVi5pZD09PWJULmlkfSk7Ym4uYW5jaG9yTWFuYWdlci5jb25uZWN0aW9uRGV0YWNoZWQoe3NvdXJjZUlkOmJULnNvdXJjZUlkLHRhcmdldElkOmJULnRhcmdldElkLGNvbm5lY3Rpb246YlR9KTtidChiVCl9fWJPLnJlcGFpbnQoKTtibi5yZXBhaW50KGJPLmVsZW1lbnRJZCk7Ym4ucmVwYWludChiVC50YXJnZXRJZCl9fSk7dmFyIGJHPWZ1bmN0aW9uKGJTKXtpZighYWNbYkRdKXtyZXR1cm59aWYoYkMuZmlsdGVyKXt2YXIgYlA9YkMuZmlsdGVyKGJ5LmdldE9yaWdpbmFsRXZlbnQoYlMpLGJLKTtpZihiUD09PWZhbHNlKXtyZXR1cm59fXZhciBiVz1XKHtlbElkOmJFfSk7dmFyIGJWPSgoYlMucGFnZVh8fGJTLnBhZ2UueCktYlcubGVmdCkvYlcud2lkdGgsYlU9KChiUy5wYWdlWXx8YlMucGFnZS55KS1iVy50b3ApL2JXLmhlaWdodCxiMD1iVixiWj1iVTtpZihiQS5wYXJlbnQpe3ZhciBiVD1ieS5nZXRFbGVtZW50T2JqZWN0KGJBLnBhcmVudCksYlI9SyhiVCk7Ylc9Vyh7ZWxJZDpiUn0pO2IwPSgoYlMucGFnZVh8fGJTLnBhZ2UueCktYlcubGVmdCkvYlcud2lkdGgsYlo9KChiUy5wYWdlWXx8YlMucGFnZS55KS1iVy50b3ApL2JXLmhlaWdodH12YXIgYlk9e307cC5leHRlbmQoYlksYkEpO2JZLmlzU291cmNlPXRydWU7YlkuYW5jaG9yPVtiVixiVSwwLDBdO2JZLnBhcmVudEFuY2hvcj1bYjAsYlosMCwwXTtiWS5kcmFnT3B0aW9ucz1iTTtpZihiQS5wYXJlbnQpe3ZhciBiUT1iWS5jb250YWluZXJ8fGJuLkRlZmF1bHRzLkNvbnRhaW5lcnx8cC5EZWZhdWx0cy5Db250YWluZXI7aWYoYlEpe2JZLmNvbnRhaW5lcj1iUX1lbHNle2JZLmNvbnRhaW5lcj1wLkN1cnJlbnRMaWJyYXJ5LmdldFBhcmVudChiQS5wYXJlbnQpfX1iTz1ibi5hZGRFbmRwb2ludChiRSxiWSk7Ykk9dHJ1ZTtiTy5lbmRwb2ludFdpbGxNb3ZlQWZ0ZXJDb25uZWN0aW9uPWJBLnBhcmVudCE9bnVsbDtiTy5lbmRwb2ludFdpbGxNb3ZlVG89YkEucGFyZW50P2J5LmdldEVsZW1lbnRPYmplY3QoYkEucGFyZW50KTpudWxsO3ZhciBiWD1mdW5jdGlvbigpe2lmKGJJKXtibi5kZWxldGVFbmRwb2ludChiTyl9fTtibi5yZWdpc3Rlckxpc3RlbmVyKGJPLmNhbnZhcyxcIm1vdXNldXBcIixiWCk7Ym4ucmVnaXN0ZXJMaXN0ZW5lcihiSyxcIm1vdXNldXBcIixiWCk7YnkudHJpZ2dlcihiTy5jYW52YXMsXCJtb3VzZWRvd25cIixiUyl9O2JuLnJlZ2lzdGVyTGlzdGVuZXIoYkssXCJtb3VzZWRvd25cIixiRyk7TltiRV09Ykd9O2J6PWFJKGJ6KTt2YXIgYnc9YnoubGVuZ3RoJiZiei5jb25zdHJ1Y3RvciE9U3RyaW5nP2J6Oltiel07Zm9yKHZhciBieD0wO2J4PGJ3Lmxlbmd0aDtieCsrKXtiQihGKGJ3W2J4XSkpfXJldHVybiBibn07dGhpcy51bm1ha2VTb3VyY2U9ZnVuY3Rpb24oYncsYngpe2J3PXAuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChidyk7dmFyIGJ5PUsoYncpLGJ2PU5bYnldO2lmKGJ2KXtibi51bnJlZ2lzdGVyTGlzdGVuZXIoX2VsLFwibW91c2Vkb3duXCIsYnYpfWlmKCFieCl7ZGVsZXRlIGF6W2J5XTtkZWxldGUgYTlbYnldO2RlbGV0ZSBhY1tieV07ZGVsZXRlIE5bYnldfXJldHVybiBibn07dGhpcy51bm1ha2VFdmVyeVNvdXJjZT1mdW5jdGlvbigpe2Zvcih2YXIgYnYgaW4gYWMpe2JuLnVubWFrZVNvdXJjZShidix0cnVlKX1hej17fTthOT17fTthYz17fTtOPXt9fTt0aGlzLnVubWFrZUV2ZXJ5VGFyZ2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciBidiBpbiBhail7Ym4udW5tYWtlVGFyZ2V0KGJ2LHRydWUpfWFaPXt9O2JoPXt9O2FwPXt9O2FqPXt9O3JldHVybiBibn07dGhpcy5tYWtlU291cmNlcz1mdW5jdGlvbihieCxieSxidil7Zm9yKHZhciBidz0wO2J3PGJ4Lmxlbmd0aDtidysrKXtibi5tYWtlU291cmNlKGJ4W2J3XSxieSxidil9cmV0dXJuIGJufTt2YXIgYU09ZnVuY3Rpb24oYnosYnksYkEsYnYpe3ZhciBidz1iej09XCJzb3VyY2VcIj9hYzphajtpZihDKGJ5KSl7YndbYnldPWJ2PyFid1tieV06YkF9ZWxzZXtpZihieS5sZW5ndGgpe2J5PWFJKGJ5KTtmb3IodmFyIGJ4PTA7Yng8YnkubGVuZ3RoO2J4Kyspe3ZhciBiQj1fZWw9cC5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGJ5W2J4XSksYkI9SyhfZWwpO2J3W2JCXT1idj8hYndbYkJdOmJBfX19cmV0dXJuIGJufTt0aGlzLnNldFNvdXJjZUVuYWJsZWQ9ZnVuY3Rpb24oYnYsYncpe3JldHVybiBhTShcInNvdXJjZVwiLGJ2LGJ3KX07dGhpcy50b2dnbGVTb3VyY2VFbmFibGVkPWZ1bmN0aW9uKGJ2KXthTShcInNvdXJjZVwiLGJ2LG51bGwsdHJ1ZSk7cmV0dXJuIGJuLmlzU291cmNlRW5hYmxlZChidil9O3RoaXMuaXNTb3VyY2U9ZnVuY3Rpb24oYnYpe2J2PXAuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChidik7cmV0dXJuIGFjW0soYnYpXSE9bnVsbH07dGhpcy5pc1NvdXJjZUVuYWJsZWQ9ZnVuY3Rpb24oYnYpe2J2PXAuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChidik7cmV0dXJuIGFjW0soYnYpXT09PXRydWV9O3RoaXMuc2V0VGFyZ2V0RW5hYmxlZD1mdW5jdGlvbihidixidyl7cmV0dXJuIGFNKFwidGFyZ2V0XCIsYnYsYncpfTt0aGlzLnRvZ2dsZVRhcmdldEVuYWJsZWQ9ZnVuY3Rpb24oYnYpe3JldHVybiBhTShcInRhcmdldFwiLGJ2LG51bGwsdHJ1ZSk7cmV0dXJuIGJuLmlzVGFyZ2V0RW5hYmxlZChidil9O3RoaXMuaXNUYXJnZXQ9ZnVuY3Rpb24oYnYpe2J2PXAuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChidik7cmV0dXJuIGFqW0soYnYpXSE9bnVsbH07dGhpcy5pc1RhcmdldEVuYWJsZWQ9ZnVuY3Rpb24oYnYpe2J2PXAuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChidik7cmV0dXJuIGFqW0soYnYpXT09PXRydWV9O3RoaXMucmVhZHk9ZnVuY3Rpb24oYnYpe2JuLmJpbmQoXCJyZWFkeVwiLGJ2KX0sdGhpcy5yZXBhaW50PWZ1bmN0aW9uKGJ3KXt2YXIgYng9ZnVuY3Rpb24oYnkpe2JhKEYoYnkpKX07aWYodHlwZW9mIGJ3PT1cIm9iamVjdFwiKXtmb3IodmFyIGJ2PTA7YnY8YncubGVuZ3RoO2J2Kyspe2J4KGJ3W2J2XSl9fWVsc2V7YngoYncpfX07dGhpcy5yZXBhaW50RXZlcnl0aGluZz1mdW5jdGlvbigpe2Zvcih2YXIgYnYgaW4gYVQpe2JhKEYoYnYpLG51bGwsbnVsbCl9fTt0aGlzLnJlbW92ZUFsbEVuZHBvaW50cz1mdW5jdGlvbihieCl7dmFyIGJ2PWQoYngsXCJpZFwiKSxieT1hVFtidl07aWYoYnkpe2Zvcih2YXIgYnc9MDtidzxieS5sZW5ndGg7YncrKyl7Ym4uZGVsZXRlRW5kcG9pbnQoYnlbYnddKX19YVRbYnZdPVtdfTt0aGlzLnJlbW92ZUV2ZXJ5RW5kcG9pbnQ9dGhpcy5kZWxldGVFdmVyeUVuZHBvaW50O3RoaXMucmVtb3ZlRW5kcG9pbnQ9ZnVuY3Rpb24oYnYsYncpe2JuLmRlbGV0ZUVuZHBvaW50KGJ3KX07dmFyIGFnPXt9LGJkPWZ1bmN0aW9uKCl7Zm9yKHZhciBidyBpbiBhZyl7Zm9yKHZhciBidj0wO2J2PGFnW2J3XS5sZW5ndGg7YnYrKyl7dmFyIGJ4PWFnW2J3XVtidl07cC5DdXJyZW50TGlicmFyeS51bmJpbmQoYnguZWwsYnguZXZlbnQsYngubGlzdGVuZXIpfX1hZz17fX07dGhpcy5yZWdpc3Rlckxpc3RlbmVyPWZ1bmN0aW9uKGJ3LGJ2LGJ4KXtwLkN1cnJlbnRMaWJyYXJ5LmJpbmQoYncsYnYsYngpO1YoYWcsYnYse2VsOmJ3LGV2ZW50OmJ2LGxpc3RlbmVyOmJ4fSl9O3RoaXMudW5yZWdpc3Rlckxpc3RlbmVyPWZ1bmN0aW9uKGJ3LGJ2LGJ4KXtwLkN1cnJlbnRMaWJyYXJ5LnVuYmluZChidyxidixieCk7RChhZyxmdW5jdGlvbihieSl7cmV0dXJuIGJ5LnR5cGU9PWJ2JiZieS5saXN0ZW5lcj09Ynh9KX07dGhpcy5yZXNldD1mdW5jdGlvbigpe2JuLmRlbGV0ZUV2ZXJ5RW5kcG9pbnQoKTtibi51bmJpbmQoKTthWj17fTthSD17fTtiaD17fTthcD17fTthej17fTthNT17fTthOT17fTtiZCgpO2JuLmFuY2hvck1hbmFnZXIucmVzZXQoKTtibi5kcmFnTWFuYWdlci5yZXNldCgpfTt0aGlzLnNldERlZmF1bHRTY29wZT1mdW5jdGlvbihidil7UT1idn07dGhpcy5zZXREcmFnZ2FibGU9Yms7dGhpcy5zZXRJZD1mdW5jdGlvbihieixidixiQil7dmFyIGJDPWJ6LmNvbnN0cnVjdG9yPT1TdHJpbmc/Yno6Ym4uZ2V0SWQoYnopLGJ5PWJuLmdldENvbm5lY3Rpb25zKHtzb3VyY2U6YkMsc2NvcGU6XCIqXCJ9LHRydWUpLGJ4PWJuLmdldENvbm5lY3Rpb25zKHt0YXJnZXQ6YkMsc2NvcGU6XCIqXCJ9LHRydWUpO2J2PVwiXCIrYnY7aWYoIWJCKXtiej1wLkN1cnJlbnRMaWJyYXJ5LmdldEVsZW1lbnRPYmplY3QoYkMpO3AuQ3VycmVudExpYnJhcnkuc2V0QXR0cmlidXRlKGJ6LFwiaWRcIixidil9Yno9cC5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGJ2KTthVFtidl09YVRbYkNdfHxbXTtmb3IodmFyIGJ3PTA7Ync8YVRbYnZdLmxlbmd0aDtidysrKXthVFtidl1bYnddLmVsZW1lbnRJZD1idjthVFtidl1bYnddLmVsZW1lbnQ9Yno7YVRbYnZdW2J3XS5hbmNob3IuZWxlbWVudElkPWJ2fWRlbGV0ZSBhVFtiQ107Ym4uYW5jaG9yTWFuYWdlci5jaGFuZ2VJZChiQyxidik7dmFyIGJBPWZ1bmN0aW9uKGJHLGJELGJGKXtmb3IodmFyIGJFPTA7YkU8YkcubGVuZ3RoO2JFKyspe2JHW2JFXS5lbmRwb2ludHNbYkRdLmVsZW1lbnRJZD1idjtiR1tiRV0uZW5kcG9pbnRzW2JEXS5lbGVtZW50PWJ6O2JHW2JFXVtiRitcIklkXCJdPWJ2O2JHW2JFXVtiRl09Ynp9fTtiQShieSwwLFwic291cmNlXCIpO2JBKGJ4LDEsXCJ0YXJnZXRcIil9O3RoaXMuc2V0SWRDaGFuZ2VkPWZ1bmN0aW9uKGJ3LGJ2KXtibi5zZXRJZChidyxidix0cnVlKX07dGhpcy5zZXREZWJ1Z0xvZz1mdW5jdGlvbihidil7UD1idn07dGhpcy5zZXRSZXBhaW50RnVuY3Rpb249ZnVuY3Rpb24oYnYpe2FyPWJ2fTt0aGlzLnNldFN1c3BlbmREcmF3aW5nPWJnO3RoaXMuQ0FOVkFTPVwiY2FudmFzXCI7dGhpcy5TVkc9XCJzdmdcIjt0aGlzLlZNTD1cInZtbFwiO3RoaXMuc2V0UmVuZGVyTW9kZT1mdW5jdGlvbihidil7aWYoYnYpe2J2PWJ2LnRvTG93ZXJDYXNlKCl9ZWxzZXtyZXR1cm59aWYoYnYhPT1wLkNBTlZBUyYmYnYhPT1wLlNWRyYmYnYhPT1wLlZNTCl7dGhyb3cgbmV3IEVycm9yKFwicmVuZGVyIG1vZGUgbXVzdCBiZSBvbmUgb2YganNQbHVtYi5DQU5WQVMsIGpzUGx1bWIuU1ZHIG9yIGpzUGx1bWIuVk1MXCIpfWlmKGJ2PT09cC5TVkcpe2lmKGUpe1g9cC5TVkd9ZWxzZXtpZihBKXtYPXAuQ0FOVkFTfWVsc2V7aWYoYigpKXtYPXAuVk1MfX19fWVsc2V7aWYoYnY9PT1wLkNBTlZBUyYmQSl7WD1wLkNBTlZBU31lbHNle2lmKGIoKSl7WD1wLlZNTH19fXJldHVybiBYfTt0aGlzLmdldFJlbmRlck1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gWH07dGhpcy5zaG93PWZ1bmN0aW9uKGJ2LGJ3KXthMyhidixcImJsb2NrXCIsYncpfTt0aGlzLnNpemVDYW52YXM9ZnVuY3Rpb24oYngsYnYsYnosYncsYnkpe2lmKGJ4KXtieC5zdHlsZS5oZWlnaHQ9YnkrXCJweFwiO2J4LmhlaWdodD1ieTtieC5zdHlsZS53aWR0aD1idytcInB4XCI7Yngud2lkdGg9Ync7Ynguc3R5bGUubGVmdD1iditcInB4XCI7Ynguc3R5bGUudG9wPWJ6K1wicHhcIn19O3RoaXMuZ2V0VGVzdEhhcm5lc3M9ZnVuY3Rpb24oKXtyZXR1cm57ZW5kcG9pbnRzQnlFbGVtZW50OmFULGVuZHBvaW50Q291bnQ6ZnVuY3Rpb24oYnYpe3ZhciBidz1hVFtidl07cmV0dXJuIGJ3P2J3Lmxlbmd0aDowfSxjb25uZWN0aW9uQ291bnQ6ZnVuY3Rpb24oYnYpe2J2PWJ2fHxRO3ZhciBidz1hWVtidl07cmV0dXJuIGJ3P2J3Lmxlbmd0aDowfSxnZXRJZDpLLG1ha2VBbmNob3I6c2VsZi5tYWtlQW5jaG9yLG1ha2VEeW5hbWljQW5jaG9yOnNlbGYubWFrZUR5bmFtaWNBbmNob3J9fTt0aGlzLnRvZ2dsZT1hUTt0aGlzLnRvZ2dsZVZpc2libGU9YVE7dGhpcy50b2dnbGVEcmFnZ2FibGU9Ymk7dGhpcy51bmxvYWQ9ZnVuY3Rpb24oKXt9O3RoaXMud3JhcD1hbTt0aGlzLmFkZExpc3RlbmVyPXRoaXMuYmluZDt2YXIgYm89ZnVuY3Rpb24oYkEsYngpe3ZhciBieT1udWxsLGJ2PWJBO2lmKGJ4LnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PVwic3ZnXCImJmJ4LnBhcmVudE5vZGUpe2J5PWJ4LnBhcmVudE5vZGV9ZWxzZXtpZihieC5vZmZzZXRQYXJlbnQpe2J5PWJ4Lm9mZnNldFBhcmVudH19aWYoYnkhPW51bGwpe3ZhciBidz1ieS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1cImJvZHlcIj97bGVmdDowLHRvcDowfTp0KGJ5KSxiej1ieS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1cImJvZHlcIj97bGVmdDowLHRvcDowfTp7bGVmdDpieS5zY3JvbGxMZWZ0LHRvcDpieS5zY3JvbGxUb3B9O2J2WzBdPWJBWzBdLWJ3LmxlZnQrYnoubGVmdDtidlsxXT1iQVsxXS1idy50b3ArYnoudG9wfXJldHVybiBidn07dmFyIGFhPWZ1bmN0aW9uKGJ6KXt2YXIgYng9dGhpczt0aGlzLng9YnoueHx8MDt0aGlzLnk9YnoueXx8MDt0aGlzLmVsZW1lbnRJZD1iei5lbGVtZW50SWQ7dmFyIGJ3PWJ6Lm9yaWVudGF0aW9ufHxbMCwwXTt2YXIgYnk9bnVsbCxidj1udWxsO3RoaXMub2Zmc2V0cz1iei5vZmZzZXRzfHxbMCwwXTtieC50aW1lc3RhbXA9bnVsbDt0aGlzLmNvbXB1dGU9ZnVuY3Rpb24oYkUpe3ZhciBiRD1iRS54eSxiQT1iRS53aCxiQj1iRS5lbGVtZW50LGJDPWJFLnRpbWVzdGFtcDtpZihiQyYmYkM9PT1ieC50aW1lc3RhbXApe3JldHVybiBidn1idj1bYkRbMF0rKGJ4LngqYkFbMF0pK2J4Lm9mZnNldHNbMF0sYkRbMV0rKGJ4LnkqYkFbMV0pK2J4Lm9mZnNldHNbMV1dO2J2PWJvKGJ2LGJCLmNhbnZhcyk7YngudGltZXN0YW1wPWJDO3JldHVybiBidn07dGhpcy5nZXRPcmllbnRhdGlvbj1mdW5jdGlvbihiQSl7cmV0dXJuIGJ3fTt0aGlzLmVxdWFscz1mdW5jdGlvbihiQSl7aWYoIWJBKXtyZXR1cm4gZmFsc2V9dmFyIGJCPWJBLmdldE9yaWVudGF0aW9uKCk7dmFyIGJDPXRoaXMuZ2V0T3JpZW50YXRpb24oKTtyZXR1cm4gdGhpcy54PT1iQS54JiZ0aGlzLnk9PWJBLnkmJnRoaXMub2Zmc2V0c1swXT09YkEub2Zmc2V0c1swXSYmdGhpcy5vZmZzZXRzWzFdPT1iQS5vZmZzZXRzWzFdJiZiQ1swXT09YkJbMF0mJmJDWzFdPT1iQlsxXX07dGhpcy5nZXRDdXJyZW50TG9jYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gYnZ9fTt2YXIgYTE9ZnVuY3Rpb24oYkIpe3ZhciBiej1iQi5yZWZlcmVuY2UsYkE9YkIucmVmZXJlbmNlQ2FudmFzLGJ4PWEoRihiQSkpLGJ3PTAsYkM9MCxidj1udWxsLGJ5PW51bGw7dGhpcy54PTA7dGhpcy55PTA7dGhpcy5pc0Zsb2F0aW5nPXRydWU7dGhpcy5jb21wdXRlPWZ1bmN0aW9uKGJHKXt2YXIgYkY9YkcueHksYkU9YkcuZWxlbWVudCxiRD1bYkZbMF0rKGJ4WzBdLzIpLGJGWzFdKyhieFsxXS8yKV07YkQ9Ym8oYkQsYkUuY2FudmFzKTtieT1iRDtyZXR1cm4gYkR9O3RoaXMuZ2V0T3JpZW50YXRpb249ZnVuY3Rpb24oYkUpe2lmKGJ2KXtyZXR1cm4gYnZ9ZWxzZXt2YXIgYkQ9YnouZ2V0T3JpZW50YXRpb24oYkUpO3JldHVybltNYXRoLmFicyhiRFswXSkqYncqLTEsTWF0aC5hYnMoYkRbMV0pKmJDKi0xXX19O3RoaXMub3Zlcj1mdW5jdGlvbihiRCl7YnY9YkQuZ2V0T3JpZW50YXRpb24oKX07dGhpcy5vdXQ9ZnVuY3Rpb24oKXtidj1udWxsfTt0aGlzLmdldEN1cnJlbnRMb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybiBieX19O3ZhciBhcT1mdW5jdGlvbihieCxidyxiQyl7dGhpcy5pc1NlbGVjdGl2ZT10cnVlO3RoaXMuaXNEeW5hbWljPXRydWU7dmFyIGJGPVtdLGJFPXRoaXMsYkQ9ZnVuY3Rpb24oYkcpe3JldHVybiBiRy5jb25zdHJ1Y3Rvcj09YWE/Ykc6Ym4ubWFrZUFuY2hvcihiRyxiQyxibil9O2Zvcih2YXIgYkI9MDtiQjxieC5sZW5ndGg7YkIrKyl7YkZbYkJdPWJEKGJ4W2JCXSl9dGhpcy5hZGRBbmNob3I9ZnVuY3Rpb24oYkcpe2JGLnB1c2goYkQoYkcpKX07dGhpcy5nZXRBbmNob3JzPWZ1bmN0aW9uKCl7cmV0dXJuIGJGfTt0aGlzLmxvY2tlZD1mYWxzZTt2YXIgYnk9YkYubGVuZ3RoPjA/YkZbMF06bnVsbCxiQT1iRi5sZW5ndGg+MD8wOi0xLGJFPXRoaXMsYno9ZnVuY3Rpb24oYkksYkcsYk0sYkwsYkgpe3ZhciBiSz1iTFswXSsoYkkueCpiSFswXSksYko9YkxbMV0rKGJJLnkqYkhbMV0pO3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYkctYkssMikrTWF0aC5wb3coYk0tYkosMikpfSxidj1id3x8ZnVuY3Rpb24oYlEsYkgsYkksYkosYkcpe3ZhciBiTD1iSVswXSsoYkpbMF0vMiksYks9YklbMV0rKGJKWzFdLzIpO3ZhciBiTj0tMSxiUD1JbmZpbml0eTtmb3IodmFyIGJNPTA7Yk08YkcubGVuZ3RoO2JNKyspe3ZhciBiTz1ieihiR1tiTV0sYkwsYkssYlEsYkgpO2lmKGJPPGJQKXtiTj1iTSswO2JQPWJPfX1yZXR1cm4gYkdbYk5dfTt0aGlzLmNvbXB1dGU9ZnVuY3Rpb24oYkspe3ZhciBiSj1iSy54eSxiRz1iSy53aCxiST1iSy50aW1lc3RhbXAsYkg9YksudHh5LGJMPWJLLnR3aDtpZihiRS5sb2NrZWR8fGJIPT1udWxsfHxiTD09bnVsbCl7cmV0dXJuIGJ5LmNvbXB1dGUoYkspfWVsc2V7YksudGltZXN0YW1wPW51bGx9Ynk9YnYoYkosYkcsYkgsYkwsYkYpO2JFLng9YnkueDtiRS55PWJ5Lnk7cmV0dXJuIGJ5LmNvbXB1dGUoYkspfTt0aGlzLmdldEN1cnJlbnRMb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybiBieSE9bnVsbD9ieS5nZXRDdXJyZW50TG9jYXRpb24oKTpudWxsfTt0aGlzLmdldE9yaWVudGF0aW9uPWZ1bmN0aW9uKGJHKXtyZXR1cm4gYnkhPW51bGw/YnkuZ2V0T3JpZW50YXRpb24oYkcpOlswLDBdfTt0aGlzLm92ZXI9ZnVuY3Rpb24oYkcpe2lmKGJ5IT1udWxsKXtieS5vdmVyKGJHKX19O3RoaXMub3V0PWZ1bmN0aW9uKCl7aWYoYnkhPW51bGwpe2J5Lm91dCgpfX19O3ZhciBiaj17fSxhaT17fSxhSj17fSxUPXtIT1JJWk9OVEFMOlwiaG9yaXpvbnRhbFwiLFZFUlRJQ0FMOlwidmVydGljYWxcIixESUFHT05BTDpcImRpYWdvbmFsXCIsSURFTlRJVFk6XCJpZGVudGl0eVwifSxibD1mdW5jdGlvbihiRSxiRixiQixieSl7aWYoYkU9PT1iRil7cmV0dXJue29yaWVudGF0aW9uOlQuSURFTlRJVFksYTpbXCJ0b3BcIixcInRvcFwiXX19dmFyIGJ3PU1hdGguYXRhbjIoKGJ5LmNlbnRlcnktYkIuY2VudGVyeSksKGJ5LmNlbnRlcngtYkIuY2VudGVyeCkpLGJ6PU1hdGguYXRhbjIoKGJCLmNlbnRlcnktYnkuY2VudGVyeSksKGJCLmNlbnRlcngtYnkuY2VudGVyeCkpLGJBPSgoYkIubGVmdDw9YnkubGVmdCYmYkIucmlnaHQ+PWJ5LmxlZnQpfHwoYkIubGVmdDw9YnkucmlnaHQmJmJCLnJpZ2h0Pj1ieS5yaWdodCl8fChiQi5sZWZ0PD1ieS5sZWZ0JiZiQi5yaWdodD49YnkucmlnaHQpfHwoYnkubGVmdDw9YkIubGVmdCYmYnkucmlnaHQ+PWJCLnJpZ2h0KSksYkc9KChiQi50b3A8PWJ5LnRvcCYmYkIuYm90dG9tPj1ieS50b3ApfHwoYkIudG9wPD1ieS5ib3R0b20mJmJCLmJvdHRvbT49YnkuYm90dG9tKXx8KGJCLnRvcDw9YnkudG9wJiZiQi5ib3R0b20+PWJ5LmJvdHRvbSl8fChieS50b3A8PWJCLnRvcCYmYnkuYm90dG9tPj1iQi5ib3R0b20pKTtpZighKGJBfHxiRykpe3ZhciBiRD1udWxsLGJ4PWZhbHNlLGJ2PWZhbHNlLGJDPW51bGw7aWYoYnkubGVmdD5iQi5sZWZ0JiZieS50b3A+YkIudG9wKXtiRD1bXCJyaWdodFwiLFwidG9wXCJdfWVsc2V7aWYoYnkubGVmdD5iQi5sZWZ0JiZiQi50b3A+YnkudG9wKXtiRD1bXCJ0b3BcIixcImxlZnRcIl19ZWxzZXtpZihieS5sZWZ0PGJCLmxlZnQmJmJ5LnRvcDxiQi50b3Ape2JEPVtcInRvcFwiLFwicmlnaHRcIl19ZWxzZXtpZihieS5sZWZ0PGJCLmxlZnQmJmJ5LnRvcD5iQi50b3Ape2JEPVtcImxlZnRcIixcInRvcFwiXX19fX1yZXR1cm57b3JpZW50YXRpb246VC5ESUFHT05BTCxhOmJELHRoZXRhOmJ3LHRoZXRhMjpien19ZWxzZXtpZihiQSl7cmV0dXJue29yaWVudGF0aW9uOlQuSE9SSVpPTlRBTCxhOmJCLnRvcDxieS50b3A/W1wiYm90dG9tXCIsXCJ0b3BcIl06W1widG9wXCIsXCJib3R0b21cIl0sdGhldGE6YncsdGhldGEyOmJ6fX1lbHNle3JldHVybntvcmllbnRhdGlvbjpULlZFUlRJQ0FMLGE6YkIubGVmdDxieS5sZWZ0P1tcInJpZ2h0XCIsXCJsZWZ0XCJdOltcImxlZnRcIixcInJpZ2h0XCJdLHRoZXRhOmJ3LHRoZXRhMjpien19fX0sYTI9ZnVuY3Rpb24oYkosYkYsYkQsYkUsYkssYkcsYngpe3ZhciBiTD1bXSxidz1iRltiSz8wOjFdLyhiRS5sZW5ndGgrMSk7Zm9yKHZhciBiSD0wO2JIPGJFLmxlbmd0aDtiSCsrKXt2YXIgYk09KGJIKzEpKmJ3LGJ2PWJHKmJGW2JLPzE6MF07aWYoYngpe2JNPWJGW2JLPzA6MV0tYk19dmFyIGJDPShiSz9iTTpidiksYno9YkRbMF0rYkMsYkI9YkMvYkZbMF0sYkE9KGJLP2J2OmJNKSxieT1iRFsxXStiQSxiST1iQS9iRlsxXTtiTC5wdXNoKFtieixieSxiQixiSSxiRVtiSF1bMV0sYkVbYkhdWzJdXSl9cmV0dXJuIGJMfSxhOD1mdW5jdGlvbihidyxidil7cmV0dXJuIGJ3WzBdPmJ2WzBdPzE6LTF9LFo9ZnVuY3Rpb24oYnYpe3JldHVybiBmdW5jdGlvbihieCxidyl7dmFyIGJ5PXRydWU7aWYoYnYpe2lmKGJ4WzBdWzBdPGJ3WzBdWzBdKXtieT10cnVlfWVsc2V7Ynk9YnhbMF1bMV0+YndbMF1bMV19fWVsc2V7aWYoYnhbMF1bMF0+YndbMF1bMF0pe2J5PXRydWV9ZWxzZXtieT1ieFswXVsxXT5id1swXVsxXX19cmV0dXJuIGJ5PT09ZmFsc2U/LTE6MX19LE89ZnVuY3Rpb24oYncsYnYpe3ZhciBieT1id1swXVswXTwwPy1NYXRoLlBJLWJ3WzBdWzBdOk1hdGguUEktYndbMF1bMF0sYng9YnZbMF1bMF08MD8tTWF0aC5QSS1idlswXVswXTpNYXRoLlBJLWJ2WzBdWzBdO2lmKGJ5PmJ4KXtyZXR1cm4gMX1lbHNle3JldHVybiBid1swXVsxXT5idlswXVsxXT8xOi0xfX0sYTA9e3RvcDphOCxyaWdodDpaKHRydWUpLGJvdHRvbTpaKHRydWUpLGxlZnQ6T30sYW89ZnVuY3Rpb24oYnYsYncpe3JldHVybiBidi5zb3J0KGJ3KX0sYWw9ZnVuY3Rpb24oYncsYnYpe3ZhciBieT1hZVtid10sYno9YWhbYnddLGJ4PWZ1bmN0aW9uKGJHLGJOLGJDLGJGLGJMLGJLLGJCKXtpZihiRi5sZW5ndGg+MCl7dmFyIGJKPWFvKGJGLGEwW2JHXSksYkg9Ykc9PT1cInJpZ2h0XCJ8fGJHPT09XCJ0b3BcIixiQT1hMihiRyxiTixiQyxiSixiTCxiSyxiSCk7dmFyIGJPPWZ1bmN0aW9uKGJSLGJRKXt2YXIgYlA9Ym8oW2JRWzBdLGJRWzFdXSxiUi5jYW52YXMpO2FpW2JSLmlkXT1bYlBbMF0sYlBbMV0sYlFbMl0sYlFbM11dO2FKW2JSLmlkXT1iQn07Zm9yKHZhciBiRD0wO2JEPGJBLmxlbmd0aDtiRCsrKXt2YXIgYkk9YkFbYkRdWzRdLGJNPWJJLmVuZHBvaW50c1swXS5lbGVtZW50SWQ9PT1idyxiRT1iSS5lbmRwb2ludHNbMV0uZWxlbWVudElkPT09Ync7aWYoYk0pe2JPKGJJLmVuZHBvaW50c1swXSxiQVtiRF0pfWVsc2V7aWYoYkUpe2JPKGJJLmVuZHBvaW50c1sxXSxiQVtiRF0pfX19fX07YngoXCJib3R0b21cIixieSxbYnoubGVmdCxiei50b3BdLGJ2LmJvdHRvbSx0cnVlLDEsWzAsMV0pO2J4KFwidG9wXCIsYnksW2J6LmxlZnQsYnoudG9wXSxidi50b3AsdHJ1ZSwwLFswLC0xXSk7YngoXCJsZWZ0XCIsYnksW2J6LmxlZnQsYnoudG9wXSxidi5sZWZ0LGZhbHNlLDAsWy0xLDBdKTtieChcInJpZ2h0XCIsYnksW2J6LmxlZnQsYnoudG9wXSxidi5yaWdodCxmYWxzZSwxLFsxLDBdKX0sYUU9ZnVuY3Rpb24oKXt2YXIgYnY9e30sYno9e30sYnc9dGhpcyxieT17fTt0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7YnY9e307Yno9e307Ynk9e319O3RoaXMubmV3Q29ubmVjdGlvbj1mdW5jdGlvbihiRCl7dmFyIGJGPWJELnNvdXJjZUlkLGJDPWJELnRhcmdldElkLGJBPWJELmVuZHBvaW50cyxiRT10cnVlLGJCPWZ1bmN0aW9uKGJHLGJILGJKLGJJLGJLKXtpZigoYkY9PWJDKSYmYkouaXNDb250aW51b3VzKXtwLkN1cnJlbnRMaWJyYXJ5LnJlbW92ZUVsZW1lbnQoYkFbMV0uY2FudmFzKTtiRT1mYWxzZX1WKGJ6LGJJLFtiSyxiSCxiSi5jb25zdHJ1Y3Rvcj09YXFdKX07YkIoMCxiQVswXSxiQVswXS5hbmNob3IsYkMsYkQpO2lmKGJFKXtiQigxLGJBWzFdLGJBWzFdLmFuY2hvcixiRixiRCl9fTt0aGlzLmNvbm5lY3Rpb25EZXRhY2hlZD1mdW5jdGlvbihiQSl7dmFyIGJCPWJBLmNvbm5lY3Rpb258fGJBO3ZhciBiRz1iQi5zb3VyY2VJZCxiSD1iQi50YXJnZXRJZCxiSz1iQi5lbmRwb2ludHMsYkY9ZnVuY3Rpb24oYkwsYk0sYk8sYk4sYlApe2lmKGJPLmNvbnN0cnVjdG9yPT1hMSl7fWVsc2V7RChieltiTl0sZnVuY3Rpb24oYlEpe3JldHVybiBiUVswXS5pZD09YlAuaWR9KX19O2JGKDEsYktbMV0sYktbMV0uYW5jaG9yLGJHLGJCKTtiRigwLGJLWzBdLGJLWzBdLmFuY2hvcixiSCxiQik7dmFyIGJDPWJCLnNvdXJjZUlkLGJEPWJCLnRhcmdldElkLGJKPWJCLmVuZHBvaW50c1swXS5pZCxiRT1iQi5lbmRwb2ludHNbMV0uaWQsYkk9ZnVuY3Rpb24oYk4sYkwpe2lmKGJOKXt2YXIgYk09ZnVuY3Rpb24oYk8pe3JldHVybiBiT1s0XT09Ykx9O0QoYk4udG9wLGJNKTtEKGJOLmxlZnQsYk0pO0QoYk4uYm90dG9tLGJNKTtEKGJOLnJpZ2h0LGJNKX19O2JJKGJ5W2JDXSxiSik7YkkoYnlbYkRdLGJFKTtidy5yZWRyYXcoYkMpO2J3LnJlZHJhdyhiRCl9O3RoaXMuYWRkPWZ1bmN0aW9uKGJCLGJBKXtWKGJ2LGJBLGJCKX07dGhpcy5jaGFuZ2VJZD1mdW5jdGlvbihiQixiQSl7YnpbYkFdPWJ6W2JCXTtidltiQV09YnZbYkJdO2RlbGV0ZSBieltiQl07ZGVsZXRlIGJ2W2JCXX07dGhpcy5nZXRDb25uZWN0aW9uc0Zvcj1mdW5jdGlvbihiQSl7cmV0dXJuIGJ6W2JBXXx8W119O3RoaXMuZ2V0RW5kcG9pbnRzRm9yPWZ1bmN0aW9uKGJBKXtyZXR1cm4gYnZbYkFdfHxbXX07dGhpcy5kZWxldGVFbmRwb2ludD1mdW5jdGlvbihiQSl7RChidltiQS5lbGVtZW50SWRdLGZ1bmN0aW9uKGJCKXtyZXR1cm4gYkIuaWQ9PWJBLmlkfSl9O3RoaXMuY2xlYXJGb3I9ZnVuY3Rpb24oYkEpe2RlbGV0ZSBidltiQV07YnZbYkFdPVtdfTt2YXIgYng9ZnVuY3Rpb24oYlUsYkgsYlAsYkUsYkssYkwsYk4sYkosYlcsYk0sYkQsYlQpe3ZhciBiUj0tMSxiQz0tMSxiRj1iRS5lbmRwb2ludHNbYk5dLGJPPWJGLmlkLGJJPVsxLDBdW2JOXSxiQT1bW2JILGJQXSxiRSxiSyxiTCxiT10sYkI9YlVbYlddLGJWPWJGLl9jb250aW51b3VzQW5jaG9yRWRnZT9iVVtiRi5fY29udGludW91c0FuY2hvckVkZ2VdOm51bGw7aWYoYlYpe3ZhciBiUz1pKGJWLGZ1bmN0aW9uKGJYKXtyZXR1cm4gYlhbNF09PWJPfSk7aWYoYlMhPS0xKXtiVi5zcGxpY2UoYlMsMSk7Zm9yKHZhciBiUT0wO2JRPGJWLmxlbmd0aDtiUSsrKXt1KGJELGJWW2JRXVsxXSxmdW5jdGlvbihiWCl7cmV0dXJuIGJYLmlkPT1iVltiUV1bMV0uaWR9KTt1KGJULGJWW2JRXVsxXS5lbmRwb2ludHNbYk5dLGZ1bmN0aW9uKGJYKXtyZXR1cm4gYlguaWQ9PWJWW2JRXVsxXS5lbmRwb2ludHNbYk5dLmlkfSl9fX1mb3IodmFyIGJRPTA7YlE8YkIubGVuZ3RoO2JRKyspe2lmKGJOPT0xJiZiQltiUV1bM109PT1iTCYmYkM9PS0xKXtiQz1iUX11KGJELGJCW2JRXVsxXSxmdW5jdGlvbihiWCl7cmV0dXJuIGJYLmlkPT1iQltiUV1bMV0uaWR9KTt1KGJULGJCW2JRXVsxXS5lbmRwb2ludHNbYk5dLGZ1bmN0aW9uKGJYKXtyZXR1cm4gYlguaWQ9PWJCW2JRXVsxXS5lbmRwb2ludHNbYk5dLmlkfSl9aWYoYlIhPS0xKXtiQltiUl09YkF9ZWxzZXt2YXIgYkc9Yko/YkMhPS0xP2JDOjA6YkIubGVuZ3RoO2JCLnNwbGljZShiRywwLGJBKX1iRi5fY29udGludW91c0FuY2hvckVkZ2U9Yld9O3RoaXMucmVkcmF3PWZ1bmN0aW9uKGJQLGJSLGJDLGJGKXt2YXIgYjA9YnZbYlBdfHxbXSxiWj1ieltiUF18fFtdLGJCPVtdLGJZPVtdLGJEPVtdO2JDPWJDfHxyKCk7YkY9YkZ8fHtsZWZ0OjAsdG9wOjB9O2lmKGJSKXtiUj17bGVmdDpiUi5sZWZ0K2JGLmxlZnQsdG9wOmJSLnRvcCtiRi50b3B9fVcoe2VsSWQ6YlAsb2Zmc2V0OmJSLHJlY2FsYzpmYWxzZSx0aW1lc3RhbXA6YkN9KTt2YXIgYks9YWhbYlBdLGJHPWFlW2JQXSxiTT17fTtmb3IodmFyIGJXPTA7Ylc8YloubGVuZ3RoO2JXKyspe3ZhciBiSD1iWltiV11bMF0sYko9Ykguc291cmNlSWQsYkU9YkgudGFyZ2V0SWQsYkk9YkguZW5kcG9pbnRzWzBdLmFuY2hvci5pc0NvbnRpbnVvdXMsYk89YkguZW5kcG9pbnRzWzFdLmFuY2hvci5pc0NvbnRpbnVvdXM7aWYoYkl8fGJPKXt2YXIgYlg9YkorXCJfXCIrYkUsYlU9YkUrXCJfXCIrYkosYlQ9Yk1bYlhdLGJOPWJILnNvdXJjZUlkPT1iUD8xOjA7aWYoYkkmJiFieVtiSl0pe2J5W2JKXT17dG9wOltdLHJpZ2h0OltdLGJvdHRvbTpbXSxsZWZ0OltdfX1pZihiTyYmIWJ5W2JFXSl7YnlbYkVdPXt0b3A6W10scmlnaHQ6W10sYm90dG9tOltdLGxlZnQ6W119fWlmKGJQIT1iRSl7Vyh7ZWxJZDpiRSx0aW1lc3RhbXA6YkN9KX1pZihiUCE9Ykope1coe2VsSWQ6YkosdGltZXN0YW1wOmJDfSl9dmFyIGJMPWFOKGJFKSxiQT1hTihiSik7aWYoYkU9PWJKJiYoYkl8fGJPKSl7YngoYnlbYkpdLC1NYXRoLlBJLzIsMCxiSCxmYWxzZSxiRSwwLGZhbHNlLFwidG9wXCIsYkosYkIsYlkpfWVsc2V7aWYoIWJUKXtiVD1ibChiSixiRSxiQS5vLGJMLm8pO2JNW2JYXT1iVH1pZihiSSl7YngoYnlbYkpdLGJULnRoZXRhLDAsYkgsZmFsc2UsYkUsMCxmYWxzZSxiVC5hWzBdLGJKLGJCLGJZKX1pZihiTyl7YngoYnlbYkVdLGJULnRoZXRhMiwtMSxiSCx0cnVlLGJKLDEsdHJ1ZSxiVC5hWzFdLGJFLGJCLGJZKX19aWYoYkkpe3UoYkQsYkosZnVuY3Rpb24oYjEpe3JldHVybiBiMT09PWJKfSl9aWYoYk8pe3UoYkQsYkUsZnVuY3Rpb24oYjEpe3JldHVybiBiMT09PWJFfSl9dShiQixiSCxmdW5jdGlvbihiMSl7cmV0dXJuIGIxLmlkPT1iSC5pZH0pO2lmKChiSSYmYk49PTApfHwoYk8mJmJOPT0xKSl7dShiWSxiSC5lbmRwb2ludHNbYk5dLGZ1bmN0aW9uKGIxKXtyZXR1cm4gYjEuaWQ9PWJILmVuZHBvaW50c1tiTl0uaWR9KX19fWZvcih2YXIgYlc9MDtiVzxiRC5sZW5ndGg7YlcrKyl7YWwoYkRbYlddLGJ5W2JEW2JXXV0pfWZvcih2YXIgYlc9MDtiVzxiMC5sZW5ndGg7YlcrKyl7YjBbYlddLnBhaW50KHt0aW1lc3RhbXA6YkMsb2Zmc2V0OmJLLGRpbWVuc2lvbnM6Ykd9KX1mb3IodmFyIGJXPTA7Ylc8YlkubGVuZ3RoO2JXKyspe2JZW2JXXS5wYWludCh7dGltZXN0YW1wOmJDLG9mZnNldDpiSyxkaW1lbnNpb25zOmJHfSl9Zm9yKHZhciBiVz0wO2JXPGJaLmxlbmd0aDtiVysrKXt2YXIgYlE9YlpbYlddWzFdO2lmKGJRLmFuY2hvci5jb25zdHJ1Y3Rvcj09YXEpe2JRLnBhaW50KHtlbGVtZW50V2l0aFByZWNlZGVuY2U6YlB9KTt1KGJCLGJaW2JXXVswXSxmdW5jdGlvbihiMSl7cmV0dXJuIGIxLmlkPT1iWltiV11bMF0uaWR9KTtmb3IodmFyIGJWPTA7YlY8YlEuY29ubmVjdGlvbnMubGVuZ3RoO2JWKyspe2lmKGJRLmNvbm5lY3Rpb25zW2JWXSE9PWJaW2JXXVswXSl7dShiQixiUS5jb25uZWN0aW9uc1tiVl0sZnVuY3Rpb24oYjEpe3JldHVybiBiMS5pZD09YlEuY29ubmVjdGlvbnNbYlZdLmlkfSl9fX1lbHNle2lmKGJRLmFuY2hvci5jb25zdHJ1Y3Rvcj09YWEpe3UoYkIsYlpbYlddWzBdLGZ1bmN0aW9uKGIxKXtyZXR1cm4gYjEuaWQ9PWJaW2JXXVswXS5pZH0pfX19dmFyIGJTPWJmW2JQXTtpZihiUyl7YlMucGFpbnQoe3RpbWVzdGFtcDpiQyxyZWNhbGM6ZmFsc2UsZWxJZDpiUH0pfWZvcih2YXIgYlc9MDtiVzxiQi5sZW5ndGg7YlcrKyl7YkJbYlddLnBhaW50KHtlbElkOmJQLHRpbWVzdGFtcDpiQyxyZWNhbGM6ZmFsc2V9KX19O3RoaXMucmVob21lRW5kcG9pbnQ9ZnVuY3Rpb24oYkEsYkUpe3ZhciBiQj1idltiQV18fFtdLGJDPWJuLmdldElkKGJFKTtmb3IodmFyIGJEPTA7YkQ8YkIubGVuZ3RoO2JEKyspe2J3LmFkZChiQltiRF0sYkMpfWJCLnNwbGljZSgwLGJCLmxlbmd0aCl9fTtibi5hbmNob3JNYW5hZ2VyPW5ldyBhRSgpO2JuLmNvbnRpbnVvdXNBbmNob3JGYWN0b3J5PXtnZXQ6ZnVuY3Rpb24oYncpe3ZhciBidj1ialtidy5lbGVtZW50SWRdO2lmKCFidil7YnY9e3R5cGU6XCJDb250aW51b3VzXCIsY29tcHV0ZTpmdW5jdGlvbihieCl7cmV0dXJuIGFpW2J4LmVsZW1lbnQuaWRdfHxbMCwwXX0sZ2V0Q3VycmVudExvY2F0aW9uOmZ1bmN0aW9uKGJ4KXtyZXR1cm4gYWlbYnguaWRdfHxbMCwwXX0sZ2V0T3JpZW50YXRpb246ZnVuY3Rpb24oYngpe3JldHVybiBhSltieC5pZF18fFswLDBdfSxpc0R5bmFtaWM6dHJ1ZSxpc0NvbnRpbnVvdXM6dHJ1ZX07YmpbYncuZWxlbWVudElkXT1idn1yZXR1cm4gYnZ9fTt2YXIgYVY9ZnVuY3Rpb24oKXt2YXIgYnk9e30sYng9W10sYnc9e30sYnY9e307dGhpcy5yZWdpc3Rlcj1mdW5jdGlvbihiQil7dmFyIGJBPXAuQ3VycmVudExpYnJhcnk7YkI9YkEuZ2V0RWxlbWVudE9iamVjdChiQik7dmFyIGJEPWJuLmdldElkKGJCKSxiej1iQS5nZXRET01FbGVtZW50KGJCKTtpZighYnlbYkRdKXtieVtiRF09YkI7YngucHVzaChiQik7YndbYkRdPXt9fXZhciBiQz1mdW5jdGlvbihiSCl7dmFyIGJLPWJBLmdldEVsZW1lbnRPYmplY3QoYkgpLGJKPWJBLmdldE9mZnNldChiSyk7Zm9yKHZhciBiRT0wO2JFPGJILmNoaWxkTm9kZXMubGVuZ3RoO2JFKyspe2lmKGJILmNoaWxkTm9kZXNbYkVdLm5vZGVUeXBlIT0zKXt2YXIgYkc9YkEuZ2V0RWxlbWVudE9iamVjdChiSC5jaGlsZE5vZGVzW2JFXSksYkk9Ym4uZ2V0SWQoYkcsbnVsbCx0cnVlKTtpZihiSSYmYnZbYkldJiZidltiSV0+MCl7dmFyIGJGPWJBLmdldE9mZnNldChiRyk7YndbYkRdW2JJXT17aWQ6Ykksb2Zmc2V0OntsZWZ0OmJGLmxlZnQtYkoubGVmdCx0b3A6YkYudG9wLWJKLnRvcH19fX19fTtiQyhieil9O3RoaXMuZW5kcG9pbnRBZGRlZD1mdW5jdGlvbihiQil7dmFyIGJGPXAuQ3VycmVudExpYnJhcnksYkk9ZG9jdW1lbnQuYm9keSxiej1ibi5nZXRJZChiQiksYkg9YkYuZ2V0RE9NRWxlbWVudChiQiksYkE9YkgucGFyZW50Tm9kZSxiRD1iQT09Ykk7YnZbYnpdPWJ2W2J6XT9idltiel0rMToxO3doaWxlKGJBIT1iSSl7dmFyIGJFPWJuLmdldElkKGJBKTtpZihieVtiRV0pe3ZhciBiSz0tMSxiRz1iRi5nZXRFbGVtZW50T2JqZWN0KGJBKSxiQz1iRi5nZXRPZmZzZXQoYkcpO2lmKGJ3W2JFXVtiel09PW51bGwpe3ZhciBiSj1wLkN1cnJlbnRMaWJyYXJ5LmdldE9mZnNldChiQik7YndbYkVdW2J6XT17aWQ6Ynosb2Zmc2V0OntsZWZ0OmJKLmxlZnQtYkMubGVmdCx0b3A6YkoudG9wLWJDLnRvcH19fWJyZWFrfWJBPWJBLnBhcmVudE5vZGV9fTt0aGlzLmVuZHBvaW50RGVsZXRlZD1mdW5jdGlvbihiQSl7aWYoYnZbYkEuZWxlbWVudElkXSl7YnZbYkEuZWxlbWVudElkXS0tO2lmKGJ2W2JBLmVsZW1lbnRJZF08PTApe2Zvcih2YXIgYnogaW4gYncpe2RlbGV0ZSBid1tiel1bYkEuZWxlbWVudElkXX19fX07dGhpcy5nZXRFbGVtZW50c0ZvckRyYWdnYWJsZT1mdW5jdGlvbihieil7cmV0dXJuIGJ3W2J6XX07dGhpcy5yZXNldD1mdW5jdGlvbigpe2J5PXt9O2J4PVtdO2J3PXt9O2J2PXt9fX07Ym4uZHJhZ01hbmFnZXI9bmV3IGFWKCk7dmFyIGF4PWZ1bmN0aW9uKGJOKXt2YXIgYkc9dGhpcyxieD10cnVlO2JHLmlkUHJlZml4PVwiX2pzcGx1bWJfY19cIjtiRy5kZWZhdWx0TGFiZWxMb2NhdGlvbj0wLjU7YkcuZGVmYXVsdE92ZXJsYXlLZXlzPVtcIk92ZXJsYXlzXCIsXCJDb25uZWN0aW9uT3ZlcmxheXNcIl07dGhpcy5wYXJlbnQ9Yk4ucGFyZW50O3ouYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGJ4fTt0aGlzLnNldFZpc2libGU9ZnVuY3Rpb24oYlApe2J4PWJQO2JHW2JQP1wic2hvd092ZXJsYXlzXCI6XCJoaWRlT3ZlcmxheXNcIl0oKTtpZihiRy5jb25uZWN0b3ImJmJHLmNvbm5lY3Rvci5jYW52YXMpe2JHLmNvbm5lY3Rvci5jYW52YXMuc3R5bGUuZGlzcGxheT1iUD9cImJsb2NrXCI6XCJub25lXCJ9fTt0aGlzLnNvdXJjZT1GKGJOLnNvdXJjZSk7dGhpcy50YXJnZXQ9RihiTi50YXJnZXQpO2lmKGJOLnNvdXJjZUVuZHBvaW50KXt0aGlzLnNvdXJjZT1iTi5zb3VyY2VFbmRwb2ludC5lbmRwb2ludFdpbGxNb3ZlVG98fGJOLnNvdXJjZUVuZHBvaW50LmdldEVsZW1lbnQoKX1pZihiTi50YXJnZXRFbmRwb2ludCl7dGhpcy50YXJnZXQ9Yk4udGFyZ2V0RW5kcG9pbnQuZ2V0RWxlbWVudCgpfWJHLnByZXZpb3VzQ29ubmVjdGlvbj1iTi5wcmV2aW91c0Nvbm5lY3Rpb247dmFyIGJEPWJOLmNvc3Q7YkcuZ2V0Q29zdD1mdW5jdGlvbigpe3JldHVybiBiRH07Ykcuc2V0Q29zdD1mdW5jdGlvbihiUCl7YkQ9YlB9O3ZhciBiQj1iTi5iaWRpcmVjdGlvbmFsPT09ZmFsc2U/ZmFsc2U6dHJ1ZTtiRy5pc0JpZGlyZWN0aW9uYWw9ZnVuY3Rpb24oKXtyZXR1cm4gYkJ9O3RoaXMuc291cmNlSWQ9ZCh0aGlzLnNvdXJjZSxcImlkXCIpO3RoaXMudGFyZ2V0SWQ9ZCh0aGlzLnRhcmdldCxcImlkXCIpO3RoaXMuZ2V0QXR0YWNoZWRFbGVtZW50cz1mdW5jdGlvbigpe3JldHVybiBiRy5lbmRwb2ludHN9O3RoaXMuc2NvcGU9Yk4uc2NvcGU7dGhpcy5lbmRwb2ludHM9W107dGhpcy5lbmRwb2ludFN0eWxlcz1bXTt2YXIgYk09ZnVuY3Rpb24oYlEsYlApe2lmKGJRKXtyZXR1cm4gYm4ubWFrZUFuY2hvcihiUSxiUCxibil9fSxiSz1mdW5jdGlvbihiUCxiVixiUSxiUyxiVCxiUixiVSl7aWYoYlApe2JHLmVuZHBvaW50c1tiVl09YlA7YlAuYWRkQ29ubmVjdGlvbihiRyl9ZWxzZXtpZighYlEuZW5kcG9pbnRzKXtiUS5lbmRwb2ludHM9W251bGwsbnVsbF19dmFyIGIxPWJRLmVuZHBvaW50c1tiVl18fGJRLmVuZHBvaW50fHxibi5EZWZhdWx0cy5FbmRwb2ludHNbYlZdfHxwLkRlZmF1bHRzLkVuZHBvaW50c1tiVl18fGJuLkRlZmF1bHRzLkVuZHBvaW50fHxwLkRlZmF1bHRzLkVuZHBvaW50O2lmKCFiUS5lbmRwb2ludFN0eWxlcyl7YlEuZW5kcG9pbnRTdHlsZXM9W251bGwsbnVsbF19aWYoIWJRLmVuZHBvaW50SG92ZXJTdHlsZXMpe2JRLmVuZHBvaW50SG92ZXJTdHlsZXM9W251bGwsbnVsbF19dmFyIGJaPWJRLmVuZHBvaW50U3R5bGVzW2JWXXx8YlEuZW5kcG9pbnRTdHlsZXx8Ym4uRGVmYXVsdHMuRW5kcG9pbnRTdHlsZXNbYlZdfHxwLkRlZmF1bHRzLkVuZHBvaW50U3R5bGVzW2JWXXx8Ym4uRGVmYXVsdHMuRW5kcG9pbnRTdHlsZXx8cC5EZWZhdWx0cy5FbmRwb2ludFN0eWxlO2lmKGJaLmZpbGxTdHlsZT09bnVsbCYmYlIhPW51bGwpe2JaLmZpbGxTdHlsZT1iUi5zdHJva2VTdHlsZX1pZihiWi5vdXRsaW5lQ29sb3I9PW51bGwmJmJSIT1udWxsKXtiWi5vdXRsaW5lQ29sb3I9YlIub3V0bGluZUNvbG9yfWlmKGJaLm91dGxpbmVXaWR0aD09bnVsbCYmYlIhPW51bGwpe2JaLm91dGxpbmVXaWR0aD1iUi5vdXRsaW5lV2lkdGh9dmFyIGJZPWJRLmVuZHBvaW50SG92ZXJTdHlsZXNbYlZdfHxiUS5lbmRwb2ludEhvdmVyU3R5bGV8fGJuLkRlZmF1bHRzLkVuZHBvaW50SG92ZXJTdHlsZXNbYlZdfHxwLkRlZmF1bHRzLkVuZHBvaW50SG92ZXJTdHlsZXNbYlZdfHxibi5EZWZhdWx0cy5FbmRwb2ludEhvdmVyU3R5bGV8fHAuRGVmYXVsdHMuRW5kcG9pbnRIb3ZlclN0eWxlO2lmKGJVIT1udWxsKXtpZihiWT09bnVsbCl7Ylk9e319aWYoYlkuZmlsbFN0eWxlPT1udWxsKXtiWS5maWxsU3R5bGU9YlUuc3Ryb2tlU3R5bGV9fXZhciBiWD1iUS5hbmNob3JzP2JRLmFuY2hvcnNbYlZdOmJRLmFuY2hvcj9iUS5hbmNob3I6Yk0oYm4uRGVmYXVsdHMuQW5jaG9yc1tiVl0sYlQpfHxiTShwLkRlZmF1bHRzLkFuY2hvcnNbYlZdLGJUKXx8Yk0oYm4uRGVmYXVsdHMuQW5jaG9yLGJUKXx8Yk0ocC5EZWZhdWx0cy5BbmNob3IsYlQpLGIwPWJRLnV1aWRzP2JRLnV1aWRzW2JWXTpudWxsLGJXPWFGKHtwYWludFN0eWxlOmJaLGhvdmVyUGFpbnRTdHlsZTpiWSxlbmRwb2ludDpiMSxjb25uZWN0aW9uczpbYkddLHV1aWQ6YjAsYW5jaG9yOmJYLHNvdXJjZTpiUyxzY29wZTpiUS5zY29wZSxjb250YWluZXI6YlEuY29udGFpbmVyLHJlYXR0YWNoOmJRLnJlYXR0YWNoLGRldGFjaGFibGU6YlEuZGV0YWNoYWJsZX0pO2JHLmVuZHBvaW50c1tiVl09Ylc7aWYoYlEuZHJhd0VuZHBvaW50cz09PWZhbHNlKXtiVy5zZXRWaXNpYmxlKGZhbHNlLHRydWUsdHJ1ZSl9cmV0dXJuIGJXfX07dmFyIGJJPWJLKGJOLnNvdXJjZUVuZHBvaW50LDAsYk4sYkcuc291cmNlLGJHLnNvdXJjZUlkLGJOLnBhaW50U3R5bGUsYk4uaG92ZXJQYWludFN0eWxlKTtpZihiSSl7VihhVCx0aGlzLnNvdXJjZUlkLGJJKX12YXIgYnk9KChiRy5zb3VyY2VJZD09YkcudGFyZ2V0SWQpJiZiTi50YXJnZXRFbmRwb2ludD09bnVsbCk/Ykk6Yk4udGFyZ2V0RW5kcG9pbnQsYkg9YksoYnksMSxiTixiRy50YXJnZXQsYkcudGFyZ2V0SWQsYk4ucGFpbnRTdHlsZSxiTi5ob3ZlclBhaW50U3R5bGUpO2lmKGJIKXtWKGFULHRoaXMudGFyZ2V0SWQsYkgpfWlmKCF0aGlzLnNjb3BlKXt0aGlzLnNjb3BlPXRoaXMuZW5kcG9pbnRzWzBdLnNjb3BlfWlmKGJOLmRlbGV0ZUVuZHBvaW50c09uRGV0YWNoKXtiRy5lbmRwb2ludHNUb0RlbGV0ZU9uRGV0YWNoPVtiSSxiSF19dmFyIGJ3PWJuLkRlZmF1bHRzLkNvbm5lY3Rpb25zRGV0YWNoYWJsZTtpZihiTi5kZXRhY2hhYmxlPT09ZmFsc2Upe2J3PWZhbHNlfWlmKGJHLmVuZHBvaW50c1swXS5jb25uZWN0aW9uc0RldGFjaGFibGU9PT1mYWxzZSl7Ync9ZmFsc2V9aWYoYkcuZW5kcG9pbnRzWzFdLmNvbm5lY3Rpb25zRGV0YWNoYWJsZT09PWZhbHNlKXtidz1mYWxzZX1pZihiRD09bnVsbCl7YkQ9YkcuZW5kcG9pbnRzWzBdLmdldENvbm5lY3Rpb25Db3N0KCl9aWYoYk4uYmlkaXJlY3Rpb25hbD09bnVsbCl7YkI9YkcuZW5kcG9pbnRzWzBdLmFyZUNvbm5lY3Rpb25zQmlkaXJlY3Rpb25hbCgpfXRoaXMuaXNEZXRhY2hhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGJ3PT09dHJ1ZX07dGhpcy5zZXREZXRhY2hhYmxlPWZ1bmN0aW9uKGJQKXtidz1iUD09PXRydWV9O3ZhciBiTz1wLmV4dGVuZCh7fSx0aGlzLmVuZHBvaW50c1swXS5nZXRQYXJhbWV0ZXJzKCkpO3AuZXh0ZW5kKGJPLHRoaXMuZW5kcG9pbnRzWzFdLmdldFBhcmFtZXRlcnMoKSk7cC5leHRlbmQoYk8sYkcuZ2V0UGFyYW1ldGVycygpKTtiRy5zZXRQYXJhbWV0ZXJzKGJPKTt2YXIgYkU9Ykcuc2V0SG92ZXI7Ykcuc2V0SG92ZXI9ZnVuY3Rpb24oYlApe2JHLmNvbm5lY3Rvci5zZXRIb3Zlci5hcHBseShiRy5jb25uZWN0b3IsYXJndW1lbnRzKTtiRS5hcHBseShiRyxhcmd1bWVudHMpfTt2YXIgYkw9ZnVuY3Rpb24oYlApe2lmKHg9PW51bGwpe2JHLnNldEhvdmVyKGJQLGZhbHNlKX19O3RoaXMuc2V0Q29ubmVjdG9yPWZ1bmN0aW9uKGJQLGJRKXtpZihiRy5jb25uZWN0b3IhPW51bGwpe2FYKGJHLmNvbm5lY3Rvci5nZXREaXNwbGF5RWxlbWVudHMoKSxiRy5wYXJlbnQpfXZhciBiUj17X2pzUGx1bWI6YkcuX2pzUGx1bWIscGFyZW50OmJOLnBhcmVudCxjc3NDbGFzczpiTi5jc3NDbGFzcyxjb250YWluZXI6Yk4uY29udGFpbmVyLHRvb2x0aXA6YkcudG9vbHRpcH07aWYoQyhiUCkpe3RoaXMuY29ubmVjdG9yPW5ldyBwLkNvbm5lY3RvcnNbWF1bYlBdKGJSKX1lbHNle2lmKG4oYlApKXt0aGlzLmNvbm5lY3Rvcj1uZXcgcC5Db25uZWN0b3JzW1hdW2JQWzBdXShwLmV4dGVuZChiUFsxXSxiUikpfX1iRy5jYW52YXM9YkcuY29ubmVjdG9yLmNhbnZhcztHKGJHLmNvbm5lY3RvcixiRyxiTCk7aWYoIWJRKXtiRy5yZXBhaW50KCl9fTtiRy5zZXRDb25uZWN0b3IodGhpcy5lbmRwb2ludHNbMF0uY29ubmVjdG9yfHx0aGlzLmVuZHBvaW50c1sxXS5jb25uZWN0b3J8fGJOLmNvbm5lY3Rvcnx8Ym4uRGVmYXVsdHMuQ29ubmVjdG9yfHxwLkRlZmF1bHRzLkNvbm5lY3Rvcix0cnVlKTt0aGlzLnNldFBhaW50U3R5bGUodGhpcy5lbmRwb2ludHNbMF0uY29ubmVjdG9yU3R5bGV8fHRoaXMuZW5kcG9pbnRzWzFdLmNvbm5lY3RvclN0eWxlfHxiTi5wYWludFN0eWxlfHxibi5EZWZhdWx0cy5QYWludFN0eWxlfHxwLkRlZmF1bHRzLlBhaW50U3R5bGUsdHJ1ZSk7dGhpcy5zZXRIb3ZlclBhaW50U3R5bGUodGhpcy5lbmRwb2ludHNbMF0uY29ubmVjdG9ySG92ZXJTdHlsZXx8dGhpcy5lbmRwb2ludHNbMV0uY29ubmVjdG9ySG92ZXJTdHlsZXx8Yk4uaG92ZXJQYWludFN0eWxlfHxibi5EZWZhdWx0cy5Ib3ZlclBhaW50U3R5bGV8fHAuRGVmYXVsdHMuSG92ZXJQYWludFN0eWxlLHRydWUpO3RoaXMucGFpbnRTdHlsZUluVXNlPXRoaXMuZ2V0UGFpbnRTdHlsZSgpO3RoaXMubW92ZVBhcmVudD1mdW5jdGlvbihiUyl7dmFyIGJSPXAuQ3VycmVudExpYnJhcnksYlE9YlIuZ2V0UGFyZW50KGJHLmNvbm5lY3Rvci5jYW52YXMpO2lmKGJHLmNvbm5lY3Rvci5iZ0NhbnZhcyl7YlIucmVtb3ZlRWxlbWVudChiRy5jb25uZWN0b3IuYmdDYW52YXMsYlEpO2JSLmFwcGVuZEVsZW1lbnQoYkcuY29ubmVjdG9yLmJnQ2FudmFzLGJTKX1iUi5yZW1vdmVFbGVtZW50KGJHLmNvbm5lY3Rvci5jYW52YXMsYlEpO2JSLmFwcGVuZEVsZW1lbnQoYkcuY29ubmVjdG9yLmNhbnZhcyxiUyk7Zm9yKHZhciBiUD0wO2JQPGJHLm92ZXJsYXlzLmxlbmd0aDtiUCsrKXtpZihiRy5vdmVybGF5c1tiUF0uaXNBcHBlbmRlZEF0VG9wTGV2ZWwpe2JSLnJlbW92ZUVsZW1lbnQoYkcub3ZlcmxheXNbYlBdLmNhbnZhcyxiUSk7YlIuYXBwZW5kRWxlbWVudChiRy5vdmVybGF5c1tiUF0uY2FudmFzLGJTKTtpZihiRy5vdmVybGF5c1tiUF0ucmVhdHRhY2hMaXN0ZW5lcnMpe2JHLm92ZXJsYXlzW2JQXS5yZWF0dGFjaExpc3RlbmVycyhiRy5jb25uZWN0b3IpfX19aWYoYkcuY29ubmVjdG9yLnJlYXR0YWNoTGlzdGVuZXJzKXtiRy5jb25uZWN0b3IucmVhdHRhY2hMaXN0ZW5lcnMoKX19O1coe2VsSWQ6dGhpcy5zb3VyY2VJZH0pO1coe2VsSWQ6dGhpcy50YXJnZXRJZH0pO3ZhciBiQT1haFt0aGlzLnNvdXJjZUlkXSxiej1hZVt0aGlzLnNvdXJjZUlkXSxidj1haFt0aGlzLnRhcmdldElkXSxiQz1hZVt0aGlzLnRhcmdldElkXSxiRj1yKCksYko9dGhpcy5lbmRwb2ludHNbMF0uYW5jaG9yLmNvbXB1dGUoe3h5OltiQS5sZWZ0LGJBLnRvcF0sd2g6YnosZWxlbWVudDp0aGlzLmVuZHBvaW50c1swXSxlbGVtZW50SWQ6dGhpcy5lbmRwb2ludHNbMF0uZWxlbWVudElkLHR4eTpbYnYubGVmdCxidi50b3BdLHR3aDpiQyx0RWxlbWVudDp0aGlzLmVuZHBvaW50c1sxXSx0aW1lc3RhbXA6YkZ9KTt0aGlzLmVuZHBvaW50c1swXS5wYWludCh7YW5jaG9yTG9jOmJKLHRpbWVzdGFtcDpiRn0pO2JKPXRoaXMuZW5kcG9pbnRzWzFdLmFuY2hvci5jb21wdXRlKHt4eTpbYnYubGVmdCxidi50b3BdLHdoOmJDLGVsZW1lbnQ6dGhpcy5lbmRwb2ludHNbMV0sZWxlbWVudElkOnRoaXMuZW5kcG9pbnRzWzFdLmVsZW1lbnRJZCx0eHk6W2JBLmxlZnQsYkEudG9wXSx0d2g6YnosdEVsZW1lbnQ6dGhpcy5lbmRwb2ludHNbMF0sdGltZXN0YW1wOmJGfSk7dGhpcy5lbmRwb2ludHNbMV0ucGFpbnQoe2FuY2hvckxvYzpiSix0aW1lc3RhbXA6YkZ9KTt0aGlzLnBhaW50PWZ1bmN0aW9uKGI2KXtiNj1iNnx8e307dmFyIGJYPWI2LmVsSWQsYlk9YjYudWksYlY9YjYucmVjYWxjLGJRPWI2LnRpbWVzdGFtcCxiWj1mYWxzZSxiNT1iWj90aGlzLnNvdXJjZUlkOnRoaXMudGFyZ2V0SWQsYlU9Ylo/dGhpcy50YXJnZXRJZDp0aGlzLnNvdXJjZUlkLGJSPWJaPzA6MSxiNz1iWj8xOjA7dmFyIGI4PVcoe2VsSWQ6Ylgsb2Zmc2V0OmJZLHJlY2FsYzpiVix0aW1lc3RhbXA6YlF9KSxiVz1XKHtlbElkOmI1LHRpbWVzdGFtcDpiUX0pO3ZhciBiMT10aGlzLmVuZHBvaW50c1tiN10sYlA9dGhpcy5lbmRwb2ludHNbYlJdLGJUPWIxLmFuY2hvci5nZXRDdXJyZW50TG9jYXRpb24oYjEpLGI0PWJQLmFuY2hvci5nZXRDdXJyZW50TG9jYXRpb24oYlApO3ZhciBiUz0wO2Zvcih2YXIgYjM9MDtiMzxiRy5vdmVybGF5cy5sZW5ndGg7YjMrKyl7dmFyIGIwPWJHLm92ZXJsYXlzW2IzXTtpZihiMC5pc1Zpc2libGUoKSl7YlM9TWF0aC5tYXgoYlMsYjAuY29tcHV0ZU1heFNpemUoYkcuY29ubmVjdG9yKSl9fXZhciBiMj10aGlzLmNvbm5lY3Rvci5jb21wdXRlKGJULGI0LHRoaXMuZW5kcG9pbnRzW2I3XSx0aGlzLmVuZHBvaW50c1tiUl0sdGhpcy5lbmRwb2ludHNbYjddLmFuY2hvcix0aGlzLmVuZHBvaW50c1tiUl0uYW5jaG9yLGJHLnBhaW50U3R5bGVJblVzZS5saW5lV2lkdGgsYlMsYjgsYlcpO2JHLmNvbm5lY3Rvci5wYWludChiMixiRy5wYWludFN0eWxlSW5Vc2UpO2Zvcih2YXIgYjM9MDtiMzxiRy5vdmVybGF5cy5sZW5ndGg7YjMrKyl7dmFyIGIwPWJHLm92ZXJsYXlzW2IzXTtpZihiMC5pc1Zpc2libGUpe2JHLm92ZXJsYXlQbGFjZW1lbnRzW2IzXT1iMC5kcmF3KGJHLmNvbm5lY3RvcixiRy5wYWludFN0eWxlSW5Vc2UsYjIpfX19O3RoaXMucmVwYWludD1mdW5jdGlvbihiUSl7YlE9YlF8fHt9O3ZhciBiUD0hKGJRLnJlY2FsYz09PWZhbHNlKTt0aGlzLnBhaW50KHtlbElkOnRoaXMuc291cmNlSWQscmVjYWxjOmJQLHRpbWVzdGFtcDpiUS50aW1lc3RhbXB9KX19O3ZhciBiYz1mdW5jdGlvbihidyl7dmFyIGJ2PWZhbHNlO3JldHVybntkcmFnOmZ1bmN0aW9uKCl7aWYoYnYpe2J2PWZhbHNlO3JldHVybiB0cnVlfXZhciBieD1wLkN1cnJlbnRMaWJyYXJ5LmdldFVJUG9zaXRpb24oYXJndW1lbnRzKSxieT1idy5lbGVtZW50O2lmKGJ5KXtwLkN1cnJlbnRMaWJyYXJ5LnNldE9mZnNldChieSxieCk7YmEoRihieSksYngpfX0sc3RvcERyYWc6ZnVuY3Rpb24oKXtidj10cnVlfX19O3ZhciBhdD1mdW5jdGlvbihieixieSxiQSxieCxidil7dmFyIGJ3PW5ldyBhMSh7cmVmZXJlbmNlOmJ5LHJlZmVyZW5jZUNhbnZhczpieH0pO3JldHVybiBhRih7cGFpbnRTdHlsZTpieixlbmRwb2ludDpiQSxhbmNob3I6Yncsc291cmNlOmJ2LHNjb3BlOlwiX19mbG9hdGluZ1wifSl9O3ZhciBSPWZ1bmN0aW9uKGJ4LGJ2KXt2YXIgYno9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtiei5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCI7dmFyIGJ3PUYoYnopO2FXKGJ6LGJ2KTt2YXIgYnk9Syhidyk7Vyh7ZWxJZDpieX0pO2J4LmlkPWJ5O2J4LmVsZW1lbnQ9Ynd9O3ZhciBhZj1mdW5jdGlvbihiMCl7dmFyIGJPPXRoaXM7Yk8uaWRQcmVmaXg9XCJfanNwbHVtYl9lX1wiO2JPLmRlZmF1bHRMYWJlbExvY2F0aW9uPVswLjUsMC41XTtiTy5kZWZhdWx0T3ZlcmxheUtleXM9W1wiT3ZlcmxheXNcIixcIkVuZHBvaW50T3ZlcmxheXNcIl07dGhpcy5wYXJlbnQ9YjAucGFyZW50O3ouYXBwbHkodGhpcyxhcmd1bWVudHMpO2IwPWIwfHx7fTt2YXIgYkE9dHJ1ZSxieT0hKGIwLmVuYWJsZWQ9PT1mYWxzZSk7dGhpcy5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gYkF9O3RoaXMuc2V0VmlzaWJsZT1mdW5jdGlvbihiMyxiNixiMil7YkE9YjM7aWYoYk8uY2FudmFzKXtiTy5jYW52YXMuc3R5bGUuZGlzcGxheT1iMz9cImJsb2NrXCI6XCJub25lXCJ9Yk9bYjM/XCJzaG93T3ZlcmxheXNcIjpcImhpZGVPdmVybGF5c1wiXSgpO2lmKCFiNil7Zm9yKHZhciBiNT0wO2I1PGJPLmNvbm5lY3Rpb25zLmxlbmd0aDtiNSsrKXtiTy5jb25uZWN0aW9uc1tiNV0uc2V0VmlzaWJsZShiMyk7aWYoIWIyKXt2YXIgYjQ9Yk89PT1iTy5jb25uZWN0aW9uc1tiNV0uZW5kcG9pbnRzWzBdPzE6MDtpZihiTy5jb25uZWN0aW9uc1tiNV0uZW5kcG9pbnRzW2I0XS5jb25uZWN0aW9ucy5sZW5ndGg9PTEpe2JPLmNvbm5lY3Rpb25zW2I1XS5lbmRwb2ludHNbYjRdLnNldFZpc2libGUoYjMsdHJ1ZSx0cnVlKX19fX19O3RoaXMuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGJ5fTt0aGlzLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYjIpe2J5PWIyfTt2YXIgYk49YjAuc291cmNlLGJIPWIwLnV1aWQsYlk9bnVsbCxiQz1udWxsO2lmKGJIKXthVVtiSF09Yk99dmFyIGJGPWQoYk4sXCJpZFwiKTt0aGlzLmVsZW1lbnRJZD1iRjt0aGlzLmVsZW1lbnQ9Yk47dmFyIGJ4PWIwLmNvbm5lY3Rpb25Db3N0O3RoaXMuZ2V0Q29ubmVjdGlvbkNvc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYnh9O3RoaXMuc2V0Q29ubmVjdGlvbkNvc3Q9ZnVuY3Rpb24oYjIpe2J4PWIyfTt2YXIgYlg9YjAuY29ubmVjdGlvbnNCaWRpcmVjdGlvbmFsPT09ZmFsc2U/ZmFsc2U6dHJ1ZTt0aGlzLmFyZUNvbm5lY3Rpb25zQmlkaXJlY3Rpb25hbD1mdW5jdGlvbigpe3JldHVybiBiWH07dGhpcy5zZXRDb25uZWN0aW9uc0JpZGlyZWN0aW9uYWw9ZnVuY3Rpb24oYjIpe2JYPWIyfTtiTy5hbmNob3I9YjAuYW5jaG9yP2JuLm1ha2VBbmNob3IoYjAuYW5jaG9yLGJGLGJuKTpiMC5hbmNob3JzP2JuLm1ha2VBbmNob3IoYjAuYW5jaG9ycyxiRixibik6Ym4ubWFrZUFuY2hvcihcIlRvcENlbnRlclwiLGJGLGJuKTtpZighYjAuX3RyYW5zaWVudCl7Ym4uYW5jaG9yTWFuYWdlci5hZGQoYk8sYkYpfXZhciBiTD1udWxsLGJRPW51bGw7dGhpcy5zZXRFbmRwb2ludD1mdW5jdGlvbihiMil7dmFyIGIzPXtfanNQbHVtYjpiTy5fanNQbHVtYixwYXJlbnQ6YjAucGFyZW50LGNvbnRhaW5lcjpiMC5jb250YWluZXIsdG9vbHRpcDpiMC50b29sdGlwLGNvbm5lY3RvclRvb2x0aXA6YjAuY29ubmVjdG9yVG9vbHRpcCxlbmRwb2ludDpiT307aWYoQyhiMikpe2JMPW5ldyBwLkVuZHBvaW50c1tYXVtiMl0oYjMpfWVsc2V7aWYobihiMikpe2IzPXAuZXh0ZW5kKGIyWzFdLGIzKTtiTD1uZXcgcC5FbmRwb2ludHNbWF1bYjJbMF1dKGIzKX1lbHNle2JMPWIyLmNsb25lKCl9fXZhciBiND1wLmV4dGVuZCh7fSxiMyk7YkwuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYjU9bmV3IE9iamVjdCgpO2JMLmNvbnN0cnVjdG9yLmFwcGx5KGI1LFtiNF0pO3JldHVybiBiNX07Yk8uZW5kcG9pbnQ9Ykw7Yk8udHlwZT1iTy5lbmRwb2ludC50eXBlfTt0aGlzLnNldEVuZHBvaW50KGIwLmVuZHBvaW50fHxibi5EZWZhdWx0cy5FbmRwb2ludHx8cC5EZWZhdWx0cy5FbmRwb2ludHx8XCJEb3RcIik7YlE9Ykw7dmFyIGJNPWJPLnNldEhvdmVyO2JPLnNldEhvdmVyPWZ1bmN0aW9uKCl7Yk8uZW5kcG9pbnQuc2V0SG92ZXIuYXBwbHkoYk8uZW5kcG9pbnQsYXJndW1lbnRzKTtiTS5hcHBseShiTyxhcmd1bWVudHMpfTt2YXIgYjE9ZnVuY3Rpb24oYjIpe2lmKGJPLmNvbm5lY3Rpb25zLmxlbmd0aD4wKXtiTy5jb25uZWN0aW9uc1swXS5zZXRIb3ZlcihiMixmYWxzZSl9ZWxzZXtiTy5zZXRIb3ZlcihiMil9fTtHKGJPLmVuZHBvaW50LGJPLGIxKTt0aGlzLnNldFBhaW50U3R5bGUoYjAucGFpbnRTdHlsZXx8YjAuc3R5bGV8fGJuLkRlZmF1bHRzLkVuZHBvaW50U3R5bGV8fHAuRGVmYXVsdHMuRW5kcG9pbnRTdHlsZSx0cnVlKTt0aGlzLnNldEhvdmVyUGFpbnRTdHlsZShiMC5ob3ZlclBhaW50U3R5bGV8fGJuLkRlZmF1bHRzLkVuZHBvaW50SG92ZXJTdHlsZXx8cC5EZWZhdWx0cy5FbmRwb2ludEhvdmVyU3R5bGUsdHJ1ZSk7dGhpcy5wYWludFN0eWxlSW5Vc2U9dGhpcy5nZXRQYWludFN0eWxlKCk7dmFyIGJKPXRoaXMuZ2V0UGFpbnRTdHlsZSgpO3RoaXMuY29ubmVjdG9yU3R5bGU9YjAuY29ubmVjdG9yU3R5bGU7dGhpcy5jb25uZWN0b3JIb3ZlclN0eWxlPWIwLmNvbm5lY3RvckhvdmVyU3R5bGU7dGhpcy5jb25uZWN0b3JPdmVybGF5cz1iMC5jb25uZWN0b3JPdmVybGF5czt0aGlzLmNvbm5lY3Rvcj1iMC5jb25uZWN0b3I7dGhpcy5jb25uZWN0b3JUb29sdGlwPWIwLmNvbm5lY3RvclRvb2x0aXA7dGhpcy5pc1NvdXJjZT1iMC5pc1NvdXJjZXx8ZmFsc2U7dGhpcy5pc1RhcmdldD1iMC5pc1RhcmdldHx8ZmFsc2U7dmFyIGJVPWIwLm1heENvbm5lY3Rpb25zfHxibi5EZWZhdWx0cy5NYXhDb25uZWN0aW9uczt0aGlzLmdldEF0dGFjaGVkRWxlbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gYk8uY29ubmVjdGlvbnN9O3RoaXMuY2FudmFzPXRoaXMuZW5kcG9pbnQuY2FudmFzO3RoaXMuY29ubmVjdGlvbnM9YjAuY29ubmVjdGlvbnN8fFtdO3RoaXMuc2NvcGU9YjAuc2NvcGV8fFE7dGhpcy50aW1lc3RhbXA9bnVsbDtiTy5pc1JlYXR0YWNoPWIwLnJlYXR0YWNofHxmYWxzZTtiTy5jb25uZWN0aW9uc0RldGFjaGFibGU9Ym4uRGVmYXVsdHMuQ29ubmVjdGlvbnNEZXRhY2hhYmxlO2lmKGIwLmNvbm5lY3Rpb25zRGV0YWNoYWJsZT09PWZhbHNlfHxiMC5kZXRhY2hhYmxlPT09ZmFsc2Upe2JPLmNvbm5lY3Rpb25zRGV0YWNoYWJsZT1mYWxzZX12YXIgYkk9YjAuZHJhZ0FsbG93ZWRXaGVuRnVsbHx8dHJ1ZTt0aGlzLmNvbXB1dGVBbmNob3I9ZnVuY3Rpb24oYjIpe3JldHVybiBiTy5hbmNob3IuY29tcHV0ZShiMil9O3RoaXMuYWRkQ29ubmVjdGlvbj1mdW5jdGlvbihiMil7Yk8uY29ubmVjdGlvbnMucHVzaChiMil9O3RoaXMuZGV0YWNoPWZ1bmN0aW9uKGIzLGI4LGI0LGNiLGIyKXt2YXIgY2E9aShiTy5jb25uZWN0aW9ucyxmdW5jdGlvbihjZCl7cmV0dXJuIGNkLmlkPT1iMy5pZH0pLGI5PWZhbHNlO2NiPShjYiE9PWZhbHNlKTtpZihjYT49MCl7aWYoYjR8fGIzLl9mb3JjZURldGFjaHx8YjMuaXNEZXRhY2hhYmxlKCl8fGIzLmlzRGV0YWNoQWxsb3dlZChiMykpe3ZhciBjYz1iMy5lbmRwb2ludHNbMF09PWJPP2IzLmVuZHBvaW50c1sxXTpiMy5lbmRwb2ludHNbMF07aWYoYjR8fGIzLl9mb3JjZURldGFjaHx8KGJPLmlzRGV0YWNoQWxsb3dlZChiMykpKXtiTy5jb25uZWN0aW9ucy5zcGxpY2UoY2EsMSk7aWYoIWI4KXtjYy5kZXRhY2goYjMsdHJ1ZSxiNCk7aWYoYjMuZW5kcG9pbnRzVG9EZWxldGVPbkRldGFjaCl7Zm9yKHZhciBiNz0wO2I3PGIzLmVuZHBvaW50c1RvRGVsZXRlT25EZXRhY2gubGVuZ3RoO2I3Kyspe3ZhciBiNT1iMy5lbmRwb2ludHNUb0RlbGV0ZU9uRGV0YWNoW2I3XTtpZihiNSYmYjUuY29ubmVjdGlvbnMubGVuZ3RoPT0wKXtibi5kZWxldGVFbmRwb2ludChiNSl9fX19YVgoYjMuY29ubmVjdG9yLmdldERpc3BsYXlFbGVtZW50cygpLGIzLnBhcmVudCk7RChhWVtiMy5zY29wZV0sZnVuY3Rpb24oY2Qpe3JldHVybiBjZC5pZD09YjMuaWR9KTtiOT10cnVlO3ZhciBiNj0oIWI4JiZjYik7YTcoYjMsYjYsYjIpfX19cmV0dXJuIGI5fTt0aGlzLmRldGFjaEFsbD1mdW5jdGlvbihiMyxiMil7d2hpbGUoYk8uY29ubmVjdGlvbnMubGVuZ3RoPjApe2JPLmRldGFjaChiTy5jb25uZWN0aW9uc1swXSxmYWxzZSx0cnVlLGIzLGIyKX19O3RoaXMuZGV0YWNoRnJvbT1mdW5jdGlvbihiNSxiNCxiMil7dmFyIGI2PVtdO2Zvcih2YXIgYjM9MDtiMzxiTy5jb25uZWN0aW9ucy5sZW5ndGg7YjMrKyl7aWYoYk8uY29ubmVjdGlvbnNbYjNdLmVuZHBvaW50c1sxXT09YjV8fGJPLmNvbm5lY3Rpb25zW2IzXS5lbmRwb2ludHNbMF09PWI1KXtiNi5wdXNoKGJPLmNvbm5lY3Rpb25zW2IzXSl9fWZvcih2YXIgYjM9MDtiMzxiNi5sZW5ndGg7YjMrKyl7aWYoYk8uZGV0YWNoKGI2W2IzXSxmYWxzZSx0cnVlLGI0LGIyKSl7YjZbYjNdLnNldEhvdmVyKGZhbHNlLGZhbHNlKX19fTt0aGlzLmRldGFjaEZyb21Db25uZWN0aW9uPWZ1bmN0aW9uKGIzKXt2YXIgYjI9aShiTy5jb25uZWN0aW9ucyxmdW5jdGlvbihiNCl7cmV0dXJuIGI0LmlkPT1iMy5pZH0pO2lmKGIyPj0wKXtiTy5jb25uZWN0aW9ucy5zcGxpY2UoYjIsMSl9fTt0aGlzLmdldEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gYk59O3RoaXMuc2V0RWxlbWVudD1mdW5jdGlvbihiNSxiMil7dmFyIGI3PUsoYjUpO0QoYVRbYk8uZWxlbWVudElkXSxmdW5jdGlvbihiOCl7cmV0dXJuIGI4LmlkPT1iTy5pZH0pO2JOPUYoYjUpO2JGPUsoYk4pO2JPLmVsZW1lbnRJZD1iRjt2YXIgYjY9YXcoe3NvdXJjZTpiNyxjb250YWluZXI6YjJ9KSxiND1iei5nZXRQYXJlbnQoYk8uY2FudmFzKTtiei5yZW1vdmVFbGVtZW50KGJPLmNhbnZhcyxiNCk7YnouYXBwZW5kRWxlbWVudChiTy5jYW52YXMsYjYpO2Zvcih2YXIgYjM9MDtiMzxiTy5jb25uZWN0aW9ucy5sZW5ndGg7YjMrKyl7Yk8uY29ubmVjdGlvbnNbYjNdLm1vdmVQYXJlbnQoYjYpO2JPLmNvbm5lY3Rpb25zW2IzXS5zb3VyY2VJZD1iRjtiTy5jb25uZWN0aW9uc1tiM10uc291cmNlPWJOfVYoYVQsYjcsYk8pfTt0aGlzLmdldFV1aWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYkh9O3RoaXMubWFrZUluUGxhY2VDb3B5PWZ1bmN0aW9uKCl7dmFyIGI0PWJPLmFuY2hvci5nZXRDdXJyZW50TG9jYXRpb24oYk8pLGIzPWJPLmFuY2hvci5nZXRPcmllbnRhdGlvbihiTyksYjI9e2NvbXB1dGU6ZnVuY3Rpb24oKXtyZXR1cm5bYjRbMF0sYjRbMV1dfSxnZXRDdXJyZW50TG9jYXRpb246ZnVuY3Rpb24oKXtyZXR1cm5bYjRbMF0sYjRbMV1dfSxnZXRPcmllbnRhdGlvbjpmdW5jdGlvbigpe3JldHVybiBiM319O3JldHVybiBhRih7YW5jaG9yOmIyLHNvdXJjZTpiTixwYWludFN0eWxlOnRoaXMuZ2V0UGFpbnRTdHlsZSgpLGVuZHBvaW50OmJMLF90cmFuc2llbnQ6dHJ1ZSxzY29wZTpiTy5zY29wZX0pfTt0aGlzLmlzQ29ubmVjdGVkVG89ZnVuY3Rpb24oYjQpe3ZhciBiMz1mYWxzZTtpZihiNCl7Zm9yKHZhciBiMj0wO2IyPGJPLmNvbm5lY3Rpb25zLmxlbmd0aDtiMisrKXtpZihiTy5jb25uZWN0aW9uc1tiMl0uZW5kcG9pbnRzWzFdPT1iNCl7YjM9dHJ1ZTticmVha319fXJldHVybiBiM307dGhpcy5pc0Zsb2F0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGJZIT1udWxsfTt0aGlzLmNvbm5lY3RvclNlbGVjdG9yPWZ1bmN0aW9uKCl7dmFyIGIyPWJPLmNvbm5lY3Rpb25zWzBdO2lmKGJPLmlzVGFyZ2V0JiZiMil7cmV0dXJuIGIyfWVsc2V7cmV0dXJuKGJPLmNvbm5lY3Rpb25zLmxlbmd0aDxiVSl8fGJVPT0tMT9udWxsOmIyfX07dGhpcy5pc0Z1bGw9ZnVuY3Rpb24oKXtyZXR1cm4gIShiTy5pc0Zsb2F0aW5nKCl8fGJVPDF8fGJPLmNvbm5lY3Rpb25zLmxlbmd0aDxiVSl9O3RoaXMuc2V0RHJhZ0FsbG93ZWRXaGVuRnVsbD1mdW5jdGlvbihiMil7Ykk9YjJ9O3RoaXMuc2V0U3R5bGU9Yk8uc2V0UGFpbnRTdHlsZTt0aGlzLmVxdWFscz1mdW5jdGlvbihiMil7cmV0dXJuIHRoaXMuYW5jaG9yLmVxdWFscyhiMi5hbmNob3IpfTt2YXIgYks9ZnVuY3Rpb24oYjMpe3ZhciBiMj0wO2lmKGIzIT1udWxsKXtmb3IodmFyIGI0PTA7YjQ8Yk8uY29ubmVjdGlvbnMubGVuZ3RoO2I0Kyspe2lmKGJPLmNvbm5lY3Rpb25zW2I0XS5zb3VyY2VJZD09YjN8fGJPLmNvbm5lY3Rpb25zW2I0XS50YXJnZXRJZD09YjMpe2IyPWI0O2JyZWFrfX19cmV0dXJuIGJPLmNvbm5lY3Rpb25zW2IyXX07dGhpcy5wYWludD1mdW5jdGlvbihiNSl7YjU9YjV8fHt9O3ZhciBjYj1iNS50aW1lc3RhbXAsY2E9IShiNS5yZWNhbGM9PT1mYWxzZSk7aWYoIWNifHxiTy50aW1lc3RhbXAhPT1jYil7Vyh7ZWxJZDpiRix0aW1lc3RhbXA6Y2IscmVjYWxjOmNhfSk7dmFyIGNoPWI1Lm9mZnNldHx8YWhbYkZdO2lmKGNoKXt2YXIgYjg9YjUuYW5jaG9yUG9pbnQsYjY9YjUuY29ubmVjdG9yUGFpbnRTdHlsZTtpZihiOD09bnVsbCl7dmFyIGIyPWI1LmRpbWVuc2lvbnN8fGFlW2JGXTtpZihjaD09bnVsbHx8YjI9PW51bGwpe1coe2VsSWQ6YkYsdGltZXN0YW1wOmNifSk7Y2g9YWhbYkZdO2IyPWFlW2JGXX12YXIgYjQ9e3h5OltjaC5sZWZ0LGNoLnRvcF0sd2g6YjIsZWxlbWVudDpiTyx0aW1lc3RhbXA6Y2J9O2lmKGNhJiZiTy5hbmNob3IuaXNEeW5hbWljJiZiTy5jb25uZWN0aW9ucy5sZW5ndGg+MCl7dmFyIGNlPWJLKGI1LmVsZW1lbnRXaXRoUHJlY2VkZW5jZSksY2c9Y2UuZW5kcG9pbnRzWzBdPT1iTz8xOjAsYjc9Y2c9PTA/Y2Uuc291cmNlSWQ6Y2UudGFyZ2V0SWQsY2Q9YWhbYjddLGNmPWFlW2I3XTtiNC50eHk9W2NkLmxlZnQsY2QudG9wXTtiNC50d2g9Y2Y7YjQudEVsZW1lbnQ9Y2UuZW5kcG9pbnRzW2NnXX1iOD1iTy5hbmNob3IuY29tcHV0ZShiNCl9dmFyIGNjPWJMLmNvbXB1dGUoYjgsYk8uYW5jaG9yLmdldE9yaWVudGF0aW9uKGJPKSxiTy5wYWludFN0eWxlSW5Vc2UsYjZ8fGJPLnBhaW50U3R5bGVJblVzZSk7YkwucGFpbnQoY2MsYk8ucGFpbnRTdHlsZUluVXNlLGJPLmFuY2hvcik7Yk8udGltZXN0YW1wPWNiO2Zvcih2YXIgYjk9MDtiOTxiTy5vdmVybGF5cy5sZW5ndGg7YjkrKyl7dmFyIGIzPWJPLm92ZXJsYXlzW2I5XTtpZihiMy5pc1Zpc2libGUpe2JPLm92ZXJsYXlQbGFjZW1lbnRzW2I5XT1iMy5kcmF3KGJPLmVuZHBvaW50LGJPLnBhaW50U3R5bGVJblVzZSxjYyl9fX19fTt0aGlzLnJlcGFpbnQ9dGhpcy5wYWludDt0aGlzLnJlbW92ZUNvbm5lY3Rpb249dGhpcy5kZXRhY2g7aWYocC5DdXJyZW50TGlicmFyeS5pc0RyYWdTdXBwb3J0ZWQoYk4pKXt2YXIgYlQ9e2lkOm51bGwsZWxlbWVudDpudWxsfSxiUz1udWxsLGJ3PWZhbHNlLGJCPW51bGwsYnY9YmMoYlQpO3ZhciBiRD1mdW5jdGlvbigpe2JTPWJPLmNvbm5lY3RvclNlbGVjdG9yKCk7dmFyIGIyPXRydWU7aWYoIWJPLmlzRW5hYmxlZCgpKXtiMj1mYWxzZX1pZihiUz09bnVsbCYmIWIwLmlzU291cmNlKXtiMj1mYWxzZX1pZihiMC5pc1NvdXJjZSYmYk8uaXNGdWxsKCkmJiFiSSl7YjI9ZmFsc2V9aWYoYlMhPW51bGwmJiFiUy5pc0RldGFjaGFibGUoKSl7YjI9ZmFsc2V9aWYoYjI9PT1mYWxzZSl7aWYocC5DdXJyZW50TGlicmFyeS5zdG9wRHJhZyl7cC5DdXJyZW50TGlicmFyeS5zdG9wRHJhZygpfWJ2LnN0b3BEcmFnKCk7cmV0dXJuIGZhbHNlfWlmKGJTJiYhYk8uaXNGdWxsKCkmJmIwLmlzU291cmNlKXtiUz1udWxsfVcoe2VsSWQ6YkZ9KTtiQz1iTy5tYWtlSW5QbGFjZUNvcHkoKTtiQy5wYWludCgpO1IoYlQsYk8ucGFyZW50KTt2YXIgYjg9RihiQy5jYW52YXMpLGI2PXAuQ3VycmVudExpYnJhcnkuZ2V0T2Zmc2V0KGI4KSxiMz1ibyhbYjYubGVmdCxiNi50b3BdLGJDLmNhbnZhcyk7cC5DdXJyZW50TGlicmFyeS5zZXRPZmZzZXQoYlQuZWxlbWVudCx7bGVmdDpiM1swXSx0b3A6YjNbMV19KTtpZihiTy5wYXJlbnRBbmNob3Ipe2JPLmFuY2hvcj1ibi5tYWtlQW5jaG9yKGJPLnBhcmVudEFuY2hvcixiTy5lbGVtZW50SWQsYm4pfWYoRihiTy5jYW52YXMpLFwiZHJhZ0lkXCIsYlQuaWQpO2YoRihiTy5jYW52YXMpLFwiZWxJZFwiLGJGKTtpZihiMC5wcm94eSl7Yk8uc2V0UGFpbnRTdHlsZShiMC5wcm94eS5wYWludFN0eWxlKX1iWT1hdChiTy5nZXRQYWludFN0eWxlKCksYk8uYW5jaG9yLGJMLGJPLmNhbnZhcyxiVC5lbGVtZW50KTtpZihiUz09bnVsbCl7Yk8uYW5jaG9yLmxvY2tlZD10cnVlO2JPLnNldEhvdmVyKGZhbHNlLGZhbHNlKTtiUz1hZCh7c291cmNlRW5kcG9pbnQ6Yk8sdGFyZ2V0RW5kcG9pbnQ6Ylksc291cmNlOmJPLmVuZHBvaW50V2lsbE1vdmVUb3x8RihiTiksdGFyZ2V0OmJULmVsZW1lbnQsYW5jaG9yczpbYk8uYW5jaG9yLGJZLmFuY2hvcl0scGFpbnRTdHlsZTpiMC5jb25uZWN0b3JTdHlsZSxob3ZlclBhaW50U3R5bGU6YjAuY29ubmVjdG9ySG92ZXJTdHlsZSxjb25uZWN0b3I6YjAuY29ubmVjdG9yLG92ZXJsYXlzOmIwLmNvbm5lY3Rvck92ZXJsYXlzfSl9ZWxzZXtidz10cnVlO2JTLmNvbm5lY3Rvci5zZXRIb3ZlcihmYWxzZSxmYWxzZSk7YkUoRihiQy5jYW52YXMpLGZhbHNlLHRydWUpO3ZhciBiNT1iUy5lbmRwb2ludHNbMF0uaWQ9PWJPLmlkPzA6MTtiUy5mbG9hdGluZ0FuY2hvckluZGV4PWI1O2JPLmRldGFjaEZyb21Db25uZWN0aW9uKGJTKTt2YXIgYjk9RihiTy5jYW52YXMpLGI3PXAuQ3VycmVudExpYnJhcnkuZ2V0RHJhZ1Njb3BlKGI5KTtmKGI5LFwib3JpZ2luYWxTY29wZVwiLGI3KTt2YXIgYjQ9cC5DdXJyZW50TGlicmFyeS5nZXREcm9wU2NvcGUoYjkpO3AuQ3VycmVudExpYnJhcnkuc2V0RHJhZ1Njb3BlKGI5LGI0KTtpZihiNT09MCl7YkI9W2JTLnNvdXJjZSxiUy5zb3VyY2VJZCxiVyxiN107YlMuc291cmNlPWJULmVsZW1lbnQ7YlMuc291cmNlSWQ9YlQuaWR9ZWxzZXtiQj1bYlMudGFyZ2V0LGJTLnRhcmdldElkLGJXLGI3XTtiUy50YXJnZXQ9YlQuZWxlbWVudDtiUy50YXJnZXRJZD1iVC5pZH1iUy5lbmRwb2ludHNbYjU9PTA/MTowXS5hbmNob3IubG9ja2VkPXRydWU7YlMuc3VzcGVuZGVkRW5kcG9pbnQ9YlMuZW5kcG9pbnRzW2I1XTtiUy5zdXNwZW5kZWRFbmRwb2ludC5zZXRIb3ZlcihmYWxzZSk7YlMuZW5kcG9pbnRzW2I1XT1iWTthNChiUyl9YmZbYlQuaWRdPWJTO2JZLmFkZENvbm5lY3Rpb24oYlMpO1YoYVQsYlQuaWQsYlkpO2JuLmN1cnJlbnRseURyYWdnaW5nPXRydWV9O3ZhciBiej1wLkN1cnJlbnRMaWJyYXJ5LGJWPWIwLmRyYWdPcHRpb25zfHx7fSxiUD1wLmV4dGVuZCh7fSxiei5kZWZhdWx0RHJhZ09wdGlvbnMpLGJSPWJ6LmRyYWdFdmVudHMuc3RhcnQsYlo9YnouZHJhZ0V2ZW50cy5zdG9wLGJHPWJ6LmRyYWdFdmVudHMuZHJhZztiVj1wLmV4dGVuZChiUCxiVik7YlYuc2NvcGU9YlYuc2NvcGV8fGJPLnNjb3BlO2JWW2JSXT1hbShiVltiUl0sYkQpO2JWW2JHXT1hbShiVltiR10sYnYuZHJhZyk7YlZbYlpdPWFtKGJWW2JaXSxmdW5jdGlvbigpe3ZhciBiMz1iei5nZXREcm9wRXZlbnQoYXJndW1lbnRzKTtibi5jdXJyZW50bHlEcmFnZ2luZz1mYWxzZTtEKGFUW2JULmlkXSxmdW5jdGlvbihiNCl7cmV0dXJuIGI0LmlkPT1iWS5pZH0pO2FYKFtiVC5lbGVtZW50WzBdLGJZLmNhbnZhc10sYk4pO2F1KGJDLmNhbnZhcyxiTik7Ym4uYW5jaG9yTWFuYWdlci5jbGVhckZvcihiVC5pZCk7dmFyIGIyPWJTLmZsb2F0aW5nQW5jaG9ySW5kZXg9PW51bGw/MTpiUy5mbG9hdGluZ0FuY2hvckluZGV4O2JTLmVuZHBvaW50c1tiMj09MD8xOjBdLmFuY2hvci5sb2NrZWQ9ZmFsc2U7Yk8uc2V0UGFpbnRTdHlsZShiSik7aWYoYlMuZW5kcG9pbnRzW2IyXT09Ylkpe2lmKGJ3JiZiUy5zdXNwZW5kZWRFbmRwb2ludCl7aWYoYjI9PTApe2JTLnNvdXJjZT1iQlswXTtiUy5zb3VyY2VJZD1iQlsxXX1lbHNle2JTLnRhcmdldD1iQlswXTtiUy50YXJnZXRJZD1iQlsxXX1wLkN1cnJlbnRMaWJyYXJ5LnNldERyYWdTY29wZShiQlsyXSxiQlszXSk7YlMuZW5kcG9pbnRzW2IyXT1iUy5zdXNwZW5kZWRFbmRwb2ludDtpZihiTy5pc1JlYXR0YWNofHxiUy5fZm9yY2VEZXRhY2h8fCFiUy5lbmRwb2ludHNbYjI9PTA/MTowXS5kZXRhY2goYlMsZmFsc2UsZmFsc2UsdHJ1ZSxiMykpe2JTLnNldEhvdmVyKGZhbHNlKTtiUy5mbG9hdGluZ0FuY2hvckluZGV4PW51bGw7YlMuc3VzcGVuZGVkRW5kcG9pbnQuYWRkQ29ubmVjdGlvbihiUyk7Ym4ucmVwYWludChiQlsxXSl9YlMuX2ZvcmNlRGV0YWNoPW51bGx9ZWxzZXthWChiUy5jb25uZWN0b3IuZ2V0RGlzcGxheUVsZW1lbnRzKCksYk8ucGFyZW50KTtiTy5kZXRhY2hGcm9tQ29ubmVjdGlvbihiUyl9fWJPLmFuY2hvci5sb2NrZWQ9ZmFsc2U7Yk8ucGFpbnQoe3JlY2FsYzpmYWxzZX0pO2JTLnNldEhvdmVyKGZhbHNlLGZhbHNlKTthUihiUyk7YlM9bnVsbDtiQz1udWxsO2RlbGV0ZSBhVFtiWS5lbGVtZW50SWRdO2JZLmFuY2hvcj1udWxsO2JZPW51bGw7Ym4uY3VycmVudGx5RHJhZ2dpbmc9ZmFsc2V9KTt2YXIgYlc9RihiTy5jYW52YXMpO3AuQ3VycmVudExpYnJhcnkuaW5pdERyYWdnYWJsZShiVyxiVix0cnVlKX12YXIgYkU9ZnVuY3Rpb24oYjQsYjksYjcsY2Epe2lmKChiMC5pc1RhcmdldHx8YjkpJiZwLkN1cnJlbnRMaWJyYXJ5LmlzRHJvcFN1cHBvcnRlZChiTikpe3ZhciBiNT1iMC5kcm9wT3B0aW9uc3x8Ym4uRGVmYXVsdHMuRHJvcE9wdGlvbnN8fHAuRGVmYXVsdHMuRHJvcE9wdGlvbnM7YjU9cC5leHRlbmQoe30sYjUpO2I1LnNjb3BlPWI1LnNjb3BlfHxiTy5zY29wZTt2YXIgYjM9cC5DdXJyZW50TGlicmFyeS5kcmFnRXZlbnRzLmRyb3AsYjg9cC5DdXJyZW50TGlicmFyeS5kcmFnRXZlbnRzLm92ZXIsYjI9cC5DdXJyZW50TGlicmFyeS5kcmFnRXZlbnRzLm91dCxiNj1mdW5jdGlvbigpe3ZhciBjYj1wLkN1cnJlbnRMaWJyYXJ5LmdldERyb3BFdmVudChhcmd1bWVudHMpLGNvPUYocC5DdXJyZW50TGlicmFyeS5nZXREcmFnT2JqZWN0KGFyZ3VtZW50cykpLGNjPWQoY28sXCJkcmFnSWRcIiksY2Y9ZChjbyxcImVsSWRcIiksY249ZChjbyxcIm9yaWdpbmFsU2NvcGVcIiksY2k9YmZbY2NdO2lmKGNpIT1udWxsKXt2YXIgY2s9Y2kuZmxvYXRpbmdBbmNob3JJbmRleD09bnVsbD8xOmNpLmZsb2F0aW5nQW5jaG9ySW5kZXgsY2w9Y2s9PTA/MTowO2lmKGNuKXtwLkN1cnJlbnRMaWJyYXJ5LnNldERyYWdTY29wZShjbyxjbil9dmFyIGNtPWNhIT1udWxsP2NhLmlzRW5hYmxlZCgpOnRydWU7aWYoIWJPLmlzRnVsbCgpJiYhKGNrPT0wJiYhYk8uaXNTb3VyY2UpJiYhKGNrPT0xJiYhYk8uaXNUYXJnZXQpJiZjbSl7dmFyIGNnPXRydWU7aWYoY2kuc3VzcGVuZGVkRW5kcG9pbnQmJmNpLnN1c3BlbmRlZEVuZHBvaW50LmlkIT1iTy5pZCl7aWYoY2s9PTApe2NpLnNvdXJjZT1jaS5zdXNwZW5kZWRFbmRwb2ludC5lbGVtZW50O2NpLnNvdXJjZUlkPWNpLnN1c3BlbmRlZEVuZHBvaW50LmVsZW1lbnRJZH1lbHNle2NpLnRhcmdldD1jaS5zdXNwZW5kZWRFbmRwb2ludC5lbGVtZW50O2NpLnRhcmdldElkPWNpLnN1c3BlbmRlZEVuZHBvaW50LmVsZW1lbnRJZH1pZighY2kuaXNEZXRhY2hBbGxvd2VkKGNpKXx8IWNpLmVuZHBvaW50c1tja10uaXNEZXRhY2hBbGxvd2VkKGNpKXx8IWNpLnN1c3BlbmRlZEVuZHBvaW50LmlzRGV0YWNoQWxsb3dlZChjaSl8fCFibi5jaGVja0NvbmRpdGlvbihcImJlZm9yZURldGFjaFwiLGNpKSl7Y2c9ZmFsc2V9fWlmKGNrPT0wKXtjaS5zb3VyY2U9Yk8uZWxlbWVudDtjaS5zb3VyY2VJZD1iTy5lbGVtZW50SWR9ZWxzZXtjaS50YXJnZXQ9Yk8uZWxlbWVudDtjaS50YXJnZXRJZD1iTy5lbGVtZW50SWR9Y2c9Y2cmJmJPLmlzRHJvcEFsbG93ZWQoY2kuc291cmNlSWQsY2kudGFyZ2V0SWQsY2kuc2NvcGUsY2ksYk8pO2lmKGNnKXtjaS5lbmRwb2ludHNbY2tdLmRldGFjaEZyb21Db25uZWN0aW9uKGNpKTtpZihjaS5zdXNwZW5kZWRFbmRwb2ludCl7Y2kuc3VzcGVuZGVkRW5kcG9pbnQuZGV0YWNoRnJvbUNvbm5lY3Rpb24oY2kpfWNpLmVuZHBvaW50c1tja109Yk87Yk8uYWRkQ29ubmVjdGlvbihjaSk7dmFyIGNlPWJPLmdldFBhcmFtZXRlcnMoKTtmb3IodmFyIGNqIGluIGNlKXtjaS5zZXRQYXJhbWV0ZXIoY2osY2VbY2pdKX1pZighY2kuc3VzcGVuZGVkRW5kcG9pbnQpe2lmKGNlLmRyYWdnYWJsZSl7cC5DdXJyZW50TGlicmFyeS5pbml0RHJhZ2dhYmxlKGJPLmVsZW1lbnQsYlYsdHJ1ZSl9fWVsc2V7dmFyIGNoPWNpLnN1c3BlbmRlZEVuZHBvaW50LmdldEVsZW1lbnQoKSxjZD1jaS5zdXNwZW5kZWRFbmRwb2ludC5lbGVtZW50SWQ7YTcoe3NvdXJjZTpjaz09MD9jaDpjaS5zb3VyY2UsdGFyZ2V0OmNrPT0xP2NoOmNpLnRhcmdldCxzb3VyY2VJZDpjaz09MD9jZDpjaS5zb3VyY2VJZCx0YXJnZXRJZDpjaz09MT9jZDpjaS50YXJnZXRJZCxzb3VyY2VFbmRwb2ludDpjaz09MD9jaS5zdXNwZW5kZWRFbmRwb2ludDpjaS5lbmRwb2ludHNbMF0sdGFyZ2V0RW5kcG9pbnQ6Y2s9PTE/Y2kuc3VzcGVuZGVkRW5kcG9pbnQ6Y2kuZW5kcG9pbnRzWzFdLGNvbm5lY3Rpb246Y2l9LHRydWUsY2IpfWJ0KGNpLG51bGwsY2IpfWVsc2V7aWYoY2kuc3VzcGVuZGVkRW5kcG9pbnQpe2NpLmVuZHBvaW50c1tja109Y2kuc3VzcGVuZGVkRW5kcG9pbnQ7Y2kuc2V0SG92ZXIoZmFsc2UpO2NpLl9mb3JjZURldGFjaD10cnVlO2lmKGNrPT0wKXtjaS5zb3VyY2U9Y2kuc3VzcGVuZGVkRW5kcG9pbnQuZWxlbWVudDtjaS5zb3VyY2VJZD1jaS5zdXNwZW5kZWRFbmRwb2ludC5lbGVtZW50SWR9ZWxzZXtjaS50YXJnZXQ9Y2kuc3VzcGVuZGVkRW5kcG9pbnQuZWxlbWVudDtjaS50YXJnZXRJZD1jaS5zdXNwZW5kZWRFbmRwb2ludC5lbGVtZW50SWR9Y2kuc3VzcGVuZGVkRW5kcG9pbnQuYWRkQ29ubmVjdGlvbihjaSk7Y2kuZW5kcG9pbnRzWzBdLnJlcGFpbnQoKTtjaS5yZXBhaW50KCk7Ym4ucmVwYWludChjaS5zb3VyY2UuZWxlbWVudElkKTtjaS5fZm9yY2VEZXRhY2g9ZmFsc2V9fWNpLmZsb2F0aW5nQW5jaG9ySW5kZXg9bnVsbH1ibi5jdXJyZW50bHlEcmFnZ2luZz1mYWxzZTtkZWxldGUgYmZbY2NdfX07YjVbYjNdPWFtKGI1W2IzXSxiNik7YjVbYjhdPWFtKGI1W2I4XSxmdW5jdGlvbigpe2lmKGJPLmlzVGFyZ2V0KXt2YXIgY2M9cC5DdXJyZW50TGlicmFyeS5nZXREcmFnT2JqZWN0KGFyZ3VtZW50cyksY2U9ZChGKGNjKSxcImRyYWdJZFwiKSxjZD1iZltjZV07aWYoY2QhPW51bGwpe3ZhciBjYj1jZC5mbG9hdGluZ0FuY2hvckluZGV4PT1udWxsPzE6Y2QuZmxvYXRpbmdBbmNob3JJbmRleDtjZC5lbmRwb2ludHNbY2JdLmFuY2hvci5vdmVyKGJPLmFuY2hvcil9fX0pO2I1W2IyXT1hbShiNVtiMl0sZnVuY3Rpb24oKXtpZihiTy5pc1RhcmdldCl7dmFyIGNjPXAuQ3VycmVudExpYnJhcnkuZ2V0RHJhZ09iamVjdChhcmd1bWVudHMpLGNlPWQoRihjYyksXCJkcmFnSWRcIiksY2Q9YmZbY2VdO2lmKGNkIT1udWxsKXt2YXIgY2I9Y2QuZmxvYXRpbmdBbmNob3JJbmRleD09bnVsbD8xOmNkLmZsb2F0aW5nQW5jaG9ySW5kZXg7Y2QuZW5kcG9pbnRzW2NiXS5hbmNob3Iub3V0KCl9fX0pO3AuQ3VycmVudExpYnJhcnkuaW5pdERyb3BwYWJsZShiNCxiNSx0cnVlLGI3KX19O2JFKEYoYk8uY2FudmFzKSx0cnVlLCEoYjAuX3RyYW5zaWVudHx8Yk8uYW5jaG9yLmlzRmxvYXRpbmcpLGJPKTtyZXR1cm4gYk99fTt2YXIgcD13aW5kb3cuanNQbHVtYj1uZXcgeSgpO3AuZ2V0SW5zdGFuY2U9ZnVuY3Rpb24oTCl7dmFyIEs9bmV3IHkoTCk7Sy5pbml0KCk7cmV0dXJuIEt9O3ZhciBzPWZ1bmN0aW9uKEssUCxNLEwsTyxOKXtyZXR1cm4gZnVuY3Rpb24oUil7Uj1SfHx7fTt2YXIgUT1SLmpzUGx1bWJJbnN0YW5jZS5tYWtlQW5jaG9yKFtLLFAsTSxMLDAsMF0sUi5lbGVtZW50SWQsUi5qc1BsdW1iSW5zdGFuY2UpO1EudHlwZT1PO2lmKE4pe04oUSxSKX1yZXR1cm4gUX19O3AuQW5jaG9ycy5Ub3BDZW50ZXI9cygwLjUsMCwwLC0xLFwiVG9wQ2VudGVyXCIpO3AuQW5jaG9ycy5Cb3R0b21DZW50ZXI9cygwLjUsMSwwLDEsXCJCb3R0b21DZW50ZXJcIik7cC5BbmNob3JzLkxlZnRNaWRkbGU9cygwLDAuNSwtMSwwLFwiTGVmdE1pZGRsZVwiKTtwLkFuY2hvcnMuUmlnaHRNaWRkbGU9cygxLDAuNSwxLDAsXCJSaWdodE1pZGRsZVwiKTtwLkFuY2hvcnMuQ2VudGVyPXMoMC41LDAuNSwwLDAsXCJDZW50ZXJcIik7cC5BbmNob3JzLlRvcFJpZ2h0PXMoMSwwLDAsLTEsXCJUb3BSaWdodFwiKTtwLkFuY2hvcnMuQm90dG9tUmlnaHQ9cygxLDEsMCwxLFwiQm90dG9tUmlnaHRcIik7cC5BbmNob3JzLlRvcExlZnQ9cygwLDAsMCwtMSxcIlRvcExlZnRcIik7cC5BbmNob3JzLkJvdHRvbUxlZnQ9cygwLDEsMCwxLFwiQm90dG9tTGVmdFwiKTtwLkRlZmF1bHRzLkR5bmFtaWNBbmNob3JzPWZ1bmN0aW9uKEspe3JldHVybiBLLmpzUGx1bWJJbnN0YW5jZS5tYWtlQW5jaG9ycyhbXCJUb3BDZW50ZXJcIixcIlJpZ2h0TWlkZGxlXCIsXCJCb3R0b21DZW50ZXJcIixcIkxlZnRNaWRkbGVcIl0sSy5lbGVtZW50SWQsSy5qc1BsdW1iSW5zdGFuY2UpfTtwLkFuY2hvcnMuQXV0b0RlZmF1bHQ9ZnVuY3Rpb24oTCl7dmFyIEs9TC5qc1BsdW1iSW5zdGFuY2UubWFrZUR5bmFtaWNBbmNob3IocC5EZWZhdWx0cy5EeW5hbWljQW5jaG9ycyhMKSk7Sy50eXBlPVwiQXV0b0RlZmF1bHRcIjtyZXR1cm4gS307cC5BbmNob3JzLkFzc2lnbj1zKDAsMCwwLDAsXCJBc3NpZ25cIixmdW5jdGlvbihMLE0pe3ZhciBLPU0ucG9zaXRpb258fFwiRml4ZWRcIjtMLnBvc2l0aW9uRmluZGVyPUsuY29uc3RydWN0b3I9PVN0cmluZz9NLmpzUGx1bWJJbnN0YW5jZS5BbmNob3JQb3NpdGlvbkZpbmRlcnNbS106SztMLmNvbnN0cnVjdG9yUGFyYW1zPU19KTtwLkFuY2hvcnMuQ29udGludW91cz1mdW5jdGlvbihLKXtyZXR1cm4gSy5qc1BsdW1iSW5zdGFuY2UuY29udGludW91c0FuY2hvckZhY3RvcnkuZ2V0KEspfTtwLkFuY2hvclBvc2l0aW9uRmluZGVycz17Rml4ZWQ6ZnVuY3Rpb24oTixLLE0sTCl7cmV0dXJuWyhOLmxlZnQtSy5sZWZ0KS9NWzBdLChOLnRvcC1LLnRvcCkvTVsxXV19LEdyaWQ6ZnVuY3Rpb24oSyxULE8sTCl7dmFyIFM9Sy5sZWZ0LVQubGVmdCxSPUsudG9wLVQudG9wLFE9T1swXS8oTC5ncmlkWzBdKSxQPU9bMV0vKEwuZ3JpZFsxXSksTj1NYXRoLmZsb29yKFMvUSksTT1NYXRoLmZsb29yKFIvUCk7cmV0dXJuWygoTipRKSsoUS8yKSkvT1swXSwoKE0qUCkrKFAvMikpL09bMV1dfX19KSgpOyhmdW5jdGlvbigpe2pzUGx1bWIuRE9NRWxlbWVudENvbXBvbmVudD1mdW5jdGlvbihjKXtqc1BsdW1iLmpzUGx1bWJVSUNvbXBvbmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5tb3VzZW1vdmU9dGhpcy5kYmxjbGljaz10aGlzLmNsaWNrPXRoaXMubW91c2Vkb3duPXRoaXMubW91c2V1cD1mdW5jdGlvbihkKXt9fTtqc1BsdW1iLkNvbm5lY3RvcnMuU3RyYWlnaHQ9ZnVuY3Rpb24oKXt0aGlzLnR5cGU9XCJTdHJhaWdodFwiO3ZhciByPXRoaXMsaT1udWxsLGUsayxwLG4sbCxmLHEsaCxnLGQsYyxvLG07dGhpcy5jb21wdXRlPWZ1bmN0aW9uKEEsSixzLHosRix0LEQsdil7dmFyIEk9TWF0aC5hYnMoQVswXS1KWzBdKSxDPU1hdGguYWJzKEFbMV0tSlsxXSksQj0wLjQ1KkksdT0wLjQ1KkM7SSo9MS45O0MqPTEuOTt2YXIgRz1NYXRoLm1pbihBWzBdLEpbMF0pLUI7dmFyIEU9TWF0aC5taW4oQVsxXSxKWzFdKS11O3ZhciBIPU1hdGgubWF4KDIqRCx2KTtpZihJPEgpe0k9SDtHPUFbMF0rKChKWzBdLUFbMF0pLzIpLShILzIpO0I9KEktTWF0aC5hYnMoQVswXS1KWzBdKSkvMn1pZihDPEgpe0M9SDtFPUFbMV0rKChKWzFdLUFbMV0pLzIpLShILzIpO3U9KEMtTWF0aC5hYnMoQVsxXS1KWzFdKSkvMn1oPUFbMF08SlswXT9COkktQjtnPUFbMV08SlsxXT91OkMtdTtkPUFbMF08SlswXT9JLUI6QjtjPUFbMV08SlsxXT9DLXU6dTtpPVtHLEUsSSxDLGgsZyxkLGNdO249ZC1oLGw9Yy1nO2U9anNQbHVtYlV0aWwuZ3JhZGllbnQoe3g6aCx5Omd9LHt4OmQseTpjfSksaz0tMS9lO3A9LTEqKChlKmgpLWcpO2Y9TWF0aC5hdGFuKGUpO3E9TWF0aC5hdGFuKGspO209TWF0aC5zcXJ0KChuKm4pKyhsKmwpKTtyZXR1cm4gaX07dGhpcy5wb2ludE9uUGF0aD1mdW5jdGlvbih0LHUpe2lmKHQ9PTAmJiF1KXtyZXR1cm57eDpoLHk6Z319ZWxzZXtpZih0PT0xJiYhdSl7cmV0dXJue3g6ZCx5OmN9fWVsc2V7dmFyIHM9dT90PjA/dDptK3Q6dCptO3JldHVybiBqc1BsdW1iVXRpbC5wb2ludE9uTGluZSh7eDpoLHk6Z30se3g6ZCx5OmN9LHMpfX19O3RoaXMuZ3JhZGllbnRBdFBvaW50PWZ1bmN0aW9uKHMpe3JldHVybiBlfTt0aGlzLnBvaW50QWxvbmdQYXRoRnJvbT1mdW5jdGlvbihzLHcsdil7dmFyIHU9ci5wb2ludE9uUGF0aChzLHYpLHQ9cz09MT97eDpoKygoZC1oKSoxMCkseTpnKygoZy1jKSoxMCl9Ont4OmQseTpjfTtyZXR1cm4ganNQbHVtYlV0aWwucG9pbnRPbkxpbmUodSx0LHcpfX07anNQbHVtYi5Db25uZWN0b3JzLkJlemllcj1mdW5jdGlvbih2KXt2YXIgcD10aGlzO3Y9dnx8e307dGhpcy5tYWpvckFuY2hvcj12LmN1cnZpbmVzc3x8MTUwO3RoaXMubWlub3JBbmNob3I9MTA7dmFyIHQ9bnVsbDt0aGlzLnR5cGU9XCJCZXppZXJcIjt0aGlzLl9maW5kQ29udHJvbFBvaW50PWZ1bmN0aW9uKEgsdyxDLHgsQSxGLHkpe3ZhciBFPUYuZ2V0T3JpZW50YXRpb24oeCksRz15LmdldE9yaWVudGF0aW9uKEEpLEI9RVswXSE9R1swXXx8RVsxXT09R1sxXSx6PVtdLEk9cC5tYWpvckFuY2hvcixEPXAubWlub3JBbmNob3I7aWYoIUIpe2lmKEVbMF09PTApe3oucHVzaCh3WzBdPENbMF0/SFswXStEOkhbMF0tRCl9ZWxzZXt6LnB1c2goSFswXS0oSSpFWzBdKSl9aWYoRVsxXT09MCl7ei5wdXNoKHdbMV08Q1sxXT9IWzFdK0Q6SFsxXS1EKX1lbHNle3oucHVzaChIWzFdKyhJKkdbMV0pKX19ZWxzZXtpZihHWzBdPT0wKXt6LnB1c2goQ1swXTx3WzBdP0hbMF0rRDpIWzBdLUQpfWVsc2V7ei5wdXNoKEhbMF0rKEkqR1swXSkpfWlmKEdbMV09PTApe3oucHVzaChDWzFdPHdbMV0/SFsxXStEOkhbMV0tRCl9ZWxzZXt6LnB1c2goSFsxXSsoSSpFWzFdKSl9fXJldHVybiB6fTt2YXIgcSxsLGYsbyxuLGYsZSxzLHIsdSxkLGgsZyxrLGk7dGhpcy5jb21wdXRlPWZ1bmN0aW9uKFMseixNLEEsUSx4LHcsTCl7dz13fHwwO3U9TWF0aC5hYnMoU1swXS16WzBdKSt3O2Q9TWF0aC5hYnMoU1sxXS16WzFdKSt3O3M9TWF0aC5taW4oU1swXSx6WzBdKS0ody8yKTtyPU1hdGgubWluKFNbMV0selsxXSktKHcvMik7Zj1TWzBdPHpbMF0/dS0ody8yKToody8yKTtlPVNbMV08elsxXT9kLSh3LzIpOih3LzIpO289U1swXTx6WzBdPyh3LzIpOnUtKHcvMik7bj1TWzFdPHpbMV0/KHcvMik6ZC0ody8yKTtxPXAuX2ZpbmRDb250cm9sUG9pbnQoW2YsZV0sUyx6LE0sQSxRLHgpO2w9cC5fZmluZENvbnRyb2xQb2ludChbbyxuXSx6LFMsQSxNLHgsUSk7dmFyIEs9TWF0aC5taW4oZixvKSxKPU1hdGgubWluKHFbMF0sbFswXSksRj1NYXRoLm1pbihLLEopLFI9TWF0aC5tYXgoZixvKSxPPU1hdGgubWF4KHFbMF0sbFswXSksQz1NYXRoLm1heChSLE8pO2lmKEM+dSl7dT1DfWlmKEY8MCl7cys9Rjt2YXIgSD1NYXRoLmFicyhGKTt1Kz1IO3FbMF0rPUg7Zis9SDtvKz1IO2xbMF0rPUh9dmFyIFA9TWF0aC5taW4oZSxuKSxOPU1hdGgubWluKHFbMV0sbFsxXSksQj1NYXRoLm1pbihQLE4pLEc9TWF0aC5tYXgoZSxuKSxFPU1hdGgubWF4KHFbMV0sbFsxXSkseT1NYXRoLm1heChHLEUpO2lmKHk+ZCl7ZD15fWlmKEI8MCl7cis9Qjt2YXIgRD1NYXRoLmFicyhCKTtkKz1EO3FbMV0rPUQ7ZSs9RDtuKz1EO2xbMV0rPUR9aWYoTCYmdTxMKXt2YXIgST0oTC11KS8yO3U9TDtzLT1JO2Y9ZitJO289bytJO3FbMF09cVswXStJO2xbMF09bFswXStJfWlmKEwmJmQ8TCl7dmFyIEk9KEwtZCkvMjtkPUw7ci09STtlPWUrSTtuPW4rSTtxWzFdPXFbMV0rSTtsWzFdPWxbMV0rSX10PVtzLHIsdSxkLGYsZSxvLG4scVswXSxxWzFdLGxbMF0sbFsxXV07cmV0dXJuIHR9O3ZhciBjPWZ1bmN0aW9uKCl7cmV0dXJuW3t4OmYseTplfSx7eDpxWzBdLHk6cVsxXX0se3g6bFswXSx5OmxbMV19LHt4Om8seTpufV19O3ZhciBtPWZ1bmN0aW9uKHgsdyx5KXtpZih5KXt3PWpzQmV6aWVyLmxvY2F0aW9uQWxvbmdDdXJ2ZUZyb20oeCx3PjA/MDoxLHcpfXJldHVybiB3fTt0aGlzLnBvaW50T25QYXRoPWZ1bmN0aW9uKHcseSl7dmFyIHg9YygpO3c9bSh4LHcseSk7cmV0dXJuIGpzQmV6aWVyLnBvaW50T25DdXJ2ZSh4LHcpfTt0aGlzLmdyYWRpZW50QXRQb2ludD1mdW5jdGlvbih3LHkpe3ZhciB4PWMoKTt3PW0oeCx3LHkpO3JldHVybiBqc0Jlemllci5ncmFkaWVudEF0UG9pbnQoeCx3KX07dGhpcy5wb2ludEFsb25nUGF0aEZyb209ZnVuY3Rpb24odyx6LHkpe3ZhciB4PWMoKTt3PW0oeCx3LHkpO3JldHVybiBqc0Jlemllci5wb2ludEFsb25nQ3VydmVGcm9tKHgsdyx6KX19O2pzUGx1bWIuQ29ubmVjdG9ycy5GbG93Y2hhcnQ9ZnVuY3Rpb24odil7dGhpcy50eXBlPVwiRmxvd2NoYXJ0XCI7dj12fHx7fTt2YXIgbj10aGlzLGM9di5zdHVifHx2Lm1pblN0dWJMZW5ndGh8fDMwLGY9anNQbHVtYlV0aWwuaXNBcnJheShjKT9jWzBdOmMsaz1qc1BsdW1iVXRpbC5pc0FycmF5KGMpP2NbMV06YyxwPXYuZ2FwfHwwLHE9W10saT0wLGQ9W10sbT1bXSxyPVtdLG8sbCx1PS1JbmZpbml0eSxzPS1JbmZpbml0eSx3PUluZmluaXR5LHQ9SW5maW5pdHkseD1mdW5jdGlvbih6LHksRCxDKXt2YXIgQj0wO2Zvcih2YXIgQT0wO0E8cS5sZW5ndGg7QSsrKXttW0FdPXFbQV1bNV0vaTtkW0FdPVtCLChCKz0ocVtBXVs1XS9pKSldfX0saD1mdW5jdGlvbigpe3IucHVzaChxLmxlbmd0aCk7Zm9yKHZhciB5PTA7eTxxLmxlbmd0aDt5Kyspe3IucHVzaChxW3ldWzBdKTtyLnB1c2gocVt5XVsxXSl9fSxnPWZ1bmN0aW9uKEksRixILEcsRSxEKXt2YXIgQT1xLmxlbmd0aD09MD9IOnFbcS5sZW5ndGgtMV1bMF0sej1xLmxlbmd0aD09MD9HOnFbcS5sZW5ndGgtMV1bMV0sQj1JPT1BP0luZmluaXR5OjAsQz1NYXRoLmFicyhJPT1BP0YtejpJLUEpO3EucHVzaChbSSxGLEEseixCLENdKTtpKz1DO3U9TWF0aC5tYXgodSxJKTtzPU1hdGgubWF4KHMsRik7dz1NYXRoLm1pbih3LEkpO3Q9TWF0aC5taW4odCxGKX0sZT1mdW5jdGlvbihBLEMpe2lmKEMpe0E9QT4wP0EvaTooaStBKS9pfXZhciB5PWQubGVuZ3RoLTEsej0xO2Zvcih2YXIgQj0wO0I8ZC5sZW5ndGg7QisrKXtpZihkW0JdWzFdPj1BKXt5PUI7ej0oQS1kW0JdWzBdKS9tW0JdO2JyZWFrfX1yZXR1cm57c2VnbWVudDpxW3ldLHByb3BvcnRpb246eixpbmRleDp5fX07dGhpcy5jb21wdXRlPWZ1bmN0aW9uKFcsYWsseixRLGF2LEssVSxQLGFwLGFtKXtxPVtdO2Q9W107aT0wO209W107dT1zPS1JbmZpbml0eTt3PXQ9SW5maW5pdHk7bz1ha1swXTxXWzBdO2w9YWtbMV08V1sxXTt2YXIgYWE9VXx8MSxFPShhYS8yKSsoZitrKSxCPShhYS8yKSsoaytmKSxEPShhYS8yKSsoZitrKSxBPShhYS8yKSsoaytmKSxOPWF2Lm9yaWVudGF0aW9ufHxhdi5nZXRPcmllbnRhdGlvbih6KSxhdz1LLm9yaWVudGF0aW9ufHxLLmdldE9yaWVudGF0aW9uKFEpLGFqPW8/YWtbMF06V1swXSxhaT1sP2FrWzFdOldbMV0sYWw9TWF0aC5hYnMoYWtbMF0tV1swXSkrRStCLGF1PU1hdGguYWJzKGFrWzFdLVdbMV0pK0QrQTtpZihOWzBdPT0wJiZOWzFdPT0wfHxhd1swXT09MCYmYXdbMV09PTApe3ZhciBhYz1hbD5hdT8wOjEsYWU9WzEsMF1bYWNdO049W107YXc9W107TlthY109V1thY10+YWtbYWNdPy0xOjE7YXdbYWNdPVdbYWNdPmFrW2FjXT8xOi0xO05bYWVdPTA7YXdbYWVdPTB9aWYoYWw8UCl7RSs9KFAtYWwpLzI7YWw9UH1pZihhdTxQKXtEKz0oUC1hdSkvMjthdT1QfXZhciBJPW8/KGFsLUIpKyhwKk5bMF0pOkUrKHAqTlswXSksSD1sPyhhdS1BKSsocCpOWzFdKTpEKyhwKk5bMV0pLGFyPW8/RSsocCphd1swXSk6KGFsLUIpKyhwKmF3WzBdKSxhcT1sP0QrKHAqYXdbMV0pOihhdS1BKSsocCphd1sxXSksWj1JKyhOWzBdKmYpLFk9SCsoTlsxXSpmKSxMPWFyKyhhd1swXSprKSxKPWFxKyhhd1sxXSprKSxWPU1hdGguYWJzKEktYXIpPihmK2spLFg9TWF0aC5hYnMoSC1hcSk+KGYrayksYWg9WisoKEwtWikvMiksYWY9WSsoKEotWSkvMiksTz0oKE5bMF0qYXdbMF0pKyhOWzFdKmF3WzFdKSksYWI9Tz09LTEsYWQ9Tz09MCxDPU89PTE7YWotPUU7YWktPUQ7cj1bYWosYWksYWwsYXUsSSxILGFyLGFxXTt2YXIgYW89W107dmFyIFM9TlswXT09MD9cInlcIjpcInhcIixNPWFiP1wib3Bwb3NpdGVcIjpDP1wib3J0aG9nb25hbFwiOlwicGVycGVuZGljdWxhclwiLEY9anNQbHVtYlV0aWwuc2VnbWVudChbSSxIXSxbYXIsYXFdKSxhZz1OW1M9PVwieFwiPzA6MV09PS0xLFI9e3g6W251bGwsNCwzLDIsMV0seTpbbnVsbCwyLDEsNCwzXX07aWYoYWcpe0Y9UltTXVtGXX1nKFosWSxJLEgsYXIsYXEpO3ZhciBUPWZ1bmN0aW9uKGF6LGF5LHksYXgpe3JldHVybiBheisoYXkqKCgxLXkpKmF4KStNYXRoLm1heChmLGspKX0sRz17b3Bwb3NpdGV4OmZ1bmN0aW9uKCl7aWYoei5lbGVtZW50SWQ9PVEuZWxlbWVudElkKXt2YXIgeT1ZKygoMS1hdi55KSphcC5oZWlnaHQpK01hdGgubWF4KGYsayk7cmV0dXJuW1taLHldLFtMLHldXX1lbHNle2lmKFYmJihGPT0xfHxGPT0yKSl7cmV0dXJuW1thaCxIXSxbYWgsYXFdXX1lbHNle3JldHVybltbWixhZl0sW0wsYWZdXX19fSxvcnRob2dvbmFseDpmdW5jdGlvbigpe2lmKEY9PTF8fEY9PTIpe3JldHVybltbTCxZXV19ZWxzZXtyZXR1cm5bW1osSl1dfX0scGVycGVuZGljdWxhcng6ZnVuY3Rpb24oKXt2YXIgeT0oYXErSCkvMjtpZigoRj09MSYmYXdbMV09PTEpfHwoRj09MiYmYXdbMV09PS0xKSl7aWYoTWF0aC5hYnMoYXItSSk+TWF0aC5tYXgoZixrKSl7cmV0dXJuW1tMLFldXX1lbHNle3JldHVybltbWixZXSxbWix5XSxbTCx5XV19fWVsc2V7aWYoKEY9PTMmJmF3WzFdPT0tMSl8fChGPT00JiZhd1sxXT09MSkpe3JldHVybltbWix5XSxbTCx5XV19ZWxzZXtpZigoRj09MyYmYXdbMV09PTEpfHwoRj09NCYmYXdbMV09PS0xKSl7cmV0dXJuW1taLEpdXX1lbHNle2lmKChGPT0xJiZhd1sxXT09LTEpfHwoRj09MiYmYXdbMV09PTEpKXtpZihNYXRoLmFicyhhci1JKT5NYXRoLm1heChmLGspKXtyZXR1cm5bW2FoLFldLFthaCxKXV19ZWxzZXtyZXR1cm5bW1osSl1dfX19fX19LG9wcG9zaXRleTpmdW5jdGlvbigpe2lmKHouZWxlbWVudElkPT1RLmVsZW1lbnRJZCl7dmFyIHk9WisoKDEtYXYueCkqYXAud2lkdGgpK01hdGgubWF4KGYsayk7cmV0dXJuW1t5LFldLFt5LEpdXX1lbHNle2lmKFgmJihGPT0yfHxGPT0zKSl7cmV0dXJuW1tJLGFmXSxbYXIsYWZdXX1lbHNle3JldHVybltbYWgsWV0sW2FoLEpdXX19fSxvcnRob2dvbmFseTpmdW5jdGlvbigpe2lmKEY9PTJ8fEY9PTMpe3JldHVybltbWixKXV19ZWxzZXtyZXR1cm5bW0wsWV1dfX0scGVycGVuZGljdWxhcnk6ZnVuY3Rpb24oKXt2YXIgeT0oYXIrSSkvMjtpZigoRj09MiYmYXdbMF09PS0xKXx8KEY9PTMmJmF3WzBdPT0xKSl7aWYoTWF0aC5hYnMoYXItSSk+TWF0aC5tYXgoZixrKSl7cmV0dXJuW1taLEpdXX1lbHNle3JldHVybltbWixhZl0sW0wsYWZdXX19ZWxzZXtpZigoRj09MSYmYXdbMF09PS0xKXx8KEY9PTQmJmF3WzBdPT0xKSl7dmFyIHk9KGFyK0kpLzI7cmV0dXJuW1t5LFldLFt5LEpdXX1lbHNle2lmKChGPT0xJiZhd1swXT09MSl8fChGPT00JiZhd1swXT09LTEpKXtyZXR1cm5bW0wsWV1dfWVsc2V7aWYoKEY9PTImJmF3WzBdPT0xKXx8KEY9PTMmJmF3WzBdPT0tMSkpe2lmKE1hdGguYWJzKGFxLUgpPk1hdGgubWF4KGYsaykpe3JldHVybltbWixhZl0sW0wsYWZdXX1lbHNle3JldHVybltbTCxZXV19fX19fX19O3ZhciBhbj1HW00rU10oKTtpZihhbil7Zm9yKHZhciBhdD0wO2F0PGFuLmxlbmd0aDthdCsrKXtnKGFuW2F0XVswXSxhblthdF1bMV0sSSxILGFyLGFxKX19ZyhMLEosSSxILGFyLGFxKTtnKGFyLGFxLEksSCxhcixhcSk7aCgpO3goSSxILGFyLGFxKTtpZihzPnJbM10pe3JbM109cysoVSoyKX1pZih1PnJbMl0pe3JbMl09dSsoVSoyKX1yZXR1cm4gcn07dGhpcy5wb2ludE9uUGF0aD1mdW5jdGlvbih5LHope3JldHVybiBuLnBvaW50QWxvbmdQYXRoRnJvbSh5LDAseil9O3RoaXMuZ3JhZGllbnRBdFBvaW50PWZ1bmN0aW9uKHkseil7cmV0dXJuIHFbZSh5LHopW1wiaW5kZXhcIl1dWzRdfTt0aGlzLnBvaW50QWxvbmdQYXRoRnJvbT1mdW5jdGlvbihGLHksRSl7dmFyIEc9ZShGLEUpLEM9Ry5zZWdtZW50LHo9Ry5wcm9wb3J0aW9uLEI9cVtHLmluZGV4XVs1XSxBPXFbRy5pbmRleF1bNF07dmFyIEQ9e3g6QT09SW5maW5pdHk/Q1syXTpDWzJdPkNbMF0/Q1swXSsoKDEteikqQikteTpDWzJdKyh6KkIpK3kseTpBPT0wP0NbM106Q1szXT5DWzFdP0NbMV0rKCgxLXopKkIpLXk6Q1szXSsoeipCKSt5LHNlZ21lbnRJbmZvOkd9O3JldHVybiBEfX07anNQbHVtYi5FbmRwb2ludHMuRG90PWZ1bmN0aW9uKGQpe3RoaXMudHlwZT1cIkRvdFwiO3ZhciBjPXRoaXM7ZD1kfHx7fTt0aGlzLnJhZGl1cz1kLnJhZGl1c3x8MTA7dGhpcy5kZWZhdWx0T2Zmc2V0PTAuNSp0aGlzLnJhZGl1czt0aGlzLmRlZmF1bHRJbm5lclJhZGl1cz10aGlzLnJhZGl1cy8zO3RoaXMuY29tcHV0ZT1mdW5jdGlvbihpLGYsbCxoKXt2YXIgZz1sLnJhZGl1c3x8Yy5yYWRpdXMsZT1pWzBdLWcsaz1pWzFdLWc7cmV0dXJuW2UsayxnKjIsZyoyLGddfX07anNQbHVtYi5FbmRwb2ludHMuUmVjdGFuZ2xlPWZ1bmN0aW9uKGQpe3RoaXMudHlwZT1cIlJlY3RhbmdsZVwiO3ZhciBjPXRoaXM7ZD1kfHx7fTt0aGlzLndpZHRoPWQud2lkdGh8fDIwO3RoaXMuaGVpZ2h0PWQuaGVpZ2h0fHwyMDt0aGlzLmNvbXB1dGU9ZnVuY3Rpb24oayxnLG0saSl7dmFyIGg9bS53aWR0aHx8Yy53aWR0aCxmPW0uaGVpZ2h0fHxjLmhlaWdodCxlPWtbMF0tKGgvMiksbD1rWzFdLShmLzIpO3JldHVybltlLGwsaCxmXX19O3ZhciBhPWZ1bmN0aW9uKGUpe2pzUGx1bWIuRE9NRWxlbWVudENvbXBvbmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGM9dGhpczt2YXIgZD1bXTt0aGlzLmdldERpc3BsYXlFbGVtZW50cz1mdW5jdGlvbigpe3JldHVybiBkfTt0aGlzLmFwcGVuZERpc3BsYXlFbGVtZW50PWZ1bmN0aW9uKGYpe2QucHVzaChmKX19O2pzUGx1bWIuRW5kcG9pbnRzLkltYWdlPWZ1bmN0aW9uKGcpe3RoaXMudHlwZT1cIkltYWdlXCI7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGw9dGhpcyxmPWZhbHNlLGU9Zy53aWR0aCxkPWcuaGVpZ2h0LGk9bnVsbCxjPWcuZW5kcG9pbnQ7dGhpcy5pbWc9bmV3IEltYWdlKCk7bC5yZWFkeT1mYWxzZTt0aGlzLmltZy5vbmxvYWQ9ZnVuY3Rpb24oKXtsLnJlYWR5PXRydWU7ZT1lfHxsLmltZy53aWR0aDtkPWR8fGwuaW1nLmhlaWdodDtpZihpKXtpKGwpfX07Yy5zZXRJbWFnZT1mdW5jdGlvbihtLG8pe3ZhciBuPW0uY29uc3RydWN0b3I9PVN0cmluZz9tOm0uc3JjO2k9bztsLmltZy5zcmM9bTtpZihsLmNhbnZhcyE9bnVsbCl7bC5jYW52YXMuc2V0QXR0cmlidXRlKFwic3JjXCIsbSl9fTtjLnNldEltYWdlKGcuc3JjfHxnLnVybCxnLm9ubG9hZCk7dGhpcy5jb21wdXRlPWZ1bmN0aW9uKG8sbSxwLG4pe2wuYW5jaG9yUG9pbnQ9bztpZihsLnJlYWR5KXtyZXR1cm5bb1swXS1lLzIsb1sxXS1kLzIsZSxkXX1lbHNle3JldHVyblswLDAsMCwwXX19O2wuY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiksZj1mYWxzZTtsLmNhbnZhcy5zdHlsZS5tYXJnaW49MDtsLmNhbnZhcy5zdHlsZS5wYWRkaW5nPTA7bC5jYW52YXMuc3R5bGUub3V0bGluZT0wO2wuY2FudmFzLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIjt2YXIgaD1nLmNzc0NsYXNzP1wiIFwiK2cuY3NzQ2xhc3M6XCJcIjtsLmNhbnZhcy5jbGFzc05hbWU9anNQbHVtYi5lbmRwb2ludENsYXNzK2g7aWYoZSl7bC5jYW52YXMuc2V0QXR0cmlidXRlKFwid2lkdGhcIixlKX1pZihkKXtsLmNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixkKX1qc1BsdW1iLmFwcGVuZEVsZW1lbnQobC5jYW52YXMsZy5wYXJlbnQpO2wuYXR0YWNoTGlzdGVuZXJzKGwuY2FudmFzLGwpO3ZhciBrPWZ1bmN0aW9uKHAsbyxuKXtpZighZil7bC5jYW52YXMuc2V0QXR0cmlidXRlKFwic3JjXCIsbC5pbWcuc3JjKTtsLmFwcGVuZERpc3BsYXlFbGVtZW50KGwuY2FudmFzKTtmPXRydWV9dmFyIG09bC5hbmNob3JQb2ludFswXS0oZS8yKSxxPWwuYW5jaG9yUG9pbnRbMV0tKGQvMik7anNQbHVtYi5zaXplQ2FudmFzKGwuY2FudmFzLG0scSxlLGQpfTt0aGlzLnBhaW50PWZ1bmN0aW9uKG8sbixtKXtpZihsLnJlYWR5KXtrKG8sbixtKX1lbHNle3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bC5wYWludChvLG4sbSl9LDIwMCl9fX07anNQbHVtYi5FbmRwb2ludHMuQmxhbms9ZnVuY3Rpb24oZCl7dmFyIGM9dGhpczt0aGlzLnR5cGU9XCJCbGFua1wiO2EuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY29tcHV0ZT1mdW5jdGlvbihnLGUsaCxmKXtyZXR1cm5bZ1swXSxnWzFdLDEwLDBdfTtjLmNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2MuY2FudmFzLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO2MuY2FudmFzLnN0eWxlLndpZHRoPVwiMXB4XCI7Yy5jYW52YXMuc3R5bGUuaGVpZ2h0PVwiMXB4XCI7Yy5jYW52YXMuc3R5bGUuYmFja2dyb3VuZD1cInRyYW5zcGFyZW50XCI7Yy5jYW52YXMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiO2MuY2FudmFzLmNsYXNzTmFtZT1jLl9qc1BsdW1iLmVuZHBvaW50Q2xhc3M7anNQbHVtYi5hcHBlbmRFbGVtZW50KGMuY2FudmFzLGQucGFyZW50KTt0aGlzLnBhaW50PWZ1bmN0aW9uKGcsZixlKXtqc1BsdW1iLnNpemVDYW52YXMoYy5jYW52YXMsZ1swXSxnWzFdLGdbMl0sZ1szXSl9fTtqc1BsdW1iLkVuZHBvaW50cy5UcmlhbmdsZT1mdW5jdGlvbihjKXt0aGlzLnR5cGU9XCJUcmlhbmdsZVwiO2M9Y3x8e307Yy53aWR0aD1jLndpZHRofHw1NTtjLmhlaWdodD1jLmhlaWdodHx8NTU7dGhpcy53aWR0aD1jLndpZHRoO3RoaXMuaGVpZ2h0PWMuaGVpZ2h0O3RoaXMuY29tcHV0ZT1mdW5jdGlvbihpLGYsbCxoKXt2YXIgZz1sLndpZHRofHxzZWxmLndpZHRoLGU9bC5oZWlnaHR8fHNlbGYuaGVpZ2h0LGQ9aVswXS0oZy8yKSxrPWlbMV0tKGUvMik7cmV0dXJuW2QsayxnLGVdfX07dmFyIGI9ZnVuY3Rpb24oZSl7dmFyIGQ9dHJ1ZSxjPXRoaXM7dGhpcy5pc0FwcGVuZGVkQXRUb3BMZXZlbD10cnVlO3RoaXMuY29tcG9uZW50PWUuY29tcG9uZW50O3RoaXMubG9jPWUubG9jYXRpb249PW51bGw/MC41OmUubG9jYXRpb247dGhpcy5lbmRwb2ludExvYz1lLmVuZHBvaW50TG9jYXRpb249PW51bGw/WzAuNSwwLjVdOmUuZW5kcG9pbnRMb2NhdGlvbjt0aGlzLnNldFZpc2libGU9ZnVuY3Rpb24oZil7ZD1mO2MuY29tcG9uZW50LnJlcGFpbnQoKX07dGhpcy5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gZH07dGhpcy5oaWRlPWZ1bmN0aW9uKCl7Yy5zZXRWaXNpYmxlKGZhbHNlKX07dGhpcy5zaG93PWZ1bmN0aW9uKCl7Yy5zZXRWaXNpYmxlKHRydWUpfTt0aGlzLmluY3JlbWVudExvY2F0aW9uPWZ1bmN0aW9uKGYpe2MubG9jKz1mO2MuY29tcG9uZW50LnJlcGFpbnQoKX07dGhpcy5zZXRMb2NhdGlvbj1mdW5jdGlvbihmKXtjLmxvYz1mO2MuY29tcG9uZW50LnJlcGFpbnQoKX07dGhpcy5nZXRMb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybiBjLmxvY319O2pzUGx1bWIuT3ZlcmxheXMuQXJyb3c9ZnVuY3Rpb24oZyl7dGhpcy50eXBlPVwiQXJyb3dcIjtiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmlzQXBwZW5kZWRBdFRvcExldmVsPWZhbHNlO2c9Z3x8e307dmFyIGQ9dGhpczt0aGlzLmxlbmd0aD1nLmxlbmd0aHx8MjA7dGhpcy53aWR0aD1nLndpZHRofHwyMDt0aGlzLmlkPWcuaWQ7dmFyIGY9KGcuZGlyZWN0aW9ufHwxKTwwPy0xOjEsZT1nLnBhaW50U3R5bGV8fHtsaW5lV2lkdGg6MX0sYz1nLmZvbGRiYWNrfHwwLjYyMzt0aGlzLmNvbXB1dGVNYXhTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIGQud2lkdGgqMS41fTt0aGlzLmNsZWFudXA9ZnVuY3Rpb24oKXt9O3RoaXMuZHJhdz1mdW5jdGlvbihrLHosdSl7dmFyIG8sdixoLHAsbjtpZihrLnBvaW50QWxvbmdQYXRoRnJvbSl7aWYoanNQbHVtYlV0aWwuaXNTdHJpbmcoZC5sb2MpfHxkLmxvYz4xfHxkLmxvYzwwKXt2YXIgaT1wYXJzZUludChkLmxvYyk7bz1rLnBvaW50QWxvbmdQYXRoRnJvbShpLGYqZC5sZW5ndGgvMix0cnVlKSx2PWsucG9pbnRPblBhdGgoaSx0cnVlKSxoPWpzUGx1bWJVdGlsLnBvaW50T25MaW5lKG8sdixkLmxlbmd0aCl9ZWxzZXtpZihkLmxvYz09MSl7bz1rLnBvaW50T25QYXRoKGQubG9jKTt2PWsucG9pbnRBbG9uZ1BhdGhGcm9tKGQubG9jLC0xKTtoPWpzUGx1bWJVdGlsLnBvaW50T25MaW5lKG8sdixkLmxlbmd0aCl9ZWxzZXtpZihkLmxvYz09MCl7aD1rLnBvaW50T25QYXRoKGQubG9jKTt2PWsucG9pbnRBbG9uZ1BhdGhGcm9tKGQubG9jLDEpO289anNQbHVtYlV0aWwucG9pbnRPbkxpbmUoaCx2LGQubGVuZ3RoKX1lbHNle289ay5wb2ludEFsb25nUGF0aEZyb20oZC5sb2MsZipkLmxlbmd0aC8yKSx2PWsucG9pbnRPblBhdGgoZC5sb2MpLGg9anNQbHVtYlV0aWwucG9pbnRPbkxpbmUobyx2LGQubGVuZ3RoKX19fXA9anNQbHVtYlV0aWwucGVycGVuZGljdWxhckxpbmVUbyhvLGgsZC53aWR0aCk7bj1qc1BsdW1iVXRpbC5wb2ludE9uTGluZShvLGgsYypkLmxlbmd0aCk7dmFyIHk9TWF0aC5taW4oby54LHBbMF0ueCxwWzFdLngpLHM9TWF0aC5tYXgoby54LHBbMF0ueCxwWzFdLngpLHg9TWF0aC5taW4oby55LHBbMF0ueSxwWzFdLnkpLHI9TWF0aC5tYXgoby55LHBbMF0ueSxwWzFdLnkpO3ZhciBxPXtoeHk6byx0YWlsOnAsY3h5Om59LHQ9ZS5zdHJva2VTdHlsZXx8ei5zdHJva2VTdHlsZSx3PWUuZmlsbFN0eWxlfHx6LnN0cm9rZVN0eWxlLG09ZS5saW5lV2lkdGh8fHoubGluZVdpZHRoO2QucGFpbnQoayxxLG0sdCx3LHUpO3JldHVyblt5LHMseCxyXX1lbHNle3JldHVyblswLDAsMCwwXX19fTtqc1BsdW1iLk92ZXJsYXlzLlBsYWluQXJyb3c9ZnVuY3Rpb24oZCl7ZD1kfHx7fTt2YXIgYz1qc1BsdW1iLmV4dGVuZChkLHtmb2xkYmFjazoxfSk7anNQbHVtYi5PdmVybGF5cy5BcnJvdy5jYWxsKHRoaXMsYyk7dGhpcy50eXBlPVwiUGxhaW5BcnJvd1wifTtqc1BsdW1iLk92ZXJsYXlzLkRpYW1vbmQ9ZnVuY3Rpb24oZSl7ZT1lfHx7fTt2YXIgYz1lLmxlbmd0aHx8NDAsZD1qc1BsdW1iLmV4dGVuZChlLHtsZW5ndGg6Yy8yLGZvbGRiYWNrOjJ9KTtqc1BsdW1iLk92ZXJsYXlzLkFycm93LmNhbGwodGhpcyxkKTt0aGlzLnR5cGU9XCJEaWFtb25kXCJ9O2pzUGx1bWIuT3ZlcmxheXMuTGFiZWw9ZnVuY3Rpb24oaSl7dGhpcy50eXBlPVwiTGFiZWxcIjtqc1BsdW1iLkRPTUVsZW1lbnRDb21wb25lbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMubGFiZWxTdHlsZT1pLmxhYmVsU3R5bGV8fGpzUGx1bWIuRGVmYXVsdHMuTGFiZWxTdHlsZTt0aGlzLmlkPWkuaWQ7dGhpcy5jYWNoZWREaW1lbnNpb25zPW51bGw7dmFyIGU9aS5sYWJlbHx8XCJcIixjPXRoaXMsZj1mYWxzZSxrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZz1udWxsO2suc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiO3ZhciBkPWkuX2pzUGx1bWIub3ZlcmxheUNsYXNzK1wiIFwiKyhjLmxhYmVsU3R5bGUuY3NzQ2xhc3M/Yy5sYWJlbFN0eWxlLmNzc0NsYXNzOmkuY3NzQ2xhc3M/aS5jc3NDbGFzczpcIlwiKTtrLmNsYXNzTmFtZT1kO2pzUGx1bWIuYXBwZW5kRWxlbWVudChrLGkuY29tcG9uZW50LnBhcmVudCk7anNQbHVtYi5nZXRJZChrKTtjLmF0dGFjaExpc3RlbmVycyhrLGMpO2MuY2FudmFzPWs7dmFyIGg9Yy5zZXRWaXNpYmxlO2Muc2V0VmlzaWJsZT1mdW5jdGlvbihsKXtoKGwpO2suc3R5bGUuZGlzcGxheT1sP1wiYmxvY2tcIjpcIm5vbmVcIn07dGhpcy5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGt9O3RoaXMuY2xlYW51cD1mdW5jdGlvbigpe2lmKGshPW51bGwpe2pzUGx1bWIuQ3VycmVudExpYnJhcnkucmVtb3ZlRWxlbWVudChrKX19O3RoaXMuc2V0TGFiZWw9ZnVuY3Rpb24obSl7ZT1tO2c9bnVsbDtjLmNvbXBvbmVudC5yZXBhaW50KCl9O3RoaXMuZ2V0TGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gZX07dGhpcy5wYWludD1mdW5jdGlvbihsLG4sbSl7aWYoIWYpe2wuYXBwZW5kRGlzcGxheUVsZW1lbnQoayk7Yy5hdHRhY2hMaXN0ZW5lcnMoayxsKTtmPXRydWV9ay5zdHlsZS5sZWZ0PShtWzBdK24ubWlueCkrXCJweFwiO2suc3R5bGUudG9wPShtWzFdK24ubWlueSkrXCJweFwifTt0aGlzLmdldFRleHREaW1lbnNpb25zPWZ1bmN0aW9uKCl7aWYodHlwZW9mIGU9PVwiZnVuY3Rpb25cIil7dmFyIGw9ZShjKTtrLmlubmVySFRNTD1sLnJlcGxhY2UoL1xcclxcbi9nLFwiPGJyLz5cIil9ZWxzZXtpZihnPT1udWxsKXtnPWU7ay5pbm5lckhUTUw9Zy5yZXBsYWNlKC9cXHJcXG4vZyxcIjxici8+XCIpfX12YXIgbj1qc1BsdW1iLkN1cnJlbnRMaWJyYXJ5LmdldEVsZW1lbnRPYmplY3QoayksbT1qc1BsdW1iLkN1cnJlbnRMaWJyYXJ5LmdldFNpemUobik7cmV0dXJue3dpZHRoOm1bMF0saGVpZ2h0Om1bMV19fTt0aGlzLmNvbXB1dGVNYXhTaXplPWZ1bmN0aW9uKGwpe3ZhciBtPWMuZ2V0VGV4dERpbWVuc2lvbnMobCk7cmV0dXJuIG0ud2lkdGg/TWF0aC5tYXgobS53aWR0aCxtLmhlaWdodCkqMS41OjB9O3RoaXMuZHJhdz1mdW5jdGlvbihtLG4sbyl7dmFyIHM9Yy5nZXRUZXh0RGltZW5zaW9ucyhtKTtpZihzLndpZHRoIT1udWxsKXt2YXIgcD17eDowLHk6MH07aWYobS5wb2ludE9uUGF0aCl7dmFyIHE9Yy5sb2Mscj1mYWxzZTtpZihqc1BsdW1iVXRpbC5pc1N0cmluZyhjLmxvYyl8fGMubG9jPDB8fGMubG9jPjEpe3E9cGFyc2VJbnQoYy5sb2MpO3I9dHJ1ZX1wPW0ucG9pbnRPblBhdGgocSxyKX1lbHNle3ZhciBsPWMubG9jLmNvbnN0cnVjdG9yPT1BcnJheT9jLmxvYzpjLmVuZHBvaW50TG9jO3A9e3g6bFswXSpvWzJdLHk6bFsxXSpvWzNdfX1taW54PXAueC0ocy53aWR0aC8yKSxtaW55PXAueS0ocy5oZWlnaHQvMik7Yy5wYWludChtLHttaW54Om1pbngsbWlueTptaW55LHRkOnMsY3h5OnB9LG8pO3JldHVyblttaW54LG1pbngrcy53aWR0aCxtaW55LG1pbnkrcy5oZWlnaHRdfWVsc2V7cmV0dXJuWzAsMCwwLDBdfX07dGhpcy5yZWF0dGFjaExpc3RlbmVycz1mdW5jdGlvbihsKXtpZihrKXtjLnJlYXR0YWNoTGlzdGVuZXJzRm9yRWxlbWVudChrLGMsbCl9fX07anNQbHVtYi5PdmVybGF5cy5HdWlkZUxpbmVzPWZ1bmN0aW9uKCl7dmFyIGM9dGhpcztjLmxlbmd0aD01MDtjLmxpbmVXaWR0aD01O3RoaXMudHlwZT1cIkd1aWRlTGluZXNcIjtiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtqc1BsdW1iLmpzUGx1bWJVSUNvbXBvbmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5kcmF3PWZ1bmN0aW9uKGUsbCxrKXt2YXIgaT1lLnBvaW50QWxvbmdQYXRoRnJvbShjLmxvYyxjLmxlbmd0aC8yKSxoPWUucG9pbnRPblBhdGgoYy5sb2MpLGc9anNQbHVtYlV0aWwucG9pbnRPbkxpbmUoaSxoLGMubGVuZ3RoKSxmPWpzUGx1bWJVdGlsLnBlcnBlbmRpY3VsYXJMaW5lVG8oaSxnLDQwKSxkPWpzUGx1bWJVdGlsLnBlcnBlbmRpY3VsYXJMaW5lVG8oZyxpLDIwKTtjLnBhaW50KGUsW2ksZyxmLGRdLGMubGluZVdpZHRoLFwicmVkXCIsbnVsbCxrKTtyZXR1cm5bTWF0aC5taW4oaS54LGcueCksTWF0aC5taW4oaS55LGcueSksTWF0aC5tYXgoaS54LGcueCksTWF0aC5tYXgoaS55LGcueSldfTt0aGlzLmNvbXB1dGVNYXhTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIDUwfTt0aGlzLmNsZWFudXA9ZnVuY3Rpb24oKXt9fX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGM9ZnVuY3Rpb24oZSxnLGQsZil7dGhpcy5tPShmLWcpLyhkLWUpO3RoaXMuYj0tMSooKHRoaXMubSplKS1nKTt0aGlzLnJlY3RJbnRlcnNlY3Q9ZnVuY3Rpb24ocSxwLHMsbyl7dmFyIG49W107dmFyIGs9KHAtdGhpcy5iKS90aGlzLm07aWYoaz49cSYmazw9KHErcykpe24ucHVzaChbaywodGhpcy5tKmspK3RoaXMuYl0pfXZhciB0PSh0aGlzLm0qKHErcykpK3RoaXMuYjtpZih0Pj1wJiZ0PD0ocCtvKSl7bi5wdXNoKFsodC10aGlzLmIpL3RoaXMubSx0XSl9dmFyIGs9KChwK28pLXRoaXMuYikvdGhpcy5tO2lmKGs+PXEmJms8PShxK3MpKXtuLnB1c2goW2ssKHRoaXMubSprKSt0aGlzLmJdKX12YXIgdD0odGhpcy5tKnEpK3RoaXMuYjtpZih0Pj1wJiZ0PD0ocCtvKSl7bi5wdXNoKFsodC10aGlzLmIpL3RoaXMubSx0XSl9aWYobi5sZW5ndGg9PTIpe3ZhciBtPShuWzBdWzBdK25bMV1bMF0pLzIsbD0oblswXVsxXStuWzFdWzFdKS8yO24ucHVzaChbbSxsXSk7dmFyIGk9bTw9cSsocy8yKT8tMToxLHI9bDw9cCsoby8yKT8tMToxO24ucHVzaChbaSxyXSk7cmV0dXJuIG59cmV0dXJuIG51bGx9fSxhPWZ1bmN0aW9uKGUsZyxkLGYpe2lmKGU8PWQmJmY8PWcpe3JldHVybiAxfWVsc2V7aWYoZTw9ZCYmZzw9Zil7cmV0dXJuIDJ9ZWxzZXtpZihkPD1lJiZmPj1nKXtyZXR1cm4gM319fXJldHVybiA0fSxiPWZ1bmN0aW9uKGcsZixpLGUsaCxtLGwsZCxrKXtpZihkPD1rKXtyZXR1cm5bZyxmXX1pZihpPT0xKXtpZihlWzNdPD0wJiZoWzNdPj0xKXtyZXR1cm5bZysoZVsyXTwwLjU/LTEqbTptKSxmXX1lbHNle2lmKGVbMl0+PTEmJmhbMl08PTApe3JldHVybltnLGYrKGVbM108MC41Py0xKmw6bCldfWVsc2V7cmV0dXJuW2crKC0xKm0pLGYrKC0xKmwpXX19fWVsc2V7aWYoaT09Mil7aWYoZVszXT49MSYmaFszXTw9MCl7cmV0dXJuW2crKGVbMl08MC41Py0xKm06bSksZl19ZWxzZXtpZihlWzJdPj0xJiZoWzJdPD0wKXtyZXR1cm5bZyxmKyhlWzNdPDAuNT8tMSpsOmwpXX1lbHNle3JldHVybltnKygxKm0pLGYrKC0xKmwpXX19fWVsc2V7aWYoaT09Myl7aWYoZVszXT49MSYmaFszXTw9MCl7cmV0dXJuW2crKGVbMl08MC41Py0xKm06bSksZl19ZWxzZXtpZihlWzJdPD0wJiZoWzJdPj0xKXtyZXR1cm5bZyxmKyhlWzNdPDAuNT8tMSpsOmwpXX1lbHNle3JldHVybltnKygtMSptKSxmKygtMSpsKV19fX1lbHNle2lmKGk9PTQpe2lmKGVbM108PTAmJmhbM10+PTEpe3JldHVybltnKyhlWzJdPDAuNT8tMSptOm0pLGZdfWVsc2V7aWYoZVsyXTw9MCYmaFsyXT49MSl7cmV0dXJuW2csZisoZVszXTwwLjU/LTEqbDpsKV19ZWxzZXtyZXR1cm5bZysoMSptKSxmKygtMSpsKV19fX19fX19O2pzUGx1bWIuQ29ubmVjdG9ycy5TdGF0ZU1hY2hpbmU9ZnVuY3Rpb24obCl7dmFyIHU9dGhpcyxuPW51bGwsbyxtLGcsZSxwPVtdLGQ9bC5jdXJ2aW5lc3N8fDEwLGs9bC5tYXJnaW58fDUscT1sLnByb3hpbWl0eUxpbWl0fHw4MCxmPWwub3JpZW50YXRpb24mJmwub3JpZW50YXRpb249PVwiY2xvY2t3aXNlXCIsaT1sLmxvb3BiYWNrUmFkaXVzfHwyNSxoPWZhbHNlLHQ9bC5zaG93TG9vcGJhY2shPT1mYWxzZTt0aGlzLnR5cGU9XCJTdGF0ZU1hY2hpbmVcIjtsPWx8fHt9O3RoaXMuY29tcHV0ZT1mdW5jdGlvbihhZCxILFcsSSxhYyx6LHYsVSl7dmFyIFE9TWF0aC5hYnMoYWRbMF0tSFswXSksWT1NYXRoLmFicyhhZFsxXS1IWzFdKSxTPTAuNDUqUSxhYj0wLjQ1Klk7USo9MS45O1kqPTEuOTt2PXZ8fDE7dmFyIE89TWF0aC5taW4oYWRbMF0sSFswXSktUyxNPU1hdGgubWluKGFkWzFdLEhbMV0pLWFiO2lmKCF0fHwoVy5lbGVtZW50SWQhPUkuZWxlbWVudElkKSl7aD1mYWxzZTtvPWFkWzBdPEhbMF0/UzpRLVM7bT1hZFsxXTxIWzFdP2FiOlktYWI7Zz1hZFswXTxIWzBdP1EtUzpTO2U9YWRbMV08SFsxXT9ZLWFiOmFiO2lmKGFkWzJdPT0wKXtvLT1rfWlmKGFkWzJdPT0xKXtvKz1rfWlmKGFkWzNdPT0wKXttLT1rfWlmKGFkWzNdPT0xKXttKz1rfWlmKEhbMl09PTApe2ctPWt9aWYoSFsyXT09MSl7Zys9a31pZihIWzNdPT0wKXtlLT1rfWlmKEhbM109PTEpe2UrPWt9dmFyIE49KG8rZykvMixMPShtK2UpLzIsQT0oLTEqTikvTCxWPU1hdGguYXRhbihBKSxQPShBPT1JbmZpbml0eXx8QT09LUluZmluaXR5KT8wOk1hdGguYWJzKGQvMipNYXRoLnNpbihWKSksUj0oQT09SW5maW5pdHl8fEE9PS1JbmZpbml0eSk/MDpNYXRoLmFicyhkLzIqTWF0aC5jb3MoVikpLEI9YShvLG0sZyxlKSxKPU1hdGguc3FydChNYXRoLnBvdyhnLW8sMikrTWF0aC5wb3coZS1tLDIpKTtwPWIoTixMLEIsYWQsSCxkLGQsSixxKTt2YXIgRz1NYXRoLm1heChNYXRoLmFicyhwWzBdLW8pKjMsTWF0aC5hYnMocFswXS1nKSozLE1hdGguYWJzKGctbyksMip2LFUpLEs9TWF0aC5tYXgoTWF0aC5hYnMocFsxXS1tKSozLE1hdGguYWJzKHBbMV0tZSkqMyxNYXRoLmFicyhlLW0pLDIqdixVKTtpZihRPEcpe3ZhciBUPUctUTtPLT0oVC8yKTtvKz0oVC8yKTtnKz0oVC8yKTtRPUc7cFswXSs9KFQvMil9aWYoWTxLKXt2YXIgYWE9Sy1ZO00tPShhYS8yKTttKz0oYWEvMik7ZSs9KGFhLzIpO1k9SztwWzFdKz0oYWEvMil9bj1bTyxNLFEsWSxvLG0sZyxlLHBbMF0scFsxXV19ZWxzZXtoPXRydWU7dmFyIFo9YWRbMF0sWD1hZFswXSxGPWFkWzFdLWssRD1hZFsxXS1rLEU9WixDPUYtaTtRPSgoMip2KSsoNCppKSksWT0oKDIqdikrKDQqaSkpO089RS1pLXYtaSxNPUMtaS12LWk7bj1bTyxNLFEsWSxFLU8sQy1NLGksZixaLU8sRi1NLFgtTyxELU1dfXJldHVybiBufTt2YXIgcj1mdW5jdGlvbigpe3JldHVyblt7eDpnLHk6ZX0se3g6cFswXSx5OnBbMV19LHt4OnBbMF0rMSx5OnBbMV0rMX0se3g6byx5Om19XX07dmFyIHM9ZnVuY3Rpb24odyx2LHgpe2lmKHgpe3Y9anNCZXppZXIubG9jYXRpb25BbG9uZ0N1cnZlRnJvbSh3LHY+MD8wOjEsdil9cmV0dXJuIHZ9O3RoaXMucG9pbnRPblBhdGg9ZnVuY3Rpb24oeCxCKXtpZihoKXtpZihCKXt2YXIgeT1NYXRoLlBJKjIqaTt4PXgveX1pZih4PjAmJng8MSl7eD0xLXh9dmFyIHo9KHgqMipNYXRoLlBJKSsoTWF0aC5QSS8yKSx3PW5bNF0rKG5bNl0qTWF0aC5jb3MoeikpLHY9bls1XSsobls2XSpNYXRoLnNpbih6KSk7cmV0dXJue3g6dyx5OnZ9fWVsc2V7dmFyIEE9cigpO3g9cyhBLHgsQik7cmV0dXJuIGpzQmV6aWVyLnBvaW50T25DdXJ2ZShBLHgpfX07dGhpcy5ncmFkaWVudEF0UG9pbnQ9ZnVuY3Rpb24odix5KXtpZihoKXtpZih5KXt2YXIgdz1NYXRoLlBJKjIqaTt2PXYvd31yZXR1cm4gTWF0aC5hdGFuKHYqMipNYXRoLlBJKX1lbHNle3ZhciB4PXIoKTt2PXMoeCx2LHkpO3JldHVybiBqc0Jlemllci5ncmFkaWVudEF0UG9pbnQoeCx2KX19O3RoaXMucG9pbnRBbG9uZ1BhdGhGcm9tPWZ1bmN0aW9uKEQsdixDKXtpZihoKXtpZihDKXt2YXIgQj1NYXRoLlBJKjIqaTtEPUQvQn1pZihEPjAmJkQ8MSl7RD0xLUR9dmFyIEI9MipNYXRoLlBJKm5bNl0sdz12L0IqMipNYXRoLlBJLHo9KEQqMipNYXRoLlBJKS13KyhNYXRoLlBJLzIpLHk9bls0XSsobls2XSpNYXRoLmNvcyh6KSkseD1uWzVdKyhuWzZdKk1hdGguc2luKHopKTtyZXR1cm57eDp5LHk6eH19ZWxzZXt2YXIgQT1yKCk7RD1zKEEsRCxDKTtyZXR1cm4ganNCZXppZXIucG9pbnRBbG9uZ0N1cnZlRnJvbShBLEQsdil9fX07anNQbHVtYi5Db25uZWN0b3JzLmNhbnZhcy5TdGF0ZU1hY2hpbmU9ZnVuY3Rpb24oZil7Zj1mfHx7fTt2YXIgZD10aGlzLGc9Zi5kcmF3R3VpZGVsaW5lfHx0cnVlLGU9Zi5hdm9pZFNlbGVjdG9yO2pzUGx1bWIuQ29ubmVjdG9ycy5TdGF0ZU1hY2hpbmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2pzUGx1bWIuQ2FudmFzQ29ubmVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9wYWludD1mdW5jdGlvbihsKXtpZihsLmxlbmd0aD09MTApe2QuY3R4LmJlZ2luUGF0aCgpO2QuY3R4Lm1vdmVUbyhsWzRdLGxbNV0pO2QuY3R4LmJlemllckN1cnZlVG8obFs4XSxsWzldLGxbOF0sbFs5XSxsWzZdLGxbN10pO2QuY3R4LnN0cm9rZSgpfWVsc2V7ZC5jdHguc2F2ZSgpO2QuY3R4LmJlZ2luUGF0aCgpO3ZhciBrPTAsaT0yKk1hdGguUEksaD1sWzddO2QuY3R4LmFyYyhsWzRdLGxbNV0sbFs2XSwwLGksaCk7ZC5jdHguc3Ryb2tlKCk7ZC5jdHguY2xvc2VQYXRoKCk7ZC5jdHgucmVzdG9yZSgpfX07dGhpcy5jcmVhdGVHcmFkaWVudD1mdW5jdGlvbihpLGgpe3JldHVybiBoLmNyZWF0ZUxpbmVhckdyYWRpZW50KGlbNF0saVs1XSxpWzZdLGlbN10pfX07anNQbHVtYi5Db25uZWN0b3JzLnN2Zy5TdGF0ZU1hY2hpbmU9ZnVuY3Rpb24oKXt2YXIgZD10aGlzO2pzUGx1bWIuQ29ubmVjdG9ycy5TdGF0ZU1hY2hpbmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2pzUGx1bWIuU3ZnQ29ubmVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmdldFBhdGg9ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGg9PTEwKXtyZXR1cm5cIk0gXCIrZVs0XStcIiBcIitlWzVdK1wiIEMgXCIrZVs4XStcIiBcIitlWzldK1wiIFwiK2VbOF0rXCIgXCIrZVs5XStcIiBcIitlWzZdK1wiIFwiK2VbN119ZWxzZXtyZXR1cm5cIk1cIisoZVs4XSs0KStcIiBcIitlWzldK1wiIEEgXCIrZVs2XStcIiBcIitlWzZdK1wiIDAgMSwwIFwiKyhlWzhdLTQpK1wiIFwiK2VbOV19fX07anNQbHVtYi5Db25uZWN0b3JzLnZtbC5TdGF0ZU1hY2hpbmU9ZnVuY3Rpb24oKXtqc1BsdW1iLkNvbm5lY3RvcnMuU3RhdGVNYWNoaW5lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtqc1BsdW1iLlZtbENvbm5lY3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQ9anNQbHVtYi52bWwuY29udmVydFZhbHVlO3RoaXMuZ2V0UGF0aD1mdW5jdGlvbihrKXtpZihrLmxlbmd0aD09MTApe3JldHVyblwibVwiK2Qoa1s0XSkrXCIsXCIrZChrWzVdKStcIiBjXCIrZChrWzhdKStcIixcIitkKGtbOV0pK1wiLFwiK2Qoa1s4XSkrXCIsXCIrZChrWzldKStcIixcIitkKGtbNl0pK1wiLFwiK2Qoa1s3XSkrXCIgZVwifWVsc2V7dmFyIGg9ZChrWzhdLWtbNl0pLGc9ZChrWzldLSgyKmtbNl0pKSxmPWgrZCgyKmtbNl0pLGU9ZytkKDIqa1s2XSksbD1oK1wiLFwiK2crXCIsXCIrZitcIixcIitlO3ZhciBpPVwiYXIgXCIrbCtcIixcIitkKGtbOF0pK1wiLFwiK2Qoa1s5XSkrXCIsXCIrZChrWzhdKStcIixcIitkKGtbOV0pK1wiIGVcIjtyZXR1cm4gaX19fX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGg9e1wic3Ryb2tlLWxpbmVqb2luXCI6XCJqb2luc3R5bGVcIixqb2luc3R5bGU6XCJqb2luc3R5bGVcIixlbmRjYXA6XCJlbmRjYXBcIixtaXRlcmxpbWl0OlwibWl0ZXJsaW1pdFwifSxjPW51bGw7aWYoZG9jdW1lbnQuY3JlYXRlU3R5bGVTaGVldCYmZG9jdW1lbnQubmFtZXNwYWNlcyl7dmFyIG09W1wiLmpzcGx1bWJfdm1sXCIsXCJqc3BsdW1iXFxcXDp0ZXh0Ym94XCIsXCJqc3BsdW1iXFxcXDpvdmFsXCIsXCJqc3BsdW1iXFxcXDpyZWN0XCIsXCJqc3BsdW1iXFxcXDpzdHJva2VcIixcImpzcGx1bWJcXFxcOnNoYXBlXCIsXCJqc3BsdW1iXFxcXDpncm91cFwiXSxnPVwiYmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCk7cG9zaXRpb246YWJzb2x1dGU7XCI7Yz1kb2N1bWVudC5jcmVhdGVTdHlsZVNoZWV0KCk7Zm9yKHZhciByPTA7cjxtLmxlbmd0aDtyKyspe2MuYWRkUnVsZShtW3JdLGcpfWRvY3VtZW50Lm5hbWVzcGFjZXMuYWRkKFwianNwbHVtYlwiLFwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWxcIil9anNQbHVtYi52bWw9e307dmFyIHQ9MTAwMCxzPXt9LGE9ZnVuY3Rpb24odSxpKXt2YXIgdz1qc1BsdW1iLmdldElkKHUpLHY9c1t3XTtpZighdil7dj1mKFwiZ3JvdXBcIixbMCwwLHQsdF0se1wiY2xhc3NcIjppfSk7di5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJyZWRcIjtzW3ddPXY7anNQbHVtYi5hcHBlbmRFbGVtZW50KHYsdSl9cmV0dXJuIHZ9LGU9ZnVuY3Rpb24odix3KXtmb3IodmFyIHUgaW4gdyl7dlt1XT13W3VdfX0sZj1mdW5jdGlvbih1LHgseSx2LGkpe3k9eXx8e307dmFyIHc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImpzcGx1bWI6XCIrdSk7aS5hcHBlbmRFbGVtZW50KHcsdik7dy5jbGFzc05hbWU9KHlbXCJjbGFzc1wiXT95W1wiY2xhc3NcIl0rXCIgXCI6XCJcIikrXCJqc3BsdW1iX3ZtbFwiO2sodyx4KTtlKHcseSk7cmV0dXJuIHd9LGs9ZnVuY3Rpb24odSxpKXt1LnN0eWxlLmxlZnQ9aVswXStcInB4XCI7dS5zdHlsZS50b3A9aVsxXStcInB4XCI7dS5zdHlsZS53aWR0aD1pWzJdK1wicHhcIjt1LnN0eWxlLmhlaWdodD1pWzNdK1wicHhcIjt1LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIn0scD1qc1BsdW1iLnZtbC5jb252ZXJ0VmFsdWU9ZnVuY3Rpb24oaSl7cmV0dXJuIE1hdGguZmxvb3IoaSp0KX0sYj1mdW5jdGlvbih3LHUsdixpKXtpZihcInRyYW5zcGFyZW50XCI9PT11KXtpLnNldE9wYWNpdHkodixcIjAuMFwiKX1lbHNle2kuc2V0T3BhY2l0eSh2LFwiMS4wXCIpfX0scT1mdW5jdGlvbih5LHUsQixDKXt2YXIgeD17fTtpZih1LnN0cm9rZVN0eWxlKXt4LnN0cm9rZWQ9XCJ0cnVlXCI7dmFyIEQ9anNQbHVtYlV0aWwuY29udmVydFN0eWxlKHUuc3Ryb2tlU3R5bGUsdHJ1ZSk7eC5zdHJva2Vjb2xvcj1EO2IoeCxELFwic3Ryb2tlXCIsQik7eC5zdHJva2V3ZWlnaHQ9dS5saW5lV2lkdGgrXCJweFwifWVsc2V7eC5zdHJva2VkPVwiZmFsc2VcIn1pZih1LmZpbGxTdHlsZSl7eC5maWxsZWQ9XCJ0cnVlXCI7dmFyIHY9anNQbHVtYlV0aWwuY29udmVydFN0eWxlKHUuZmlsbFN0eWxlLHRydWUpO3guZmlsbGNvbG9yPXY7Yih4LHYsXCJmaWxsXCIsQil9ZWxzZXt4LmZpbGxlZD1cImZhbHNlXCJ9aWYodS5kYXNoc3R5bGUpe2lmKEIuc3Ryb2tlTm9kZT09bnVsbCl7Qi5zdHJva2VOb2RlPWYoXCJzdHJva2VcIixbMCwwLDAsMF0se2Rhc2hzdHlsZTp1LmRhc2hzdHlsZX0seSxDKX1lbHNle0Iuc3Ryb2tlTm9kZS5kYXNoc3R5bGU9dS5kYXNoc3R5bGV9fWVsc2V7aWYodVtcInN0cm9rZS1kYXNoYXJyYXlcIl0mJnUubGluZVdpZHRoKXt2YXIgRT11W1wic3Ryb2tlLWRhc2hhcnJheVwiXS5pbmRleE9mKFwiLFwiKT09LTE/XCIgXCI6XCIsXCIsej11W1wic3Ryb2tlLWRhc2hhcnJheVwiXS5zcGxpdChFKSx3PVwiXCI7Zm9yKHZhciBBPTA7QTx6Lmxlbmd0aDtBKyspe3crPShNYXRoLmZsb29yKHpbQV0vdS5saW5lV2lkdGgpK0UpfWlmKEIuc3Ryb2tlTm9kZT09bnVsbCl7Qi5zdHJva2VOb2RlPWYoXCJzdHJva2VcIixbMCwwLDAsMF0se2Rhc2hzdHlsZTp3fSx5LEMpfWVsc2V7Qi5zdHJva2VOb2RlLmRhc2hzdHlsZT13fX19ZSh5LHgpfSxuPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcztqc1BsdW1iLmpzUGx1bWJVSUNvbXBvbmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5vcGFjaXR5Tm9kZXM9e3N0cm9rZTpudWxsLGZpbGw6bnVsbH07dGhpcy5pbml0T3BhY2l0eU5vZGVzPWZ1bmN0aW9uKHYpe2kub3BhY2l0eU5vZGVzLnN0cm9rZT1mKFwic3Ryb2tlXCIsWzAsMCwxLDFdLHtvcGFjaXR5OlwiMC4wXCJ9LHYsaS5fanNQbHVtYik7aS5vcGFjaXR5Tm9kZXMuZmlsbD1mKFwiZmlsbFwiLFswLDAsMSwxXSx7b3BhY2l0eTpcIjAuMFwifSx2LGkuX2pzUGx1bWIpfTt0aGlzLnNldE9wYWNpdHk9ZnVuY3Rpb24odix4KXt2YXIgdz1pLm9wYWNpdHlOb2Rlc1t2XTtpZih3KXt3Lm9wYWNpdHk9XCJcIit4fX07dmFyIHU9W107dGhpcy5nZXREaXNwbGF5RWxlbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdX07dGhpcy5hcHBlbmREaXNwbGF5RWxlbWVudD1mdW5jdGlvbih3LHYpe2lmKCF2KXtpLmNhbnZhcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHcpfXUucHVzaCh3KX19LGQ9anNQbHVtYi5WbWxDb25uZWN0b3I9ZnVuY3Rpb24odil7dmFyIGk9dGhpcztpLnN0cm9rZU5vZGU9bnVsbDtpLmNhbnZhcz1udWxsO24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB1PWkuX2pzUGx1bWIuY29ubmVjdG9yQ2xhc3MrKHYuY3NzQ2xhc3M/KFwiIFwiK3YuY3NzQ2xhc3MpOlwiXCIpO3RoaXMucGFpbnQ9ZnVuY3Rpb24oQSx4LHope2lmKHghPW51bGwpe3ZhciBFPWkuZ2V0UGF0aChBKSx5PXtwYXRoOkV9O2lmKHgub3V0bGluZUNvbG9yKXt2YXIgQz14Lm91dGxpbmVXaWR0aHx8MSxEPXgubGluZVdpZHRoKygyKkMpLEI9e3N0cm9rZVN0eWxlOmpzUGx1bWJVdGlsLmNvbnZlcnRTdHlsZSh4Lm91dGxpbmVDb2xvciksbGluZVdpZHRoOkR9O2Zvcih2YXIgdyBpbiBoKXtCW3ddPXhbd119aWYoaS5iZ0NhbnZhcz09bnVsbCl7eVtcImNsYXNzXCJdPXU7eS5jb29yZHNpemU9KEFbMl0qdCkrXCIsXCIrKEFbM10qdCk7aS5iZ0NhbnZhcz1mKFwic2hhcGVcIixBLHksdi5wYXJlbnQsaS5fanNQbHVtYik7ayhpLmJnQ2FudmFzLEEpO2kuYXBwZW5kRGlzcGxheUVsZW1lbnQoaS5iZ0NhbnZhcyx0cnVlKTtpLmF0dGFjaExpc3RlbmVycyhpLmJnQ2FudmFzLGkpO2kuaW5pdE9wYWNpdHlOb2RlcyhpLmJnQ2FudmFzLFtcInN0cm9rZVwiXSl9ZWxzZXt5LmNvb3Jkc2l6ZT0oQVsyXSp0KStcIixcIisoQVszXSp0KTtrKGkuYmdDYW52YXMsQSk7ZShpLmJnQ2FudmFzLHkpfXEoaS5iZ0NhbnZhcyxCLGkpfWlmKGkuY2FudmFzPT1udWxsKXt5W1wiY2xhc3NcIl09dTt5LmNvb3Jkc2l6ZT0oQVsyXSp0KStcIixcIisoQVszXSp0KTtpZihpLnRvb2x0aXApe3kubGFiZWw9aS50b29sdGlwfWkuY2FudmFzPWYoXCJzaGFwZVwiLEEseSx2LnBhcmVudCxpLl9qc1BsdW1iKTtpLmFwcGVuZERpc3BsYXlFbGVtZW50KGkuY2FudmFzLHRydWUpO2kuYXR0YWNoTGlzdGVuZXJzKGkuY2FudmFzLGkpO2kuaW5pdE9wYWNpdHlOb2RlcyhpLmNhbnZhcyxbXCJzdHJva2VcIl0pfWVsc2V7eS5jb29yZHNpemU9KEFbMl0qdCkrXCIsXCIrKEFbM10qdCk7ayhpLmNhbnZhcyxBKTtlKGkuY2FudmFzLHkpfXEoaS5jYW52YXMseCxpLGkuX2pzUGx1bWIpfX07dGhpcy5yZWF0dGFjaExpc3RlbmVycz1mdW5jdGlvbigpe2lmKGkuY2FudmFzKXtpLnJlYXR0YWNoTGlzdGVuZXJzRm9yRWxlbWVudChpLmNhbnZhcyxpKX19fSxsPXdpbmRvdy5WbWxFbmRwb2ludD1mdW5jdGlvbih5KXtuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgaT1udWxsLHY9dGhpcyx1PW51bGwseD1udWxsO3YuY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7di5jYW52YXMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiO3ZhciB3PXYuX2pzUGx1bWIuZW5kcG9pbnRDbGFzcysoeS5jc3NDbGFzcz8oXCIgXCIreS5jc3NDbGFzcyk6XCJcIik7eS5fanNQbHVtYi5hcHBlbmRFbGVtZW50KHYuY2FudmFzLHkucGFyZW50KTtpZih2LnRvb2x0aXApe3YuY2FudmFzLnNldEF0dHJpYnV0ZShcImxhYmVsXCIsdi50b29sdGlwKX10aGlzLnBhaW50PWZ1bmN0aW9uKEMsQSx6KXt2YXIgQj17fTtqc1BsdW1iLnNpemVDYW52YXModi5jYW52YXMsQ1swXSxDWzFdLENbMl0sQ1szXSk7aWYoaT09bnVsbCl7QltcImNsYXNzXCJdPXc7aT12LmdldFZtbChbMCwwLENbMl0sQ1szXV0sQix6LHYuY2FudmFzLHYuX2pzUGx1bWIpO3YuYXR0YWNoTGlzdGVuZXJzKGksdik7di5hcHBlbmREaXNwbGF5RWxlbWVudChpLHRydWUpO3YuYXBwZW5kRGlzcGxheUVsZW1lbnQodi5jYW52YXMsdHJ1ZSk7di5pbml0T3BhY2l0eU5vZGVzKGksW1wiZmlsbFwiXSl9ZWxzZXtrKGksWzAsMCxDWzJdLENbM11dKTtlKGksQil9cShpLEEsdil9O3RoaXMucmVhdHRhY2hMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtpZihpKXt2LnJlYXR0YWNoTGlzdGVuZXJzRm9yRWxlbWVudChpLHYpfX19O2pzUGx1bWIuQ29ubmVjdG9ycy52bWwuQmV6aWVyPWZ1bmN0aW9uKCl7anNQbHVtYi5Db25uZWN0b3JzLkJlemllci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5nZXRQYXRoPWZ1bmN0aW9uKGkpe3JldHVyblwibVwiK3AoaVs0XSkrXCIsXCIrcChpWzVdKStcIiBjXCIrcChpWzhdKStcIixcIitwKGlbOV0pK1wiLFwiK3AoaVsxMF0pK1wiLFwiK3AoaVsxMV0pK1wiLFwiK3AoaVs2XSkrXCIsXCIrcChpWzddKStcIiBlXCJ9fTtqc1BsdW1iLkNvbm5lY3RvcnMudm1sLlN0cmFpZ2h0PWZ1bmN0aW9uKCl7anNQbHVtYi5Db25uZWN0b3JzLlN0cmFpZ2h0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmdldFBhdGg9ZnVuY3Rpb24oaSl7cmV0dXJuXCJtXCIrcChpWzRdKStcIixcIitwKGlbNV0pK1wiIGxcIitwKGlbNl0pK1wiLFwiK3AoaVs3XSkrXCIgZVwifX07anNQbHVtYi5Db25uZWN0b3JzLnZtbC5GbG93Y2hhcnQ9ZnVuY3Rpb24oKXtqc1BsdW1iLkNvbm5lY3RvcnMuRmxvd2NoYXJ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmdldFBhdGg9ZnVuY3Rpb24odil7dmFyIHc9XCJtIFwiK3Aodls0XSkrXCIsXCIrcCh2WzVdKStcIiBsXCI7Zm9yKHZhciB1PTA7dTx2WzhdO3UrKyl7dz13K1wiIFwiK3Aodls5Kyh1KjIpXSkrXCIsXCIrcCh2WzEwKyh1KjIpXSl9dz13K1wiIFwiK3Aodls2XSkrXCIsXCIrcCh2WzddKStcIiBlXCI7cmV0dXJuIHd9fTtqc1BsdW1iLkVuZHBvaW50cy52bWwuRG90PWZ1bmN0aW9uKCl7anNQbHVtYi5FbmRwb2ludHMuRG90LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtsLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmdldFZtbD1mdW5jdGlvbih3LHgsdSx2LGkpe3JldHVybiBmKFwib3ZhbFwiLHcseCx2LGkpfX07anNQbHVtYi5FbmRwb2ludHMudm1sLlJlY3RhbmdsZT1mdW5jdGlvbigpe2pzUGx1bWIuRW5kcG9pbnRzLlJlY3RhbmdsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5nZXRWbWw9ZnVuY3Rpb24odyx4LHUsdixpKXtyZXR1cm4gZihcInJlY3RcIix3LHgsdixpKX19O2pzUGx1bWIuRW5kcG9pbnRzLnZtbC5JbWFnZT1qc1BsdW1iLkVuZHBvaW50cy5JbWFnZTtqc1BsdW1iLkVuZHBvaW50cy52bWwuQmxhbms9anNQbHVtYi5FbmRwb2ludHMuQmxhbms7anNQbHVtYi5PdmVybGF5cy52bWwuTGFiZWw9anNQbHVtYi5PdmVybGF5cy5MYWJlbDt2YXIgbz1mdW5jdGlvbih4LHYpe3guYXBwbHkodGhpcyx2KTtuLmFwcGx5KHRoaXMsdik7dmFyIHU9dGhpcyx3PW51bGw7dS5jYW52YXM9bnVsbDt1LmlzQXBwZW5kZWRBdFRvcExldmVsPXRydWU7dmFyIGk9ZnVuY3Rpb24oeix5KXtyZXR1cm5cIm0gXCIrcCh6Lmh4eS54KStcIixcIitwKHouaHh5LnkpK1wiIGwgXCIrcCh6LnRhaWxbMF0ueCkrXCIsXCIrcCh6LnRhaWxbMF0ueSkrXCIgXCIrcCh6LmN4eS54KStcIixcIitwKHouY3h5LnkpK1wiIFwiK3Aoei50YWlsWzFdLngpK1wiLFwiK3Aoei50YWlsWzFdLnkpK1wiIHggZVwifTt0aGlzLnBhaW50PWZ1bmN0aW9uKEIsRyxGLEgsTCxLKXt2YXIgej17fTtpZihIKXt6LnN0cm9rZWQ9XCJ0cnVlXCI7ei5zdHJva2Vjb2xvcj1qc1BsdW1iVXRpbC5jb252ZXJ0U3R5bGUoSCx0cnVlKX1pZihGKXt6LnN0cm9rZXdlaWdodD1GK1wicHhcIn1pZihMKXt6LmZpbGxlZD1cInRydWVcIjt6LmZpbGxjb2xvcj1MfXZhciB5PU1hdGgubWluKEcuaHh5LngsRy50YWlsWzBdLngsRy50YWlsWzFdLngsRy5jeHkueCksSj1NYXRoLm1pbihHLmh4eS55LEcudGFpbFswXS55LEcudGFpbFsxXS55LEcuY3h5LnkpLEM9TWF0aC5tYXgoRy5oeHkueCxHLnRhaWxbMF0ueCxHLnRhaWxbMV0ueCxHLmN4eS54KSxBPU1hdGgubWF4KEcuaHh5LnksRy50YWlsWzBdLnksRy50YWlsWzFdLnksRy5jeHkueSksST1NYXRoLmFicyhDLXkpLEU9TWF0aC5hYnMoQS1KKSxEPVt5LEosSSxFXTt6LnBhdGg9aShHLEspO3ouY29vcmRzaXplPShLWzJdKnQpK1wiLFwiKyhLWzNdKnQpO0RbMF09S1swXTtEWzFdPUtbMV07RFsyXT1LWzJdO0RbM109S1szXTtpZih1LmNhbnZhcz09bnVsbCl7dS5jYW52YXM9ZihcInNoYXBlXCIsRCx6LEIuY2FudmFzLnBhcmVudE5vZGUsQi5fanNQbHVtYik7Qi5hcHBlbmREaXNwbGF5RWxlbWVudCh1LmNhbnZhcyx0cnVlKTt1LmF0dGFjaExpc3RlbmVycyh1LmNhbnZhcyxCKTt1LmF0dGFjaExpc3RlbmVycyh1LmNhbnZhcyx1KX1lbHNle2sodS5jYW52YXMsRCk7ZSh1LmNhbnZhcyx6KX19O3RoaXMucmVhdHRhY2hMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtpZih1LmNhbnZhcyl7dS5yZWF0dGFjaExpc3RlbmVyc0ZvckVsZW1lbnQodS5jYW52YXMsdSl9fTt0aGlzLmNsZWFudXA9ZnVuY3Rpb24oKXtpZih1LmNhbnZhcyE9bnVsbCl7anNQbHVtYi5DdXJyZW50TGlicmFyeS5yZW1vdmVFbGVtZW50KHUuY2FudmFzKX19fTtqc1BsdW1iLk92ZXJsYXlzLnZtbC5BcnJvdz1mdW5jdGlvbigpe28uYXBwbHkodGhpcyxbanNQbHVtYi5PdmVybGF5cy5BcnJvdyxhcmd1bWVudHNdKX07anNQbHVtYi5PdmVybGF5cy52bWwuUGxhaW5BcnJvdz1mdW5jdGlvbigpe28uYXBwbHkodGhpcyxbanNQbHVtYi5PdmVybGF5cy5QbGFpbkFycm93LGFyZ3VtZW50c10pfTtqc1BsdW1iLk92ZXJsYXlzLnZtbC5EaWFtb25kPWZ1bmN0aW9uKCl7by5hcHBseSh0aGlzLFtqc1BsdW1iLk92ZXJsYXlzLkRpYW1vbmQsYXJndW1lbnRzXSl9fSkoKTsoZnVuY3Rpb24oKXt2YXIgbD17am9pbnN0eWxlOlwic3Ryb2tlLWxpbmVqb2luXCIsXCJzdHJva2UtbGluZWpvaW5cIjpcInN0cm9rZS1saW5lam9pblwiLFwic3Ryb2tlLWRhc2hvZmZzZXRcIjpcInN0cm9rZS1kYXNob2Zmc2V0XCIsXCJzdHJva2UtbGluZWNhcFwiOlwic3Ryb2tlLWxpbmVjYXBcIn0sdz1cInN0cm9rZS1kYXNoYXJyYXlcIixBPVwiZGFzaHN0eWxlXCIsZT1cImxpbmVhckdyYWRpZW50XCIsYj1cInJhZGlhbEdyYWRpZW50XCIsYz1cImZpbGxcIixhPVwic3RvcFwiLHo9XCJzdHJva2VcIixxPVwic3Ryb2tlLXdpZHRoXCIsaD1cInN0eWxlXCIsbT1cIm5vbmVcIix0PVwianNwbHVtYl9ncmFkaWVudF9cIixvPVwibGluZVdpZHRoXCIsQz17c3ZnOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIix4aHRtbDpcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIn0sZz1mdW5jdGlvbihGLEQpe2Zvcih2YXIgRSBpbiBEKXtGLnNldEF0dHJpYnV0ZShFLFwiXCIrRFtFXSl9fSxmPWZ1bmN0aW9uKEUsRCl7dmFyIEY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKEMuc3ZnLEUpO0Q9RHx8e307RC52ZXJzaW9uPVwiMS4xXCI7RC54bWxucz1DLnhodG1sO2coRixEKTtyZXR1cm4gRn0sbj1mdW5jdGlvbihEKXtyZXR1cm5cInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6XCIrRFswXStcInB4O3RvcDpcIitEWzFdK1wicHhcIn0saT1mdW5jdGlvbihFKXtmb3IodmFyIEQ9MDtEPEUuY2hpbGROb2Rlcy5sZW5ndGg7RCsrKXtpZihFLmNoaWxkTm9kZXNbRF0udGFnTmFtZT09ZXx8RS5jaGlsZE5vZGVzW0RdLnRhZ05hbWU9PWIpe0UucmVtb3ZlQ2hpbGQoRS5jaGlsZE5vZGVzW0RdKX19fSx2PWZ1bmN0aW9uKE4sSSxGLEQsSil7dmFyIEc9dCtKLl9qc1BsdW1iLmlkc3RhbXAoKTtpKE4pO2lmKCFGLmdyYWRpZW50Lm9mZnNldCl7dmFyIEw9ZihlLHtpZDpHLGdyYWRpZW50VW5pdHM6XCJ1c2VyU3BhY2VPblVzZVwifSk7Ti5hcHBlbmRDaGlsZChMKX1lbHNle3ZhciBMPWYoYix7aWQ6R30pO04uYXBwZW5kQ2hpbGQoTCl9Zm9yKHZhciBLPTA7SzxGLmdyYWRpZW50LnN0b3BzLmxlbmd0aDtLKyspe3ZhciBIPUs7aWYoRC5sZW5ndGg9PTgpe0g9RFs0XTxEWzZdP0s6Ri5ncmFkaWVudC5zdG9wcy5sZW5ndGgtMS1LfWVsc2V7SD1EWzRdPERbNl0/Ri5ncmFkaWVudC5zdG9wcy5sZW5ndGgtMS1LOkt9dmFyIE09anNQbHVtYlV0aWwuY29udmVydFN0eWxlKEYuZ3JhZGllbnQuc3RvcHNbSF1bMV0sdHJ1ZSk7dmFyIE89ZihhLHtvZmZzZXQ6TWF0aC5mbG9vcihGLmdyYWRpZW50LnN0b3BzW0tdWzBdKjEwMCkrXCIlXCIsXCJzdG9wLWNvbG9yXCI6TX0pO0wuYXBwZW5kQ2hpbGQoTyl9dmFyIEU9Ri5zdHJva2VTdHlsZT96OmM7SS5zZXRBdHRyaWJ1dGUoaCxFK1wiOnVybCgjXCIrRytcIilcIil9LHg9ZnVuY3Rpb24oSyxHLEUsRCxIKXtpZihFLmdyYWRpZW50KXt2KEssRyxFLEQsSCl9ZWxzZXtpKEspO0cuc2V0QXR0cmlidXRlKGgsXCJcIil9Ry5zZXRBdHRyaWJ1dGUoYyxFLmZpbGxTdHlsZT9qc1BsdW1iVXRpbC5jb252ZXJ0U3R5bGUoRS5maWxsU3R5bGUsdHJ1ZSk6bSk7Ry5zZXRBdHRyaWJ1dGUoeixFLnN0cm9rZVN0eWxlP2pzUGx1bWJVdGlsLmNvbnZlcnRTdHlsZShFLnN0cm9rZVN0eWxlLHRydWUpOm0pO2lmKEUubGluZVdpZHRoKXtHLnNldEF0dHJpYnV0ZShxLEUubGluZVdpZHRoKX1pZihFW0FdJiZFW29dJiYhRVt3XSl7dmFyIEw9RVtBXS5pbmRleE9mKFwiLFwiKT09LTE/XCIgXCI6XCIsXCIsST1FW0FdLnNwbGl0KEwpLEY9XCJcIjtJLmZvckVhY2goZnVuY3Rpb24oTSl7Ris9KE1hdGguZmxvb3IoTSpFLmxpbmVXaWR0aCkrTCl9KTtHLnNldEF0dHJpYnV0ZSh3LEYpfWVsc2V7aWYoRVt3XSl7Ry5zZXRBdHRyaWJ1dGUodyxFW3ddKX19Zm9yKHZhciBKIGluIGwpe2lmKEVbSl0pe0cuc2V0QXR0cmlidXRlKGxbSl0sRVtKXSl9fX0sQj1mdW5jdGlvbihGKXt2YXIgRD0vKFswLTldLikocFt4dF0pXFxzKC4qKS87dmFyIEU9Ri5tYXRjaChEKTtyZXR1cm57c2l6ZTpFWzFdK0VbMl0sZm9udDpFWzNdfX0scj1mdW5jdGlvbihJLEosRSl7dmFyIEs9RS5zcGxpdChcIiBcIiksSD1JLmNsYXNzTmFtZSxHPUguYmFzZVZhbC5zcGxpdChcIiBcIik7Zm9yKHZhciBGPTA7RjxLLmxlbmd0aDtGKyspe2lmKEope2lmKEcuaW5kZXhPZihLW0ZdKT09LTEpe0cucHVzaChLW0ZdKX19ZWxzZXt2YXIgRD1HLmluZGV4T2YoS1tGXSk7aWYoRCE9LTEpe0cuc3BsaWNlKEQsMSl9fX1JLmNsYXNzTmFtZS5iYXNlVmFsPUcuam9pbihcIiBcIil9LHU9ZnVuY3Rpb24oRSxEKXtyKEUsdHJ1ZSxEKX0saz1mdW5jdGlvbihFLEQpe3IoRSxmYWxzZSxEKX07anNQbHVtYlV0aWwuc3ZnPXthZGRDbGFzczp1LHJlbW92ZUNsYXNzOmssbm9kZTpmLGF0dHI6Zyxwb3M6bn07dmFyIHM9ZnVuY3Rpb24oSCl7dmFyIEQ9dGhpcyxHPUgucG9pbnRlckV2ZW50c1NwZWN8fFwiYWxsXCI7anNQbHVtYi5qc1BsdW1iVUlDb21wb25lbnQuYXBwbHkodGhpcyxILm9yaWdpbmFsQXJncyk7RC5jYW52YXM9bnVsbCxELnBhdGg9bnVsbCxELnN2Zz1udWxsO3ZhciBGPUguY3NzQ2xhc3MrXCIgXCIrKEgub3JpZ2luYWxBcmdzWzBdLmNzc0NsYXNzfHxcIlwiKSxJPXtzdHlsZTpcIlwiLHdpZHRoOjAsaGVpZ2h0OjAsXCJwb2ludGVyLWV2ZW50c1wiOkcscG9zaXRpb246XCJhYnNvbHV0ZVwifTtpZihELnRvb2x0aXApe0kudGl0bGU9RC50b29sdGlwfUQuc3ZnPWYoXCJzdmdcIixJKTtpZihILnVzZURpdldyYXBwZXIpe0QuY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7RC5jYW52YXMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiO2pzUGx1bWIuc2l6ZUNhbnZhcyhELmNhbnZhcywwLDAsMSwxKTtELmNhbnZhcy5jbGFzc05hbWU9RjtpZihELnRvb2x0aXApe0QuY2FudmFzLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsRC50b29sdGlwKX19ZWxzZXtnKEQuc3ZnLHtcImNsYXNzXCI6Rn0pO0QuY2FudmFzPUQuc3ZnfUguX2pzUGx1bWIuYXBwZW5kRWxlbWVudChELmNhbnZhcyxILm9yaWdpbmFsQXJnc1swXVtcInBhcmVudFwiXSk7aWYoSC51c2VEaXZXcmFwcGVyKXtELmNhbnZhcy5hcHBlbmRDaGlsZChELnN2Zyl9dmFyIEU9W0QuY2FudmFzXTt0aGlzLmdldERpc3BsYXlFbGVtZW50cz1mdW5jdGlvbigpe3JldHVybiBFfTt0aGlzLmFwcGVuZERpc3BsYXlFbGVtZW50PWZ1bmN0aW9uKEope0UucHVzaChKKX07dGhpcy5wYWludD1mdW5jdGlvbihNLEwsSyl7aWYoTCE9bnVsbCl7dmFyIEo9TVswXSxOPU1bMV07aWYoSC51c2VEaXZXcmFwcGVyKXtqc1BsdW1iLnNpemVDYW52YXMoRC5jYW52YXMsTVswXSxNWzFdLE1bMl0sTVszXSk7Sj0wLE49MH1nKEQuc3ZnLHtzdHlsZTpuKFtKLE4sTVsyXSxNWzNdXSksd2lkdGg6TVsyXSxoZWlnaHQ6TVszXX0pO0QuX3BhaW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fTt2YXIgZD1qc1BsdW1iLlN2Z0Nvbm5lY3Rvcj1mdW5jdGlvbihFKXt2YXIgRD10aGlzO3MuYXBwbHkodGhpcyxbe2Nzc0NsYXNzOkUuX2pzUGx1bWIuY29ubmVjdG9yQ2xhc3Msb3JpZ2luYWxBcmdzOmFyZ3VtZW50cyxwb2ludGVyRXZlbnRzU3BlYzpcIm5vbmVcIix0b29sdGlwOkUudG9vbHRpcCxfanNQbHVtYjpFLl9qc1BsdW1ifV0pO3RoaXMuX3BhaW50PWZ1bmN0aW9uKEwsSCl7dmFyIEs9RC5nZXRQYXRoKEwpLEY9e2Q6S30sSj1udWxsO0ZbXCJwb2ludGVyLWV2ZW50c1wiXT1cImFsbFwiO2lmKEgub3V0bGluZUNvbG9yKXt2YXIgST1ILm91dGxpbmVXaWR0aHx8MSxHPUgubGluZVdpZHRoKygyKkkpLEo9anNQbHVtYi5DdXJyZW50TGlicmFyeS5leHRlbmQoe30sSCk7Si5zdHJva2VTdHlsZT1qc1BsdW1iVXRpbC5jb252ZXJ0U3R5bGUoSC5vdXRsaW5lQ29sb3IpO0oubGluZVdpZHRoPUc7aWYoRC5iZ1BhdGg9PW51bGwpe0QuYmdQYXRoPWYoXCJwYXRoXCIsRik7RC5zdmcuYXBwZW5kQ2hpbGQoRC5iZ1BhdGgpO0QuYXR0YWNoTGlzdGVuZXJzKEQuYmdQYXRoLEQpfWVsc2V7ZyhELmJnUGF0aCxGKX14KEQuc3ZnLEQuYmdQYXRoLEosTCxEKX1pZihELnBhdGg9PW51bGwpe0QucGF0aD1mKFwicGF0aFwiLEYpO0Quc3ZnLmFwcGVuZENoaWxkKEQucGF0aCk7RC5hdHRhY2hMaXN0ZW5lcnMoRC5wYXRoLEQpfWVsc2V7ZyhELnBhdGgsRil9eChELnN2ZyxELnBhdGgsSCxMLEQpfTt0aGlzLnJlYXR0YWNoTGlzdGVuZXJzPWZ1bmN0aW9uKCl7aWYoRC5iZ1BhdGgpe0QucmVhdHRhY2hMaXN0ZW5lcnNGb3JFbGVtZW50KEQuYmdQYXRoLEQpfWlmKEQucGF0aCl7RC5yZWF0dGFjaExpc3RlbmVyc0ZvckVsZW1lbnQoRC5wYXRoLEQpfX19O2pzUGx1bWIuQ29ubmVjdG9ycy5zdmcuQmV6aWVyPWZ1bmN0aW9uKEQpe2pzUGx1bWIuQ29ubmVjdG9ycy5CZXppZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2QuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ2V0UGF0aD1mdW5jdGlvbihGKXt2YXIgRT1cIk0gXCIrRls0XStcIiBcIitGWzVdO0UrPShcIiBDIFwiK0ZbOF0rXCIgXCIrRls5XStcIiBcIitGWzEwXStcIiBcIitGWzExXStcIiBcIitGWzZdK1wiIFwiK0ZbN10pO3JldHVybiBFfX07anNQbHVtYi5Db25uZWN0b3JzLnN2Zy5TdHJhaWdodD1mdW5jdGlvbihEKXtqc1BsdW1iLkNvbm5lY3RvcnMuU3RyYWlnaHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2QuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ2V0UGF0aD1mdW5jdGlvbihFKXtyZXR1cm5cIk0gXCIrRVs0XStcIiBcIitFWzVdK1wiIEwgXCIrRVs2XStcIiBcIitFWzddfX07anNQbHVtYi5Db25uZWN0b3JzLnN2Zy5GbG93Y2hhcnQ9ZnVuY3Rpb24oKXt2YXIgRD10aGlzO2pzUGx1bWIuQ29ubmVjdG9ycy5GbG93Y2hhcnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2QuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ2V0UGF0aD1mdW5jdGlvbihGKXt2YXIgRz1cIk0gXCIrRls0XStcIixcIitGWzVdO2Zvcih2YXIgRT0wO0U8Rls4XTtFKyspe0c9RytcIiBMIFwiK0ZbOSsoRSoyKV0rXCIgXCIrRlsxMCsoRSoyKV19Rz1HK1wiIFwiK0ZbNl0rXCIsXCIrRls3XTtyZXR1cm4gR319O3ZhciB5PXdpbmRvdy5TdmdFbmRwb2ludD1mdW5jdGlvbihFKXt2YXIgRD10aGlzO3MuYXBwbHkodGhpcyxbe2Nzc0NsYXNzOkUuX2pzUGx1bWIuZW5kcG9pbnRDbGFzcyxvcmlnaW5hbEFyZ3M6YXJndW1lbnRzLHBvaW50ZXJFdmVudHNTcGVjOlwiYWxsXCIsdXNlRGl2V3JhcHBlcjp0cnVlLF9qc1BsdW1iOkUuX2pzUGx1bWJ9XSk7dGhpcy5fcGFpbnQ9ZnVuY3Rpb24oSCxHKXt2YXIgRj1qc1BsdW1iLmV4dGVuZCh7fSxHKTtpZihGLm91dGxpbmVDb2xvcil7Ri5zdHJva2VXaWR0aD1GLm91dGxpbmVXaWR0aDtGLnN0cm9rZVN0eWxlPWpzUGx1bWJVdGlsLmNvbnZlcnRTdHlsZShGLm91dGxpbmVDb2xvcix0cnVlKX1pZihELm5vZGU9PW51bGwpe0Qubm9kZT1ELm1ha2VOb2RlKEgsRik7RC5zdmcuYXBwZW5kQ2hpbGQoRC5ub2RlKTtELmF0dGFjaExpc3RlbmVycyhELm5vZGUsRCl9eChELnN2ZyxELm5vZGUsRixILEQpO24oRC5ub2RlLEgpfTt0aGlzLnJlYXR0YWNoTGlzdGVuZXJzPWZ1bmN0aW9uKCl7aWYoRC5ub2RlKXtELnJlYXR0YWNoTGlzdGVuZXJzRm9yRWxlbWVudChELm5vZGUsRCl9fX07anNQbHVtYi5FbmRwb2ludHMuc3ZnLkRvdD1mdW5jdGlvbigpe2pzUGx1bWIuRW5kcG9pbnRzLkRvdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7eS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5tYWtlTm9kZT1mdW5jdGlvbihFLEQpe3JldHVybiBmKFwiY2lyY2xlXCIse2N4OkVbMl0vMixjeTpFWzNdLzIscjpFWzJdLzJ9KX19O2pzUGx1bWIuRW5kcG9pbnRzLnN2Zy5SZWN0YW5nbGU9ZnVuY3Rpb24oKXtqc1BsdW1iLkVuZHBvaW50cy5SZWN0YW5nbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3kuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMubWFrZU5vZGU9ZnVuY3Rpb24oRSxEKXtyZXR1cm4gZihcInJlY3RcIix7d2lkdGg6RVsyXSxoZWlnaHQ6RVszXX0pfX07anNQbHVtYi5FbmRwb2ludHMuc3ZnLkltYWdlPWpzUGx1bWIuRW5kcG9pbnRzLkltYWdlO2pzUGx1bWIuRW5kcG9pbnRzLnN2Zy5CbGFuaz1qc1BsdW1iLkVuZHBvaW50cy5CbGFuaztqc1BsdW1iLk92ZXJsYXlzLnN2Zy5MYWJlbD1qc1BsdW1iLk92ZXJsYXlzLkxhYmVsO3ZhciBwPWZ1bmN0aW9uKEgsRil7SC5hcHBseSh0aGlzLEYpO2pzUGx1bWIuanNQbHVtYlVJQ29tcG9uZW50LmFwcGx5KHRoaXMsRik7dGhpcy5pc0FwcGVuZGVkQXRUb3BMZXZlbD1mYWxzZTt2YXIgRD10aGlzLEc9bnVsbDt0aGlzLnBhaW50PWZ1bmN0aW9uKEosTSxJLE4sSyl7aWYoRz09bnVsbCl7Rz1mKFwicGF0aFwiLHtcInBvaW50ZXItZXZlbnRzXCI6XCJhbGxcIn0pO0ouc3ZnLmFwcGVuZENoaWxkKEcpO0QuYXR0YWNoTGlzdGVuZXJzKEcsSik7RC5hdHRhY2hMaXN0ZW5lcnMoRyxEKX12YXIgTD1GJiYoRi5sZW5ndGg9PTEpPyhGWzBdLmNzc0NsYXNzfHxcIlwiKTpcIlwiO2coRyx7ZDpFKE0pLFwiY2xhc3NcIjpMLHN0cm9rZTpOP046bnVsbCxmaWxsOks/SzpudWxsfSl9O3ZhciBFPWZ1bmN0aW9uKEkpe3JldHVyblwiTVwiK0kuaHh5LngrXCIsXCIrSS5oeHkueStcIiBMXCIrSS50YWlsWzBdLngrXCIsXCIrSS50YWlsWzBdLnkrXCIgTFwiK0kuY3h5LngrXCIsXCIrSS5jeHkueStcIiBMXCIrSS50YWlsWzFdLngrXCIsXCIrSS50YWlsWzFdLnkrXCIgTFwiK0kuaHh5LngrXCIsXCIrSS5oeHkueX07dGhpcy5yZWF0dGFjaExpc3RlbmVycz1mdW5jdGlvbigpe2lmKEcpe0QucmVhdHRhY2hMaXN0ZW5lcnNGb3JFbGVtZW50KEcsRCl9fTt0aGlzLmNsZWFudXA9ZnVuY3Rpb24oKXtpZihHIT1udWxsKXtqc1BsdW1iLkN1cnJlbnRMaWJyYXJ5LnJlbW92ZUVsZW1lbnQoRyl9fX07anNQbHVtYi5PdmVybGF5cy5zdmcuQXJyb3c9ZnVuY3Rpb24oKXtwLmFwcGx5KHRoaXMsW2pzUGx1bWIuT3ZlcmxheXMuQXJyb3csYXJndW1lbnRzXSl9O2pzUGx1bWIuT3ZlcmxheXMuc3ZnLlBsYWluQXJyb3c9ZnVuY3Rpb24oKXtwLmFwcGx5KHRoaXMsW2pzUGx1bWIuT3ZlcmxheXMuUGxhaW5BcnJvdyxhcmd1bWVudHNdKX07anNQbHVtYi5PdmVybGF5cy5zdmcuRGlhbW9uZD1mdW5jdGlvbigpe3AuYXBwbHkodGhpcyxbanNQbHVtYi5PdmVybGF5cy5EaWFtb25kLGFyZ3VtZW50c10pfTtqc1BsdW1iLk92ZXJsYXlzLnN2Zy5HdWlkZUxpbmVzPWZ1bmN0aW9uKCl7dmFyIEk9bnVsbCxEPXRoaXMsSD1udWxsLEcsRjtqc1BsdW1iLk92ZXJsYXlzLkd1aWRlTGluZXMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMucGFpbnQ9ZnVuY3Rpb24oSyxNLEosTixMKXtpZihJPT1udWxsKXtJPWYoXCJwYXRoXCIpO0suc3ZnLmFwcGVuZENoaWxkKEkpO0QuYXR0YWNoTGlzdGVuZXJzKEksSyk7RC5hdHRhY2hMaXN0ZW5lcnMoSSxEKTtHPWYoXCJwYXRoXCIpO0suc3ZnLmFwcGVuZENoaWxkKEcpO0QuYXR0YWNoTGlzdGVuZXJzKEcsSyk7RC5hdHRhY2hMaXN0ZW5lcnMoRyxEKTtGPWYoXCJwYXRoXCIpO0suc3ZnLmFwcGVuZENoaWxkKEYpO0QuYXR0YWNoTGlzdGVuZXJzKEYsSyk7RC5hdHRhY2hMaXN0ZW5lcnMoRixEKX1nKEkse2Q6RShNWzBdLE1bMV0pLHN0cm9rZTpcInJlZFwiLGZpbGw6bnVsbH0pO2coRyx7ZDpFKE1bMl1bMF0sTVsyXVsxXSksc3Ryb2tlOlwiYmx1ZVwiLGZpbGw6bnVsbH0pO2coRix7ZDpFKE1bM11bMF0sTVszXVsxXSksc3Ryb2tlOlwiZ3JlZW5cIixmaWxsOm51bGx9KX07dmFyIEU9ZnVuY3Rpb24oSyxKKXtyZXR1cm5cIk0gXCIrSy54K1wiLFwiK0sueStcIiBMXCIrSi54K1wiLFwiK0oueX19fSkoKTsoZnVuY3Rpb24oKXt2YXIgZD1udWxsLGk9ZnVuY3Rpb24ocCxvKXtyZXR1cm4ganNQbHVtYi5DdXJyZW50TGlicmFyeS5oYXNDbGFzcyhhKHApLG8pfSxhPWZ1bmN0aW9uKG8pe3JldHVybiBqc1BsdW1iLkN1cnJlbnRMaWJyYXJ5LmdldEVsZW1lbnRPYmplY3Qobyl9LG09ZnVuY3Rpb24obyl7cmV0dXJuIGpzUGx1bWIuQ3VycmVudExpYnJhcnkuZ2V0T2Zmc2V0KGEobykpfSxuPWZ1bmN0aW9uKG8pe3JldHVybiBqc1BsdW1iLkN1cnJlbnRMaWJyYXJ5LmdldFBhZ2VYWShvKX0sZj1mdW5jdGlvbihvKXtyZXR1cm4ganNQbHVtYi5DdXJyZW50TGlicmFyeS5nZXRDbGllbnRYWShvKX07dmFyIGs9ZnVuY3Rpb24oKXt2YXIgcT10aGlzO3Eub3ZlcmxheVBsYWNlbWVudHM9W107anNQbHVtYi5qc1BsdW1iVUlDb21wb25lbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2pzUGx1bWJVdGlsLkV2ZW50R2VuZXJhdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9vdmVyPWZ1bmN0aW9uKHope3ZhciBCPW0oYShxLmNhbnZhcykpLEQ9bih6KSx1PURbMF0tQi5sZWZ0LEM9RFsxXS1CLnRvcDtpZih1PjAmJkM+MCYmdTxxLmNhbnZhcy53aWR0aCYmQzxxLmNhbnZhcy5oZWlnaHQpe2Zvcih2YXIgdj0wO3Y8cS5vdmVybGF5UGxhY2VtZW50cy5sZW5ndGg7disrKXt2YXIgdz1xLm92ZXJsYXlQbGFjZW1lbnRzW3ZdO2lmKHcmJih3WzBdPD11JiZ3WzFdPj11JiZ3WzJdPD1DJiZ3WzNdPj1DKSl7cmV0dXJuIHRydWV9fXZhciBBPXEuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5nZXRJbWFnZURhdGEocGFyc2VJbnQodSkscGFyc2VJbnQoQyksMSwxKTtyZXR1cm4gQS5kYXRhWzBdIT0wfHxBLmRhdGFbMV0hPTB8fEEuZGF0YVsyXSE9MHx8QS5kYXRhWzNdIT0wfXJldHVybiBmYWxzZX07dmFyIHA9ZmFsc2Usbz1mYWxzZSx0PW51bGwscz1mYWxzZSxyPWZ1bmN0aW9uKHYsdSl7cmV0dXJuIHYhPW51bGwmJmkodix1KX07dGhpcy5tb3VzZW1vdmU9ZnVuY3Rpb24oeCl7dmFyIHo9bih4KSx3PWYoeCksdj1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHdbMF0sd1sxXSkseT1yKHYsXCJfanNQbHVtYl9vdmVybGF5XCIpO3ZhciB1PWQ9PW51bGwmJihyKHYsXCJfanNQbHVtYl9lbmRwb2ludFwiKXx8cih2LFwiX2pzUGx1bWJfY29ubmVjdG9yXCIpKTtpZighcCYmdSYmcS5fb3Zlcih4KSl7cD10cnVlO3EuZmlyZShcIm1vdXNlZW50ZXJcIixxLHgpO3JldHVybiB0cnVlfWVsc2V7aWYocCYmKCFxLl9vdmVyKHgpfHwhdSkmJiF5KXtwPWZhbHNlO3EuZmlyZShcIm1vdXNlZXhpdFwiLHEseCl9fXEuZmlyZShcIm1vdXNlbW92ZVwiLHEseCl9O3RoaXMuY2xpY2s9ZnVuY3Rpb24odSl7aWYocCYmcS5fb3Zlcih1KSYmIXMpe3EuZmlyZShcImNsaWNrXCIscSx1KX1zPWZhbHNlfTt0aGlzLmRibGNsaWNrPWZ1bmN0aW9uKHUpe2lmKHAmJnEuX292ZXIodSkmJiFzKXtxLmZpcmUoXCJkYmxjbGlja1wiLHEsdSl9cz1mYWxzZX07dGhpcy5tb3VzZWRvd249ZnVuY3Rpb24odSl7aWYocS5fb3Zlcih1KSYmIW8pe289dHJ1ZTt0PW0oYShxLmNhbnZhcykpO3EuZmlyZShcIm1vdXNlZG93blwiLHEsdSl9fTt0aGlzLm1vdXNldXA9ZnVuY3Rpb24odSl7bz1mYWxzZTtxLmZpcmUoXCJtb3VzZXVwXCIscSx1KX07dGhpcy5jb250ZXh0bWVudT1mdW5jdGlvbih1KXtpZihwJiZxLl9vdmVyKHUpJiYhcyl7cS5maXJlKFwiY29udGV4dG1lbnVcIixxLHUpfXM9ZmFsc2V9fTt2YXIgYz1mdW5jdGlvbihwKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3AuX2pzUGx1bWIuYXBwZW5kRWxlbWVudChvLHAucGFyZW50KTtvLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIjtpZihwW1wiY2xhc3NcIl0pe28uY2xhc3NOYW1lPXBbXCJjbGFzc1wiXX1wLl9qc1BsdW1iLmdldElkKG8scC51dWlkKTtpZihwLnRvb2x0aXApe28uc2V0QXR0cmlidXRlKFwidGl0bGVcIixwLnRvb2x0aXApfXJldHVybiBvfTt2YXIgbD1mdW5jdGlvbihwKXtrLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgbz1bXTt0aGlzLmdldERpc3BsYXlFbGVtZW50cz1mdW5jdGlvbigpe3JldHVybiBvfTt0aGlzLmFwcGVuZERpc3BsYXlFbGVtZW50PWZ1bmN0aW9uKHEpe28ucHVzaChxKX19O3ZhciBoPWpzUGx1bWIuQ2FudmFzQ29ubmVjdG9yPWZ1bmN0aW9uKHIpe2wuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBvPWZ1bmN0aW9uKHYsdCl7cC5jdHguc2F2ZSgpO2pzUGx1bWIuZXh0ZW5kKHAuY3R4LHQpO2lmKHQuZ3JhZGllbnQpe3ZhciB1PXAuY3JlYXRlR3JhZGllbnQodixwLmN0eCk7Zm9yKHZhciBzPTA7czx0LmdyYWRpZW50LnN0b3BzLmxlbmd0aDtzKyspe3UuYWRkQ29sb3JTdG9wKHQuZ3JhZGllbnQuc3RvcHNbc11bMF0sdC5ncmFkaWVudC5zdG9wc1tzXVsxXSl9cC5jdHguc3Ryb2tlU3R5bGU9dX1wLl9wYWludCh2LHQpO3AuY3R4LnJlc3RvcmUoKX07dmFyIHA9dGhpcyxxPXAuX2pzUGx1bWIuY29ubmVjdG9yQ2xhc3MrXCIgXCIrKHIuY3NzQ2xhc3N8fFwiXCIpO3AuY2FudmFzPWMoe1wiY2xhc3NcIjpxLF9qc1BsdW1iOnAuX2pzUGx1bWIscGFyZW50OnIucGFyZW50LHRvb2x0aXA6ci50b29sdGlwfSk7cC5jdHg9cC5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO3AuYXBwZW5kRGlzcGxheUVsZW1lbnQocC5jYW52YXMpO3AucGFpbnQ9ZnVuY3Rpb24odyx0KXtpZih0IT1udWxsKXtqc1BsdW1iLnNpemVDYW52YXMocC5jYW52YXMsd1swXSx3WzFdLHdbMl0sd1szXSk7aWYodC5vdXRsaW5lQ29sb3IhPW51bGwpe3ZhciB2PXQub3V0bGluZVdpZHRofHwxLHM9dC5saW5lV2lkdGgrKDIqdiksdT17c3Ryb2tlU3R5bGU6dC5vdXRsaW5lQ29sb3IsbGluZVdpZHRoOnN9O28odyx1KX1vKHcsdCl9fX07dmFyIGI9ZnVuY3Rpb24ocil7dmFyIHA9dGhpcztsLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgcT1wLl9qc1BsdW1iLmVuZHBvaW50Q2xhc3MrXCIgXCIrKHIuY3NzQ2xhc3N8fFwiXCIpLG89e1wiY2xhc3NcIjpxLF9qc1BsdW1iOnAuX2pzUGx1bWIscGFyZW50OnIucGFyZW50LHRvb2x0aXA6cC50b29sdGlwfTtwLmNhbnZhcz1jKG8pO3AuY3R4PXAuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtwLmFwcGVuZERpc3BsYXlFbGVtZW50KHAuY2FudmFzKTt0aGlzLnBhaW50PWZ1bmN0aW9uKHgsdSxzKXtqc1BsdW1iLnNpemVDYW52YXMocC5jYW52YXMseFswXSx4WzFdLHhbMl0seFszXSk7aWYodS5vdXRsaW5lQ29sb3IhPW51bGwpe3ZhciB3PXUub3V0bGluZVdpZHRofHwxLHQ9dS5saW5lV2lkdGgrKDIqdyk7dmFyIHY9e3N0cm9rZVN0eWxlOnUub3V0bGluZUNvbG9yLGxpbmVXaWR0aDp0fX1wLl9wYWludC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTtqc1BsdW1iLkVuZHBvaW50cy5jYW52YXMuRG90PWZ1bmN0aW9uKHIpe2pzUGx1bWIuRW5kcG9pbnRzLkRvdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHE9dGhpcyxwPWZ1bmN0aW9uKHMpe3RyeXtyZXR1cm4gcGFyc2VJbnQocyl9Y2F0Y2godCl7aWYocy5zdWJzdHJpbmcocy5sZW5ndGgtMSk9PVwiJVwiKXtyZXR1cm4gcGFyc2VJbnQocy5zdWJzdHJpbmcoMCxzLTEpKX19fSxvPWZ1bmN0aW9uKHUpe3ZhciBzPXEuZGVmYXVsdE9mZnNldCx0PXEuZGVmYXVsdElubmVyUmFkaXVzO3Uub2Zmc2V0JiYocz1wKHUub2Zmc2V0KSk7dS5pbm5lclJhZGl1cyYmKHQ9cCh1LmlubmVyUmFkaXVzKSk7cmV0dXJuW3MsdF19O3RoaXMuX3BhaW50PWZ1bmN0aW9uKEEsdCx4KXtpZih0IT1udWxsKXt2YXIgQj1xLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksdT14LmdldE9yaWVudGF0aW9uKHEpO2pzUGx1bWIuZXh0ZW5kKEIsdCk7aWYodC5ncmFkaWVudCl7dmFyIHY9byh0LmdyYWRpZW50KSx5PXVbMV09PTE/dlswXSotMTp2WzBdLHM9dVswXT09MT92WzBdKi0xOnZbMF0sej1CLmNyZWF0ZVJhZGlhbEdyYWRpZW50KEFbNF0sQVs0XSxBWzRdLEFbNF0rcyxBWzRdK3ksdlsxXSk7Zm9yKHZhciB3PTA7dzx0LmdyYWRpZW50LnN0b3BzLmxlbmd0aDt3Kyspe3ouYWRkQ29sb3JTdG9wKHQuZ3JhZGllbnQuc3RvcHNbd11bMF0sdC5ncmFkaWVudC5zdG9wc1t3XVsxXSl9Qi5maWxsU3R5bGU9en1CLmJlZ2luUGF0aCgpO0IuYXJjKEFbNF0sQVs0XSxBWzRdLDAsTWF0aC5QSSoyLHRydWUpO0IuY2xvc2VQYXRoKCk7aWYodC5maWxsU3R5bGV8fHQuZ3JhZGllbnQpe0IuZmlsbCgpfWlmKHQuc3Ryb2tlU3R5bGUpe0Iuc3Ryb2tlKCl9fX19O2pzUGx1bWIuRW5kcG9pbnRzLmNhbnZhcy5SZWN0YW5nbGU9ZnVuY3Rpb24ocCl7dmFyIG89dGhpcztqc1BsdW1iLkVuZHBvaW50cy5SZWN0YW5nbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3BhaW50PWZ1bmN0aW9uKHgscix2KXt2YXIgQT1vLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksdD12LmdldE9yaWVudGF0aW9uKG8pO2pzUGx1bWIuZXh0ZW5kKEEscik7aWYoci5ncmFkaWVudCl7dmFyIHo9dFsxXT09MT94WzNdOnRbMV09PTA/eFszXS8yOjA7dmFyIHk9dFsxXT09LTE/eFszXTp0WzFdPT0wP3hbM10vMjowO3ZhciBzPXRbMF09PTE/eFsyXTp0WzBdPT0wP3hbMl0vMjowO3ZhciBxPXRbMF09PS0xP3hbMl06dFswXT09MD94WzJdLzI6MDt2YXIgdz1BLmNyZWF0ZUxpbmVhckdyYWRpZW50KHMseixxLHkpO2Zvcih2YXIgdT0wO3U8ci5ncmFkaWVudC5zdG9wcy5sZW5ndGg7dSsrKXt3LmFkZENvbG9yU3RvcChyLmdyYWRpZW50LnN0b3BzW3VdWzBdLHIuZ3JhZGllbnQuc3RvcHNbdV1bMV0pfUEuZmlsbFN0eWxlPXd9QS5iZWdpblBhdGgoKTtBLnJlY3QoMCwwLHhbMl0seFszXSk7QS5jbG9zZVBhdGgoKTtpZihyLmZpbGxTdHlsZXx8ci5ncmFkaWVudCl7QS5maWxsKCl9aWYoci5zdHJva2VTdHlsZSl7QS5zdHJva2UoKX19fTtqc1BsdW1iLkVuZHBvaW50cy5jYW52YXMuVHJpYW5nbGU9ZnVuY3Rpb24ocCl7dmFyIG89dGhpcztqc1BsdW1iLkVuZHBvaW50cy5UcmlhbmdsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fcGFpbnQ9ZnVuY3Rpb24oeixxLHYpe3ZhciBzPXpbMl0sQz16WzNdLEI9elswXSxBPXpbMV0sRD1vLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksdz0wLHU9MCx0PTAscj12LmdldE9yaWVudGF0aW9uKG8pO2lmKHJbMF09PTEpe3c9czt1PUM7dD0xODB9aWYoclsxXT09LTEpe3c9czt0PTkwfWlmKHJbMV09PTEpe3U9Qzt0PS05MH1ELmZpbGxTdHlsZT1xLmZpbGxTdHlsZTtELnRyYW5zbGF0ZSh3LHUpO0Qucm90YXRlKHQqTWF0aC5QSS8xODApO0QuYmVnaW5QYXRoKCk7RC5tb3ZlVG8oMCwwKTtELmxpbmVUbyhzLzIsQy8yKTtELmxpbmVUbygwLEMpO0QuY2xvc2VQYXRoKCk7aWYocS5maWxsU3R5bGV8fHEuZ3JhZGllbnQpe0QuZmlsbCgpfWlmKHEuc3Ryb2tlU3R5bGUpe0Quc3Ryb2tlKCl9fX07anNQbHVtYi5FbmRwb2ludHMuY2FudmFzLkltYWdlPWpzUGx1bWIuRW5kcG9pbnRzLkltYWdlO2pzUGx1bWIuRW5kcG9pbnRzLmNhbnZhcy5CbGFuaz1qc1BsdW1iLkVuZHBvaW50cy5CbGFuaztqc1BsdW1iLkNvbm5lY3RvcnMuY2FudmFzLkJlemllcj1mdW5jdGlvbigpe3ZhciBvPXRoaXM7anNQbHVtYi5Db25uZWN0b3JzLkJlemllci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fcGFpbnQ9ZnVuY3Rpb24ocSxwKXtvLmN0eC5iZWdpblBhdGgoKTtvLmN0eC5tb3ZlVG8ocVs0XSxxWzVdKTtvLmN0eC5iZXppZXJDdXJ2ZVRvKHFbOF0scVs5XSxxWzEwXSxxWzExXSxxWzZdLHFbN10pO28uY3R4LnN0cm9rZSgpfTt0aGlzLmNyZWF0ZUdyYWRpZW50PWZ1bmN0aW9uKHIscCxxKXtyZXR1cm4gby5jdHguY3JlYXRlTGluZWFyR3JhZGllbnQocls2XSxyWzddLHJbNF0scls1XSl9fTtqc1BsdW1iLkNvbm5lY3RvcnMuY2FudmFzLlN0cmFpZ2h0PWZ1bmN0aW9uKCl7dmFyIHA9dGhpcyxvPVtudWxsLFsxLC0xXSxbMSwxXSxbLTEsMV0sWy0xLC0xXV07anNQbHVtYi5Db25uZWN0b3JzLlN0cmFpZ2h0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtoLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9wYWludD1mdW5jdGlvbihyLHQpe3AuY3R4LmJlZ2luUGF0aCgpO2lmKHQuZGFzaHN0eWxlJiZ0LmRhc2hzdHlsZS5zcGxpdChcIiBcIikubGVuZ3RoPT0yKXt2YXIgdj10LmRhc2hzdHlsZS5zcGxpdChcIiBcIik7aWYodi5sZW5ndGghPTIpe3Y9WzIsMl19dmFyIEM9W3ZbMF0qdC5saW5lV2lkdGgsdlsxXSp0LmxpbmVXaWR0aF0seT0ocls2XS1yWzRdKS8ocls3XS1yWzVdKSxHPWpzUGx1bWJVdGlsLnNlZ21lbnQoW3JbNF0scls1XV0sW3JbNl0scls3XV0pLHg9b1tHXSx1PU1hdGguYXRhbih5KSx6PU1hdGguc3FydChNYXRoLnBvdyhyWzZdLXJbNF0sMikrTWF0aC5wb3cocls3XS1yWzVdLDIpKSxCPU1hdGguZmxvb3Ioei8oQ1swXStDWzFdKSksdz1bcls0XSxyWzVdXTtmb3IodmFyIEE9MDtBPEI7QSsrKXtwLmN0eC5tb3ZlVG8od1swXSx3WzFdKTt2YXIgcT13WzBdKyhNYXRoLmFicyhNYXRoLnNpbih1KSpDWzBdKSp4WzBdKSxGPXdbMV0rKE1hdGguYWJzKE1hdGguY29zKHUpKkNbMF0pKnhbMV0pLEU9d1swXSsoTWF0aC5hYnMoTWF0aC5zaW4odSkqKENbMF0rQ1sxXSkpKnhbMF0pLEQ9d1sxXSsoTWF0aC5hYnMoTWF0aC5jb3ModSkqKENbMF0rQ1sxXSkpKnhbMV0pO3AuY3R4LmxpbmVUbyhxLEYpO3c9W0UsRF19cC5jdHgubW92ZVRvKHdbMF0sd1sxXSk7cC5jdHgubGluZVRvKHJbNl0scls3XSl9ZWxzZXtwLmN0eC5tb3ZlVG8ocls0XSxyWzVdKTtwLmN0eC5saW5lVG8ocls2XSxyWzddKX1wLmN0eC5zdHJva2UoKX07dGhpcy5jcmVhdGVHcmFkaWVudD1mdW5jdGlvbihyLHEpe3JldHVybiBxLmNyZWF0ZUxpbmVhckdyYWRpZW50KHJbNF0scls1XSxyWzZdLHJbN10pfX07anNQbHVtYi5Db25uZWN0b3JzLmNhbnZhcy5GbG93Y2hhcnQ9ZnVuY3Rpb24oKXt2YXIgbz10aGlzO2pzUGx1bWIuQ29ubmVjdG9ycy5GbG93Y2hhcnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2guYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3BhaW50PWZ1bmN0aW9uKHIscSl7by5jdHguYmVnaW5QYXRoKCk7by5jdHgubW92ZVRvKHJbNF0scls1XSk7Zm9yKHZhciBwPTA7cDxyWzhdO3ArKyl7by5jdHgubGluZVRvKHJbOSsocCoyKV0sclsxMCsocCoyKV0pfW8uY3R4LmxpbmVUbyhyWzZdLHJbN10pO28uY3R4LnN0cm9rZSgpfTt0aGlzLmNyZWF0ZUdyYWRpZW50PWZ1bmN0aW9uKHEscCl7cmV0dXJuIHAuY3JlYXRlTGluZWFyR3JhZGllbnQocVs0XSxxWzVdLHFbNl0scVs3XSl9fTtqc1BsdW1iLk92ZXJsYXlzLmNhbnZhcy5MYWJlbD1qc1BsdW1iLk92ZXJsYXlzLkxhYmVsO3ZhciBnPWZ1bmN0aW9uKCl7anNQbHVtYi5qc1BsdW1iVUlDb21wb25lbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgZT1mdW5jdGlvbihwLG8pe3AuYXBwbHkodGhpcyxvKTtnLmFwcGx5KHRoaXMsbyk7dGhpcy5wYWludD1mdW5jdGlvbihzLHUscSx2LHQpe3ZhciByPXMuY3R4O3IubGluZVdpZHRoPXE7ci5iZWdpblBhdGgoKTtyLm1vdmVUbyh1Lmh4eS54LHUuaHh5LnkpO3IubGluZVRvKHUudGFpbFswXS54LHUudGFpbFswXS55KTtyLmxpbmVUbyh1LmN4eS54LHUuY3h5LnkpO3IubGluZVRvKHUudGFpbFsxXS54LHUudGFpbFsxXS55KTtyLmxpbmVUbyh1Lmh4eS54LHUuaHh5LnkpO3IuY2xvc2VQYXRoKCk7aWYodil7ci5zdHJva2VTdHlsZT12O3Iuc3Ryb2tlKCl9aWYodCl7ci5maWxsU3R5bGU9dDtyLmZpbGwoKX19fTtqc1BsdW1iLk92ZXJsYXlzLmNhbnZhcy5BcnJvdz1mdW5jdGlvbigpe2UuYXBwbHkodGhpcyxbanNQbHVtYi5PdmVybGF5cy5BcnJvdyxhcmd1bWVudHNdKX07anNQbHVtYi5PdmVybGF5cy5jYW52YXMuUGxhaW5BcnJvdz1mdW5jdGlvbigpe2UuYXBwbHkodGhpcyxbanNQbHVtYi5PdmVybGF5cy5QbGFpbkFycm93LGFyZ3VtZW50c10pfTtqc1BsdW1iLk92ZXJsYXlzLmNhbnZhcy5EaWFtb25kPWZ1bmN0aW9uKCl7ZS5hcHBseSh0aGlzLFtqc1BsdW1iLk92ZXJsYXlzLkRpYW1vbmQsYXJndW1lbnRzXSl9fSkoKTsoZnVuY3Rpb24oYSl7anNQbHVtYi5DdXJyZW50TGlicmFyeT17YWRkQ2xhc3M6ZnVuY3Rpb24oYyxiKXtjPWpzUGx1bWIuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChjKTt0cnl7aWYoY1swXS5jbGFzc05hbWUuY29uc3RydWN0b3I9PVNWR0FuaW1hdGVkU3RyaW5nKXtqc1BsdW1iLnV0aWwuc3ZnLmFkZENsYXNzKGNbMF0sYil9fWNhdGNoKGQpe31jLmFkZENsYXNzKGIpfSxhbmltYXRlOmZ1bmN0aW9uKGQsYyxiKXtkLmFuaW1hdGUoYyxiKX0sYXBwZW5kRWxlbWVudDpmdW5jdGlvbihjLGIpe2pzUGx1bWIuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChiKS5hcHBlbmQoYyl9LGFqYXg6ZnVuY3Rpb24oYil7Yj1ifHx7fTtiLnR5cGU9Yi50eXBlfHxcImdldFwiO2EuYWpheChiKX0sYmluZDpmdW5jdGlvbihiLGMsZCl7Yj1qc1BsdW1iLkN1cnJlbnRMaWJyYXJ5LmdldEVsZW1lbnRPYmplY3QoYik7Yi5iaW5kKGMsZCl9LGRyYWdFdmVudHM6e3N0YXJ0Olwic3RhcnRcIixzdG9wOlwic3RvcFwiLGRyYWc6XCJkcmFnXCIsc3RlcDpcInN0ZXBcIixvdmVyOlwib3ZlclwiLG91dDpcIm91dFwiLGRyb3A6XCJkcm9wXCIsY29tcGxldGU6XCJjb21wbGV0ZVwifSxleHRlbmQ6ZnVuY3Rpb24oYyxiKXtyZXR1cm4gYS5leHRlbmQoYyxiKX0sZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGIuYXR0cihjKX0sZ2V0Q2xpZW50WFk6ZnVuY3Rpb24oYil7cmV0dXJuW2IuY2xpZW50WCxiLmNsaWVudFldfSxnZXREb2N1bWVudEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnR9LGdldERyYWdPYmplY3Q6ZnVuY3Rpb24oYil7cmV0dXJuIGJbMV0uZHJhZ2dhYmxlfSxnZXREcmFnU2NvcGU6ZnVuY3Rpb24oYil7cmV0dXJuIGIuZHJhZ2dhYmxlKFwib3B0aW9uXCIsXCJzY29wZVwiKX0sZ2V0RHJvcEV2ZW50OmZ1bmN0aW9uKGIpe3JldHVybiBiWzBdfSxnZXREcm9wU2NvcGU6ZnVuY3Rpb24oYil7cmV0dXJuIGIuZHJvcHBhYmxlKFwib3B0aW9uXCIsXCJzY29wZVwiKX0sZ2V0RE9NRWxlbWVudDpmdW5jdGlvbihiKXtpZih0eXBlb2YoYik9PVwic3RyaW5nXCIpe3JldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiKX1lbHNle2lmKGIuY29udGV4dCl7cmV0dXJuIGJbMF19ZWxzZXtyZXR1cm4gYn19fSxnZXRFbGVtZW50T2JqZWN0OmZ1bmN0aW9uKGIpe3JldHVybiB0eXBlb2YoYik9PVwic3RyaW5nXCI/YShcIiNcIitiKTphKGIpfSxnZXRPZmZzZXQ6ZnVuY3Rpb24oYil7cmV0dXJuIGIub2Zmc2V0KCl9LGdldE9yaWdpbmFsRXZlbnQ6ZnVuY3Rpb24oYil7cmV0dXJuIGIub3JpZ2luYWxFdmVudH0sZ2V0UGFnZVhZOmZ1bmN0aW9uKGIpe3JldHVybltiLnBhZ2VYLGIucGFnZVldfSxnZXRQYXJlbnQ6ZnVuY3Rpb24oYil7cmV0dXJuIGpzUGx1bWIuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChiKS5wYXJlbnQoKX0sZ2V0U2Nyb2xsTGVmdDpmdW5jdGlvbihiKXtyZXR1cm4gYi5zY3JvbGxMZWZ0KCl9LGdldFNjcm9sbFRvcDpmdW5jdGlvbihiKXtyZXR1cm4gYi5zY3JvbGxUb3AoKX0sZ2V0U2VsZWN0b3I6ZnVuY3Rpb24oYil7cmV0dXJuIGEoYil9LGdldFNpemU6ZnVuY3Rpb24oYil7cmV0dXJuW2Iub3V0ZXJXaWR0aCgpLGIub3V0ZXJIZWlnaHQoKV19LGdldFRhZ05hbWU6ZnVuY3Rpb24oYil7dmFyIGM9anNQbHVtYi5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGIpO3JldHVybiBjLmxlbmd0aD4wP2NbMF0udGFnTmFtZTpudWxsfSxnZXRVSVBvc2l0aW9uOmZ1bmN0aW9uKGMpe2lmKGMubGVuZ3RoPT0xKXtyZXQ9e2xlZnQ6Y1swXS5wYWdlWCx0b3A6Y1swXS5wYWdlWX19ZWxzZXt2YXIgZD1jWzFdLGI9ZC5vZmZzZXQ7cmV0PWJ8fGQuYWJzb2x1dGVQb3NpdGlvbn1yZXR1cm4gcmV0fSxoYXNDbGFzczpmdW5jdGlvbihjLGIpe3JldHVybiBjLmhhc0NsYXNzKGIpfSxpbml0RHJhZ2dhYmxlOmZ1bmN0aW9uKGMsYixkKXtiPWJ8fHt9O2IuaGVscGVyPW51bGw7aWYoZCl7Yi5zY29wZT1iLnNjb3BlfHxqc1BsdW1iLkRlZmF1bHRzLlNjb3BlfWMuZHJhZ2dhYmxlKGIpfSxpbml0RHJvcHBhYmxlOmZ1bmN0aW9uKGMsYil7Yi5zY29wZT1iLnNjb3BlfHxqc1BsdW1iLkRlZmF1bHRzLlNjb3BlO2MuZHJvcHBhYmxlKGIpfSxpc0FscmVhZHlEcmFnZ2FibGU6ZnVuY3Rpb24oYil7Yj1qc1BsdW1iLkN1cnJlbnRMaWJyYXJ5LmdldEVsZW1lbnRPYmplY3QoYik7cmV0dXJuIGIuaGFzQ2xhc3MoXCJ1aS1kcmFnZ2FibGVcIil9LGlzRHJhZ1N1cHBvcnRlZDpmdW5jdGlvbihjLGIpe3JldHVybiBjLmRyYWdnYWJsZX0saXNEcm9wU3VwcG9ydGVkOmZ1bmN0aW9uKGMsYil7cmV0dXJuIGMuZHJvcHBhYmxlfSxyZW1vdmVDbGFzczpmdW5jdGlvbihjLGIpe2M9anNQbHVtYi5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGMpO3RyeXtpZihjWzBdLmNsYXNzTmFtZS5jb25zdHJ1Y3Rvcj09U1ZHQW5pbWF0ZWRTdHJpbmcpe2pzUGx1bWIudXRpbC5zdmcucmVtb3ZlQ2xhc3MoY1swXSxiKX19Y2F0Y2goZCl7fWMucmVtb3ZlQ2xhc3MoYil9LHJlbW92ZUVsZW1lbnQ6ZnVuY3Rpb24oYixjKXtqc1BsdW1iLkN1cnJlbnRMaWJyYXJ5LmdldEVsZW1lbnRPYmplY3QoYikucmVtb3ZlKCl9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihjLGQsYil7Yy5hdHRyKGQsYil9LHNldERyYWdnYWJsZTpmdW5jdGlvbihjLGIpe2MuZHJhZ2dhYmxlKFwib3B0aW9uXCIsXCJkaXNhYmxlZFwiLCFiKX0sc2V0RHJhZ1Njb3BlOmZ1bmN0aW9uKGMsYil7Yy5kcmFnZ2FibGUoXCJvcHRpb25cIixcInNjb3BlXCIsYil9LHNldE9mZnNldDpmdW5jdGlvbihiLGMpe2pzUGx1bWIuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChiKS5vZmZzZXQoYyl9LHRyaWdnZXI6ZnVuY3Rpb24oZCxlLGIpe3ZhciBjPWpRdWVyeS5fZGF0YShqc1BsdW1iLkN1cnJlbnRMaWJyYXJ5LmdldEVsZW1lbnRPYmplY3QoZClbMF0sXCJoYW5kbGVcIik7YyhiKX0sdW5iaW5kOmZ1bmN0aW9uKGIsYyxkKXtiPWpzUGx1bWIuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChiKTtiLnVuYmluZChjLGQpfX07YShkb2N1bWVudCkucmVhZHkoanNQbHVtYi5pbml0KX0pKGpRdWVyeSk7KGZ1bmN0aW9uKCl7XCJ1bmRlZmluZWRcIj09dHlwZW9mIE1hdGguc2duJiYoTWF0aC5zZ249ZnVuY3Rpb24obCl7cmV0dXJuIDA9PWw/MDowPGw/MTotMX0pO3ZhciBkPXtzdWJ0cmFjdDpmdW5jdGlvbihtLGwpe3JldHVybnt4Om0ueC1sLngseTptLnktbC55fX0sZG90UHJvZHVjdDpmdW5jdGlvbihtLGwpe3JldHVybiBtLngqbC54K20ueSpsLnl9LHNxdWFyZTpmdW5jdGlvbihsKXtyZXR1cm4gTWF0aC5zcXJ0KGwueCpsLngrbC55KmwueSl9LHNjYWxlOmZ1bmN0aW9uKG0sbCl7cmV0dXJue3g6bS54KmwseTptLnkqbH19fSxmPU1hdGgucG93KDIsLTY1KSxoPWZ1bmN0aW9uKHkseCl7Zm9yKHZhciB0PVtdLHY9eC5sZW5ndGgtMSxyPTIqdi0xLHM9W10sdz1bXSxwPVtdLHE9W10sbz1bWzEsMC42LDAuMywwLjFdLFswLjQsMC42LDAuNiwwLjRdLFswLjEsMC4zLDAuNiwxXV0sdT0wO3U8PXY7dSsrKXtzW3VdPWQuc3VidHJhY3QoeFt1XSx5KX1mb3IodT0wO3U8PXYtMTt1Kyspe3dbdV09ZC5zdWJ0cmFjdCh4W3UrMV0seFt1XSk7d1t1XT1kLnNjYWxlKHdbdV0sMyl9Zm9yKHU9MDt1PD12LTE7dSsrKXtmb3IodmFyIG09MDttPD12O20rKyl7cFt1XXx8KHBbdV09W10pO3BbdV1bbV09ZC5kb3RQcm9kdWN0KHdbdV0sc1ttXSl9fWZvcih1PTA7dTw9cjt1Kyspe3FbdV18fChxW3VdPVtdKTtxW3VdLnk9MDtxW3VdLng9cGFyc2VGbG9hdCh1KS9yfXI9di0xO2ZvcihzPTA7czw9dityO3MrKyl7dT1NYXRoLm1heCgwLHMtcik7Zm9yKHc9TWF0aC5taW4ocyx2KTt1PD13O3UrKyl7aj1zLXU7cVt1K2pdLnk9cVt1K2pdLnkrcFtqXVt1XSpvW2pdW3VdfX12PXgubGVuZ3RoLTE7cT1hKHEsMip2LTEsdCwwKTtyPWQuc3VidHJhY3QoeSx4WzBdKTtwPWQuc3F1YXJlKHIpO2Zvcih1PW89MDt1PHE7dSsrKXtyPWQuc3VidHJhY3QoeSxrKHgsdix0W3VdLG51bGwsbnVsbCkpO3I9ZC5zcXVhcmUocik7aWYocjxwKXtwPXI7bz10W3VdfX1yPWQuc3VidHJhY3QoeSx4W3ZdKTtyPWQuc3F1YXJlKHIpO2lmKHI8cCl7cD1yO289MX1yZXR1cm57bG9jYXRpb246byxkaXN0YW5jZTpwfX0sYT1mdW5jdGlvbihDLEIseCx6KXt2YXIgdj1bXSx3PVtdLEE9W10sdD1bXSx1PTAscyx5O3k9TWF0aC5zZ24oQ1swXS55KTtmb3IodmFyIHE9MTtxPD1CO3ErKyl7cz1NYXRoLnNnbihDW3FdLnkpO3MhPXkmJnUrKzt5PXN9c3dpdGNoKHUpe2Nhc2UgMDpyZXR1cm4gMDtjYXNlIDE6aWYoej49NjQpe3hbMF09KENbMF0ueCtDW0JdLngpLzI7cmV0dXJuIDF9dmFyIHAsdT1DWzBdLnktQ1tCXS55O3k9Q1tCXS54LUNbMF0ueDtxPUNbMF0ueCpDW0JdLnktQ1tCXS54KkNbMF0ueTtzPW1heF9kaXN0YW5jZV9iZWxvdz0wO2ZvcihwPTE7cDxCO3ArKyl7dmFyIHI9dSpDW3BdLngreSpDW3BdLnkrcTtyPnM/cz1yOnI8bWF4X2Rpc3RhbmNlX2JlbG93JiYobWF4X2Rpc3RhbmNlX2JlbG93PXIpfXA9eTtzPSgxKihxLXMpLXAqMCkqKDEvKDAqcC11KjEpKTtwPXk7eT1xLW1heF9kaXN0YW5jZV9iZWxvdzt1PSgxKnktcCowKSooMS8oMCpwLXUqMSkpO3k9TWF0aC5taW4ocyx1KTtpZihNYXRoLm1heChzLHUpLXk8Zil7QT1DW0JdLngtQ1swXS54O3Q9Q1tCXS55LUNbMF0ueTt4WzBdPTArMSooQSooQ1swXS55LTApLXQqKENbMF0ueC0wKSkqKDEvKEEqMC10KjEpKTtyZXR1cm4gMX19ayhDLEIsMC41LHYsdyk7Qz1hKHYsQixBLHorMSk7Qj1hKHcsQix0LHorMSk7Zm9yKHo9MDt6PEM7eisrKXt4W3pdPUFbel19Zm9yKHo9MDt6PEI7eisrKXt4W3orQ109dFt6XX1yZXR1cm4gQytCfSxrPWZ1bmN0aW9uKG0sbCxwLHEsbil7Zm9yKHZhciBvPVtbXV0scj0wO3I8PWw7cisrKXtvWzBdW3JdPW1bcl19Zm9yKG09MTttPD1sO20rKyl7Zm9yKHI9MDtyPD1sLW07cisrKXtvW21dfHwob1ttXT1bXSk7b1ttXVtyXXx8KG9bbV1bcl09e30pO29bbV1bcl0ueD0oMS1wKSpvW20tMV1bcl0ueCtwKm9bbS0xXVtyKzFdLng7b1ttXVtyXS55PSgxLXApKm9bbS0xXVtyXS55K3Aqb1ttLTFdW3IrMV0ueX19aWYocSE9bnVsbCl7Zm9yKHI9MDtyPD1sO3IrKyl7cVtyXT1vW3JdWzBdfX1pZihuIT1udWxsKXtmb3Iocj0wO3I8PWw7cisrKXtuW3JdPW9bbC1yXVtyXX19cmV0dXJuIG9bbF1bMF19LGc9e30sZT1mdW5jdGlvbih0KXt2YXIgcz1nW3RdO2lmKCFzKXt2YXIgcz1bXSxwPWZ1bmN0aW9uKHUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB1fX0scT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih1KXtyZXR1cm4gdX19LG49ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odSl7cmV0dXJuIDEtdX19LG89ZnVuY3Rpb24odSl7cmV0dXJuIGZ1bmN0aW9uKHYpe2Zvcih2YXIgeD0xLHc9MDt3PHUubGVuZ3RoO3crKyl7eD14KnVbd10odil9cmV0dXJuIHh9fTtzLnB1c2gobmV3IGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHUpe3JldHVybiBNYXRoLnBvdyh1LHQpfX0pO2Zvcih2YXIgcj0xO3I8dDtyKyspe2Zvcih2YXIgbD1bbmV3IHAodCldLG09MDttPHQtcjttKyspe2wucHVzaChuZXcgcSl9Zm9yKG09MDttPHI7bSsrKXtsLnB1c2gobmV3IG4pfXMucHVzaChuZXcgbyhsKSl9cy5wdXNoKG5ldyBmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih1KXtyZXR1cm4gTWF0aC5wb3coMS11LHQpfX0pO2dbdF09c31yZXR1cm4gc30sYz1mdW5jdGlvbihtLGwpe2Zvcih2YXIgcD1lKG0ubGVuZ3RoLTEpLHE9MCxuPTAsbz0wO288bS5sZW5ndGg7bysrKXtxPXErbVtvXS54KnBbb10obCk7bj1uK21bb10ueSpwW29dKGwpfXJldHVybnt4OnEseTpufX0sYj1mdW5jdGlvbihtLGwscCl7Zm9yKHZhciBxPWMobSxsKSxuPTAsbz1wPjA/MTotMSxyPW51bGw7bjxNYXRoLmFicyhwKTspe2w9bCswLjAwNSpvO3I9YyhtLGwpO249bitNYXRoLnNxcnQoTWF0aC5wb3coci54LXEueCwyKStNYXRoLnBvdyhyLnktcS55LDIpKTtxPXJ9cmV0dXJue3BvaW50OnIsbG9jYXRpb246bH19LGk9ZnVuY3Rpb24obSxsKXt2YXIgbz1jKG0sbCkscD1jKG0uc2xpY2UoMCxtLmxlbmd0aC0xKSxsKSxuPXAueS1vLnksbz1wLngtby54O3JldHVybiBuPT0wP0luZmluaXR5Ok1hdGguYXRhbihuL28pfTt3aW5kb3cuanNCZXppZXI9e2Rpc3RhbmNlRnJvbUN1cnZlOmgsZ3JhZGllbnRBdFBvaW50OmksZ3JhZGllbnRBdFBvaW50QWxvbmdDdXJ2ZUZyb206ZnVuY3Rpb24obSxsLG4pe2w9YihtLGwsbik7aWYobC5sb2NhdGlvbj4xKXtsLmxvY2F0aW9uPTF9aWYobC5sb2NhdGlvbjwwKXtsLmxvY2F0aW9uPTB9cmV0dXJuIGkobSxsLmxvY2F0aW9uKX0sbmVhcmVzdFBvaW50T25DdXJ2ZTpmdW5jdGlvbihtLGwpe3ZhciBuPWgobSxsKTtyZXR1cm57cG9pbnQ6ayhsLGwubGVuZ3RoLTEsbi5sb2NhdGlvbixudWxsLG51bGwpLGxvY2F0aW9uOm4ubG9jYXRpb259fSxwb2ludE9uQ3VydmU6Yyxwb2ludEFsb25nQ3VydmVGcm9tOmZ1bmN0aW9uKG0sbCxuKXtyZXR1cm4gYihtLGwsbikucG9pbnR9LHBlcnBlbmRpY3VsYXJUb0N1cnZlQXQ6ZnVuY3Rpb24obSxsLG4sbyl7bD1iKG0sbCxvPT1udWxsPzA6byk7bT1pKG0sbC5sb2NhdGlvbik7bz1NYXRoLmF0YW4oLTEvbSk7bT1uLzIqTWF0aC5zaW4obyk7bj1uLzIqTWF0aC5jb3Mobyk7cmV0dXJuW3t4OmwucG9pbnQueCtuLHk6bC5wb2ludC55K219LHt4OmwucG9pbnQueC1uLHk6bC5wb2ludC55LW19XX0sbG9jYXRpb25BbG9uZ0N1cnZlRnJvbTpmdW5jdGlvbihtLGwsbil7cmV0dXJuIGIobSxsLG4pLmxvY2F0aW9ufX19KSgpO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMCkpKVxuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qISBqUXVlcnkgVUkgLSB2MS4xMS40IC0gMjAxNS0wMy0xMVxuKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4qIEluY2x1ZGVzOiBjb3JlLmpzLCB3aWRnZXQuanMsIG1vdXNlLmpzLCBwb3NpdGlvbi5qcywgYWNjb3JkaW9uLmpzLCBhdXRvY29tcGxldGUuanMsIGJ1dHRvbi5qcywgZGF0ZXBpY2tlci5qcywgZGlhbG9nLmpzLCBkcmFnZ2FibGUuanMsIGRyb3BwYWJsZS5qcywgZWZmZWN0LmpzLCBlZmZlY3QtYmxpbmQuanMsIGVmZmVjdC1ib3VuY2UuanMsIGVmZmVjdC1jbGlwLmpzLCBlZmZlY3QtZHJvcC5qcywgZWZmZWN0LWV4cGxvZGUuanMsIGVmZmVjdC1mYWRlLmpzLCBlZmZlY3QtZm9sZC5qcywgZWZmZWN0LWhpZ2hsaWdodC5qcywgZWZmZWN0LXB1ZmYuanMsIGVmZmVjdC1wdWxzYXRlLmpzLCBlZmZlY3Qtc2NhbGUuanMsIGVmZmVjdC1zaGFrZS5qcywgZWZmZWN0LXNpemUuanMsIGVmZmVjdC1zbGlkZS5qcywgZWZmZWN0LXRyYW5zZmVyLmpzLCBtZW51LmpzLCBwcm9ncmVzc2Jhci5qcywgcmVzaXphYmxlLmpzLCBzZWxlY3RhYmxlLmpzLCBzZWxlY3RtZW51LmpzLCBzbGlkZXIuanMsIHNvcnRhYmxlLmpzLCBzcGlubmVyLmpzLCB0YWJzLmpzLCB0b29sdGlwLmpzXG4qIENvcHlyaWdodCAyMDE1IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnM7IExpY2Vuc2VkIE1JVCAqL1xuXG4oZnVuY3Rpb24oIGZhY3RvcnkgKSB7XG5cdGlmICggdHJ1ZSApIHtcblxuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHQhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbIF9fd2VicGFja19yZXF1aXJlX18oMCkgXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLFxuXHRcdFx0XHRfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID9cblx0XHRcdFx0KF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLFxuXHRcdFx0XHRfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBCcm93c2VyIGdsb2JhbHNcblx0XHRmYWN0b3J5KCBqUXVlcnkgKTtcblx0fVxufShmdW5jdGlvbiggJCApIHtcbi8qIVxuICogalF1ZXJ5IFVJIENvcmUgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9jYXRlZ29yeS91aS1jb3JlL1xuICovXG5cblxuLy8gJC51aSBtaWdodCBleGlzdCBmcm9tIGNvbXBvbmVudHMgd2l0aCBubyBkZXBlbmRlbmNpZXMsIGUuZy4sICQudWkucG9zaXRpb25cbiQudWkgPSAkLnVpIHx8IHt9O1xuXG4kLmV4dGVuZCggJC51aSwge1xuXHR2ZXJzaW9uOiBcIjEuMTEuNFwiLFxuXG5cdGtleUNvZGU6IHtcblx0XHRCQUNLU1BBQ0U6IDgsXG5cdFx0Q09NTUE6IDE4OCxcblx0XHRERUxFVEU6IDQ2LFxuXHRcdERPV046IDQwLFxuXHRcdEVORDogMzUsXG5cdFx0RU5URVI6IDEzLFxuXHRcdEVTQ0FQRTogMjcsXG5cdFx0SE9NRTogMzYsXG5cdFx0TEVGVDogMzcsXG5cdFx0UEFHRV9ET1dOOiAzNCxcblx0XHRQQUdFX1VQOiAzMyxcblx0XHRQRVJJT0Q6IDE5MCxcblx0XHRSSUdIVDogMzksXG5cdFx0U1BBQ0U6IDMyLFxuXHRcdFRBQjogOSxcblx0XHRVUDogMzhcblx0fVxufSk7XG5cbi8vIHBsdWdpbnNcbiQuZm4uZXh0ZW5kKHtcblx0c2Nyb2xsUGFyZW50OiBmdW5jdGlvbiggaW5jbHVkZUhpZGRlbiApIHtcblx0XHR2YXIgcG9zaXRpb24gPSB0aGlzLmNzcyggXCJwb3NpdGlvblwiICksXG5cdFx0XHRleGNsdWRlU3RhdGljUGFyZW50ID0gcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIixcblx0XHRcdG92ZXJmbG93UmVnZXggPSBpbmNsdWRlSGlkZGVuID8gLyhhdXRvfHNjcm9sbHxoaWRkZW4pLyA6IC8oYXV0b3xzY3JvbGwpLyxcblx0XHRcdHNjcm9sbFBhcmVudCA9IHRoaXMucGFyZW50cygpLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBwYXJlbnQgPSAkKCB0aGlzICk7XG5cdFx0XHRcdGlmICggZXhjbHVkZVN0YXRpY1BhcmVudCAmJiBwYXJlbnQuY3NzKCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG92ZXJmbG93UmVnZXgudGVzdCggcGFyZW50LmNzcyggXCJvdmVyZmxvd1wiICkgKyBwYXJlbnQuY3NzKCBcIm92ZXJmbG93LXlcIiApICsgcGFyZW50LmNzcyggXCJvdmVyZmxvdy14XCIgKSApO1xuXHRcdFx0fSkuZXEoIDAgKTtcblxuXHRcdHJldHVybiBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiIHx8ICFzY3JvbGxQYXJlbnQubGVuZ3RoID8gJCggdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQgKSA6IHNjcm9sbFBhcmVudDtcblx0fSxcblxuXHR1bmlxdWVJZDogKGZ1bmN0aW9uKCkge1xuXHRcdHZhciB1dWlkID0gMDtcblxuXHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggIXRoaXMuaWQgKSB7XG5cdFx0XHRcdFx0dGhpcy5pZCA9IFwidWktaWQtXCIgKyAoICsrdXVpZCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9O1xuXHR9KSgpLFxuXG5cdHJlbW92ZVVuaXF1ZUlkOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCAvXnVpLWlkLVxcZCskLy50ZXN0KCB0aGlzLmlkICkgKSB7XG5cdFx0XHRcdCQoIHRoaXMgKS5yZW1vdmVBdHRyKCBcImlkXCIgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxufSk7XG5cbi8vIHNlbGVjdG9yc1xuZnVuY3Rpb24gZm9jdXNhYmxlKCBlbGVtZW50LCBpc1RhYkluZGV4Tm90TmFOICkge1xuXHR2YXIgbWFwLCBtYXBOYW1lLCBpbWcsXG5cdFx0bm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdGlmICggXCJhcmVhXCIgPT09IG5vZGVOYW1lICkge1xuXHRcdG1hcCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblx0XHRtYXBOYW1lID0gbWFwLm5hbWU7XG5cdFx0aWYgKCAhZWxlbWVudC5ocmVmIHx8ICFtYXBOYW1lIHx8IG1hcC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcIm1hcFwiICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRpbWcgPSAkKCBcImltZ1t1c2VtYXA9JyNcIiArIG1hcE5hbWUgKyBcIiddXCIgKVsgMCBdO1xuXHRcdHJldHVybiAhIWltZyAmJiB2aXNpYmxlKCBpbWcgKTtcblx0fVxuXHRyZXR1cm4gKCAvXihpbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkLy50ZXN0KCBub2RlTmFtZSApID9cblx0XHQhZWxlbWVudC5kaXNhYmxlZCA6XG5cdFx0XCJhXCIgPT09IG5vZGVOYW1lID9cblx0XHRcdGVsZW1lbnQuaHJlZiB8fCBpc1RhYkluZGV4Tm90TmFOIDpcblx0XHRcdGlzVGFiSW5kZXhOb3ROYU4pICYmXG5cdFx0Ly8gdGhlIGVsZW1lbnQgYW5kIGFsbCBvZiBpdHMgYW5jZXN0b3JzIG11c3QgYmUgdmlzaWJsZVxuXHRcdHZpc2libGUoIGVsZW1lbnQgKTtcbn1cblxuZnVuY3Rpb24gdmlzaWJsZSggZWxlbWVudCApIHtcblx0cmV0dXJuICQuZXhwci5maWx0ZXJzLnZpc2libGUoIGVsZW1lbnQgKSAmJlxuXHRcdCEkKCBlbGVtZW50ICkucGFyZW50cygpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gJC5jc3MoIHRoaXMsIFwidmlzaWJpbGl0eVwiICkgPT09IFwiaGlkZGVuXCI7XG5cdFx0fSkubGVuZ3RoO1xufVxuXG4kLmV4dGVuZCggJC5leHByWyBcIjpcIiBdLCB7XG5cdGRhdGE6ICQuZXhwci5jcmVhdGVQc2V1ZG8gP1xuXHRcdCQuZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24oIGRhdGFOYW1lICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gISEkLmRhdGEoIGVsZW0sIGRhdGFOYW1lICk7XG5cdFx0XHR9O1xuXHRcdH0pIDpcblx0XHQvLyBzdXBwb3J0OiBqUXVlcnkgPDEuOFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBpLCBtYXRjaCApIHtcblx0XHRcdHJldHVybiAhISQuZGF0YSggZWxlbSwgbWF0Y2hbIDMgXSApO1xuXHRcdH0sXG5cblx0Zm9jdXNhYmxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHRyZXR1cm4gZm9jdXNhYmxlKCBlbGVtZW50LCAhaXNOYU4oICQuYXR0ciggZWxlbWVudCwgXCJ0YWJpbmRleFwiICkgKSApO1xuXHR9LFxuXG5cdHRhYmJhYmxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR2YXIgdGFiSW5kZXggPSAkLmF0dHIoIGVsZW1lbnQsIFwidGFiaW5kZXhcIiApLFxuXHRcdFx0aXNUYWJJbmRleE5hTiA9IGlzTmFOKCB0YWJJbmRleCApO1xuXHRcdHJldHVybiAoIGlzVGFiSW5kZXhOYU4gfHwgdGFiSW5kZXggPj0gMCApICYmIGZvY3VzYWJsZSggZWxlbWVudCwgIWlzVGFiSW5kZXhOYU4gKTtcblx0fVxufSk7XG5cbi8vIHN1cHBvcnQ6IGpRdWVyeSA8MS44XG5pZiAoICEkKCBcIjxhPlwiICkub3V0ZXJXaWR0aCggMSApLmpxdWVyeSApIHtcblx0JC5lYWNoKCBbIFwiV2lkdGhcIiwgXCJIZWlnaHRcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0XHR2YXIgc2lkZSA9IG5hbWUgPT09IFwiV2lkdGhcIiA/IFsgXCJMZWZ0XCIsIFwiUmlnaHRcIiBdIDogWyBcIlRvcFwiLCBcIkJvdHRvbVwiIF0sXG5cdFx0XHR0eXBlID0gbmFtZS50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0b3JpZyA9IHtcblx0XHRcdFx0aW5uZXJXaWR0aDogJC5mbi5pbm5lcldpZHRoLFxuXHRcdFx0XHRpbm5lckhlaWdodDogJC5mbi5pbm5lckhlaWdodCxcblx0XHRcdFx0b3V0ZXJXaWR0aDogJC5mbi5vdXRlcldpZHRoLFxuXHRcdFx0XHRvdXRlckhlaWdodDogJC5mbi5vdXRlckhlaWdodFxuXHRcdFx0fTtcblxuXHRcdGZ1bmN0aW9uIHJlZHVjZSggZWxlbSwgc2l6ZSwgYm9yZGVyLCBtYXJnaW4gKSB7XG5cdFx0XHQkLmVhY2goIHNpZGUsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzaXplIC09IHBhcnNlRmxvYXQoICQuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIHRoaXMgKSApIHx8IDA7XG5cdFx0XHRcdGlmICggYm9yZGVyICkge1xuXHRcdFx0XHRcdHNpemUgLT0gcGFyc2VGbG9hdCggJC5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyB0aGlzICsgXCJXaWR0aFwiICkgKSB8fCAwO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggbWFyZ2luICkge1xuXHRcdFx0XHRcdHNpemUgLT0gcGFyc2VGbG9hdCggJC5jc3MoIGVsZW0sIFwibWFyZ2luXCIgKyB0aGlzICkgKSB8fCAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBzaXplO1xuXHRcdH1cblxuXHRcdCQuZm5bIFwiaW5uZXJcIiArIG5hbWUgXSA9IGZ1bmN0aW9uKCBzaXplICkge1xuXHRcdFx0aWYgKCBzaXplID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiBvcmlnWyBcImlubmVyXCIgKyBuYW1lIF0uY2FsbCggdGhpcyApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKCB0aGlzICkuY3NzKCB0eXBlLCByZWR1Y2UoIHRoaXMsIHNpemUgKSArIFwicHhcIiApO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdCQuZm5bIFwib3V0ZXJcIiArIG5hbWVdID0gZnVuY3Rpb24oIHNpemUsIG1hcmdpbiApIHtcblx0XHRcdGlmICggdHlwZW9mIHNpemUgIT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHJldHVybiBvcmlnWyBcIm91dGVyXCIgKyBuYW1lIF0uY2FsbCggdGhpcywgc2l6ZSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKCB0aGlzKS5jc3MoIHR5cGUsIHJlZHVjZSggdGhpcywgc2l6ZSwgdHJ1ZSwgbWFyZ2luICkgKyBcInB4XCIgKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cdH0pO1xufVxuXG4vLyBzdXBwb3J0OiBqUXVlcnkgPDEuOFxuaWYgKCAhJC5mbi5hZGRCYWNrICkge1xuXHQkLmZuLmFkZEJhY2sgPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWRkKCBzZWxlY3RvciA9PSBudWxsID9cblx0XHRcdHRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoIHNlbGVjdG9yIClcblx0XHQpO1xuXHR9O1xufVxuXG4vLyBzdXBwb3J0OiBqUXVlcnkgMS42LjEsIDEuNi4yIChodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC85NDEzKVxuaWYgKCAkKCBcIjxhPlwiICkuZGF0YSggXCJhLWJcIiwgXCJhXCIgKS5yZW1vdmVEYXRhKCBcImEtYlwiICkuZGF0YSggXCJhLWJcIiApICkge1xuXHQkLmZuLnJlbW92ZURhdGEgPSAoZnVuY3Rpb24oIHJlbW92ZURhdGEgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiByZW1vdmVEYXRhLmNhbGwoIHRoaXMsICQuY2FtZWxDYXNlKCBrZXkgKSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHJlbW92ZURhdGEuY2FsbCggdGhpcyApO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0pKCAkLmZuLnJlbW92ZURhdGEgKTtcbn1cblxuLy8gZGVwcmVjYXRlZFxuJC51aS5pZSA9ICEhL21zaWUgW1xcdy5dKy8uZXhlYyggbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpICk7XG5cbiQuZm4uZXh0ZW5kKHtcblx0Zm9jdXM6IChmdW5jdGlvbiggb3JpZyApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGRlbGF5LCBmbiApIHtcblx0XHRcdHJldHVybiB0eXBlb2YgZGVsYXkgPT09IFwibnVtYmVyXCIgP1xuXHRcdFx0XHR0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGVsZW0gPSB0aGlzO1xuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHQkKCBlbGVtICkuZm9jdXMoKTtcblx0XHRcdFx0XHRcdGlmICggZm4gKSB7XG5cdFx0XHRcdFx0XHRcdGZuLmNhbGwoIGVsZW0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBkZWxheSApO1xuXHRcdFx0XHR9KSA6XG5cdFx0XHRcdG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH07XG5cdH0pKCAkLmZuLmZvY3VzICksXG5cblx0ZGlzYWJsZVNlbGVjdGlvbjogKGZ1bmN0aW9uKCkge1xuXHRcdHZhciBldmVudFR5cGUgPSBcIm9uc2VsZWN0c3RhcnRcIiBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgP1xuXHRcdFx0XCJzZWxlY3RzdGFydFwiIDpcblx0XHRcdFwibW91c2Vkb3duXCI7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5iaW5kKCBldmVudFR5cGUgKyBcIi51aS1kaXNhYmxlU2VsZWN0aW9uXCIsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cdH0pKCksXG5cblx0ZW5hYmxlU2VsZWN0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy51bmJpbmQoIFwiLnVpLWRpc2FibGVTZWxlY3Rpb25cIiApO1xuXHR9LFxuXG5cdHpJbmRleDogZnVuY3Rpb24oIHpJbmRleCApIHtcblx0XHRpZiAoIHpJbmRleCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3NzKCBcInpJbmRleFwiLCB6SW5kZXggKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMubGVuZ3RoICkge1xuXHRcdFx0dmFyIGVsZW0gPSAkKCB0aGlzWyAwIF0gKSwgcG9zaXRpb24sIHZhbHVlO1xuXHRcdFx0d2hpbGUgKCBlbGVtLmxlbmd0aCAmJiBlbGVtWyAwIF0gIT09IGRvY3VtZW50ICkge1xuXHRcdFx0XHQvLyBJZ25vcmUgei1pbmRleCBpZiBwb3NpdGlvbiBpcyBzZXQgdG8gYSB2YWx1ZSB3aGVyZSB6LWluZGV4IGlzIGlnbm9yZWQgYnkgdGhlIGJyb3dzZXJcblx0XHRcdFx0Ly8gVGhpcyBtYWtlcyBiZWhhdmlvciBvZiB0aGlzIGZ1bmN0aW9uIGNvbnNpc3RlbnQgYWNyb3NzIGJyb3dzZXJzXG5cdFx0XHRcdC8vIFdlYktpdCBhbHdheXMgcmV0dXJucyBhdXRvIGlmIHRoZSBlbGVtZW50IGlzIHBvc2l0aW9uZWRcblx0XHRcdFx0cG9zaXRpb24gPSBlbGVtLmNzcyggXCJwb3NpdGlvblwiICk7XG5cdFx0XHRcdGlmICggcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJyZWxhdGl2ZVwiIHx8IHBvc2l0aW9uID09PSBcImZpeGVkXCIgKSB7XG5cdFx0XHRcdFx0Ly8gSUUgcmV0dXJucyAwIHdoZW4gekluZGV4IGlzIG5vdCBzcGVjaWZpZWRcblx0XHRcdFx0XHQvLyBvdGhlciBicm93c2VycyByZXR1cm4gYSBzdHJpbmdcblx0XHRcdFx0XHQvLyB3ZSBpZ25vcmUgdGhlIGNhc2Ugb2YgbmVzdGVkIGVsZW1lbnRzIHdpdGggYW4gZXhwbGljaXQgdmFsdWUgb2YgMFxuXHRcdFx0XHRcdC8vIDxkaXYgc3R5bGU9XCJ6LWluZGV4OiAtMTA7XCI+PGRpdiBzdHlsZT1cInotaW5kZXg6IDA7XCI+PC9kaXY+PC9kaXY+XG5cdFx0XHRcdFx0dmFsdWUgPSBwYXJzZUludCggZWxlbS5jc3MoIFwiekluZGV4XCIgKSwgMTAgKTtcblx0XHRcdFx0XHRpZiAoICFpc05hTiggdmFsdWUgKSAmJiB2YWx1ZSAhPT0gMCApIHtcblx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxlbSA9IGVsZW0ucGFyZW50KCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIDA7XG5cdH1cbn0pO1xuXG4vLyAkLnVpLnBsdWdpbiBpcyBkZXByZWNhdGVkLiBVc2UgJC53aWRnZXQoKSBleHRlbnNpb25zIGluc3RlYWQuXG4kLnVpLnBsdWdpbiA9IHtcblx0YWRkOiBmdW5jdGlvbiggbW9kdWxlLCBvcHRpb24sIHNldCApIHtcblx0XHR2YXIgaSxcblx0XHRcdHByb3RvID0gJC51aVsgbW9kdWxlIF0ucHJvdG90eXBlO1xuXHRcdGZvciAoIGkgaW4gc2V0ICkge1xuXHRcdFx0cHJvdG8ucGx1Z2luc1sgaSBdID0gcHJvdG8ucGx1Z2luc1sgaSBdIHx8IFtdO1xuXHRcdFx0cHJvdG8ucGx1Z2luc1sgaSBdLnB1c2goIFsgb3B0aW9uLCBzZXRbIGkgXSBdICk7XG5cdFx0fVxuXHR9LFxuXHRjYWxsOiBmdW5jdGlvbiggaW5zdGFuY2UsIG5hbWUsIGFyZ3MsIGFsbG93RGlzY29ubmVjdGVkICkge1xuXHRcdHZhciBpLFxuXHRcdFx0c2V0ID0gaW5zdGFuY2UucGx1Z2luc1sgbmFtZSBdO1xuXG5cdFx0aWYgKCAhc2V0ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggIWFsbG93RGlzY29ubmVjdGVkICYmICggIWluc3RhbmNlLmVsZW1lbnRbIDAgXS5wYXJlbnROb2RlIHx8IGluc3RhbmNlLmVsZW1lbnRbIDAgXS5wYXJlbnROb2RlLm5vZGVUeXBlID09PSAxMSApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGZvciAoIGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrICkge1xuXHRcdFx0aWYgKCBpbnN0YW5jZS5vcHRpb25zWyBzZXRbIGkgXVsgMCBdIF0gKSB7XG5cdFx0XHRcdHNldFsgaSBdWyAxIF0uYXBwbHkoIGluc3RhbmNlLmVsZW1lbnQsIGFyZ3MgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgV2lkZ2V0IDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20valF1ZXJ5LndpZGdldC9cbiAqL1xuXG5cbnZhciB3aWRnZXRfdXVpZCA9IDAsXG5cdHdpZGdldF9zbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuJC5jbGVhbkRhdGEgPSAoZnVuY3Rpb24oIG9yaWcgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cdFx0dmFyIGV2ZW50cywgZWxlbSwgaTtcblx0XHRmb3IgKCBpID0gMDsgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0dHJ5IHtcblxuXHRcdFx0XHQvLyBPbmx5IHRyaWdnZXIgcmVtb3ZlIHdoZW4gbmVjZXNzYXJ5IHRvIHNhdmUgdGltZVxuXHRcdFx0XHRldmVudHMgPSAkLl9kYXRhKCBlbGVtLCBcImV2ZW50c1wiICk7XG5cdFx0XHRcdGlmICggZXZlbnRzICYmIGV2ZW50cy5yZW1vdmUgKSB7XG5cdFx0XHRcdFx0JCggZWxlbSApLnRyaWdnZXJIYW5kbGVyKCBcInJlbW92ZVwiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvODIzNVxuXHRcdFx0fSBjYXRjaCAoIGUgKSB7fVxuXHRcdH1cblx0XHRvcmlnKCBlbGVtcyApO1xuXHR9O1xufSkoICQuY2xlYW5EYXRhICk7XG5cbiQud2lkZ2V0ID0gZnVuY3Rpb24oIG5hbWUsIGJhc2UsIHByb3RvdHlwZSApIHtcblx0dmFyIGZ1bGxOYW1lLCBleGlzdGluZ0NvbnN0cnVjdG9yLCBjb25zdHJ1Y3RvciwgYmFzZVByb3RvdHlwZSxcblx0XHQvLyBwcm94aWVkUHJvdG90eXBlIGFsbG93cyB0aGUgcHJvdmlkZWQgcHJvdG90eXBlIHRvIHJlbWFpbiB1bm1vZGlmaWVkXG5cdFx0Ly8gc28gdGhhdCBpdCBjYW4gYmUgdXNlZCBhcyBhIG1peGluIGZvciBtdWx0aXBsZSB3aWRnZXRzICgjODg3Nilcblx0XHRwcm94aWVkUHJvdG90eXBlID0ge30sXG5cdFx0bmFtZXNwYWNlID0gbmFtZS5zcGxpdCggXCIuXCIgKVsgMCBdO1xuXG5cdG5hbWUgPSBuYW1lLnNwbGl0KCBcIi5cIiApWyAxIF07XG5cdGZ1bGxOYW1lID0gbmFtZXNwYWNlICsgXCItXCIgKyBuYW1lO1xuXG5cdGlmICggIXByb3RvdHlwZSApIHtcblx0XHRwcm90b3R5cGUgPSBiYXNlO1xuXHRcdGJhc2UgPSAkLldpZGdldDtcblx0fVxuXG5cdC8vIGNyZWF0ZSBzZWxlY3RvciBmb3IgcGx1Z2luXG5cdCQuZXhwclsgXCI6XCIgXVsgZnVsbE5hbWUudG9Mb3dlckNhc2UoKSBdID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuICEhJC5kYXRhKCBlbGVtLCBmdWxsTmFtZSApO1xuXHR9O1xuXG5cdCRbIG5hbWVzcGFjZSBdID0gJFsgbmFtZXNwYWNlIF0gfHwge307XG5cdGV4aXN0aW5nQ29uc3RydWN0b3IgPSAkWyBuYW1lc3BhY2UgXVsgbmFtZSBdO1xuXHRjb25zdHJ1Y3RvciA9ICRbIG5hbWVzcGFjZSBdWyBuYW1lIF0gPSBmdW5jdGlvbiggb3B0aW9ucywgZWxlbWVudCApIHtcblx0XHQvLyBhbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgXCJuZXdcIiBrZXl3b3JkXG5cdFx0aWYgKCAhdGhpcy5fY3JlYXRlV2lkZ2V0ICkge1xuXHRcdFx0cmV0dXJuIG5ldyBjb25zdHJ1Y3Rvciggb3B0aW9ucywgZWxlbWVudCApO1xuXHRcdH1cblxuXHRcdC8vIGFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCBpbml0aWFsaXppbmcgZm9yIHNpbXBsZSBpbmhlcml0YW5jZVxuXHRcdC8vIG11c3QgdXNlIFwibmV3XCIga2V5d29yZCAodGhlIGNvZGUgYWJvdmUgYWx3YXlzIHBhc3NlcyBhcmdzKVxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHRoaXMuX2NyZWF0ZVdpZGdldCggb3B0aW9ucywgZWxlbWVudCApO1xuXHRcdH1cblx0fTtcblx0Ly8gZXh0ZW5kIHdpdGggdGhlIGV4aXN0aW5nIGNvbnN0cnVjdG9yIHRvIGNhcnJ5IG92ZXIgYW55IHN0YXRpYyBwcm9wZXJ0aWVzXG5cdCQuZXh0ZW5kKCBjb25zdHJ1Y3RvciwgZXhpc3RpbmdDb25zdHJ1Y3Rvciwge1xuXHRcdHZlcnNpb246IHByb3RvdHlwZS52ZXJzaW9uLFxuXHRcdC8vIGNvcHkgdGhlIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGUgcHJvdG90eXBlIGluIGNhc2Ugd2UgbmVlZCB0b1xuXHRcdC8vIHJlZGVmaW5lIHRoZSB3aWRnZXQgbGF0ZXJcblx0XHRfcHJvdG86ICQuZXh0ZW5kKCB7fSwgcHJvdG90eXBlICksXG5cdFx0Ly8gdHJhY2sgd2lkZ2V0cyB0aGF0IGluaGVyaXQgZnJvbSB0aGlzIHdpZGdldCBpbiBjYXNlIHRoaXMgd2lkZ2V0IGlzXG5cdFx0Ly8gcmVkZWZpbmVkIGFmdGVyIGEgd2lkZ2V0IGluaGVyaXRzIGZyb20gaXRcblx0XHRfY2hpbGRDb25zdHJ1Y3RvcnM6IFtdXG5cdH0pO1xuXG5cdGJhc2VQcm90b3R5cGUgPSBuZXcgYmFzZSgpO1xuXHQvLyB3ZSBuZWVkIHRvIG1ha2UgdGhlIG9wdGlvbnMgaGFzaCBhIHByb3BlcnR5IGRpcmVjdGx5IG9uIHRoZSBuZXcgaW5zdGFuY2Vcblx0Ly8gb3RoZXJ3aXNlIHdlJ2xsIG1vZGlmeSB0aGUgb3B0aW9ucyBoYXNoIG9uIHRoZSBwcm90b3R5cGUgdGhhdCB3ZSdyZVxuXHQvLyBpbmhlcml0aW5nIGZyb21cblx0YmFzZVByb3RvdHlwZS5vcHRpb25zID0gJC53aWRnZXQuZXh0ZW5kKCB7fSwgYmFzZVByb3RvdHlwZS5vcHRpb25zICk7XG5cdCQuZWFjaCggcHJvdG90eXBlLCBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0aWYgKCAhJC5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cHJveGllZFByb3RvdHlwZVsgcHJvcCBdID0gdmFsdWU7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHByb3hpZWRQcm90b3R5cGVbIHByb3AgXSA9IChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBfc3VwZXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gYmFzZS5wcm90b3R5cGVbIHByb3AgXS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdF9zdXBlckFwcGx5ID0gZnVuY3Rpb24oIGFyZ3MgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGJhc2UucHJvdG90eXBlWyBwcm9wIF0uYXBwbHkoIHRoaXMsIGFyZ3MgKTtcblx0XHRcdFx0fTtcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIF9fc3VwZXIgPSB0aGlzLl9zdXBlcixcblx0XHRcdFx0XHRfX3N1cGVyQXBwbHkgPSB0aGlzLl9zdXBlckFwcGx5LFxuXHRcdFx0XHRcdHJldHVyblZhbHVlO1xuXG5cdFx0XHRcdHRoaXMuX3N1cGVyID0gX3N1cGVyO1xuXHRcdFx0XHR0aGlzLl9zdXBlckFwcGx5ID0gX3N1cGVyQXBwbHk7XG5cblx0XHRcdFx0cmV0dXJuVmFsdWUgPSB2YWx1ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdFx0dGhpcy5fc3VwZXIgPSBfX3N1cGVyO1xuXHRcdFx0XHR0aGlzLl9zdXBlckFwcGx5ID0gX19zdXBlckFwcGx5O1xuXG5cdFx0XHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0XHRcdH07XG5cdFx0fSkoKTtcblx0fSk7XG5cdGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9ICQud2lkZ2V0LmV4dGVuZCggYmFzZVByb3RvdHlwZSwge1xuXHRcdC8vIFRPRE86IHJlbW92ZSBzdXBwb3J0IGZvciB3aWRnZXRFdmVudFByZWZpeFxuXHRcdC8vIGFsd2F5cyB1c2UgdGhlIG5hbWUgKyBhIGNvbG9uIGFzIHRoZSBwcmVmaXgsIGUuZy4sIGRyYWdnYWJsZTpzdGFydFxuXHRcdC8vIGRvbid0IHByZWZpeCBmb3Igd2lkZ2V0cyB0aGF0IGFyZW4ndCBET00tYmFzZWRcblx0XHR3aWRnZXRFdmVudFByZWZpeDogZXhpc3RpbmdDb25zdHJ1Y3RvciA/IChiYXNlUHJvdG90eXBlLndpZGdldEV2ZW50UHJlZml4IHx8IG5hbWUpIDogbmFtZVxuXHR9LCBwcm94aWVkUHJvdG90eXBlLCB7XG5cdFx0Y29uc3RydWN0b3I6IGNvbnN0cnVjdG9yLFxuXHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlLFxuXHRcdHdpZGdldE5hbWU6IG5hbWUsXG5cdFx0d2lkZ2V0RnVsbE5hbWU6IGZ1bGxOYW1lXG5cdH0pO1xuXG5cdC8vIElmIHRoaXMgd2lkZ2V0IGlzIGJlaW5nIHJlZGVmaW5lZCB0aGVuIHdlIG5lZWQgdG8gZmluZCBhbGwgd2lkZ2V0cyB0aGF0XG5cdC8vIGFyZSBpbmhlcml0aW5nIGZyb20gaXQgYW5kIHJlZGVmaW5lIGFsbCBvZiB0aGVtIHNvIHRoYXQgdGhleSBpbmhlcml0IGZyb21cblx0Ly8gdGhlIG5ldyB2ZXJzaW9uIG9mIHRoaXMgd2lkZ2V0LiBXZSdyZSBlc3NlbnRpYWxseSB0cnlpbmcgdG8gcmVwbGFjZSBvbmVcblx0Ly8gbGV2ZWwgaW4gdGhlIHByb3RvdHlwZSBjaGFpbi5cblx0aWYgKCBleGlzdGluZ0NvbnN0cnVjdG9yICkge1xuXHRcdCQuZWFjaCggZXhpc3RpbmdDb25zdHJ1Y3Rvci5fY2hpbGRDb25zdHJ1Y3RvcnMsIGZ1bmN0aW9uKCBpLCBjaGlsZCApIHtcblx0XHRcdHZhciBjaGlsZFByb3RvdHlwZSA9IGNoaWxkLnByb3RvdHlwZTtcblxuXHRcdFx0Ly8gcmVkZWZpbmUgdGhlIGNoaWxkIHdpZGdldCB1c2luZyB0aGUgc2FtZSBwcm90b3R5cGUgdGhhdCB3YXNcblx0XHRcdC8vIG9yaWdpbmFsbHkgdXNlZCwgYnV0IGluaGVyaXQgZnJvbSB0aGUgbmV3IHZlcnNpb24gb2YgdGhlIGJhc2Vcblx0XHRcdCQud2lkZ2V0KCBjaGlsZFByb3RvdHlwZS5uYW1lc3BhY2UgKyBcIi5cIiArIGNoaWxkUHJvdG90eXBlLndpZGdldE5hbWUsIGNvbnN0cnVjdG9yLCBjaGlsZC5fcHJvdG8gKTtcblx0XHR9KTtcblx0XHQvLyByZW1vdmUgdGhlIGxpc3Qgb2YgZXhpc3RpbmcgY2hpbGQgY29uc3RydWN0b3JzIGZyb20gdGhlIG9sZCBjb25zdHJ1Y3RvclxuXHRcdC8vIHNvIHRoZSBvbGQgY2hpbGQgY29uc3RydWN0b3JzIGNhbiBiZSBnYXJiYWdlIGNvbGxlY3RlZFxuXHRcdGRlbGV0ZSBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9ycztcblx0fSBlbHNlIHtcblx0XHRiYXNlLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKCBjb25zdHJ1Y3RvciApO1xuXHR9XG5cblx0JC53aWRnZXQuYnJpZGdlKCBuYW1lLCBjb25zdHJ1Y3RvciApO1xuXG5cdHJldHVybiBjb25zdHJ1Y3Rvcjtcbn07XG5cbiQud2lkZ2V0LmV4dGVuZCA9IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdHZhciBpbnB1dCA9IHdpZGdldF9zbGljZS5jYWxsKCBhcmd1bWVudHMsIDEgKSxcblx0XHRpbnB1dEluZGV4ID0gMCxcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHRrZXksXG5cdFx0dmFsdWU7XG5cdGZvciAoIDsgaW5wdXRJbmRleCA8IGlucHV0TGVuZ3RoOyBpbnB1dEluZGV4KysgKSB7XG5cdFx0Zm9yICgga2V5IGluIGlucHV0WyBpbnB1dEluZGV4IF0gKSB7XG5cdFx0XHR2YWx1ZSA9IGlucHV0WyBpbnB1dEluZGV4IF1bIGtleSBdO1xuXHRcdFx0aWYgKCBpbnB1dFsgaW5wdXRJbmRleCBdLmhhc093blByb3BlcnR5KCBrZXkgKSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHQvLyBDbG9uZSBvYmplY3RzXG5cdFx0XHRcdGlmICggJC5pc1BsYWluT2JqZWN0KCB2YWx1ZSApICkge1xuXHRcdFx0XHRcdHRhcmdldFsga2V5IF0gPSAkLmlzUGxhaW5PYmplY3QoIHRhcmdldFsga2V5IF0gKSA/XG5cdFx0XHRcdFx0XHQkLndpZGdldC5leHRlbmQoIHt9LCB0YXJnZXRbIGtleSBdLCB2YWx1ZSApIDpcblx0XHRcdFx0XHRcdC8vIERvbid0IGV4dGVuZCBzdHJpbmdzLCBhcnJheXMsIGV0Yy4gd2l0aCBvYmplY3RzXG5cdFx0XHRcdFx0XHQkLndpZGdldC5leHRlbmQoIHt9LCB2YWx1ZSApO1xuXHRcdFx0XHQvLyBDb3B5IGV2ZXJ5dGhpbmcgZWxzZSBieSByZWZlcmVuY2Vcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0YXJnZXRbIGtleSBdID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbiQud2lkZ2V0LmJyaWRnZSA9IGZ1bmN0aW9uKCBuYW1lLCBvYmplY3QgKSB7XG5cdHZhciBmdWxsTmFtZSA9IG9iamVjdC5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWUgfHwgbmFtZTtcblx0JC5mblsgbmFtZSBdID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIGlzTWV0aG9kQ2FsbCA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiLFxuXHRcdFx0YXJncyA9IHdpZGdldF9zbGljZS5jYWxsKCBhcmd1bWVudHMsIDEgKSxcblx0XHRcdHJldHVyblZhbHVlID0gdGhpcztcblxuXHRcdGlmICggaXNNZXRob2RDYWxsICkge1xuXHRcdFx0dGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbWV0aG9kVmFsdWUsXG5cdFx0XHRcdFx0aW5zdGFuY2UgPSAkLmRhdGEoIHRoaXMsIGZ1bGxOYW1lICk7XG5cdFx0XHRcdGlmICggb3B0aW9ucyA9PT0gXCJpbnN0YW5jZVwiICkge1xuXHRcdFx0XHRcdHJldHVyblZhbHVlID0gaW5zdGFuY2U7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggIWluc3RhbmNlICkge1xuXHRcdFx0XHRcdHJldHVybiAkLmVycm9yKCBcImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gXCIgKyBuYW1lICsgXCIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IFwiICtcblx0XHRcdFx0XHRcdFwiYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICdcIiArIG9wdGlvbnMgKyBcIidcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggISQuaXNGdW5jdGlvbiggaW5zdGFuY2Vbb3B0aW9uc10gKSB8fCBvcHRpb25zLmNoYXJBdCggMCApID09PSBcIl9cIiApIHtcblx0XHRcdFx0XHRyZXR1cm4gJC5lcnJvciggXCJubyBzdWNoIG1ldGhvZCAnXCIgKyBvcHRpb25zICsgXCInIGZvciBcIiArIG5hbWUgKyBcIiB3aWRnZXQgaW5zdGFuY2VcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG1ldGhvZFZhbHVlID0gaW5zdGFuY2VbIG9wdGlvbnMgXS5hcHBseSggaW5zdGFuY2UsIGFyZ3MgKTtcblx0XHRcdFx0aWYgKCBtZXRob2RWYWx1ZSAhPT0gaW5zdGFuY2UgJiYgbWV0aG9kVmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm5WYWx1ZSA9IG1ldGhvZFZhbHVlICYmIG1ldGhvZFZhbHVlLmpxdWVyeSA/XG5cdFx0XHRcdFx0XHRyZXR1cm5WYWx1ZS5wdXNoU3RhY2soIG1ldGhvZFZhbHVlLmdldCgpICkgOlxuXHRcdFx0XHRcdFx0bWV0aG9kVmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBBbGxvdyBtdWx0aXBsZSBoYXNoZXMgdG8gYmUgcGFzc2VkIG9uIGluaXRcblx0XHRcdGlmICggYXJncy5sZW5ndGggKSB7XG5cdFx0XHRcdG9wdGlvbnMgPSAkLndpZGdldC5leHRlbmQuYXBwbHkoIG51bGwsIFsgb3B0aW9ucyBdLmNvbmNhdChhcmdzKSApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBpbnN0YW5jZSA9ICQuZGF0YSggdGhpcywgZnVsbE5hbWUgKTtcblx0XHRcdFx0aWYgKCBpbnN0YW5jZSApIHtcblx0XHRcdFx0XHRpbnN0YW5jZS5vcHRpb24oIG9wdGlvbnMgfHwge30gKTtcblx0XHRcdFx0XHRpZiAoIGluc3RhbmNlLl9pbml0ICkge1xuXHRcdFx0XHRcdFx0aW5zdGFuY2UuX2luaXQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JC5kYXRhKCB0aGlzLCBmdWxsTmFtZSwgbmV3IG9iamVjdCggb3B0aW9ucywgdGhpcyApICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0fTtcbn07XG5cbiQuV2lkZ2V0ID0gZnVuY3Rpb24oIC8qIG9wdGlvbnMsIGVsZW1lbnQgKi8gKSB7fTtcbiQuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycyA9IFtdO1xuXG4kLldpZGdldC5wcm90b3R5cGUgPSB7XG5cdHdpZGdldE5hbWU6IFwid2lkZ2V0XCIsXG5cdHdpZGdldEV2ZW50UHJlZml4OiBcIlwiLFxuXHRkZWZhdWx0RWxlbWVudDogXCI8ZGl2PlwiLFxuXHRvcHRpb25zOiB7XG5cdFx0ZGlzYWJsZWQ6IGZhbHNlLFxuXG5cdFx0Ly8gY2FsbGJhY2tzXG5cdFx0Y3JlYXRlOiBudWxsXG5cdH0sXG5cdF9jcmVhdGVXaWRnZXQ6IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkge1xuXHRcdGVsZW1lbnQgPSAkKCBlbGVtZW50IHx8IHRoaXMuZGVmYXVsdEVsZW1lbnQgfHwgdGhpcyApWyAwIF07XG5cdFx0dGhpcy5lbGVtZW50ID0gJCggZWxlbWVudCApO1xuXHRcdHRoaXMudXVpZCA9IHdpZGdldF91dWlkKys7XG5cdFx0dGhpcy5ldmVudE5hbWVzcGFjZSA9IFwiLlwiICsgdGhpcy53aWRnZXROYW1lICsgdGhpcy51dWlkO1xuXG5cdFx0dGhpcy5iaW5kaW5ncyA9ICQoKTtcblx0XHR0aGlzLmhvdmVyYWJsZSA9ICQoKTtcblx0XHR0aGlzLmZvY3VzYWJsZSA9ICQoKTtcblxuXHRcdGlmICggZWxlbWVudCAhPT0gdGhpcyApIHtcblx0XHRcdCQuZGF0YSggZWxlbWVudCwgdGhpcy53aWRnZXRGdWxsTmFtZSwgdGhpcyApO1xuXHRcdFx0dGhpcy5fb24oIHRydWUsIHRoaXMuZWxlbWVudCwge1xuXHRcdFx0XHRyZW1vdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRpZiAoIGV2ZW50LnRhcmdldCA9PT0gZWxlbWVudCApIHtcblx0XHRcdFx0XHRcdHRoaXMuZGVzdHJveSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLmRvY3VtZW50ID0gJCggZWxlbWVudC5zdHlsZSA/XG5cdFx0XHRcdC8vIGVsZW1lbnQgd2l0aGluIHRoZSBkb2N1bWVudFxuXHRcdFx0XHRlbGVtZW50Lm93bmVyRG9jdW1lbnQgOlxuXHRcdFx0XHQvLyBlbGVtZW50IGlzIHdpbmRvdyBvciBkb2N1bWVudFxuXHRcdFx0XHRlbGVtZW50LmRvY3VtZW50IHx8IGVsZW1lbnQgKTtcblx0XHRcdHRoaXMud2luZG93ID0gJCggdGhpcy5kb2N1bWVudFswXS5kZWZhdWx0VmlldyB8fCB0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdyApO1xuXHRcdH1cblxuXHRcdHRoaXMub3B0aW9ucyA9ICQud2lkZ2V0LmV4dGVuZCgge30sXG5cdFx0XHR0aGlzLm9wdGlvbnMsXG5cdFx0XHR0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksXG5cdFx0XHRvcHRpb25zICk7XG5cblx0XHR0aGlzLl9jcmVhdGUoKTtcblx0XHR0aGlzLl90cmlnZ2VyKCBcImNyZWF0ZVwiLCBudWxsLCB0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSApO1xuXHRcdHRoaXMuX2luaXQoKTtcblx0fSxcblx0X2dldENyZWF0ZU9wdGlvbnM6ICQubm9vcCxcblx0X2dldENyZWF0ZUV2ZW50RGF0YTogJC5ub29wLFxuXHRfY3JlYXRlOiAkLm5vb3AsXG5cdF9pbml0OiAkLm5vb3AsXG5cblx0ZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fZGVzdHJveSgpO1xuXHRcdC8vIHdlIGNhbiBwcm9iYWJseSByZW1vdmUgdGhlIHVuYmluZCBjYWxscyBpbiAyLjBcblx0XHQvLyBhbGwgZXZlbnQgYmluZGluZ3Mgc2hvdWxkIGdvIHRocm91Z2ggdGhpcy5fb24oKVxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnVuYmluZCggdGhpcy5ldmVudE5hbWVzcGFjZSApXG5cdFx0XHQucmVtb3ZlRGF0YSggdGhpcy53aWRnZXRGdWxsTmFtZSApXG5cdFx0XHQvLyBzdXBwb3J0OiBqcXVlcnkgPDEuNi4zXG5cdFx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC85NDEzXG5cdFx0XHQucmVtb3ZlRGF0YSggJC5jYW1lbENhc2UoIHRoaXMud2lkZ2V0RnVsbE5hbWUgKSApO1xuXHRcdHRoaXMud2lkZ2V0KClcblx0XHRcdC51bmJpbmQoIHRoaXMuZXZlbnROYW1lc3BhY2UgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1kaXNhYmxlZFwiIClcblx0XHRcdC5yZW1vdmVDbGFzcyhcblx0XHRcdFx0dGhpcy53aWRnZXRGdWxsTmFtZSArIFwiLWRpc2FibGVkIFwiICtcblx0XHRcdFx0XCJ1aS1zdGF0ZS1kaXNhYmxlZFwiICk7XG5cblx0XHQvLyBjbGVhbiB1cCBldmVudHMgYW5kIHN0YXRlc1xuXHRcdHRoaXMuYmluZGluZ3MudW5iaW5kKCB0aGlzLmV2ZW50TmFtZXNwYWNlICk7XG5cdFx0dGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtaG92ZXJcIiApO1xuXHRcdHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcblx0fSxcblx0X2Rlc3Ryb3k6ICQubm9vcCxcblxuXHR3aWRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVsZW1lbnQ7XG5cdH0sXG5cblx0b3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgb3B0aW9ucyA9IGtleSxcblx0XHRcdHBhcnRzLFxuXHRcdFx0Y3VyT3B0aW9uLFxuXHRcdFx0aTtcblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA9PT0gMCApIHtcblx0XHRcdC8vIGRvbid0IHJldHVybiBhIHJlZmVyZW5jZSB0byB0aGUgaW50ZXJuYWwgaGFzaFxuXHRcdFx0cmV0dXJuICQud2lkZ2V0LmV4dGVuZCgge30sIHRoaXMub3B0aW9ucyApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdC8vIGhhbmRsZSBuZXN0ZWQga2V5cywgZS5nLiwgXCJmb28uYmFyXCIgPT4geyBmb286IHsgYmFyOiBfX18gfSB9XG5cdFx0XHRvcHRpb25zID0ge307XG5cdFx0XHRwYXJ0cyA9IGtleS5zcGxpdCggXCIuXCIgKTtcblx0XHRcdGtleSA9IHBhcnRzLnNoaWZ0KCk7XG5cdFx0XHRpZiAoIHBhcnRzLmxlbmd0aCApIHtcblx0XHRcdFx0Y3VyT3B0aW9uID0gb3B0aW9uc1sga2V5IF0gPSAkLndpZGdldC5leHRlbmQoIHt9LCB0aGlzLm9wdGlvbnNbIGtleSBdICk7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrICkge1xuXHRcdFx0XHRcdGN1ck9wdGlvblsgcGFydHNbIGkgXSBdID0gY3VyT3B0aW9uWyBwYXJ0c1sgaSBdIF0gfHwge307XG5cdFx0XHRcdFx0Y3VyT3B0aW9uID0gY3VyT3B0aW9uWyBwYXJ0c1sgaSBdIF07XG5cdFx0XHRcdH1cblx0XHRcdFx0a2V5ID0gcGFydHMucG9wKCk7XG5cdFx0XHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdFx0XHRyZXR1cm4gY3VyT3B0aW9uWyBrZXkgXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGN1ck9wdGlvblsga2V5IF07XG5cdFx0XHRcdH1cblx0XHRcdFx0Y3VyT3B0aW9uWyBrZXkgXSA9IHZhbHVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLm9wdGlvbnNbIGtleSBdID09PSB1bmRlZmluZWQgPyBudWxsIDogdGhpcy5vcHRpb25zWyBrZXkgXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRvcHRpb25zWyBrZXkgXSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuX3NldE9wdGlvbnMoIG9wdGlvbnMgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXHRfc2V0T3B0aW9uczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIGtleTtcblxuXHRcdGZvciAoIGtleSBpbiBvcHRpb25zICkge1xuXHRcdFx0dGhpcy5fc2V0T3B0aW9uKCBrZXksIG9wdGlvbnNbIGtleSBdICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHRoaXMub3B0aW9uc1sga2V5IF0gPSB2YWx1ZTtcblxuXHRcdGlmICgga2V5ID09PSBcImRpc2FibGVkXCIgKSB7XG5cdFx0XHR0aGlzLndpZGdldCgpXG5cdFx0XHRcdC50b2dnbGVDbGFzcyggdGhpcy53aWRnZXRGdWxsTmFtZSArIFwiLWRpc2FibGVkXCIsICEhdmFsdWUgKTtcblxuXHRcdFx0Ly8gSWYgdGhlIHdpZGdldCBpcyBiZWNvbWluZyBkaXNhYmxlZCwgdGhlbiBub3RoaW5nIGlzIGludGVyYWN0aXZlXG5cdFx0XHRpZiAoIHZhbHVlICkge1xuXHRcdFx0XHR0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1ob3ZlclwiICk7XG5cdFx0XHRcdHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRlbmFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9zZXRPcHRpb25zKHsgZGlzYWJsZWQ6IGZhbHNlIH0pO1xuXHR9LFxuXHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7IGRpc2FibGVkOiB0cnVlIH0pO1xuXHR9LFxuXG5cdF9vbjogZnVuY3Rpb24oIHN1cHByZXNzRGlzYWJsZWRDaGVjaywgZWxlbWVudCwgaGFuZGxlcnMgKSB7XG5cdFx0dmFyIGRlbGVnYXRlRWxlbWVudCxcblx0XHRcdGluc3RhbmNlID0gdGhpcztcblxuXHRcdC8vIG5vIHN1cHByZXNzRGlzYWJsZWRDaGVjayBmbGFnLCBzaHVmZmxlIGFyZ3VtZW50c1xuXHRcdGlmICggdHlwZW9mIHN1cHByZXNzRGlzYWJsZWRDaGVjayAhPT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRoYW5kbGVycyA9IGVsZW1lbnQ7XG5cdFx0XHRlbGVtZW50ID0gc3VwcHJlc3NEaXNhYmxlZENoZWNrO1xuXHRcdFx0c3VwcHJlc3NEaXNhYmxlZENoZWNrID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gbm8gZWxlbWVudCBhcmd1bWVudCwgc2h1ZmZsZSBhbmQgdXNlIHRoaXMuZWxlbWVudFxuXHRcdGlmICggIWhhbmRsZXJzICkge1xuXHRcdFx0aGFuZGxlcnMgPSBlbGVtZW50O1xuXHRcdFx0ZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcblx0XHRcdGRlbGVnYXRlRWxlbWVudCA9IHRoaXMud2lkZ2V0KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW1lbnQgPSBkZWxlZ2F0ZUVsZW1lbnQgPSAkKCBlbGVtZW50ICk7XG5cdFx0XHR0aGlzLmJpbmRpbmdzID0gdGhpcy5iaW5kaW5ncy5hZGQoIGVsZW1lbnQgKTtcblx0XHR9XG5cblx0XHQkLmVhY2goIGhhbmRsZXJzLCBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXIgKSB7XG5cdFx0XHRmdW5jdGlvbiBoYW5kbGVyUHJveHkoKSB7XG5cdFx0XHRcdC8vIGFsbG93IHdpZGdldHMgdG8gY3VzdG9taXplIHRoZSBkaXNhYmxlZCBoYW5kbGluZ1xuXHRcdFx0XHQvLyAtIGRpc2FibGVkIGFzIGFuIGFycmF5IGluc3RlYWQgb2YgYm9vbGVhblxuXHRcdFx0XHQvLyAtIGRpc2FibGVkIGNsYXNzIGFzIG1ldGhvZCBmb3IgZGlzYWJsaW5nIGluZGl2aWR1YWwgcGFydHNcblx0XHRcdFx0aWYgKCAhc3VwcHJlc3NEaXNhYmxlZENoZWNrICYmXG5cdFx0XHRcdFx0XHQoIGluc3RhbmNlLm9wdGlvbnMuZGlzYWJsZWQgPT09IHRydWUgfHxcblx0XHRcdFx0XHRcdFx0JCggdGhpcyApLmhhc0NsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIgKSApICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gKCB0eXBlb2YgaGFuZGxlciA9PT0gXCJzdHJpbmdcIiA/IGluc3RhbmNlWyBoYW5kbGVyIF0gOiBoYW5kbGVyIClcblx0XHRcdFx0XHQuYXBwbHkoIGluc3RhbmNlLCBhcmd1bWVudHMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gY29weSB0aGUgZ3VpZCBzbyBkaXJlY3QgdW5iaW5kaW5nIHdvcmtzXG5cdFx0XHRpZiAoIHR5cGVvZiBoYW5kbGVyICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRoYW5kbGVyUHJveHkuZ3VpZCA9IGhhbmRsZXIuZ3VpZCA9XG5cdFx0XHRcdFx0aGFuZGxlci5ndWlkIHx8IGhhbmRsZXJQcm94eS5ndWlkIHx8ICQuZ3VpZCsrO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgbWF0Y2ggPSBldmVudC5tYXRjaCggL14oW1xcdzotXSopXFxzKiguKikkLyApLFxuXHRcdFx0XHRldmVudE5hbWUgPSBtYXRjaFsxXSArIGluc3RhbmNlLmV2ZW50TmFtZXNwYWNlLFxuXHRcdFx0XHRzZWxlY3RvciA9IG1hdGNoWzJdO1xuXHRcdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdFx0ZGVsZWdhdGVFbGVtZW50LmRlbGVnYXRlKCBzZWxlY3RvciwgZXZlbnROYW1lLCBoYW5kbGVyUHJveHkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1lbnQuYmluZCggZXZlbnROYW1lLCBoYW5kbGVyUHJveHkgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRfb2ZmOiBmdW5jdGlvbiggZWxlbWVudCwgZXZlbnROYW1lICkge1xuXHRcdGV2ZW50TmFtZSA9IChldmVudE5hbWUgfHwgXCJcIikuc3BsaXQoIFwiIFwiICkuam9pbiggdGhpcy5ldmVudE5hbWVzcGFjZSArIFwiIFwiICkgK1xuXHRcdFx0dGhpcy5ldmVudE5hbWVzcGFjZTtcblx0XHRlbGVtZW50LnVuYmluZCggZXZlbnROYW1lICkudW5kZWxlZ2F0ZSggZXZlbnROYW1lICk7XG5cblx0XHQvLyBDbGVhciB0aGUgc3RhY2sgdG8gYXZvaWQgbWVtb3J5IGxlYWtzICgjMTAwNTYpXG5cdFx0dGhpcy5iaW5kaW5ncyA9ICQoIHRoaXMuYmluZGluZ3Mubm90KCBlbGVtZW50ICkuZ2V0KCkgKTtcblx0XHR0aGlzLmZvY3VzYWJsZSA9ICQoIHRoaXMuZm9jdXNhYmxlLm5vdCggZWxlbWVudCApLmdldCgpICk7XG5cdFx0dGhpcy5ob3ZlcmFibGUgPSAkKCB0aGlzLmhvdmVyYWJsZS5ub3QoIGVsZW1lbnQgKS5nZXQoKSApO1xuXHR9LFxuXG5cdF9kZWxheTogZnVuY3Rpb24oIGhhbmRsZXIsIGRlbGF5ICkge1xuXHRcdGZ1bmN0aW9uIGhhbmRsZXJQcm94eSgpIHtcblx0XHRcdHJldHVybiAoIHR5cGVvZiBoYW5kbGVyID09PSBcInN0cmluZ1wiID8gaW5zdGFuY2VbIGhhbmRsZXIgXSA6IGhhbmRsZXIgKVxuXHRcdFx0XHQuYXBwbHkoIGluc3RhbmNlLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdFx0dmFyIGluc3RhbmNlID0gdGhpcztcblx0XHRyZXR1cm4gc2V0VGltZW91dCggaGFuZGxlclByb3h5LCBkZWxheSB8fCAwICk7XG5cdH0sXG5cblx0X2hvdmVyYWJsZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dGhpcy5ob3ZlcmFibGUgPSB0aGlzLmhvdmVyYWJsZS5hZGQoIGVsZW1lbnQgKTtcblx0XHR0aGlzLl9vbiggZWxlbWVudCwge1xuXHRcdFx0bW91c2VlbnRlcjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHQkKCBldmVudC5jdXJyZW50VGFyZ2V0ICkuYWRkQ2xhc3MoIFwidWktc3RhdGUtaG92ZXJcIiApO1xuXHRcdFx0fSxcblx0XHRcdG1vdXNlbGVhdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0JCggZXZlbnQuY3VycmVudFRhcmdldCApLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWhvdmVyXCIgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRfZm9jdXNhYmxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR0aGlzLmZvY3VzYWJsZSA9IHRoaXMuZm9jdXNhYmxlLmFkZCggZWxlbWVudCApO1xuXHRcdHRoaXMuX29uKCBlbGVtZW50LCB7XG5cdFx0XHRmb2N1c2luOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdCQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKS5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0XHR9LFxuXHRcdFx0Zm9jdXNvdXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0JCggZXZlbnQuY3VycmVudFRhcmdldCApLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRfdHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGV2ZW50LCBkYXRhICkge1xuXHRcdHZhciBwcm9wLCBvcmlnLFxuXHRcdFx0Y2FsbGJhY2sgPSB0aGlzLm9wdGlvbnNbIHR5cGUgXTtcblxuXHRcdGRhdGEgPSBkYXRhIHx8IHt9O1xuXHRcdGV2ZW50ID0gJC5FdmVudCggZXZlbnQgKTtcblx0XHRldmVudC50eXBlID0gKCB0eXBlID09PSB0aGlzLndpZGdldEV2ZW50UHJlZml4ID9cblx0XHRcdHR5cGUgOlxuXHRcdFx0dGhpcy53aWRnZXRFdmVudFByZWZpeCArIHR5cGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdC8vIHRoZSBvcmlnaW5hbCBldmVudCBtYXkgY29tZSBmcm9tIGFueSBlbGVtZW50XG5cdFx0Ly8gc28gd2UgbmVlZCB0byByZXNldCB0aGUgdGFyZ2V0IG9uIHRoZSBuZXcgZXZlbnRcblx0XHRldmVudC50YXJnZXQgPSB0aGlzLmVsZW1lbnRbIDAgXTtcblxuXHRcdC8vIGNvcHkgb3JpZ2luYWwgZXZlbnQgcHJvcGVydGllcyBvdmVyIHRvIHRoZSBuZXcgZXZlbnRcblx0XHRvcmlnID0gZXZlbnQub3JpZ2luYWxFdmVudDtcblx0XHRpZiAoIG9yaWcgKSB7XG5cdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHRcdGlmICggISggcHJvcCBpbiBldmVudCApICkge1xuXHRcdFx0XHRcdGV2ZW50WyBwcm9wIF0gPSBvcmlnWyBwcm9wIF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmVsZW1lbnQudHJpZ2dlciggZXZlbnQsIGRhdGEgKTtcblx0XHRyZXR1cm4gISggJC5pc0Z1bmN0aW9uKCBjYWxsYmFjayApICYmXG5cdFx0XHRjYWxsYmFjay5hcHBseSggdGhpcy5lbGVtZW50WzBdLCBbIGV2ZW50IF0uY29uY2F0KCBkYXRhICkgKSA9PT0gZmFsc2UgfHxcblx0XHRcdGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICk7XG5cdH1cbn07XG5cbiQuZWFjaCggeyBzaG93OiBcImZhZGVJblwiLCBoaWRlOiBcImZhZGVPdXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBkZWZhdWx0RWZmZWN0ICkge1xuXHQkLldpZGdldC5wcm90b3R5cGVbIFwiX1wiICsgbWV0aG9kIF0gPSBmdW5jdGlvbiggZWxlbWVudCwgb3B0aW9ucywgY2FsbGJhY2sgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB7IGVmZmVjdDogb3B0aW9ucyB9O1xuXHRcdH1cblx0XHR2YXIgaGFzT3B0aW9ucyxcblx0XHRcdGVmZmVjdE5hbWUgPSAhb3B0aW9ucyA/XG5cdFx0XHRcdG1ldGhvZCA6XG5cdFx0XHRcdG9wdGlvbnMgPT09IHRydWUgfHwgdHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIgP1xuXHRcdFx0XHRcdGRlZmF1bHRFZmZlY3QgOlxuXHRcdFx0XHRcdG9wdGlvbnMuZWZmZWN0IHx8IGRlZmF1bHRFZmZlY3Q7XG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFx0aWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB7IGR1cmF0aW9uOiBvcHRpb25zIH07XG5cdFx0fVxuXHRcdGhhc09wdGlvbnMgPSAhJC5pc0VtcHR5T2JqZWN0KCBvcHRpb25zICk7XG5cdFx0b3B0aW9ucy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuXHRcdGlmICggb3B0aW9ucy5kZWxheSApIHtcblx0XHRcdGVsZW1lbnQuZGVsYXkoIG9wdGlvbnMuZGVsYXkgKTtcblx0XHR9XG5cdFx0aWYgKCBoYXNPcHRpb25zICYmICQuZWZmZWN0cyAmJiAkLmVmZmVjdHMuZWZmZWN0WyBlZmZlY3ROYW1lIF0gKSB7XG5cdFx0XHRlbGVtZW50WyBtZXRob2QgXSggb3B0aW9ucyApO1xuXHRcdH0gZWxzZSBpZiAoIGVmZmVjdE5hbWUgIT09IG1ldGhvZCAmJiBlbGVtZW50WyBlZmZlY3ROYW1lIF0gKSB7XG5cdFx0XHRlbGVtZW50WyBlZmZlY3ROYW1lIF0oIG9wdGlvbnMuZHVyYXRpb24sIG9wdGlvbnMuZWFzaW5nLCBjYWxsYmFjayApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtZW50LnF1ZXVlKGZ1bmN0aW9uKCBuZXh0ICkge1xuXHRcdFx0XHQkKCB0aGlzIClbIG1ldGhvZCBdKCk7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2suY2FsbCggZWxlbWVudFsgMCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bmV4dCgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xufSk7XG5cbnZhciB3aWRnZXQgPSAkLndpZGdldDtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBNb3VzZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL21vdXNlL1xuICovXG5cblxudmFyIG1vdXNlSGFuZGxlZCA9IGZhbHNlO1xuJCggZG9jdW1lbnQgKS5tb3VzZXVwKCBmdW5jdGlvbigpIHtcblx0bW91c2VIYW5kbGVkID0gZmFsc2U7XG59KTtcblxudmFyIG1vdXNlID0gJC53aWRnZXQoXCJ1aS5tb3VzZVwiLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdG9wdGlvbnM6IHtcblx0XHRjYW5jZWw6IFwiaW5wdXQsdGV4dGFyZWEsYnV0dG9uLHNlbGVjdCxvcHRpb25cIixcblx0XHRkaXN0YW5jZTogMSxcblx0XHRkZWxheTogMFxuXHR9LFxuXHRfbW91c2VJbml0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5iaW5kKFwibW91c2Vkb3duLlwiICsgdGhpcy53aWRnZXROYW1lLCBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRyZXR1cm4gdGhhdC5fbW91c2VEb3duKGV2ZW50KTtcblx0XHRcdH0pXG5cdFx0XHQuYmluZChcImNsaWNrLlwiICsgdGhpcy53aWRnZXROYW1lLCBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRpZiAodHJ1ZSA9PT0gJC5kYXRhKGV2ZW50LnRhcmdldCwgdGhhdC53aWRnZXROYW1lICsgXCIucHJldmVudENsaWNrRXZlbnRcIikpIHtcblx0XHRcdFx0XHQkLnJlbW92ZURhdGEoZXZlbnQudGFyZ2V0LCB0aGF0LndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiKTtcblx0XHRcdFx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0dGhpcy5zdGFydGVkID0gZmFsc2U7XG5cdH0sXG5cblx0Ly8gVE9ETzogbWFrZSBzdXJlIGRlc3Ryb3lpbmcgb25lIGluc3RhbmNlIG9mIG1vdXNlIGRvZXNuJ3QgbWVzcyB3aXRoXG5cdC8vIG90aGVyIGluc3RhbmNlcyBvZiBtb3VzZVxuXHRfbW91c2VEZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmVsZW1lbnQudW5iaW5kKFwiLlwiICsgdGhpcy53aWRnZXROYW1lKTtcblx0XHRpZiAoIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlICkge1xuXHRcdFx0dGhpcy5kb2N1bWVudFxuXHRcdFx0XHQudW5iaW5kKFwibW91c2Vtb3ZlLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSlcblx0XHRcdFx0LnVuYmluZChcIm1vdXNldXAuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9tb3VzZURvd246IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0Ly8gZG9uJ3QgbGV0IG1vcmUgdGhhbiBvbmUgd2lkZ2V0IGhhbmRsZSBtb3VzZVN0YXJ0XG5cdFx0aWYgKCBtb3VzZUhhbmRsZWQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fbW91c2VNb3ZlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gd2UgbWF5IGhhdmUgbWlzc2VkIG1vdXNldXAgKG91dCBvZiB3aW5kb3cpXG5cdFx0KHRoaXMuX21vdXNlU3RhcnRlZCAmJiB0aGlzLl9tb3VzZVVwKGV2ZW50KSk7XG5cblx0XHR0aGlzLl9tb3VzZURvd25FdmVudCA9IGV2ZW50O1xuXG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0YnRuSXNMZWZ0ID0gKGV2ZW50LndoaWNoID09PSAxKSxcblx0XHRcdC8vIGV2ZW50LnRhcmdldC5ub2RlTmFtZSB3b3JrcyBhcm91bmQgYSBidWcgaW4gSUUgOCB3aXRoXG5cdFx0XHQvLyBkaXNhYmxlZCBpbnB1dHMgKCM3NjIwKVxuXHRcdFx0ZWxJc0NhbmNlbCA9ICh0eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbCA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC50YXJnZXQubm9kZU5hbWUgPyAkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCh0aGlzLm9wdGlvbnMuY2FuY2VsKS5sZW5ndGggOiBmYWxzZSk7XG5cdFx0aWYgKCFidG5Jc0xlZnQgfHwgZWxJc0NhbmNlbCB8fCAhdGhpcy5fbW91c2VDYXB0dXJlKGV2ZW50KSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0dGhpcy5tb3VzZURlbGF5TWV0ID0gIXRoaXMub3B0aW9ucy5kZWxheTtcblx0XHRpZiAoIXRoaXMubW91c2VEZWxheU1ldCkge1xuXHRcdFx0dGhpcy5fbW91c2VEZWxheVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhhdC5tb3VzZURlbGF5TWV0ID0gdHJ1ZTtcblx0XHRcdH0sIHRoaXMub3B0aW9ucy5kZWxheSk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX21vdXNlRGlzdGFuY2VNZXQoZXZlbnQpICYmIHRoaXMuX21vdXNlRGVsYXlNZXQoZXZlbnQpKSB7XG5cdFx0XHR0aGlzLl9tb3VzZVN0YXJ0ZWQgPSAodGhpcy5fbW91c2VTdGFydChldmVudCkgIT09IGZhbHNlKTtcblx0XHRcdGlmICghdGhpcy5fbW91c2VTdGFydGVkKSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENsaWNrIGV2ZW50IG1heSBuZXZlciBoYXZlIGZpcmVkIChHZWNrbyAmIE9wZXJhKVxuXHRcdGlmICh0cnVlID09PSAkLmRhdGEoZXZlbnQudGFyZ2V0LCB0aGlzLndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiKSkge1xuXHRcdFx0JC5yZW1vdmVEYXRhKGV2ZW50LnRhcmdldCwgdGhpcy53aWRnZXROYW1lICsgXCIucHJldmVudENsaWNrRXZlbnRcIik7XG5cdFx0fVxuXG5cdFx0Ly8gdGhlc2UgZGVsZWdhdGVzIGFyZSByZXF1aXJlZCB0byBrZWVwIGNvbnRleHRcblx0XHR0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRyZXR1cm4gdGhhdC5fbW91c2VNb3ZlKGV2ZW50KTtcblx0XHR9O1xuXHRcdHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRyZXR1cm4gdGhhdC5fbW91c2VVcChldmVudCk7XG5cdFx0fTtcblxuXHRcdHRoaXMuZG9jdW1lbnRcblx0XHRcdC5iaW5kKCBcIm1vdXNlbW92ZS5cIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUgKVxuXHRcdFx0LmJpbmQoIFwibW91c2V1cC5cIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VVcERlbGVnYXRlICk7XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0bW91c2VIYW5kbGVkID0gdHJ1ZTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRfbW91c2VNb3ZlOiBmdW5jdGlvbihldmVudCkge1xuXHRcdC8vIE9ubHkgY2hlY2sgZm9yIG1vdXNldXBzIG91dHNpZGUgdGhlIGRvY3VtZW50IGlmIHlvdSd2ZSBtb3ZlZCBpbnNpZGUgdGhlIGRvY3VtZW50XG5cdFx0Ly8gYXQgbGVhc3Qgb25jZS4gVGhpcyBwcmV2ZW50cyB0aGUgZmlyaW5nIG9mIG1vdXNldXAgaW4gdGhlIGNhc2Ugb2YgSUU8OSwgd2hpY2ggd2lsbFxuXHRcdC8vIGZpcmUgYSBtb3VzZW1vdmUgZXZlbnQgaWYgY29udGVudCBpcyBwbGFjZWQgdW5kZXIgdGhlIGN1cnNvci4gU2VlICM3Nzc4XG5cdFx0Ly8gU3VwcG9ydDogSUUgPDlcblx0XHRpZiAoIHRoaXMuX21vdXNlTW92ZWQgKSB7XG5cdFx0XHQvLyBJRSBtb3VzZXVwIGNoZWNrIC0gbW91c2V1cCBoYXBwZW5lZCB3aGVuIG1vdXNlIHdhcyBvdXQgb2Ygd2luZG93XG5cdFx0XHRpZiAoJC51aS5pZSAmJiAoICFkb2N1bWVudC5kb2N1bWVudE1vZGUgfHwgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIDwgOSApICYmICFldmVudC5idXR0b24pIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuX21vdXNlVXAoZXZlbnQpO1xuXG5cdFx0XHQvLyBJZnJhbWUgbW91c2V1cCBjaGVjayAtIG1vdXNldXAgb2NjdXJyZWQgaW4gYW5vdGhlciBkb2N1bWVudFxuXHRcdFx0fSBlbHNlIGlmICggIWV2ZW50LndoaWNoICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5fbW91c2VVcCggZXZlbnQgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGV2ZW50LndoaWNoIHx8IGV2ZW50LmJ1dHRvbiApIHtcblx0XHRcdHRoaXMuX21vdXNlTW92ZWQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9tb3VzZVN0YXJ0ZWQpIHtcblx0XHRcdHRoaXMuX21vdXNlRHJhZyhldmVudCk7XG5cdFx0XHRyZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fbW91c2VEaXN0YW5jZU1ldChldmVudCkgJiYgdGhpcy5fbW91c2VEZWxheU1ldChldmVudCkpIHtcblx0XHRcdHRoaXMuX21vdXNlU3RhcnRlZCA9XG5cdFx0XHRcdCh0aGlzLl9tb3VzZVN0YXJ0KHRoaXMuX21vdXNlRG93bkV2ZW50LCBldmVudCkgIT09IGZhbHNlKTtcblx0XHRcdCh0aGlzLl9tb3VzZVN0YXJ0ZWQgPyB0aGlzLl9tb3VzZURyYWcoZXZlbnQpIDogdGhpcy5fbW91c2VVcChldmVudCkpO1xuXHRcdH1cblxuXHRcdHJldHVybiAhdGhpcy5fbW91c2VTdGFydGVkO1xuXHR9LFxuXG5cdF9tb3VzZVVwOiBmdW5jdGlvbihldmVudCkge1xuXHRcdHRoaXMuZG9jdW1lbnRcblx0XHRcdC51bmJpbmQoIFwibW91c2Vtb3ZlLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSApXG5cdFx0XHQudW5iaW5kKCBcIm1vdXNldXAuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSApO1xuXG5cdFx0aWYgKHRoaXMuX21vdXNlU3RhcnRlZCkge1xuXHRcdFx0dGhpcy5fbW91c2VTdGFydGVkID0gZmFsc2U7XG5cblx0XHRcdGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuX21vdXNlRG93bkV2ZW50LnRhcmdldCkge1xuXHRcdFx0XHQkLmRhdGEoZXZlbnQudGFyZ2V0LCB0aGlzLndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiLCB0cnVlKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fbW91c2VTdG9wKGV2ZW50KTtcblx0XHR9XG5cblx0XHRtb3VzZUhhbmRsZWQgPSBmYWxzZTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cblx0X21vdXNlRGlzdGFuY2VNZXQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0cmV0dXJuIChNYXRoLm1heChcblx0XHRcdFx0TWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVggLSBldmVudC5wYWdlWCksXG5cdFx0XHRcdE1hdGguYWJzKHRoaXMuX21vdXNlRG93bkV2ZW50LnBhZ2VZIC0gZXZlbnQucGFnZVkpXG5cdFx0XHQpID49IHRoaXMub3B0aW9ucy5kaXN0YW5jZVxuXHRcdCk7XG5cdH0sXG5cblx0X21vdXNlRGVsYXlNZXQ6IGZ1bmN0aW9uKC8qIGV2ZW50ICovKSB7XG5cdFx0cmV0dXJuIHRoaXMubW91c2VEZWxheU1ldDtcblx0fSxcblxuXHQvLyBUaGVzZSBhcmUgcGxhY2Vob2xkZXIgbWV0aG9kcywgdG8gYmUgb3ZlcnJpZGVuIGJ5IGV4dGVuZGluZyBwbHVnaW5cblx0X21vdXNlU3RhcnQ6IGZ1bmN0aW9uKC8qIGV2ZW50ICovKSB7fSxcblx0X21vdXNlRHJhZzogZnVuY3Rpb24oLyogZXZlbnQgKi8pIHt9LFxuXHRfbW91c2VTdG9wOiBmdW5jdGlvbigvKiBldmVudCAqLykge30sXG5cdF9tb3VzZUNhcHR1cmU6IGZ1bmN0aW9uKC8qIGV2ZW50ICovKSB7IHJldHVybiB0cnVlOyB9XG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBQb3NpdGlvbiAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3Bvc2l0aW9uL1xuICovXG5cbihmdW5jdGlvbigpIHtcblxuJC51aSA9ICQudWkgfHwge307XG5cbnZhciBjYWNoZWRTY3JvbGxiYXJXaWR0aCwgc3VwcG9ydHNPZmZzZXRGcmFjdGlvbnMsXG5cdG1heCA9IE1hdGgubWF4LFxuXHRhYnMgPSBNYXRoLmFicyxcblx0cm91bmQgPSBNYXRoLnJvdW5kLFxuXHRyaG9yaXpvbnRhbCA9IC9sZWZ0fGNlbnRlcnxyaWdodC8sXG5cdHJ2ZXJ0aWNhbCA9IC90b3B8Y2VudGVyfGJvdHRvbS8sXG5cdHJvZmZzZXQgPSAvW1xcK1xcLV1cXGQrKFxcLltcXGRdKyk/JT8vLFxuXHRycG9zaXRpb24gPSAvXlxcdysvLFxuXHRycGVyY2VudCA9IC8lJC8sXG5cdF9wb3NpdGlvbiA9ICQuZm4ucG9zaXRpb247XG5cbmZ1bmN0aW9uIGdldE9mZnNldHMoIG9mZnNldHMsIHdpZHRoLCBoZWlnaHQgKSB7XG5cdHJldHVybiBbXG5cdFx0cGFyc2VGbG9hdCggb2Zmc2V0c1sgMCBdICkgKiAoIHJwZXJjZW50LnRlc3QoIG9mZnNldHNbIDAgXSApID8gd2lkdGggLyAxMDAgOiAxICksXG5cdFx0cGFyc2VGbG9hdCggb2Zmc2V0c1sgMSBdICkgKiAoIHJwZXJjZW50LnRlc3QoIG9mZnNldHNbIDEgXSApID8gaGVpZ2h0IC8gMTAwIDogMSApXG5cdF07XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ3NzKCBlbGVtZW50LCBwcm9wZXJ0eSApIHtcblx0cmV0dXJuIHBhcnNlSW50KCAkLmNzcyggZWxlbWVudCwgcHJvcGVydHkgKSwgMTAgKSB8fCAwO1xufVxuXG5mdW5jdGlvbiBnZXREaW1lbnNpb25zKCBlbGVtICkge1xuXHR2YXIgcmF3ID0gZWxlbVswXTtcblx0aWYgKCByYXcubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHdpZHRoOiBlbGVtLndpZHRoKCksXG5cdFx0XHRoZWlnaHQ6IGVsZW0uaGVpZ2h0KCksXG5cdFx0XHRvZmZzZXQ6IHsgdG9wOiAwLCBsZWZ0OiAwIH1cblx0XHR9O1xuXHR9XG5cdGlmICggJC5pc1dpbmRvdyggcmF3ICkgKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHdpZHRoOiBlbGVtLndpZHRoKCksXG5cdFx0XHRoZWlnaHQ6IGVsZW0uaGVpZ2h0KCksXG5cdFx0XHRvZmZzZXQ6IHsgdG9wOiBlbGVtLnNjcm9sbFRvcCgpLCBsZWZ0OiBlbGVtLnNjcm9sbExlZnQoKSB9XG5cdFx0fTtcblx0fVxuXHRpZiAoIHJhdy5wcmV2ZW50RGVmYXVsdCApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0d2lkdGg6IDAsXG5cdFx0XHRoZWlnaHQ6IDAsXG5cdFx0XHRvZmZzZXQ6IHsgdG9wOiByYXcucGFnZVksIGxlZnQ6IHJhdy5wYWdlWCB9XG5cdFx0fTtcblx0fVxuXHRyZXR1cm4ge1xuXHRcdHdpZHRoOiBlbGVtLm91dGVyV2lkdGgoKSxcblx0XHRoZWlnaHQ6IGVsZW0ub3V0ZXJIZWlnaHQoKSxcblx0XHRvZmZzZXQ6IGVsZW0ub2Zmc2V0KClcblx0fTtcbn1cblxuJC5wb3NpdGlvbiA9IHtcblx0c2Nyb2xsYmFyV2lkdGg6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggY2FjaGVkU2Nyb2xsYmFyV2lkdGggIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybiBjYWNoZWRTY3JvbGxiYXJXaWR0aDtcblx0XHR9XG5cdFx0dmFyIHcxLCB3Mixcblx0XHRcdGRpdiA9ICQoIFwiPGRpdiBzdHlsZT0nZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo1MHB4O2hlaWdodDo1MHB4O292ZXJmbG93OmhpZGRlbjsnPjxkaXYgc3R5bGU9J2hlaWdodDoxMDBweDt3aWR0aDphdXRvOyc+PC9kaXY+PC9kaXY+XCIgKSxcblx0XHRcdGlubmVyRGl2ID0gZGl2LmNoaWxkcmVuKClbMF07XG5cblx0XHQkKCBcImJvZHlcIiApLmFwcGVuZCggZGl2ICk7XG5cdFx0dzEgPSBpbm5lckRpdi5vZmZzZXRXaWR0aDtcblx0XHRkaXYuY3NzKCBcIm92ZXJmbG93XCIsIFwic2Nyb2xsXCIgKTtcblxuXHRcdHcyID0gaW5uZXJEaXYub2Zmc2V0V2lkdGg7XG5cblx0XHRpZiAoIHcxID09PSB3MiApIHtcblx0XHRcdHcyID0gZGl2WzBdLmNsaWVudFdpZHRoO1xuXHRcdH1cblxuXHRcdGRpdi5yZW1vdmUoKTtcblxuXHRcdHJldHVybiAoY2FjaGVkU2Nyb2xsYmFyV2lkdGggPSB3MSAtIHcyKTtcblx0fSxcblx0Z2V0U2Nyb2xsSW5mbzogZnVuY3Rpb24oIHdpdGhpbiApIHtcblx0XHR2YXIgb3ZlcmZsb3dYID0gd2l0aGluLmlzV2luZG93IHx8IHdpdGhpbi5pc0RvY3VtZW50ID8gXCJcIiA6XG5cdFx0XHRcdHdpdGhpbi5lbGVtZW50LmNzcyggXCJvdmVyZmxvdy14XCIgKSxcblx0XHRcdG92ZXJmbG93WSA9IHdpdGhpbi5pc1dpbmRvdyB8fCB3aXRoaW4uaXNEb2N1bWVudCA/IFwiXCIgOlxuXHRcdFx0XHR3aXRoaW4uZWxlbWVudC5jc3MoIFwib3ZlcmZsb3cteVwiICksXG5cdFx0XHRoYXNPdmVyZmxvd1ggPSBvdmVyZmxvd1ggPT09IFwic2Nyb2xsXCIgfHxcblx0XHRcdFx0KCBvdmVyZmxvd1ggPT09IFwiYXV0b1wiICYmIHdpdGhpbi53aWR0aCA8IHdpdGhpbi5lbGVtZW50WzBdLnNjcm9sbFdpZHRoICksXG5cdFx0XHRoYXNPdmVyZmxvd1kgPSBvdmVyZmxvd1kgPT09IFwic2Nyb2xsXCIgfHxcblx0XHRcdFx0KCBvdmVyZmxvd1kgPT09IFwiYXV0b1wiICYmIHdpdGhpbi5oZWlnaHQgPCB3aXRoaW4uZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0d2lkdGg6IGhhc092ZXJmbG93WSA/ICQucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKSA6IDAsXG5cdFx0XHRoZWlnaHQ6IGhhc092ZXJmbG93WCA/ICQucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKSA6IDBcblx0XHR9O1xuXHR9LFxuXHRnZXRXaXRoaW5JbmZvOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR2YXIgd2l0aGluRWxlbWVudCA9ICQoIGVsZW1lbnQgfHwgd2luZG93ICksXG5cdFx0XHRpc1dpbmRvdyA9ICQuaXNXaW5kb3coIHdpdGhpbkVsZW1lbnRbMF0gKSxcblx0XHRcdGlzRG9jdW1lbnQgPSAhIXdpdGhpbkVsZW1lbnRbIDAgXSAmJiB3aXRoaW5FbGVtZW50WyAwIF0ubm9kZVR5cGUgPT09IDk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGVsZW1lbnQ6IHdpdGhpbkVsZW1lbnQsXG5cdFx0XHRpc1dpbmRvdzogaXNXaW5kb3csXG5cdFx0XHRpc0RvY3VtZW50OiBpc0RvY3VtZW50LFxuXHRcdFx0b2Zmc2V0OiB3aXRoaW5FbGVtZW50Lm9mZnNldCgpIHx8IHsgbGVmdDogMCwgdG9wOiAwIH0sXG5cdFx0XHRzY3JvbGxMZWZ0OiB3aXRoaW5FbGVtZW50LnNjcm9sbExlZnQoKSxcblx0XHRcdHNjcm9sbFRvcDogd2l0aGluRWxlbWVudC5zY3JvbGxUb3AoKSxcblxuXHRcdFx0Ly8gc3VwcG9ydDogalF1ZXJ5IDEuNi54XG5cdFx0XHQvLyBqUXVlcnkgMS42IGRvZXNuJ3Qgc3VwcG9ydCAub3V0ZXJXaWR0aC9IZWlnaHQoKSBvbiBkb2N1bWVudHMgb3Igd2luZG93c1xuXHRcdFx0d2lkdGg6IGlzV2luZG93IHx8IGlzRG9jdW1lbnQgPyB3aXRoaW5FbGVtZW50LndpZHRoKCkgOiB3aXRoaW5FbGVtZW50Lm91dGVyV2lkdGgoKSxcblx0XHRcdGhlaWdodDogaXNXaW5kb3cgfHwgaXNEb2N1bWVudCA/IHdpdGhpbkVsZW1lbnQuaGVpZ2h0KCkgOiB3aXRoaW5FbGVtZW50Lm91dGVySGVpZ2h0KClcblx0XHR9O1xuXHR9XG59O1xuXG4kLmZuLnBvc2l0aW9uID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdGlmICggIW9wdGlvbnMgfHwgIW9wdGlvbnMub2YgKSB7XG5cdFx0cmV0dXJuIF9wb3NpdGlvbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdH1cblxuXHQvLyBtYWtlIGEgY29weSwgd2UgZG9uJ3Qgd2FudCB0byBtb2RpZnkgYXJndW1lbnRzXG5cdG9wdGlvbnMgPSAkLmV4dGVuZCgge30sIG9wdGlvbnMgKTtcblxuXHR2YXIgYXRPZmZzZXQsIHRhcmdldFdpZHRoLCB0YXJnZXRIZWlnaHQsIHRhcmdldE9mZnNldCwgYmFzZVBvc2l0aW9uLCBkaW1lbnNpb25zLFxuXHRcdHRhcmdldCA9ICQoIG9wdGlvbnMub2YgKSxcblx0XHR3aXRoaW4gPSAkLnBvc2l0aW9uLmdldFdpdGhpbkluZm8oIG9wdGlvbnMud2l0aGluICksXG5cdFx0c2Nyb2xsSW5mbyA9ICQucG9zaXRpb24uZ2V0U2Nyb2xsSW5mbyggd2l0aGluICksXG5cdFx0Y29sbGlzaW9uID0gKCBvcHRpb25zLmNvbGxpc2lvbiB8fCBcImZsaXBcIiApLnNwbGl0KCBcIiBcIiApLFxuXHRcdG9mZnNldHMgPSB7fTtcblxuXHRkaW1lbnNpb25zID0gZ2V0RGltZW5zaW9ucyggdGFyZ2V0ICk7XG5cdGlmICggdGFyZ2V0WzBdLnByZXZlbnREZWZhdWx0ICkge1xuXHRcdC8vIGZvcmNlIGxlZnQgdG9wIHRvIGFsbG93IGZsaXBwaW5nXG5cdFx0b3B0aW9ucy5hdCA9IFwibGVmdCB0b3BcIjtcblx0fVxuXHR0YXJnZXRXaWR0aCA9IGRpbWVuc2lvbnMud2lkdGg7XG5cdHRhcmdldEhlaWdodCA9IGRpbWVuc2lvbnMuaGVpZ2h0O1xuXHR0YXJnZXRPZmZzZXQgPSBkaW1lbnNpb25zLm9mZnNldDtcblx0Ly8gY2xvbmUgdG8gcmV1c2Ugb3JpZ2luYWwgdGFyZ2V0T2Zmc2V0IGxhdGVyXG5cdGJhc2VQb3NpdGlvbiA9ICQuZXh0ZW5kKCB7fSwgdGFyZ2V0T2Zmc2V0ICk7XG5cblx0Ly8gZm9yY2UgbXkgYW5kIGF0IHRvIGhhdmUgdmFsaWQgaG9yaXpvbnRhbCBhbmQgdmVydGljYWwgcG9zaXRpb25zXG5cdC8vIGlmIGEgdmFsdWUgaXMgbWlzc2luZyBvciBpbnZhbGlkLCBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBjZW50ZXJcblx0JC5lYWNoKCBbIFwibXlcIiwgXCJhdFwiIF0sIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwb3MgPSAoIG9wdGlvbnNbIHRoaXMgXSB8fCBcIlwiICkuc3BsaXQoIFwiIFwiICksXG5cdFx0XHRob3Jpem9udGFsT2Zmc2V0LFxuXHRcdFx0dmVydGljYWxPZmZzZXQ7XG5cblx0XHRpZiAoIHBvcy5sZW5ndGggPT09IDEpIHtcblx0XHRcdHBvcyA9IHJob3Jpem9udGFsLnRlc3QoIHBvc1sgMCBdICkgP1xuXHRcdFx0XHRwb3MuY29uY2F0KCBbIFwiY2VudGVyXCIgXSApIDpcblx0XHRcdFx0cnZlcnRpY2FsLnRlc3QoIHBvc1sgMCBdICkgP1xuXHRcdFx0XHRcdFsgXCJjZW50ZXJcIiBdLmNvbmNhdCggcG9zICkgOlxuXHRcdFx0XHRcdFsgXCJjZW50ZXJcIiwgXCJjZW50ZXJcIiBdO1xuXHRcdH1cblx0XHRwb3NbIDAgXSA9IHJob3Jpem9udGFsLnRlc3QoIHBvc1sgMCBdICkgPyBwb3NbIDAgXSA6IFwiY2VudGVyXCI7XG5cdFx0cG9zWyAxIF0gPSBydmVydGljYWwudGVzdCggcG9zWyAxIF0gKSA/IHBvc1sgMSBdIDogXCJjZW50ZXJcIjtcblxuXHRcdC8vIGNhbGN1bGF0ZSBvZmZzZXRzXG5cdFx0aG9yaXpvbnRhbE9mZnNldCA9IHJvZmZzZXQuZXhlYyggcG9zWyAwIF0gKTtcblx0XHR2ZXJ0aWNhbE9mZnNldCA9IHJvZmZzZXQuZXhlYyggcG9zWyAxIF0gKTtcblx0XHRvZmZzZXRzWyB0aGlzIF0gPSBbXG5cdFx0XHRob3Jpem9udGFsT2Zmc2V0ID8gaG9yaXpvbnRhbE9mZnNldFsgMCBdIDogMCxcblx0XHRcdHZlcnRpY2FsT2Zmc2V0ID8gdmVydGljYWxPZmZzZXRbIDAgXSA6IDBcblx0XHRdO1xuXG5cdFx0Ly8gcmVkdWNlIHRvIGp1c3QgdGhlIHBvc2l0aW9ucyB3aXRob3V0IHRoZSBvZmZzZXRzXG5cdFx0b3B0aW9uc1sgdGhpcyBdID0gW1xuXHRcdFx0cnBvc2l0aW9uLmV4ZWMoIHBvc1sgMCBdIClbIDAgXSxcblx0XHRcdHJwb3NpdGlvbi5leGVjKCBwb3NbIDEgXSApWyAwIF1cblx0XHRdO1xuXHR9KTtcblxuXHQvLyBub3JtYWxpemUgY29sbGlzaW9uIG9wdGlvblxuXHRpZiAoIGNvbGxpc2lvbi5sZW5ndGggPT09IDEgKSB7XG5cdFx0Y29sbGlzaW9uWyAxIF0gPSBjb2xsaXNpb25bIDAgXTtcblx0fVxuXG5cdGlmICggb3B0aW9ucy5hdFsgMCBdID09PSBcInJpZ2h0XCIgKSB7XG5cdFx0YmFzZVBvc2l0aW9uLmxlZnQgKz0gdGFyZ2V0V2lkdGg7XG5cdH0gZWxzZSBpZiAoIG9wdGlvbnMuYXRbIDAgXSA9PT0gXCJjZW50ZXJcIiApIHtcblx0XHRiYXNlUG9zaXRpb24ubGVmdCArPSB0YXJnZXRXaWR0aCAvIDI7XG5cdH1cblxuXHRpZiAoIG9wdGlvbnMuYXRbIDEgXSA9PT0gXCJib3R0b21cIiApIHtcblx0XHRiYXNlUG9zaXRpb24udG9wICs9IHRhcmdldEhlaWdodDtcblx0fSBlbHNlIGlmICggb3B0aW9ucy5hdFsgMSBdID09PSBcImNlbnRlclwiICkge1xuXHRcdGJhc2VQb3NpdGlvbi50b3AgKz0gdGFyZ2V0SGVpZ2h0IC8gMjtcblx0fVxuXG5cdGF0T2Zmc2V0ID0gZ2V0T2Zmc2V0cyggb2Zmc2V0cy5hdCwgdGFyZ2V0V2lkdGgsIHRhcmdldEhlaWdodCApO1xuXHRiYXNlUG9zaXRpb24ubGVmdCArPSBhdE9mZnNldFsgMCBdO1xuXHRiYXNlUG9zaXRpb24udG9wICs9IGF0T2Zmc2V0WyAxIF07XG5cblx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHR2YXIgY29sbGlzaW9uUG9zaXRpb24sIHVzaW5nLFxuXHRcdFx0ZWxlbSA9ICQoIHRoaXMgKSxcblx0XHRcdGVsZW1XaWR0aCA9IGVsZW0ub3V0ZXJXaWR0aCgpLFxuXHRcdFx0ZWxlbUhlaWdodCA9IGVsZW0ub3V0ZXJIZWlnaHQoKSxcblx0XHRcdG1hcmdpbkxlZnQgPSBwYXJzZUNzcyggdGhpcywgXCJtYXJnaW5MZWZ0XCIgKSxcblx0XHRcdG1hcmdpblRvcCA9IHBhcnNlQ3NzKCB0aGlzLCBcIm1hcmdpblRvcFwiICksXG5cdFx0XHRjb2xsaXNpb25XaWR0aCA9IGVsZW1XaWR0aCArIG1hcmdpbkxlZnQgKyBwYXJzZUNzcyggdGhpcywgXCJtYXJnaW5SaWdodFwiICkgKyBzY3JvbGxJbmZvLndpZHRoLFxuXHRcdFx0Y29sbGlzaW9uSGVpZ2h0ID0gZWxlbUhlaWdodCArIG1hcmdpblRvcCArIHBhcnNlQ3NzKCB0aGlzLCBcIm1hcmdpbkJvdHRvbVwiICkgKyBzY3JvbGxJbmZvLmhlaWdodCxcblx0XHRcdHBvc2l0aW9uID0gJC5leHRlbmQoIHt9LCBiYXNlUG9zaXRpb24gKSxcblx0XHRcdG15T2Zmc2V0ID0gZ2V0T2Zmc2V0cyggb2Zmc2V0cy5teSwgZWxlbS5vdXRlcldpZHRoKCksIGVsZW0ub3V0ZXJIZWlnaHQoKSApO1xuXG5cdFx0aWYgKCBvcHRpb25zLm15WyAwIF0gPT09IFwicmlnaHRcIiApIHtcblx0XHRcdHBvc2l0aW9uLmxlZnQgLT0gZWxlbVdpZHRoO1xuXHRcdH0gZWxzZSBpZiAoIG9wdGlvbnMubXlbIDAgXSA9PT0gXCJjZW50ZXJcIiApIHtcblx0XHRcdHBvc2l0aW9uLmxlZnQgLT0gZWxlbVdpZHRoIC8gMjtcblx0XHR9XG5cblx0XHRpZiAoIG9wdGlvbnMubXlbIDEgXSA9PT0gXCJib3R0b21cIiApIHtcblx0XHRcdHBvc2l0aW9uLnRvcCAtPSBlbGVtSGVpZ2h0O1xuXHRcdH0gZWxzZSBpZiAoIG9wdGlvbnMubXlbIDEgXSA9PT0gXCJjZW50ZXJcIiApIHtcblx0XHRcdHBvc2l0aW9uLnRvcCAtPSBlbGVtSGVpZ2h0IC8gMjtcblx0XHR9XG5cblx0XHRwb3NpdGlvbi5sZWZ0ICs9IG15T2Zmc2V0WyAwIF07XG5cdFx0cG9zaXRpb24udG9wICs9IG15T2Zmc2V0WyAxIF07XG5cblx0XHQvLyBpZiB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgZnJhY3Rpb25zLCB0aGVuIHJvdW5kIGZvciBjb25zaXN0ZW50IHJlc3VsdHNcblx0XHRpZiAoICFzdXBwb3J0c09mZnNldEZyYWN0aW9ucyApIHtcblx0XHRcdHBvc2l0aW9uLmxlZnQgPSByb3VuZCggcG9zaXRpb24ubGVmdCApO1xuXHRcdFx0cG9zaXRpb24udG9wID0gcm91bmQoIHBvc2l0aW9uLnRvcCApO1xuXHRcdH1cblxuXHRcdGNvbGxpc2lvblBvc2l0aW9uID0ge1xuXHRcdFx0bWFyZ2luTGVmdDogbWFyZ2luTGVmdCxcblx0XHRcdG1hcmdpblRvcDogbWFyZ2luVG9wXG5cdFx0fTtcblxuXHRcdCQuZWFjaCggWyBcImxlZnRcIiwgXCJ0b3BcIiBdLCBmdW5jdGlvbiggaSwgZGlyICkge1xuXHRcdFx0aWYgKCAkLnVpLnBvc2l0aW9uWyBjb2xsaXNpb25bIGkgXSBdICkge1xuXHRcdFx0XHQkLnVpLnBvc2l0aW9uWyBjb2xsaXNpb25bIGkgXSBdWyBkaXIgXSggcG9zaXRpb24sIHtcblx0XHRcdFx0XHR0YXJnZXRXaWR0aDogdGFyZ2V0V2lkdGgsXG5cdFx0XHRcdFx0dGFyZ2V0SGVpZ2h0OiB0YXJnZXRIZWlnaHQsXG5cdFx0XHRcdFx0ZWxlbVdpZHRoOiBlbGVtV2lkdGgsXG5cdFx0XHRcdFx0ZWxlbUhlaWdodDogZWxlbUhlaWdodCxcblx0XHRcdFx0XHRjb2xsaXNpb25Qb3NpdGlvbjogY29sbGlzaW9uUG9zaXRpb24sXG5cdFx0XHRcdFx0Y29sbGlzaW9uV2lkdGg6IGNvbGxpc2lvbldpZHRoLFxuXHRcdFx0XHRcdGNvbGxpc2lvbkhlaWdodDogY29sbGlzaW9uSGVpZ2h0LFxuXHRcdFx0XHRcdG9mZnNldDogWyBhdE9mZnNldFsgMCBdICsgbXlPZmZzZXRbIDAgXSwgYXRPZmZzZXQgWyAxIF0gKyBteU9mZnNldFsgMSBdIF0sXG5cdFx0XHRcdFx0bXk6IG9wdGlvbnMubXksXG5cdFx0XHRcdFx0YXQ6IG9wdGlvbnMuYXQsXG5cdFx0XHRcdFx0d2l0aGluOiB3aXRoaW4sXG5cdFx0XHRcdFx0ZWxlbTogZWxlbVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGlmICggb3B0aW9ucy51c2luZyApIHtcblx0XHRcdC8vIGFkZHMgZmVlZGJhY2sgYXMgc2Vjb25kIGFyZ3VtZW50IHRvIHVzaW5nIGNhbGxiYWNrLCBpZiBwcmVzZW50XG5cdFx0XHR1c2luZyA9IGZ1bmN0aW9uKCBwcm9wcyApIHtcblx0XHRcdFx0dmFyIGxlZnQgPSB0YXJnZXRPZmZzZXQubGVmdCAtIHBvc2l0aW9uLmxlZnQsXG5cdFx0XHRcdFx0cmlnaHQgPSBsZWZ0ICsgdGFyZ2V0V2lkdGggLSBlbGVtV2lkdGgsXG5cdFx0XHRcdFx0dG9wID0gdGFyZ2V0T2Zmc2V0LnRvcCAtIHBvc2l0aW9uLnRvcCxcblx0XHRcdFx0XHRib3R0b20gPSB0b3AgKyB0YXJnZXRIZWlnaHQgLSBlbGVtSGVpZ2h0LFxuXHRcdFx0XHRcdGZlZWRiYWNrID0ge1xuXHRcdFx0XHRcdFx0dGFyZ2V0OiB7XG5cdFx0XHRcdFx0XHRcdGVsZW1lbnQ6IHRhcmdldCxcblx0XHRcdFx0XHRcdFx0bGVmdDogdGFyZ2V0T2Zmc2V0LmxlZnQsXG5cdFx0XHRcdFx0XHRcdHRvcDogdGFyZ2V0T2Zmc2V0LnRvcCxcblx0XHRcdFx0XHRcdFx0d2lkdGg6IHRhcmdldFdpZHRoLFxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IHRhcmdldEhlaWdodFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGVsZW1lbnQ6IHtcblx0XHRcdFx0XHRcdFx0ZWxlbWVudDogZWxlbSxcblx0XHRcdFx0XHRcdFx0bGVmdDogcG9zaXRpb24ubGVmdCxcblx0XHRcdFx0XHRcdFx0dG9wOiBwb3NpdGlvbi50b3AsXG5cdFx0XHRcdFx0XHRcdHdpZHRoOiBlbGVtV2lkdGgsXG5cdFx0XHRcdFx0XHRcdGhlaWdodDogZWxlbUhlaWdodFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGhvcml6b250YWw6IHJpZ2h0IDwgMCA/IFwibGVmdFwiIDogbGVmdCA+IDAgPyBcInJpZ2h0XCIgOiBcImNlbnRlclwiLFxuXHRcdFx0XHRcdFx0dmVydGljYWw6IGJvdHRvbSA8IDAgPyBcInRvcFwiIDogdG9wID4gMCA/IFwiYm90dG9tXCIgOiBcIm1pZGRsZVwiXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKCB0YXJnZXRXaWR0aCA8IGVsZW1XaWR0aCAmJiBhYnMoIGxlZnQgKyByaWdodCApIDwgdGFyZ2V0V2lkdGggKSB7XG5cdFx0XHRcdFx0ZmVlZGJhY2suaG9yaXpvbnRhbCA9IFwiY2VudGVyXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCB0YXJnZXRIZWlnaHQgPCBlbGVtSGVpZ2h0ICYmIGFicyggdG9wICsgYm90dG9tICkgPCB0YXJnZXRIZWlnaHQgKSB7XG5cdFx0XHRcdFx0ZmVlZGJhY2sudmVydGljYWwgPSBcIm1pZGRsZVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggbWF4KCBhYnMoIGxlZnQgKSwgYWJzKCByaWdodCApICkgPiBtYXgoIGFicyggdG9wICksIGFicyggYm90dG9tICkgKSApIHtcblx0XHRcdFx0XHRmZWVkYmFjay5pbXBvcnRhbnQgPSBcImhvcml6b250YWxcIjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmZWVkYmFjay5pbXBvcnRhbnQgPSBcInZlcnRpY2FsXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0b3B0aW9ucy51c2luZy5jYWxsKCB0aGlzLCBwcm9wcywgZmVlZGJhY2sgKTtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0ZWxlbS5vZmZzZXQoICQuZXh0ZW5kKCBwb3NpdGlvbiwgeyB1c2luZzogdXNpbmcgfSApICk7XG5cdH0pO1xufTtcblxuJC51aS5wb3NpdGlvbiA9IHtcblx0Zml0OiB7XG5cdFx0bGVmdDogZnVuY3Rpb24oIHBvc2l0aW9uLCBkYXRhICkge1xuXHRcdFx0dmFyIHdpdGhpbiA9IGRhdGEud2l0aGluLFxuXHRcdFx0XHR3aXRoaW5PZmZzZXQgPSB3aXRoaW4uaXNXaW5kb3cgPyB3aXRoaW4uc2Nyb2xsTGVmdCA6IHdpdGhpbi5vZmZzZXQubGVmdCxcblx0XHRcdFx0b3V0ZXJXaWR0aCA9IHdpdGhpbi53aWR0aCxcblx0XHRcdFx0Y29sbGlzaW9uUG9zTGVmdCA9IHBvc2l0aW9uLmxlZnQgLSBkYXRhLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQsXG5cdFx0XHRcdG92ZXJMZWZ0ID0gd2l0aGluT2Zmc2V0IC0gY29sbGlzaW9uUG9zTGVmdCxcblx0XHRcdFx0b3ZlclJpZ2h0ID0gY29sbGlzaW9uUG9zTGVmdCArIGRhdGEuY29sbGlzaW9uV2lkdGggLSBvdXRlcldpZHRoIC0gd2l0aGluT2Zmc2V0LFxuXHRcdFx0XHRuZXdPdmVyUmlnaHQ7XG5cblx0XHRcdC8vIGVsZW1lbnQgaXMgd2lkZXIgdGhhbiB3aXRoaW5cblx0XHRcdGlmICggZGF0YS5jb2xsaXNpb25XaWR0aCA+IG91dGVyV2lkdGggKSB7XG5cdFx0XHRcdC8vIGVsZW1lbnQgaXMgaW5pdGlhbGx5IG92ZXIgdGhlIGxlZnQgc2lkZSBvZiB3aXRoaW5cblx0XHRcdFx0aWYgKCBvdmVyTGVmdCA+IDAgJiYgb3ZlclJpZ2h0IDw9IDAgKSB7XG5cdFx0XHRcdFx0bmV3T3ZlclJpZ2h0ID0gcG9zaXRpb24ubGVmdCArIG92ZXJMZWZ0ICsgZGF0YS5jb2xsaXNpb25XaWR0aCAtIG91dGVyV2lkdGggLSB3aXRoaW5PZmZzZXQ7XG5cdFx0XHRcdFx0cG9zaXRpb24ubGVmdCArPSBvdmVyTGVmdCAtIG5ld092ZXJSaWdodDtcblx0XHRcdFx0Ly8gZWxlbWVudCBpcyBpbml0aWFsbHkgb3ZlciByaWdodCBzaWRlIG9mIHdpdGhpblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBvdmVyUmlnaHQgPiAwICYmIG92ZXJMZWZ0IDw9IDAgKSB7XG5cdFx0XHRcdFx0cG9zaXRpb24ubGVmdCA9IHdpdGhpbk9mZnNldDtcblx0XHRcdFx0Ly8gZWxlbWVudCBpcyBpbml0aWFsbHkgb3ZlciBib3RoIGxlZnQgYW5kIHJpZ2h0IHNpZGVzIG9mIHdpdGhpblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICggb3ZlckxlZnQgPiBvdmVyUmlnaHQgKSB7XG5cdFx0XHRcdFx0XHRwb3NpdGlvbi5sZWZ0ID0gd2l0aGluT2Zmc2V0ICsgb3V0ZXJXaWR0aCAtIGRhdGEuY29sbGlzaW9uV2lkdGg7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uLmxlZnQgPSB3aXRoaW5PZmZzZXQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHQvLyB0b28gZmFyIGxlZnQgLT4gYWxpZ24gd2l0aCBsZWZ0IGVkZ2Vcblx0XHRcdH0gZWxzZSBpZiAoIG92ZXJMZWZ0ID4gMCApIHtcblx0XHRcdFx0cG9zaXRpb24ubGVmdCArPSBvdmVyTGVmdDtcblx0XHRcdC8vIHRvbyBmYXIgcmlnaHQgLT4gYWxpZ24gd2l0aCByaWdodCBlZGdlXG5cdFx0XHR9IGVsc2UgaWYgKCBvdmVyUmlnaHQgPiAwICkge1xuXHRcdFx0XHRwb3NpdGlvbi5sZWZ0IC09IG92ZXJSaWdodDtcblx0XHRcdC8vIGFkanVzdCBiYXNlZCBvbiBwb3NpdGlvbiBhbmQgbWFyZ2luXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwb3NpdGlvbi5sZWZ0ID0gbWF4KCBwb3NpdGlvbi5sZWZ0IC0gY29sbGlzaW9uUG9zTGVmdCwgcG9zaXRpb24ubGVmdCApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dG9wOiBmdW5jdGlvbiggcG9zaXRpb24sIGRhdGEgKSB7XG5cdFx0XHR2YXIgd2l0aGluID0gZGF0YS53aXRoaW4sXG5cdFx0XHRcdHdpdGhpbk9mZnNldCA9IHdpdGhpbi5pc1dpbmRvdyA/IHdpdGhpbi5zY3JvbGxUb3AgOiB3aXRoaW4ub2Zmc2V0LnRvcCxcblx0XHRcdFx0b3V0ZXJIZWlnaHQgPSBkYXRhLndpdGhpbi5oZWlnaHQsXG5cdFx0XHRcdGNvbGxpc2lvblBvc1RvcCA9IHBvc2l0aW9uLnRvcCAtIGRhdGEuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wLFxuXHRcdFx0XHRvdmVyVG9wID0gd2l0aGluT2Zmc2V0IC0gY29sbGlzaW9uUG9zVG9wLFxuXHRcdFx0XHRvdmVyQm90dG9tID0gY29sbGlzaW9uUG9zVG9wICsgZGF0YS5jb2xsaXNpb25IZWlnaHQgLSBvdXRlckhlaWdodCAtIHdpdGhpbk9mZnNldCxcblx0XHRcdFx0bmV3T3ZlckJvdHRvbTtcblxuXHRcdFx0Ly8gZWxlbWVudCBpcyB0YWxsZXIgdGhhbiB3aXRoaW5cblx0XHRcdGlmICggZGF0YS5jb2xsaXNpb25IZWlnaHQgPiBvdXRlckhlaWdodCApIHtcblx0XHRcdFx0Ly8gZWxlbWVudCBpcyBpbml0aWFsbHkgb3ZlciB0aGUgdG9wIG9mIHdpdGhpblxuXHRcdFx0XHRpZiAoIG92ZXJUb3AgPiAwICYmIG92ZXJCb3R0b20gPD0gMCApIHtcblx0XHRcdFx0XHRuZXdPdmVyQm90dG9tID0gcG9zaXRpb24udG9wICsgb3ZlclRvcCArIGRhdGEuY29sbGlzaW9uSGVpZ2h0IC0gb3V0ZXJIZWlnaHQgLSB3aXRoaW5PZmZzZXQ7XG5cdFx0XHRcdFx0cG9zaXRpb24udG9wICs9IG92ZXJUb3AgLSBuZXdPdmVyQm90dG9tO1xuXHRcdFx0XHQvLyBlbGVtZW50IGlzIGluaXRpYWxseSBvdmVyIGJvdHRvbSBvZiB3aXRoaW5cblx0XHRcdFx0fSBlbHNlIGlmICggb3ZlckJvdHRvbSA+IDAgJiYgb3ZlclRvcCA8PSAwICkge1xuXHRcdFx0XHRcdHBvc2l0aW9uLnRvcCA9IHdpdGhpbk9mZnNldDtcblx0XHRcdFx0Ly8gZWxlbWVudCBpcyBpbml0aWFsbHkgb3ZlciBib3RoIHRvcCBhbmQgYm90dG9tIG9mIHdpdGhpblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICggb3ZlclRvcCA+IG92ZXJCb3R0b20gKSB7XG5cdFx0XHRcdFx0XHRwb3NpdGlvbi50b3AgPSB3aXRoaW5PZmZzZXQgKyBvdXRlckhlaWdodCAtIGRhdGEuY29sbGlzaW9uSGVpZ2h0O1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRwb3NpdGlvbi50b3AgPSB3aXRoaW5PZmZzZXQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHQvLyB0b28gZmFyIHVwIC0+IGFsaWduIHdpdGggdG9wXG5cdFx0XHR9IGVsc2UgaWYgKCBvdmVyVG9wID4gMCApIHtcblx0XHRcdFx0cG9zaXRpb24udG9wICs9IG92ZXJUb3A7XG5cdFx0XHQvLyB0b28gZmFyIGRvd24gLT4gYWxpZ24gd2l0aCBib3R0b20gZWRnZVxuXHRcdFx0fSBlbHNlIGlmICggb3ZlckJvdHRvbSA+IDAgKSB7XG5cdFx0XHRcdHBvc2l0aW9uLnRvcCAtPSBvdmVyQm90dG9tO1xuXHRcdFx0Ly8gYWRqdXN0IGJhc2VkIG9uIHBvc2l0aW9uIGFuZCBtYXJnaW5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHBvc2l0aW9uLnRvcCA9IG1heCggcG9zaXRpb24udG9wIC0gY29sbGlzaW9uUG9zVG9wLCBwb3NpdGlvbi50b3AgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdGZsaXA6IHtcblx0XHRsZWZ0OiBmdW5jdGlvbiggcG9zaXRpb24sIGRhdGEgKSB7XG5cdFx0XHR2YXIgd2l0aGluID0gZGF0YS53aXRoaW4sXG5cdFx0XHRcdHdpdGhpbk9mZnNldCA9IHdpdGhpbi5vZmZzZXQubGVmdCArIHdpdGhpbi5zY3JvbGxMZWZ0LFxuXHRcdFx0XHRvdXRlcldpZHRoID0gd2l0aGluLndpZHRoLFxuXHRcdFx0XHRvZmZzZXRMZWZ0ID0gd2l0aGluLmlzV2luZG93ID8gd2l0aGluLnNjcm9sbExlZnQgOiB3aXRoaW4ub2Zmc2V0LmxlZnQsXG5cdFx0XHRcdGNvbGxpc2lvblBvc0xlZnQgPSBwb3NpdGlvbi5sZWZ0IC0gZGF0YS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5MZWZ0LFxuXHRcdFx0XHRvdmVyTGVmdCA9IGNvbGxpc2lvblBvc0xlZnQgLSBvZmZzZXRMZWZ0LFxuXHRcdFx0XHRvdmVyUmlnaHQgPSBjb2xsaXNpb25Qb3NMZWZ0ICsgZGF0YS5jb2xsaXNpb25XaWR0aCAtIG91dGVyV2lkdGggLSBvZmZzZXRMZWZ0LFxuXHRcdFx0XHRteU9mZnNldCA9IGRhdGEubXlbIDAgXSA9PT0gXCJsZWZ0XCIgP1xuXHRcdFx0XHRcdC1kYXRhLmVsZW1XaWR0aCA6XG5cdFx0XHRcdFx0ZGF0YS5teVsgMCBdID09PSBcInJpZ2h0XCIgP1xuXHRcdFx0XHRcdFx0ZGF0YS5lbGVtV2lkdGggOlxuXHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0YXRPZmZzZXQgPSBkYXRhLmF0WyAwIF0gPT09IFwibGVmdFwiID9cblx0XHRcdFx0XHRkYXRhLnRhcmdldFdpZHRoIDpcblx0XHRcdFx0XHRkYXRhLmF0WyAwIF0gPT09IFwicmlnaHRcIiA/XG5cdFx0XHRcdFx0XHQtZGF0YS50YXJnZXRXaWR0aCA6XG5cdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRvZmZzZXQgPSAtMiAqIGRhdGEub2Zmc2V0WyAwIF0sXG5cdFx0XHRcdG5ld092ZXJSaWdodCxcblx0XHRcdFx0bmV3T3ZlckxlZnQ7XG5cblx0XHRcdGlmICggb3ZlckxlZnQgPCAwICkge1xuXHRcdFx0XHRuZXdPdmVyUmlnaHQgPSBwb3NpdGlvbi5sZWZ0ICsgbXlPZmZzZXQgKyBhdE9mZnNldCArIG9mZnNldCArIGRhdGEuY29sbGlzaW9uV2lkdGggLSBvdXRlcldpZHRoIC0gd2l0aGluT2Zmc2V0O1xuXHRcdFx0XHRpZiAoIG5ld092ZXJSaWdodCA8IDAgfHwgbmV3T3ZlclJpZ2h0IDwgYWJzKCBvdmVyTGVmdCApICkge1xuXHRcdFx0XHRcdHBvc2l0aW9uLmxlZnQgKz0gbXlPZmZzZXQgKyBhdE9mZnNldCArIG9mZnNldDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICggb3ZlclJpZ2h0ID4gMCApIHtcblx0XHRcdFx0bmV3T3ZlckxlZnQgPSBwb3NpdGlvbi5sZWZ0IC0gZGF0YS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5MZWZ0ICsgbXlPZmZzZXQgKyBhdE9mZnNldCArIG9mZnNldCAtIG9mZnNldExlZnQ7XG5cdFx0XHRcdGlmICggbmV3T3ZlckxlZnQgPiAwIHx8IGFicyggbmV3T3ZlckxlZnQgKSA8IG92ZXJSaWdodCApIHtcblx0XHRcdFx0XHRwb3NpdGlvbi5sZWZ0ICs9IG15T2Zmc2V0ICsgYXRPZmZzZXQgKyBvZmZzZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHRvcDogZnVuY3Rpb24oIHBvc2l0aW9uLCBkYXRhICkge1xuXHRcdFx0dmFyIHdpdGhpbiA9IGRhdGEud2l0aGluLFxuXHRcdFx0XHR3aXRoaW5PZmZzZXQgPSB3aXRoaW4ub2Zmc2V0LnRvcCArIHdpdGhpbi5zY3JvbGxUb3AsXG5cdFx0XHRcdG91dGVySGVpZ2h0ID0gd2l0aGluLmhlaWdodCxcblx0XHRcdFx0b2Zmc2V0VG9wID0gd2l0aGluLmlzV2luZG93ID8gd2l0aGluLnNjcm9sbFRvcCA6IHdpdGhpbi5vZmZzZXQudG9wLFxuXHRcdFx0XHRjb2xsaXNpb25Qb3NUb3AgPSBwb3NpdGlvbi50b3AgLSBkYXRhLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCxcblx0XHRcdFx0b3ZlclRvcCA9IGNvbGxpc2lvblBvc1RvcCAtIG9mZnNldFRvcCxcblx0XHRcdFx0b3ZlckJvdHRvbSA9IGNvbGxpc2lvblBvc1RvcCArIGRhdGEuY29sbGlzaW9uSGVpZ2h0IC0gb3V0ZXJIZWlnaHQgLSBvZmZzZXRUb3AsXG5cdFx0XHRcdHRvcCA9IGRhdGEubXlbIDEgXSA9PT0gXCJ0b3BcIixcblx0XHRcdFx0bXlPZmZzZXQgPSB0b3AgP1xuXHRcdFx0XHRcdC1kYXRhLmVsZW1IZWlnaHQgOlxuXHRcdFx0XHRcdGRhdGEubXlbIDEgXSA9PT0gXCJib3R0b21cIiA/XG5cdFx0XHRcdFx0XHRkYXRhLmVsZW1IZWlnaHQgOlxuXHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0YXRPZmZzZXQgPSBkYXRhLmF0WyAxIF0gPT09IFwidG9wXCIgP1xuXHRcdFx0XHRcdGRhdGEudGFyZ2V0SGVpZ2h0IDpcblx0XHRcdFx0XHRkYXRhLmF0WyAxIF0gPT09IFwiYm90dG9tXCIgP1xuXHRcdFx0XHRcdFx0LWRhdGEudGFyZ2V0SGVpZ2h0IDpcblx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdG9mZnNldCA9IC0yICogZGF0YS5vZmZzZXRbIDEgXSxcblx0XHRcdFx0bmV3T3ZlclRvcCxcblx0XHRcdFx0bmV3T3ZlckJvdHRvbTtcblx0XHRcdGlmICggb3ZlclRvcCA8IDAgKSB7XG5cdFx0XHRcdG5ld092ZXJCb3R0b20gPSBwb3NpdGlvbi50b3AgKyBteU9mZnNldCArIGF0T2Zmc2V0ICsgb2Zmc2V0ICsgZGF0YS5jb2xsaXNpb25IZWlnaHQgLSBvdXRlckhlaWdodCAtIHdpdGhpbk9mZnNldDtcblx0XHRcdFx0aWYgKCBuZXdPdmVyQm90dG9tIDwgMCB8fCBuZXdPdmVyQm90dG9tIDwgYWJzKCBvdmVyVG9wICkgKSB7XG5cdFx0XHRcdFx0cG9zaXRpb24udG9wICs9IG15T2Zmc2V0ICsgYXRPZmZzZXQgKyBvZmZzZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoIG92ZXJCb3R0b20gPiAwICkge1xuXHRcdFx0XHRuZXdPdmVyVG9wID0gcG9zaXRpb24udG9wIC0gZGF0YS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3AgKyBteU9mZnNldCArIGF0T2Zmc2V0ICsgb2Zmc2V0IC0gb2Zmc2V0VG9wO1xuXHRcdFx0XHRpZiAoIG5ld092ZXJUb3AgPiAwIHx8IGFicyggbmV3T3ZlclRvcCApIDwgb3ZlckJvdHRvbSApIHtcblx0XHRcdFx0XHRwb3NpdGlvbi50b3AgKz0gbXlPZmZzZXQgKyBhdE9mZnNldCArIG9mZnNldDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0ZmxpcGZpdDoge1xuXHRcdGxlZnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0JC51aS5wb3NpdGlvbi5mbGlwLmxlZnQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0JC51aS5wb3NpdGlvbi5maXQubGVmdC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fSxcblx0XHR0b3A6IGZ1bmN0aW9uKCkge1xuXHRcdFx0JC51aS5wb3NpdGlvbi5mbGlwLnRvcC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHQkLnVpLnBvc2l0aW9uLmZpdC50b3AuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fVxufTtcblxuLy8gZnJhY3Rpb24gc3VwcG9ydCB0ZXN0XG4oZnVuY3Rpb24oKSB7XG5cdHZhciB0ZXN0RWxlbWVudCwgdGVzdEVsZW1lbnRQYXJlbnQsIHRlc3RFbGVtZW50U3R5bGUsIG9mZnNldExlZnQsIGksXG5cdFx0Ym9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcImJvZHlcIiApWyAwIF0sXG5cdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdC8vQ3JlYXRlIGEgXCJmYWtlIGJvZHlcIiBmb3IgdGVzdGluZyBiYXNlZCBvbiBtZXRob2QgdXNlZCBpbiBqUXVlcnkuc3VwcG9ydFxuXHR0ZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIGJvZHkgPyBcImRpdlwiIDogXCJib2R5XCIgKTtcblx0dGVzdEVsZW1lbnRTdHlsZSA9IHtcblx0XHR2aXNpYmlsaXR5OiBcImhpZGRlblwiLFxuXHRcdHdpZHRoOiAwLFxuXHRcdGhlaWdodDogMCxcblx0XHRib3JkZXI6IDAsXG5cdFx0bWFyZ2luOiAwLFxuXHRcdGJhY2tncm91bmQ6IFwibm9uZVwiXG5cdH07XG5cdGlmICggYm9keSApIHtcblx0XHQkLmV4dGVuZCggdGVzdEVsZW1lbnRTdHlsZSwge1xuXHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdGxlZnQ6IFwiLTEwMDBweFwiLFxuXHRcdFx0dG9wOiBcIi0xMDAwcHhcIlxuXHRcdH0pO1xuXHR9XG5cdGZvciAoIGkgaW4gdGVzdEVsZW1lbnRTdHlsZSApIHtcblx0XHR0ZXN0RWxlbWVudC5zdHlsZVsgaSBdID0gdGVzdEVsZW1lbnRTdHlsZVsgaSBdO1xuXHR9XG5cdHRlc3RFbGVtZW50LmFwcGVuZENoaWxkKCBkaXYgKTtcblx0dGVzdEVsZW1lbnRQYXJlbnQgPSBib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblx0dGVzdEVsZW1lbnRQYXJlbnQuaW5zZXJ0QmVmb3JlKCB0ZXN0RWxlbWVudCwgdGVzdEVsZW1lbnRQYXJlbnQuZmlyc3RDaGlsZCApO1xuXG5cdGRpdi5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDEwLjc0MzIyMjJweDtcIjtcblxuXHRvZmZzZXRMZWZ0ID0gJCggZGl2ICkub2Zmc2V0KCkubGVmdDtcblx0c3VwcG9ydHNPZmZzZXRGcmFjdGlvbnMgPSBvZmZzZXRMZWZ0ID4gMTAgJiYgb2Zmc2V0TGVmdCA8IDExO1xuXG5cdHRlc3RFbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG5cdHRlc3RFbGVtZW50UGFyZW50LnJlbW92ZUNoaWxkKCB0ZXN0RWxlbWVudCApO1xufSkoKTtcblxufSkoKTtcblxudmFyIHBvc2l0aW9uID0gJC51aS5wb3NpdGlvbjtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBBY2NvcmRpb24gMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9hY2NvcmRpb24vXG4gKi9cblxuXG52YXIgYWNjb3JkaW9uID0gJC53aWRnZXQoIFwidWkuYWNjb3JkaW9uXCIsIHtcblx0dmVyc2lvbjogXCIxLjExLjRcIixcblx0b3B0aW9uczoge1xuXHRcdGFjdGl2ZTogMCxcblx0XHRhbmltYXRlOiB7fSxcblx0XHRjb2xsYXBzaWJsZTogZmFsc2UsXG5cdFx0ZXZlbnQ6IFwiY2xpY2tcIixcblx0XHRoZWFkZXI6IFwiPiBsaSA+IDpmaXJzdC1jaGlsZCw+IDpub3QobGkpOmV2ZW5cIixcblx0XHRoZWlnaHRTdHlsZTogXCJhdXRvXCIsXG5cdFx0aWNvbnM6IHtcblx0XHRcdGFjdGl2ZUhlYWRlcjogXCJ1aS1pY29uLXRyaWFuZ2xlLTEtc1wiLFxuXHRcdFx0aGVhZGVyOiBcInVpLWljb24tdHJpYW5nbGUtMS1lXCJcblx0XHR9LFxuXG5cdFx0Ly8gY2FsbGJhY2tzXG5cdFx0YWN0aXZhdGU6IG51bGwsXG5cdFx0YmVmb3JlQWN0aXZhdGU6IG51bGxcblx0fSxcblxuXHRoaWRlUHJvcHM6IHtcblx0XHRib3JkZXJUb3BXaWR0aDogXCJoaWRlXCIsXG5cdFx0Ym9yZGVyQm90dG9tV2lkdGg6IFwiaGlkZVwiLFxuXHRcdHBhZGRpbmdUb3A6IFwiaGlkZVwiLFxuXHRcdHBhZGRpbmdCb3R0b206IFwiaGlkZVwiLFxuXHRcdGhlaWdodDogXCJoaWRlXCJcblx0fSxcblxuXHRzaG93UHJvcHM6IHtcblx0XHRib3JkZXJUb3BXaWR0aDogXCJzaG93XCIsXG5cdFx0Ym9yZGVyQm90dG9tV2lkdGg6IFwic2hvd1wiLFxuXHRcdHBhZGRpbmdUb3A6IFwic2hvd1wiLFxuXHRcdHBhZGRpbmdCb3R0b206IFwic2hvd1wiLFxuXHRcdGhlaWdodDogXCJzaG93XCJcblx0fSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblx0XHR0aGlzLnByZXZTaG93ID0gdGhpcy5wcmV2SGlkZSA9ICQoKTtcblx0XHR0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoIFwidWktYWNjb3JkaW9uIHVpLXdpZGdldCB1aS1oZWxwZXItcmVzZXRcIiApXG5cdFx0XHQvLyBBUklBXG5cdFx0XHQuYXR0ciggXCJyb2xlXCIsIFwidGFibGlzdFwiICk7XG5cblx0XHQvLyBkb24ndCBhbGxvdyBjb2xsYXBzaWJsZTogZmFsc2UgYW5kIGFjdGl2ZTogZmFsc2UgLyBudWxsXG5cdFx0aWYgKCAhb3B0aW9ucy5jb2xsYXBzaWJsZSAmJiAob3B0aW9ucy5hY3RpdmUgPT09IGZhbHNlIHx8IG9wdGlvbnMuYWN0aXZlID09IG51bGwpICkge1xuXHRcdFx0b3B0aW9ucy5hY3RpdmUgPSAwO1xuXHRcdH1cblxuXHRcdHRoaXMuX3Byb2Nlc3NQYW5lbHMoKTtcblx0XHQvLyBoYW5kbGUgbmVnYXRpdmUgdmFsdWVzXG5cdFx0aWYgKCBvcHRpb25zLmFjdGl2ZSA8IDAgKSB7XG5cdFx0XHRvcHRpb25zLmFjdGl2ZSArPSB0aGlzLmhlYWRlcnMubGVuZ3RoO1xuXHRcdH1cblx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cdH0sXG5cblx0X2dldENyZWF0ZUV2ZW50RGF0YTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGhlYWRlcjogdGhpcy5hY3RpdmUsXG5cdFx0XHRwYW5lbDogIXRoaXMuYWN0aXZlLmxlbmd0aCA/ICQoKSA6IHRoaXMuYWN0aXZlLm5leHQoKVxuXHRcdH07XG5cdH0sXG5cblx0X2NyZWF0ZUljb25zOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaWNvbnMgPSB0aGlzLm9wdGlvbnMuaWNvbnM7XG5cdFx0aWYgKCBpY29ucyApIHtcblx0XHRcdCQoIFwiPHNwYW4+XCIgKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktYWNjb3JkaW9uLWhlYWRlci1pY29uIHVpLWljb24gXCIgKyBpY29ucy5oZWFkZXIgKVxuXHRcdFx0XHQucHJlcGVuZFRvKCB0aGlzLmhlYWRlcnMgKTtcblx0XHRcdHRoaXMuYWN0aXZlLmNoaWxkcmVuKCBcIi51aS1hY2NvcmRpb24taGVhZGVyLWljb25cIiApXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyggaWNvbnMuaGVhZGVyIClcblx0XHRcdFx0LmFkZENsYXNzKCBpY29ucy5hY3RpdmVIZWFkZXIgKTtcblx0XHRcdHRoaXMuaGVhZGVycy5hZGRDbGFzcyggXCJ1aS1hY2NvcmRpb24taWNvbnNcIiApO1xuXHRcdH1cblx0fSxcblxuXHRfZGVzdHJveUljb25zOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmhlYWRlcnNcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1hY2NvcmRpb24taWNvbnNcIiApXG5cdFx0XHQuY2hpbGRyZW4oIFwiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvblwiIClcblx0XHRcdFx0LnJlbW92ZSgpO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgY29udGVudHM7XG5cblx0XHQvLyBjbGVhbiB1cCBtYWluIGVsZW1lbnRcblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1hY2NvcmRpb24gdWktd2lkZ2V0IHVpLWhlbHBlci1yZXNldFwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcInJvbGVcIiApO1xuXG5cdFx0Ly8gY2xlYW4gdXAgaGVhZGVyc1xuXHRcdHRoaXMuaGVhZGVyc1xuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWFjY29yZGlvbi1oZWFkZXIgdWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUgdWktc3RhdGUtZGVmYXVsdCBcIiArXG5cdFx0XHRcdFwidWktY29ybmVyLWFsbCB1aS1zdGF0ZS1hY3RpdmUgdWktc3RhdGUtZGlzYWJsZWQgdWktY29ybmVyLXRvcFwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcInJvbGVcIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWV4cGFuZGVkXCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1zZWxlY3RlZFwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtY29udHJvbHNcIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJ0YWJJbmRleFwiIClcblx0XHRcdC5yZW1vdmVVbmlxdWVJZCgpO1xuXG5cdFx0dGhpcy5fZGVzdHJveUljb25zKCk7XG5cblx0XHQvLyBjbGVhbiB1cCBjb250ZW50IHBhbmVsc1xuXHRcdGNvbnRlbnRzID0gdGhpcy5oZWFkZXJzLm5leHQoKVxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWhlbHBlci1yZXNldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tIFwiICtcblx0XHRcdFx0XCJ1aS1hY2NvcmRpb24tY29udGVudCB1aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmUgdWktc3RhdGUtZGlzYWJsZWRcIiApXG5cdFx0XHQuY3NzKCBcImRpc3BsYXlcIiwgXCJcIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJyb2xlXCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1oaWRkZW5cIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWxhYmVsbGVkYnlcIiApXG5cdFx0XHQucmVtb3ZlVW5pcXVlSWQoKTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmhlaWdodFN0eWxlICE9PSBcImNvbnRlbnRcIiApIHtcblx0XHRcdGNvbnRlbnRzLmNzcyggXCJoZWlnaHRcIiwgXCJcIiApO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRpZiAoIGtleSA9PT0gXCJhY3RpdmVcIiApIHtcblx0XHRcdC8vIF9hY3RpdmF0ZSgpIHdpbGwgaGFuZGxlIGludmFsaWQgdmFsdWVzIGFuZCB1cGRhdGUgdGhpcy5vcHRpb25zXG5cdFx0XHR0aGlzLl9hY3RpdmF0ZSggdmFsdWUgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJldmVudFwiICkge1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuZXZlbnQgKSB7XG5cdFx0XHRcdHRoaXMuX29mZiggdGhpcy5oZWFkZXJzLCB0aGlzLm9wdGlvbnMuZXZlbnQgKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3NldHVwRXZlbnRzKCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cblx0XHQvLyBzZXR0aW5nIGNvbGxhcHNpYmxlOiBmYWxzZSB3aGlsZSBjb2xsYXBzZWQ7IG9wZW4gZmlyc3QgcGFuZWxcblx0XHRpZiAoIGtleSA9PT0gXCJjb2xsYXBzaWJsZVwiICYmICF2YWx1ZSAmJiB0aGlzLm9wdGlvbnMuYWN0aXZlID09PSBmYWxzZSApIHtcblx0XHRcdHRoaXMuX2FjdGl2YXRlKCAwICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwiaWNvbnNcIiApIHtcblx0XHRcdHRoaXMuX2Rlc3Ryb3lJY29ucygpO1xuXHRcdFx0aWYgKCB2YWx1ZSApIHtcblx0XHRcdFx0dGhpcy5fY3JlYXRlSWNvbnMoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyAjNTMzMiAtIG9wYWNpdHkgZG9lc24ndCBjYXNjYWRlIHRvIHBvc2l0aW9uZWQgZWxlbWVudHMgaW4gSUVcblx0XHQvLyBzbyB3ZSBuZWVkIHRvIGFkZCB0aGUgZGlzYWJsZWQgY2xhc3MgdG8gdGhlIGhlYWRlcnMgYW5kIHBhbmVsc1xuXHRcdGlmICgga2V5ID09PSBcImRpc2FibGVkXCIgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIsICEhdmFsdWUgKVxuXHRcdFx0XHQuYXR0ciggXCJhcmlhLWRpc2FibGVkXCIsIHZhbHVlICk7XG5cdFx0XHR0aGlzLmhlYWRlcnMuYWRkKCB0aGlzLmhlYWRlcnMubmV4dCgpIClcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIsICEhdmFsdWUgKTtcblx0XHR9XG5cdH0sXG5cblx0X2tleWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoIGV2ZW50LmFsdEtleSB8fCBldmVudC5jdHJsS2V5ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBrZXlDb2RlID0gJC51aS5rZXlDb2RlLFxuXHRcdFx0bGVuZ3RoID0gdGhpcy5oZWFkZXJzLmxlbmd0aCxcblx0XHRcdGN1cnJlbnRJbmRleCA9IHRoaXMuaGVhZGVycy5pbmRleCggZXZlbnQudGFyZ2V0ICksXG5cdFx0XHR0b0ZvY3VzID0gZmFsc2U7XG5cblx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXHRcdFx0Y2FzZSBrZXlDb2RlLlJJR0hUOlxuXHRcdFx0Y2FzZSBrZXlDb2RlLkRPV046XG5cdFx0XHRcdHRvRm9jdXMgPSB0aGlzLmhlYWRlcnNbICggY3VycmVudEluZGV4ICsgMSApICUgbGVuZ3RoIF07XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBrZXlDb2RlLkxFRlQ6XG5cdFx0XHRjYXNlIGtleUNvZGUuVVA6XG5cdFx0XHRcdHRvRm9jdXMgPSB0aGlzLmhlYWRlcnNbICggY3VycmVudEluZGV4IC0gMSArIGxlbmd0aCApICUgbGVuZ3RoIF07XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBrZXlDb2RlLlNQQUNFOlxuXHRcdFx0Y2FzZSBrZXlDb2RlLkVOVEVSOlxuXHRcdFx0XHR0aGlzLl9ldmVudEhhbmRsZXIoIGV2ZW50ICk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBrZXlDb2RlLkhPTUU6XG5cdFx0XHRcdHRvRm9jdXMgPSB0aGlzLmhlYWRlcnNbIDAgXTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIGtleUNvZGUuRU5EOlxuXHRcdFx0XHR0b0ZvY3VzID0gdGhpcy5oZWFkZXJzWyBsZW5ndGggLSAxIF07XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdGlmICggdG9Gb2N1cyApIHtcblx0XHRcdCQoIGV2ZW50LnRhcmdldCApLmF0dHIoIFwidGFiSW5kZXhcIiwgLTEgKTtcblx0XHRcdCQoIHRvRm9jdXMgKS5hdHRyKCBcInRhYkluZGV4XCIsIDAgKTtcblx0XHRcdHRvRm9jdXMuZm9jdXMoKTtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9wYW5lbEtleURvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5VUCAmJiBldmVudC5jdHJsS2V5ICkge1xuXHRcdFx0JCggZXZlbnQuY3VycmVudFRhcmdldCApLnByZXYoKS5mb2N1cygpO1xuXHRcdH1cblx0fSxcblxuXHRyZWZyZXNoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblx0XHR0aGlzLl9wcm9jZXNzUGFuZWxzKCk7XG5cblx0XHQvLyB3YXMgY29sbGFwc2VkIG9yIG5vIHBhbmVsXG5cdFx0aWYgKCAoIG9wdGlvbnMuYWN0aXZlID09PSBmYWxzZSAmJiBvcHRpb25zLmNvbGxhcHNpYmxlID09PSB0cnVlICkgfHwgIXRoaXMuaGVhZGVycy5sZW5ndGggKSB7XG5cdFx0XHRvcHRpb25zLmFjdGl2ZSA9IGZhbHNlO1xuXHRcdFx0dGhpcy5hY3RpdmUgPSAkKCk7XG5cdFx0Ly8gYWN0aXZlIGZhbHNlIG9ubHkgd2hlbiBjb2xsYXBzaWJsZSBpcyB0cnVlXG5cdFx0fSBlbHNlIGlmICggb3B0aW9ucy5hY3RpdmUgPT09IGZhbHNlICkge1xuXHRcdFx0dGhpcy5fYWN0aXZhdGUoIDAgKTtcblx0XHQvLyB3YXMgYWN0aXZlLCBidXQgYWN0aXZlIHBhbmVsIGlzIGdvbmVcblx0XHR9IGVsc2UgaWYgKCB0aGlzLmFjdGl2ZS5sZW5ndGggJiYgISQuY29udGFpbnMoIHRoaXMuZWxlbWVudFsgMCBdLCB0aGlzLmFjdGl2ZVsgMCBdICkgKSB7XG5cdFx0XHQvLyBhbGwgcmVtYWluaW5nIHBhbmVsIGFyZSBkaXNhYmxlZFxuXHRcdFx0aWYgKCB0aGlzLmhlYWRlcnMubGVuZ3RoID09PSB0aGlzLmhlYWRlcnMuZmluZChcIi51aS1zdGF0ZS1kaXNhYmxlZFwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdG9wdGlvbnMuYWN0aXZlID0gZmFsc2U7XG5cdFx0XHRcdHRoaXMuYWN0aXZlID0gJCgpO1xuXHRcdFx0Ly8gYWN0aXZhdGUgcHJldmlvdXMgcGFuZWxcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX2FjdGl2YXRlKCBNYXRoLm1heCggMCwgb3B0aW9ucy5hY3RpdmUgLSAxICkgKTtcblx0XHRcdH1cblx0XHQvLyB3YXMgYWN0aXZlLCBhY3RpdmUgcGFuZWwgc3RpbGwgZXhpc3RzXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIG1ha2Ugc3VyZSBhY3RpdmUgaW5kZXggaXMgY29ycmVjdFxuXHRcdFx0b3B0aW9ucy5hY3RpdmUgPSB0aGlzLmhlYWRlcnMuaW5kZXgoIHRoaXMuYWN0aXZlICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fZGVzdHJveUljb25zKCk7XG5cblx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cdH0sXG5cblx0X3Byb2Nlc3NQYW5lbHM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwcmV2SGVhZGVycyA9IHRoaXMuaGVhZGVycyxcblx0XHRcdHByZXZQYW5lbHMgPSB0aGlzLnBhbmVscztcblxuXHRcdHRoaXMuaGVhZGVycyA9IHRoaXMuZWxlbWVudC5maW5kKCB0aGlzLm9wdGlvbnMuaGVhZGVyIClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1hY2NvcmRpb24taGVhZGVyIHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWFsbFwiICk7XG5cblx0XHR0aGlzLnBhbmVscyA9IHRoaXMuaGVhZGVycy5uZXh0KClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1hY2NvcmRpb24tY29udGVudCB1aS1oZWxwZXItcmVzZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbVwiIClcblx0XHRcdC5maWx0ZXIoIFwiOm5vdCgudWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlKVwiIClcblx0XHRcdC5oaWRlKCk7XG5cblx0XHQvLyBBdm9pZCBtZW1vcnkgbGVha3MgKCMxMDA1Nilcblx0XHRpZiAoIHByZXZQYW5lbHMgKSB7XG5cdFx0XHR0aGlzLl9vZmYoIHByZXZIZWFkZXJzLm5vdCggdGhpcy5oZWFkZXJzICkgKTtcblx0XHRcdHRoaXMuX29mZiggcHJldlBhbmVscy5ub3QoIHRoaXMucGFuZWxzICkgKTtcblx0XHR9XG5cdH0sXG5cblx0X3JlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtYXhIZWlnaHQsXG5cdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0aGVpZ2h0U3R5bGUgPSBvcHRpb25zLmhlaWdodFN0eWxlLFxuXHRcdFx0cGFyZW50ID0gdGhpcy5lbGVtZW50LnBhcmVudCgpO1xuXG5cdFx0dGhpcy5hY3RpdmUgPSB0aGlzLl9maW5kQWN0aXZlKCBvcHRpb25zLmFjdGl2ZSApXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIHVpLWNvcm5lci10b3BcIiApXG5cdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktY29ybmVyLWFsbFwiICk7XG5cdFx0dGhpcy5hY3RpdmUubmV4dCgpXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlXCIgKVxuXHRcdFx0LnNob3coKTtcblxuXHRcdHRoaXMuaGVhZGVyc1xuXHRcdFx0LmF0dHIoIFwicm9sZVwiLCBcInRhYlwiIClcblx0XHRcdC5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgaGVhZGVyID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdGhlYWRlcklkID0gaGVhZGVyLnVuaXF1ZUlkKCkuYXR0ciggXCJpZFwiICksXG5cdFx0XHRcdFx0cGFuZWwgPSBoZWFkZXIubmV4dCgpLFxuXHRcdFx0XHRcdHBhbmVsSWQgPSBwYW5lbC51bmlxdWVJZCgpLmF0dHIoIFwiaWRcIiApO1xuXHRcdFx0XHRoZWFkZXIuYXR0ciggXCJhcmlhLWNvbnRyb2xzXCIsIHBhbmVsSWQgKTtcblx0XHRcdFx0cGFuZWwuYXR0ciggXCJhcmlhLWxhYmVsbGVkYnlcIiwgaGVhZGVySWQgKTtcblx0XHRcdH0pXG5cdFx0XHQubmV4dCgpXG5cdFx0XHRcdC5hdHRyKCBcInJvbGVcIiwgXCJ0YWJwYW5lbFwiICk7XG5cblx0XHR0aGlzLmhlYWRlcnNcblx0XHRcdC5ub3QoIHRoaXMuYWN0aXZlIClcblx0XHRcdC5hdHRyKHtcblx0XHRcdFx0XCJhcmlhLXNlbGVjdGVkXCI6IFwiZmFsc2VcIixcblx0XHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwiZmFsc2VcIixcblx0XHRcdFx0dGFiSW5kZXg6IC0xXG5cdFx0XHR9KVxuXHRcdFx0Lm5leHQoKVxuXHRcdFx0XHQuYXR0cih7XG5cdFx0XHRcdFx0XCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuXHRcdFx0XHR9KVxuXHRcdFx0XHQuaGlkZSgpO1xuXG5cdFx0Ly8gbWFrZSBzdXJlIGF0IGxlYXN0IG9uZSBoZWFkZXIgaXMgaW4gdGhlIHRhYiBvcmRlclxuXHRcdGlmICggIXRoaXMuYWN0aXZlLmxlbmd0aCApIHtcblx0XHRcdHRoaXMuaGVhZGVycy5lcSggMCApLmF0dHIoIFwidGFiSW5kZXhcIiwgMCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmFjdGl2ZS5hdHRyKHtcblx0XHRcdFx0XCJhcmlhLXNlbGVjdGVkXCI6IFwidHJ1ZVwiLFxuXHRcdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJ0cnVlXCIsXG5cdFx0XHRcdHRhYkluZGV4OiAwXG5cdFx0XHR9KVxuXHRcdFx0Lm5leHQoKVxuXHRcdFx0XHQuYXR0cih7XG5cdFx0XHRcdFx0XCJhcmlhLWhpZGRlblwiOiBcImZhbHNlXCJcblx0XHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fY3JlYXRlSWNvbnMoKTtcblxuXHRcdHRoaXMuX3NldHVwRXZlbnRzKCBvcHRpb25zLmV2ZW50ICk7XG5cblx0XHRpZiAoIGhlaWdodFN0eWxlID09PSBcImZpbGxcIiApIHtcblx0XHRcdG1heEhlaWdodCA9IHBhcmVudC5oZWlnaHQoKTtcblx0XHRcdHRoaXMuZWxlbWVudC5zaWJsaW5ncyggXCI6dmlzaWJsZVwiICkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsZW0gPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0cG9zaXRpb24gPSBlbGVtLmNzcyggXCJwb3NpdGlvblwiICk7XG5cblx0XHRcdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiIHx8IHBvc2l0aW9uID09PSBcImZpeGVkXCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG1heEhlaWdodCAtPSBlbGVtLm91dGVySGVpZ2h0KCB0cnVlICk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5oZWFkZXJzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdG1heEhlaWdodCAtPSAkKCB0aGlzICkub3V0ZXJIZWlnaHQoIHRydWUgKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLmhlYWRlcnMubmV4dCgpXG5cdFx0XHRcdC5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCQoIHRoaXMgKS5oZWlnaHQoIE1hdGgubWF4KCAwLCBtYXhIZWlnaHQgLVxuXHRcdFx0XHRcdFx0JCggdGhpcyApLmlubmVySGVpZ2h0KCkgKyAkKCB0aGlzICkuaGVpZ2h0KCkgKSApO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuY3NzKCBcIm92ZXJmbG93XCIsIFwiYXV0b1wiICk7XG5cdFx0fSBlbHNlIGlmICggaGVpZ2h0U3R5bGUgPT09IFwiYXV0b1wiICkge1xuXHRcdFx0bWF4SGVpZ2h0ID0gMDtcblx0XHRcdHRoaXMuaGVhZGVycy5uZXh0KClcblx0XHRcdFx0LmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0bWF4SGVpZ2h0ID0gTWF0aC5tYXgoIG1heEhlaWdodCwgJCggdGhpcyApLmNzcyggXCJoZWlnaHRcIiwgXCJcIiApLmhlaWdodCgpICk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5oZWlnaHQoIG1heEhlaWdodCApO1xuXHRcdH1cblx0fSxcblxuXHRfYWN0aXZhdGU6IGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHR2YXIgYWN0aXZlID0gdGhpcy5fZmluZEFjdGl2ZSggaW5kZXggKVsgMCBdO1xuXG5cdFx0Ly8gdHJ5aW5nIHRvIGFjdGl2YXRlIHRoZSBhbHJlYWR5IGFjdGl2ZSBwYW5lbFxuXHRcdGlmICggYWN0aXZlID09PSB0aGlzLmFjdGl2ZVsgMCBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIHRyeWluZyB0byBjb2xsYXBzZSwgc2ltdWxhdGUgYSBjbGljayBvbiB0aGUgY3VycmVudGx5IGFjdGl2ZSBoZWFkZXJcblx0XHRhY3RpdmUgPSBhY3RpdmUgfHwgdGhpcy5hY3RpdmVbIDAgXTtcblxuXHRcdHRoaXMuX2V2ZW50SGFuZGxlcih7XG5cdFx0XHR0YXJnZXQ6IGFjdGl2ZSxcblx0XHRcdGN1cnJlbnRUYXJnZXQ6IGFjdGl2ZSxcblx0XHRcdHByZXZlbnREZWZhdWx0OiAkLm5vb3Bcblx0XHR9KTtcblx0fSxcblxuXHRfZmluZEFjdGl2ZTogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0eXBlb2Ygc2VsZWN0b3IgPT09IFwibnVtYmVyXCIgPyB0aGlzLmhlYWRlcnMuZXEoIHNlbGVjdG9yICkgOiAkKCk7XG5cdH0sXG5cblx0X3NldHVwRXZlbnRzOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGV2ZW50cyA9IHtcblx0XHRcdGtleWRvd246IFwiX2tleWRvd25cIlxuXHRcdH07XG5cdFx0aWYgKCBldmVudCApIHtcblx0XHRcdCQuZWFjaCggZXZlbnQuc3BsaXQoIFwiIFwiICksIGZ1bmN0aW9uKCBpbmRleCwgZXZlbnROYW1lICkge1xuXHRcdFx0XHRldmVudHNbIGV2ZW50TmFtZSBdID0gXCJfZXZlbnRIYW5kbGVyXCI7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHR0aGlzLl9vZmYoIHRoaXMuaGVhZGVycy5hZGQoIHRoaXMuaGVhZGVycy5uZXh0KCkgKSApO1xuXHRcdHRoaXMuX29uKCB0aGlzLmhlYWRlcnMsIGV2ZW50cyApO1xuXHRcdHRoaXMuX29uKCB0aGlzLmhlYWRlcnMubmV4dCgpLCB7IGtleWRvd246IFwiX3BhbmVsS2V5RG93blwiIH0pO1xuXHRcdHRoaXMuX2hvdmVyYWJsZSggdGhpcy5oZWFkZXJzICk7XG5cdFx0dGhpcy5fZm9jdXNhYmxlKCB0aGlzLmhlYWRlcnMgKTtcblx0fSxcblxuXHRfZXZlbnRIYW5kbGVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRhY3RpdmUgPSB0aGlzLmFjdGl2ZSxcblx0XHRcdGNsaWNrZWQgPSAkKCBldmVudC5jdXJyZW50VGFyZ2V0ICksXG5cdFx0XHRjbGlja2VkSXNBY3RpdmUgPSBjbGlja2VkWyAwIF0gPT09IGFjdGl2ZVsgMCBdLFxuXHRcdFx0Y29sbGFwc2luZyA9IGNsaWNrZWRJc0FjdGl2ZSAmJiBvcHRpb25zLmNvbGxhcHNpYmxlLFxuXHRcdFx0dG9TaG93ID0gY29sbGFwc2luZyA/ICQoKSA6IGNsaWNrZWQubmV4dCgpLFxuXHRcdFx0dG9IaWRlID0gYWN0aXZlLm5leHQoKSxcblx0XHRcdGV2ZW50RGF0YSA9IHtcblx0XHRcdFx0b2xkSGVhZGVyOiBhY3RpdmUsXG5cdFx0XHRcdG9sZFBhbmVsOiB0b0hpZGUsXG5cdFx0XHRcdG5ld0hlYWRlcjogY29sbGFwc2luZyA/ICQoKSA6IGNsaWNrZWQsXG5cdFx0XHRcdG5ld1BhbmVsOiB0b1Nob3dcblx0XHRcdH07XG5cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0aWYgKFxuXHRcdFx0XHQvLyBjbGljayBvbiBhY3RpdmUgaGVhZGVyLCBidXQgbm90IGNvbGxhcHNpYmxlXG5cdFx0XHRcdCggY2xpY2tlZElzQWN0aXZlICYmICFvcHRpb25zLmNvbGxhcHNpYmxlICkgfHxcblx0XHRcdFx0Ly8gYWxsb3cgY2FuY2VsaW5nIGFjdGl2YXRpb25cblx0XHRcdFx0KCB0aGlzLl90cmlnZ2VyKCBcImJlZm9yZUFjdGl2YXRlXCIsIGV2ZW50LCBldmVudERhdGEgKSA9PT0gZmFsc2UgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRvcHRpb25zLmFjdGl2ZSA9IGNvbGxhcHNpbmcgPyBmYWxzZSA6IHRoaXMuaGVhZGVycy5pbmRleCggY2xpY2tlZCApO1xuXG5cdFx0Ly8gd2hlbiB0aGUgY2FsbCB0byAuX3RvZ2dsZSgpIGNvbWVzIGFmdGVyIHRoZSBjbGFzcyBjaGFuZ2VzXG5cdFx0Ly8gaXQgY2F1c2VzIGEgdmVyeSBvZGQgYnVnIGluIElFIDggKHNlZSAjNjcyMClcblx0XHR0aGlzLmFjdGl2ZSA9IGNsaWNrZWRJc0FjdGl2ZSA/ICQoKSA6IGNsaWNrZWQ7XG5cdFx0dGhpcy5fdG9nZ2xlKCBldmVudERhdGEgKTtcblxuXHRcdC8vIHN3aXRjaCBjbGFzc2VzXG5cdFx0Ly8gY29ybmVyIGNsYXNzZXMgb24gdGhlIHByZXZpb3VzbHkgYWN0aXZlIGhlYWRlciBzdGF5IGFmdGVyIHRoZSBhbmltYXRpb25cblx0XHRhY3RpdmUucmVtb3ZlQ2xhc3MoIFwidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUgdWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHRpZiAoIG9wdGlvbnMuaWNvbnMgKSB7XG5cdFx0XHRhY3RpdmUuY2hpbGRyZW4oIFwiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvblwiIClcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCBvcHRpb25zLmljb25zLmFjdGl2ZUhlYWRlciApXG5cdFx0XHRcdC5hZGRDbGFzcyggb3B0aW9ucy5pY29ucy5oZWFkZXIgKTtcblx0XHR9XG5cblx0XHRpZiAoICFjbGlja2VkSXNBY3RpdmUgKSB7XG5cdFx0XHRjbGlja2VkXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1jb3JuZXItYWxsXCIgKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIHVpLWNvcm5lci10b3BcIiApO1xuXHRcdFx0aWYgKCBvcHRpb25zLmljb25zICkge1xuXHRcdFx0XHRjbGlja2VkLmNoaWxkcmVuKCBcIi51aS1hY2NvcmRpb24taGVhZGVyLWljb25cIiApXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCBvcHRpb25zLmljb25zLmhlYWRlciApXG5cdFx0XHRcdFx0LmFkZENsYXNzKCBvcHRpb25zLmljb25zLmFjdGl2ZUhlYWRlciApO1xuXHRcdFx0fVxuXG5cdFx0XHRjbGlja2VkXG5cdFx0XHRcdC5uZXh0KClcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZVwiICk7XG5cdFx0fVxuXHR9LFxuXG5cdF90b2dnbGU6IGZ1bmN0aW9uKCBkYXRhICkge1xuXHRcdHZhciB0b1Nob3cgPSBkYXRhLm5ld1BhbmVsLFxuXHRcdFx0dG9IaWRlID0gdGhpcy5wcmV2U2hvdy5sZW5ndGggPyB0aGlzLnByZXZTaG93IDogZGF0YS5vbGRQYW5lbDtcblxuXHRcdC8vIGhhbmRsZSBhY3RpdmF0aW5nIGEgcGFuZWwgZHVyaW5nIHRoZSBhbmltYXRpb24gZm9yIGFub3RoZXIgYWN0aXZhdGlvblxuXHRcdHRoaXMucHJldlNob3cuYWRkKCB0aGlzLnByZXZIaWRlICkuc3RvcCggdHJ1ZSwgdHJ1ZSApO1xuXHRcdHRoaXMucHJldlNob3cgPSB0b1Nob3c7XG5cdFx0dGhpcy5wcmV2SGlkZSA9IHRvSGlkZTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmFuaW1hdGUgKSB7XG5cdFx0XHR0aGlzLl9hbmltYXRlKCB0b1Nob3csIHRvSGlkZSwgZGF0YSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0b0hpZGUuaGlkZSgpO1xuXHRcdFx0dG9TaG93LnNob3coKTtcblx0XHRcdHRoaXMuX3RvZ2dsZUNvbXBsZXRlKCBkYXRhICk7XG5cdFx0fVxuXG5cdFx0dG9IaWRlLmF0dHIoe1xuXHRcdFx0XCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuXHRcdH0pO1xuXHRcdHRvSGlkZS5wcmV2KCkuYXR0cih7XG5cdFx0XHRcImFyaWEtc2VsZWN0ZWRcIjogXCJmYWxzZVwiLFxuXHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwiZmFsc2VcIlxuXHRcdH0pO1xuXHRcdC8vIGlmIHdlJ3JlIHN3aXRjaGluZyBwYW5lbHMsIHJlbW92ZSB0aGUgb2xkIGhlYWRlciBmcm9tIHRoZSB0YWIgb3JkZXJcblx0XHQvLyBpZiB3ZSdyZSBvcGVuaW5nIGZyb20gY29sbGFwc2VkIHN0YXRlLCByZW1vdmUgdGhlIHByZXZpb3VzIGhlYWRlciBmcm9tIHRoZSB0YWIgb3JkZXJcblx0XHQvLyBpZiB3ZSdyZSBjb2xsYXBzaW5nLCB0aGVuIGtlZXAgdGhlIGNvbGxhcHNpbmcgaGVhZGVyIGluIHRoZSB0YWIgb3JkZXJcblx0XHRpZiAoIHRvU2hvdy5sZW5ndGggJiYgdG9IaWRlLmxlbmd0aCApIHtcblx0XHRcdHRvSGlkZS5wcmV2KCkuYXR0cih7XG5cdFx0XHRcdFwidGFiSW5kZXhcIjogLTEsXG5cdFx0XHRcdFwiYXJpYS1leHBhbmRlZFwiOiBcImZhbHNlXCJcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAoIHRvU2hvdy5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLmhlYWRlcnMuZmlsdGVyKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gcGFyc2VJbnQoICQoIHRoaXMgKS5hdHRyKCBcInRhYkluZGV4XCIgKSwgMTAgKSA9PT0gMDtcblx0XHRcdH0pXG5cdFx0XHQuYXR0ciggXCJ0YWJJbmRleFwiLCAtMSApO1xuXHRcdH1cblxuXHRcdHRvU2hvd1xuXHRcdFx0LmF0dHIoIFwiYXJpYS1oaWRkZW5cIiwgXCJmYWxzZVwiIClcblx0XHRcdC5wcmV2KClcblx0XHRcdFx0LmF0dHIoe1xuXHRcdFx0XHRcdFwiYXJpYS1zZWxlY3RlZFwiOiBcInRydWVcIixcblx0XHRcdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJ0cnVlXCIsXG5cdFx0XHRcdFx0dGFiSW5kZXg6IDBcblx0XHRcdFx0fSk7XG5cdH0sXG5cblx0X2FuaW1hdGU6IGZ1bmN0aW9uKCB0b1Nob3csIHRvSGlkZSwgZGF0YSApIHtcblx0XHR2YXIgdG90YWwsIGVhc2luZywgZHVyYXRpb24sXG5cdFx0XHR0aGF0ID0gdGhpcyxcblx0XHRcdGFkanVzdCA9IDAsXG5cdFx0XHRib3hTaXppbmcgPSB0b1Nob3cuY3NzKCBcImJveC1zaXppbmdcIiApLFxuXHRcdFx0ZG93biA9IHRvU2hvdy5sZW5ndGggJiZcblx0XHRcdFx0KCAhdG9IaWRlLmxlbmd0aCB8fCAoIHRvU2hvdy5pbmRleCgpIDwgdG9IaWRlLmluZGV4KCkgKSApLFxuXHRcdFx0YW5pbWF0ZSA9IHRoaXMub3B0aW9ucy5hbmltYXRlIHx8IHt9LFxuXHRcdFx0b3B0aW9ucyA9IGRvd24gJiYgYW5pbWF0ZS5kb3duIHx8IGFuaW1hdGUsXG5cdFx0XHRjb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGF0Ll90b2dnbGVDb21wbGV0ZSggZGF0YSApO1xuXHRcdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRkdXJhdGlvbiA9IG9wdGlvbnM7XG5cdFx0fVxuXHRcdGlmICggdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRlYXNpbmcgPSBvcHRpb25zO1xuXHRcdH1cblx0XHQvLyBmYWxsIGJhY2sgZnJvbSBvcHRpb25zIHRvIGFuaW1hdGlvbiBpbiBjYXNlIG9mIHBhcnRpYWwgZG93biBzZXR0aW5nc1xuXHRcdGVhc2luZyA9IGVhc2luZyB8fCBvcHRpb25zLmVhc2luZyB8fCBhbmltYXRlLmVhc2luZztcblx0XHRkdXJhdGlvbiA9IGR1cmF0aW9uIHx8IG9wdGlvbnMuZHVyYXRpb24gfHwgYW5pbWF0ZS5kdXJhdGlvbjtcblxuXHRcdGlmICggIXRvSGlkZS5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gdG9TaG93LmFuaW1hdGUoIHRoaXMuc2hvd1Byb3BzLCBkdXJhdGlvbiwgZWFzaW5nLCBjb21wbGV0ZSApO1xuXHRcdH1cblx0XHRpZiAoICF0b1Nob3cubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRvSGlkZS5hbmltYXRlKCB0aGlzLmhpZGVQcm9wcywgZHVyYXRpb24sIGVhc2luZywgY29tcGxldGUgKTtcblx0XHR9XG5cblx0XHR0b3RhbCA9IHRvU2hvdy5zaG93KCkub3V0ZXJIZWlnaHQoKTtcblx0XHR0b0hpZGUuYW5pbWF0ZSggdGhpcy5oaWRlUHJvcHMsIHtcblx0XHRcdGR1cmF0aW9uOiBkdXJhdGlvbixcblx0XHRcdGVhc2luZzogZWFzaW5nLFxuXHRcdFx0c3RlcDogZnVuY3Rpb24oIG5vdywgZnggKSB7XG5cdFx0XHRcdGZ4Lm5vdyA9IE1hdGgucm91bmQoIG5vdyApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHRvU2hvd1xuXHRcdFx0LmhpZGUoKVxuXHRcdFx0LmFuaW1hdGUoIHRoaXMuc2hvd1Byb3BzLCB7XG5cdFx0XHRcdGR1cmF0aW9uOiBkdXJhdGlvbixcblx0XHRcdFx0ZWFzaW5nOiBlYXNpbmcsXG5cdFx0XHRcdGNvbXBsZXRlOiBjb21wbGV0ZSxcblx0XHRcdFx0c3RlcDogZnVuY3Rpb24oIG5vdywgZnggKSB7XG5cdFx0XHRcdFx0Zngubm93ID0gTWF0aC5yb3VuZCggbm93ICk7XG5cdFx0XHRcdFx0aWYgKCBmeC5wcm9wICE9PSBcImhlaWdodFwiICkge1xuXHRcdFx0XHRcdFx0aWYgKCBib3hTaXppbmcgPT09IFwiY29udGVudC1ib3hcIiApIHtcblx0XHRcdFx0XHRcdFx0YWRqdXN0ICs9IGZ4Lm5vdztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2UgaWYgKCB0aGF0Lm9wdGlvbnMuaGVpZ2h0U3R5bGUgIT09IFwiY29udGVudFwiICkge1xuXHRcdFx0XHRcdFx0Zngubm93ID0gTWF0aC5yb3VuZCggdG90YWwgLSB0b0hpZGUub3V0ZXJIZWlnaHQoKSAtIGFkanVzdCApO1xuXHRcdFx0XHRcdFx0YWRqdXN0ID0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHR9LFxuXG5cdF90b2dnbGVDb21wbGV0ZTogZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0dmFyIHRvSGlkZSA9IGRhdGEub2xkUGFuZWw7XG5cblx0XHR0b0hpZGVcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmVcIiApXG5cdFx0XHQucHJldigpXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1jb3JuZXItdG9wXCIgKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktY29ybmVyLWFsbFwiICk7XG5cblx0XHQvLyBXb3JrIGFyb3VuZCBmb3IgcmVuZGVyaW5nIGJ1ZyBpbiBJRSAoIzU0MjEpXG5cdFx0aWYgKCB0b0hpZGUubGVuZ3RoICkge1xuXHRcdFx0dG9IaWRlLnBhcmVudCgpWyAwIF0uY2xhc3NOYW1lID0gdG9IaWRlLnBhcmVudCgpWyAwIF0uY2xhc3NOYW1lO1xuXHRcdH1cblx0XHR0aGlzLl90cmlnZ2VyKCBcImFjdGl2YXRlXCIsIG51bGwsIGRhdGEgKTtcblx0fVxufSk7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgTWVudSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL21lbnUvXG4gKi9cblxuXG52YXIgbWVudSA9ICQud2lkZ2V0KCBcInVpLm1lbnVcIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTEuNFwiLFxuXHRkZWZhdWx0RWxlbWVudDogXCI8dWw+XCIsXG5cdGRlbGF5OiAzMDAsXG5cdG9wdGlvbnM6IHtcblx0XHRpY29uczoge1xuXHRcdFx0c3VibWVudTogXCJ1aS1pY29uLWNhcmF0LTEtZVwiXG5cdFx0fSxcblx0XHRpdGVtczogXCI+ICpcIixcblx0XHRtZW51czogXCJ1bFwiLFxuXHRcdHBvc2l0aW9uOiB7XG5cdFx0XHRteTogXCJsZWZ0LTEgdG9wXCIsXG5cdFx0XHRhdDogXCJyaWdodCB0b3BcIlxuXHRcdH0sXG5cdFx0cm9sZTogXCJtZW51XCIsXG5cblx0XHQvLyBjYWxsYmFja3Ncblx0XHRibHVyOiBudWxsLFxuXHRcdGZvY3VzOiBudWxsLFxuXHRcdHNlbGVjdDogbnVsbFxuXHR9LFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuYWN0aXZlTWVudSA9IHRoaXMuZWxlbWVudDtcblxuXHRcdC8vIEZsYWcgdXNlZCB0byBwcmV2ZW50IGZpcmluZyBvZiB0aGUgY2xpY2sgaGFuZGxlclxuXHRcdC8vIGFzIHRoZSBldmVudCBidWJibGVzIHVwIHRocm91Z2ggbmVzdGVkIG1lbnVzXG5cdFx0dGhpcy5tb3VzZUhhbmRsZWQgPSBmYWxzZTtcblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC51bmlxdWVJZCgpXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktbWVudSB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnRcIiApXG5cdFx0XHQudG9nZ2xlQ2xhc3MoIFwidWktbWVudS1pY29uc1wiLCAhIXRoaXMuZWxlbWVudC5maW5kKCBcIi51aS1pY29uXCIgKS5sZW5ndGggKVxuXHRcdFx0LmF0dHIoe1xuXHRcdFx0XHRyb2xlOiB0aGlzLm9wdGlvbnMucm9sZSxcblx0XHRcdFx0dGFiSW5kZXg6IDBcblx0XHRcdH0pO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIgKVxuXHRcdFx0XHQuYXR0ciggXCJhcmlhLWRpc2FibGVkXCIsIFwidHJ1ZVwiICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fb24oe1xuXHRcdFx0Ly8gUHJldmVudCBmb2N1cyBmcm9tIHN0aWNraW5nIHRvIGxpbmtzIGluc2lkZSBtZW51IGFmdGVyIGNsaWNraW5nXG5cdFx0XHQvLyB0aGVtIChmb2N1cyBzaG91bGQgYWx3YXlzIHN0YXkgb24gVUwgZHVyaW5nIG5hdmlnYXRpb24pLlxuXHRcdFx0XCJtb3VzZWRvd24gLnVpLW1lbnUtaXRlbVwiOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9LFxuXHRcdFx0XCJjbGljayAudWktbWVudS1pdGVtXCI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9ICQoIGV2ZW50LnRhcmdldCApO1xuXHRcdFx0XHRpZiAoICF0aGlzLm1vdXNlSGFuZGxlZCAmJiB0YXJnZXQubm90KCBcIi51aS1zdGF0ZS1kaXNhYmxlZFwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdHRoaXMuc2VsZWN0KCBldmVudCApO1xuXG5cdFx0XHRcdFx0Ly8gT25seSBzZXQgdGhlIG1vdXNlSGFuZGxlZCBmbGFnIGlmIHRoZSBldmVudCB3aWxsIGJ1YmJsZSwgc2VlICM5NDY5LlxuXHRcdFx0XHRcdGlmICggIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm1vdXNlSGFuZGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT3BlbiBzdWJtZW51IG9uIGNsaWNrXG5cdFx0XHRcdFx0aWYgKCB0YXJnZXQuaGFzKCBcIi51aS1tZW51XCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmV4cGFuZCggZXZlbnQgKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCAhdGhpcy5lbGVtZW50LmlzKCBcIjpmb2N1c1wiICkgJiYgJCggdGhpcy5kb2N1bWVudFsgMCBdLmFjdGl2ZUVsZW1lbnQgKS5jbG9zZXN0KCBcIi51aS1tZW51XCIgKS5sZW5ndGggKSB7XG5cblx0XHRcdFx0XHRcdC8vIFJlZGlyZWN0IGZvY3VzIHRvIHRoZSBtZW51XG5cdFx0XHRcdFx0XHR0aGlzLmVsZW1lbnQudHJpZ2dlciggXCJmb2N1c1wiLCBbIHRydWUgXSApO1xuXG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgYWN0aXZlIGl0ZW0gaXMgb24gdGhlIHRvcCBsZXZlbCwgbGV0IGl0IHN0YXkgYWN0aXZlLlxuXHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBibHVyIHRoZSBhY3RpdmUgaXRlbSBzaW5jZSBpdCBpcyBubyBsb25nZXIgdmlzaWJsZS5cblx0XHRcdFx0XHRcdGlmICggdGhpcy5hY3RpdmUgJiYgdGhpcy5hY3RpdmUucGFyZW50cyggXCIudWktbWVudVwiICkubGVuZ3RoID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQoIHRoaXMudGltZXIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRcIm1vdXNlZW50ZXIgLnVpLW1lbnUtaXRlbVwiOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdC8vIElnbm9yZSBtb3VzZSBldmVudHMgd2hpbGUgdHlwZWFoZWFkIGlzIGFjdGl2ZSwgc2VlICMxMDQ1OC5cblx0XHRcdFx0Ly8gUHJldmVudHMgZm9jdXNpbmcgdGhlIHdyb25nIGl0ZW0gd2hlbiB0eXBlYWhlYWQgY2F1c2VzIGEgc2Nyb2xsIHdoaWxlIHRoZSBtb3VzZVxuXHRcdFx0XHQvLyBpcyBvdmVyIGFuIGl0ZW0gaW4gdGhlIG1lbnVcblx0XHRcdFx0aWYgKCB0aGlzLnByZXZpb3VzRmlsdGVyICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gJCggZXZlbnQuY3VycmVudFRhcmdldCApO1xuXHRcdFx0XHQvLyBSZW1vdmUgdWktc3RhdGUtYWN0aXZlIGNsYXNzIGZyb20gc2libGluZ3Mgb2YgdGhlIG5ld2x5IGZvY3VzZWQgbWVudSBpdGVtXG5cdFx0XHRcdC8vIHRvIGF2b2lkIGEganVtcCBjYXVzZWQgYnkgYWRqYWNlbnQgZWxlbWVudHMgYm90aCBoYXZpbmcgYSBjbGFzcyB3aXRoIGEgYm9yZGVyXG5cdFx0XHRcdHRhcmdldC5zaWJsaW5ncyggXCIudWktc3RhdGUtYWN0aXZlXCIgKS5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0XHR0aGlzLmZvY3VzKCBldmVudCwgdGFyZ2V0ICk7XG5cdFx0XHR9LFxuXHRcdFx0bW91c2VsZWF2ZTogXCJjb2xsYXBzZUFsbFwiLFxuXHRcdFx0XCJtb3VzZWxlYXZlIC51aS1tZW51XCI6IFwiY29sbGFwc2VBbGxcIixcblx0XHRcdGZvY3VzOiBmdW5jdGlvbiggZXZlbnQsIGtlZXBBY3RpdmVJdGVtICkge1xuXHRcdFx0XHQvLyBJZiB0aGVyZSdzIGFscmVhZHkgYW4gYWN0aXZlIGl0ZW0sIGtlZXAgaXQgYWN0aXZlXG5cdFx0XHRcdC8vIElmIG5vdCwgYWN0aXZhdGUgdGhlIGZpcnN0IGl0ZW1cblx0XHRcdFx0dmFyIGl0ZW0gPSB0aGlzLmFjdGl2ZSB8fCB0aGlzLmVsZW1lbnQuZmluZCggdGhpcy5vcHRpb25zLml0ZW1zICkuZXEoIDAgKTtcblxuXHRcdFx0XHRpZiAoICFrZWVwQWN0aXZlSXRlbSApIHtcblx0XHRcdFx0XHR0aGlzLmZvY3VzKCBldmVudCwgaXRlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0Ymx1cjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR0aGlzLl9kZWxheShmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoICEkLmNvbnRhaW5zKCB0aGlzLmVsZW1lbnRbMF0sIHRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCApICkge1xuXHRcdFx0XHRcdFx0dGhpcy5jb2xsYXBzZUFsbCggZXZlbnQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdGtleWRvd246IFwiX2tleWRvd25cIlxuXHRcdH0pO1xuXG5cdFx0dGhpcy5yZWZyZXNoKCk7XG5cblx0XHQvLyBDbGlja3Mgb3V0c2lkZSBvZiBhIG1lbnUgY29sbGFwc2UgYW55IG9wZW4gbWVudXNcblx0XHR0aGlzLl9vbiggdGhpcy5kb2N1bWVudCwge1xuXHRcdFx0Y2xpY2s6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCB0aGlzLl9jbG9zZU9uRG9jdW1lbnRDbGljayggZXZlbnQgKSApIHtcblx0XHRcdFx0XHR0aGlzLmNvbGxhcHNlQWxsKCBldmVudCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzZXQgdGhlIG1vdXNlSGFuZGxlZCBmbGFnXG5cdFx0XHRcdHRoaXMubW91c2VIYW5kbGVkID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdC8vIERlc3Ryb3kgKHN1YiltZW51c1xuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCIgKVxuXHRcdFx0LmZpbmQoIFwiLnVpLW1lbnVcIiApLmFkZEJhY2soKVxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktbWVudSB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktbWVudS1pY29ucyB1aS1mcm9udFwiIClcblx0XHRcdFx0LnJlbW92ZUF0dHIoIFwicm9sZVwiIClcblx0XHRcdFx0LnJlbW92ZUF0dHIoIFwidGFiSW5kZXhcIiApXG5cdFx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtbGFiZWxsZWRieVwiIClcblx0XHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1leHBhbmRlZFwiIClcblx0XHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1oaWRkZW5cIiApXG5cdFx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtZGlzYWJsZWRcIiApXG5cdFx0XHRcdC5yZW1vdmVVbmlxdWVJZCgpXG5cdFx0XHRcdC5zaG93KCk7XG5cblx0XHQvLyBEZXN0cm95IG1lbnUgaXRlbXNcblx0XHR0aGlzLmVsZW1lbnQuZmluZCggXCIudWktbWVudS1pdGVtXCIgKVxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLW1lbnUtaXRlbVwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcInJvbGVcIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWRpc2FibGVkXCIgKVxuXHRcdFx0LnJlbW92ZVVuaXF1ZUlkKClcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1ob3ZlclwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcInRhYkluZGV4XCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwicm9sZVwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtaGFzcG9wdXBcIiApXG5cdFx0XHQuY2hpbGRyZW4oKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsZW0gPSAkKCB0aGlzICk7XG5cdFx0XHRcdGlmICggZWxlbS5kYXRhKCBcInVpLW1lbnUtc3VibWVudS1jYXJhdFwiICkgKSB7XG5cdFx0XHRcdFx0ZWxlbS5yZW1vdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHQvLyBEZXN0cm95IG1lbnUgZGl2aWRlcnNcblx0XHR0aGlzLmVsZW1lbnQuZmluZCggXCIudWktbWVudS1kaXZpZGVyXCIgKS5yZW1vdmVDbGFzcyggXCJ1aS1tZW51LWRpdmlkZXIgdWktd2lkZ2V0LWNvbnRlbnRcIiApO1xuXHR9LFxuXG5cdF9rZXlkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIG1hdGNoLCBwcmV2LCBjaGFyYWN0ZXIsIHNraXAsXG5cdFx0XHRwcmV2ZW50RGVmYXVsdCA9IHRydWU7XG5cblx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLlBBR0VfVVA6XG5cdFx0XHR0aGlzLnByZXZpb3VzUGFnZSggZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLlBBR0VfRE9XTjpcblx0XHRcdHRoaXMubmV4dFBhZ2UoIGV2ZW50ICk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5IT01FOlxuXHRcdFx0dGhpcy5fbW92ZSggXCJmaXJzdFwiLCBcImZpcnN0XCIsIGV2ZW50ICk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5FTkQ6XG5cdFx0XHR0aGlzLl9tb3ZlKCBcImxhc3RcIiwgXCJsYXN0XCIsIGV2ZW50ICk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5VUDpcblx0XHRcdHRoaXMucHJldmlvdXMoIGV2ZW50ICk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5ET1dOOlxuXHRcdFx0dGhpcy5uZXh0KCBldmVudCApO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAkLnVpLmtleUNvZGUuTEVGVDpcblx0XHRcdHRoaXMuY29sbGFwc2UoIGV2ZW50ICk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5SSUdIVDpcblx0XHRcdGlmICggdGhpcy5hY3RpdmUgJiYgIXRoaXMuYWN0aXZlLmlzKCBcIi51aS1zdGF0ZS1kaXNhYmxlZFwiICkgKSB7XG5cdFx0XHRcdHRoaXMuZXhwYW5kKCBldmVudCApO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAkLnVpLmtleUNvZGUuRU5URVI6XG5cdFx0Y2FzZSAkLnVpLmtleUNvZGUuU1BBQ0U6XG5cdFx0XHR0aGlzLl9hY3RpdmF0ZSggZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLkVTQ0FQRTpcblx0XHRcdHRoaXMuY29sbGFwc2UoIGV2ZW50ICk7XG5cdFx0XHRicmVhaztcblx0XHRkZWZhdWx0OlxuXHRcdFx0cHJldmVudERlZmF1bHQgPSBmYWxzZTtcblx0XHRcdHByZXYgPSB0aGlzLnByZXZpb3VzRmlsdGVyIHx8IFwiXCI7XG5cdFx0XHRjaGFyYWN0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCBldmVudC5rZXlDb2RlICk7XG5cdFx0XHRza2lwID0gZmFsc2U7XG5cblx0XHRcdGNsZWFyVGltZW91dCggdGhpcy5maWx0ZXJUaW1lciApO1xuXG5cdFx0XHRpZiAoIGNoYXJhY3RlciA9PT0gcHJldiApIHtcblx0XHRcdFx0c2tpcCA9IHRydWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjaGFyYWN0ZXIgPSBwcmV2ICsgY2hhcmFjdGVyO1xuXHRcdFx0fVxuXG5cdFx0XHRtYXRjaCA9IHRoaXMuX2ZpbHRlck1lbnVJdGVtcyggY2hhcmFjdGVyICk7XG5cdFx0XHRtYXRjaCA9IHNraXAgJiYgbWF0Y2guaW5kZXgoIHRoaXMuYWN0aXZlLm5leHQoKSApICE9PSAtMSA/XG5cdFx0XHRcdHRoaXMuYWN0aXZlLm5leHRBbGwoIFwiLnVpLW1lbnUtaXRlbVwiICkgOlxuXHRcdFx0XHRtYXRjaDtcblxuXHRcdFx0Ly8gSWYgbm8gbWF0Y2hlcyBvbiB0aGUgY3VycmVudCBmaWx0ZXIsIHJlc2V0IHRvIHRoZSBsYXN0IGNoYXJhY3RlciBwcmVzc2VkXG5cdFx0XHQvLyB0byBtb3ZlIGRvd24gdGhlIG1lbnUgdG8gdGhlIGZpcnN0IGl0ZW0gdGhhdCBzdGFydHMgd2l0aCB0aGF0IGNoYXJhY3RlclxuXHRcdFx0aWYgKCAhbWF0Y2gubGVuZ3RoICkge1xuXHRcdFx0XHRjaGFyYWN0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCBldmVudC5rZXlDb2RlICk7XG5cdFx0XHRcdG1hdGNoID0gdGhpcy5fZmlsdGVyTWVudUl0ZW1zKCBjaGFyYWN0ZXIgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBtYXRjaC5sZW5ndGggKSB7XG5cdFx0XHRcdHRoaXMuZm9jdXMoIGV2ZW50LCBtYXRjaCApO1xuXHRcdFx0XHR0aGlzLnByZXZpb3VzRmlsdGVyID0gY2hhcmFjdGVyO1xuXHRcdFx0XHR0aGlzLmZpbHRlclRpbWVyID0gdGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXI7XG5cdFx0XHRcdH0sIDEwMDAgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLnByZXZpb3VzRmlsdGVyO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggcHJldmVudERlZmF1bHQgKSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fSxcblxuXHRfYWN0aXZhdGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoICF0aGlzLmFjdGl2ZS5pcyggXCIudWktc3RhdGUtZGlzYWJsZWRcIiApICkge1xuXHRcdFx0aWYgKCB0aGlzLmFjdGl2ZS5pcyggXCJbYXJpYS1oYXNwb3B1cD0ndHJ1ZSddXCIgKSApIHtcblx0XHRcdFx0dGhpcy5leHBhbmQoIGV2ZW50ICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnNlbGVjdCggZXZlbnQgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1lbnVzLCBpdGVtcyxcblx0XHRcdHRoYXQgPSB0aGlzLFxuXHRcdFx0aWNvbiA9IHRoaXMub3B0aW9ucy5pY29ucy5zdWJtZW51LFxuXHRcdFx0c3VibWVudXMgPSB0aGlzLmVsZW1lbnQuZmluZCggdGhpcy5vcHRpb25zLm1lbnVzICk7XG5cblx0XHR0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoIFwidWktbWVudS1pY29uc1wiLCAhIXRoaXMuZWxlbWVudC5maW5kKCBcIi51aS1pY29uXCIgKS5sZW5ndGggKTtcblxuXHRcdC8vIEluaXRpYWxpemUgbmVzdGVkIG1lbnVzXG5cdFx0c3VibWVudXMuZmlsdGVyKCBcIjpub3QoLnVpLW1lbnUpXCIgKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLW1lbnUgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWZyb250XCIgKVxuXHRcdFx0LmhpZGUoKVxuXHRcdFx0LmF0dHIoe1xuXHRcdFx0XHRyb2xlOiB0aGlzLm9wdGlvbnMucm9sZSxcblx0XHRcdFx0XCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcblx0XHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwiZmFsc2VcIlxuXHRcdFx0fSlcblx0XHRcdC5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbWVudSA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRpdGVtID0gbWVudS5wYXJlbnQoKSxcblx0XHRcdFx0XHRzdWJtZW51Q2FyYXQgPSAkKCBcIjxzcGFuPlwiIClcblx0XHRcdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1tZW51LWljb24gdWktaWNvbiBcIiArIGljb24gKVxuXHRcdFx0XHRcdFx0LmRhdGEoIFwidWktbWVudS1zdWJtZW51LWNhcmF0XCIsIHRydWUgKTtcblxuXHRcdFx0XHRpdGVtXG5cdFx0XHRcdFx0LmF0dHIoIFwiYXJpYS1oYXNwb3B1cFwiLCBcInRydWVcIiApXG5cdFx0XHRcdFx0LnByZXBlbmQoIHN1Ym1lbnVDYXJhdCApO1xuXHRcdFx0XHRtZW51LmF0dHIoIFwiYXJpYS1sYWJlbGxlZGJ5XCIsIGl0ZW0uYXR0ciggXCJpZFwiICkgKTtcblx0XHRcdH0pO1xuXG5cdFx0bWVudXMgPSBzdWJtZW51cy5hZGQoIHRoaXMuZWxlbWVudCApO1xuXHRcdGl0ZW1zID0gbWVudXMuZmluZCggdGhpcy5vcHRpb25zLml0ZW1zICk7XG5cblx0XHQvLyBJbml0aWFsaXplIG1lbnUtaXRlbXMgY29udGFpbmluZyBzcGFjZXMgYW5kL29yIGRhc2hlcyBvbmx5IGFzIGRpdmlkZXJzXG5cdFx0aXRlbXMubm90KCBcIi51aS1tZW51LWl0ZW1cIiApLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaXRlbSA9ICQoIHRoaXMgKTtcblx0XHRcdGlmICggdGhhdC5faXNEaXZpZGVyKCBpdGVtICkgKSB7XG5cdFx0XHRcdGl0ZW0uYWRkQ2xhc3MoIFwidWktd2lkZ2V0LWNvbnRlbnQgdWktbWVudS1kaXZpZGVyXCIgKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIERvbid0IHJlZnJlc2ggbGlzdCBpdGVtcyB0aGF0IGFyZSBhbHJlYWR5IGFkYXB0ZWRcblx0XHRpdGVtcy5ub3QoIFwiLnVpLW1lbnUtaXRlbSwgLnVpLW1lbnUtZGl2aWRlclwiIClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1tZW51LWl0ZW1cIiApXG5cdFx0XHQudW5pcXVlSWQoKVxuXHRcdFx0LmF0dHIoe1xuXHRcdFx0XHR0YWJJbmRleDogLTEsXG5cdFx0XHRcdHJvbGU6IHRoaXMuX2l0ZW1Sb2xlKClcblx0XHRcdH0pO1xuXG5cdFx0Ly8gQWRkIGFyaWEtZGlzYWJsZWQgYXR0cmlidXRlIHRvIGFueSBkaXNhYmxlZCBtZW51IGl0ZW1cblx0XHRpdGVtcy5maWx0ZXIoIFwiLnVpLXN0YXRlLWRpc2FibGVkXCIgKS5hdHRyKCBcImFyaWEtZGlzYWJsZWRcIiwgXCJ0cnVlXCIgKTtcblxuXHRcdC8vIElmIHRoZSBhY3RpdmUgaXRlbSBoYXMgYmVlbiByZW1vdmVkLCBibHVyIHRoZSBtZW51XG5cdFx0aWYgKCB0aGlzLmFjdGl2ZSAmJiAhJC5jb250YWlucyggdGhpcy5lbGVtZW50WyAwIF0sIHRoaXMuYWN0aXZlWyAwIF0gKSApIHtcblx0XHRcdHRoaXMuYmx1cigpO1xuXHRcdH1cblx0fSxcblxuXHRfaXRlbVJvbGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRtZW51OiBcIm1lbnVpdGVtXCIsXG5cdFx0XHRsaXN0Ym94OiBcIm9wdGlvblwiXG5cdFx0fVsgdGhpcy5vcHRpb25zLnJvbGUgXTtcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRpZiAoIGtleSA9PT0gXCJpY29uc1wiICkge1xuXHRcdFx0dGhpcy5lbGVtZW50LmZpbmQoIFwiLnVpLW1lbnUtaWNvblwiIClcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCB0aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSApXG5cdFx0XHRcdC5hZGRDbGFzcyggdmFsdWUuc3VibWVudSApO1xuXHRcdH1cblx0XHRpZiAoIGtleSA9PT0gXCJkaXNhYmxlZFwiICkge1xuXHRcdFx0dGhpcy5lbGVtZW50XG5cdFx0XHRcdC50b2dnbGVDbGFzcyggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLCAhIXZhbHVlIClcblx0XHRcdFx0LmF0dHIoIFwiYXJpYS1kaXNhYmxlZFwiLCB2YWx1ZSApO1xuXHRcdH1cblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXHR9LFxuXG5cdGZvY3VzOiBmdW5jdGlvbiggZXZlbnQsIGl0ZW0gKSB7XG5cdFx0dmFyIG5lc3RlZCwgZm9jdXNlZDtcblx0XHR0aGlzLmJsdXIoIGV2ZW50LCBldmVudCAmJiBldmVudC50eXBlID09PSBcImZvY3VzXCIgKTtcblxuXHRcdHRoaXMuX3Njcm9sbEludG9WaWV3KCBpdGVtICk7XG5cblx0XHR0aGlzLmFjdGl2ZSA9IGl0ZW0uZmlyc3QoKTtcblx0XHRmb2N1c2VkID0gdGhpcy5hY3RpdmUuYWRkQ2xhc3MoIFwidWktc3RhdGUtZm9jdXNcIiApLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0Ly8gT25seSB1cGRhdGUgYXJpYS1hY3RpdmVkZXNjZW5kYW50IGlmIHRoZXJlJ3MgYSByb2xlXG5cdFx0Ly8gb3RoZXJ3aXNlIHdlIGFzc3VtZSBmb2N1cyBpcyBtYW5hZ2VkIGVsc2V3aGVyZVxuXHRcdGlmICggdGhpcy5vcHRpb25zLnJvbGUgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQuYXR0ciggXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIiwgZm9jdXNlZC5hdHRyKCBcImlkXCIgKSApO1xuXHRcdH1cblxuXHRcdC8vIEhpZ2hsaWdodCBhY3RpdmUgcGFyZW50IG1lbnUgaXRlbSwgaWYgYW55XG5cdFx0dGhpcy5hY3RpdmVcblx0XHRcdC5wYXJlbnQoKVxuXHRcdFx0LmNsb3Nlc3QoIFwiLnVpLW1lbnUtaXRlbVwiIClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXG5cdFx0aWYgKCBldmVudCAmJiBldmVudC50eXBlID09PSBcImtleWRvd25cIiApIHtcblx0XHRcdHRoaXMuX2Nsb3NlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMudGltZXIgPSB0aGlzLl9kZWxheShmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5fY2xvc2UoKTtcblx0XHRcdH0sIHRoaXMuZGVsYXkgKTtcblx0XHR9XG5cblx0XHRuZXN0ZWQgPSBpdGVtLmNoaWxkcmVuKCBcIi51aS1tZW51XCIgKTtcblx0XHRpZiAoIG5lc3RlZC5sZW5ndGggJiYgZXZlbnQgJiYgKCAvXm1vdXNlLy50ZXN0KCBldmVudC50eXBlICkgKSApIHtcblx0XHRcdHRoaXMuX3N0YXJ0T3BlbmluZyhuZXN0ZWQpO1xuXHRcdH1cblx0XHR0aGlzLmFjdGl2ZU1lbnUgPSBpdGVtLnBhcmVudCgpO1xuXG5cdFx0dGhpcy5fdHJpZ2dlciggXCJmb2N1c1wiLCBldmVudCwgeyBpdGVtOiBpdGVtIH0gKTtcblx0fSxcblxuXHRfc2Nyb2xsSW50b1ZpZXc6IGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdHZhciBib3JkZXJUb3AsIHBhZGRpbmdUb3AsIG9mZnNldCwgc2Nyb2xsLCBlbGVtZW50SGVpZ2h0LCBpdGVtSGVpZ2h0O1xuXHRcdGlmICggdGhpcy5faGFzU2Nyb2xsKCkgKSB7XG5cdFx0XHRib3JkZXJUb3AgPSBwYXJzZUZsb2F0KCAkLmNzcyggdGhpcy5hY3RpdmVNZW51WzBdLCBcImJvcmRlclRvcFdpZHRoXCIgKSApIHx8IDA7XG5cdFx0XHRwYWRkaW5nVG9wID0gcGFyc2VGbG9hdCggJC5jc3MoIHRoaXMuYWN0aXZlTWVudVswXSwgXCJwYWRkaW5nVG9wXCIgKSApIHx8IDA7XG5cdFx0XHRvZmZzZXQgPSBpdGVtLm9mZnNldCgpLnRvcCAtIHRoaXMuYWN0aXZlTWVudS5vZmZzZXQoKS50b3AgLSBib3JkZXJUb3AgLSBwYWRkaW5nVG9wO1xuXHRcdFx0c2Nyb2xsID0gdGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcCgpO1xuXHRcdFx0ZWxlbWVudEhlaWdodCA9IHRoaXMuYWN0aXZlTWVudS5oZWlnaHQoKTtcblx0XHRcdGl0ZW1IZWlnaHQgPSBpdGVtLm91dGVySGVpZ2h0KCk7XG5cblx0XHRcdGlmICggb2Zmc2V0IDwgMCApIHtcblx0XHRcdFx0dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcCggc2Nyb2xsICsgb2Zmc2V0ICk7XG5cdFx0XHR9IGVsc2UgaWYgKCBvZmZzZXQgKyBpdGVtSGVpZ2h0ID4gZWxlbWVudEhlaWdodCApIHtcblx0XHRcdFx0dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcCggc2Nyb2xsICsgb2Zmc2V0IC0gZWxlbWVudEhlaWdodCArIGl0ZW1IZWlnaHQgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ymx1cjogZnVuY3Rpb24oIGV2ZW50LCBmcm9tRm9jdXMgKSB7XG5cdFx0aWYgKCAhZnJvbUZvY3VzICkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnRpbWVyICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhdGhpcy5hY3RpdmUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5hY3RpdmUucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtZm9jdXNcIiApO1xuXHRcdHRoaXMuYWN0aXZlID0gbnVsbDtcblxuXHRcdHRoaXMuX3RyaWdnZXIoIFwiYmx1clwiLCBldmVudCwgeyBpdGVtOiB0aGlzLmFjdGl2ZSB9ICk7XG5cdH0sXG5cblx0X3N0YXJ0T3BlbmluZzogZnVuY3Rpb24oIHN1Ym1lbnUgKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnRpbWVyICk7XG5cblx0XHQvLyBEb24ndCBvcGVuIGlmIGFscmVhZHkgb3BlbiBmaXhlcyBhIEZpcmVmb3ggYnVnIHRoYXQgY2F1c2VkIGEgLjUgcGl4ZWxcblx0XHQvLyBzaGlmdCBpbiB0aGUgc3VibWVudSBwb3NpdGlvbiB3aGVuIG1vdXNpbmcgb3ZlciB0aGUgY2FyYXQgaWNvblxuXHRcdGlmICggc3VibWVudS5hdHRyKCBcImFyaWEtaGlkZGVuXCIgKSAhPT0gXCJ0cnVlXCIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy50aW1lciA9IHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5fY2xvc2UoKTtcblx0XHRcdHRoaXMuX29wZW4oIHN1Ym1lbnUgKTtcblx0XHR9LCB0aGlzLmRlbGF5ICk7XG5cdH0sXG5cblx0X29wZW46IGZ1bmN0aW9uKCBzdWJtZW51ICkge1xuXHRcdHZhciBwb3NpdGlvbiA9ICQuZXh0ZW5kKHtcblx0XHRcdG9mOiB0aGlzLmFjdGl2ZVxuXHRcdH0sIHRoaXMub3B0aW9ucy5wb3NpdGlvbiApO1xuXG5cdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnRpbWVyICk7XG5cdFx0dGhpcy5lbGVtZW50LmZpbmQoIFwiLnVpLW1lbnVcIiApLm5vdCggc3VibWVudS5wYXJlbnRzKCBcIi51aS1tZW51XCIgKSApXG5cdFx0XHQuaGlkZSgpXG5cdFx0XHQuYXR0ciggXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIiApO1xuXG5cdFx0c3VibWVudVxuXHRcdFx0LnNob3coKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1oaWRkZW5cIiApXG5cdFx0XHQuYXR0ciggXCJhcmlhLWV4cGFuZGVkXCIsIFwidHJ1ZVwiIClcblx0XHRcdC5wb3NpdGlvbiggcG9zaXRpb24gKTtcblx0fSxcblxuXHRjb2xsYXBzZUFsbDogZnVuY3Rpb24oIGV2ZW50LCBhbGwgKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnRpbWVyICk7XG5cdFx0dGhpcy50aW1lciA9IHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gSWYgd2Ugd2VyZSBwYXNzZWQgYW4gZXZlbnQsIGxvb2sgZm9yIHRoZSBzdWJtZW51IHRoYXQgY29udGFpbnMgdGhlIGV2ZW50XG5cdFx0XHR2YXIgY3VycmVudE1lbnUgPSBhbGwgPyB0aGlzLmVsZW1lbnQgOlxuXHRcdFx0XHQkKCBldmVudCAmJiBldmVudC50YXJnZXQgKS5jbG9zZXN0KCB0aGlzLmVsZW1lbnQuZmluZCggXCIudWktbWVudVwiICkgKTtcblxuXHRcdFx0Ly8gSWYgd2UgZm91bmQgbm8gdmFsaWQgc3VibWVudSBhbmNlc3RvciwgdXNlIHRoZSBtYWluIG1lbnUgdG8gY2xvc2UgYWxsIHN1YiBtZW51cyBhbnl3YXlcblx0XHRcdGlmICggIWN1cnJlbnRNZW51Lmxlbmd0aCApIHtcblx0XHRcdFx0Y3VycmVudE1lbnUgPSB0aGlzLmVsZW1lbnQ7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX2Nsb3NlKCBjdXJyZW50TWVudSApO1xuXG5cdFx0XHR0aGlzLmJsdXIoIGV2ZW50ICk7XG5cdFx0XHR0aGlzLmFjdGl2ZU1lbnUgPSBjdXJyZW50TWVudTtcblx0XHR9LCB0aGlzLmRlbGF5ICk7XG5cdH0sXG5cblx0Ly8gV2l0aCBubyBhcmd1bWVudHMsIGNsb3NlcyB0aGUgY3VycmVudGx5IGFjdGl2ZSBtZW51IC0gaWYgbm90aGluZyBpcyBhY3RpdmVcblx0Ly8gaXQgY2xvc2VzIGFsbCBtZW51cy4gIElmIHBhc3NlZCBhbiBhcmd1bWVudCwgaXQgd2lsbCBzZWFyY2ggZm9yIG1lbnVzIEJFTE9XXG5cdF9jbG9zZTogZnVuY3Rpb24oIHN0YXJ0TWVudSApIHtcblx0XHRpZiAoICFzdGFydE1lbnUgKSB7XG5cdFx0XHRzdGFydE1lbnUgPSB0aGlzLmFjdGl2ZSA/IHRoaXMuYWN0aXZlLnBhcmVudCgpIDogdGhpcy5lbGVtZW50O1xuXHRcdH1cblxuXHRcdHN0YXJ0TWVudVxuXHRcdFx0LmZpbmQoIFwiLnVpLW1lbnVcIiApXG5cdFx0XHRcdC5oaWRlKClcblx0XHRcdFx0LmF0dHIoIFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIgKVxuXHRcdFx0XHQuYXR0ciggXCJhcmlhLWV4cGFuZGVkXCIsIFwiZmFsc2VcIiApXG5cdFx0XHQuZW5kKClcblx0XHRcdC5maW5kKCBcIi51aS1zdGF0ZS1hY3RpdmVcIiApLm5vdCggXCIudWktc3RhdGUtZm9jdXNcIiApXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHR9LFxuXG5cdF9jbG9zZU9uRG9jdW1lbnRDbGljazogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHJldHVybiAhJCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggXCIudWktbWVudVwiICkubGVuZ3RoO1xuXHR9LFxuXG5cdF9pc0RpdmlkZXI6IGZ1bmN0aW9uKCBpdGVtICkge1xuXG5cdFx0Ly8gTWF0Y2ggaHlwaGVuLCBlbSBkYXNoLCBlbiBkYXNoXG5cdFx0cmV0dXJuICEvW15cXC1cXHUyMDE0XFx1MjAxM1xcc10vLnRlc3QoIGl0ZW0udGV4dCgpICk7XG5cdH0sXG5cblx0Y29sbGFwc2U6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgbmV3SXRlbSA9IHRoaXMuYWN0aXZlICYmXG5cdFx0XHR0aGlzLmFjdGl2ZS5wYXJlbnQoKS5jbG9zZXN0KCBcIi51aS1tZW51LWl0ZW1cIiwgdGhpcy5lbGVtZW50ICk7XG5cdFx0aWYgKCBuZXdJdGVtICYmIG5ld0l0ZW0ubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5fY2xvc2UoKTtcblx0XHRcdHRoaXMuZm9jdXMoIGV2ZW50LCBuZXdJdGVtICk7XG5cdFx0fVxuXHR9LFxuXG5cdGV4cGFuZDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBuZXdJdGVtID0gdGhpcy5hY3RpdmUgJiZcblx0XHRcdHRoaXMuYWN0aXZlXG5cdFx0XHRcdC5jaGlsZHJlbiggXCIudWktbWVudSBcIiApXG5cdFx0XHRcdC5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKVxuXHRcdFx0XHQuZmlyc3QoKTtcblxuXHRcdGlmICggbmV3SXRlbSAmJiBuZXdJdGVtLmxlbmd0aCApIHtcblx0XHRcdHRoaXMuX29wZW4oIG5ld0l0ZW0ucGFyZW50KCkgKTtcblxuXHRcdFx0Ly8gRGVsYXkgc28gRmlyZWZveCB3aWxsIG5vdCBoaWRlIGFjdGl2ZWRlc2NlbmRhbnQgY2hhbmdlIGluIGV4cGFuZGluZyBzdWJtZW51IGZyb20gQVRcblx0XHRcdHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLmZvY3VzKCBldmVudCwgbmV3SXRlbSApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LFxuXG5cdG5leHQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR0aGlzLl9tb3ZlKCBcIm5leHRcIiwgXCJmaXJzdFwiLCBldmVudCApO1xuXHR9LFxuXG5cdHByZXZpb3VzOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dGhpcy5fbW92ZSggXCJwcmV2XCIsIFwibGFzdFwiLCBldmVudCApO1xuXHR9LFxuXG5cdGlzRmlyc3RJdGVtOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5hY3RpdmUgJiYgIXRoaXMuYWN0aXZlLnByZXZBbGwoIFwiLnVpLW1lbnUtaXRlbVwiICkubGVuZ3RoO1xuXHR9LFxuXG5cdGlzTGFzdEl0ZW06IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmFjdGl2ZSAmJiAhdGhpcy5hY3RpdmUubmV4dEFsbCggXCIudWktbWVudS1pdGVtXCIgKS5sZW5ndGg7XG5cdH0sXG5cblx0X21vdmU6IGZ1bmN0aW9uKCBkaXJlY3Rpb24sIGZpbHRlciwgZXZlbnQgKSB7XG5cdFx0dmFyIG5leHQ7XG5cdFx0aWYgKCB0aGlzLmFjdGl2ZSApIHtcblx0XHRcdGlmICggZGlyZWN0aW9uID09PSBcImZpcnN0XCIgfHwgZGlyZWN0aW9uID09PSBcImxhc3RcIiApIHtcblx0XHRcdFx0bmV4dCA9IHRoaXMuYWN0aXZlXG5cdFx0XHRcdFx0WyBkaXJlY3Rpb24gPT09IFwiZmlyc3RcIiA/IFwicHJldkFsbFwiIDogXCJuZXh0QWxsXCIgXSggXCIudWktbWVudS1pdGVtXCIgKVxuXHRcdFx0XHRcdC5lcSggLTEgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5leHQgPSB0aGlzLmFjdGl2ZVxuXHRcdFx0XHRcdFsgZGlyZWN0aW9uICsgXCJBbGxcIiBdKCBcIi51aS1tZW51LWl0ZW1cIiApXG5cdFx0XHRcdFx0LmVxKCAwICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmICggIW5leHQgfHwgIW5leHQubGVuZ3RoIHx8ICF0aGlzLmFjdGl2ZSApIHtcblx0XHRcdG5leHQgPSB0aGlzLmFjdGl2ZU1lbnUuZmluZCggdGhpcy5vcHRpb25zLml0ZW1zIClbIGZpbHRlciBdKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5mb2N1cyggZXZlbnQsIG5leHQgKTtcblx0fSxcblxuXHRuZXh0UGFnZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBpdGVtLCBiYXNlLCBoZWlnaHQ7XG5cblx0XHRpZiAoICF0aGlzLmFjdGl2ZSApIHtcblx0XHRcdHRoaXMubmV4dCggZXZlbnQgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLmlzTGFzdEl0ZW0oKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLl9oYXNTY3JvbGwoKSApIHtcblx0XHRcdGJhc2UgPSB0aGlzLmFjdGl2ZS5vZmZzZXQoKS50b3A7XG5cdFx0XHRoZWlnaHQgPSB0aGlzLmVsZW1lbnQuaGVpZ2h0KCk7XG5cdFx0XHR0aGlzLmFjdGl2ZS5uZXh0QWxsKCBcIi51aS1tZW51LWl0ZW1cIiApLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGl0ZW0gPSAkKCB0aGlzICk7XG5cdFx0XHRcdHJldHVybiBpdGVtLm9mZnNldCgpLnRvcCAtIGJhc2UgLSBoZWlnaHQgPCAwO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuZm9jdXMoIGV2ZW50LCBpdGVtICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuZm9jdXMoIGV2ZW50LCB0aGlzLmFjdGl2ZU1lbnUuZmluZCggdGhpcy5vcHRpb25zLml0ZW1zIClcblx0XHRcdFx0WyAhdGhpcy5hY3RpdmUgPyBcImZpcnN0XCIgOiBcImxhc3RcIiBdKCkgKTtcblx0XHR9XG5cdH0sXG5cblx0cHJldmlvdXNQYWdlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGl0ZW0sIGJhc2UsIGhlaWdodDtcblx0XHRpZiAoICF0aGlzLmFjdGl2ZSApIHtcblx0XHRcdHRoaXMubmV4dCggZXZlbnQgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLmlzRmlyc3RJdGVtKCkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICggdGhpcy5faGFzU2Nyb2xsKCkgKSB7XG5cdFx0XHRiYXNlID0gdGhpcy5hY3RpdmUub2Zmc2V0KCkudG9wO1xuXHRcdFx0aGVpZ2h0ID0gdGhpcy5lbGVtZW50LmhlaWdodCgpO1xuXHRcdFx0dGhpcy5hY3RpdmUucHJldkFsbCggXCIudWktbWVudS1pdGVtXCIgKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpdGVtID0gJCggdGhpcyApO1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5vZmZzZXQoKS50b3AgLSBiYXNlICsgaGVpZ2h0ID4gMDtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLmZvY3VzKCBldmVudCwgaXRlbSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmZvY3VzKCBldmVudCwgdGhpcy5hY3RpdmVNZW51LmZpbmQoIHRoaXMub3B0aW9ucy5pdGVtcyApLmZpcnN0KCkgKTtcblx0XHR9XG5cdH0sXG5cblx0X2hhc1Njcm9sbDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpIDwgdGhpcy5lbGVtZW50LnByb3AoIFwic2Nyb2xsSGVpZ2h0XCIgKTtcblx0fSxcblxuXHRzZWxlY3Q6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHQvLyBUT0RPOiBJdCBzaG91bGQgbmV2ZXIgYmUgcG9zc2libGUgdG8gbm90IGhhdmUgYW4gYWN0aXZlIGl0ZW0gYXQgdGhpc1xuXHRcdC8vIHBvaW50LCBidXQgdGhlIHRlc3RzIGRvbid0IHRyaWdnZXIgbW91c2VlbnRlciBiZWZvcmUgY2xpY2suXG5cdFx0dGhpcy5hY3RpdmUgPSB0aGlzLmFjdGl2ZSB8fCAkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCBcIi51aS1tZW51LWl0ZW1cIiApO1xuXHRcdHZhciB1aSA9IHsgaXRlbTogdGhpcy5hY3RpdmUgfTtcblx0XHRpZiAoICF0aGlzLmFjdGl2ZS5oYXMoIFwiLnVpLW1lbnVcIiApLmxlbmd0aCApIHtcblx0XHRcdHRoaXMuY29sbGFwc2VBbGwoIGV2ZW50LCB0cnVlICk7XG5cdFx0fVxuXHRcdHRoaXMuX3RyaWdnZXIoIFwic2VsZWN0XCIsIGV2ZW50LCB1aSApO1xuXHR9LFxuXG5cdF9maWx0ZXJNZW51SXRlbXM6IGZ1bmN0aW9uKGNoYXJhY3Rlcikge1xuXHRcdHZhciBlc2NhcGVkQ2hhcmFjdGVyID0gY2hhcmFjdGVyLnJlcGxhY2UoIC9bXFwtXFxbXFxde30oKSorPy4sXFxcXFxcXiR8I1xcc10vZywgXCJcXFxcJCZcIiApLFxuXHRcdFx0cmVnZXggPSBuZXcgUmVnRXhwKCBcIl5cIiArIGVzY2FwZWRDaGFyYWN0ZXIsIFwiaVwiICk7XG5cblx0XHRyZXR1cm4gdGhpcy5hY3RpdmVNZW51XG5cdFx0XHQuZmluZCggdGhpcy5vcHRpb25zLml0ZW1zIClcblxuXHRcdFx0Ly8gT25seSBtYXRjaCBvbiBpdGVtcywgbm90IGRpdmlkZXJzIG9yIG90aGVyIGNvbnRlbnQgKCMxMDU3MSlcblx0XHRcdC5maWx0ZXIoIFwiLnVpLW1lbnUtaXRlbVwiIClcblx0XHRcdC5maWx0ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiByZWdleC50ZXN0KCAkLnRyaW0oICQoIHRoaXMgKS50ZXh0KCkgKSApO1xuXHRcdFx0fSk7XG5cdH1cbn0pO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEF1dG9jb21wbGV0ZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2F1dG9jb21wbGV0ZS9cbiAqL1xuXG5cbiQud2lkZ2V0KCBcInVpLmF1dG9jb21wbGV0ZVwiLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdGRlZmF1bHRFbGVtZW50OiBcIjxpbnB1dD5cIixcblx0b3B0aW9uczoge1xuXHRcdGFwcGVuZFRvOiBudWxsLFxuXHRcdGF1dG9Gb2N1czogZmFsc2UsXG5cdFx0ZGVsYXk6IDMwMCxcblx0XHRtaW5MZW5ndGg6IDEsXG5cdFx0cG9zaXRpb246IHtcblx0XHRcdG15OiBcImxlZnQgdG9wXCIsXG5cdFx0XHRhdDogXCJsZWZ0IGJvdHRvbVwiLFxuXHRcdFx0Y29sbGlzaW9uOiBcIm5vbmVcIlxuXHRcdH0sXG5cdFx0c291cmNlOiBudWxsLFxuXG5cdFx0Ly8gY2FsbGJhY2tzXG5cdFx0Y2hhbmdlOiBudWxsLFxuXHRcdGNsb3NlOiBudWxsLFxuXHRcdGZvY3VzOiBudWxsLFxuXHRcdG9wZW46IG51bGwsXG5cdFx0cmVzcG9uc2U6IG51bGwsXG5cdFx0c2VhcmNoOiBudWxsLFxuXHRcdHNlbGVjdDogbnVsbFxuXHR9LFxuXG5cdHJlcXVlc3RJbmRleDogMCxcblx0cGVuZGluZzogMCxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHQvLyBTb21lIGJyb3dzZXJzIG9ubHkgcmVwZWF0IGtleWRvd24gZXZlbnRzLCBub3Qga2V5cHJlc3MgZXZlbnRzLFxuXHRcdC8vIHNvIHdlIHVzZSB0aGUgc3VwcHJlc3NLZXlQcmVzcyBmbGFnIHRvIGRldGVybWluZSBpZiB3ZSd2ZSBhbHJlYWR5XG5cdFx0Ly8gaGFuZGxlZCB0aGUga2V5ZG93biBldmVudC4gIzcyNjlcblx0XHQvLyBVbmZvcnR1bmF0ZWx5IHRoZSBjb2RlIGZvciAmIGluIGtleXByZXNzIGlzIHRoZSBzYW1lIGFzIHRoZSB1cCBhcnJvdyxcblx0XHQvLyBzbyB3ZSB1c2UgdGhlIHN1cHByZXNzS2V5UHJlc3NSZXBlYXQgZmxhZyB0byBhdm9pZCBoYW5kbGluZyBrZXlwcmVzc1xuXHRcdC8vIGV2ZW50cyB3aGVuIHdlIGtub3cgdGhlIGtleWRvd24gZXZlbnQgd2FzIHVzZWQgdG8gbW9kaWZ5IHRoZVxuXHRcdC8vIHNlYXJjaCB0ZXJtLiAjNzc5OVxuXHRcdHZhciBzdXBwcmVzc0tleVByZXNzLCBzdXBwcmVzc0tleVByZXNzUmVwZWF0LCBzdXBwcmVzc0lucHV0LFxuXHRcdFx0bm9kZU5hbWUgPSB0aGlzLmVsZW1lbnRbIDAgXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0aXNUZXh0YXJlYSA9IG5vZGVOYW1lID09PSBcInRleHRhcmVhXCIsXG5cdFx0XHRpc0lucHV0ID0gbm9kZU5hbWUgPT09IFwiaW5wdXRcIjtcblxuXHRcdHRoaXMuaXNNdWx0aUxpbmUgPVxuXHRcdFx0Ly8gVGV4dGFyZWFzIGFyZSBhbHdheXMgbXVsdGktbGluZVxuXHRcdFx0aXNUZXh0YXJlYSA/IHRydWUgOlxuXHRcdFx0Ly8gSW5wdXRzIGFyZSBhbHdheXMgc2luZ2xlLWxpbmUsIGV2ZW4gaWYgaW5zaWRlIGEgY29udGVudEVkaXRhYmxlIGVsZW1lbnRcblx0XHRcdC8vIElFIGFsc28gdHJlYXRzIGlucHV0cyBhcyBjb250ZW50RWRpdGFibGVcblx0XHRcdGlzSW5wdXQgPyBmYWxzZSA6XG5cdFx0XHQvLyBBbGwgb3RoZXIgZWxlbWVudCB0eXBlcyBhcmUgZGV0ZXJtaW5lZCBieSB3aGV0aGVyIG9yIG5vdCB0aGV5J3JlIGNvbnRlbnRFZGl0YWJsZVxuXHRcdFx0dGhpcy5lbGVtZW50LnByb3AoIFwiaXNDb250ZW50RWRpdGFibGVcIiApO1xuXG5cdFx0dGhpcy52YWx1ZU1ldGhvZCA9IHRoaXMuZWxlbWVudFsgaXNUZXh0YXJlYSB8fCBpc0lucHV0ID8gXCJ2YWxcIiA6IFwidGV4dFwiIF07XG5cdFx0dGhpcy5pc05ld01lbnUgPSB0cnVlO1xuXG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktYXV0b2NvbXBsZXRlLWlucHV0XCIgKVxuXHRcdFx0LmF0dHIoIFwiYXV0b2NvbXBsZXRlXCIsIFwib2ZmXCIgKTtcblxuXHRcdHRoaXMuX29uKCB0aGlzLmVsZW1lbnQsIHtcblx0XHRcdGtleWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCB0aGlzLmVsZW1lbnQucHJvcCggXCJyZWFkT25seVwiICkgKSB7XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IHRydWU7XG5cdFx0XHRcdFx0c3VwcHJlc3NJbnB1dCA9IHRydWU7XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzc1JlcGVhdCA9IHRydWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IGZhbHNlO1xuXHRcdFx0XHRzdXBwcmVzc0lucHV0ID0gZmFsc2U7XG5cdFx0XHRcdHN1cHByZXNzS2V5UHJlc3NSZXBlYXQgPSBmYWxzZTtcblx0XHRcdFx0dmFyIGtleUNvZGUgPSAkLnVpLmtleUNvZGU7XG5cdFx0XHRcdHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5QQUdFX1VQOlxuXHRcdFx0XHRcdHN1cHByZXNzS2V5UHJlc3MgPSB0cnVlO1xuXHRcdFx0XHRcdHRoaXMuX21vdmUoIFwicHJldmlvdXNQYWdlXCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5QQUdFX0RPV046XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IHRydWU7XG5cdFx0XHRcdFx0dGhpcy5fbW92ZSggXCJuZXh0UGFnZVwiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIGtleUNvZGUuVVA6XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IHRydWU7XG5cdFx0XHRcdFx0dGhpcy5fa2V5RXZlbnQoIFwicHJldmlvdXNcIiwgZXZlbnQgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBrZXlDb2RlLkRPV046XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IHRydWU7XG5cdFx0XHRcdFx0dGhpcy5fa2V5RXZlbnQoIFwibmV4dFwiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIGtleUNvZGUuRU5URVI6XG5cdFx0XHRcdFx0Ly8gd2hlbiBtZW51IGlzIG9wZW4gYW5kIGhhcyBmb2N1c1xuXHRcdFx0XHRcdGlmICggdGhpcy5tZW51LmFjdGl2ZSApIHtcblx0XHRcdFx0XHRcdC8vICM2MDU1IC0gT3BlcmEgc3RpbGwgYWxsb3dzIHRoZSBrZXlwcmVzcyB0byBvY2N1clxuXHRcdFx0XHRcdFx0Ly8gd2hpY2ggY2F1c2VzIGZvcm1zIHRvIHN1Ym1pdFxuXHRcdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IHRydWU7XG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0dGhpcy5tZW51LnNlbGVjdCggZXZlbnQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5UQUI6XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm1lbnUuYWN0aXZlICkge1xuXHRcdFx0XHRcdFx0dGhpcy5tZW51LnNlbGVjdCggZXZlbnQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5FU0NBUEU6XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm1lbnUuZWxlbWVudC5pcyggXCI6dmlzaWJsZVwiICkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoICF0aGlzLmlzTXVsdGlMaW5lICkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLl92YWx1ZSggdGhpcy50ZXJtICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0aGlzLmNsb3NlKCBldmVudCApO1xuXHRcdFx0XHRcdFx0Ly8gRGlmZmVyZW50IGJyb3dzZXJzIGhhdmUgZGlmZmVyZW50IGRlZmF1bHQgYmVoYXZpb3IgZm9yIGVzY2FwZVxuXHRcdFx0XHRcdFx0Ly8gU2luZ2xlIHByZXNzIGNhbiBtZWFuIHVuZG8gb3IgY2xlYXJcblx0XHRcdFx0XHRcdC8vIERvdWJsZSBwcmVzcyBpbiBJRSBtZWFucyBjbGVhciB0aGUgd2hvbGUgZm9ybVxuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzc1JlcGVhdCA9IHRydWU7XG5cdFx0XHRcdFx0Ly8gc2VhcmNoIHRpbWVvdXQgc2hvdWxkIGJlIHRyaWdnZXJlZCBiZWZvcmUgdGhlIGlucHV0IHZhbHVlIGlzIGNoYW5nZWRcblx0XHRcdFx0XHR0aGlzLl9zZWFyY2hUaW1lb3V0KCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0a2V5cHJlc3M6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCBzdXBwcmVzc0tleVByZXNzICkge1xuXHRcdFx0XHRcdHN1cHByZXNzS2V5UHJlc3MgPSBmYWxzZTtcblx0XHRcdFx0XHRpZiAoICF0aGlzLmlzTXVsdGlMaW5lIHx8IHRoaXMubWVudS5lbGVtZW50LmlzKCBcIjp2aXNpYmxlXCIgKSApIHtcblx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIHN1cHByZXNzS2V5UHJlc3NSZXBlYXQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gcmVwbGljYXRlIHNvbWUga2V5IGhhbmRsZXJzIHRvIGFsbG93IHRoZW0gdG8gcmVwZWF0IGluIEZpcmVmb3ggYW5kIE9wZXJhXG5cdFx0XHRcdHZhciBrZXlDb2RlID0gJC51aS5rZXlDb2RlO1xuXHRcdFx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXHRcdFx0XHRjYXNlIGtleUNvZGUuUEFHRV9VUDpcblx0XHRcdFx0XHR0aGlzLl9tb3ZlKCBcInByZXZpb3VzUGFnZVwiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIGtleUNvZGUuUEFHRV9ET1dOOlxuXHRcdFx0XHRcdHRoaXMuX21vdmUoIFwibmV4dFBhZ2VcIiwgZXZlbnQgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBrZXlDb2RlLlVQOlxuXHRcdFx0XHRcdHRoaXMuX2tleUV2ZW50KCBcInByZXZpb3VzXCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5ET1dOOlxuXHRcdFx0XHRcdHRoaXMuX2tleUV2ZW50KCBcIm5leHRcIiwgZXZlbnQgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGlucHV0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGlmICggc3VwcHJlc3NJbnB1dCApIHtcblx0XHRcdFx0XHRzdXBwcmVzc0lucHV0ID0gZmFsc2U7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5fc2VhcmNoVGltZW91dCggZXZlbnQgKTtcblx0XHRcdH0sXG5cdFx0XHRmb2N1czogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuc2VsZWN0ZWRJdGVtID0gbnVsbDtcblx0XHRcdFx0dGhpcy5wcmV2aW91cyA9IHRoaXMuX3ZhbHVlKCk7XG5cdFx0XHR9LFxuXHRcdFx0Ymx1cjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIHRoaXMuY2FuY2VsQmx1ciApIHtcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5jYW5jZWxCbHVyO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNsZWFyVGltZW91dCggdGhpcy5zZWFyY2hpbmcgKTtcblx0XHRcdFx0dGhpcy5jbG9zZSggZXZlbnQgKTtcblx0XHRcdFx0dGhpcy5fY2hhbmdlKCBldmVudCApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dGhpcy5faW5pdFNvdXJjZSgpO1xuXHRcdHRoaXMubWVudSA9ICQoIFwiPHVsPlwiIClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1hdXRvY29tcGxldGUgdWktZnJvbnRcIiApXG5cdFx0XHQuYXBwZW5kVG8oIHRoaXMuX2FwcGVuZFRvKCkgKVxuXHRcdFx0Lm1lbnUoe1xuXHRcdFx0XHQvLyBkaXNhYmxlIEFSSUEgc3VwcG9ydCwgdGhlIGxpdmUgcmVnaW9uIHRha2VzIGNhcmUgb2YgdGhhdFxuXHRcdFx0XHRyb2xlOiBudWxsXG5cdFx0XHR9KVxuXHRcdFx0LmhpZGUoKVxuXHRcdFx0Lm1lbnUoIFwiaW5zdGFuY2VcIiApO1xuXG5cdFx0dGhpcy5fb24oIHRoaXMubWVudS5lbGVtZW50LCB7XG5cdFx0XHRtb3VzZWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0Ly8gcHJldmVudCBtb3ZpbmcgZm9jdXMgb3V0IG9mIHRoZSB0ZXh0IGZpZWxkXG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0Ly8gSUUgZG9lc24ndCBwcmV2ZW50IG1vdmluZyBmb2N1cyBldmVuIHdpdGggZXZlbnQucHJldmVudERlZmF1bHQoKVxuXHRcdFx0XHQvLyBzbyB3ZSBzZXQgYSBmbGFnIHRvIGtub3cgd2hlbiB3ZSBzaG91bGQgaWdub3JlIHRoZSBibHVyIGV2ZW50XG5cdFx0XHRcdHRoaXMuY2FuY2VsQmx1ciA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLmNhbmNlbEJsdXI7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIGNsaWNraW5nIG9uIHRoZSBzY3JvbGxiYXIgY2F1c2VzIGZvY3VzIHRvIHNoaWZ0IHRvIHRoZSBib2R5XG5cdFx0XHRcdC8vIGJ1dCB3ZSBjYW4ndCBkZXRlY3QgYSBtb3VzZXVwIG9yIGEgY2xpY2sgaW1tZWRpYXRlbHkgYWZ0ZXJ3YXJkXG5cdFx0XHRcdC8vIHNvIHdlIGhhdmUgdG8gdHJhY2sgdGhlIG5leHQgbW91c2Vkb3duIGFuZCBjbG9zZSB0aGUgbWVudSBpZlxuXHRcdFx0XHQvLyB0aGUgdXNlciBjbGlja3Mgc29tZXdoZXJlIG91dHNpZGUgb2YgdGhlIGF1dG9jb21wbGV0ZVxuXHRcdFx0XHR2YXIgbWVudUVsZW1lbnQgPSB0aGlzLm1lbnUuZWxlbWVudFsgMCBdO1xuXHRcdFx0XHRpZiAoICEkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCBcIi51aS1tZW51LWl0ZW1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHR0aGlzLl9kZWxheShmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHRcdFx0XHRcdHRoaXMuZG9jdW1lbnQub25lKCBcIm1vdXNlZG93blwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggZXZlbnQudGFyZ2V0ICE9PSB0aGF0LmVsZW1lbnRbIDAgXSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0ZXZlbnQudGFyZ2V0ICE9PSBtZW51RWxlbWVudCAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0ISQuY29udGFpbnMoIG1lbnVFbGVtZW50LCBldmVudC50YXJnZXQgKSApIHtcblx0XHRcdFx0XHRcdFx0XHR0aGF0LmNsb3NlKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0bWVudWZvY3VzOiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xuXHRcdFx0XHR2YXIgbGFiZWwsIGl0ZW07XG5cdFx0XHRcdC8vIHN1cHBvcnQ6IEZpcmVmb3hcblx0XHRcdFx0Ly8gUHJldmVudCBhY2NpZGVudGFsIGFjdGl2YXRpb24gb2YgbWVudSBpdGVtcyBpbiBGaXJlZm94ICgjNzAyNCAjOTExOClcblx0XHRcdFx0aWYgKCB0aGlzLmlzTmV3TWVudSApIHtcblx0XHRcdFx0XHR0aGlzLmlzTmV3TWVudSA9IGZhbHNlO1xuXHRcdFx0XHRcdGlmICggZXZlbnQub3JpZ2luYWxFdmVudCAmJiAvXm1vdXNlLy50ZXN0KCBldmVudC5vcmlnaW5hbEV2ZW50LnR5cGUgKSApIHtcblx0XHRcdFx0XHRcdHRoaXMubWVudS5ibHVyKCk7XG5cblx0XHRcdFx0XHRcdHRoaXMuZG9jdW1lbnQub25lKCBcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0JCggZXZlbnQudGFyZ2V0ICkudHJpZ2dlciggZXZlbnQub3JpZ2luYWxFdmVudCApO1xuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpdGVtID0gdWkuaXRlbS5kYXRhKCBcInVpLWF1dG9jb21wbGV0ZS1pdGVtXCIgKTtcblx0XHRcdFx0aWYgKCBmYWxzZSAhPT0gdGhpcy5fdHJpZ2dlciggXCJmb2N1c1wiLCBldmVudCwgeyBpdGVtOiBpdGVtIH0gKSApIHtcblx0XHRcdFx0XHQvLyB1c2UgdmFsdWUgdG8gbWF0Y2ggd2hhdCB3aWxsIGVuZCB1cCBpbiB0aGUgaW5wdXQsIGlmIGl0IHdhcyBhIGtleSBldmVudFxuXHRcdFx0XHRcdGlmICggZXZlbnQub3JpZ2luYWxFdmVudCAmJiAvXmtleS8udGVzdCggZXZlbnQub3JpZ2luYWxFdmVudC50eXBlICkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLl92YWx1ZSggaXRlbS52YWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFubm91bmNlIHRoZSB2YWx1ZSBpbiB0aGUgbGl2ZVJlZ2lvblxuXHRcdFx0XHRsYWJlbCA9IHVpLml0ZW0uYXR0ciggXCJhcmlhLWxhYmVsXCIgKSB8fCBpdGVtLnZhbHVlO1xuXHRcdFx0XHRpZiAoIGxhYmVsICYmICQudHJpbSggbGFiZWwgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0dGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpO1xuXHRcdFx0XHRcdCQoIFwiPGRpdj5cIiApLnRleHQoIGxhYmVsICkuYXBwZW5kVG8oIHRoaXMubGl2ZVJlZ2lvbiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0bWVudXNlbGVjdDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0dmFyIGl0ZW0gPSB1aS5pdGVtLmRhdGEoIFwidWktYXV0b2NvbXBsZXRlLWl0ZW1cIiApLFxuXHRcdFx0XHRcdHByZXZpb3VzID0gdGhpcy5wcmV2aW91cztcblxuXHRcdFx0XHQvLyBvbmx5IHRyaWdnZXIgd2hlbiBmb2N1cyB3YXMgbG9zdCAoY2xpY2sgb24gbWVudSlcblx0XHRcdFx0aWYgKCB0aGlzLmVsZW1lbnRbIDAgXSAhPT0gdGhpcy5kb2N1bWVudFsgMCBdLmFjdGl2ZUVsZW1lbnQgKSB7XG5cdFx0XHRcdFx0dGhpcy5lbGVtZW50LmZvY3VzKCk7XG5cdFx0XHRcdFx0dGhpcy5wcmV2aW91cyA9IHByZXZpb3VzO1xuXHRcdFx0XHRcdC8vICM2MTA5IC0gSUUgdHJpZ2dlcnMgdHdvIGZvY3VzIGV2ZW50cyBhbmQgdGhlIHNlY29uZFxuXHRcdFx0XHRcdC8vIGlzIGFzeW5jaHJvbm91cywgc28gd2UgbmVlZCB0byByZXNldCB0aGUgcHJldmlvdXNcblx0XHRcdFx0XHQvLyB0ZXJtIHN5bmNocm9ub3VzbHkgYW5kIGFzeW5jaHJvbm91c2x5IDotKFxuXHRcdFx0XHRcdHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dGhpcy5wcmV2aW91cyA9IHByZXZpb3VzO1xuXHRcdFx0XHRcdFx0dGhpcy5zZWxlY3RlZEl0ZW0gPSBpdGVtO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBmYWxzZSAhPT0gdGhpcy5fdHJpZ2dlciggXCJzZWxlY3RcIiwgZXZlbnQsIHsgaXRlbTogaXRlbSB9ICkgKSB7XG5cdFx0XHRcdFx0dGhpcy5fdmFsdWUoIGl0ZW0udmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyByZXNldCB0aGUgdGVybSBhZnRlciB0aGUgc2VsZWN0IGV2ZW50XG5cdFx0XHRcdC8vIHRoaXMgYWxsb3dzIGN1c3RvbSBzZWxlY3QgaGFuZGxpbmcgdG8gd29yayBwcm9wZXJseVxuXHRcdFx0XHR0aGlzLnRlcm0gPSB0aGlzLl92YWx1ZSgpO1xuXG5cdFx0XHRcdHRoaXMuY2xvc2UoIGV2ZW50ICk7XG5cdFx0XHRcdHRoaXMuc2VsZWN0ZWRJdGVtID0gaXRlbTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHRoaXMubGl2ZVJlZ2lvbiA9ICQoIFwiPHNwYW4+XCIsIHtcblx0XHRcdFx0cm9sZTogXCJzdGF0dXNcIixcblx0XHRcdFx0XCJhcmlhLWxpdmVcIjogXCJhc3NlcnRpdmVcIixcblx0XHRcdFx0XCJhcmlhLXJlbGV2YW50XCI6IFwiYWRkaXRpb25zXCJcblx0XHRcdH0pXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlXCIgKVxuXHRcdFx0LmFwcGVuZFRvKCB0aGlzLmRvY3VtZW50WyAwIF0uYm9keSApO1xuXG5cdFx0Ly8gdHVybmluZyBvZmYgYXV0b2NvbXBsZXRlIHByZXZlbnRzIHRoZSBicm93c2VyIGZyb20gcmVtZW1iZXJpbmcgdGhlXG5cdFx0Ly8gdmFsdWUgd2hlbiBuYXZpZ2F0aW5nIHRocm91Z2ggaGlzdG9yeSwgc28gd2UgcmUtZW5hYmxlIGF1dG9jb21wbGV0ZVxuXHRcdC8vIGlmIHRoZSBwYWdlIGlzIHVubG9hZGVkIGJlZm9yZSB0aGUgd2lkZ2V0IGlzIGRlc3Ryb3llZC4gIzc3OTBcblx0XHR0aGlzLl9vbiggdGhpcy53aW5kb3csIHtcblx0XHRcdGJlZm9yZXVubG9hZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCBcImF1dG9jb21wbGV0ZVwiICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdGNsZWFyVGltZW91dCggdGhpcy5zZWFyY2hpbmcgKTtcblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1hdXRvY29tcGxldGUtaW5wdXRcIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhdXRvY29tcGxldGVcIiApO1xuXHRcdHRoaXMubWVudS5lbGVtZW50LnJlbW92ZSgpO1xuXHRcdHRoaXMubGl2ZVJlZ2lvbi5yZW1vdmUoKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXHRcdGlmICgga2V5ID09PSBcInNvdXJjZVwiICkge1xuXHRcdFx0dGhpcy5faW5pdFNvdXJjZSgpO1xuXHRcdH1cblx0XHRpZiAoIGtleSA9PT0gXCJhcHBlbmRUb1wiICkge1xuXHRcdFx0dGhpcy5tZW51LmVsZW1lbnQuYXBwZW5kVG8oIHRoaXMuX2FwcGVuZFRvKCkgKTtcblx0XHR9XG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiAmJiB2YWx1ZSAmJiB0aGlzLnhociApIHtcblx0XHRcdHRoaXMueGhyLmFib3J0KCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hcHBlbmRUbzogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW1lbnQgPSB0aGlzLm9wdGlvbnMuYXBwZW5kVG87XG5cblx0XHRpZiAoIGVsZW1lbnQgKSB7XG5cdFx0XHRlbGVtZW50ID0gZWxlbWVudC5qcXVlcnkgfHwgZWxlbWVudC5ub2RlVHlwZSA/XG5cdFx0XHRcdCQoIGVsZW1lbnQgKSA6XG5cdFx0XHRcdHRoaXMuZG9jdW1lbnQuZmluZCggZWxlbWVudCApLmVxKCAwICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhZWxlbWVudCB8fCAhZWxlbWVudFsgMCBdICkge1xuXHRcdFx0ZWxlbWVudCA9IHRoaXMuZWxlbWVudC5jbG9zZXN0KCBcIi51aS1mcm9udFwiICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhZWxlbWVudC5sZW5ndGggKSB7XG5cdFx0XHRlbGVtZW50ID0gdGhpcy5kb2N1bWVudFsgMCBdLmJvZHk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVsZW1lbnQ7XG5cdH0sXG5cblx0X2luaXRTb3VyY2U6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBhcnJheSwgdXJsLFxuXHRcdFx0dGhhdCA9IHRoaXM7XG5cdFx0aWYgKCAkLmlzQXJyYXkoIHRoaXMub3B0aW9ucy5zb3VyY2UgKSApIHtcblx0XHRcdGFycmF5ID0gdGhpcy5vcHRpb25zLnNvdXJjZTtcblx0XHRcdHRoaXMuc291cmNlID0gZnVuY3Rpb24oIHJlcXVlc3QsIHJlc3BvbnNlICkge1xuXHRcdFx0XHRyZXNwb25zZSggJC51aS5hdXRvY29tcGxldGUuZmlsdGVyKCBhcnJheSwgcmVxdWVzdC50ZXJtICkgKTtcblx0XHRcdH07XG5cdFx0fSBlbHNlIGlmICggdHlwZW9mIHRoaXMub3B0aW9ucy5zb3VyY2UgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHR1cmwgPSB0aGlzLm9wdGlvbnMuc291cmNlO1xuXHRcdFx0dGhpcy5zb3VyY2UgPSBmdW5jdGlvbiggcmVxdWVzdCwgcmVzcG9uc2UgKSB7XG5cdFx0XHRcdGlmICggdGhhdC54aHIgKSB7XG5cdFx0XHRcdFx0dGhhdC54aHIuYWJvcnQoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGF0LnhociA9ICQuYWpheCh7XG5cdFx0XHRcdFx0dXJsOiB1cmwsXG5cdFx0XHRcdFx0ZGF0YTogcmVxdWVzdCxcblx0XHRcdFx0XHRkYXRhVHlwZTogXCJqc29uXCIsXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZSggZGF0YSApO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmVzcG9uc2UoW10pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnNvdXJjZSA9IHRoaXMub3B0aW9ucy5zb3VyY2U7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZWFyY2hUaW1lb3V0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnNlYXJjaGluZyApO1xuXHRcdHRoaXMuc2VhcmNoaW5nID0gdGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIFNlYXJjaCBpZiB0aGUgdmFsdWUgaGFzIGNoYW5nZWQsIG9yIGlmIHRoZSB1c2VyIHJldHlwZXMgdGhlIHNhbWUgdmFsdWUgKHNlZSAjNzQzNClcblx0XHRcdHZhciBlcXVhbFZhbHVlcyA9IHRoaXMudGVybSA9PT0gdGhpcy5fdmFsdWUoKSxcblx0XHRcdFx0bWVudVZpc2libGUgPSB0aGlzLm1lbnUuZWxlbWVudC5pcyggXCI6dmlzaWJsZVwiICksXG5cdFx0XHRcdG1vZGlmaWVyS2V5ID0gZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC5zaGlmdEtleTtcblxuXHRcdFx0aWYgKCAhZXF1YWxWYWx1ZXMgfHwgKCBlcXVhbFZhbHVlcyAmJiAhbWVudVZpc2libGUgJiYgIW1vZGlmaWVyS2V5ICkgKSB7XG5cdFx0XHRcdHRoaXMuc2VsZWN0ZWRJdGVtID0gbnVsbDtcblx0XHRcdFx0dGhpcy5zZWFyY2goIG51bGwsIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0fSwgdGhpcy5vcHRpb25zLmRlbGF5ICk7XG5cdH0sXG5cblx0c2VhcmNoOiBmdW5jdGlvbiggdmFsdWUsIGV2ZW50ICkge1xuXHRcdHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogdGhpcy5fdmFsdWUoKTtcblxuXHRcdC8vIGFsd2F5cyBzYXZlIHRoZSBhY3R1YWwgdmFsdWUsIG5vdCB0aGUgb25lIHBhc3NlZCBhcyBhbiBhcmd1bWVudFxuXHRcdHRoaXMudGVybSA9IHRoaXMuX3ZhbHVlKCk7XG5cblx0XHRpZiAoIHZhbHVlLmxlbmd0aCA8IHRoaXMub3B0aW9ucy5taW5MZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jbG9zZSggZXZlbnQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX3RyaWdnZXIoIFwic2VhcmNoXCIsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLl9zZWFyY2goIHZhbHVlICk7XG5cdH0sXG5cblx0X3NlYXJjaDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHRoaXMucGVuZGluZysrO1xuXHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyggXCJ1aS1hdXRvY29tcGxldGUtbG9hZGluZ1wiICk7XG5cdFx0dGhpcy5jYW5jZWxTZWFyY2ggPSBmYWxzZTtcblxuXHRcdHRoaXMuc291cmNlKCB7IHRlcm06IHZhbHVlIH0sIHRoaXMuX3Jlc3BvbnNlKCkgKTtcblx0fSxcblxuXHRfcmVzcG9uc2U6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbmRleCA9ICsrdGhpcy5yZXF1ZXN0SW5kZXg7XG5cblx0XHRyZXR1cm4gJC5wcm94eShmdW5jdGlvbiggY29udGVudCApIHtcblx0XHRcdGlmICggaW5kZXggPT09IHRoaXMucmVxdWVzdEluZGV4ICkge1xuXHRcdFx0XHR0aGlzLl9fcmVzcG9uc2UoIGNvbnRlbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5wZW5kaW5nLS07XG5cdFx0XHRpZiAoICF0aGlzLnBlbmRpbmcgKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyggXCJ1aS1hdXRvY29tcGxldGUtbG9hZGluZ1wiICk7XG5cdFx0XHR9XG5cdFx0fSwgdGhpcyApO1xuXHR9LFxuXG5cdF9fcmVzcG9uc2U6IGZ1bmN0aW9uKCBjb250ZW50ICkge1xuXHRcdGlmICggY29udGVudCApIHtcblx0XHRcdGNvbnRlbnQgPSB0aGlzLl9ub3JtYWxpemUoIGNvbnRlbnQgKTtcblx0XHR9XG5cdFx0dGhpcy5fdHJpZ2dlciggXCJyZXNwb25zZVwiLCBudWxsLCB7IGNvbnRlbnQ6IGNvbnRlbnQgfSApO1xuXHRcdGlmICggIXRoaXMub3B0aW9ucy5kaXNhYmxlZCAmJiBjb250ZW50ICYmIGNvbnRlbnQubGVuZ3RoICYmICF0aGlzLmNhbmNlbFNlYXJjaCApIHtcblx0XHRcdHRoaXMuX3N1Z2dlc3QoIGNvbnRlbnQgKTtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwib3BlblwiICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHVzZSAuX2Nsb3NlKCkgaW5zdGVhZCBvZiAuY2xvc2UoKSBzbyB3ZSBkb24ndCBjYW5jZWwgZnV0dXJlIHNlYXJjaGVzXG5cdFx0XHR0aGlzLl9jbG9zZSgpO1xuXHRcdH1cblx0fSxcblxuXHRjbG9zZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHRoaXMuY2FuY2VsU2VhcmNoID0gdHJ1ZTtcblx0XHR0aGlzLl9jbG9zZSggZXZlbnQgKTtcblx0fSxcblxuXHRfY2xvc2U6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoIHRoaXMubWVudS5lbGVtZW50LmlzKCBcIjp2aXNpYmxlXCIgKSApIHtcblx0XHRcdHRoaXMubWVudS5lbGVtZW50LmhpZGUoKTtcblx0XHRcdHRoaXMubWVudS5ibHVyKCk7XG5cdFx0XHR0aGlzLmlzTmV3TWVudSA9IHRydWU7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImNsb3NlXCIsIGV2ZW50ICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9jaGFuZ2U6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoIHRoaXMucHJldmlvdXMgIT09IHRoaXMuX3ZhbHVlKCkgKSB7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImNoYW5nZVwiLCBldmVudCwgeyBpdGVtOiB0aGlzLnNlbGVjdGVkSXRlbSB9ICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9ub3JtYWxpemU6IGZ1bmN0aW9uKCBpdGVtcyApIHtcblx0XHQvLyBhc3N1bWUgYWxsIGl0ZW1zIGhhdmUgdGhlIHJpZ2h0IGZvcm1hdCB3aGVuIHRoZSBmaXJzdCBpdGVtIGlzIGNvbXBsZXRlXG5cdFx0aWYgKCBpdGVtcy5sZW5ndGggJiYgaXRlbXNbIDAgXS5sYWJlbCAmJiBpdGVtc1sgMCBdLnZhbHVlICkge1xuXHRcdFx0cmV0dXJuIGl0ZW1zO1xuXHRcdH1cblx0XHRyZXR1cm4gJC5tYXAoIGl0ZW1zLCBmdW5jdGlvbiggaXRlbSApIHtcblx0XHRcdGlmICggdHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0bGFiZWw6IGl0ZW0sXG5cdFx0XHRcdFx0dmFsdWU6IGl0ZW1cblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdHJldHVybiAkLmV4dGVuZCgge30sIGl0ZW0sIHtcblx0XHRcdFx0bGFiZWw6IGl0ZW0ubGFiZWwgfHwgaXRlbS52YWx1ZSxcblx0XHRcdFx0dmFsdWU6IGl0ZW0udmFsdWUgfHwgaXRlbS5sYWJlbFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH0sXG5cblx0X3N1Z2dlc3Q6IGZ1bmN0aW9uKCBpdGVtcyApIHtcblx0XHR2YXIgdWwgPSB0aGlzLm1lbnUuZWxlbWVudC5lbXB0eSgpO1xuXHRcdHRoaXMuX3JlbmRlck1lbnUoIHVsLCBpdGVtcyApO1xuXHRcdHRoaXMuaXNOZXdNZW51ID0gdHJ1ZTtcblx0XHR0aGlzLm1lbnUucmVmcmVzaCgpO1xuXG5cdFx0Ly8gc2l6ZSBhbmQgcG9zaXRpb24gbWVudVxuXHRcdHVsLnNob3coKTtcblx0XHR0aGlzLl9yZXNpemVNZW51KCk7XG5cdFx0dWwucG9zaXRpb24oICQuZXh0ZW5kKHtcblx0XHRcdG9mOiB0aGlzLmVsZW1lbnRcblx0XHR9LCB0aGlzLm9wdGlvbnMucG9zaXRpb24gKSApO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzICkge1xuXHRcdFx0dGhpcy5tZW51Lm5leHQoKTtcblx0XHR9XG5cdH0sXG5cblx0X3Jlc2l6ZU1lbnU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB1bCA9IHRoaXMubWVudS5lbGVtZW50O1xuXHRcdHVsLm91dGVyV2lkdGgoIE1hdGgubWF4KFxuXHRcdFx0Ly8gRmlyZWZveCB3cmFwcyBsb25nIHRleHQgKHBvc3NpYmx5IGEgcm91bmRpbmcgYnVnKVxuXHRcdFx0Ly8gc28gd2UgYWRkIDFweCB0byBhdm9pZCB0aGUgd3JhcHBpbmcgKCM3NTEzKVxuXHRcdFx0dWwud2lkdGgoIFwiXCIgKS5vdXRlcldpZHRoKCkgKyAxLFxuXHRcdFx0dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKVxuXHRcdCkgKTtcblx0fSxcblxuXHRfcmVuZGVyTWVudTogZnVuY3Rpb24oIHVsLCBpdGVtcyApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0JC5lYWNoKCBpdGVtcywgZnVuY3Rpb24oIGluZGV4LCBpdGVtICkge1xuXHRcdFx0dGhhdC5fcmVuZGVySXRlbURhdGEoIHVsLCBpdGVtICk7XG5cdFx0fSk7XG5cdH0sXG5cblx0X3JlbmRlckl0ZW1EYXRhOiBmdW5jdGlvbiggdWwsIGl0ZW0gKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3JlbmRlckl0ZW0oIHVsLCBpdGVtICkuZGF0YSggXCJ1aS1hdXRvY29tcGxldGUtaXRlbVwiLCBpdGVtICk7XG5cdH0sXG5cblx0X3JlbmRlckl0ZW06IGZ1bmN0aW9uKCB1bCwgaXRlbSApIHtcblx0XHRyZXR1cm4gJCggXCI8bGk+XCIgKS50ZXh0KCBpdGVtLmxhYmVsICkuYXBwZW5kVG8oIHVsICk7XG5cdH0sXG5cblx0X21vdmU6IGZ1bmN0aW9uKCBkaXJlY3Rpb24sIGV2ZW50ICkge1xuXHRcdGlmICggIXRoaXMubWVudS5lbGVtZW50LmlzKCBcIjp2aXNpYmxlXCIgKSApIHtcblx0XHRcdHRoaXMuc2VhcmNoKCBudWxsLCBldmVudCApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMubWVudS5pc0ZpcnN0SXRlbSgpICYmIC9ecHJldmlvdXMvLnRlc3QoIGRpcmVjdGlvbiApIHx8XG5cdFx0XHRcdHRoaXMubWVudS5pc0xhc3RJdGVtKCkgJiYgL15uZXh0Ly50ZXN0KCBkaXJlY3Rpb24gKSApIHtcblxuXHRcdFx0aWYgKCAhdGhpcy5pc011bHRpTGluZSApIHtcblx0XHRcdFx0dGhpcy5fdmFsdWUoIHRoaXMudGVybSApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLm1lbnUuYmx1cigpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLm1lbnVbIGRpcmVjdGlvbiBdKCBldmVudCApO1xuXHR9LFxuXG5cdHdpZGdldDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWVudS5lbGVtZW50O1xuXHR9LFxuXG5cdF92YWx1ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMudmFsdWVNZXRob2QuYXBwbHkoIHRoaXMuZWxlbWVudCwgYXJndW1lbnRzICk7XG5cdH0sXG5cblx0X2tleUV2ZW50OiBmdW5jdGlvbigga2V5RXZlbnQsIGV2ZW50ICkge1xuXHRcdGlmICggIXRoaXMuaXNNdWx0aUxpbmUgfHwgdGhpcy5tZW51LmVsZW1lbnQuaXMoIFwiOnZpc2libGVcIiApICkge1xuXHRcdFx0dGhpcy5fbW92ZSgga2V5RXZlbnQsIGV2ZW50ICk7XG5cblx0XHRcdC8vIHByZXZlbnRzIG1vdmluZyBjdXJzb3IgdG8gYmVnaW5uaW5nL2VuZCBvZiB0aGUgdGV4dCBmaWVsZCBpbiBzb21lIGJyb3dzZXJzXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fVxufSk7XG5cbiQuZXh0ZW5kKCAkLnVpLmF1dG9jb21wbGV0ZSwge1xuXHRlc2NhcGVSZWdleDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiB2YWx1ZS5yZXBsYWNlKCAvW1xcLVxcW1xcXXt9KCkqKz8uLFxcXFxcXF4kfCNcXHNdL2csIFwiXFxcXCQmXCIgKTtcblx0fSxcblx0ZmlsdGVyOiBmdW5jdGlvbiggYXJyYXksIHRlcm0gKSB7XG5cdFx0dmFyIG1hdGNoZXIgPSBuZXcgUmVnRXhwKCAkLnVpLmF1dG9jb21wbGV0ZS5lc2NhcGVSZWdleCggdGVybSApLCBcImlcIiApO1xuXHRcdHJldHVybiAkLmdyZXAoIGFycmF5LCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gbWF0Y2hlci50ZXN0KCB2YWx1ZS5sYWJlbCB8fCB2YWx1ZS52YWx1ZSB8fCB2YWx1ZSApO1xuXHRcdH0pO1xuXHR9XG59KTtcblxuLy8gbGl2ZSByZWdpb24gZXh0ZW5zaW9uLCBhZGRpbmcgYSBgbWVzc2FnZXNgIG9wdGlvblxuLy8gTk9URTogVGhpcyBpcyBhbiBleHBlcmltZW50YWwgQVBJLiBXZSBhcmUgc3RpbGwgaW52ZXN0aWdhdGluZ1xuLy8gYSBmdWxsIHNvbHV0aW9uIGZvciBzdHJpbmcgbWFuaXB1bGF0aW9uIGFuZCBpbnRlcm5hdGlvbmFsaXphdGlvbi5cbiQud2lkZ2V0KCBcInVpLmF1dG9jb21wbGV0ZVwiLCAkLnVpLmF1dG9jb21wbGV0ZSwge1xuXHRvcHRpb25zOiB7XG5cdFx0bWVzc2FnZXM6IHtcblx0XHRcdG5vUmVzdWx0czogXCJObyBzZWFyY2ggcmVzdWx0cy5cIixcblx0XHRcdHJlc3VsdHM6IGZ1bmN0aW9uKCBhbW91bnQgKSB7XG5cdFx0XHRcdHJldHVybiBhbW91bnQgKyAoIGFtb3VudCA+IDEgPyBcIiByZXN1bHRzIGFyZVwiIDogXCIgcmVzdWx0IGlzXCIgKSArXG5cdFx0XHRcdFx0XCIgYXZhaWxhYmxlLCB1c2UgdXAgYW5kIGRvd24gYXJyb3cga2V5cyB0byBuYXZpZ2F0ZS5cIjtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X19yZXNwb25zZTogZnVuY3Rpb24oIGNvbnRlbnQgKSB7XG5cdFx0dmFyIG1lc3NhZ2U7XG5cdFx0dGhpcy5fc3VwZXJBcHBseSggYXJndW1lbnRzICk7XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgfHwgdGhpcy5jYW5jZWxTZWFyY2ggKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICggY29udGVudCAmJiBjb250ZW50Lmxlbmd0aCApIHtcblx0XHRcdG1lc3NhZ2UgPSB0aGlzLm9wdGlvbnMubWVzc2FnZXMucmVzdWx0cyggY29udGVudC5sZW5ndGggKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWVzc2FnZSA9IHRoaXMub3B0aW9ucy5tZXNzYWdlcy5ub1Jlc3VsdHM7XG5cdFx0fVxuXHRcdHRoaXMubGl2ZVJlZ2lvbi5jaGlsZHJlbigpLmhpZGUoKTtcblx0XHQkKCBcIjxkaXY+XCIgKS50ZXh0KCBtZXNzYWdlICkuYXBwZW5kVG8oIHRoaXMubGl2ZVJlZ2lvbiApO1xuXHR9XG59KTtcblxudmFyIGF1dG9jb21wbGV0ZSA9ICQudWkuYXV0b2NvbXBsZXRlO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEJ1dHRvbiAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2J1dHRvbi9cbiAqL1xuXG5cbnZhciBsYXN0QWN0aXZlLFxuXHRiYXNlQ2xhc3NlcyA9IFwidWktYnV0dG9uIHVpLXdpZGdldCB1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGxcIixcblx0dHlwZUNsYXNzZXMgPSBcInVpLWJ1dHRvbi1pY29ucy1vbmx5IHVpLWJ1dHRvbi1pY29uLW9ubHkgdWktYnV0dG9uLXRleHQtaWNvbnMgdWktYnV0dG9uLXRleHQtaWNvbi1wcmltYXJ5IHVpLWJ1dHRvbi10ZXh0LWljb24tc2Vjb25kYXJ5IHVpLWJ1dHRvbi10ZXh0LW9ubHlcIixcblx0Zm9ybVJlc2V0SGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBmb3JtID0gJCggdGhpcyApO1xuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRmb3JtLmZpbmQoIFwiOnVpLWJ1dHRvblwiICkuYnV0dG9uKCBcInJlZnJlc2hcIiApO1xuXHRcdH0sIDEgKTtcblx0fSxcblx0cmFkaW9Hcm91cCA9IGZ1bmN0aW9uKCByYWRpbyApIHtcblx0XHR2YXIgbmFtZSA9IHJhZGlvLm5hbWUsXG5cdFx0XHRmb3JtID0gcmFkaW8uZm9ybSxcblx0XHRcdHJhZGlvcyA9ICQoIFtdICk7XG5cdFx0aWYgKCBuYW1lICkge1xuXHRcdFx0bmFtZSA9IG5hbWUucmVwbGFjZSggLycvZywgXCJcXFxcJ1wiICk7XG5cdFx0XHRpZiAoIGZvcm0gKSB7XG5cdFx0XHRcdHJhZGlvcyA9ICQoIGZvcm0gKS5maW5kKCBcIltuYW1lPSdcIiArIG5hbWUgKyBcIiddW3R5cGU9cmFkaW9dXCIgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJhZGlvcyA9ICQoIFwiW25hbWU9J1wiICsgbmFtZSArIFwiJ11bdHlwZT1yYWRpb11cIiwgcmFkaW8ub3duZXJEb2N1bWVudCApXG5cdFx0XHRcdFx0LmZpbHRlcihmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiAhdGhpcy5mb3JtO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmFkaW9zO1xuXHR9O1xuXG4kLndpZGdldCggXCJ1aS5idXR0b25cIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTEuNFwiLFxuXHRkZWZhdWx0RWxlbWVudDogXCI8YnV0dG9uPlwiLFxuXHRvcHRpb25zOiB7XG5cdFx0ZGlzYWJsZWQ6IG51bGwsXG5cdFx0dGV4dDogdHJ1ZSxcblx0XHRsYWJlbDogbnVsbCxcblx0XHRpY29uczoge1xuXHRcdFx0cHJpbWFyeTogbnVsbCxcblx0XHRcdHNlY29uZGFyeTogbnVsbFxuXHRcdH1cblx0fSxcblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5lbGVtZW50LmNsb3Nlc3QoIFwiZm9ybVwiIClcblx0XHRcdC51bmJpbmQoIFwicmVzZXRcIiArIHRoaXMuZXZlbnROYW1lc3BhY2UgKVxuXHRcdFx0LmJpbmQoIFwicmVzZXRcIiArIHRoaXMuZXZlbnROYW1lc3BhY2UsIGZvcm1SZXNldEhhbmRsZXIgKTtcblxuXHRcdGlmICggdHlwZW9mIHRoaXMub3B0aW9ucy5kaXNhYmxlZCAhPT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHR0aGlzLm9wdGlvbnMuZGlzYWJsZWQgPSAhIXRoaXMuZWxlbWVudC5wcm9wKCBcImRpc2FibGVkXCIgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5lbGVtZW50LnByb3AoIFwiZGlzYWJsZWRcIiwgdGhpcy5vcHRpb25zLmRpc2FibGVkICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fZGV0ZXJtaW5lQnV0dG9uVHlwZSgpO1xuXHRcdHRoaXMuaGFzVGl0bGUgPSAhIXRoaXMuYnV0dG9uRWxlbWVudC5hdHRyKCBcInRpdGxlXCIgKTtcblxuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHR0b2dnbGVCdXR0b24gPSB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiB8fCB0aGlzLnR5cGUgPT09IFwicmFkaW9cIixcblx0XHRcdGFjdGl2ZUNsYXNzID0gIXRvZ2dsZUJ1dHRvbiA/IFwidWktc3RhdGUtYWN0aXZlXCIgOiBcIlwiO1xuXG5cdFx0aWYgKCBvcHRpb25zLmxhYmVsID09PSBudWxsICkge1xuXHRcdFx0b3B0aW9ucy5sYWJlbCA9ICh0aGlzLnR5cGUgPT09IFwiaW5wdXRcIiA/IHRoaXMuYnV0dG9uRWxlbWVudC52YWwoKSA6IHRoaXMuYnV0dG9uRWxlbWVudC5odG1sKCkpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2hvdmVyYWJsZSggdGhpcy5idXR0b25FbGVtZW50ICk7XG5cblx0XHR0aGlzLmJ1dHRvbkVsZW1lbnRcblx0XHRcdC5hZGRDbGFzcyggYmFzZUNsYXNzZXMgKVxuXHRcdFx0LmF0dHIoIFwicm9sZVwiLCBcImJ1dHRvblwiIClcblx0XHRcdC5iaW5kKCBcIm1vdXNlZW50ZXJcIiArIHRoaXMuZXZlbnROYW1lc3BhY2UsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIG9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggdGhpcyA9PT0gbGFzdEFjdGl2ZSApIHtcblx0XHRcdFx0XHQkKCB0aGlzICkuYWRkQ2xhc3MoIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC5iaW5kKCBcIm1vdXNlbGVhdmVcIiArIHRoaXMuZXZlbnROYW1lc3BhY2UsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIG9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCQoIHRoaXMgKS5yZW1vdmVDbGFzcyggYWN0aXZlQ2xhc3MgKTtcblx0XHRcdH0pXG5cdFx0XHQuYmluZCggXCJjbGlja1wiICsgdGhpcy5ldmVudE5hbWVzcGFjZSwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIG9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHQvLyBDYW4ndCB1c2UgX2ZvY3VzYWJsZSgpIGJlY2F1c2UgdGhlIGVsZW1lbnQgdGhhdCByZWNlaXZlcyBmb2N1c1xuXHRcdC8vIGFuZCB0aGUgZWxlbWVudCB0aGF0IGdldHMgdGhlIHVpLXN0YXRlLWZvY3VzIGNsYXNzIGFyZSBkaWZmZXJlbnRcblx0XHR0aGlzLl9vbih7XG5cdFx0XHRmb2N1czogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuYnV0dG9uRWxlbWVudC5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0XHR9LFxuXHRcdFx0Ymx1cjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuYnV0dG9uRWxlbWVudC5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRpZiAoIHRvZ2dsZUJ1dHRvbiApIHtcblx0XHRcdHRoaXMuZWxlbWVudC5iaW5kKCBcImNoYW5nZVwiICsgdGhpcy5ldmVudE5hbWVzcGFjZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoYXQucmVmcmVzaCgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiApIHtcblx0XHRcdHRoaXMuYnV0dG9uRWxlbWVudC5iaW5kKCBcImNsaWNrXCIgKyB0aGlzLmV2ZW50TmFtZXNwYWNlLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBvcHRpb25zLmRpc2FibGVkICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIGlmICggdGhpcy50eXBlID09PSBcInJhZGlvXCIgKSB7XG5cdFx0XHR0aGlzLmJ1dHRvbkVsZW1lbnQuYmluZCggXCJjbGlja1wiICsgdGhpcy5ldmVudE5hbWVzcGFjZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggb3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0JCggdGhpcyApLmFkZENsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHRcdHRoYXQuYnV0dG9uRWxlbWVudC5hdHRyKCBcImFyaWEtcHJlc3NlZFwiLCBcInRydWVcIiApO1xuXG5cdFx0XHRcdHZhciByYWRpbyA9IHRoYXQuZWxlbWVudFsgMCBdO1xuXHRcdFx0XHRyYWRpb0dyb3VwKCByYWRpbyApXG5cdFx0XHRcdFx0Lm5vdCggcmFkaW8gKVxuXHRcdFx0XHRcdC5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJCggdGhpcyApLmJ1dHRvbiggXCJ3aWRnZXRcIiApWyAwIF07XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtYWN0aXZlXCIgKVxuXHRcdFx0XHRcdC5hdHRyKCBcImFyaWEtcHJlc3NlZFwiLCBcImZhbHNlXCIgKTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmJ1dHRvbkVsZW1lbnRcblx0XHRcdFx0LmJpbmQoIFwibW91c2Vkb3duXCIgKyB0aGlzLmV2ZW50TmFtZXNwYWNlLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIG9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCQoIHRoaXMgKS5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0XHRcdGxhc3RBY3RpdmUgPSB0aGlzO1xuXHRcdFx0XHRcdHRoYXQuZG9jdW1lbnQub25lKCBcIm1vdXNldXBcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRsYXN0QWN0aXZlID0gbnVsbDtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmJpbmQoIFwibW91c2V1cFwiICsgdGhpcy5ldmVudE5hbWVzcGFjZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCBvcHRpb25zLmRpc2FibGVkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQkKCB0aGlzICkucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmJpbmQoIFwia2V5ZG93blwiICsgdGhpcy5ldmVudE5hbWVzcGFjZSwgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0XHRpZiAoIG9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlNQQUNFIHx8IGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5FTlRFUiApIHtcblx0XHRcdFx0XHRcdCQoIHRoaXMgKS5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcblx0XHRcdFx0Ly8gc2VlICM4NTU5LCB3ZSBiaW5kIHRvIGJsdXIgaGVyZSBpbiBjYXNlIHRoZSBidXR0b24gZWxlbWVudCBsb3Nlc1xuXHRcdFx0XHQvLyBmb2N1cyBiZXR3ZWVuIGtleWRvd24gYW5kIGtleXVwLCBpdCB3b3VsZCBiZSBsZWZ0IGluIGFuIFwiYWN0aXZlXCIgc3RhdGVcblx0XHRcdFx0LmJpbmQoIFwia2V5dXBcIiArIHRoaXMuZXZlbnROYW1lc3BhY2UgKyBcIiBibHVyXCIgKyB0aGlzLmV2ZW50TmFtZXNwYWNlLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkKCB0aGlzICkucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdGlmICggdGhpcy5idXR0b25FbGVtZW50LmlzKFwiYVwiKSApIHtcblx0XHRcdFx0dGhpcy5idXR0b25FbGVtZW50LmtleXVwKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRcdFx0aWYgKCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuU1BBQ0UgKSB7XG5cdFx0XHRcdFx0XHQvLyBUT0RPIHBhc3MgdGhyb3VnaCBvcmlnaW5hbCBldmVudCBjb3JyZWN0bHkgKGp1c3QgYXMgMm5kIGFyZ3VtZW50IGRvZXNuJ3Qgd29yaylcblx0XHRcdFx0XHRcdCQoIHRoaXMgKS5jbGljaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5fc2V0T3B0aW9uKCBcImRpc2FibGVkXCIsIG9wdGlvbnMuZGlzYWJsZWQgKTtcblx0XHR0aGlzLl9yZXNldEJ1dHRvbigpO1xuXHR9LFxuXG5cdF9kZXRlcm1pbmVCdXR0b25UeXBlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgYW5jZXN0b3IsIGxhYmVsU2VsZWN0b3IsIGNoZWNrZWQ7XG5cblx0XHRpZiAoIHRoaXMuZWxlbWVudC5pcyhcIlt0eXBlPWNoZWNrYm94XVwiKSApIHtcblx0XHRcdHRoaXMudHlwZSA9IFwiY2hlY2tib3hcIjtcblx0XHR9IGVsc2UgaWYgKCB0aGlzLmVsZW1lbnQuaXMoXCJbdHlwZT1yYWRpb11cIikgKSB7XG5cdFx0XHR0aGlzLnR5cGUgPSBcInJhZGlvXCI7XG5cdFx0fSBlbHNlIGlmICggdGhpcy5lbGVtZW50LmlzKFwiaW5wdXRcIikgKSB7XG5cdFx0XHR0aGlzLnR5cGUgPSBcImlucHV0XCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMudHlwZSA9IFwiYnV0dG9uXCI7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiB8fCB0aGlzLnR5cGUgPT09IFwicmFkaW9cIiApIHtcblx0XHRcdC8vIHdlIGRvbid0IHNlYXJjaCBhZ2FpbnN0IHRoZSBkb2N1bWVudCBpbiBjYXNlIHRoZSBlbGVtZW50XG5cdFx0XHQvLyBpcyBkaXNjb25uZWN0ZWQgZnJvbSB0aGUgRE9NXG5cdFx0XHRhbmNlc3RvciA9IHRoaXMuZWxlbWVudC5wYXJlbnRzKCkubGFzdCgpO1xuXHRcdFx0bGFiZWxTZWxlY3RvciA9IFwibGFiZWxbZm9yPSdcIiArIHRoaXMuZWxlbWVudC5hdHRyKFwiaWRcIikgKyBcIiddXCI7XG5cdFx0XHR0aGlzLmJ1dHRvbkVsZW1lbnQgPSBhbmNlc3Rvci5maW5kKCBsYWJlbFNlbGVjdG9yICk7XG5cdFx0XHRpZiAoICF0aGlzLmJ1dHRvbkVsZW1lbnQubGVuZ3RoICkge1xuXHRcdFx0XHRhbmNlc3RvciA9IGFuY2VzdG9yLmxlbmd0aCA/IGFuY2VzdG9yLnNpYmxpbmdzKCkgOiB0aGlzLmVsZW1lbnQuc2libGluZ3MoKTtcblx0XHRcdFx0dGhpcy5idXR0b25FbGVtZW50ID0gYW5jZXN0b3IuZmlsdGVyKCBsYWJlbFNlbGVjdG9yICk7XG5cdFx0XHRcdGlmICggIXRoaXMuYnV0dG9uRWxlbWVudC5sZW5ndGggKSB7XG5cdFx0XHRcdFx0dGhpcy5idXR0b25FbGVtZW50ID0gYW5jZXN0b3IuZmluZCggbGFiZWxTZWxlY3RvciApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoIFwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlXCIgKTtcblxuXHRcdFx0Y2hlY2tlZCA9IHRoaXMuZWxlbWVudC5pcyggXCI6Y2hlY2tlZFwiICk7XG5cdFx0XHRpZiAoIGNoZWNrZWQgKSB7XG5cdFx0XHRcdHRoaXMuYnV0dG9uRWxlbWVudC5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5idXR0b25FbGVtZW50LnByb3AoIFwiYXJpYS1wcmVzc2VkXCIsIGNoZWNrZWQgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5idXR0b25FbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuXHRcdH1cblx0fSxcblxuXHR3aWRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmJ1dHRvbkVsZW1lbnQ7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWhlbHBlci1oaWRkZW4tYWNjZXNzaWJsZVwiICk7XG5cdFx0dGhpcy5idXR0b25FbGVtZW50XG5cdFx0XHQucmVtb3ZlQ2xhc3MoIGJhc2VDbGFzc2VzICsgXCIgdWktc3RhdGUtYWN0aXZlIFwiICsgdHlwZUNsYXNzZXMgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwicm9sZVwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtcHJlc3NlZFwiIClcblx0XHRcdC5odG1sKCB0aGlzLmJ1dHRvbkVsZW1lbnQuZmluZChcIi51aS1idXR0b24tdGV4dFwiKS5odG1sKCkgKTtcblxuXHRcdGlmICggIXRoaXMuaGFzVGl0bGUgKSB7XG5cdFx0XHR0aGlzLmJ1dHRvbkVsZW1lbnQucmVtb3ZlQXR0ciggXCJ0aXRsZVwiICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiApIHtcblx0XHRcdHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgISF2YWx1ZSApO1xuXHRcdFx0dGhpcy5lbGVtZW50LnByb3AoIFwiZGlzYWJsZWRcIiwgISF2YWx1ZSApO1xuXHRcdFx0aWYgKCB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiB8fCB0aGlzLnR5cGUgPT09IFwicmFkaW9cIiApIHtcblx0XHRcdFx0XHR0aGlzLmJ1dHRvbkVsZW1lbnQucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtZm9jdXNcIiApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuYnV0dG9uRWxlbWVudC5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1mb2N1cyB1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuX3Jlc2V0QnV0dG9uKCk7XG5cdH0sXG5cblx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XG5cdFx0Ly9TZWUgIzgyMzcgJiAjODgyOFxuXHRcdHZhciBpc0Rpc2FibGVkID0gdGhpcy5lbGVtZW50LmlzKCBcImlucHV0LCBidXR0b25cIiApID8gdGhpcy5lbGVtZW50LmlzKCBcIjpkaXNhYmxlZFwiICkgOiB0aGlzLmVsZW1lbnQuaGFzQ2xhc3MoIFwidWktYnV0dG9uLWRpc2FibGVkXCIgKTtcblxuXHRcdGlmICggaXNEaXNhYmxlZCAhPT0gdGhpcy5vcHRpb25zLmRpc2FibGVkICkge1xuXHRcdFx0dGhpcy5fc2V0T3B0aW9uKCBcImRpc2FibGVkXCIsIGlzRGlzYWJsZWQgKTtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLnR5cGUgPT09IFwicmFkaW9cIiApIHtcblx0XHRcdHJhZGlvR3JvdXAoIHRoaXMuZWxlbWVudFswXSApLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggJCggdGhpcyApLmlzKCBcIjpjaGVja2VkXCIgKSApIHtcblx0XHRcdFx0XHQkKCB0aGlzICkuYnV0dG9uKCBcIndpZGdldFwiIClcblx0XHRcdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApXG5cdFx0XHRcdFx0XHQuYXR0ciggXCJhcmlhLXByZXNzZWRcIiwgXCJ0cnVlXCIgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkKCB0aGlzICkuYnV0dG9uKCBcIndpZGdldFwiIClcblx0XHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApXG5cdFx0XHRcdFx0XHQuYXR0ciggXCJhcmlhLXByZXNzZWRcIiwgXCJmYWxzZVwiICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAoIHRoaXMudHlwZSA9PT0gXCJjaGVja2JveFwiICkge1xuXHRcdFx0aWYgKCB0aGlzLmVsZW1lbnQuaXMoIFwiOmNoZWNrZWRcIiApICkge1xuXHRcdFx0XHR0aGlzLmJ1dHRvbkVsZW1lbnRcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktc3RhdGUtYWN0aXZlXCIgKVxuXHRcdFx0XHRcdC5hdHRyKCBcImFyaWEtcHJlc3NlZFwiLCBcInRydWVcIiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5idXR0b25FbGVtZW50XG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiIClcblx0XHRcdFx0XHQuYXR0ciggXCJhcmlhLXByZXNzZWRcIiwgXCJmYWxzZVwiICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF9yZXNldEJ1dHRvbjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCB0aGlzLnR5cGUgPT09IFwiaW5wdXRcIiApIHtcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLmxhYmVsICkge1xuXHRcdFx0XHR0aGlzLmVsZW1lbnQudmFsKCB0aGlzLm9wdGlvbnMubGFiZWwgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dmFyIGJ1dHRvbkVsZW1lbnQgPSB0aGlzLmJ1dHRvbkVsZW1lbnQucmVtb3ZlQ2xhc3MoIHR5cGVDbGFzc2VzICksXG5cdFx0XHRidXR0b25UZXh0ID0gJCggXCI8c3Bhbj48L3NwYW4+XCIsIHRoaXMuZG9jdW1lbnRbMF0gKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktYnV0dG9uLXRleHRcIiApXG5cdFx0XHRcdC5odG1sKCB0aGlzLm9wdGlvbnMubGFiZWwgKVxuXHRcdFx0XHQuYXBwZW5kVG8oIGJ1dHRvbkVsZW1lbnQuZW1wdHkoKSApXG5cdFx0XHRcdC50ZXh0KCksXG5cdFx0XHRpY29ucyA9IHRoaXMub3B0aW9ucy5pY29ucyxcblx0XHRcdG11bHRpcGxlSWNvbnMgPSBpY29ucy5wcmltYXJ5ICYmIGljb25zLnNlY29uZGFyeSxcblx0XHRcdGJ1dHRvbkNsYXNzZXMgPSBbXTtcblxuXHRcdGlmICggaWNvbnMucHJpbWFyeSB8fCBpY29ucy5zZWNvbmRhcnkgKSB7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy50ZXh0ICkge1xuXHRcdFx0XHRidXR0b25DbGFzc2VzLnB1c2goIFwidWktYnV0dG9uLXRleHQtaWNvblwiICsgKCBtdWx0aXBsZUljb25zID8gXCJzXCIgOiAoIGljb25zLnByaW1hcnkgPyBcIi1wcmltYXJ5XCIgOiBcIi1zZWNvbmRhcnlcIiApICkgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBpY29ucy5wcmltYXJ5ICkge1xuXHRcdFx0XHRidXR0b25FbGVtZW50LnByZXBlbmQoIFwiPHNwYW4gY2xhc3M9J3VpLWJ1dHRvbi1pY29uLXByaW1hcnkgdWktaWNvbiBcIiArIGljb25zLnByaW1hcnkgKyBcIic+PC9zcGFuPlwiICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaWNvbnMuc2Vjb25kYXJ5ICkge1xuXHRcdFx0XHRidXR0b25FbGVtZW50LmFwcGVuZCggXCI8c3BhbiBjbGFzcz0ndWktYnV0dG9uLWljb24tc2Vjb25kYXJ5IHVpLWljb24gXCIgKyBpY29ucy5zZWNvbmRhcnkgKyBcIic+PC9zcGFuPlwiICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggIXRoaXMub3B0aW9ucy50ZXh0ICkge1xuXHRcdFx0XHRidXR0b25DbGFzc2VzLnB1c2goIG11bHRpcGxlSWNvbnMgPyBcInVpLWJ1dHRvbi1pY29ucy1vbmx5XCIgOiBcInVpLWJ1dHRvbi1pY29uLW9ubHlcIiApO1xuXG5cdFx0XHRcdGlmICggIXRoaXMuaGFzVGl0bGUgKSB7XG5cdFx0XHRcdFx0YnV0dG9uRWxlbWVudC5hdHRyKCBcInRpdGxlXCIsICQudHJpbSggYnV0dG9uVGV4dCApICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0YnV0dG9uQ2xhc3Nlcy5wdXNoKCBcInVpLWJ1dHRvbi10ZXh0LW9ubHlcIiApO1xuXHRcdH1cblx0XHRidXR0b25FbGVtZW50LmFkZENsYXNzKCBidXR0b25DbGFzc2VzLmpvaW4oIFwiIFwiICkgKTtcblx0fVxufSk7XG5cbiQud2lkZ2V0KCBcInVpLmJ1dHRvbnNldFwiLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdG9wdGlvbnM6IHtcblx0XHRpdGVtczogXCJidXR0b24sIGlucHV0W3R5cGU9YnV0dG9uXSwgaW5wdXRbdHlwZT1zdWJtaXRdLCBpbnB1dFt0eXBlPXJlc2V0XSwgaW5wdXRbdHlwZT1jaGVja2JveF0sIGlucHV0W3R5cGU9cmFkaW9dLCBhLCA6ZGF0YSh1aS1idXR0b24pXCJcblx0fSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoIFwidWktYnV0dG9uc2V0XCIgKTtcblx0fSxcblxuXHRfaW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5yZWZyZXNoKCk7XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiApIHtcblx0XHRcdHRoaXMuYnV0dG9ucy5idXR0b24oIFwib3B0aW9uXCIsIGtleSwgdmFsdWUgKTtcblx0XHR9XG5cblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXHR9LFxuXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBydGwgPSB0aGlzLmVsZW1lbnQuY3NzKCBcImRpcmVjdGlvblwiICkgPT09IFwicnRsXCIsXG5cdFx0XHRhbGxCdXR0b25zID0gdGhpcy5lbGVtZW50LmZpbmQoIHRoaXMub3B0aW9ucy5pdGVtcyApLFxuXHRcdFx0ZXhpc3RpbmdCdXR0b25zID0gYWxsQnV0dG9ucy5maWx0ZXIoIFwiOnVpLWJ1dHRvblwiICk7XG5cblx0XHQvLyBJbml0aWFsaXplIG5ldyBidXR0b25zXG5cdFx0YWxsQnV0dG9ucy5ub3QoIFwiOnVpLWJ1dHRvblwiICkuYnV0dG9uKCk7XG5cblx0XHQvLyBSZWZyZXNoIGV4aXN0aW5nIGJ1dHRvbnNcblx0XHRleGlzdGluZ0J1dHRvbnMuYnV0dG9uKCBcInJlZnJlc2hcIiApO1xuXG5cdFx0dGhpcy5idXR0b25zID0gYWxsQnV0dG9uc1xuXHRcdFx0Lm1hcChmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICQoIHRoaXMgKS5idXR0b24oIFwid2lkZ2V0XCIgKVsgMCBdO1xuXHRcdFx0fSlcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWNvcm5lci1hbGwgdWktY29ybmVyLWxlZnQgdWktY29ybmVyLXJpZ2h0XCIgKVxuXHRcdFx0XHQuZmlsdGVyKCBcIjpmaXJzdFwiIClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIHJ0bCA/IFwidWktY29ybmVyLXJpZ2h0XCIgOiBcInVpLWNvcm5lci1sZWZ0XCIgKVxuXHRcdFx0XHQuZW5kKClcblx0XHRcdFx0LmZpbHRlciggXCI6bGFzdFwiIClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIHJ0bCA/IFwidWktY29ybmVyLWxlZnRcIiA6IFwidWktY29ybmVyLXJpZ2h0XCIgKVxuXHRcdFx0XHQuZW5kKClcblx0XHRcdC5lbmQoKTtcblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCBcInVpLWJ1dHRvbnNldFwiICk7XG5cdFx0dGhpcy5idXR0b25zXG5cdFx0XHQubWFwKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gJCggdGhpcyApLmJ1dHRvbiggXCJ3aWRnZXRcIiApWyAwIF07XG5cdFx0XHR9KVxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktY29ybmVyLWxlZnQgdWktY29ybmVyLXJpZ2h0XCIgKVxuXHRcdFx0LmVuZCgpXG5cdFx0XHQuYnV0dG9uKCBcImRlc3Ryb3lcIiApO1xuXHR9XG59KTtcblxudmFyIGJ1dHRvbiA9ICQudWkuYnV0dG9uO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIERhdGVwaWNrZXIgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9kYXRlcGlja2VyL1xuICovXG5cblxuJC5leHRlbmQoJC51aSwgeyBkYXRlcGlja2VyOiB7IHZlcnNpb246IFwiMS4xMS40XCIgfSB9KTtcblxudmFyIGRhdGVwaWNrZXJfaW5zdEFjdGl2ZTtcblxuZnVuY3Rpb24gZGF0ZXBpY2tlcl9nZXRaaW5kZXgoIGVsZW0gKSB7XG5cdHZhciBwb3NpdGlvbiwgdmFsdWU7XG5cdHdoaWxlICggZWxlbS5sZW5ndGggJiYgZWxlbVsgMCBdICE9PSBkb2N1bWVudCApIHtcblx0XHQvLyBJZ25vcmUgei1pbmRleCBpZiBwb3NpdGlvbiBpcyBzZXQgdG8gYSB2YWx1ZSB3aGVyZSB6LWluZGV4IGlzIGlnbm9yZWQgYnkgdGhlIGJyb3dzZXJcblx0XHQvLyBUaGlzIG1ha2VzIGJlaGF2aW9yIG9mIHRoaXMgZnVuY3Rpb24gY29uc2lzdGVudCBhY3Jvc3MgYnJvd3NlcnNcblx0XHQvLyBXZWJLaXQgYWx3YXlzIHJldHVybnMgYXV0byBpZiB0aGUgZWxlbWVudCBpcyBwb3NpdGlvbmVkXG5cdFx0cG9zaXRpb24gPSBlbGVtLmNzcyggXCJwb3NpdGlvblwiICk7XG5cdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiIHx8IHBvc2l0aW9uID09PSBcInJlbGF0aXZlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApIHtcblx0XHRcdC8vIElFIHJldHVybnMgMCB3aGVuIHpJbmRleCBpcyBub3Qgc3BlY2lmaWVkXG5cdFx0XHQvLyBvdGhlciBicm93c2VycyByZXR1cm4gYSBzdHJpbmdcblx0XHRcdC8vIHdlIGlnbm9yZSB0aGUgY2FzZSBvZiBuZXN0ZWQgZWxlbWVudHMgd2l0aCBhbiBleHBsaWNpdCB2YWx1ZSBvZiAwXG5cdFx0XHQvLyA8ZGl2IHN0eWxlPVwiei1pbmRleDogLTEwO1wiPjxkaXYgc3R5bGU9XCJ6LWluZGV4OiAwO1wiPjwvZGl2PjwvZGl2PlxuXHRcdFx0dmFsdWUgPSBwYXJzZUludCggZWxlbS5jc3MoIFwiekluZGV4XCIgKSwgMTAgKTtcblx0XHRcdGlmICggIWlzTmFOKCB2YWx1ZSApICYmIHZhbHVlICE9PSAwICkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsZW0gPSBlbGVtLnBhcmVudCgpO1xuXHR9XG5cblx0cmV0dXJuIDA7XG59XG4vKiBEYXRlIHBpY2tlciBtYW5hZ2VyLlxuICAgVXNlIHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcywgJC5kYXRlcGlja2VyLCB0byBpbnRlcmFjdCB3aXRoIHRoZSBkYXRlIHBpY2tlci5cbiAgIFNldHRpbmdzIGZvciAoZ3JvdXBzIG9mKSBkYXRlIHBpY2tlcnMgYXJlIG1haW50YWluZWQgaW4gYW4gaW5zdGFuY2Ugb2JqZWN0LFxuICAgYWxsb3dpbmcgbXVsdGlwbGUgZGlmZmVyZW50IHNldHRpbmdzIG9uIHRoZSBzYW1lIHBhZ2UuICovXG5cbmZ1bmN0aW9uIERhdGVwaWNrZXIoKSB7XG5cdHRoaXMuX2N1ckluc3QgPSBudWxsOyAvLyBUaGUgY3VycmVudCBpbnN0YW5jZSBpbiB1c2Vcblx0dGhpcy5fa2V5RXZlbnQgPSBmYWxzZTsgLy8gSWYgdGhlIGxhc3QgZXZlbnQgd2FzIGEga2V5IGV2ZW50XG5cdHRoaXMuX2Rpc2FibGVkSW5wdXRzID0gW107IC8vIExpc3Qgb2YgZGF0ZSBwaWNrZXIgaW5wdXRzIHRoYXQgaGF2ZSBiZWVuIGRpc2FibGVkXG5cdHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nID0gZmFsc2U7IC8vIFRydWUgaWYgdGhlIHBvcHVwIHBpY2tlciBpcyBzaG93aW5nICwgZmFsc2UgaWYgbm90XG5cdHRoaXMuX2luRGlhbG9nID0gZmFsc2U7IC8vIFRydWUgaWYgc2hvd2luZyB3aXRoaW4gYSBcImRpYWxvZ1wiLCBmYWxzZSBpZiBub3Rcblx0dGhpcy5fbWFpbkRpdklkID0gXCJ1aS1kYXRlcGlja2VyLWRpdlwiOyAvLyBUaGUgSUQgb2YgdGhlIG1haW4gZGF0ZXBpY2tlciBkaXZpc2lvblxuXHR0aGlzLl9pbmxpbmVDbGFzcyA9IFwidWktZGF0ZXBpY2tlci1pbmxpbmVcIjsgLy8gVGhlIG5hbWUgb2YgdGhlIGlubGluZSBtYXJrZXIgY2xhc3Ncblx0dGhpcy5fYXBwZW5kQ2xhc3MgPSBcInVpLWRhdGVwaWNrZXItYXBwZW5kXCI7IC8vIFRoZSBuYW1lIG9mIHRoZSBhcHBlbmQgbWFya2VyIGNsYXNzXG5cdHRoaXMuX3RyaWdnZXJDbGFzcyA9IFwidWktZGF0ZXBpY2tlci10cmlnZ2VyXCI7IC8vIFRoZSBuYW1lIG9mIHRoZSB0cmlnZ2VyIG1hcmtlciBjbGFzc1xuXHR0aGlzLl9kaWFsb2dDbGFzcyA9IFwidWktZGF0ZXBpY2tlci1kaWFsb2dcIjsgLy8gVGhlIG5hbWUgb2YgdGhlIGRpYWxvZyBtYXJrZXIgY2xhc3Ncblx0dGhpcy5fZGlzYWJsZUNsYXNzID0gXCJ1aS1kYXRlcGlja2VyLWRpc2FibGVkXCI7IC8vIFRoZSBuYW1lIG9mIHRoZSBkaXNhYmxlZCBjb3ZlcmluZyBtYXJrZXIgY2xhc3Ncblx0dGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MgPSBcInVpLWRhdGVwaWNrZXItdW5zZWxlY3RhYmxlXCI7IC8vIFRoZSBuYW1lIG9mIHRoZSB1bnNlbGVjdGFibGUgY2VsbCBtYXJrZXIgY2xhc3Ncblx0dGhpcy5fY3VycmVudENsYXNzID0gXCJ1aS1kYXRlcGlja2VyLWN1cnJlbnQtZGF5XCI7IC8vIFRoZSBuYW1lIG9mIHRoZSBjdXJyZW50IGRheSBtYXJrZXIgY2xhc3Ncblx0dGhpcy5fZGF5T3ZlckNsYXNzID0gXCJ1aS1kYXRlcGlja2VyLWRheXMtY2VsbC1vdmVyXCI7IC8vIFRoZSBuYW1lIG9mIHRoZSBkYXkgaG92ZXIgbWFya2VyIGNsYXNzXG5cdHRoaXMucmVnaW9uYWwgPSBbXTsgLy8gQXZhaWxhYmxlIHJlZ2lvbmFsIHNldHRpbmdzLCBpbmRleGVkIGJ5IGxhbmd1YWdlIGNvZGVcblx0dGhpcy5yZWdpb25hbFtcIlwiXSA9IHsgLy8gRGVmYXVsdCByZWdpb25hbCBzZXR0aW5nc1xuXHRcdGNsb3NlVGV4dDogXCJEb25lXCIsIC8vIERpc3BsYXkgdGV4dCBmb3IgY2xvc2UgbGlua1xuXHRcdHByZXZUZXh0OiBcIlByZXZcIiwgLy8gRGlzcGxheSB0ZXh0IGZvciBwcmV2aW91cyBtb250aCBsaW5rXG5cdFx0bmV4dFRleHQ6IFwiTmV4dFwiLCAvLyBEaXNwbGF5IHRleHQgZm9yIG5leHQgbW9udGggbGlua1xuXHRcdGN1cnJlbnRUZXh0OiBcIlRvZGF5XCIsIC8vIERpc3BsYXkgdGV4dCBmb3IgY3VycmVudCBtb250aCBsaW5rXG5cdFx0bW9udGhOYW1lczogW1wiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXG5cdFx0XHRcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl0sIC8vIE5hbWVzIG9mIG1vbnRocyBmb3IgZHJvcC1kb3duIGFuZCBmb3JtYXR0aW5nXG5cdFx0bW9udGhOYW1lc1Nob3J0OiBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl0sIC8vIEZvciBmb3JtYXR0aW5nXG5cdFx0ZGF5TmFtZXM6IFtcIlN1bmRheVwiLCBcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaHVyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCJdLCAvLyBGb3IgZm9ybWF0dGluZ1xuXHRcdGRheU5hbWVzU2hvcnQ6IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXSwgLy8gRm9yIGZvcm1hdHRpbmdcblx0XHRkYXlOYW1lc01pbjogW1wiU3VcIixcIk1vXCIsXCJUdVwiLFwiV2VcIixcIlRoXCIsXCJGclwiLFwiU2FcIl0sIC8vIENvbHVtbiBoZWFkaW5ncyBmb3IgZGF5cyBzdGFydGluZyBhdCBTdW5kYXlcblx0XHR3ZWVrSGVhZGVyOiBcIldrXCIsIC8vIENvbHVtbiBoZWFkZXIgZm9yIHdlZWsgb2YgdGhlIHllYXJcblx0XHRkYXRlRm9ybWF0OiBcIm1tL2RkL3l5XCIsIC8vIFNlZSBmb3JtYXQgb3B0aW9ucyBvbiBwYXJzZURhdGVcblx0XHRmaXJzdERheTogMCwgLy8gVGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlaywgU3VuID0gMCwgTW9uID0gMSwgLi4uXG5cdFx0aXNSVEw6IGZhbHNlLCAvLyBUcnVlIGlmIHJpZ2h0LXRvLWxlZnQgbGFuZ3VhZ2UsIGZhbHNlIGlmIGxlZnQtdG8tcmlnaHRcblx0XHRzaG93TW9udGhBZnRlclllYXI6IGZhbHNlLCAvLyBUcnVlIGlmIHRoZSB5ZWFyIHNlbGVjdCBwcmVjZWRlcyBtb250aCwgZmFsc2UgZm9yIG1vbnRoIHRoZW4geWVhclxuXHRcdHllYXJTdWZmaXg6IFwiXCIgLy8gQWRkaXRpb25hbCB0ZXh0IHRvIGFwcGVuZCB0byB0aGUgeWVhciBpbiB0aGUgbW9udGggaGVhZGVyc1xuXHR9O1xuXHR0aGlzLl9kZWZhdWx0cyA9IHsgLy8gR2xvYmFsIGRlZmF1bHRzIGZvciBhbGwgdGhlIGRhdGUgcGlja2VyIGluc3RhbmNlc1xuXHRcdHNob3dPbjogXCJmb2N1c1wiLCAvLyBcImZvY3VzXCIgZm9yIHBvcHVwIG9uIGZvY3VzLFxuXHRcdFx0Ly8gXCJidXR0b25cIiBmb3IgdHJpZ2dlciBidXR0b24sIG9yIFwiYm90aFwiIGZvciBlaXRoZXJcblx0XHRzaG93QW5pbTogXCJmYWRlSW5cIiwgLy8gTmFtZSBvZiBqUXVlcnkgYW5pbWF0aW9uIGZvciBwb3B1cFxuXHRcdHNob3dPcHRpb25zOiB7fSwgLy8gT3B0aW9ucyBmb3IgZW5oYW5jZWQgYW5pbWF0aW9uc1xuXHRcdGRlZmF1bHREYXRlOiBudWxsLCAvLyBVc2VkIHdoZW4gZmllbGQgaXMgYmxhbms6IGFjdHVhbCBkYXRlLFxuXHRcdFx0Ly8gKy8tbnVtYmVyIGZvciBvZmZzZXQgZnJvbSB0b2RheSwgbnVsbCBmb3IgdG9kYXlcblx0XHRhcHBlbmRUZXh0OiBcIlwiLCAvLyBEaXNwbGF5IHRleHQgZm9sbG93aW5nIHRoZSBpbnB1dCBib3gsIGUuZy4gc2hvd2luZyB0aGUgZm9ybWF0XG5cdFx0YnV0dG9uVGV4dDogXCIuLi5cIiwgLy8gVGV4dCBmb3IgdHJpZ2dlciBidXR0b25cblx0XHRidXR0b25JbWFnZTogXCJcIiwgLy8gVVJMIGZvciB0cmlnZ2VyIGJ1dHRvbiBpbWFnZVxuXHRcdGJ1dHRvbkltYWdlT25seTogZmFsc2UsIC8vIFRydWUgaWYgdGhlIGltYWdlIGFwcGVhcnMgYWxvbmUsIGZhbHNlIGlmIGl0IGFwcGVhcnMgb24gYSBidXR0b25cblx0XHRoaWRlSWZOb1ByZXZOZXh0OiBmYWxzZSwgLy8gVHJ1ZSB0byBoaWRlIG5leHQvcHJldmlvdXMgbW9udGggbGlua3Ncblx0XHRcdC8vIGlmIG5vdCBhcHBsaWNhYmxlLCBmYWxzZSB0byBqdXN0IGRpc2FibGUgdGhlbVxuXHRcdG5hdmlnYXRpb25Bc0RhdGVGb3JtYXQ6IGZhbHNlLCAvLyBUcnVlIGlmIGRhdGUgZm9ybWF0dGluZyBhcHBsaWVkIHRvIHByZXYvdG9kYXkvbmV4dCBsaW5rc1xuXHRcdGdvdG9DdXJyZW50OiBmYWxzZSwgLy8gVHJ1ZSBpZiB0b2RheSBsaW5rIGdvZXMgYmFjayB0byBjdXJyZW50IHNlbGVjdGlvbiBpbnN0ZWFkXG5cdFx0Y2hhbmdlTW9udGg6IGZhbHNlLCAvLyBUcnVlIGlmIG1vbnRoIGNhbiBiZSBzZWxlY3RlZCBkaXJlY3RseSwgZmFsc2UgaWYgb25seSBwcmV2L25leHRcblx0XHRjaGFuZ2VZZWFyOiBmYWxzZSwgLy8gVHJ1ZSBpZiB5ZWFyIGNhbiBiZSBzZWxlY3RlZCBkaXJlY3RseSwgZmFsc2UgaWYgb25seSBwcmV2L25leHRcblx0XHR5ZWFyUmFuZ2U6IFwiYy0xMDpjKzEwXCIsIC8vIFJhbmdlIG9mIHllYXJzIHRvIGRpc3BsYXkgaW4gZHJvcC1kb3duLFxuXHRcdFx0Ly8gZWl0aGVyIHJlbGF0aXZlIHRvIHRvZGF5J3MgeWVhciAoLW5uOitubiksIHJlbGF0aXZlIHRvIGN1cnJlbnRseSBkaXNwbGF5ZWQgeWVhclxuXHRcdFx0Ly8gKGMtbm46YytubiksIGFic29sdXRlIChubm5uOm5ubm4pLCBvciBhIGNvbWJpbmF0aW9uIG9mIHRoZSBhYm92ZSAobm5ubjotbilcblx0XHRzaG93T3RoZXJNb250aHM6IGZhbHNlLCAvLyBUcnVlIHRvIHNob3cgZGF0ZXMgaW4gb3RoZXIgbW9udGhzLCBmYWxzZSB0byBsZWF2ZSBibGFua1xuXHRcdHNlbGVjdE90aGVyTW9udGhzOiBmYWxzZSwgLy8gVHJ1ZSB0byBhbGxvdyBzZWxlY3Rpb24gb2YgZGF0ZXMgaW4gb3RoZXIgbW9udGhzLCBmYWxzZSBmb3IgdW5zZWxlY3RhYmxlXG5cdFx0c2hvd1dlZWs6IGZhbHNlLCAvLyBUcnVlIHRvIHNob3cgd2VlayBvZiB0aGUgeWVhciwgZmFsc2UgdG8gbm90IHNob3cgaXRcblx0XHRjYWxjdWxhdGVXZWVrOiB0aGlzLmlzbzg2MDFXZWVrLCAvLyBIb3cgdG8gY2FsY3VsYXRlIHRoZSB3ZWVrIG9mIHRoZSB5ZWFyLFxuXHRcdFx0Ly8gdGFrZXMgYSBEYXRlIGFuZCByZXR1cm5zIHRoZSBudW1iZXIgb2YgdGhlIHdlZWsgZm9yIGl0XG5cdFx0c2hvcnRZZWFyQ3V0b2ZmOiBcIisxMFwiLCAvLyBTaG9ydCB5ZWFyIHZhbHVlcyA8IHRoaXMgYXJlIGluIHRoZSBjdXJyZW50IGNlbnR1cnksXG5cdFx0XHQvLyA+IHRoaXMgYXJlIGluIHRoZSBwcmV2aW91cyBjZW50dXJ5LFxuXHRcdFx0Ly8gc3RyaW5nIHZhbHVlIHN0YXJ0aW5nIHdpdGggXCIrXCIgZm9yIGN1cnJlbnQgeWVhciArIHZhbHVlXG5cdFx0bWluRGF0ZTogbnVsbCwgLy8gVGhlIGVhcmxpZXN0IHNlbGVjdGFibGUgZGF0ZSwgb3IgbnVsbCBmb3Igbm8gbGltaXRcblx0XHRtYXhEYXRlOiBudWxsLCAvLyBUaGUgbGF0ZXN0IHNlbGVjdGFibGUgZGF0ZSwgb3IgbnVsbCBmb3Igbm8gbGltaXRcblx0XHRkdXJhdGlvbjogXCJmYXN0XCIsIC8vIER1cmF0aW9uIG9mIGRpc3BsYXkvY2xvc3VyZVxuXHRcdGJlZm9yZVNob3dEYXk6IG51bGwsIC8vIEZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBkYXRlIGFuZCByZXR1cm5zIGFuIGFycmF5IHdpdGhcblx0XHRcdC8vIFswXSA9IHRydWUgaWYgc2VsZWN0YWJsZSwgZmFsc2UgaWYgbm90LCBbMV0gPSBjdXN0b20gQ1NTIGNsYXNzIG5hbWUocykgb3IgXCJcIixcblx0XHRcdC8vIFsyXSA9IGNlbGwgdGl0bGUgKG9wdGlvbmFsKSwgZS5nLiAkLmRhdGVwaWNrZXIubm9XZWVrZW5kc1xuXHRcdGJlZm9yZVNob3c6IG51bGwsIC8vIEZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4gaW5wdXQgZmllbGQgYW5kXG5cdFx0XHQvLyByZXR1cm5zIGEgc2V0IG9mIGN1c3RvbSBzZXR0aW5ncyBmb3IgdGhlIGRhdGUgcGlja2VyXG5cdFx0b25TZWxlY3Q6IG51bGwsIC8vIERlZmluZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gYSBkYXRlIGlzIHNlbGVjdGVkXG5cdFx0b25DaGFuZ2VNb250aFllYXI6IG51bGwsIC8vIERlZmluZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gdGhlIG1vbnRoIG9yIHllYXIgaXMgY2hhbmdlZFxuXHRcdG9uQ2xvc2U6IG51bGwsIC8vIERlZmluZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gdGhlIGRhdGVwaWNrZXIgaXMgY2xvc2VkXG5cdFx0bnVtYmVyT2ZNb250aHM6IDEsIC8vIE51bWJlciBvZiBtb250aHMgdG8gc2hvdyBhdCBhIHRpbWVcblx0XHRzaG93Q3VycmVudEF0UG9zOiAwLCAvLyBUaGUgcG9zaXRpb24gaW4gbXVsdGlwZSBtb250aHMgYXQgd2hpY2ggdG8gc2hvdyB0aGUgY3VycmVudCBtb250aCAoc3RhcnRpbmcgYXQgMClcblx0XHRzdGVwTW9udGhzOiAxLCAvLyBOdW1iZXIgb2YgbW9udGhzIHRvIHN0ZXAgYmFjay9mb3J3YXJkXG5cdFx0c3RlcEJpZ01vbnRoczogMTIsIC8vIE51bWJlciBvZiBtb250aHMgdG8gc3RlcCBiYWNrL2ZvcndhcmQgZm9yIHRoZSBiaWcgbGlua3Ncblx0XHRhbHRGaWVsZDogXCJcIiwgLy8gU2VsZWN0b3IgZm9yIGFuIGFsdGVybmF0ZSBmaWVsZCB0byBzdG9yZSBzZWxlY3RlZCBkYXRlcyBpbnRvXG5cdFx0YWx0Rm9ybWF0OiBcIlwiLCAvLyBUaGUgZGF0ZSBmb3JtYXQgdG8gdXNlIGZvciB0aGUgYWx0ZXJuYXRlIGZpZWxkXG5cdFx0Y29uc3RyYWluSW5wdXQ6IHRydWUsIC8vIFRoZSBpbnB1dCBpcyBjb25zdHJhaW5lZCBieSB0aGUgY3VycmVudCBkYXRlIGZvcm1hdFxuXHRcdHNob3dCdXR0b25QYW5lbDogZmFsc2UsIC8vIFRydWUgdG8gc2hvdyBidXR0b24gcGFuZWwsIGZhbHNlIHRvIG5vdCBzaG93IGl0XG5cdFx0YXV0b1NpemU6IGZhbHNlLCAvLyBUcnVlIHRvIHNpemUgdGhlIGlucHV0IGZvciB0aGUgZGF0ZSBmb3JtYXQsIGZhbHNlIHRvIGxlYXZlIGFzIGlzXG5cdFx0ZGlzYWJsZWQ6IGZhbHNlIC8vIFRoZSBpbml0aWFsIGRpc2FibGVkIHN0YXRlXG5cdH07XG5cdCQuZXh0ZW5kKHRoaXMuX2RlZmF1bHRzLCB0aGlzLnJlZ2lvbmFsW1wiXCJdKTtcblx0dGhpcy5yZWdpb25hbC5lbiA9ICQuZXh0ZW5kKCB0cnVlLCB7fSwgdGhpcy5yZWdpb25hbFsgXCJcIiBdKTtcblx0dGhpcy5yZWdpb25hbFsgXCJlbi1VU1wiIF0gPSAkLmV4dGVuZCggdHJ1ZSwge30sIHRoaXMucmVnaW9uYWwuZW4gKTtcblx0dGhpcy5kcERpdiA9IGRhdGVwaWNrZXJfYmluZEhvdmVyKCQoXCI8ZGl2IGlkPSdcIiArIHRoaXMuX21haW5EaXZJZCArIFwiJyBjbGFzcz0ndWktZGF0ZXBpY2tlciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4IHVpLWNvcm5lci1hbGwnPjwvZGl2PlwiKSk7XG59XG5cbiQuZXh0ZW5kKERhdGVwaWNrZXIucHJvdG90eXBlLCB7XG5cdC8qIENsYXNzIG5hbWUgYWRkZWQgdG8gZWxlbWVudHMgdG8gaW5kaWNhdGUgYWxyZWFkeSBjb25maWd1cmVkIHdpdGggYSBkYXRlIHBpY2tlci4gKi9cblx0bWFya2VyQ2xhc3NOYW1lOiBcImhhc0RhdGVwaWNrZXJcIixcblxuXHQvL0tlZXAgdHJhY2sgb2YgdGhlIG1heGltdW0gbnVtYmVyIG9mIHJvd3MgZGlzcGxheWVkIChzZWUgIzcwNDMpXG5cdG1heFJvd3M6IDQsXG5cblx0Ly8gVE9ETyByZW5hbWUgdG8gXCJ3aWRnZXRcIiB3aGVuIHN3aXRjaGluZyB0byB3aWRnZXQgZmFjdG9yeVxuXHRfd2lkZ2V0RGF0ZXBpY2tlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZHBEaXY7XG5cdH0sXG5cblx0LyogT3ZlcnJpZGUgdGhlIGRlZmF1bHQgc2V0dGluZ3MgZm9yIGFsbCBpbnN0YW5jZXMgb2YgdGhlIGRhdGUgcGlja2VyLlxuXHQgKiBAcGFyYW0gIHNldHRpbmdzICBvYmplY3QgLSB0aGUgbmV3IHNldHRpbmdzIHRvIHVzZSBhcyBkZWZhdWx0cyAoYW5vbnltb3VzIG9iamVjdClcblx0ICogQHJldHVybiB0aGUgbWFuYWdlciBvYmplY3Rcblx0ICovXG5cdHNldERlZmF1bHRzOiBmdW5jdGlvbihzZXR0aW5ncykge1xuXHRcdGRhdGVwaWNrZXJfZXh0ZW5kUmVtb3ZlKHRoaXMuX2RlZmF1bHRzLCBzZXR0aW5ncyB8fCB7fSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0LyogQXR0YWNoIHRoZSBkYXRlIHBpY2tlciB0byBhIGpRdWVyeSBzZWxlY3Rpb24uXG5cdCAqIEBwYXJhbSAgdGFyZ2V0XHRlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqIEBwYXJhbSAgc2V0dGluZ3MgIG9iamVjdCAtIHRoZSBuZXcgc2V0dGluZ3MgdG8gdXNlIGZvciB0aGlzIGRhdGUgcGlja2VyIGluc3RhbmNlIChhbm9ueW1vdXMpXG5cdCAqL1xuXHRfYXR0YWNoRGF0ZXBpY2tlcjogZnVuY3Rpb24odGFyZ2V0LCBzZXR0aW5ncykge1xuXHRcdHZhciBub2RlTmFtZSwgaW5saW5lLCBpbnN0O1xuXHRcdG5vZGVOYW1lID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0aW5saW5lID0gKG5vZGVOYW1lID09PSBcImRpdlwiIHx8IG5vZGVOYW1lID09PSBcInNwYW5cIik7XG5cdFx0aWYgKCF0YXJnZXQuaWQpIHtcblx0XHRcdHRoaXMudXVpZCArPSAxO1xuXHRcdFx0dGFyZ2V0LmlkID0gXCJkcFwiICsgdGhpcy51dWlkO1xuXHRcdH1cblx0XHRpbnN0ID0gdGhpcy5fbmV3SW5zdCgkKHRhcmdldCksIGlubGluZSk7XG5cdFx0aW5zdC5zZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCBzZXR0aW5ncyB8fCB7fSk7XG5cdFx0aWYgKG5vZGVOYW1lID09PSBcImlucHV0XCIpIHtcblx0XHRcdHRoaXMuX2Nvbm5lY3REYXRlcGlja2VyKHRhcmdldCwgaW5zdCk7XG5cdFx0fSBlbHNlIGlmIChpbmxpbmUpIHtcblx0XHRcdHRoaXMuX2lubGluZURhdGVwaWNrZXIodGFyZ2V0LCBpbnN0KTtcblx0XHR9XG5cdH0sXG5cblx0LyogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9iamVjdC4gKi9cblx0X25ld0luc3Q6IGZ1bmN0aW9uKHRhcmdldCwgaW5saW5lKSB7XG5cdFx0dmFyIGlkID0gdGFyZ2V0WzBdLmlkLnJlcGxhY2UoLyhbXkEtWmEtejAtOV9cXC1dKS9nLCBcIlxcXFxcXFxcJDFcIik7IC8vIGVzY2FwZSBqUXVlcnkgbWV0YSBjaGFyc1xuXHRcdHJldHVybiB7aWQ6IGlkLCBpbnB1dDogdGFyZ2V0LCAvLyBhc3NvY2lhdGVkIHRhcmdldFxuXHRcdFx0c2VsZWN0ZWREYXk6IDAsIHNlbGVjdGVkTW9udGg6IDAsIHNlbGVjdGVkWWVhcjogMCwgLy8gY3VycmVudCBzZWxlY3Rpb25cblx0XHRcdGRyYXdNb250aDogMCwgZHJhd1llYXI6IDAsIC8vIG1vbnRoIGJlaW5nIGRyYXduXG5cdFx0XHRpbmxpbmU6IGlubGluZSwgLy8gaXMgZGF0ZXBpY2tlciBpbmxpbmUgb3Igbm90XG5cdFx0XHRkcERpdjogKCFpbmxpbmUgPyB0aGlzLmRwRGl2IDogLy8gcHJlc2VudGF0aW9uIGRpdlxuXHRcdFx0ZGF0ZXBpY2tlcl9iaW5kSG92ZXIoJChcIjxkaXYgY2xhc3M9J1wiICsgdGhpcy5faW5saW5lQ2xhc3MgKyBcIiB1aS1kYXRlcGlja2VyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbCc+PC9kaXY+XCIpKSl9O1xuXHR9LFxuXG5cdC8qIEF0dGFjaCB0aGUgZGF0ZSBwaWNrZXIgdG8gYW4gaW5wdXQgZmllbGQuICovXG5cdF9jb25uZWN0RGF0ZXBpY2tlcjogZnVuY3Rpb24odGFyZ2V0LCBpbnN0KSB7XG5cdFx0dmFyIGlucHV0ID0gJCh0YXJnZXQpO1xuXHRcdGluc3QuYXBwZW5kID0gJChbXSk7XG5cdFx0aW5zdC50cmlnZ2VyID0gJChbXSk7XG5cdFx0aWYgKGlucHV0Lmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLl9hdHRhY2htZW50cyhpbnB1dCwgaW5zdCk7XG5cdFx0aW5wdXQuYWRkQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLmtleWRvd24odGhpcy5fZG9LZXlEb3duKS5cblx0XHRcdGtleXByZXNzKHRoaXMuX2RvS2V5UHJlc3MpLmtleXVwKHRoaXMuX2RvS2V5VXApO1xuXHRcdHRoaXMuX2F1dG9TaXplKGluc3QpO1xuXHRcdCQuZGF0YSh0YXJnZXQsIFwiZGF0ZXBpY2tlclwiLCBpbnN0KTtcblx0XHQvL0lmIGRpc2FibGVkIG9wdGlvbiBpcyB0cnVlLCBkaXNhYmxlIHRoZSBkYXRlcGlja2VyIG9uY2UgaXQgaGFzIGJlZW4gYXR0YWNoZWQgdG8gdGhlIGlucHV0IChzZWUgdGlja2V0ICM1NjY1KVxuXHRcdGlmKCBpbnN0LnNldHRpbmdzLmRpc2FibGVkICkge1xuXHRcdFx0dGhpcy5fZGlzYWJsZURhdGVwaWNrZXIoIHRhcmdldCApO1xuXHRcdH1cblx0fSxcblxuXHQvKiBNYWtlIGF0dGFjaG1lbnRzIGJhc2VkIG9uIHNldHRpbmdzLiAqL1xuXHRfYXR0YWNobWVudHM6IGZ1bmN0aW9uKGlucHV0LCBpbnN0KSB7XG5cdFx0dmFyIHNob3dPbiwgYnV0dG9uVGV4dCwgYnV0dG9uSW1hZ2UsXG5cdFx0XHRhcHBlbmRUZXh0ID0gdGhpcy5fZ2V0KGluc3QsIFwiYXBwZW5kVGV4dFwiKSxcblx0XHRcdGlzUlRMID0gdGhpcy5fZ2V0KGluc3QsIFwiaXNSVExcIik7XG5cblx0XHRpZiAoaW5zdC5hcHBlbmQpIHtcblx0XHRcdGluc3QuYXBwZW5kLnJlbW92ZSgpO1xuXHRcdH1cblx0XHRpZiAoYXBwZW5kVGV4dCkge1xuXHRcdFx0aW5zdC5hcHBlbmQgPSAkKFwiPHNwYW4gY2xhc3M9J1wiICsgdGhpcy5fYXBwZW5kQ2xhc3MgKyBcIic+XCIgKyBhcHBlbmRUZXh0ICsgXCI8L3NwYW4+XCIpO1xuXHRcdFx0aW5wdXRbaXNSVEwgPyBcImJlZm9yZVwiIDogXCJhZnRlclwiXShpbnN0LmFwcGVuZCk7XG5cdFx0fVxuXG5cdFx0aW5wdXQudW5iaW5kKFwiZm9jdXNcIiwgdGhpcy5fc2hvd0RhdGVwaWNrZXIpO1xuXG5cdFx0aWYgKGluc3QudHJpZ2dlcikge1xuXHRcdFx0aW5zdC50cmlnZ2VyLnJlbW92ZSgpO1xuXHRcdH1cblxuXHRcdHNob3dPbiA9IHRoaXMuX2dldChpbnN0LCBcInNob3dPblwiKTtcblx0XHRpZiAoc2hvd09uID09PSBcImZvY3VzXCIgfHwgc2hvd09uID09PSBcImJvdGhcIikgeyAvLyBwb3AtdXAgZGF0ZSBwaWNrZXIgd2hlbiBpbiB0aGUgbWFya2VkIGZpZWxkXG5cdFx0XHRpbnB1dC5mb2N1cyh0aGlzLl9zaG93RGF0ZXBpY2tlcik7XG5cdFx0fVxuXHRcdGlmIChzaG93T24gPT09IFwiYnV0dG9uXCIgfHwgc2hvd09uID09PSBcImJvdGhcIikgeyAvLyBwb3AtdXAgZGF0ZSBwaWNrZXIgd2hlbiBidXR0b24gY2xpY2tlZFxuXHRcdFx0YnV0dG9uVGV4dCA9IHRoaXMuX2dldChpbnN0LCBcImJ1dHRvblRleHRcIik7XG5cdFx0XHRidXR0b25JbWFnZSA9IHRoaXMuX2dldChpbnN0LCBcImJ1dHRvbkltYWdlXCIpO1xuXHRcdFx0aW5zdC50cmlnZ2VyID0gJCh0aGlzLl9nZXQoaW5zdCwgXCJidXR0b25JbWFnZU9ubHlcIikgP1xuXHRcdFx0XHQkKFwiPGltZy8+XCIpLmFkZENsYXNzKHRoaXMuX3RyaWdnZXJDbGFzcykuXG5cdFx0XHRcdFx0YXR0cih7IHNyYzogYnV0dG9uSW1hZ2UsIGFsdDogYnV0dG9uVGV4dCwgdGl0bGU6IGJ1dHRvblRleHQgfSkgOlxuXHRcdFx0XHQkKFwiPGJ1dHRvbiB0eXBlPSdidXR0b24nPjwvYnV0dG9uPlwiKS5hZGRDbGFzcyh0aGlzLl90cmlnZ2VyQ2xhc3MpLlxuXHRcdFx0XHRcdGh0bWwoIWJ1dHRvbkltYWdlID8gYnV0dG9uVGV4dCA6ICQoXCI8aW1nLz5cIikuYXR0cihcblx0XHRcdFx0XHR7IHNyYzpidXR0b25JbWFnZSwgYWx0OmJ1dHRvblRleHQsIHRpdGxlOmJ1dHRvblRleHQgfSkpKTtcblx0XHRcdGlucHV0W2lzUlRMID8gXCJiZWZvcmVcIiA6IFwiYWZ0ZXJcIl0oaW5zdC50cmlnZ2VyKTtcblx0XHRcdGluc3QudHJpZ2dlci5jbGljayhmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcgJiYgJC5kYXRlcGlja2VyLl9sYXN0SW5wdXQgPT09IGlucHV0WzBdKSB7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcgJiYgJC5kYXRlcGlja2VyLl9sYXN0SW5wdXQgIT09IGlucHV0WzBdKSB7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpO1xuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIoaW5wdXRbMF0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIoaW5wdXRbMF0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fSxcblxuXHQvKiBBcHBseSB0aGUgbWF4aW11bSBsZW5ndGggZm9yIHRoZSBkYXRlIGZvcm1hdC4gKi9cblx0X2F1dG9TaXplOiBmdW5jdGlvbihpbnN0KSB7XG5cdFx0aWYgKHRoaXMuX2dldChpbnN0LCBcImF1dG9TaXplXCIpICYmICFpbnN0LmlubGluZSkge1xuXHRcdFx0dmFyIGZpbmRNYXgsIG1heCwgbWF4SSwgaSxcblx0XHRcdFx0ZGF0ZSA9IG5ldyBEYXRlKDIwMDksIDEyIC0gMSwgMjApLCAvLyBFbnN1cmUgZG91YmxlIGRpZ2l0c1xuXHRcdFx0XHRkYXRlRm9ybWF0ID0gdGhpcy5fZ2V0KGluc3QsIFwiZGF0ZUZvcm1hdFwiKTtcblxuXHRcdFx0aWYgKGRhdGVGb3JtYXQubWF0Y2goL1tETV0vKSkge1xuXHRcdFx0XHRmaW5kTWF4ID0gZnVuY3Rpb24obmFtZXMpIHtcblx0XHRcdFx0XHRtYXggPSAwO1xuXHRcdFx0XHRcdG1heEkgPSAwO1xuXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0aWYgKG5hbWVzW2ldLmxlbmd0aCA+IG1heCkge1xuXHRcdFx0XHRcdFx0XHRtYXggPSBuYW1lc1tpXS5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdG1heEkgPSBpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbWF4STtcblx0XHRcdFx0fTtcblx0XHRcdFx0ZGF0ZS5zZXRNb250aChmaW5kTWF4KHRoaXMuX2dldChpbnN0LCAoZGF0ZUZvcm1hdC5tYXRjaCgvTU0vKSA/XG5cdFx0XHRcdFx0XCJtb250aE5hbWVzXCIgOiBcIm1vbnRoTmFtZXNTaG9ydFwiKSkpKTtcblx0XHRcdFx0ZGF0ZS5zZXREYXRlKGZpbmRNYXgodGhpcy5fZ2V0KGluc3QsIChkYXRlRm9ybWF0Lm1hdGNoKC9ERC8pID9cblx0XHRcdFx0XHRcImRheU5hbWVzXCIgOiBcImRheU5hbWVzU2hvcnRcIikpKSArIDIwIC0gZGF0ZS5nZXREYXkoKSk7XG5cdFx0XHR9XG5cdFx0XHRpbnN0LmlucHV0LmF0dHIoXCJzaXplXCIsIHRoaXMuX2Zvcm1hdERhdGUoaW5zdCwgZGF0ZSkubGVuZ3RoKTtcblx0XHR9XG5cdH0sXG5cblx0LyogQXR0YWNoIGFuIGlubGluZSBkYXRlIHBpY2tlciB0byBhIGRpdi4gKi9cblx0X2lubGluZURhdGVwaWNrZXI6IGZ1bmN0aW9uKHRhcmdldCwgaW5zdCkge1xuXHRcdHZhciBkaXZTcGFuID0gJCh0YXJnZXQpO1xuXHRcdGlmIChkaXZTcGFuLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRkaXZTcGFuLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5hcHBlbmQoaW5zdC5kcERpdik7XG5cdFx0JC5kYXRhKHRhcmdldCwgXCJkYXRlcGlja2VyXCIsIGluc3QpO1xuXHRcdHRoaXMuX3NldERhdGUoaW5zdCwgdGhpcy5fZ2V0RGVmYXVsdERhdGUoaW5zdCksIHRydWUpO1xuXHRcdHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIoaW5zdCk7XG5cdFx0dGhpcy5fdXBkYXRlQWx0ZXJuYXRlKGluc3QpO1xuXHRcdC8vSWYgZGlzYWJsZWQgb3B0aW9uIGlzIHRydWUsIGRpc2FibGUgdGhlIGRhdGVwaWNrZXIgYmVmb3JlIHNob3dpbmcgaXQgKHNlZSB0aWNrZXQgIzU2NjUpXG5cdFx0aWYoIGluc3Quc2V0dGluZ3MuZGlzYWJsZWQgKSB7XG5cdFx0XHR0aGlzLl9kaXNhYmxlRGF0ZXBpY2tlciggdGFyZ2V0ICk7XG5cdFx0fVxuXHRcdC8vIFNldCBkaXNwbGF5OmJsb2NrIGluIHBsYWNlIG9mIGluc3QuZHBEaXYuc2hvdygpIHdoaWNoIHdvbid0IHdvcmsgb24gZGlzY29ubmVjdGVkIGVsZW1lbnRzXG5cdFx0Ly8gaHR0cDovL2J1Z3MuanF1ZXJ5dWkuY29tL3RpY2tldC83NTUyIC0gQSBEYXRlcGlja2VyIGNyZWF0ZWQgb24gYSBkZXRhY2hlZCBkaXYgaGFzIHplcm8gaGVpZ2h0XG5cdFx0aW5zdC5kcERpdi5jc3MoIFwiZGlzcGxheVwiLCBcImJsb2NrXCIgKTtcblx0fSxcblxuXHQvKiBQb3AtdXAgdGhlIGRhdGUgcGlja2VyIGluIGEgXCJkaWFsb2dcIiBib3guXG5cdCAqIEBwYXJhbSAgaW5wdXQgZWxlbWVudCAtIGlnbm9yZWRcblx0ICogQHBhcmFtICBkYXRlXHRzdHJpbmcgb3IgRGF0ZSAtIHRoZSBpbml0aWFsIGRhdGUgdG8gZGlzcGxheVxuXHQgKiBAcGFyYW0gIG9uU2VsZWN0ICBmdW5jdGlvbiAtIHRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gYSBkYXRlIGlzIHNlbGVjdGVkXG5cdCAqIEBwYXJhbSAgc2V0dGluZ3MgIG9iamVjdCAtIHVwZGF0ZSB0aGUgZGlhbG9nIGRhdGUgcGlja2VyIGluc3RhbmNlJ3Mgc2V0dGluZ3MgKGFub255bW91cyBvYmplY3QpXG5cdCAqIEBwYXJhbSAgcG9zIGludFsyXSAtIGNvb3JkaW5hdGVzIGZvciB0aGUgZGlhbG9nJ3MgcG9zaXRpb24gd2l0aGluIHRoZSBzY3JlZW4gb3Jcblx0ICpcdFx0XHRcdFx0ZXZlbnQgLSB3aXRoIHgveSBjb29yZGluYXRlcyBvclxuXHQgKlx0XHRcdFx0XHRsZWF2ZSBlbXB0eSBmb3IgZGVmYXVsdCAoc2NyZWVuIGNlbnRyZSlcblx0ICogQHJldHVybiB0aGUgbWFuYWdlciBvYmplY3Rcblx0ICovXG5cdF9kaWFsb2dEYXRlcGlja2VyOiBmdW5jdGlvbihpbnB1dCwgZGF0ZSwgb25TZWxlY3QsIHNldHRpbmdzLCBwb3MpIHtcblx0XHR2YXIgaWQsIGJyb3dzZXJXaWR0aCwgYnJvd3NlckhlaWdodCwgc2Nyb2xsWCwgc2Nyb2xsWSxcblx0XHRcdGluc3QgPSB0aGlzLl9kaWFsb2dJbnN0OyAvLyBpbnRlcm5hbCBpbnN0YW5jZVxuXG5cdFx0aWYgKCFpbnN0KSB7XG5cdFx0XHR0aGlzLnV1aWQgKz0gMTtcblx0XHRcdGlkID0gXCJkcFwiICsgdGhpcy51dWlkO1xuXHRcdFx0dGhpcy5fZGlhbG9nSW5wdXQgPSAkKFwiPGlucHV0IHR5cGU9J3RleHQnIGlkPSdcIiArIGlkICtcblx0XHRcdFx0XCInIHN0eWxlPSdwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTEwMHB4OyB3aWR0aDogMHB4OycvPlwiKTtcblx0XHRcdHRoaXMuX2RpYWxvZ0lucHV0LmtleWRvd24odGhpcy5fZG9LZXlEb3duKTtcblx0XHRcdCQoXCJib2R5XCIpLmFwcGVuZCh0aGlzLl9kaWFsb2dJbnB1dCk7XG5cdFx0XHRpbnN0ID0gdGhpcy5fZGlhbG9nSW5zdCA9IHRoaXMuX25ld0luc3QodGhpcy5fZGlhbG9nSW5wdXQsIGZhbHNlKTtcblx0XHRcdGluc3Quc2V0dGluZ3MgPSB7fTtcblx0XHRcdCQuZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwgXCJkYXRlcGlja2VyXCIsIGluc3QpO1xuXHRcdH1cblx0XHRkYXRlcGlja2VyX2V4dGVuZFJlbW92ZShpbnN0LnNldHRpbmdzLCBzZXR0aW5ncyB8fCB7fSk7XG5cdFx0ZGF0ZSA9IChkYXRlICYmIGRhdGUuY29uc3RydWN0b3IgPT09IERhdGUgPyB0aGlzLl9mb3JtYXREYXRlKGluc3QsIGRhdGUpIDogZGF0ZSk7XG5cdFx0dGhpcy5fZGlhbG9nSW5wdXQudmFsKGRhdGUpO1xuXG5cdFx0dGhpcy5fcG9zID0gKHBvcyA/IChwb3MubGVuZ3RoID8gcG9zIDogW3Bvcy5wYWdlWCwgcG9zLnBhZ2VZXSkgOiBudWxsKTtcblx0XHRpZiAoIXRoaXMuX3Bvcykge1xuXHRcdFx0YnJvd3NlcldpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuXHRcdFx0YnJvd3NlckhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG5cdFx0XHRzY3JvbGxYID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0O1xuXHRcdFx0c2Nyb2xsWSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG5cdFx0XHR0aGlzLl9wb3MgPSAvLyBzaG91bGQgdXNlIGFjdHVhbCB3aWR0aC9oZWlnaHQgYmVsb3dcblx0XHRcdFx0Wyhicm93c2VyV2lkdGggLyAyKSAtIDEwMCArIHNjcm9sbFgsIChicm93c2VySGVpZ2h0IC8gMikgLSAxNTAgKyBzY3JvbGxZXTtcblx0XHR9XG5cblx0XHQvLyBtb3ZlIGlucHV0IG9uIHNjcmVlbiBmb3IgZm9jdXMsIGJ1dCBoaWRkZW4gYmVoaW5kIGRpYWxvZ1xuXHRcdHRoaXMuX2RpYWxvZ0lucHV0LmNzcyhcImxlZnRcIiwgKHRoaXMuX3Bvc1swXSArIDIwKSArIFwicHhcIikuY3NzKFwidG9wXCIsIHRoaXMuX3Bvc1sxXSArIFwicHhcIik7XG5cdFx0aW5zdC5zZXR0aW5ncy5vblNlbGVjdCA9IG9uU2VsZWN0O1xuXHRcdHRoaXMuX2luRGlhbG9nID0gdHJ1ZTtcblx0XHR0aGlzLmRwRGl2LmFkZENsYXNzKHRoaXMuX2RpYWxvZ0NsYXNzKTtcblx0XHR0aGlzLl9zaG93RGF0ZXBpY2tlcih0aGlzLl9kaWFsb2dJbnB1dFswXSk7XG5cdFx0aWYgKCQuYmxvY2tVSSkge1xuXHRcdFx0JC5ibG9ja1VJKHRoaXMuZHBEaXYpO1xuXHRcdH1cblx0XHQkLmRhdGEodGhpcy5fZGlhbG9nSW5wdXRbMF0sIFwiZGF0ZXBpY2tlclwiLCBpbnN0KTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvKiBEZXRhY2ggYSBkYXRlcGlja2VyIGZyb20gaXRzIGNvbnRyb2wuXG5cdCAqIEBwYXJhbSAgdGFyZ2V0XHRlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqL1xuXHRfZGVzdHJveURhdGVwaWNrZXI6IGZ1bmN0aW9uKHRhcmdldCkge1xuXHRcdHZhciBub2RlTmFtZSxcblx0XHRcdCR0YXJnZXQgPSAkKHRhcmdldCksXG5cdFx0XHRpbnN0ID0gJC5kYXRhKHRhcmdldCwgXCJkYXRlcGlja2VyXCIpO1xuXG5cdFx0aWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdG5vZGVOYW1lID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0JC5yZW1vdmVEYXRhKHRhcmdldCwgXCJkYXRlcGlja2VyXCIpO1xuXHRcdGlmIChub2RlTmFtZSA9PT0gXCJpbnB1dFwiKSB7XG5cdFx0XHRpbnN0LmFwcGVuZC5yZW1vdmUoKTtcblx0XHRcdGluc3QudHJpZ2dlci5yZW1vdmUoKTtcblx0XHRcdCR0YXJnZXQucmVtb3ZlQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLlxuXHRcdFx0XHR1bmJpbmQoXCJmb2N1c1wiLCB0aGlzLl9zaG93RGF0ZXBpY2tlcikuXG5cdFx0XHRcdHVuYmluZChcImtleWRvd25cIiwgdGhpcy5fZG9LZXlEb3duKS5cblx0XHRcdFx0dW5iaW5kKFwia2V5cHJlc3NcIiwgdGhpcy5fZG9LZXlQcmVzcykuXG5cdFx0XHRcdHVuYmluZChcImtleXVwXCIsIHRoaXMuX2RvS2V5VXApO1xuXHRcdH0gZWxzZSBpZiAobm9kZU5hbWUgPT09IFwiZGl2XCIgfHwgbm9kZU5hbWUgPT09IFwic3BhblwiKSB7XG5cdFx0XHQkdGFyZ2V0LnJlbW92ZUNsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5lbXB0eSgpO1xuXHRcdH1cblxuXHRcdGlmICggZGF0ZXBpY2tlcl9pbnN0QWN0aXZlID09PSBpbnN0ICkge1xuXHRcdFx0ZGF0ZXBpY2tlcl9pbnN0QWN0aXZlID0gbnVsbDtcblx0XHR9XG5cdH0sXG5cblx0LyogRW5hYmxlIHRoZSBkYXRlIHBpY2tlciB0byBhIGpRdWVyeSBzZWxlY3Rpb24uXG5cdCAqIEBwYXJhbSAgdGFyZ2V0XHRlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqL1xuXHRfZW5hYmxlRGF0ZXBpY2tlcjogZnVuY3Rpb24odGFyZ2V0KSB7XG5cdFx0dmFyIG5vZGVOYW1lLCBpbmxpbmUsXG5cdFx0XHQkdGFyZ2V0ID0gJCh0YXJnZXQpLFxuXHRcdFx0aW5zdCA9ICQuZGF0YSh0YXJnZXQsIFwiZGF0ZXBpY2tlclwiKTtcblxuXHRcdGlmICghJHRhcmdldC5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRub2RlTmFtZSA9IHRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdGlmIChub2RlTmFtZSA9PT0gXCJpbnB1dFwiKSB7XG5cdFx0XHR0YXJnZXQuZGlzYWJsZWQgPSBmYWxzZTtcblx0XHRcdGluc3QudHJpZ2dlci5maWx0ZXIoXCJidXR0b25cIikuXG5cdFx0XHRcdGVhY2goZnVuY3Rpb24oKSB7IHRoaXMuZGlzYWJsZWQgPSBmYWxzZTsgfSkuZW5kKCkuXG5cdFx0XHRcdGZpbHRlcihcImltZ1wiKS5jc3Moe29wYWNpdHk6IFwiMS4wXCIsIGN1cnNvcjogXCJcIn0pO1xuXHRcdH0gZWxzZSBpZiAobm9kZU5hbWUgPT09IFwiZGl2XCIgfHwgbm9kZU5hbWUgPT09IFwic3BhblwiKSB7XG5cdFx0XHRpbmxpbmUgPSAkdGFyZ2V0LmNoaWxkcmVuKFwiLlwiICsgdGhpcy5faW5saW5lQ2xhc3MpO1xuXHRcdFx0aW5saW5lLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKTtcblx0XHRcdGlubGluZS5maW5kKFwic2VsZWN0LnVpLWRhdGVwaWNrZXItbW9udGgsIHNlbGVjdC51aS1kYXRlcGlja2VyLXllYXJcIikuXG5cdFx0XHRcdHByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XG5cdFx0fVxuXHRcdHRoaXMuX2Rpc2FibGVkSW5wdXRzID0gJC5tYXAodGhpcy5fZGlzYWJsZWRJbnB1dHMsXG5cdFx0XHRmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gKHZhbHVlID09PSB0YXJnZXQgPyBudWxsIDogdmFsdWUpOyB9KTsgLy8gZGVsZXRlIGVudHJ5XG5cdH0sXG5cblx0LyogRGlzYWJsZSB0aGUgZGF0ZSBwaWNrZXIgdG8gYSBqUXVlcnkgc2VsZWN0aW9uLlxuXHQgKiBAcGFyYW0gIHRhcmdldFx0ZWxlbWVudCAtIHRoZSB0YXJnZXQgaW5wdXQgZmllbGQgb3IgZGl2aXNpb24gb3Igc3BhblxuXHQgKi9cblx0X2Rpc2FibGVEYXRlcGlja2VyOiBmdW5jdGlvbih0YXJnZXQpIHtcblx0XHR2YXIgbm9kZU5hbWUsIGlubGluZSxcblx0XHRcdCR0YXJnZXQgPSAkKHRhcmdldCksXG5cdFx0XHRpbnN0ID0gJC5kYXRhKHRhcmdldCwgXCJkYXRlcGlja2VyXCIpO1xuXG5cdFx0aWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdG5vZGVOYW1lID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0aWYgKG5vZGVOYW1lID09PSBcImlucHV0XCIpIHtcblx0XHRcdHRhcmdldC5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRpbnN0LnRyaWdnZXIuZmlsdGVyKFwiYnV0dG9uXCIpLlxuXHRcdFx0XHRlYWNoKGZ1bmN0aW9uKCkgeyB0aGlzLmRpc2FibGVkID0gdHJ1ZTsgfSkuZW5kKCkuXG5cdFx0XHRcdGZpbHRlcihcImltZ1wiKS5jc3Moe29wYWNpdHk6IFwiMC41XCIsIGN1cnNvcjogXCJkZWZhdWx0XCJ9KTtcblx0XHR9IGVsc2UgaWYgKG5vZGVOYW1lID09PSBcImRpdlwiIHx8IG5vZGVOYW1lID09PSBcInNwYW5cIikge1xuXHRcdFx0aW5saW5lID0gJHRhcmdldC5jaGlsZHJlbihcIi5cIiArIHRoaXMuX2lubGluZUNsYXNzKTtcblx0XHRcdGlubGluZS5jaGlsZHJlbigpLmFkZENsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIik7XG5cdFx0XHRpbmxpbmUuZmluZChcInNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLCBzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyXCIpLlxuXHRcdFx0XHRwcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG5cdFx0fVxuXHRcdHRoaXMuX2Rpc2FibGVkSW5wdXRzID0gJC5tYXAodGhpcy5fZGlzYWJsZWRJbnB1dHMsXG5cdFx0XHRmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gKHZhbHVlID09PSB0YXJnZXQgPyBudWxsIDogdmFsdWUpOyB9KTsgLy8gZGVsZXRlIGVudHJ5XG5cdFx0dGhpcy5fZGlzYWJsZWRJbnB1dHNbdGhpcy5fZGlzYWJsZWRJbnB1dHMubGVuZ3RoXSA9IHRhcmdldDtcblx0fSxcblxuXHQvKiBJcyB0aGUgZmlyc3QgZmllbGQgaW4gYSBqUXVlcnkgY29sbGVjdGlvbiBkaXNhYmxlZCBhcyBhIGRhdGVwaWNrZXI/XG5cdCAqIEBwYXJhbSAgdGFyZ2V0XHRlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqIEByZXR1cm4gYm9vbGVhbiAtIHRydWUgaWYgZGlzYWJsZWQsIGZhbHNlIGlmIGVuYWJsZWRcblx0ICovXG5cdF9pc0Rpc2FibGVkRGF0ZXBpY2tlcjogZnVuY3Rpb24odGFyZ2V0KSB7XG5cdFx0aWYgKCF0YXJnZXQpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKHRoaXMuX2Rpc2FibGVkSW5wdXRzW2ldID09PSB0YXJnZXQpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHQvKiBSZXRyaWV2ZSB0aGUgaW5zdGFuY2UgZGF0YSBmb3IgdGhlIHRhcmdldCBjb250cm9sLlxuXHQgKiBAcGFyYW0gIHRhcmdldCAgZWxlbWVudCAtIHRoZSB0YXJnZXQgaW5wdXQgZmllbGQgb3IgZGl2aXNpb24gb3Igc3BhblxuXHQgKiBAcmV0dXJuICBvYmplY3QgLSB0aGUgYXNzb2NpYXRlZCBpbnN0YW5jZSBkYXRhXG5cdCAqIEB0aHJvd3MgIGVycm9yIGlmIGEgalF1ZXJ5IHByb2JsZW0gZ2V0dGluZyBkYXRhXG5cdCAqL1xuXHRfZ2V0SW5zdDogZnVuY3Rpb24odGFyZ2V0KSB7XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiAkLmRhdGEodGFyZ2V0LCBcImRhdGVwaWNrZXJcIik7XG5cdFx0fVxuXHRcdGNhdGNoIChlcnIpIHtcblx0XHRcdHRocm93IFwiTWlzc2luZyBpbnN0YW5jZSBkYXRhIGZvciB0aGlzIGRhdGVwaWNrZXJcIjtcblx0XHR9XG5cdH0sXG5cblx0LyogVXBkYXRlIG9yIHJldHJpZXZlIHRoZSBzZXR0aW5ncyBmb3IgYSBkYXRlIHBpY2tlciBhdHRhY2hlZCB0byBhbiBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbi5cblx0ICogQHBhcmFtICB0YXJnZXQgIGVsZW1lbnQgLSB0aGUgdGFyZ2V0IGlucHV0IGZpZWxkIG9yIGRpdmlzaW9uIG9yIHNwYW5cblx0ICogQHBhcmFtICBuYW1lXHRvYmplY3QgLSB0aGUgbmV3IHNldHRpbmdzIHRvIHVwZGF0ZSBvclxuXHQgKlx0XHRcdFx0c3RyaW5nIC0gdGhlIG5hbWUgb2YgdGhlIHNldHRpbmcgdG8gY2hhbmdlIG9yIHJldHJpZXZlLFxuXHQgKlx0XHRcdFx0d2hlbiByZXRyaWV2aW5nIGFsc28gXCJhbGxcIiBmb3IgYWxsIGluc3RhbmNlIHNldHRpbmdzIG9yXG5cdCAqXHRcdFx0XHRcImRlZmF1bHRzXCIgZm9yIGFsbCBnbG9iYWwgZGVmYXVsdHNcblx0ICogQHBhcmFtICB2YWx1ZSAgIGFueSAtIHRoZSBuZXcgdmFsdWUgZm9yIHRoZSBzZXR0aW5nXG5cdCAqXHRcdFx0XHQob21pdCBpZiBhYm92ZSBpcyBhbiBvYmplY3Qgb3IgdG8gcmV0cmlldmUgYSB2YWx1ZSlcblx0ICovXG5cdF9vcHRpb25EYXRlcGlja2VyOiBmdW5jdGlvbih0YXJnZXQsIG5hbWUsIHZhbHVlKSB7XG5cdFx0dmFyIHNldHRpbmdzLCBkYXRlLCBtaW5EYXRlLCBtYXhEYXRlLFxuXHRcdFx0aW5zdCA9IHRoaXMuX2dldEluc3QodGFyZ2V0KTtcblxuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyICYmIHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRyZXR1cm4gKG5hbWUgPT09IFwiZGVmYXVsdHNcIiA/ICQuZXh0ZW5kKHt9LCAkLmRhdGVwaWNrZXIuX2RlZmF1bHRzKSA6XG5cdFx0XHRcdChpbnN0ID8gKG5hbWUgPT09IFwiYWxsXCIgPyAkLmV4dGVuZCh7fSwgaW5zdC5zZXR0aW5ncykgOlxuXHRcdFx0XHR0aGlzLl9nZXQoaW5zdCwgbmFtZSkpIDogbnVsbCkpO1xuXHRcdH1cblxuXHRcdHNldHRpbmdzID0gbmFtZSB8fCB7fTtcblx0XHRpZiAodHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdHNldHRpbmdzID0ge307XG5cdFx0XHRzZXR0aW5nc1tuYW1lXSA9IHZhbHVlO1xuXHRcdH1cblxuXHRcdGlmIChpbnN0KSB7XG5cdFx0XHRpZiAodGhpcy5fY3VySW5zdCA9PT0gaW5zdCkge1xuXHRcdFx0XHR0aGlzLl9oaWRlRGF0ZXBpY2tlcigpO1xuXHRcdFx0fVxuXG5cdFx0XHRkYXRlID0gdGhpcy5fZ2V0RGF0ZURhdGVwaWNrZXIodGFyZ2V0LCB0cnVlKTtcblx0XHRcdG1pbkRhdGUgPSB0aGlzLl9nZXRNaW5NYXhEYXRlKGluc3QsIFwibWluXCIpO1xuXHRcdFx0bWF4RGF0ZSA9IHRoaXMuX2dldE1pbk1heERhdGUoaW5zdCwgXCJtYXhcIik7XG5cdFx0XHRkYXRlcGlja2VyX2V4dGVuZFJlbW92ZShpbnN0LnNldHRpbmdzLCBzZXR0aW5ncyk7XG5cdFx0XHQvLyByZWZvcm1hdCB0aGUgb2xkIG1pbkRhdGUvbWF4RGF0ZSB2YWx1ZXMgaWYgZGF0ZUZvcm1hdCBjaGFuZ2VzIGFuZCBhIG5ldyBtaW5EYXRlL21heERhdGUgaXNuJ3QgcHJvdmlkZWRcblx0XHRcdGlmIChtaW5EYXRlICE9PSBudWxsICYmIHNldHRpbmdzLmRhdGVGb3JtYXQgIT09IHVuZGVmaW5lZCAmJiBzZXR0aW5ncy5taW5EYXRlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0aW5zdC5zZXR0aW5ncy5taW5EYXRlID0gdGhpcy5fZm9ybWF0RGF0ZShpbnN0LCBtaW5EYXRlKTtcblx0XHRcdH1cblx0XHRcdGlmIChtYXhEYXRlICE9PSBudWxsICYmIHNldHRpbmdzLmRhdGVGb3JtYXQgIT09IHVuZGVmaW5lZCAmJiBzZXR0aW5ncy5tYXhEYXRlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0aW5zdC5zZXR0aW5ncy5tYXhEYXRlID0gdGhpcy5fZm9ybWF0RGF0ZShpbnN0LCBtYXhEYXRlKTtcblx0XHRcdH1cblx0XHRcdGlmICggXCJkaXNhYmxlZFwiIGluIHNldHRpbmdzICkge1xuXHRcdFx0XHRpZiAoIHNldHRpbmdzLmRpc2FibGVkICkge1xuXHRcdFx0XHRcdHRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHRhcmdldCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5fZW5hYmxlRGF0ZXBpY2tlcih0YXJnZXQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9hdHRhY2htZW50cygkKHRhcmdldCksIGluc3QpO1xuXHRcdFx0dGhpcy5fYXV0b1NpemUoaW5zdCk7XG5cdFx0XHR0aGlzLl9zZXREYXRlKGluc3QsIGRhdGUpO1xuXHRcdFx0dGhpcy5fdXBkYXRlQWx0ZXJuYXRlKGluc3QpO1xuXHRcdFx0dGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihpbnN0KTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gY2hhbmdlIG1ldGhvZCBkZXByZWNhdGVkXG5cdF9jaGFuZ2VEYXRlcGlja2VyOiBmdW5jdGlvbih0YXJnZXQsIG5hbWUsIHZhbHVlKSB7XG5cdFx0dGhpcy5fb3B0aW9uRGF0ZXBpY2tlcih0YXJnZXQsIG5hbWUsIHZhbHVlKTtcblx0fSxcblxuXHQvKiBSZWRyYXcgdGhlIGRhdGUgcGlja2VyIGF0dGFjaGVkIHRvIGFuIGlucHV0IGZpZWxkIG9yIGRpdmlzaW9uLlxuXHQgKiBAcGFyYW0gIHRhcmdldCAgZWxlbWVudCAtIHRoZSB0YXJnZXQgaW5wdXQgZmllbGQgb3IgZGl2aXNpb24gb3Igc3BhblxuXHQgKi9cblx0X3JlZnJlc2hEYXRlcGlja2VyOiBmdW5jdGlvbih0YXJnZXQpIHtcblx0XHR2YXIgaW5zdCA9IHRoaXMuX2dldEluc3QodGFyZ2V0KTtcblx0XHRpZiAoaW5zdCkge1xuXHRcdFx0dGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihpbnN0KTtcblx0XHR9XG5cdH0sXG5cblx0LyogU2V0IHRoZSBkYXRlcyBmb3IgYSBqUXVlcnkgc2VsZWN0aW9uLlxuXHQgKiBAcGFyYW0gIHRhcmdldCBlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqIEBwYXJhbSAgZGF0ZVx0RGF0ZSAtIHRoZSBuZXcgZGF0ZVxuXHQgKi9cblx0X3NldERhdGVEYXRlcGlja2VyOiBmdW5jdGlvbih0YXJnZXQsIGRhdGUpIHtcblx0XHR2YXIgaW5zdCA9IHRoaXMuX2dldEluc3QodGFyZ2V0KTtcblx0XHRpZiAoaW5zdCkge1xuXHRcdFx0dGhpcy5fc2V0RGF0ZShpbnN0LCBkYXRlKTtcblx0XHRcdHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIoaW5zdCk7XG5cdFx0XHR0aGlzLl91cGRhdGVBbHRlcm5hdGUoaW5zdCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIEdldCB0aGUgZGF0ZShzKSBmb3IgdGhlIGZpcnN0IGVudHJ5IGluIGEgalF1ZXJ5IHNlbGVjdGlvbi5cblx0ICogQHBhcmFtICB0YXJnZXQgZWxlbWVudCAtIHRoZSB0YXJnZXQgaW5wdXQgZmllbGQgb3IgZGl2aXNpb24gb3Igc3BhblxuXHQgKiBAcGFyYW0gIG5vRGVmYXVsdCBib29sZWFuIC0gdHJ1ZSBpZiBubyBkZWZhdWx0IGRhdGUgaXMgdG8gYmUgdXNlZFxuXHQgKiBAcmV0dXJuIERhdGUgLSB0aGUgY3VycmVudCBkYXRlXG5cdCAqL1xuXHRfZ2V0RGF0ZURhdGVwaWNrZXI6IGZ1bmN0aW9uKHRhcmdldCwgbm9EZWZhdWx0KSB7XG5cdFx0dmFyIGluc3QgPSB0aGlzLl9nZXRJbnN0KHRhcmdldCk7XG5cdFx0aWYgKGluc3QgJiYgIWluc3QuaW5saW5lKSB7XG5cdFx0XHR0aGlzLl9zZXREYXRlRnJvbUZpZWxkKGluc3QsIG5vRGVmYXVsdCk7XG5cdFx0fVxuXHRcdHJldHVybiAoaW5zdCA/IHRoaXMuX2dldERhdGUoaW5zdCkgOiBudWxsKTtcblx0fSxcblxuXHQvKiBIYW5kbGUga2V5c3Ryb2tlcy4gKi9cblx0X2RvS2V5RG93bjogZnVuY3Rpb24oZXZlbnQpIHtcblx0XHR2YXIgb25TZWxlY3QsIGRhdGVTdHIsIHNlbCxcblx0XHRcdGluc3QgPSAkLmRhdGVwaWNrZXIuX2dldEluc3QoZXZlbnQudGFyZ2V0KSxcblx0XHRcdGhhbmRsZWQgPSB0cnVlLFxuXHRcdFx0aXNSVEwgPSBpbnN0LmRwRGl2LmlzKFwiLnVpLWRhdGVwaWNrZXItcnRsXCIpO1xuXG5cdFx0aW5zdC5fa2V5RXZlbnQgPSB0cnVlO1xuXHRcdGlmICgkLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nKSB7XG5cdFx0XHRzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcblx0XHRcdFx0Y2FzZSA5OiAkLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7XG5cdFx0XHRcdFx0XHRoYW5kbGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRicmVhazsgLy8gaGlkZSBvbiB0YWIgb3V0XG5cdFx0XHRcdGNhc2UgMTM6IHNlbCA9ICQoXCJ0ZC5cIiArICQuZGF0ZXBpY2tlci5fZGF5T3ZlckNsYXNzICsgXCI6bm90KC5cIiArXG5cdFx0XHRcdFx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2N1cnJlbnRDbGFzcyArIFwiKVwiLCBpbnN0LmRwRGl2KTtcblx0XHRcdFx0XHRcdGlmIChzZWxbMF0pIHtcblx0XHRcdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9zZWxlY3REYXkoZXZlbnQudGFyZ2V0LCBpbnN0LnNlbGVjdGVkTW9udGgsIGluc3Quc2VsZWN0ZWRZZWFyLCBzZWxbMF0pO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRvblNlbGVjdCA9ICQuZGF0ZXBpY2tlci5fZ2V0KGluc3QsIFwib25TZWxlY3RcIik7XG5cdFx0XHRcdFx0XHRpZiAob25TZWxlY3QpIHtcblx0XHRcdFx0XHRcdFx0ZGF0ZVN0ciA9ICQuZGF0ZXBpY2tlci5fZm9ybWF0RGF0ZShpbnN0KTtcblxuXHRcdFx0XHRcdFx0XHQvLyB0cmlnZ2VyIGN1c3RvbSBjYWxsYmFja1xuXHRcdFx0XHRcdFx0XHRvblNlbGVjdC5hcHBseSgoaW5zdC5pbnB1dCA/IGluc3QuaW5wdXRbMF0gOiBudWxsKSwgW2RhdGVTdHIsIGluc3RdKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlOyAvLyBkb24ndCBzdWJtaXQgdGhlIGZvcm1cblx0XHRcdFx0Y2FzZSAyNzogJC5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpO1xuXHRcdFx0XHRcdFx0YnJlYWs7IC8vIGhpZGUgb24gZXNjYXBlXG5cdFx0XHRcdGNhc2UgMzM6ICQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShldmVudC50YXJnZXQsIChldmVudC5jdHJsS2V5ID9cblx0XHRcdFx0XHRcdFx0LSQuZGF0ZXBpY2tlci5fZ2V0KGluc3QsIFwic3RlcEJpZ01vbnRoc1wiKSA6XG5cdFx0XHRcdFx0XHRcdC0kLmRhdGVwaWNrZXIuX2dldChpbnN0LCBcInN0ZXBNb250aHNcIikpLCBcIk1cIik7XG5cdFx0XHRcdFx0XHRicmVhazsgLy8gcHJldmlvdXMgbW9udGgveWVhciBvbiBwYWdlIHVwLysgY3RybFxuXHRcdFx0XHRjYXNlIDM0OiAkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoZXZlbnQudGFyZ2V0LCAoZXZlbnQuY3RybEtleSA/XG5cdFx0XHRcdFx0XHRcdCskLmRhdGVwaWNrZXIuX2dldChpbnN0LCBcInN0ZXBCaWdNb250aHNcIikgOlxuXHRcdFx0XHRcdFx0XHQrJC5kYXRlcGlja2VyLl9nZXQoaW5zdCwgXCJzdGVwTW9udGhzXCIpKSwgXCJNXCIpO1xuXHRcdFx0XHRcdFx0YnJlYWs7IC8vIG5leHQgbW9udGgveWVhciBvbiBwYWdlIGRvd24vKyBjdHJsXG5cdFx0XHRcdGNhc2UgMzU6IGlmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpIHtcblx0XHRcdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9jbGVhckRhdGUoZXZlbnQudGFyZ2V0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGhhbmRsZWQgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG5cdFx0XHRcdFx0XHRicmVhazsgLy8gY2xlYXIgb24gY3RybCBvciBjb21tYW5kICtlbmRcblx0XHRcdFx0Y2FzZSAzNjogaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkge1xuXHRcdFx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2dvdG9Ub2RheShldmVudC50YXJnZXQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aGFuZGxlZCA9IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleTtcblx0XHRcdFx0XHRcdGJyZWFrOyAvLyBjdXJyZW50IG9uIGN0cmwgb3IgY29tbWFuZCAraG9tZVxuXHRcdFx0XHRjYXNlIDM3OiBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSB7XG5cdFx0XHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShldmVudC50YXJnZXQsIChpc1JUTCA/ICsxIDogLTEpLCBcIkRcIik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRoYW5kbGVkID0gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5O1xuXHRcdFx0XHRcdFx0Ly8gLTEgZGF5IG9uIGN0cmwgb3IgY29tbWFuZCArbGVmdFxuXHRcdFx0XHRcdFx0aWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQuYWx0S2V5KSB7XG5cdFx0XHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShldmVudC50YXJnZXQsIChldmVudC5jdHJsS2V5ID9cblx0XHRcdFx0XHRcdFx0XHQtJC5kYXRlcGlja2VyLl9nZXQoaW5zdCwgXCJzdGVwQmlnTW9udGhzXCIpIDpcblx0XHRcdFx0XHRcdFx0XHQtJC5kYXRlcGlja2VyLl9nZXQoaW5zdCwgXCJzdGVwTW9udGhzXCIpKSwgXCJNXCIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Ly8gbmV4dCBtb250aC95ZWFyIG9uIGFsdCArbGVmdCBvbiBNYWNcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDM4OiBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSB7XG5cdFx0XHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShldmVudC50YXJnZXQsIC03LCBcIkRcIik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRoYW5kbGVkID0gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5O1xuXHRcdFx0XHRcdFx0YnJlYWs7IC8vIC0xIHdlZWsgb24gY3RybCBvciBjb21tYW5kICt1cFxuXHRcdFx0XHRjYXNlIDM5OiBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSB7XG5cdFx0XHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShldmVudC50YXJnZXQsIChpc1JUTCA/IC0xIDogKzEpLCBcIkRcIik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRoYW5kbGVkID0gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5O1xuXHRcdFx0XHRcdFx0Ly8gKzEgZGF5IG9uIGN0cmwgb3IgY29tbWFuZCArcmlnaHRcblx0XHRcdFx0XHRcdGlmIChldmVudC5vcmlnaW5hbEV2ZW50LmFsdEtleSkge1xuXHRcdFx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoZXZlbnQudGFyZ2V0LCAoZXZlbnQuY3RybEtleSA/XG5cdFx0XHRcdFx0XHRcdFx0KyQuZGF0ZXBpY2tlci5fZ2V0KGluc3QsIFwic3RlcEJpZ01vbnRoc1wiKSA6XG5cdFx0XHRcdFx0XHRcdFx0KyQuZGF0ZXBpY2tlci5fZ2V0KGluc3QsIFwic3RlcE1vbnRoc1wiKSksIFwiTVwiKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdC8vIG5leHQgbW9udGgveWVhciBvbiBhbHQgK3JpZ2h0XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSA0MDogaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkge1xuXHRcdFx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoZXZlbnQudGFyZ2V0LCArNywgXCJEXCIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aGFuZGxlZCA9IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleTtcblx0XHRcdFx0XHRcdGJyZWFrOyAvLyArMSB3ZWVrIG9uIGN0cmwgb3IgY29tbWFuZCArZG93blxuXHRcdFx0XHRkZWZhdWx0OiBoYW5kbGVkID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSAzNiAmJiBldmVudC5jdHJsS2V5KSB7IC8vIGRpc3BsYXkgdGhlIGRhdGUgcGlja2VyIG9uIGN0cmwraG9tZVxuXHRcdFx0JC5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aGFuZGxlZCA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChoYW5kbGVkKSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIEZpbHRlciBlbnRlcmVkIGNoYXJhY3RlcnMgLSBiYXNlZCBvbiBkYXRlIGZvcm1hdC4gKi9cblx0X2RvS2V5UHJlc3M6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIGNoYXJzLCBjaHIsXG5cdFx0XHRpbnN0ID0gJC5kYXRlcGlja2VyLl9nZXRJbnN0KGV2ZW50LnRhcmdldCk7XG5cblx0XHRpZiAoJC5kYXRlcGlja2VyLl9nZXQoaW5zdCwgXCJjb25zdHJhaW5JbnB1dFwiKSkge1xuXHRcdFx0Y2hhcnMgPSAkLmRhdGVwaWNrZXIuX3Bvc3NpYmxlQ2hhcnMoJC5kYXRlcGlja2VyLl9nZXQoaW5zdCwgXCJkYXRlRm9ybWF0XCIpKTtcblx0XHRcdGNociA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZXZlbnQuY2hhckNvZGUgPT0gbnVsbCA/IGV2ZW50LmtleUNvZGUgOiBldmVudC5jaGFyQ29kZSk7XG5cdFx0XHRyZXR1cm4gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5IHx8IChjaHIgPCBcIiBcIiB8fCAhY2hhcnMgfHwgY2hhcnMuaW5kZXhPZihjaHIpID4gLTEpO1xuXHRcdH1cblx0fSxcblxuXHQvKiBTeW5jaHJvbmlzZSBtYW51YWwgZW50cnkgYW5kIGZpZWxkL2FsdGVybmF0ZSBmaWVsZC4gKi9cblx0X2RvS2V5VXA6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIGRhdGUsXG5cdFx0XHRpbnN0ID0gJC5kYXRlcGlja2VyLl9nZXRJbnN0KGV2ZW50LnRhcmdldCk7XG5cblx0XHRpZiAoaW5zdC5pbnB1dC52YWwoKSAhPT0gaW5zdC5sYXN0VmFsKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkYXRlID0gJC5kYXRlcGlja2VyLnBhcnNlRGF0ZSgkLmRhdGVwaWNrZXIuX2dldChpbnN0LCBcImRhdGVGb3JtYXRcIiksXG5cdFx0XHRcdFx0KGluc3QuaW5wdXQgPyBpbnN0LmlucHV0LnZhbCgpIDogbnVsbCksXG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9nZXRGb3JtYXRDb25maWcoaW5zdCkpO1xuXG5cdFx0XHRcdGlmIChkYXRlKSB7IC8vIG9ubHkgaWYgdmFsaWRcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX3NldERhdGVGcm9tRmllbGQoaW5zdCk7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl91cGRhdGVBbHRlcm5hdGUoaW5zdCk7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl91cGRhdGVEYXRlcGlja2VyKGluc3QpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRjYXRjaCAoZXJyKSB7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdC8qIFBvcC11cCB0aGUgZGF0ZSBwaWNrZXIgZm9yIGEgZ2l2ZW4gaW5wdXQgZmllbGQuXG5cdCAqIElmIGZhbHNlIHJldHVybmVkIGZyb20gYmVmb3JlU2hvdyBldmVudCBoYW5kbGVyIGRvIG5vdCBzaG93LlxuXHQgKiBAcGFyYW0gIGlucHV0ICBlbGVtZW50IC0gdGhlIGlucHV0IGZpZWxkIGF0dGFjaGVkIHRvIHRoZSBkYXRlIHBpY2tlciBvclxuXHQgKlx0XHRcdFx0XHRldmVudCAtIGlmIHRyaWdnZXJlZCBieSBmb2N1c1xuXHQgKi9cblx0X3Nob3dEYXRlcGlja2VyOiBmdW5jdGlvbihpbnB1dCkge1xuXHRcdGlucHV0ID0gaW5wdXQudGFyZ2V0IHx8IGlucHV0O1xuXHRcdGlmIChpbnB1dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcImlucHV0XCIpIHsgLy8gZmluZCBmcm9tIGJ1dHRvbi9pbWFnZSB0cmlnZ2VyXG5cdFx0XHRpbnB1dCA9ICQoXCJpbnB1dFwiLCBpbnB1dC5wYXJlbnROb2RlKVswXTtcblx0XHR9XG5cblx0XHRpZiAoJC5kYXRlcGlja2VyLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihpbnB1dCkgfHwgJC5kYXRlcGlja2VyLl9sYXN0SW5wdXQgPT09IGlucHV0KSB7IC8vIGFscmVhZHkgaGVyZVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBpbnN0LCBiZWZvcmVTaG93LCBiZWZvcmVTaG93U2V0dGluZ3MsIGlzRml4ZWQsXG5cdFx0XHRvZmZzZXQsIHNob3dBbmltLCBkdXJhdGlvbjtcblxuXHRcdGluc3QgPSAkLmRhdGVwaWNrZXIuX2dldEluc3QoaW5wdXQpO1xuXHRcdGlmICgkLmRhdGVwaWNrZXIuX2N1ckluc3QgJiYgJC5kYXRlcGlja2VyLl9jdXJJbnN0ICE9PSBpbnN0KSB7XG5cdFx0XHQkLmRhdGVwaWNrZXIuX2N1ckluc3QuZHBEaXYuc3RvcCh0cnVlLCB0cnVlKTtcblx0XHRcdGlmICggaW5zdCAmJiAkLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nICkge1xuXHRcdFx0XHQkLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCAkLmRhdGVwaWNrZXIuX2N1ckluc3QuaW5wdXRbMF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRiZWZvcmVTaG93ID0gJC5kYXRlcGlja2VyLl9nZXQoaW5zdCwgXCJiZWZvcmVTaG93XCIpO1xuXHRcdGJlZm9yZVNob3dTZXR0aW5ncyA9IGJlZm9yZVNob3cgPyBiZWZvcmVTaG93LmFwcGx5KGlucHV0LCBbaW5wdXQsIGluc3RdKSA6IHt9O1xuXHRcdGlmKGJlZm9yZVNob3dTZXR0aW5ncyA9PT0gZmFsc2Upe1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRkYXRlcGlja2VyX2V4dGVuZFJlbW92ZShpbnN0LnNldHRpbmdzLCBiZWZvcmVTaG93U2V0dGluZ3MpO1xuXG5cdFx0aW5zdC5sYXN0VmFsID0gbnVsbDtcblx0XHQkLmRhdGVwaWNrZXIuX2xhc3RJbnB1dCA9IGlucHV0O1xuXHRcdCQuZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChpbnN0KTtcblxuXHRcdGlmICgkLmRhdGVwaWNrZXIuX2luRGlhbG9nKSB7IC8vIGhpZGUgY3Vyc29yXG5cdFx0XHRpbnB1dC52YWx1ZSA9IFwiXCI7XG5cdFx0fVxuXHRcdGlmICghJC5kYXRlcGlja2VyLl9wb3MpIHsgLy8gcG9zaXRpb24gYmVsb3cgaW5wdXRcblx0XHRcdCQuZGF0ZXBpY2tlci5fcG9zID0gJC5kYXRlcGlja2VyLl9maW5kUG9zKGlucHV0KTtcblx0XHRcdCQuZGF0ZXBpY2tlci5fcG9zWzFdICs9IGlucHV0Lm9mZnNldEhlaWdodDsgLy8gYWRkIHRoZSBoZWlnaHRcblx0XHR9XG5cblx0XHRpc0ZpeGVkID0gZmFsc2U7XG5cdFx0JChpbnB1dCkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRpc0ZpeGVkIHw9ICQodGhpcykuY3NzKFwicG9zaXRpb25cIikgPT09IFwiZml4ZWRcIjtcblx0XHRcdHJldHVybiAhaXNGaXhlZDtcblx0XHR9KTtcblxuXHRcdG9mZnNldCA9IHtsZWZ0OiAkLmRhdGVwaWNrZXIuX3Bvc1swXSwgdG9wOiAkLmRhdGVwaWNrZXIuX3Bvc1sxXX07XG5cdFx0JC5kYXRlcGlja2VyLl9wb3MgPSBudWxsO1xuXHRcdC8vdG8gYXZvaWQgZmxhc2hlcyBvbiBGaXJlZm94XG5cdFx0aW5zdC5kcERpdi5lbXB0eSgpO1xuXHRcdC8vIGRldGVybWluZSBzaXppbmcgb2Zmc2NyZWVuXG5cdFx0aW5zdC5kcERpdi5jc3Moe3Bvc2l0aW9uOiBcImFic29sdXRlXCIsIGRpc3BsYXk6IFwiYmxvY2tcIiwgdG9wOiBcIi0xMDAwcHhcIn0pO1xuXHRcdCQuZGF0ZXBpY2tlci5fdXBkYXRlRGF0ZXBpY2tlcihpbnN0KTtcblx0XHQvLyBmaXggd2lkdGggZm9yIGR5bmFtaWMgbnVtYmVyIG9mIGRhdGUgcGlja2Vyc1xuXHRcdC8vIGFuZCBhZGp1c3QgcG9zaXRpb24gYmVmb3JlIHNob3dpbmdcblx0XHRvZmZzZXQgPSAkLmRhdGVwaWNrZXIuX2NoZWNrT2Zmc2V0KGluc3QsIG9mZnNldCwgaXNGaXhlZCk7XG5cdFx0aW5zdC5kcERpdi5jc3Moe3Bvc2l0aW9uOiAoJC5kYXRlcGlja2VyLl9pbkRpYWxvZyAmJiAkLmJsb2NrVUkgP1xuXHRcdFx0XCJzdGF0aWNcIiA6IChpc0ZpeGVkID8gXCJmaXhlZFwiIDogXCJhYnNvbHV0ZVwiKSksIGRpc3BsYXk6IFwibm9uZVwiLFxuXHRcdFx0bGVmdDogb2Zmc2V0LmxlZnQgKyBcInB4XCIsIHRvcDogb2Zmc2V0LnRvcCArIFwicHhcIn0pO1xuXG5cdFx0aWYgKCFpbnN0LmlubGluZSkge1xuXHRcdFx0c2hvd0FuaW0gPSAkLmRhdGVwaWNrZXIuX2dldChpbnN0LCBcInNob3dBbmltXCIpO1xuXHRcdFx0ZHVyYXRpb24gPSAkLmRhdGVwaWNrZXIuX2dldChpbnN0LCBcImR1cmF0aW9uXCIpO1xuXHRcdFx0aW5zdC5kcERpdi5jc3MoIFwiei1pbmRleFwiLCBkYXRlcGlja2VyX2dldFppbmRleCggJCggaW5wdXQgKSApICsgMSApO1xuXHRcdFx0JC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyA9IHRydWU7XG5cblx0XHRcdGlmICggJC5lZmZlY3RzICYmICQuZWZmZWN0cy5lZmZlY3RbIHNob3dBbmltIF0gKSB7XG5cdFx0XHRcdGluc3QuZHBEaXYuc2hvdyhzaG93QW5pbSwgJC5kYXRlcGlja2VyLl9nZXQoaW5zdCwgXCJzaG93T3B0aW9uc1wiKSwgZHVyYXRpb24pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aW5zdC5kcERpdltzaG93QW5pbSB8fCBcInNob3dcIl0oc2hvd0FuaW0gPyBkdXJhdGlvbiA6IG51bGwpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICQuZGF0ZXBpY2tlci5fc2hvdWxkRm9jdXNJbnB1dCggaW5zdCApICkge1xuXHRcdFx0XHRpbnN0LmlucHV0LmZvY3VzKCk7XG5cdFx0XHR9XG5cblx0XHRcdCQuZGF0ZXBpY2tlci5fY3VySW5zdCA9IGluc3Q7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIEdlbmVyYXRlIHRoZSBkYXRlIHBpY2tlciBjb250ZW50LiAqL1xuXHRfdXBkYXRlRGF0ZXBpY2tlcjogZnVuY3Rpb24oaW5zdCkge1xuXHRcdHRoaXMubWF4Um93cyA9IDQ7IC8vUmVzZXQgdGhlIG1heCBudW1iZXIgb2Ygcm93cyBiZWluZyBkaXNwbGF5ZWQgKHNlZSAjNzA0Mylcblx0XHRkYXRlcGlja2VyX2luc3RBY3RpdmUgPSBpbnN0OyAvLyBmb3IgZGVsZWdhdGUgaG92ZXIgZXZlbnRzXG5cdFx0aW5zdC5kcERpdi5lbXB0eSgpLmFwcGVuZCh0aGlzLl9nZW5lcmF0ZUhUTUwoaW5zdCkpO1xuXHRcdHRoaXMuX2F0dGFjaEhhbmRsZXJzKGluc3QpO1xuXG5cdFx0dmFyIG9yaWd5ZWFyc2h0bWwsXG5cdFx0XHRudW1Nb250aHMgPSB0aGlzLl9nZXROdW1iZXJPZk1vbnRocyhpbnN0KSxcblx0XHRcdGNvbHMgPSBudW1Nb250aHNbMV0sXG5cdFx0XHR3aWR0aCA9IDE3LFxuXHRcdFx0YWN0aXZlQ2VsbCA9IGluc3QuZHBEaXYuZmluZCggXCIuXCIgKyB0aGlzLl9kYXlPdmVyQ2xhc3MgKyBcIiBhXCIgKTtcblxuXHRcdGlmICggYWN0aXZlQ2VsbC5sZW5ndGggPiAwICkge1xuXHRcdFx0ZGF0ZXBpY2tlcl9oYW5kbGVNb3VzZW92ZXIuYXBwbHkoIGFjdGl2ZUNlbGwuZ2V0KCAwICkgKTtcblx0XHR9XG5cblx0XHRpbnN0LmRwRGl2LnJlbW92ZUNsYXNzKFwidWktZGF0ZXBpY2tlci1tdWx0aS0yIHVpLWRhdGVwaWNrZXItbXVsdGktMyB1aS1kYXRlcGlja2VyLW11bHRpLTRcIikud2lkdGgoXCJcIik7XG5cdFx0aWYgKGNvbHMgPiAxKSB7XG5cdFx0XHRpbnN0LmRwRGl2LmFkZENsYXNzKFwidWktZGF0ZXBpY2tlci1tdWx0aS1cIiArIGNvbHMpLmNzcyhcIndpZHRoXCIsICh3aWR0aCAqIGNvbHMpICsgXCJlbVwiKTtcblx0XHR9XG5cdFx0aW5zdC5kcERpdlsobnVtTW9udGhzWzBdICE9PSAxIHx8IG51bU1vbnRoc1sxXSAhPT0gMSA/IFwiYWRkXCIgOiBcInJlbW92ZVwiKSArXG5cdFx0XHRcIkNsYXNzXCJdKFwidWktZGF0ZXBpY2tlci1tdWx0aVwiKTtcblx0XHRpbnN0LmRwRGl2Wyh0aGlzLl9nZXQoaW5zdCwgXCJpc1JUTFwiKSA/IFwiYWRkXCIgOiBcInJlbW92ZVwiKSArXG5cdFx0XHRcIkNsYXNzXCJdKFwidWktZGF0ZXBpY2tlci1ydGxcIik7XG5cblx0XHRpZiAoaW5zdCA9PT0gJC5kYXRlcGlja2VyLl9jdXJJbnN0ICYmICQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcgJiYgJC5kYXRlcGlja2VyLl9zaG91bGRGb2N1c0lucHV0KCBpbnN0ICkgKSB7XG5cdFx0XHRpbnN0LmlucHV0LmZvY3VzKCk7XG5cdFx0fVxuXG5cdFx0Ly8gZGVmZmVyZWQgcmVuZGVyIG9mIHRoZSB5ZWFycyBzZWxlY3QgKHRvIGF2b2lkIGZsYXNoZXMgb24gRmlyZWZveClcblx0XHRpZiggaW5zdC55ZWFyc2h0bWwgKXtcblx0XHRcdG9yaWd5ZWFyc2h0bWwgPSBpbnN0LnllYXJzaHRtbDtcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0Ly9hc3N1cmUgdGhhdCBpbnN0LnllYXJzaHRtbCBkaWRuJ3QgY2hhbmdlLlxuXHRcdFx0XHRpZiggb3JpZ3llYXJzaHRtbCA9PT0gaW5zdC55ZWFyc2h0bWwgJiYgaW5zdC55ZWFyc2h0bWwgKXtcblx0XHRcdFx0XHRpbnN0LmRwRGl2LmZpbmQoXCJzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyOmZpcnN0XCIpLnJlcGxhY2VXaXRoKGluc3QueWVhcnNodG1sKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRvcmlneWVhcnNodG1sID0gaW5zdC55ZWFyc2h0bWwgPSBudWxsO1xuXHRcdFx0fSwgMCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vICM2Njk0IC0gZG9uJ3QgZm9jdXMgdGhlIGlucHV0IGlmIGl0J3MgYWxyZWFkeSBmb2N1c2VkXG5cdC8vIHRoaXMgYnJlYWtzIHRoZSBjaGFuZ2UgZXZlbnQgaW4gSUVcblx0Ly8gU3VwcG9ydDogSUUgYW5kIGpRdWVyeSA8MS45XG5cdF9zaG91bGRGb2N1c0lucHV0OiBmdW5jdGlvbiggaW5zdCApIHtcblx0XHRyZXR1cm4gaW5zdC5pbnB1dCAmJiBpbnN0LmlucHV0LmlzKCBcIjp2aXNpYmxlXCIgKSAmJiAhaW5zdC5pbnB1dC5pcyggXCI6ZGlzYWJsZWRcIiApICYmICFpbnN0LmlucHV0LmlzKCBcIjpmb2N1c1wiICk7XG5cdH0sXG5cblx0LyogQ2hlY2sgcG9zaXRpb25pbmcgdG8gcmVtYWluIG9uIHNjcmVlbi4gKi9cblx0X2NoZWNrT2Zmc2V0OiBmdW5jdGlvbihpbnN0LCBvZmZzZXQsIGlzRml4ZWQpIHtcblx0XHR2YXIgZHBXaWR0aCA9IGluc3QuZHBEaXYub3V0ZXJXaWR0aCgpLFxuXHRcdFx0ZHBIZWlnaHQgPSBpbnN0LmRwRGl2Lm91dGVySGVpZ2h0KCksXG5cdFx0XHRpbnB1dFdpZHRoID0gaW5zdC5pbnB1dCA/IGluc3QuaW5wdXQub3V0ZXJXaWR0aCgpIDogMCxcblx0XHRcdGlucHV0SGVpZ2h0ID0gaW5zdC5pbnB1dCA/IGluc3QuaW5wdXQub3V0ZXJIZWlnaHQoKSA6IDAsXG5cdFx0XHR2aWV3V2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggKyAoaXNGaXhlZCA/IDAgOiAkKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCkpLFxuXHRcdFx0dmlld0hlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgKyAoaXNGaXhlZCA/IDAgOiAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSk7XG5cblx0XHRvZmZzZXQubGVmdCAtPSAodGhpcy5fZ2V0KGluc3QsIFwiaXNSVExcIikgPyAoZHBXaWR0aCAtIGlucHV0V2lkdGgpIDogMCk7XG5cdFx0b2Zmc2V0LmxlZnQgLT0gKGlzRml4ZWQgJiYgb2Zmc2V0LmxlZnQgPT09IGluc3QuaW5wdXQub2Zmc2V0KCkubGVmdCkgPyAkKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCkgOiAwO1xuXHRcdG9mZnNldC50b3AgLT0gKGlzRml4ZWQgJiYgb2Zmc2V0LnRvcCA9PT0gKGluc3QuaW5wdXQub2Zmc2V0KCkudG9wICsgaW5wdXRIZWlnaHQpKSA/ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpIDogMDtcblxuXHRcdC8vIG5vdyBjaGVjayBpZiBkYXRlcGlja2VyIGlzIHNob3dpbmcgb3V0c2lkZSB3aW5kb3cgdmlld3BvcnQgLSBtb3ZlIHRvIGEgYmV0dGVyIHBsYWNlIGlmIHNvLlxuXHRcdG9mZnNldC5sZWZ0IC09IE1hdGgubWluKG9mZnNldC5sZWZ0LCAob2Zmc2V0LmxlZnQgKyBkcFdpZHRoID4gdmlld1dpZHRoICYmIHZpZXdXaWR0aCA+IGRwV2lkdGgpID9cblx0XHRcdE1hdGguYWJzKG9mZnNldC5sZWZ0ICsgZHBXaWR0aCAtIHZpZXdXaWR0aCkgOiAwKTtcblx0XHRvZmZzZXQudG9wIC09IE1hdGgubWluKG9mZnNldC50b3AsIChvZmZzZXQudG9wICsgZHBIZWlnaHQgPiB2aWV3SGVpZ2h0ICYmIHZpZXdIZWlnaHQgPiBkcEhlaWdodCkgP1xuXHRcdFx0TWF0aC5hYnMoZHBIZWlnaHQgKyBpbnB1dEhlaWdodCkgOiAwKTtcblxuXHRcdHJldHVybiBvZmZzZXQ7XG5cdH0sXG5cblx0LyogRmluZCBhbiBvYmplY3QncyBwb3NpdGlvbiBvbiB0aGUgc2NyZWVuLiAqL1xuXHRfZmluZFBvczogZnVuY3Rpb24ob2JqKSB7XG5cdFx0dmFyIHBvc2l0aW9uLFxuXHRcdFx0aW5zdCA9IHRoaXMuX2dldEluc3Qob2JqKSxcblx0XHRcdGlzUlRMID0gdGhpcy5fZ2V0KGluc3QsIFwiaXNSVExcIik7XG5cblx0XHR3aGlsZSAob2JqICYmIChvYmoudHlwZSA9PT0gXCJoaWRkZW5cIiB8fCBvYmoubm9kZVR5cGUgIT09IDEgfHwgJC5leHByLmZpbHRlcnMuaGlkZGVuKG9iaikpKSB7XG5cdFx0XHRvYmogPSBvYmpbaXNSVEwgPyBcInByZXZpb3VzU2libGluZ1wiIDogXCJuZXh0U2libGluZ1wiXTtcblx0XHR9XG5cblx0XHRwb3NpdGlvbiA9ICQob2JqKS5vZmZzZXQoKTtcblx0XHRyZXR1cm4gW3Bvc2l0aW9uLmxlZnQsIHBvc2l0aW9uLnRvcF07XG5cdH0sXG5cblx0LyogSGlkZSB0aGUgZGF0ZSBwaWNrZXIgZnJvbSB2aWV3LlxuXHQgKiBAcGFyYW0gIGlucHV0ICBlbGVtZW50IC0gdGhlIGlucHV0IGZpZWxkIGF0dGFjaGVkIHRvIHRoZSBkYXRlIHBpY2tlclxuXHQgKi9cblx0X2hpZGVEYXRlcGlja2VyOiBmdW5jdGlvbihpbnB1dCkge1xuXHRcdHZhciBzaG93QW5pbSwgZHVyYXRpb24sIHBvc3RQcm9jZXNzLCBvbkNsb3NlLFxuXHRcdFx0aW5zdCA9IHRoaXMuX2N1ckluc3Q7XG5cblx0XHRpZiAoIWluc3QgfHwgKGlucHV0ICYmIGluc3QgIT09ICQuZGF0YShpbnB1dCwgXCJkYXRlcGlja2VyXCIpKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9kYXRlcGlja2VyU2hvd2luZykge1xuXHRcdFx0c2hvd0FuaW0gPSB0aGlzLl9nZXQoaW5zdCwgXCJzaG93QW5pbVwiKTtcblx0XHRcdGR1cmF0aW9uID0gdGhpcy5fZ2V0KGluc3QsIFwiZHVyYXRpb25cIik7XG5cdFx0XHRwb3N0UHJvY2VzcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkLmRhdGVwaWNrZXIuX3RpZHlEaWFsb2coaW5zdCk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBERVBSRUNBVEVEOiBhZnRlciBCQyBmb3IgMS44LnggJC5lZmZlY3RzWyBzaG93QW5pbSBdIGlzIG5vdCBuZWVkZWRcblx0XHRcdGlmICggJC5lZmZlY3RzICYmICggJC5lZmZlY3RzLmVmZmVjdFsgc2hvd0FuaW0gXSB8fCAkLmVmZmVjdHNbIHNob3dBbmltIF0gKSApIHtcblx0XHRcdFx0aW5zdC5kcERpdi5oaWRlKHNob3dBbmltLCAkLmRhdGVwaWNrZXIuX2dldChpbnN0LCBcInNob3dPcHRpb25zXCIpLCBkdXJhdGlvbiwgcG9zdFByb2Nlc3MpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aW5zdC5kcERpdlsoc2hvd0FuaW0gPT09IFwic2xpZGVEb3duXCIgPyBcInNsaWRlVXBcIiA6XG5cdFx0XHRcdFx0KHNob3dBbmltID09PSBcImZhZGVJblwiID8gXCJmYWRlT3V0XCIgOiBcImhpZGVcIikpXSgoc2hvd0FuaW0gPyBkdXJhdGlvbiA6IG51bGwpLCBwb3N0UHJvY2Vzcyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghc2hvd0FuaW0pIHtcblx0XHRcdFx0cG9zdFByb2Nlc3MoKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nID0gZmFsc2U7XG5cblx0XHRcdG9uQ2xvc2UgPSB0aGlzLl9nZXQoaW5zdCwgXCJvbkNsb3NlXCIpO1xuXHRcdFx0aWYgKG9uQ2xvc2UpIHtcblx0XHRcdFx0b25DbG9zZS5hcHBseSgoaW5zdC5pbnB1dCA/IGluc3QuaW5wdXRbMF0gOiBudWxsKSwgWyhpbnN0LmlucHV0ID8gaW5zdC5pbnB1dC52YWwoKSA6IFwiXCIpLCBpbnN0XSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX2xhc3RJbnB1dCA9IG51bGw7XG5cdFx0XHRpZiAodGhpcy5faW5EaWFsb2cpIHtcblx0XHRcdFx0dGhpcy5fZGlhbG9nSW5wdXQuY3NzKHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgbGVmdDogXCIwXCIsIHRvcDogXCItMTAwcHhcIiB9KTtcblx0XHRcdFx0aWYgKCQuYmxvY2tVSSkge1xuXHRcdFx0XHRcdCQudW5ibG9ja1VJKCk7XG5cdFx0XHRcdFx0JChcImJvZHlcIikuYXBwZW5kKHRoaXMuZHBEaXYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9pbkRpYWxvZyA9IGZhbHNlO1xuXHRcdH1cblx0fSxcblxuXHQvKiBUaWR5IHVwIGFmdGVyIGEgZGlhbG9nIGRpc3BsYXkuICovXG5cdF90aWR5RGlhbG9nOiBmdW5jdGlvbihpbnN0KSB7XG5cdFx0aW5zdC5kcERpdi5yZW1vdmVDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcykudW5iaW5kKFwiLnVpLWRhdGVwaWNrZXItY2FsZW5kYXJcIik7XG5cdH0sXG5cblx0LyogQ2xvc2UgZGF0ZSBwaWNrZXIgaWYgY2xpY2tlZCBlbHNld2hlcmUuICovXG5cdF9jaGVja0V4dGVybmFsQ2xpY2s6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0aWYgKCEkLmRhdGVwaWNrZXIuX2N1ckluc3QpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgJHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KSxcblx0XHRcdGluc3QgPSAkLmRhdGVwaWNrZXIuX2dldEluc3QoJHRhcmdldFswXSk7XG5cblx0XHRpZiAoICggKCAkdGFyZ2V0WzBdLmlkICE9PSAkLmRhdGVwaWNrZXIuX21haW5EaXZJZCAmJlxuXHRcdFx0XHQkdGFyZ2V0LnBhcmVudHMoXCIjXCIgKyAkLmRhdGVwaWNrZXIuX21haW5EaXZJZCkubGVuZ3RoID09PSAwICYmXG5cdFx0XHRcdCEkdGFyZ2V0Lmhhc0NsYXNzKCQuZGF0ZXBpY2tlci5tYXJrZXJDbGFzc05hbWUpICYmXG5cdFx0XHRcdCEkdGFyZ2V0LmNsb3Nlc3QoXCIuXCIgKyAkLmRhdGVwaWNrZXIuX3RyaWdnZXJDbGFzcykubGVuZ3RoICYmXG5cdFx0XHRcdCQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcgJiYgISgkLmRhdGVwaWNrZXIuX2luRGlhbG9nICYmICQuYmxvY2tVSSkgKSApIHx8XG5cdFx0XHQoICR0YXJnZXQuaGFzQ2xhc3MoJC5kYXRlcGlja2VyLm1hcmtlckNsYXNzTmFtZSkgJiYgJC5kYXRlcGlja2VyLl9jdXJJbnN0ICE9PSBpbnN0ICkgKSB7XG5cdFx0XHRcdCQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTtcblx0XHR9XG5cdH0sXG5cblx0LyogQWRqdXN0IG9uZSBvZiB0aGUgZGF0ZSBzdWItZmllbGRzLiAqL1xuXHRfYWRqdXN0RGF0ZTogZnVuY3Rpb24oaWQsIG9mZnNldCwgcGVyaW9kKSB7XG5cdFx0dmFyIHRhcmdldCA9ICQoaWQpLFxuXHRcdFx0aW5zdCA9IHRoaXMuX2dldEluc3QodGFyZ2V0WzBdKTtcblxuXHRcdGlmICh0aGlzLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcih0YXJnZXRbMF0pKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuX2FkanVzdEluc3REYXRlKGluc3QsIG9mZnNldCArXG5cdFx0XHQocGVyaW9kID09PSBcIk1cIiA/IHRoaXMuX2dldChpbnN0LCBcInNob3dDdXJyZW50QXRQb3NcIikgOiAwKSwgLy8gdW5kbyBwb3NpdGlvbmluZ1xuXHRcdFx0cGVyaW9kKTtcblx0XHR0aGlzLl91cGRhdGVEYXRlcGlja2VyKGluc3QpO1xuXHR9LFxuXG5cdC8qIEFjdGlvbiBmb3IgY3VycmVudCBsaW5rLiAqL1xuXHRfZ290b1RvZGF5OiBmdW5jdGlvbihpZCkge1xuXHRcdHZhciBkYXRlLFxuXHRcdFx0dGFyZ2V0ID0gJChpZCksXG5cdFx0XHRpbnN0ID0gdGhpcy5fZ2V0SW5zdCh0YXJnZXRbMF0pO1xuXG5cdFx0aWYgKHRoaXMuX2dldChpbnN0LCBcImdvdG9DdXJyZW50XCIpICYmIGluc3QuY3VycmVudERheSkge1xuXHRcdFx0aW5zdC5zZWxlY3RlZERheSA9IGluc3QuY3VycmVudERheTtcblx0XHRcdGluc3QuZHJhd01vbnRoID0gaW5zdC5zZWxlY3RlZE1vbnRoID0gaW5zdC5jdXJyZW50TW9udGg7XG5cdFx0XHRpbnN0LmRyYXdZZWFyID0gaW5zdC5zZWxlY3RlZFllYXIgPSBpbnN0LmN1cnJlbnRZZWFyO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRlID0gbmV3IERhdGUoKTtcblx0XHRcdGluc3Quc2VsZWN0ZWREYXkgPSBkYXRlLmdldERhdGUoKTtcblx0XHRcdGluc3QuZHJhd01vbnRoID0gaW5zdC5zZWxlY3RlZE1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuXHRcdFx0aW5zdC5kcmF3WWVhciA9IGluc3Quc2VsZWN0ZWRZZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdH1cblx0XHR0aGlzLl9ub3RpZnlDaGFuZ2UoaW5zdCk7XG5cdFx0dGhpcy5fYWRqdXN0RGF0ZSh0YXJnZXQpO1xuXHR9LFxuXG5cdC8qIEFjdGlvbiBmb3Igc2VsZWN0aW5nIGEgbmV3IG1vbnRoL3llYXIuICovXG5cdF9zZWxlY3RNb250aFllYXI6IGZ1bmN0aW9uKGlkLCBzZWxlY3QsIHBlcmlvZCkge1xuXHRcdHZhciB0YXJnZXQgPSAkKGlkKSxcblx0XHRcdGluc3QgPSB0aGlzLl9nZXRJbnN0KHRhcmdldFswXSk7XG5cblx0XHRpbnN0W1wic2VsZWN0ZWRcIiArIChwZXJpb2QgPT09IFwiTVwiID8gXCJNb250aFwiIDogXCJZZWFyXCIpXSA9XG5cdFx0aW5zdFtcImRyYXdcIiArIChwZXJpb2QgPT09IFwiTVwiID8gXCJNb250aFwiIDogXCJZZWFyXCIpXSA9XG5cdFx0XHRwYXJzZUludChzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF0udmFsdWUsMTApO1xuXG5cdFx0dGhpcy5fbm90aWZ5Q2hhbmdlKGluc3QpO1xuXHRcdHRoaXMuX2FkanVzdERhdGUodGFyZ2V0KTtcblx0fSxcblxuXHQvKiBBY3Rpb24gZm9yIHNlbGVjdGluZyBhIGRheS4gKi9cblx0X3NlbGVjdERheTogZnVuY3Rpb24oaWQsIG1vbnRoLCB5ZWFyLCB0ZCkge1xuXHRcdHZhciBpbnN0LFxuXHRcdFx0dGFyZ2V0ID0gJChpZCk7XG5cblx0XHRpZiAoJCh0ZCkuaGFzQ2xhc3ModGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MpIHx8IHRoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKHRhcmdldFswXSkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpbnN0ID0gdGhpcy5fZ2V0SW5zdCh0YXJnZXRbMF0pO1xuXHRcdGluc3Quc2VsZWN0ZWREYXkgPSBpbnN0LmN1cnJlbnREYXkgPSAkKFwiYVwiLCB0ZCkuaHRtbCgpO1xuXHRcdGluc3Quc2VsZWN0ZWRNb250aCA9IGluc3QuY3VycmVudE1vbnRoID0gbW9udGg7XG5cdFx0aW5zdC5zZWxlY3RlZFllYXIgPSBpbnN0LmN1cnJlbnRZZWFyID0geWVhcjtcblx0XHR0aGlzLl9zZWxlY3REYXRlKGlkLCB0aGlzLl9mb3JtYXREYXRlKGluc3QsXG5cdFx0XHRpbnN0LmN1cnJlbnREYXksIGluc3QuY3VycmVudE1vbnRoLCBpbnN0LmN1cnJlbnRZZWFyKSk7XG5cdH0sXG5cblx0LyogRXJhc2UgdGhlIGlucHV0IGZpZWxkIGFuZCBoaWRlIHRoZSBkYXRlIHBpY2tlci4gKi9cblx0X2NsZWFyRGF0ZTogZnVuY3Rpb24oaWQpIHtcblx0XHR2YXIgdGFyZ2V0ID0gJChpZCk7XG5cdFx0dGhpcy5fc2VsZWN0RGF0ZSh0YXJnZXQsIFwiXCIpO1xuXHR9LFxuXG5cdC8qIFVwZGF0ZSB0aGUgaW5wdXQgZmllbGQgd2l0aCB0aGUgc2VsZWN0ZWQgZGF0ZS4gKi9cblx0X3NlbGVjdERhdGU6IGZ1bmN0aW9uKGlkLCBkYXRlU3RyKSB7XG5cdFx0dmFyIG9uU2VsZWN0LFxuXHRcdFx0dGFyZ2V0ID0gJChpZCksXG5cdFx0XHRpbnN0ID0gdGhpcy5fZ2V0SW5zdCh0YXJnZXRbMF0pO1xuXG5cdFx0ZGF0ZVN0ciA9IChkYXRlU3RyICE9IG51bGwgPyBkYXRlU3RyIDogdGhpcy5fZm9ybWF0RGF0ZShpbnN0KSk7XG5cdFx0aWYgKGluc3QuaW5wdXQpIHtcblx0XHRcdGluc3QuaW5wdXQudmFsKGRhdGVTdHIpO1xuXHRcdH1cblx0XHR0aGlzLl91cGRhdGVBbHRlcm5hdGUoaW5zdCk7XG5cblx0XHRvblNlbGVjdCA9IHRoaXMuX2dldChpbnN0LCBcIm9uU2VsZWN0XCIpO1xuXHRcdGlmIChvblNlbGVjdCkge1xuXHRcdFx0b25TZWxlY3QuYXBwbHkoKGluc3QuaW5wdXQgPyBpbnN0LmlucHV0WzBdIDogbnVsbCksIFtkYXRlU3RyLCBpbnN0XSk7ICAvLyB0cmlnZ2VyIGN1c3RvbSBjYWxsYmFja1xuXHRcdH0gZWxzZSBpZiAoaW5zdC5pbnB1dCkge1xuXHRcdFx0aW5zdC5pbnB1dC50cmlnZ2VyKFwiY2hhbmdlXCIpOyAvLyBmaXJlIHRoZSBjaGFuZ2UgZXZlbnRcblx0XHR9XG5cblx0XHRpZiAoaW5zdC5pbmxpbmUpe1xuXHRcdFx0dGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihpbnN0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5faGlkZURhdGVwaWNrZXIoKTtcblx0XHRcdHRoaXMuX2xhc3RJbnB1dCA9IGluc3QuaW5wdXRbMF07XG5cdFx0XHRpZiAodHlwZW9mKGluc3QuaW5wdXRbMF0pICE9PSBcIm9iamVjdFwiKSB7XG5cdFx0XHRcdGluc3QuaW5wdXQuZm9jdXMoKTsgLy8gcmVzdG9yZSBmb2N1c1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fbGFzdElucHV0ID0gbnVsbDtcblx0XHR9XG5cdH0sXG5cblx0LyogVXBkYXRlIGFueSBhbHRlcm5hdGUgZmllbGQgdG8gc3luY2hyb25pc2Ugd2l0aCB0aGUgbWFpbiBmaWVsZC4gKi9cblx0X3VwZGF0ZUFsdGVybmF0ZTogZnVuY3Rpb24oaW5zdCkge1xuXHRcdHZhciBhbHRGb3JtYXQsIGRhdGUsIGRhdGVTdHIsXG5cdFx0XHRhbHRGaWVsZCA9IHRoaXMuX2dldChpbnN0LCBcImFsdEZpZWxkXCIpO1xuXG5cdFx0aWYgKGFsdEZpZWxkKSB7IC8vIHVwZGF0ZSBhbHRlcm5hdGUgZmllbGQgdG9vXG5cdFx0XHRhbHRGb3JtYXQgPSB0aGlzLl9nZXQoaW5zdCwgXCJhbHRGb3JtYXRcIikgfHwgdGhpcy5fZ2V0KGluc3QsIFwiZGF0ZUZvcm1hdFwiKTtcblx0XHRcdGRhdGUgPSB0aGlzLl9nZXREYXRlKGluc3QpO1xuXHRcdFx0ZGF0ZVN0ciA9IHRoaXMuZm9ybWF0RGF0ZShhbHRGb3JtYXQsIGRhdGUsIHRoaXMuX2dldEZvcm1hdENvbmZpZyhpbnN0KSk7XG5cdFx0XHQkKGFsdEZpZWxkKS5lYWNoKGZ1bmN0aW9uKCkgeyAkKHRoaXMpLnZhbChkYXRlU3RyKTsgfSk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIFNldCBhcyBiZWZvcmVTaG93RGF5IGZ1bmN0aW9uIHRvIHByZXZlbnQgc2VsZWN0aW9uIG9mIHdlZWtlbmRzLlxuXHQgKiBAcGFyYW0gIGRhdGUgIERhdGUgLSB0aGUgZGF0ZSB0byBjdXN0b21pc2Vcblx0ICogQHJldHVybiBbYm9vbGVhbiwgc3RyaW5nXSAtIGlzIHRoaXMgZGF0ZSBzZWxlY3RhYmxlPywgd2hhdCBpcyBpdHMgQ1NTIGNsYXNzP1xuXHQgKi9cblx0bm9XZWVrZW5kczogZnVuY3Rpb24oZGF0ZSkge1xuXHRcdHZhciBkYXkgPSBkYXRlLmdldERheSgpO1xuXHRcdHJldHVybiBbKGRheSA+IDAgJiYgZGF5IDwgNiksIFwiXCJdO1xuXHR9LFxuXG5cdC8qIFNldCBhcyBjYWxjdWxhdGVXZWVrIHRvIGRldGVybWluZSB0aGUgd2VlayBvZiB0aGUgeWVhciBiYXNlZCBvbiB0aGUgSVNPIDg2MDEgZGVmaW5pdGlvbi5cblx0ICogQHBhcmFtICBkYXRlICBEYXRlIC0gdGhlIGRhdGUgdG8gZ2V0IHRoZSB3ZWVrIGZvclxuXHQgKiBAcmV0dXJuICBudW1iZXIgLSB0aGUgbnVtYmVyIG9mIHRoZSB3ZWVrIHdpdGhpbiB0aGUgeWVhciB0aGF0IGNvbnRhaW5zIHRoaXMgZGF0ZVxuXHQgKi9cblx0aXNvODYwMVdlZWs6IGZ1bmN0aW9uKGRhdGUpIHtcblx0XHR2YXIgdGltZSxcblx0XHRcdGNoZWNrRGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcblxuXHRcdC8vIEZpbmQgVGh1cnNkYXkgb2YgdGhpcyB3ZWVrIHN0YXJ0aW5nIG9uIE1vbmRheVxuXHRcdGNoZWNrRGF0ZS5zZXREYXRlKGNoZWNrRGF0ZS5nZXREYXRlKCkgKyA0IC0gKGNoZWNrRGF0ZS5nZXREYXkoKSB8fCA3KSk7XG5cblx0XHR0aW1lID0gY2hlY2tEYXRlLmdldFRpbWUoKTtcblx0XHRjaGVja0RhdGUuc2V0TW9udGgoMCk7IC8vIENvbXBhcmUgd2l0aCBKYW4gMVxuXHRcdGNoZWNrRGF0ZS5zZXREYXRlKDEpO1xuXHRcdHJldHVybiBNYXRoLmZsb29yKE1hdGgucm91bmQoKHRpbWUgLSBjaGVja0RhdGUpIC8gODY0MDAwMDApIC8gNykgKyAxO1xuXHR9LFxuXG5cdC8qIFBhcnNlIGEgc3RyaW5nIHZhbHVlIGludG8gYSBkYXRlIG9iamVjdC5cblx0ICogU2VlIGZvcm1hdERhdGUgYmVsb3cgZm9yIHRoZSBwb3NzaWJsZSBmb3JtYXRzLlxuXHQgKlxuXHQgKiBAcGFyYW0gIGZvcm1hdCBzdHJpbmcgLSB0aGUgZXhwZWN0ZWQgZm9ybWF0IG9mIHRoZSBkYXRlXG5cdCAqIEBwYXJhbSAgdmFsdWUgc3RyaW5nIC0gdGhlIGRhdGUgaW4gdGhlIGFib3ZlIGZvcm1hdFxuXHQgKiBAcGFyYW0gIHNldHRpbmdzIE9iamVjdCAtIGF0dHJpYnV0ZXMgaW5jbHVkZTpcblx0ICpcdFx0XHRcdFx0c2hvcnRZZWFyQ3V0b2ZmICBudW1iZXIgLSB0aGUgY3V0b2ZmIHllYXIgZm9yIGRldGVybWluaW5nIHRoZSBjZW50dXJ5IChvcHRpb25hbClcblx0ICpcdFx0XHRcdFx0ZGF5TmFtZXNTaG9ydFx0c3RyaW5nWzddIC0gYWJicmV2aWF0ZWQgbmFtZXMgb2YgdGhlIGRheXMgZnJvbSBTdW5kYXkgKG9wdGlvbmFsKVxuXHQgKlx0XHRcdFx0XHRkYXlOYW1lc1x0XHRzdHJpbmdbN10gLSBuYW1lcyBvZiB0aGUgZGF5cyBmcm9tIFN1bmRheSAob3B0aW9uYWwpXG5cdCAqXHRcdFx0XHRcdG1vbnRoTmFtZXNTaG9ydCBzdHJpbmdbMTJdIC0gYWJicmV2aWF0ZWQgbmFtZXMgb2YgdGhlIG1vbnRocyAob3B0aW9uYWwpXG5cdCAqXHRcdFx0XHRcdG1vbnRoTmFtZXNcdFx0c3RyaW5nWzEyXSAtIG5hbWVzIG9mIHRoZSBtb250aHMgKG9wdGlvbmFsKVxuXHQgKiBAcmV0dXJuICBEYXRlIC0gdGhlIGV4dHJhY3RlZCBkYXRlIHZhbHVlIG9yIG51bGwgaWYgdmFsdWUgaXMgYmxhbmtcblx0ICovXG5cdHBhcnNlRGF0ZTogZnVuY3Rpb24gKGZvcm1hdCwgdmFsdWUsIHNldHRpbmdzKSB7XG5cdFx0aWYgKGZvcm1hdCA9PSBudWxsIHx8IHZhbHVlID09IG51bGwpIHtcblx0XHRcdHRocm93IFwiSW52YWxpZCBhcmd1bWVudHNcIjtcblx0XHR9XG5cblx0XHR2YWx1ZSA9ICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgPyB2YWx1ZS50b1N0cmluZygpIDogdmFsdWUgKyBcIlwiKTtcblx0XHRpZiAodmFsdWUgPT09IFwiXCIpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdHZhciBpRm9ybWF0LCBkaW0sIGV4dHJhLFxuXHRcdFx0aVZhbHVlID0gMCxcblx0XHRcdHNob3J0WWVhckN1dG9mZlRlbXAgPSAoc2V0dGluZ3MgPyBzZXR0aW5ncy5zaG9ydFllYXJDdXRvZmYgOiBudWxsKSB8fCB0aGlzLl9kZWZhdWx0cy5zaG9ydFllYXJDdXRvZmYsXG5cdFx0XHRzaG9ydFllYXJDdXRvZmYgPSAodHlwZW9mIHNob3J0WWVhckN1dG9mZlRlbXAgIT09IFwic3RyaW5nXCIgPyBzaG9ydFllYXJDdXRvZmZUZW1wIDpcblx0XHRcdFx0bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpICUgMTAwICsgcGFyc2VJbnQoc2hvcnRZZWFyQ3V0b2ZmVGVtcCwgMTApKSxcblx0XHRcdGRheU5hbWVzU2hvcnQgPSAoc2V0dGluZ3MgPyBzZXR0aW5ncy5kYXlOYW1lc1Nob3J0IDogbnVsbCkgfHwgdGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxcblx0XHRcdGRheU5hbWVzID0gKHNldHRpbmdzID8gc2V0dGluZ3MuZGF5TmFtZXMgOiBudWxsKSB8fCB0aGlzLl9kZWZhdWx0cy5kYXlOYW1lcyxcblx0XHRcdG1vbnRoTmFtZXNTaG9ydCA9IChzZXR0aW5ncyA/IHNldHRpbmdzLm1vbnRoTmFtZXNTaG9ydCA6IG51bGwpIHx8IHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXNTaG9ydCxcblx0XHRcdG1vbnRoTmFtZXMgPSAoc2V0dGluZ3MgPyBzZXR0aW5ncy5tb250aE5hbWVzIDogbnVsbCkgfHwgdGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxcblx0XHRcdHllYXIgPSAtMSxcblx0XHRcdG1vbnRoID0gLTEsXG5cdFx0XHRkYXkgPSAtMSxcblx0XHRcdGRveSA9IC0xLFxuXHRcdFx0bGl0ZXJhbCA9IGZhbHNlLFxuXHRcdFx0ZGF0ZSxcblx0XHRcdC8vIENoZWNrIHdoZXRoZXIgYSBmb3JtYXQgY2hhcmFjdGVyIGlzIGRvdWJsZWRcblx0XHRcdGxvb2tBaGVhZCA9IGZ1bmN0aW9uKG1hdGNoKSB7XG5cdFx0XHRcdHZhciBtYXRjaGVzID0gKGlGb3JtYXQgKyAxIDwgZm9ybWF0Lmxlbmd0aCAmJiBmb3JtYXQuY2hhckF0KGlGb3JtYXQgKyAxKSA9PT0gbWF0Y2gpO1xuXHRcdFx0XHRpZiAobWF0Y2hlcykge1xuXHRcdFx0XHRcdGlGb3JtYXQrKztcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbWF0Y2hlcztcblx0XHRcdH0sXG5cdFx0XHQvLyBFeHRyYWN0IGEgbnVtYmVyIGZyb20gdGhlIHN0cmluZyB2YWx1ZVxuXHRcdFx0Z2V0TnVtYmVyID0gZnVuY3Rpb24obWF0Y2gpIHtcblx0XHRcdFx0dmFyIGlzRG91YmxlZCA9IGxvb2tBaGVhZChtYXRjaCksXG5cdFx0XHRcdFx0c2l6ZSA9IChtYXRjaCA9PT0gXCJAXCIgPyAxNCA6IChtYXRjaCA9PT0gXCIhXCIgPyAyMCA6XG5cdFx0XHRcdFx0KG1hdGNoID09PSBcInlcIiAmJiBpc0RvdWJsZWQgPyA0IDogKG1hdGNoID09PSBcIm9cIiA/IDMgOiAyKSkpKSxcblx0XHRcdFx0XHRtaW5TaXplID0gKG1hdGNoID09PSBcInlcIiA/IHNpemUgOiAxKSxcblx0XHRcdFx0XHRkaWdpdHMgPSBuZXcgUmVnRXhwKFwiXlxcXFxke1wiICsgbWluU2l6ZSArIFwiLFwiICsgc2l6ZSArIFwifVwiKSxcblx0XHRcdFx0XHRudW0gPSB2YWx1ZS5zdWJzdHJpbmcoaVZhbHVlKS5tYXRjaChkaWdpdHMpO1xuXHRcdFx0XHRpZiAoIW51bSkge1xuXHRcdFx0XHRcdHRocm93IFwiTWlzc2luZyBudW1iZXIgYXQgcG9zaXRpb24gXCIgKyBpVmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0aVZhbHVlICs9IG51bVswXS5sZW5ndGg7XG5cdFx0XHRcdHJldHVybiBwYXJzZUludChudW1bMF0sIDEwKTtcblx0XHRcdH0sXG5cdFx0XHQvLyBFeHRyYWN0IGEgbmFtZSBmcm9tIHRoZSBzdHJpbmcgdmFsdWUgYW5kIGNvbnZlcnQgdG8gYW4gaW5kZXhcblx0XHRcdGdldE5hbWUgPSBmdW5jdGlvbihtYXRjaCwgc2hvcnROYW1lcywgbG9uZ05hbWVzKSB7XG5cdFx0XHRcdHZhciBpbmRleCA9IC0xLFxuXHRcdFx0XHRcdG5hbWVzID0gJC5tYXAobG9va0FoZWFkKG1hdGNoKSA/IGxvbmdOYW1lcyA6IHNob3J0TmFtZXMsIGZ1bmN0aW9uICh2LCBrKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gWyBbaywgdl0gXTtcblx0XHRcdFx0XHR9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gLShhWzFdLmxlbmd0aCAtIGJbMV0ubGVuZ3RoKTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHQkLmVhY2gobmFtZXMsIGZ1bmN0aW9uIChpLCBwYWlyKSB7XG5cdFx0XHRcdFx0dmFyIG5hbWUgPSBwYWlyWzFdO1xuXHRcdFx0XHRcdGlmICh2YWx1ZS5zdWJzdHIoaVZhbHVlLCBuYW1lLmxlbmd0aCkudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpKSB7XG5cdFx0XHRcdFx0XHRpbmRleCA9IHBhaXJbMF07XG5cdFx0XHRcdFx0XHRpVmFsdWUgKz0gbmFtZS5sZW5ndGg7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYgKGluZGV4ICE9PSAtMSkge1xuXHRcdFx0XHRcdHJldHVybiBpbmRleCArIDE7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgXCJVbmtub3duIG5hbWUgYXQgcG9zaXRpb24gXCIgKyBpVmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHQvLyBDb25maXJtIHRoYXQgYSBsaXRlcmFsIGNoYXJhY3RlciBtYXRjaGVzIHRoZSBzdHJpbmcgdmFsdWVcblx0XHRcdGNoZWNrTGl0ZXJhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAodmFsdWUuY2hhckF0KGlWYWx1ZSkgIT09IGZvcm1hdC5jaGFyQXQoaUZvcm1hdCkpIHtcblx0XHRcdFx0XHR0aHJvdyBcIlVuZXhwZWN0ZWQgbGl0ZXJhbCBhdCBwb3NpdGlvbiBcIiArIGlWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpVmFsdWUrKztcblx0XHRcdH07XG5cblx0XHRmb3IgKGlGb3JtYXQgPSAwOyBpRm9ybWF0IDwgZm9ybWF0Lmxlbmd0aDsgaUZvcm1hdCsrKSB7XG5cdFx0XHRpZiAobGl0ZXJhbCkge1xuXHRcdFx0XHRpZiAoZm9ybWF0LmNoYXJBdChpRm9ybWF0KSA9PT0gXCInXCIgJiYgIWxvb2tBaGVhZChcIidcIikpIHtcblx0XHRcdFx0XHRsaXRlcmFsID0gZmFsc2U7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2hlY2tMaXRlcmFsKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN3aXRjaCAoZm9ybWF0LmNoYXJBdChpRm9ybWF0KSkge1xuXHRcdFx0XHRcdGNhc2UgXCJkXCI6XG5cdFx0XHRcdFx0XHRkYXkgPSBnZXROdW1iZXIoXCJkXCIpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIkRcIjpcblx0XHRcdFx0XHRcdGdldE5hbWUoXCJEXCIsIGRheU5hbWVzU2hvcnQsIGRheU5hbWVzKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJvXCI6XG5cdFx0XHRcdFx0XHRkb3kgPSBnZXROdW1iZXIoXCJvXCIpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIm1cIjpcblx0XHRcdFx0XHRcdG1vbnRoID0gZ2V0TnVtYmVyKFwibVwiKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJNXCI6XG5cdFx0XHRcdFx0XHRtb250aCA9IGdldE5hbWUoXCJNXCIsIG1vbnRoTmFtZXNTaG9ydCwgbW9udGhOYW1lcyk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFwieVwiOlxuXHRcdFx0XHRcdFx0eWVhciA9IGdldE51bWJlcihcInlcIik7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFwiQFwiOlxuXHRcdFx0XHRcdFx0ZGF0ZSA9IG5ldyBEYXRlKGdldE51bWJlcihcIkBcIikpO1xuXHRcdFx0XHRcdFx0eWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdFx0XHRcdG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTtcblx0XHRcdFx0XHRcdGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIiFcIjpcblx0XHRcdFx0XHRcdGRhdGUgPSBuZXcgRGF0ZSgoZ2V0TnVtYmVyKFwiIVwiKSAtIHRoaXMuX3RpY2tzVG8xOTcwKSAvIDEwMDAwKTtcblx0XHRcdFx0XHRcdHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG5cdFx0XHRcdFx0XHRtb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDE7XG5cdFx0XHRcdFx0XHRkYXkgPSBkYXRlLmdldERhdGUoKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCInXCI6XG5cdFx0XHRcdFx0XHRpZiAobG9va0FoZWFkKFwiJ1wiKSl7XG5cdFx0XHRcdFx0XHRcdGNoZWNrTGl0ZXJhbCgpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0bGl0ZXJhbCA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0Y2hlY2tMaXRlcmFsKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoaVZhbHVlIDwgdmFsdWUubGVuZ3RoKXtcblx0XHRcdGV4dHJhID0gdmFsdWUuc3Vic3RyKGlWYWx1ZSk7XG5cdFx0XHRpZiAoIS9eXFxzKy8udGVzdChleHRyYSkpIHtcblx0XHRcdFx0dGhyb3cgXCJFeHRyYS91bnBhcnNlZCBjaGFyYWN0ZXJzIGZvdW5kIGluIGRhdGU6IFwiICsgZXh0cmE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHllYXIgPT09IC0xKSB7XG5cdFx0XHR5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuXHRcdH0gZWxzZSBpZiAoeWVhciA8IDEwMCkge1xuXHRcdFx0eWVhciArPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgLSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgJSAxMDAgK1xuXHRcdFx0XHQoeWVhciA8PSBzaG9ydFllYXJDdXRvZmYgPyAwIDogLTEwMCk7XG5cdFx0fVxuXG5cdFx0aWYgKGRveSA+IC0xKSB7XG5cdFx0XHRtb250aCA9IDE7XG5cdFx0XHRkYXkgPSBkb3k7XG5cdFx0XHRkbyB7XG5cdFx0XHRcdGRpbSA9IHRoaXMuX2dldERheXNJbk1vbnRoKHllYXIsIG1vbnRoIC0gMSk7XG5cdFx0XHRcdGlmIChkYXkgPD0gZGltKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0bW9udGgrKztcblx0XHRcdFx0ZGF5IC09IGRpbTtcblx0XHRcdH0gd2hpbGUgKHRydWUpO1xuXHRcdH1cblxuXHRcdGRhdGUgPSB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSkpO1xuXHRcdGlmIChkYXRlLmdldEZ1bGxZZWFyKCkgIT09IHllYXIgfHwgZGF0ZS5nZXRNb250aCgpICsgMSAhPT0gbW9udGggfHwgZGF0ZS5nZXREYXRlKCkgIT09IGRheSkge1xuXHRcdFx0dGhyb3cgXCJJbnZhbGlkIGRhdGVcIjsgLy8gRS5nLiAzMS8wMi8wMFxuXHRcdH1cblx0XHRyZXR1cm4gZGF0ZTtcblx0fSxcblxuXHQvKiBTdGFuZGFyZCBkYXRlIGZvcm1hdHMuICovXG5cdEFUT006IFwieXktbW0tZGRcIiwgLy8gUkZDIDMzMzkgKElTTyA4NjAxKVxuXHRDT09LSUU6IFwiRCwgZGQgTSB5eVwiLFxuXHRJU09fODYwMTogXCJ5eS1tbS1kZFwiLFxuXHRSRkNfODIyOiBcIkQsIGQgTSB5XCIsXG5cdFJGQ184NTA6IFwiREQsIGRkLU0teVwiLFxuXHRSRkNfMTAzNjogXCJELCBkIE0geVwiLFxuXHRSRkNfMTEyMzogXCJELCBkIE0geXlcIixcblx0UkZDXzI4MjI6IFwiRCwgZCBNIHl5XCIsXG5cdFJTUzogXCJELCBkIE0geVwiLCAvLyBSRkMgODIyXG5cdFRJQ0tTOiBcIiFcIixcblx0VElNRVNUQU1QOiBcIkBcIixcblx0VzNDOiBcInl5LW1tLWRkXCIsIC8vIElTTyA4NjAxXG5cblx0X3RpY2tzVG8xOTcwOiAoKCgxOTcwIC0gMSkgKiAzNjUgKyBNYXRoLmZsb29yKDE5NzAgLyA0KSAtIE1hdGguZmxvb3IoMTk3MCAvIDEwMCkgK1xuXHRcdE1hdGguZmxvb3IoMTk3MCAvIDQwMCkpICogMjQgKiA2MCAqIDYwICogMTAwMDAwMDApLFxuXG5cdC8qIEZvcm1hdCBhIGRhdGUgb2JqZWN0IGludG8gYSBzdHJpbmcgdmFsdWUuXG5cdCAqIFRoZSBmb3JtYXQgY2FuIGJlIGNvbWJpbmF0aW9ucyBvZiB0aGUgZm9sbG93aW5nOlxuXHQgKiBkICAtIGRheSBvZiBtb250aCAobm8gbGVhZGluZyB6ZXJvKVxuXHQgKiBkZCAtIGRheSBvZiBtb250aCAodHdvIGRpZ2l0KVxuXHQgKiBvICAtIGRheSBvZiB5ZWFyIChubyBsZWFkaW5nIHplcm9zKVxuXHQgKiBvbyAtIGRheSBvZiB5ZWFyICh0aHJlZSBkaWdpdClcblx0ICogRCAgLSBkYXkgbmFtZSBzaG9ydFxuXHQgKiBERCAtIGRheSBuYW1lIGxvbmdcblx0ICogbSAgLSBtb250aCBvZiB5ZWFyIChubyBsZWFkaW5nIHplcm8pXG5cdCAqIG1tIC0gbW9udGggb2YgeWVhciAodHdvIGRpZ2l0KVxuXHQgKiBNICAtIG1vbnRoIG5hbWUgc2hvcnRcblx0ICogTU0gLSBtb250aCBuYW1lIGxvbmdcblx0ICogeSAgLSB5ZWFyICh0d28gZGlnaXQpXG5cdCAqIHl5IC0geWVhciAoZm91ciBkaWdpdClcblx0ICogQCAtIFVuaXggdGltZXN0YW1wIChtcyBzaW5jZSAwMS8wMS8xOTcwKVxuXHQgKiAhIC0gV2luZG93cyB0aWNrcyAoMTAwbnMgc2luY2UgMDEvMDEvMDAwMSlcblx0ICogXCIuLi5cIiAtIGxpdGVyYWwgdGV4dFxuXHQgKiAnJyAtIHNpbmdsZSBxdW90ZVxuXHQgKlxuXHQgKiBAcGFyYW0gIGZvcm1hdCBzdHJpbmcgLSB0aGUgZGVzaXJlZCBmb3JtYXQgb2YgdGhlIGRhdGVcblx0ICogQHBhcmFtICBkYXRlIERhdGUgLSB0aGUgZGF0ZSB2YWx1ZSB0byBmb3JtYXRcblx0ICogQHBhcmFtICBzZXR0aW5ncyBPYmplY3QgLSBhdHRyaWJ1dGVzIGluY2x1ZGU6XG5cdCAqXHRcdFx0XHRcdGRheU5hbWVzU2hvcnRcdHN0cmluZ1s3XSAtIGFiYnJldmlhdGVkIG5hbWVzIG9mIHRoZSBkYXlzIGZyb20gU3VuZGF5IChvcHRpb25hbClcblx0ICpcdFx0XHRcdFx0ZGF5TmFtZXNcdFx0c3RyaW5nWzddIC0gbmFtZXMgb2YgdGhlIGRheXMgZnJvbSBTdW5kYXkgKG9wdGlvbmFsKVxuXHQgKlx0XHRcdFx0XHRtb250aE5hbWVzU2hvcnQgc3RyaW5nWzEyXSAtIGFiYnJldmlhdGVkIG5hbWVzIG9mIHRoZSBtb250aHMgKG9wdGlvbmFsKVxuXHQgKlx0XHRcdFx0XHRtb250aE5hbWVzXHRcdHN0cmluZ1sxMl0gLSBuYW1lcyBvZiB0aGUgbW9udGhzIChvcHRpb25hbClcblx0ICogQHJldHVybiAgc3RyaW5nIC0gdGhlIGRhdGUgaW4gdGhlIGFib3ZlIGZvcm1hdFxuXHQgKi9cblx0Zm9ybWF0RGF0ZTogZnVuY3Rpb24gKGZvcm1hdCwgZGF0ZSwgc2V0dGluZ3MpIHtcblx0XHRpZiAoIWRhdGUpIHtcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH1cblxuXHRcdHZhciBpRm9ybWF0LFxuXHRcdFx0ZGF5TmFtZXNTaG9ydCA9IChzZXR0aW5ncyA/IHNldHRpbmdzLmRheU5hbWVzU2hvcnQgOiBudWxsKSB8fCB0aGlzLl9kZWZhdWx0cy5kYXlOYW1lc1Nob3J0LFxuXHRcdFx0ZGF5TmFtZXMgPSAoc2V0dGluZ3MgPyBzZXR0aW5ncy5kYXlOYW1lcyA6IG51bGwpIHx8IHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzLFxuXHRcdFx0bW9udGhOYW1lc1Nob3J0ID0gKHNldHRpbmdzID8gc2V0dGluZ3MubW9udGhOYW1lc1Nob3J0IDogbnVsbCkgfHwgdGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LFxuXHRcdFx0bW9udGhOYW1lcyA9IChzZXR0aW5ncyA/IHNldHRpbmdzLm1vbnRoTmFtZXMgOiBudWxsKSB8fCB0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzLFxuXHRcdFx0Ly8gQ2hlY2sgd2hldGhlciBhIGZvcm1hdCBjaGFyYWN0ZXIgaXMgZG91YmxlZFxuXHRcdFx0bG9va0FoZWFkID0gZnVuY3Rpb24obWF0Y2gpIHtcblx0XHRcdFx0dmFyIG1hdGNoZXMgPSAoaUZvcm1hdCArIDEgPCBmb3JtYXQubGVuZ3RoICYmIGZvcm1hdC5jaGFyQXQoaUZvcm1hdCArIDEpID09PSBtYXRjaCk7XG5cdFx0XHRcdGlmIChtYXRjaGVzKSB7XG5cdFx0XHRcdFx0aUZvcm1hdCsrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaGVzO1xuXHRcdFx0fSxcblx0XHRcdC8vIEZvcm1hdCBhIG51bWJlciwgd2l0aCBsZWFkaW5nIHplcm8gaWYgbmVjZXNzYXJ5XG5cdFx0XHRmb3JtYXROdW1iZXIgPSBmdW5jdGlvbihtYXRjaCwgdmFsdWUsIGxlbikge1xuXHRcdFx0XHR2YXIgbnVtID0gXCJcIiArIHZhbHVlO1xuXHRcdFx0XHRpZiAobG9va0FoZWFkKG1hdGNoKSkge1xuXHRcdFx0XHRcdHdoaWxlIChudW0ubGVuZ3RoIDwgbGVuKSB7XG5cdFx0XHRcdFx0XHRudW0gPSBcIjBcIiArIG51bTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG51bTtcblx0XHRcdH0sXG5cdFx0XHQvLyBGb3JtYXQgYSBuYW1lLCBzaG9ydCBvciBsb25nIGFzIHJlcXVlc3RlZFxuXHRcdFx0Zm9ybWF0TmFtZSA9IGZ1bmN0aW9uKG1hdGNoLCB2YWx1ZSwgc2hvcnROYW1lcywgbG9uZ05hbWVzKSB7XG5cdFx0XHRcdHJldHVybiAobG9va0FoZWFkKG1hdGNoKSA/IGxvbmdOYW1lc1t2YWx1ZV0gOiBzaG9ydE5hbWVzW3ZhbHVlXSk7XG5cdFx0XHR9LFxuXHRcdFx0b3V0cHV0ID0gXCJcIixcblx0XHRcdGxpdGVyYWwgPSBmYWxzZTtcblxuXHRcdGlmIChkYXRlKSB7XG5cdFx0XHRmb3IgKGlGb3JtYXQgPSAwOyBpRm9ybWF0IDwgZm9ybWF0Lmxlbmd0aDsgaUZvcm1hdCsrKSB7XG5cdFx0XHRcdGlmIChsaXRlcmFsKSB7XG5cdFx0XHRcdFx0aWYgKGZvcm1hdC5jaGFyQXQoaUZvcm1hdCkgPT09IFwiJ1wiICYmICFsb29rQWhlYWQoXCInXCIpKSB7XG5cdFx0XHRcdFx0XHRsaXRlcmFsID0gZmFsc2U7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdG91dHB1dCArPSBmb3JtYXQuY2hhckF0KGlGb3JtYXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzd2l0Y2ggKGZvcm1hdC5jaGFyQXQoaUZvcm1hdCkpIHtcblx0XHRcdFx0XHRcdGNhc2UgXCJkXCI6XG5cdFx0XHRcdFx0XHRcdG91dHB1dCArPSBmb3JtYXROdW1iZXIoXCJkXCIsIGRhdGUuZ2V0RGF0ZSgpLCAyKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIFwiRFwiOlxuXHRcdFx0XHRcdFx0XHRvdXRwdXQgKz0gZm9ybWF0TmFtZShcIkRcIiwgZGF0ZS5nZXREYXkoKSwgZGF5TmFtZXNTaG9ydCwgZGF5TmFtZXMpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCJvXCI6XG5cdFx0XHRcdFx0XHRcdG91dHB1dCArPSBmb3JtYXROdW1iZXIoXCJvXCIsXG5cdFx0XHRcdFx0XHRcdFx0TWF0aC5yb3VuZCgobmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIDAsIDApLmdldFRpbWUoKSkgLyA4NjQwMDAwMCksIDMpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCJtXCI6XG5cdFx0XHRcdFx0XHRcdG91dHB1dCArPSBmb3JtYXROdW1iZXIoXCJtXCIsIGRhdGUuZ2V0TW9udGgoKSArIDEsIDIpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCJNXCI6XG5cdFx0XHRcdFx0XHRcdG91dHB1dCArPSBmb3JtYXROYW1lKFwiTVwiLCBkYXRlLmdldE1vbnRoKCksIG1vbnRoTmFtZXNTaG9ydCwgbW9udGhOYW1lcyk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcInlcIjpcblx0XHRcdFx0XHRcdFx0b3V0cHV0ICs9IChsb29rQWhlYWQoXCJ5XCIpID8gZGF0ZS5nZXRGdWxsWWVhcigpIDpcblx0XHRcdFx0XHRcdFx0XHQoZGF0ZS5nZXRZZWFyKCkgJSAxMDAgPCAxMCA/IFwiMFwiIDogXCJcIikgKyBkYXRlLmdldFllYXIoKSAlIDEwMCk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcIkBcIjpcblx0XHRcdFx0XHRcdFx0b3V0cHV0ICs9IGRhdGUuZ2V0VGltZSgpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCIhXCI6XG5cdFx0XHRcdFx0XHRcdG91dHB1dCArPSBkYXRlLmdldFRpbWUoKSAqIDEwMDAwICsgdGhpcy5fdGlja3NUbzE5NzA7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcIidcIjpcblx0XHRcdFx0XHRcdFx0aWYgKGxvb2tBaGVhZChcIidcIikpIHtcblx0XHRcdFx0XHRcdFx0XHRvdXRwdXQgKz0gXCInXCI7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0bGl0ZXJhbCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0XHRvdXRwdXQgKz0gZm9ybWF0LmNoYXJBdChpRm9ybWF0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fSxcblxuXHQvKiBFeHRyYWN0IGFsbCBwb3NzaWJsZSBjaGFyYWN0ZXJzIGZyb20gdGhlIGRhdGUgZm9ybWF0LiAqL1xuXHRfcG9zc2libGVDaGFyczogZnVuY3Rpb24gKGZvcm1hdCkge1xuXHRcdHZhciBpRm9ybWF0LFxuXHRcdFx0Y2hhcnMgPSBcIlwiLFxuXHRcdFx0bGl0ZXJhbCA9IGZhbHNlLFxuXHRcdFx0Ly8gQ2hlY2sgd2hldGhlciBhIGZvcm1hdCBjaGFyYWN0ZXIgaXMgZG91YmxlZFxuXHRcdFx0bG9va0FoZWFkID0gZnVuY3Rpb24obWF0Y2gpIHtcblx0XHRcdFx0dmFyIG1hdGNoZXMgPSAoaUZvcm1hdCArIDEgPCBmb3JtYXQubGVuZ3RoICYmIGZvcm1hdC5jaGFyQXQoaUZvcm1hdCArIDEpID09PSBtYXRjaCk7XG5cdFx0XHRcdGlmIChtYXRjaGVzKSB7XG5cdFx0XHRcdFx0aUZvcm1hdCsrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaGVzO1xuXHRcdFx0fTtcblxuXHRcdGZvciAoaUZvcm1hdCA9IDA7IGlGb3JtYXQgPCBmb3JtYXQubGVuZ3RoOyBpRm9ybWF0KyspIHtcblx0XHRcdGlmIChsaXRlcmFsKSB7XG5cdFx0XHRcdGlmIChmb3JtYXQuY2hhckF0KGlGb3JtYXQpID09PSBcIidcIiAmJiAhbG9va0FoZWFkKFwiJ1wiKSkge1xuXHRcdFx0XHRcdGxpdGVyYWwgPSBmYWxzZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjaGFycyArPSBmb3JtYXQuY2hhckF0KGlGb3JtYXQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzd2l0Y2ggKGZvcm1hdC5jaGFyQXQoaUZvcm1hdCkpIHtcblx0XHRcdFx0XHRjYXNlIFwiZFwiOiBjYXNlIFwibVwiOiBjYXNlIFwieVwiOiBjYXNlIFwiQFwiOlxuXHRcdFx0XHRcdFx0Y2hhcnMgKz0gXCIwMTIzNDU2Nzg5XCI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFwiRFwiOiBjYXNlIFwiTVwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIG51bGw7IC8vIEFjY2VwdCBhbnl0aGluZ1xuXHRcdFx0XHRcdGNhc2UgXCInXCI6XG5cdFx0XHRcdFx0XHRpZiAobG9va0FoZWFkKFwiJ1wiKSkge1xuXHRcdFx0XHRcdFx0XHRjaGFycyArPSBcIidcIjtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGxpdGVyYWwgPSB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdGNoYXJzICs9IGZvcm1hdC5jaGFyQXQoaUZvcm1hdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNoYXJzO1xuXHR9LFxuXG5cdC8qIEdldCBhIHNldHRpbmcgdmFsdWUsIGRlZmF1bHRpbmcgaWYgbmVjZXNzYXJ5LiAqL1xuXHRfZ2V0OiBmdW5jdGlvbihpbnN0LCBuYW1lKSB7XG5cdFx0cmV0dXJuIGluc3Quc2V0dGluZ3NbbmFtZV0gIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRpbnN0LnNldHRpbmdzW25hbWVdIDogdGhpcy5fZGVmYXVsdHNbbmFtZV07XG5cdH0sXG5cblx0LyogUGFyc2UgZXhpc3RpbmcgZGF0ZSBhbmQgaW5pdGlhbGlzZSBkYXRlIHBpY2tlci4gKi9cblx0X3NldERhdGVGcm9tRmllbGQ6IGZ1bmN0aW9uKGluc3QsIG5vRGVmYXVsdCkge1xuXHRcdGlmIChpbnN0LmlucHV0LnZhbCgpID09PSBpbnN0Lmxhc3RWYWwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgZGF0ZUZvcm1hdCA9IHRoaXMuX2dldChpbnN0LCBcImRhdGVGb3JtYXRcIiksXG5cdFx0XHRkYXRlcyA9IGluc3QubGFzdFZhbCA9IGluc3QuaW5wdXQgPyBpbnN0LmlucHV0LnZhbCgpIDogbnVsbCxcblx0XHRcdGRlZmF1bHREYXRlID0gdGhpcy5fZ2V0RGVmYXVsdERhdGUoaW5zdCksXG5cdFx0XHRkYXRlID0gZGVmYXVsdERhdGUsXG5cdFx0XHRzZXR0aW5ncyA9IHRoaXMuX2dldEZvcm1hdENvbmZpZyhpbnN0KTtcblxuXHRcdHRyeSB7XG5cdFx0XHRkYXRlID0gdGhpcy5wYXJzZURhdGUoZGF0ZUZvcm1hdCwgZGF0ZXMsIHNldHRpbmdzKSB8fCBkZWZhdWx0RGF0ZTtcblx0XHR9IGNhdGNoIChldmVudCkge1xuXHRcdFx0ZGF0ZXMgPSAobm9EZWZhdWx0ID8gXCJcIiA6IGRhdGVzKTtcblx0XHR9XG5cdFx0aW5zdC5zZWxlY3RlZERheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuXHRcdGluc3QuZHJhd01vbnRoID0gaW5zdC5zZWxlY3RlZE1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuXHRcdGluc3QuZHJhd1llYXIgPSBpbnN0LnNlbGVjdGVkWWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRpbnN0LmN1cnJlbnREYXkgPSAoZGF0ZXMgPyBkYXRlLmdldERhdGUoKSA6IDApO1xuXHRcdGluc3QuY3VycmVudE1vbnRoID0gKGRhdGVzID8gZGF0ZS5nZXRNb250aCgpIDogMCk7XG5cdFx0aW5zdC5jdXJyZW50WWVhciA9IChkYXRlcyA/IGRhdGUuZ2V0RnVsbFllYXIoKSA6IDApO1xuXHRcdHRoaXMuX2FkanVzdEluc3REYXRlKGluc3QpO1xuXHR9LFxuXG5cdC8qIFJldHJpZXZlIHRoZSBkZWZhdWx0IGRhdGUgc2hvd24gb24gb3BlbmluZy4gKi9cblx0X2dldERlZmF1bHREYXRlOiBmdW5jdGlvbihpbnN0KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3Jlc3RyaWN0TWluTWF4KGluc3QsXG5cdFx0XHR0aGlzLl9kZXRlcm1pbmVEYXRlKGluc3QsIHRoaXMuX2dldChpbnN0LCBcImRlZmF1bHREYXRlXCIpLCBuZXcgRGF0ZSgpKSk7XG5cdH0sXG5cblx0LyogQSBkYXRlIG1heSBiZSBzcGVjaWZpZWQgYXMgYW4gZXhhY3QgdmFsdWUgb3IgYSByZWxhdGl2ZSBvbmUuICovXG5cdF9kZXRlcm1pbmVEYXRlOiBmdW5jdGlvbihpbnN0LCBkYXRlLCBkZWZhdWx0RGF0ZSkge1xuXHRcdHZhciBvZmZzZXROdW1lcmljID0gZnVuY3Rpb24ob2Zmc2V0KSB7XG5cdFx0XHRcdHZhciBkYXRlID0gbmV3IERhdGUoKTtcblx0XHRcdFx0ZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgb2Zmc2V0KTtcblx0XHRcdFx0cmV0dXJuIGRhdGU7XG5cdFx0XHR9LFxuXHRcdFx0b2Zmc2V0U3RyaW5nID0gZnVuY3Rpb24ob2Zmc2V0KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0cmV0dXJuICQuZGF0ZXBpY2tlci5wYXJzZURhdGUoJC5kYXRlcGlja2VyLl9nZXQoaW5zdCwgXCJkYXRlRm9ybWF0XCIpLFxuXHRcdFx0XHRcdFx0b2Zmc2V0LCAkLmRhdGVwaWNrZXIuX2dldEZvcm1hdENvbmZpZyhpbnN0KSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2F0Y2ggKGUpIHtcblx0XHRcdFx0XHQvLyBJZ25vcmVcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBkYXRlID0gKG9mZnNldC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eYy8pID9cblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2dldERhdGUoaW5zdCkgOiBudWxsKSB8fCBuZXcgRGF0ZSgpLFxuXHRcdFx0XHRcdHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCksXG5cdFx0XHRcdFx0bW9udGggPSBkYXRlLmdldE1vbnRoKCksXG5cdFx0XHRcdFx0ZGF5ID0gZGF0ZS5nZXREYXRlKCksXG5cdFx0XHRcdFx0cGF0dGVybiA9IC8oWytcXC1dP1swLTldKylcXHMqKGR8RHx3fFd8bXxNfHl8WSk/L2csXG5cdFx0XHRcdFx0bWF0Y2hlcyA9IHBhdHRlcm4uZXhlYyhvZmZzZXQpO1xuXG5cdFx0XHRcdHdoaWxlIChtYXRjaGVzKSB7XG5cdFx0XHRcdFx0c3dpdGNoIChtYXRjaGVzWzJdIHx8IFwiZFwiKSB7XG5cdFx0XHRcdFx0XHRjYXNlIFwiZFwiIDogY2FzZSBcIkRcIiA6XG5cdFx0XHRcdFx0XHRcdGRheSArPSBwYXJzZUludChtYXRjaGVzWzFdLDEwKTsgYnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIFwid1wiIDogY2FzZSBcIldcIiA6XG5cdFx0XHRcdFx0XHRcdGRheSArPSBwYXJzZUludChtYXRjaGVzWzFdLDEwKSAqIDc7IGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcIm1cIiA6IGNhc2UgXCJNXCIgOlxuXHRcdFx0XHRcdFx0XHRtb250aCArPSBwYXJzZUludChtYXRjaGVzWzFdLDEwKTtcblx0XHRcdFx0XHRcdFx0ZGF5ID0gTWF0aC5taW4oZGF5LCAkLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKHllYXIsIG1vbnRoKSk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcInlcIjogY2FzZSBcIllcIiA6XG5cdFx0XHRcdFx0XHRcdHllYXIgKz0gcGFyc2VJbnQobWF0Y2hlc1sxXSwxMCk7XG5cdFx0XHRcdFx0XHRcdGRheSA9IE1hdGgubWluKGRheSwgJC5kYXRlcGlja2VyLl9nZXREYXlzSW5Nb250aCh5ZWFyLCBtb250aCkpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bWF0Y2hlcyA9IHBhdHRlcm4uZXhlYyhvZmZzZXQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF5KTtcblx0XHRcdH0sXG5cdFx0XHRuZXdEYXRlID0gKGRhdGUgPT0gbnVsbCB8fCBkYXRlID09PSBcIlwiID8gZGVmYXVsdERhdGUgOiAodHlwZW9mIGRhdGUgPT09IFwic3RyaW5nXCIgPyBvZmZzZXRTdHJpbmcoZGF0ZSkgOlxuXHRcdFx0XHQodHlwZW9mIGRhdGUgPT09IFwibnVtYmVyXCIgPyAoaXNOYU4oZGF0ZSkgPyBkZWZhdWx0RGF0ZSA6IG9mZnNldE51bWVyaWMoZGF0ZSkpIDogbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpKSkpO1xuXG5cdFx0bmV3RGF0ZSA9IChuZXdEYXRlICYmIG5ld0RhdGUudG9TdHJpbmcoKSA9PT0gXCJJbnZhbGlkIERhdGVcIiA/IGRlZmF1bHREYXRlIDogbmV3RGF0ZSk7XG5cdFx0aWYgKG5ld0RhdGUpIHtcblx0XHRcdG5ld0RhdGUuc2V0SG91cnMoMCk7XG5cdFx0XHRuZXdEYXRlLnNldE1pbnV0ZXMoMCk7XG5cdFx0XHRuZXdEYXRlLnNldFNlY29uZHMoMCk7XG5cdFx0XHRuZXdEYXRlLnNldE1pbGxpc2Vjb25kcygwKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ld0RhdGUpO1xuXHR9LFxuXG5cdC8qIEhhbmRsZSBzd2l0Y2ggdG8vZnJvbSBkYXlsaWdodCBzYXZpbmcuXG5cdCAqIEhvdXJzIG1heSBiZSBub24temVybyBvbiBkYXlsaWdodCBzYXZpbmcgY3V0LW92ZXI6XG5cdCAqID4gMTIgd2hlbiBtaWRuaWdodCBjaGFuZ2VvdmVyLCBidXQgdGhlbiBjYW5ub3QgZ2VuZXJhdGVcblx0ICogbWlkbmlnaHQgZGF0ZXRpbWUsIHNvIGp1bXAgdG8gMUFNLCBvdGhlcndpc2UgcmVzZXQuXG5cdCAqIEBwYXJhbSAgZGF0ZSAgKERhdGUpIHRoZSBkYXRlIHRvIGNoZWNrXG5cdCAqIEByZXR1cm4gIChEYXRlKSB0aGUgY29ycmVjdGVkIGRhdGVcblx0ICovXG5cdF9kYXlsaWdodFNhdmluZ0FkanVzdDogZnVuY3Rpb24oZGF0ZSkge1xuXHRcdGlmICghZGF0ZSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcdGRhdGUuc2V0SG91cnMoZGF0ZS5nZXRIb3VycygpID4gMTIgPyBkYXRlLmdldEhvdXJzKCkgKyAyIDogMCk7XG5cdFx0cmV0dXJuIGRhdGU7XG5cdH0sXG5cblx0LyogU2V0IHRoZSBkYXRlKHMpIGRpcmVjdGx5LiAqL1xuXHRfc2V0RGF0ZTogZnVuY3Rpb24oaW5zdCwgZGF0ZSwgbm9DaGFuZ2UpIHtcblx0XHR2YXIgY2xlYXIgPSAhZGF0ZSxcblx0XHRcdG9yaWdNb250aCA9IGluc3Quc2VsZWN0ZWRNb250aCxcblx0XHRcdG9yaWdZZWFyID0gaW5zdC5zZWxlY3RlZFllYXIsXG5cdFx0XHRuZXdEYXRlID0gdGhpcy5fcmVzdHJpY3RNaW5NYXgoaW5zdCwgdGhpcy5fZGV0ZXJtaW5lRGF0ZShpbnN0LCBkYXRlLCBuZXcgRGF0ZSgpKSk7XG5cblx0XHRpbnN0LnNlbGVjdGVkRGF5ID0gaW5zdC5jdXJyZW50RGF5ID0gbmV3RGF0ZS5nZXREYXRlKCk7XG5cdFx0aW5zdC5kcmF3TW9udGggPSBpbnN0LnNlbGVjdGVkTW9udGggPSBpbnN0LmN1cnJlbnRNb250aCA9IG5ld0RhdGUuZ2V0TW9udGgoKTtcblx0XHRpbnN0LmRyYXdZZWFyID0gaW5zdC5zZWxlY3RlZFllYXIgPSBpbnN0LmN1cnJlbnRZZWFyID0gbmV3RGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdGlmICgob3JpZ01vbnRoICE9PSBpbnN0LnNlbGVjdGVkTW9udGggfHwgb3JpZ1llYXIgIT09IGluc3Quc2VsZWN0ZWRZZWFyKSAmJiAhbm9DaGFuZ2UpIHtcblx0XHRcdHRoaXMuX25vdGlmeUNoYW5nZShpbnN0KTtcblx0XHR9XG5cdFx0dGhpcy5fYWRqdXN0SW5zdERhdGUoaW5zdCk7XG5cdFx0aWYgKGluc3QuaW5wdXQpIHtcblx0XHRcdGluc3QuaW5wdXQudmFsKGNsZWFyID8gXCJcIiA6IHRoaXMuX2Zvcm1hdERhdGUoaW5zdCkpO1xuXHRcdH1cblx0fSxcblxuXHQvKiBSZXRyaWV2ZSB0aGUgZGF0ZShzKSBkaXJlY3RseS4gKi9cblx0X2dldERhdGU6IGZ1bmN0aW9uKGluc3QpIHtcblx0XHR2YXIgc3RhcnREYXRlID0gKCFpbnN0LmN1cnJlbnRZZWFyIHx8IChpbnN0LmlucHV0ICYmIGluc3QuaW5wdXQudmFsKCkgPT09IFwiXCIpID8gbnVsbCA6XG5cdFx0XHR0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShcblx0XHRcdGluc3QuY3VycmVudFllYXIsIGluc3QuY3VycmVudE1vbnRoLCBpbnN0LmN1cnJlbnREYXkpKSk7XG5cdFx0XHRyZXR1cm4gc3RhcnREYXRlO1xuXHR9LFxuXG5cdC8qIEF0dGFjaCB0aGUgb254eHggaGFuZGxlcnMuICBUaGVzZSBhcmUgZGVjbGFyZWQgc3RhdGljYWxseSBzb1xuXHQgKiB0aGV5IHdvcmsgd2l0aCBzdGF0aWMgY29kZSB0cmFuc2Zvcm1lcnMgbGlrZSBDYWphLlxuXHQgKi9cblx0X2F0dGFjaEhhbmRsZXJzOiBmdW5jdGlvbihpbnN0KSB7XG5cdFx0dmFyIHN0ZXBNb250aHMgPSB0aGlzLl9nZXQoaW5zdCwgXCJzdGVwTW9udGhzXCIpLFxuXHRcdFx0aWQgPSBcIiNcIiArIGluc3QuaWQucmVwbGFjZSggL1xcXFxcXFxcL2csIFwiXFxcXFwiICk7XG5cdFx0aW5zdC5kcERpdi5maW5kKFwiW2RhdGEtaGFuZGxlcl1cIikubWFwKGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBoYW5kbGVyID0ge1xuXHRcdFx0XHRwcmV2OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGlkLCAtc3RlcE1vbnRocywgXCJNXCIpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRuZXh0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGlkLCArc3RlcE1vbnRocywgXCJNXCIpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRoaWRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0b2RheTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fZ290b1RvZGF5KGlkKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0c2VsZWN0RGF5OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9zZWxlY3REYXkoaWQsICt0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtbW9udGhcIiksICt0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEteWVhclwiKSwgdGhpcyk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZWxlY3RNb250aDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKGlkLCB0aGlzLCBcIk1cIik7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZWxlY3RZZWFyOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9zZWxlY3RNb250aFllYXIoaWQsIHRoaXMsIFwiWVwiKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHQkKHRoaXMpLmJpbmQodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWV2ZW50XCIpLCBoYW5kbGVyW3RoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1oYW5kbGVyXCIpXSk7XG5cdFx0fSk7XG5cdH0sXG5cblx0LyogR2VuZXJhdGUgdGhlIEhUTUwgZm9yIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBkYXRlIHBpY2tlci4gKi9cblx0X2dlbmVyYXRlSFRNTDogZnVuY3Rpb24oaW5zdCkge1xuXHRcdHZhciBtYXhEcmF3LCBwcmV2VGV4dCwgcHJldiwgbmV4dFRleHQsIG5leHQsIGN1cnJlbnRUZXh0LCBnb3RvRGF0ZSxcblx0XHRcdGNvbnRyb2xzLCBidXR0b25QYW5lbCwgZmlyc3REYXksIHNob3dXZWVrLCBkYXlOYW1lcywgZGF5TmFtZXNNaW4sXG5cdFx0XHRtb250aE5hbWVzLCBtb250aE5hbWVzU2hvcnQsIGJlZm9yZVNob3dEYXksIHNob3dPdGhlck1vbnRocyxcblx0XHRcdHNlbGVjdE90aGVyTW9udGhzLCBkZWZhdWx0RGF0ZSwgaHRtbCwgZG93LCByb3csIGdyb3VwLCBjb2wsIHNlbGVjdGVkRGF0ZSxcblx0XHRcdGNvcm5lckNsYXNzLCBjYWxlbmRlciwgdGhlYWQsIGRheSwgZGF5c0luTW9udGgsIGxlYWREYXlzLCBjdXJSb3dzLCBudW1Sb3dzLFxuXHRcdFx0cHJpbnREYXRlLCBkUm93LCB0Ym9keSwgZGF5U2V0dGluZ3MsIG90aGVyTW9udGgsIHVuc2VsZWN0YWJsZSxcblx0XHRcdHRlbXBEYXRlID0gbmV3IERhdGUoKSxcblx0XHRcdHRvZGF5ID0gdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QoXG5cdFx0XHRcdG5ldyBEYXRlKHRlbXBEYXRlLmdldEZ1bGxZZWFyKCksIHRlbXBEYXRlLmdldE1vbnRoKCksIHRlbXBEYXRlLmdldERhdGUoKSkpLCAvLyBjbGVhciB0aW1lXG5cdFx0XHRpc1JUTCA9IHRoaXMuX2dldChpbnN0LCBcImlzUlRMXCIpLFxuXHRcdFx0c2hvd0J1dHRvblBhbmVsID0gdGhpcy5fZ2V0KGluc3QsIFwic2hvd0J1dHRvblBhbmVsXCIpLFxuXHRcdFx0aGlkZUlmTm9QcmV2TmV4dCA9IHRoaXMuX2dldChpbnN0LCBcImhpZGVJZk5vUHJldk5leHRcIiksXG5cdFx0XHRuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0ID0gdGhpcy5fZ2V0KGluc3QsIFwibmF2aWdhdGlvbkFzRGF0ZUZvcm1hdFwiKSxcblx0XHRcdG51bU1vbnRocyA9IHRoaXMuX2dldE51bWJlck9mTW9udGhzKGluc3QpLFxuXHRcdFx0c2hvd0N1cnJlbnRBdFBvcyA9IHRoaXMuX2dldChpbnN0LCBcInNob3dDdXJyZW50QXRQb3NcIiksXG5cdFx0XHRzdGVwTW9udGhzID0gdGhpcy5fZ2V0KGluc3QsIFwic3RlcE1vbnRoc1wiKSxcblx0XHRcdGlzTXVsdGlNb250aCA9IChudW1Nb250aHNbMF0gIT09IDEgfHwgbnVtTW9udGhzWzFdICE9PSAxKSxcblx0XHRcdGN1cnJlbnREYXRlID0gdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QoKCFpbnN0LmN1cnJlbnREYXkgPyBuZXcgRGF0ZSg5OTk5LCA5LCA5KSA6XG5cdFx0XHRcdG5ldyBEYXRlKGluc3QuY3VycmVudFllYXIsIGluc3QuY3VycmVudE1vbnRoLCBpbnN0LmN1cnJlbnREYXkpKSksXG5cdFx0XHRtaW5EYXRlID0gdGhpcy5fZ2V0TWluTWF4RGF0ZShpbnN0LCBcIm1pblwiKSxcblx0XHRcdG1heERhdGUgPSB0aGlzLl9nZXRNaW5NYXhEYXRlKGluc3QsIFwibWF4XCIpLFxuXHRcdFx0ZHJhd01vbnRoID0gaW5zdC5kcmF3TW9udGggLSBzaG93Q3VycmVudEF0UG9zLFxuXHRcdFx0ZHJhd1llYXIgPSBpbnN0LmRyYXdZZWFyO1xuXG5cdFx0aWYgKGRyYXdNb250aCA8IDApIHtcblx0XHRcdGRyYXdNb250aCArPSAxMjtcblx0XHRcdGRyYXdZZWFyLS07XG5cdFx0fVxuXHRcdGlmIChtYXhEYXRlKSB7XG5cdFx0XHRtYXhEcmF3ID0gdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUobWF4RGF0ZS5nZXRGdWxsWWVhcigpLFxuXHRcdFx0XHRtYXhEYXRlLmdldE1vbnRoKCkgLSAobnVtTW9udGhzWzBdICogbnVtTW9udGhzWzFdKSArIDEsIG1heERhdGUuZ2V0RGF0ZSgpKSk7XG5cdFx0XHRtYXhEcmF3ID0gKG1pbkRhdGUgJiYgbWF4RHJhdyA8IG1pbkRhdGUgPyBtaW5EYXRlIDogbWF4RHJhdyk7XG5cdFx0XHR3aGlsZSAodGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoZHJhd1llYXIsIGRyYXdNb250aCwgMSkpID4gbWF4RHJhdykge1xuXHRcdFx0XHRkcmF3TW9udGgtLTtcblx0XHRcdFx0aWYgKGRyYXdNb250aCA8IDApIHtcblx0XHRcdFx0XHRkcmF3TW9udGggPSAxMTtcblx0XHRcdFx0XHRkcmF3WWVhci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGluc3QuZHJhd01vbnRoID0gZHJhd01vbnRoO1xuXHRcdGluc3QuZHJhd1llYXIgPSBkcmF3WWVhcjtcblxuXHRcdHByZXZUZXh0ID0gdGhpcy5fZ2V0KGluc3QsIFwicHJldlRleHRcIik7XG5cdFx0cHJldlRleHQgPSAoIW5hdmlnYXRpb25Bc0RhdGVGb3JtYXQgPyBwcmV2VGV4dCA6IHRoaXMuZm9ybWF0RGF0ZShwcmV2VGV4dCxcblx0XHRcdHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGRyYXdZZWFyLCBkcmF3TW9udGggLSBzdGVwTW9udGhzLCAxKSksXG5cdFx0XHR0aGlzLl9nZXRGb3JtYXRDb25maWcoaW5zdCkpKTtcblxuXHRcdHByZXYgPSAodGhpcy5fY2FuQWRqdXN0TW9udGgoaW5zdCwgLTEsIGRyYXdZZWFyLCBkcmF3TW9udGgpID9cblx0XHRcdFwiPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3ByZXYnIGRhdGEtZXZlbnQ9J2NsaWNrJ1wiICtcblx0XHRcdFwiIHRpdGxlPSdcIiArIHByZXZUZXh0ICsgXCInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLVwiICsgKCBpc1JUTCA/IFwiZVwiIDogXCJ3XCIpICsgXCInPlwiICsgcHJldlRleHQgKyBcIjwvc3Bhbj48L2E+XCIgOlxuXHRcdFx0KGhpZGVJZk5vUHJldk5leHQgPyBcIlwiIDogXCI8YSBjbGFzcz0ndWktZGF0ZXBpY2tlci1wcmV2IHVpLWNvcm5lci1hbGwgdWktc3RhdGUtZGlzYWJsZWQnIHRpdGxlPSdcIisgcHJldlRleHQgK1wiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS1cIiArICggaXNSVEwgPyBcImVcIiA6IFwid1wiKSArIFwiJz5cIiArIHByZXZUZXh0ICsgXCI8L3NwYW4+PC9hPlwiKSk7XG5cblx0XHRuZXh0VGV4dCA9IHRoaXMuX2dldChpbnN0LCBcIm5leHRUZXh0XCIpO1xuXHRcdG5leHRUZXh0ID0gKCFuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0ID8gbmV4dFRleHQgOiB0aGlzLmZvcm1hdERhdGUobmV4dFRleHQsXG5cdFx0XHR0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShkcmF3WWVhciwgZHJhd01vbnRoICsgc3RlcE1vbnRocywgMSkpLFxuXHRcdFx0dGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKGluc3QpKSk7XG5cblx0XHRuZXh0ID0gKHRoaXMuX2NhbkFkanVzdE1vbnRoKGluc3QsICsxLCBkcmF3WWVhciwgZHJhd01vbnRoKSA/XG5cdFx0XHRcIjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCcgZGF0YS1oYW5kbGVyPSduZXh0JyBkYXRhLWV2ZW50PSdjbGljaydcIiArXG5cdFx0XHRcIiB0aXRsZT0nXCIgKyBuZXh0VGV4dCArIFwiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS1cIiArICggaXNSVEwgPyBcIndcIiA6IFwiZVwiKSArIFwiJz5cIiArIG5leHRUZXh0ICsgXCI8L3NwYW4+PC9hPlwiIDpcblx0XHRcdChoaWRlSWZOb1ByZXZOZXh0ID8gXCJcIiA6IFwiPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItbmV4dCB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWRpc2FibGVkJyB0aXRsZT0nXCIrIG5leHRUZXh0ICsgXCInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLVwiICsgKCBpc1JUTCA/IFwid1wiIDogXCJlXCIpICsgXCInPlwiICsgbmV4dFRleHQgKyBcIjwvc3Bhbj48L2E+XCIpKTtcblxuXHRcdGN1cnJlbnRUZXh0ID0gdGhpcy5fZ2V0KGluc3QsIFwiY3VycmVudFRleHRcIik7XG5cdFx0Z290b0RhdGUgPSAodGhpcy5fZ2V0KGluc3QsIFwiZ290b0N1cnJlbnRcIikgJiYgaW5zdC5jdXJyZW50RGF5ID8gY3VycmVudERhdGUgOiB0b2RheSk7XG5cdFx0Y3VycmVudFRleHQgPSAoIW5hdmlnYXRpb25Bc0RhdGVGb3JtYXQgPyBjdXJyZW50VGV4dCA6XG5cdFx0XHR0aGlzLmZvcm1hdERhdGUoY3VycmVudFRleHQsIGdvdG9EYXRlLCB0aGlzLl9nZXRGb3JtYXRDb25maWcoaW5zdCkpKTtcblxuXHRcdGNvbnRyb2xzID0gKCFpbnN0LmlubGluZSA/IFwiPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSd1aS1kYXRlcGlja2VyLWNsb3NlIHVpLXN0YXRlLWRlZmF1bHQgdWktcHJpb3JpdHktcHJpbWFyeSB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J2hpZGUnIGRhdGEtZXZlbnQ9J2NsaWNrJz5cIiArXG5cdFx0XHR0aGlzLl9nZXQoaW5zdCwgXCJjbG9zZVRleHRcIikgKyBcIjwvYnV0dG9uPlwiIDogXCJcIik7XG5cblx0XHRidXR0b25QYW5lbCA9IChzaG93QnV0dG9uUGFuZWwpID8gXCI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUgdWktd2lkZ2V0LWNvbnRlbnQnPlwiICsgKGlzUlRMID8gY29udHJvbHMgOiBcIlwiKSArXG5cdFx0XHQodGhpcy5faXNJblJhbmdlKGluc3QsIGdvdG9EYXRlKSA/IFwiPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSd1aS1kYXRlcGlja2VyLWN1cnJlbnQgdWktc3RhdGUtZGVmYXVsdCB1aS1wcmlvcml0eS1zZWNvbmRhcnkgdWktY29ybmVyLWFsbCcgZGF0YS1oYW5kbGVyPSd0b2RheScgZGF0YS1ldmVudD0nY2xpY2snXCIgK1xuXHRcdFx0XCI+XCIgKyBjdXJyZW50VGV4dCArIFwiPC9idXR0b24+XCIgOiBcIlwiKSArIChpc1JUTCA/IFwiXCIgOiBjb250cm9scykgKyBcIjwvZGl2PlwiIDogXCJcIjtcblxuXHRcdGZpcnN0RGF5ID0gcGFyc2VJbnQodGhpcy5fZ2V0KGluc3QsIFwiZmlyc3REYXlcIiksMTApO1xuXHRcdGZpcnN0RGF5ID0gKGlzTmFOKGZpcnN0RGF5KSA/IDAgOiBmaXJzdERheSk7XG5cblx0XHRzaG93V2VlayA9IHRoaXMuX2dldChpbnN0LCBcInNob3dXZWVrXCIpO1xuXHRcdGRheU5hbWVzID0gdGhpcy5fZ2V0KGluc3QsIFwiZGF5TmFtZXNcIik7XG5cdFx0ZGF5TmFtZXNNaW4gPSB0aGlzLl9nZXQoaW5zdCwgXCJkYXlOYW1lc01pblwiKTtcblx0XHRtb250aE5hbWVzID0gdGhpcy5fZ2V0KGluc3QsIFwibW9udGhOYW1lc1wiKTtcblx0XHRtb250aE5hbWVzU2hvcnQgPSB0aGlzLl9nZXQoaW5zdCwgXCJtb250aE5hbWVzU2hvcnRcIik7XG5cdFx0YmVmb3JlU2hvd0RheSA9IHRoaXMuX2dldChpbnN0LCBcImJlZm9yZVNob3dEYXlcIik7XG5cdFx0c2hvd090aGVyTW9udGhzID0gdGhpcy5fZ2V0KGluc3QsIFwic2hvd090aGVyTW9udGhzXCIpO1xuXHRcdHNlbGVjdE90aGVyTW9udGhzID0gdGhpcy5fZ2V0KGluc3QsIFwic2VsZWN0T3RoZXJNb250aHNcIik7XG5cdFx0ZGVmYXVsdERhdGUgPSB0aGlzLl9nZXREZWZhdWx0RGF0ZShpbnN0KTtcblx0XHRodG1sID0gXCJcIjtcblx0XHRkb3c7XG5cdFx0Zm9yIChyb3cgPSAwOyByb3cgPCBudW1Nb250aHNbMF07IHJvdysrKSB7XG5cdFx0XHRncm91cCA9IFwiXCI7XG5cdFx0XHR0aGlzLm1heFJvd3MgPSA0O1xuXHRcdFx0Zm9yIChjb2wgPSAwOyBjb2wgPCBudW1Nb250aHNbMV07IGNvbCsrKSB7XG5cdFx0XHRcdHNlbGVjdGVkRGF0ZSA9IHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGRyYXdZZWFyLCBkcmF3TW9udGgsIGluc3Quc2VsZWN0ZWREYXkpKTtcblx0XHRcdFx0Y29ybmVyQ2xhc3MgPSBcIiB1aS1jb3JuZXItYWxsXCI7XG5cdFx0XHRcdGNhbGVuZGVyID0gXCJcIjtcblx0XHRcdFx0aWYgKGlzTXVsdGlNb250aCkge1xuXHRcdFx0XHRcdGNhbGVuZGVyICs9IFwiPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1ncm91cFwiO1xuXHRcdFx0XHRcdGlmIChudW1Nb250aHNbMV0gPiAxKSB7XG5cdFx0XHRcdFx0XHRzd2l0Y2ggKGNvbCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6IGNhbGVuZGVyICs9IFwiIHVpLWRhdGVwaWNrZXItZ3JvdXAtZmlyc3RcIjtcblx0XHRcdFx0XHRcdFx0XHRjb3JuZXJDbGFzcyA9IFwiIHVpLWNvcm5lci1cIiArIChpc1JUTCA/IFwicmlnaHRcIiA6IFwibGVmdFwiKTsgYnJlYWs7XG5cdFx0XHRcdFx0XHRcdGNhc2UgbnVtTW9udGhzWzFdLTE6IGNhbGVuZGVyICs9IFwiIHVpLWRhdGVwaWNrZXItZ3JvdXAtbGFzdFwiO1xuXHRcdFx0XHRcdFx0XHRcdGNvcm5lckNsYXNzID0gXCIgdWktY29ybmVyLVwiICsgKGlzUlRMID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCIpOyBicmVhaztcblx0XHRcdFx0XHRcdFx0ZGVmYXVsdDogY2FsZW5kZXIgKz0gXCIgdWktZGF0ZXBpY2tlci1ncm91cC1taWRkbGVcIjsgY29ybmVyQ2xhc3MgPSBcIlwiOyBicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2FsZW5kZXIgKz0gXCInPlwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNhbGVuZGVyICs9IFwiPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1oZWFkZXIgdWktd2lkZ2V0LWhlYWRlciB1aS1oZWxwZXItY2xlYXJmaXhcIiArIGNvcm5lckNsYXNzICsgXCInPlwiICtcblx0XHRcdFx0XHQoL2FsbHxsZWZ0Ly50ZXN0KGNvcm5lckNsYXNzKSAmJiByb3cgPT09IDAgPyAoaXNSVEwgPyBuZXh0IDogcHJldikgOiBcIlwiKSArXG5cdFx0XHRcdFx0KC9hbGx8cmlnaHQvLnRlc3QoY29ybmVyQ2xhc3MpICYmIHJvdyA9PT0gMCA/IChpc1JUTCA/IHByZXYgOiBuZXh0KSA6IFwiXCIpICtcblx0XHRcdFx0XHR0aGlzLl9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcihpbnN0LCBkcmF3TW9udGgsIGRyYXdZZWFyLCBtaW5EYXRlLCBtYXhEYXRlLFxuXHRcdFx0XHRcdHJvdyA+IDAgfHwgY29sID4gMCwgbW9udGhOYW1lcywgbW9udGhOYW1lc1Nob3J0KSArIC8vIGRyYXcgbW9udGggaGVhZGVyc1xuXHRcdFx0XHRcdFwiPC9kaXY+PHRhYmxlIGNsYXNzPSd1aS1kYXRlcGlja2VyLWNhbGVuZGFyJz48dGhlYWQ+XCIgK1xuXHRcdFx0XHRcdFwiPHRyPlwiO1xuXHRcdFx0XHR0aGVhZCA9IChzaG93V2VlayA/IFwiPHRoIGNsYXNzPSd1aS1kYXRlcGlja2VyLXdlZWstY29sJz5cIiArIHRoaXMuX2dldChpbnN0LCBcIndlZWtIZWFkZXJcIikgKyBcIjwvdGg+XCIgOiBcIlwiKTtcblx0XHRcdFx0Zm9yIChkb3cgPSAwOyBkb3cgPCA3OyBkb3crKykgeyAvLyBkYXlzIG9mIHRoZSB3ZWVrXG5cdFx0XHRcdFx0ZGF5ID0gKGRvdyArIGZpcnN0RGF5KSAlIDc7XG5cdFx0XHRcdFx0dGhlYWQgKz0gXCI8dGggc2NvcGU9J2NvbCdcIiArICgoZG93ICsgZmlyc3REYXkgKyA2KSAlIDcgPj0gNSA/IFwiIGNsYXNzPSd1aS1kYXRlcGlja2VyLXdlZWstZW5kJ1wiIDogXCJcIikgKyBcIj5cIiArXG5cdFx0XHRcdFx0XHRcIjxzcGFuIHRpdGxlPSdcIiArIGRheU5hbWVzW2RheV0gKyBcIic+XCIgKyBkYXlOYW1lc01pbltkYXldICsgXCI8L3NwYW4+PC90aD5cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRjYWxlbmRlciArPSB0aGVhZCArIFwiPC90cj48L3RoZWFkPjx0Ym9keT5cIjtcblx0XHRcdFx0ZGF5c0luTW9udGggPSB0aGlzLl9nZXREYXlzSW5Nb250aChkcmF3WWVhciwgZHJhd01vbnRoKTtcblx0XHRcdFx0aWYgKGRyYXdZZWFyID09PSBpbnN0LnNlbGVjdGVkWWVhciAmJiBkcmF3TW9udGggPT09IGluc3Quc2VsZWN0ZWRNb250aCkge1xuXHRcdFx0XHRcdGluc3Quc2VsZWN0ZWREYXkgPSBNYXRoLm1pbihpbnN0LnNlbGVjdGVkRGF5LCBkYXlzSW5Nb250aCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGVhZERheXMgPSAodGhpcy5fZ2V0Rmlyc3REYXlPZk1vbnRoKGRyYXdZZWFyLCBkcmF3TW9udGgpIC0gZmlyc3REYXkgKyA3KSAlIDc7XG5cdFx0XHRcdGN1clJvd3MgPSBNYXRoLmNlaWwoKGxlYWREYXlzICsgZGF5c0luTW9udGgpIC8gNyk7IC8vIGNhbGN1bGF0ZSB0aGUgbnVtYmVyIG9mIHJvd3MgdG8gZ2VuZXJhdGVcblx0XHRcdFx0bnVtUm93cyA9IChpc011bHRpTW9udGggPyB0aGlzLm1heFJvd3MgPiBjdXJSb3dzID8gdGhpcy5tYXhSb3dzIDogY3VyUm93cyA6IGN1clJvd3MpOyAvL0lmIG11bHRpcGxlIG1vbnRocywgdXNlIHRoZSBoaWdoZXIgbnVtYmVyIG9mIHJvd3MgKHNlZSAjNzA0Mylcblx0XHRcdFx0dGhpcy5tYXhSb3dzID0gbnVtUm93cztcblx0XHRcdFx0cHJpbnREYXRlID0gdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoZHJhd1llYXIsIGRyYXdNb250aCwgMSAtIGxlYWREYXlzKSk7XG5cdFx0XHRcdGZvciAoZFJvdyA9IDA7IGRSb3cgPCBudW1Sb3dzOyBkUm93KyspIHsgLy8gY3JlYXRlIGRhdGUgcGlja2VyIHJvd3Ncblx0XHRcdFx0XHRjYWxlbmRlciArPSBcIjx0cj5cIjtcblx0XHRcdFx0XHR0Ym9keSA9ICghc2hvd1dlZWsgPyBcIlwiIDogXCI8dGQgY2xhc3M9J3VpLWRhdGVwaWNrZXItd2Vlay1jb2wnPlwiICtcblx0XHRcdFx0XHRcdHRoaXMuX2dldChpbnN0LCBcImNhbGN1bGF0ZVdlZWtcIikocHJpbnREYXRlKSArIFwiPC90ZD5cIik7XG5cdFx0XHRcdFx0Zm9yIChkb3cgPSAwOyBkb3cgPCA3OyBkb3crKykgeyAvLyBjcmVhdGUgZGF0ZSBwaWNrZXIgZGF5c1xuXHRcdFx0XHRcdFx0ZGF5U2V0dGluZ3MgPSAoYmVmb3JlU2hvd0RheSA/XG5cdFx0XHRcdFx0XHRcdGJlZm9yZVNob3dEYXkuYXBwbHkoKGluc3QuaW5wdXQgPyBpbnN0LmlucHV0WzBdIDogbnVsbCksIFtwcmludERhdGVdKSA6IFt0cnVlLCBcIlwiXSk7XG5cdFx0XHRcdFx0XHRvdGhlck1vbnRoID0gKHByaW50RGF0ZS5nZXRNb250aCgpICE9PSBkcmF3TW9udGgpO1xuXHRcdFx0XHRcdFx0dW5zZWxlY3RhYmxlID0gKG90aGVyTW9udGggJiYgIXNlbGVjdE90aGVyTW9udGhzKSB8fCAhZGF5U2V0dGluZ3NbMF0gfHxcblx0XHRcdFx0XHRcdFx0KG1pbkRhdGUgJiYgcHJpbnREYXRlIDwgbWluRGF0ZSkgfHwgKG1heERhdGUgJiYgcHJpbnREYXRlID4gbWF4RGF0ZSk7XG5cdFx0XHRcdFx0XHR0Ym9keSArPSBcIjx0ZCBjbGFzcz0nXCIgK1xuXHRcdFx0XHRcdFx0XHQoKGRvdyArIGZpcnN0RGF5ICsgNikgJSA3ID49IDUgPyBcIiB1aS1kYXRlcGlja2VyLXdlZWstZW5kXCIgOiBcIlwiKSArIC8vIGhpZ2hsaWdodCB3ZWVrZW5kc1xuXHRcdFx0XHRcdFx0XHQob3RoZXJNb250aCA/IFwiIHVpLWRhdGVwaWNrZXItb3RoZXItbW9udGhcIiA6IFwiXCIpICsgLy8gaGlnaGxpZ2h0IGRheXMgZnJvbSBvdGhlciBtb250aHNcblx0XHRcdFx0XHRcdFx0KChwcmludERhdGUuZ2V0VGltZSgpID09PSBzZWxlY3RlZERhdGUuZ2V0VGltZSgpICYmIGRyYXdNb250aCA9PT0gaW5zdC5zZWxlY3RlZE1vbnRoICYmIGluc3QuX2tleUV2ZW50KSB8fCAvLyB1c2VyIHByZXNzZWQga2V5XG5cdFx0XHRcdFx0XHRcdChkZWZhdWx0RGF0ZS5nZXRUaW1lKCkgPT09IHByaW50RGF0ZS5nZXRUaW1lKCkgJiYgZGVmYXVsdERhdGUuZ2V0VGltZSgpID09PSBzZWxlY3RlZERhdGUuZ2V0VGltZSgpKSA/XG5cdFx0XHRcdFx0XHRcdC8vIG9yIGRlZmF1bHREYXRlIGlzIGN1cnJlbnQgcHJpbnRlZERhdGUgYW5kIGRlZmF1bHREYXRlIGlzIHNlbGVjdGVkRGF0ZVxuXHRcdFx0XHRcdFx0XHRcIiBcIiArIHRoaXMuX2RheU92ZXJDbGFzcyA6IFwiXCIpICsgLy8gaGlnaGxpZ2h0IHNlbGVjdGVkIGRheVxuXHRcdFx0XHRcdFx0XHQodW5zZWxlY3RhYmxlID8gXCIgXCIgKyB0aGlzLl91bnNlbGVjdGFibGVDbGFzcyArIFwiIHVpLXN0YXRlLWRpc2FibGVkXCI6IFwiXCIpICsgIC8vIGhpZ2hsaWdodCB1bnNlbGVjdGFibGUgZGF5c1xuXHRcdFx0XHRcdFx0XHQob3RoZXJNb250aCAmJiAhc2hvd090aGVyTW9udGhzID8gXCJcIiA6IFwiIFwiICsgZGF5U2V0dGluZ3NbMV0gKyAvLyBoaWdobGlnaHQgY3VzdG9tIGRhdGVzXG5cdFx0XHRcdFx0XHRcdChwcmludERhdGUuZ2V0VGltZSgpID09PSBjdXJyZW50RGF0ZS5nZXRUaW1lKCkgPyBcIiBcIiArIHRoaXMuX2N1cnJlbnRDbGFzcyA6IFwiXCIpICsgLy8gaGlnaGxpZ2h0IHNlbGVjdGVkIGRheVxuXHRcdFx0XHRcdFx0XHQocHJpbnREYXRlLmdldFRpbWUoKSA9PT0gdG9kYXkuZ2V0VGltZSgpID8gXCIgdWktZGF0ZXBpY2tlci10b2RheVwiIDogXCJcIikpICsgXCInXCIgKyAvLyBoaWdobGlnaHQgdG9kYXkgKGlmIGRpZmZlcmVudClcblx0XHRcdFx0XHRcdFx0KCghb3RoZXJNb250aCB8fCBzaG93T3RoZXJNb250aHMpICYmIGRheVNldHRpbmdzWzJdID8gXCIgdGl0bGU9J1wiICsgZGF5U2V0dGluZ3NbMl0ucmVwbGFjZSgvJy9nLCBcIiYjMzk7XCIpICsgXCInXCIgOiBcIlwiKSArIC8vIGNlbGwgdGl0bGVcblx0XHRcdFx0XHRcdFx0KHVuc2VsZWN0YWJsZSA/IFwiXCIgOiBcIiBkYXRhLWhhbmRsZXI9J3NlbGVjdERheScgZGF0YS1ldmVudD0nY2xpY2snIGRhdGEtbW9udGg9J1wiICsgcHJpbnREYXRlLmdldE1vbnRoKCkgKyBcIicgZGF0YS15ZWFyPSdcIiArIHByaW50RGF0ZS5nZXRGdWxsWWVhcigpICsgXCInXCIpICsgXCI+XCIgKyAvLyBhY3Rpb25zXG5cdFx0XHRcdFx0XHRcdChvdGhlck1vbnRoICYmICFzaG93T3RoZXJNb250aHMgPyBcIiYjeGEwO1wiIDogLy8gZGlzcGxheSBmb3Igb3RoZXIgbW9udGhzXG5cdFx0XHRcdFx0XHRcdCh1bnNlbGVjdGFibGUgPyBcIjxzcGFuIGNsYXNzPSd1aS1zdGF0ZS1kZWZhdWx0Jz5cIiArIHByaW50RGF0ZS5nZXREYXRlKCkgKyBcIjwvc3Bhbj5cIiA6IFwiPGEgY2xhc3M9J3VpLXN0YXRlLWRlZmF1bHRcIiArXG5cdFx0XHRcdFx0XHRcdChwcmludERhdGUuZ2V0VGltZSgpID09PSB0b2RheS5nZXRUaW1lKCkgPyBcIiB1aS1zdGF0ZS1oaWdobGlnaHRcIiA6IFwiXCIpICtcblx0XHRcdFx0XHRcdFx0KHByaW50RGF0ZS5nZXRUaW1lKCkgPT09IGN1cnJlbnREYXRlLmdldFRpbWUoKSA/IFwiIHVpLXN0YXRlLWFjdGl2ZVwiIDogXCJcIikgKyAvLyBoaWdobGlnaHQgc2VsZWN0ZWQgZGF5XG5cdFx0XHRcdFx0XHRcdChvdGhlck1vbnRoID8gXCIgdWktcHJpb3JpdHktc2Vjb25kYXJ5XCIgOiBcIlwiKSArIC8vIGRpc3Rpbmd1aXNoIGRhdGVzIGZyb20gb3RoZXIgbW9udGhzXG5cdFx0XHRcdFx0XHRcdFwiJyBocmVmPScjJz5cIiArIHByaW50RGF0ZS5nZXREYXRlKCkgKyBcIjwvYT5cIikpICsgXCI8L3RkPlwiOyAvLyBkaXNwbGF5IHNlbGVjdGFibGUgZGF0ZVxuXHRcdFx0XHRcdFx0cHJpbnREYXRlLnNldERhdGUocHJpbnREYXRlLmdldERhdGUoKSArIDEpO1xuXHRcdFx0XHRcdFx0cHJpbnREYXRlID0gdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QocHJpbnREYXRlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2FsZW5kZXIgKz0gdGJvZHkgKyBcIjwvdHI+XCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZHJhd01vbnRoKys7XG5cdFx0XHRcdGlmIChkcmF3TW9udGggPiAxMSkge1xuXHRcdFx0XHRcdGRyYXdNb250aCA9IDA7XG5cdFx0XHRcdFx0ZHJhd1llYXIrKztcblx0XHRcdFx0fVxuXHRcdFx0XHRjYWxlbmRlciArPSBcIjwvdGJvZHk+PC90YWJsZT5cIiArIChpc011bHRpTW9udGggPyBcIjwvZGl2PlwiICtcblx0XHRcdFx0XHRcdFx0KChudW1Nb250aHNbMF0gPiAwICYmIGNvbCA9PT0gbnVtTW9udGhzWzFdLTEpID8gXCI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLXJvdy1icmVhayc+PC9kaXY+XCIgOiBcIlwiKSA6IFwiXCIpO1xuXHRcdFx0XHRncm91cCArPSBjYWxlbmRlcjtcblx0XHRcdH1cblx0XHRcdGh0bWwgKz0gZ3JvdXA7XG5cdFx0fVxuXHRcdGh0bWwgKz0gYnV0dG9uUGFuZWw7XG5cdFx0aW5zdC5fa2V5RXZlbnQgPSBmYWxzZTtcblx0XHRyZXR1cm4gaHRtbDtcblx0fSxcblxuXHQvKiBHZW5lcmF0ZSB0aGUgbW9udGggYW5kIHllYXIgaGVhZGVyLiAqL1xuXHRfZ2VuZXJhdGVNb250aFllYXJIZWFkZXI6IGZ1bmN0aW9uKGluc3QsIGRyYXdNb250aCwgZHJhd1llYXIsIG1pbkRhdGUsIG1heERhdGUsXG5cdFx0XHRzZWNvbmRhcnksIG1vbnRoTmFtZXMsIG1vbnRoTmFtZXNTaG9ydCkge1xuXG5cdFx0dmFyIGluTWluWWVhciwgaW5NYXhZZWFyLCBtb250aCwgeWVhcnMsIHRoaXNZZWFyLCBkZXRlcm1pbmVZZWFyLCB5ZWFyLCBlbmRZZWFyLFxuXHRcdFx0Y2hhbmdlTW9udGggPSB0aGlzLl9nZXQoaW5zdCwgXCJjaGFuZ2VNb250aFwiKSxcblx0XHRcdGNoYW5nZVllYXIgPSB0aGlzLl9nZXQoaW5zdCwgXCJjaGFuZ2VZZWFyXCIpLFxuXHRcdFx0c2hvd01vbnRoQWZ0ZXJZZWFyID0gdGhpcy5fZ2V0KGluc3QsIFwic2hvd01vbnRoQWZ0ZXJZZWFyXCIpLFxuXHRcdFx0aHRtbCA9IFwiPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci10aXRsZSc+XCIsXG5cdFx0XHRtb250aEh0bWwgPSBcIlwiO1xuXG5cdFx0Ly8gbW9udGggc2VsZWN0aW9uXG5cdFx0aWYgKHNlY29uZGFyeSB8fCAhY2hhbmdlTW9udGgpIHtcblx0XHRcdG1vbnRoSHRtbCArPSBcIjxzcGFuIGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJz5cIiArIG1vbnRoTmFtZXNbZHJhd01vbnRoXSArIFwiPC9zcGFuPlwiO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpbk1pblllYXIgPSAobWluRGF0ZSAmJiBtaW5EYXRlLmdldEZ1bGxZZWFyKCkgPT09IGRyYXdZZWFyKTtcblx0XHRcdGluTWF4WWVhciA9IChtYXhEYXRlICYmIG1heERhdGUuZ2V0RnVsbFllYXIoKSA9PT0gZHJhd1llYXIpO1xuXHRcdFx0bW9udGhIdG1sICs9IFwiPHNlbGVjdCBjbGFzcz0ndWktZGF0ZXBpY2tlci1tb250aCcgZGF0YS1oYW5kbGVyPSdzZWxlY3RNb250aCcgZGF0YS1ldmVudD0nY2hhbmdlJz5cIjtcblx0XHRcdGZvciAoIG1vbnRoID0gMDsgbW9udGggPCAxMjsgbW9udGgrKykge1xuXHRcdFx0XHRpZiAoKCFpbk1pblllYXIgfHwgbW9udGggPj0gbWluRGF0ZS5nZXRNb250aCgpKSAmJiAoIWluTWF4WWVhciB8fCBtb250aCA8PSBtYXhEYXRlLmdldE1vbnRoKCkpKSB7XG5cdFx0XHRcdFx0bW9udGhIdG1sICs9IFwiPG9wdGlvbiB2YWx1ZT0nXCIgKyBtb250aCArIFwiJ1wiICtcblx0XHRcdFx0XHRcdChtb250aCA9PT0gZHJhd01vbnRoID8gXCIgc2VsZWN0ZWQ9J3NlbGVjdGVkJ1wiIDogXCJcIikgK1xuXHRcdFx0XHRcdFx0XCI+XCIgKyBtb250aE5hbWVzU2hvcnRbbW9udGhdICsgXCI8L29wdGlvbj5cIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bW9udGhIdG1sICs9IFwiPC9zZWxlY3Q+XCI7XG5cdFx0fVxuXG5cdFx0aWYgKCFzaG93TW9udGhBZnRlclllYXIpIHtcblx0XHRcdGh0bWwgKz0gbW9udGhIdG1sICsgKHNlY29uZGFyeSB8fCAhKGNoYW5nZU1vbnRoICYmIGNoYW5nZVllYXIpID8gXCImI3hhMDtcIiA6IFwiXCIpO1xuXHRcdH1cblxuXHRcdC8vIHllYXIgc2VsZWN0aW9uXG5cdFx0aWYgKCAhaW5zdC55ZWFyc2h0bWwgKSB7XG5cdFx0XHRpbnN0LnllYXJzaHRtbCA9IFwiXCI7XG5cdFx0XHRpZiAoc2Vjb25kYXJ5IHx8ICFjaGFuZ2VZZWFyKSB7XG5cdFx0XHRcdGh0bWwgKz0gXCI8c3BhbiBjbGFzcz0ndWktZGF0ZXBpY2tlci15ZWFyJz5cIiArIGRyYXdZZWFyICsgXCI8L3NwYW4+XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBkZXRlcm1pbmUgcmFuZ2Ugb2YgeWVhcnMgdG8gZGlzcGxheVxuXHRcdFx0XHR5ZWFycyA9IHRoaXMuX2dldChpbnN0LCBcInllYXJSYW5nZVwiKS5zcGxpdChcIjpcIik7XG5cdFx0XHRcdHRoaXNZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0XHRkZXRlcm1pbmVZZWFyID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdFx0XHR2YXIgeWVhciA9ICh2YWx1ZS5tYXRjaCgvY1srXFwtXS4qLykgPyBkcmF3WWVhciArIHBhcnNlSW50KHZhbHVlLnN1YnN0cmluZygxKSwgMTApIDpcblx0XHRcdFx0XHRcdCh2YWx1ZS5tYXRjaCgvWytcXC1dLiovKSA/IHRoaXNZZWFyICsgcGFyc2VJbnQodmFsdWUsIDEwKSA6XG5cdFx0XHRcdFx0XHRwYXJzZUludCh2YWx1ZSwgMTApKSk7XG5cdFx0XHRcdFx0cmV0dXJuIChpc05hTih5ZWFyKSA/IHRoaXNZZWFyIDogeWVhcik7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHllYXIgPSBkZXRlcm1pbmVZZWFyKHllYXJzWzBdKTtcblx0XHRcdFx0ZW5kWWVhciA9IE1hdGgubWF4KHllYXIsIGRldGVybWluZVllYXIoeWVhcnNbMV0gfHwgXCJcIikpO1xuXHRcdFx0XHR5ZWFyID0gKG1pbkRhdGUgPyBNYXRoLm1heCh5ZWFyLCBtaW5EYXRlLmdldEZ1bGxZZWFyKCkpIDogeWVhcik7XG5cdFx0XHRcdGVuZFllYXIgPSAobWF4RGF0ZSA/IE1hdGgubWluKGVuZFllYXIsIG1heERhdGUuZ2V0RnVsbFllYXIoKSkgOiBlbmRZZWFyKTtcblx0XHRcdFx0aW5zdC55ZWFyc2h0bWwgKz0gXCI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLXllYXInIGRhdGEtaGFuZGxlcj0nc2VsZWN0WWVhcicgZGF0YS1ldmVudD0nY2hhbmdlJz5cIjtcblx0XHRcdFx0Zm9yICg7IHllYXIgPD0gZW5kWWVhcjsgeWVhcisrKSB7XG5cdFx0XHRcdFx0aW5zdC55ZWFyc2h0bWwgKz0gXCI8b3B0aW9uIHZhbHVlPSdcIiArIHllYXIgKyBcIidcIiArXG5cdFx0XHRcdFx0XHQoeWVhciA9PT0gZHJhd1llYXIgPyBcIiBzZWxlY3RlZD0nc2VsZWN0ZWQnXCIgOiBcIlwiKSArXG5cdFx0XHRcdFx0XHRcIj5cIiArIHllYXIgKyBcIjwvb3B0aW9uPlwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGluc3QueWVhcnNodG1sICs9IFwiPC9zZWxlY3Q+XCI7XG5cblx0XHRcdFx0aHRtbCArPSBpbnN0LnllYXJzaHRtbDtcblx0XHRcdFx0aW5zdC55ZWFyc2h0bWwgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGh0bWwgKz0gdGhpcy5fZ2V0KGluc3QsIFwieWVhclN1ZmZpeFwiKTtcblx0XHRpZiAoc2hvd01vbnRoQWZ0ZXJZZWFyKSB7XG5cdFx0XHRodG1sICs9IChzZWNvbmRhcnkgfHwgIShjaGFuZ2VNb250aCAmJiBjaGFuZ2VZZWFyKSA/IFwiJiN4YTA7XCIgOiBcIlwiKSArIG1vbnRoSHRtbDtcblx0XHR9XG5cdFx0aHRtbCArPSBcIjwvZGl2PlwiOyAvLyBDbG9zZSBkYXRlcGlja2VyX2hlYWRlclxuXHRcdHJldHVybiBodG1sO1xuXHR9LFxuXG5cdC8qIEFkanVzdCBvbmUgb2YgdGhlIGRhdGUgc3ViLWZpZWxkcy4gKi9cblx0X2FkanVzdEluc3REYXRlOiBmdW5jdGlvbihpbnN0LCBvZmZzZXQsIHBlcmlvZCkge1xuXHRcdHZhciB5ZWFyID0gaW5zdC5kcmF3WWVhciArIChwZXJpb2QgPT09IFwiWVwiID8gb2Zmc2V0IDogMCksXG5cdFx0XHRtb250aCA9IGluc3QuZHJhd01vbnRoICsgKHBlcmlvZCA9PT0gXCJNXCIgPyBvZmZzZXQgOiAwKSxcblx0XHRcdGRheSA9IE1hdGgubWluKGluc3Quc2VsZWN0ZWREYXksIHRoaXMuX2dldERheXNJbk1vbnRoKHllYXIsIG1vbnRoKSkgKyAocGVyaW9kID09PSBcIkRcIiA/IG9mZnNldCA6IDApLFxuXHRcdFx0ZGF0ZSA9IHRoaXMuX3Jlc3RyaWN0TWluTWF4KGluc3QsIHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpKSk7XG5cblx0XHRpbnN0LnNlbGVjdGVkRGF5ID0gZGF0ZS5nZXREYXRlKCk7XG5cdFx0aW5zdC5kcmF3TW9udGggPSBpbnN0LnNlbGVjdGVkTW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG5cdFx0aW5zdC5kcmF3WWVhciA9IGluc3Quc2VsZWN0ZWRZZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdGlmIChwZXJpb2QgPT09IFwiTVwiIHx8IHBlcmlvZCA9PT0gXCJZXCIpIHtcblx0XHRcdHRoaXMuX25vdGlmeUNoYW5nZShpbnN0KTtcblx0XHR9XG5cdH0sXG5cblx0LyogRW5zdXJlIGEgZGF0ZSBpcyB3aXRoaW4gYW55IG1pbi9tYXggYm91bmRzLiAqL1xuXHRfcmVzdHJpY3RNaW5NYXg6IGZ1bmN0aW9uKGluc3QsIGRhdGUpIHtcblx0XHR2YXIgbWluRGF0ZSA9IHRoaXMuX2dldE1pbk1heERhdGUoaW5zdCwgXCJtaW5cIiksXG5cdFx0XHRtYXhEYXRlID0gdGhpcy5fZ2V0TWluTWF4RGF0ZShpbnN0LCBcIm1heFwiKSxcblx0XHRcdG5ld0RhdGUgPSAobWluRGF0ZSAmJiBkYXRlIDwgbWluRGF0ZSA/IG1pbkRhdGUgOiBkYXRlKTtcblx0XHRyZXR1cm4gKG1heERhdGUgJiYgbmV3RGF0ZSA+IG1heERhdGUgPyBtYXhEYXRlIDogbmV3RGF0ZSk7XG5cdH0sXG5cblx0LyogTm90aWZ5IGNoYW5nZSBvZiBtb250aC95ZWFyLiAqL1xuXHRfbm90aWZ5Q2hhbmdlOiBmdW5jdGlvbihpbnN0KSB7XG5cdFx0dmFyIG9uQ2hhbmdlID0gdGhpcy5fZ2V0KGluc3QsIFwib25DaGFuZ2VNb250aFllYXJcIik7XG5cdFx0aWYgKG9uQ2hhbmdlKSB7XG5cdFx0XHRvbkNoYW5nZS5hcHBseSgoaW5zdC5pbnB1dCA/IGluc3QuaW5wdXRbMF0gOiBudWxsKSxcblx0XHRcdFx0W2luc3Quc2VsZWN0ZWRZZWFyLCBpbnN0LnNlbGVjdGVkTW9udGggKyAxLCBpbnN0XSk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIERldGVybWluZSB0aGUgbnVtYmVyIG9mIG1vbnRocyB0byBzaG93LiAqL1xuXHRfZ2V0TnVtYmVyT2ZNb250aHM6IGZ1bmN0aW9uKGluc3QpIHtcblx0XHR2YXIgbnVtTW9udGhzID0gdGhpcy5fZ2V0KGluc3QsIFwibnVtYmVyT2ZNb250aHNcIik7XG5cdFx0cmV0dXJuIChudW1Nb250aHMgPT0gbnVsbCA/IFsxLCAxXSA6ICh0eXBlb2YgbnVtTW9udGhzID09PSBcIm51bWJlclwiID8gWzEsIG51bU1vbnRoc10gOiBudW1Nb250aHMpKTtcblx0fSxcblxuXHQvKiBEZXRlcm1pbmUgdGhlIGN1cnJlbnQgbWF4aW11bSBkYXRlIC0gZW5zdXJlIG5vIHRpbWUgY29tcG9uZW50cyBhcmUgc2V0LiAqL1xuXHRfZ2V0TWluTWF4RGF0ZTogZnVuY3Rpb24oaW5zdCwgbWluTWF4KSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RldGVybWluZURhdGUoaW5zdCwgdGhpcy5fZ2V0KGluc3QsIG1pbk1heCArIFwiRGF0ZVwiKSwgbnVsbCk7XG5cdH0sXG5cblx0LyogRmluZCB0aGUgbnVtYmVyIG9mIGRheXMgaW4gYSBnaXZlbiBtb250aC4gKi9cblx0X2dldERheXNJbk1vbnRoOiBmdW5jdGlvbih5ZWFyLCBtb250aCkge1xuXHRcdHJldHVybiAzMiAtIHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHllYXIsIG1vbnRoLCAzMikpLmdldERhdGUoKTtcblx0fSxcblxuXHQvKiBGaW5kIHRoZSBkYXkgb2YgdGhlIHdlZWsgb2YgdGhlIGZpcnN0IG9mIGEgbW9udGguICovXG5cdF9nZXRGaXJzdERheU9mTW9udGg6IGZ1bmN0aW9uKHllYXIsIG1vbnRoKSB7XG5cdFx0cmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKS5nZXREYXkoKTtcblx0fSxcblxuXHQvKiBEZXRlcm1pbmVzIGlmIHdlIHNob3VsZCBhbGxvdyBhIFwibmV4dC9wcmV2XCIgbW9udGggZGlzcGxheSBjaGFuZ2UuICovXG5cdF9jYW5BZGp1c3RNb250aDogZnVuY3Rpb24oaW5zdCwgb2Zmc2V0LCBjdXJZZWFyLCBjdXJNb250aCkge1xuXHRcdHZhciBudW1Nb250aHMgPSB0aGlzLl9nZXROdW1iZXJPZk1vbnRocyhpbnN0KSxcblx0XHRcdGRhdGUgPSB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShjdXJZZWFyLFxuXHRcdFx0Y3VyTW9udGggKyAob2Zmc2V0IDwgMCA/IG9mZnNldCA6IG51bU1vbnRoc1swXSAqIG51bU1vbnRoc1sxXSksIDEpKTtcblxuXHRcdGlmIChvZmZzZXQgPCAwKSB7XG5cdFx0XHRkYXRlLnNldERhdGUodGhpcy5fZ2V0RGF5c0luTW9udGgoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkpKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2lzSW5SYW5nZShpbnN0LCBkYXRlKTtcblx0fSxcblxuXHQvKiBJcyB0aGUgZ2l2ZW4gZGF0ZSBpbiB0aGUgYWNjZXB0ZWQgcmFuZ2U/ICovXG5cdF9pc0luUmFuZ2U6IGZ1bmN0aW9uKGluc3QsIGRhdGUpIHtcblx0XHR2YXIgeWVhclNwbGl0LCBjdXJyZW50WWVhcixcblx0XHRcdG1pbkRhdGUgPSB0aGlzLl9nZXRNaW5NYXhEYXRlKGluc3QsIFwibWluXCIpLFxuXHRcdFx0bWF4RGF0ZSA9IHRoaXMuX2dldE1pbk1heERhdGUoaW5zdCwgXCJtYXhcIiksXG5cdFx0XHRtaW5ZZWFyID0gbnVsbCxcblx0XHRcdG1heFllYXIgPSBudWxsLFxuXHRcdFx0eWVhcnMgPSB0aGlzLl9nZXQoaW5zdCwgXCJ5ZWFyUmFuZ2VcIik7XG5cdFx0XHRpZiAoeWVhcnMpe1xuXHRcdFx0XHR5ZWFyU3BsaXQgPSB5ZWFycy5zcGxpdChcIjpcIik7XG5cdFx0XHRcdGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0XHRtaW5ZZWFyID0gcGFyc2VJbnQoeWVhclNwbGl0WzBdLCAxMCk7XG5cdFx0XHRcdG1heFllYXIgPSBwYXJzZUludCh5ZWFyU3BsaXRbMV0sIDEwKTtcblx0XHRcdFx0aWYgKCB5ZWFyU3BsaXRbMF0ubWF0Y2goL1srXFwtXS4qLykgKSB7XG5cdFx0XHRcdFx0bWluWWVhciArPSBjdXJyZW50WWVhcjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIHllYXJTcGxpdFsxXS5tYXRjaCgvWytcXC1dLiovKSApIHtcblx0XHRcdFx0XHRtYXhZZWFyICs9IGN1cnJlbnRZZWFyO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRyZXR1cm4gKCghbWluRGF0ZSB8fCBkYXRlLmdldFRpbWUoKSA+PSBtaW5EYXRlLmdldFRpbWUoKSkgJiZcblx0XHRcdCghbWF4RGF0ZSB8fCBkYXRlLmdldFRpbWUoKSA8PSBtYXhEYXRlLmdldFRpbWUoKSkgJiZcblx0XHRcdCghbWluWWVhciB8fCBkYXRlLmdldEZ1bGxZZWFyKCkgPj0gbWluWWVhcikgJiZcblx0XHRcdCghbWF4WWVhciB8fCBkYXRlLmdldEZ1bGxZZWFyKCkgPD0gbWF4WWVhcikpO1xuXHR9LFxuXG5cdC8qIFByb3ZpZGUgdGhlIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MgZm9yIGZvcm1hdHRpbmcvcGFyc2luZy4gKi9cblx0X2dldEZvcm1hdENvbmZpZzogZnVuY3Rpb24oaW5zdCkge1xuXHRcdHZhciBzaG9ydFllYXJDdXRvZmYgPSB0aGlzLl9nZXQoaW5zdCwgXCJzaG9ydFllYXJDdXRvZmZcIik7XG5cdFx0c2hvcnRZZWFyQ3V0b2ZmID0gKHR5cGVvZiBzaG9ydFllYXJDdXRvZmYgIT09IFwic3RyaW5nXCIgPyBzaG9ydFllYXJDdXRvZmYgOlxuXHRcdFx0bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpICUgMTAwICsgcGFyc2VJbnQoc2hvcnRZZWFyQ3V0b2ZmLCAxMCkpO1xuXHRcdHJldHVybiB7c2hvcnRZZWFyQ3V0b2ZmOiBzaG9ydFllYXJDdXRvZmYsXG5cdFx0XHRkYXlOYW1lc1Nob3J0OiB0aGlzLl9nZXQoaW5zdCwgXCJkYXlOYW1lc1Nob3J0XCIpLCBkYXlOYW1lczogdGhpcy5fZ2V0KGluc3QsIFwiZGF5TmFtZXNcIiksXG5cdFx0XHRtb250aE5hbWVzU2hvcnQ6IHRoaXMuX2dldChpbnN0LCBcIm1vbnRoTmFtZXNTaG9ydFwiKSwgbW9udGhOYW1lczogdGhpcy5fZ2V0KGluc3QsIFwibW9udGhOYW1lc1wiKX07XG5cdH0sXG5cblx0LyogRm9ybWF0IHRoZSBnaXZlbiBkYXRlIGZvciBkaXNwbGF5LiAqL1xuXHRfZm9ybWF0RGF0ZTogZnVuY3Rpb24oaW5zdCwgZGF5LCBtb250aCwgeWVhcikge1xuXHRcdGlmICghZGF5KSB7XG5cdFx0XHRpbnN0LmN1cnJlbnREYXkgPSBpbnN0LnNlbGVjdGVkRGF5O1xuXHRcdFx0aW5zdC5jdXJyZW50TW9udGggPSBpbnN0LnNlbGVjdGVkTW9udGg7XG5cdFx0XHRpbnN0LmN1cnJlbnRZZWFyID0gaW5zdC5zZWxlY3RlZFllYXI7XG5cdFx0fVxuXHRcdHZhciBkYXRlID0gKGRheSA/ICh0eXBlb2YgZGF5ID09PSBcIm9iamVjdFwiID8gZGF5IDpcblx0XHRcdHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpKSkgOlxuXHRcdFx0dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoaW5zdC5jdXJyZW50WWVhciwgaW5zdC5jdXJyZW50TW9udGgsIGluc3QuY3VycmVudERheSkpKTtcblx0XHRyZXR1cm4gdGhpcy5mb3JtYXREYXRlKHRoaXMuX2dldChpbnN0LCBcImRhdGVGb3JtYXRcIiksIGRhdGUsIHRoaXMuX2dldEZvcm1hdENvbmZpZyhpbnN0KSk7XG5cdH1cbn0pO1xuXG4vKlxuICogQmluZCBob3ZlciBldmVudHMgZm9yIGRhdGVwaWNrZXIgZWxlbWVudHMuXG4gKiBEb25lIHZpYSBkZWxlZ2F0ZSBzbyB0aGUgYmluZGluZyBvbmx5IG9jY3VycyBvbmNlIGluIHRoZSBsaWZldGltZSBvZiB0aGUgcGFyZW50IGRpdi5cbiAqIEdsb2JhbCBkYXRlcGlja2VyX2luc3RBY3RpdmUsIHNldCBieSBfdXBkYXRlRGF0ZXBpY2tlciBhbGxvd3MgdGhlIGhhbmRsZXJzIHRvIGZpbmQgdGhlaXIgd2F5IGJhY2sgdG8gdGhlIGFjdGl2ZSBwaWNrZXIuXG4gKi9cbmZ1bmN0aW9uIGRhdGVwaWNrZXJfYmluZEhvdmVyKGRwRGl2KSB7XG5cdHZhciBzZWxlY3RvciA9IFwiYnV0dG9uLCAudWktZGF0ZXBpY2tlci1wcmV2LCAudWktZGF0ZXBpY2tlci1uZXh0LCAudWktZGF0ZXBpY2tlci1jYWxlbmRhciB0ZCBhXCI7XG5cdHJldHVybiBkcERpdi5kZWxlZ2F0ZShzZWxlY3RvciwgXCJtb3VzZW91dFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKTtcblx0XHRcdGlmICh0aGlzLmNsYXNzTmFtZS5pbmRleE9mKFwidWktZGF0ZXBpY2tlci1wcmV2XCIpICE9PSAtMSkge1xuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKFwidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyXCIpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuY2xhc3NOYW1lLmluZGV4T2YoXCJ1aS1kYXRlcGlja2VyLW5leHRcIikgIT09IC0xKSB7XG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoXCJ1aS1kYXRlcGlja2VyLW5leHQtaG92ZXJcIik7XG5cdFx0XHR9XG5cdFx0fSlcblx0XHQuZGVsZWdhdGUoIHNlbGVjdG9yLCBcIm1vdXNlb3ZlclwiLCBkYXRlcGlja2VyX2hhbmRsZU1vdXNlb3ZlciApO1xufVxuXG5mdW5jdGlvbiBkYXRlcGlja2VyX2hhbmRsZU1vdXNlb3ZlcigpIHtcblx0aWYgKCEkLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKCBkYXRlcGlja2VyX2luc3RBY3RpdmUuaW5saW5lPyBkYXRlcGlja2VyX2luc3RBY3RpdmUuZHBEaXYucGFyZW50KClbMF0gOiBkYXRlcGlja2VyX2luc3RBY3RpdmUuaW5wdXRbMF0pKSB7XG5cdFx0JCh0aGlzKS5wYXJlbnRzKFwiLnVpLWRhdGVwaWNrZXItY2FsZW5kYXJcIikuZmluZChcImFcIikucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKTtcblx0XHQkKHRoaXMpLmFkZENsYXNzKFwidWktc3RhdGUtaG92ZXJcIik7XG5cdFx0aWYgKHRoaXMuY2xhc3NOYW1lLmluZGV4T2YoXCJ1aS1kYXRlcGlja2VyLXByZXZcIikgIT09IC0xKSB7XG5cdFx0XHQkKHRoaXMpLmFkZENsYXNzKFwidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyXCIpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5jbGFzc05hbWUuaW5kZXhPZihcInVpLWRhdGVwaWNrZXItbmV4dFwiKSAhPT0gLTEpIHtcblx0XHRcdCQodGhpcykuYWRkQ2xhc3MoXCJ1aS1kYXRlcGlja2VyLW5leHQtaG92ZXJcIik7XG5cdFx0fVxuXHR9XG59XG5cbi8qIGpRdWVyeSBleHRlbmQgbm93IGlnbm9yZXMgbnVsbHMhICovXG5mdW5jdGlvbiBkYXRlcGlja2VyX2V4dGVuZFJlbW92ZSh0YXJnZXQsIHByb3BzKSB7XG5cdCQuZXh0ZW5kKHRhcmdldCwgcHJvcHMpO1xuXHRmb3IgKHZhciBuYW1lIGluIHByb3BzKSB7XG5cdFx0aWYgKHByb3BzW25hbWVdID09IG51bGwpIHtcblx0XHRcdHRhcmdldFtuYW1lXSA9IHByb3BzW25hbWVdO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gdGFyZ2V0O1xufVxuXG4vKiBJbnZva2UgdGhlIGRhdGVwaWNrZXIgZnVuY3Rpb25hbGl0eS5cbiAgIEBwYXJhbSAgb3B0aW9ucyAgc3RyaW5nIC0gYSBjb21tYW5kLCBvcHRpb25hbGx5IGZvbGxvd2VkIGJ5IGFkZGl0aW9uYWwgcGFyYW1ldGVycyBvclxuXHRcdFx0XHRcdE9iamVjdCAtIHNldHRpbmdzIGZvciBhdHRhY2hpbmcgbmV3IGRhdGVwaWNrZXIgZnVuY3Rpb25hbGl0eVxuICAgQHJldHVybiAgalF1ZXJ5IG9iamVjdCAqL1xuJC5mbi5kYXRlcGlja2VyID0gZnVuY3Rpb24ob3B0aW9ucyl7XG5cblx0LyogVmVyaWZ5IGFuIGVtcHR5IGNvbGxlY3Rpb24gd2Fzbid0IHBhc3NlZCAtIEZpeGVzICM2OTc2ICovXG5cdGlmICggIXRoaXMubGVuZ3RoICkge1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyogSW5pdGlhbGlzZSB0aGUgZGF0ZSBwaWNrZXIuICovXG5cdGlmICghJC5kYXRlcGlja2VyLmluaXRpYWxpemVkKSB7XG5cdFx0JChkb2N1bWVudCkubW91c2Vkb3duKCQuZGF0ZXBpY2tlci5fY2hlY2tFeHRlcm5hbENsaWNrKTtcblx0XHQkLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXHR9XG5cblx0LyogQXBwZW5kIGRhdGVwaWNrZXIgbWFpbiBjb250YWluZXIgdG8gYm9keSBpZiBub3QgZXhpc3QuICovXG5cdGlmICgkKFwiI1wiKyQuZGF0ZXBpY2tlci5fbWFpbkRpdklkKS5sZW5ndGggPT09IDApIHtcblx0XHQkKFwiYm9keVwiKS5hcHBlbmQoJC5kYXRlcGlja2VyLmRwRGl2KTtcblx0fVxuXG5cdHZhciBvdGhlckFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXHRpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgJiYgKG9wdGlvbnMgPT09IFwiaXNEaXNhYmxlZFwiIHx8IG9wdGlvbnMgPT09IFwiZ2V0RGF0ZVwiIHx8IG9wdGlvbnMgPT09IFwid2lkZ2V0XCIpKSB7XG5cdFx0cmV0dXJuICQuZGF0ZXBpY2tlcltcIl9cIiArIG9wdGlvbnMgKyBcIkRhdGVwaWNrZXJcIl0uXG5cdFx0XHRhcHBseSgkLmRhdGVwaWNrZXIsIFt0aGlzWzBdXS5jb25jYXQob3RoZXJBcmdzKSk7XG5cdH1cblx0aWYgKG9wdGlvbnMgPT09IFwib3B0aW9uXCIgJiYgYXJndW1lbnRzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgYXJndW1lbnRzWzFdID09PSBcInN0cmluZ1wiKSB7XG5cdFx0cmV0dXJuICQuZGF0ZXBpY2tlcltcIl9cIiArIG9wdGlvbnMgKyBcIkRhdGVwaWNrZXJcIl0uXG5cdFx0XHRhcHBseSgkLmRhdGVwaWNrZXIsIFt0aGlzWzBdXS5jb25jYXQob3RoZXJBcmdzKSk7XG5cdH1cblx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHR0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHQkLmRhdGVwaWNrZXJbXCJfXCIgKyBvcHRpb25zICsgXCJEYXRlcGlja2VyXCJdLlxuXHRcdFx0XHRhcHBseSgkLmRhdGVwaWNrZXIsIFt0aGlzXS5jb25jYXQob3RoZXJBcmdzKSkgOlxuXHRcdFx0JC5kYXRlcGlja2VyLl9hdHRhY2hEYXRlcGlja2VyKHRoaXMsIG9wdGlvbnMpO1xuXHR9KTtcbn07XG5cbiQuZGF0ZXBpY2tlciA9IG5ldyBEYXRlcGlja2VyKCk7IC8vIHNpbmdsZXRvbiBpbnN0YW5jZVxuJC5kYXRlcGlja2VyLmluaXRpYWxpemVkID0gZmFsc2U7XG4kLmRhdGVwaWNrZXIudXVpZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuJC5kYXRlcGlja2VyLnZlcnNpb24gPSBcIjEuMTEuNFwiO1xuXG52YXIgZGF0ZXBpY2tlciA9ICQuZGF0ZXBpY2tlcjtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBEcmFnZ2FibGUgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9kcmFnZ2FibGUvXG4gKi9cblxuXG4kLndpZGdldChcInVpLmRyYWdnYWJsZVwiLCAkLnVpLm1vdXNlLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdHdpZGdldEV2ZW50UHJlZml4OiBcImRyYWdcIixcblx0b3B0aW9uczoge1xuXHRcdGFkZENsYXNzZXM6IHRydWUsXG5cdFx0YXBwZW5kVG86IFwicGFyZW50XCIsXG5cdFx0YXhpczogZmFsc2UsXG5cdFx0Y29ubmVjdFRvU29ydGFibGU6IGZhbHNlLFxuXHRcdGNvbnRhaW5tZW50OiBmYWxzZSxcblx0XHRjdXJzb3I6IFwiYXV0b1wiLFxuXHRcdGN1cnNvckF0OiBmYWxzZSxcblx0XHRncmlkOiBmYWxzZSxcblx0XHRoYW5kbGU6IGZhbHNlLFxuXHRcdGhlbHBlcjogXCJvcmlnaW5hbFwiLFxuXHRcdGlmcmFtZUZpeDogZmFsc2UsXG5cdFx0b3BhY2l0eTogZmFsc2UsXG5cdFx0cmVmcmVzaFBvc2l0aW9uczogZmFsc2UsXG5cdFx0cmV2ZXJ0OiBmYWxzZSxcblx0XHRyZXZlcnREdXJhdGlvbjogNTAwLFxuXHRcdHNjb3BlOiBcImRlZmF1bHRcIixcblx0XHRzY3JvbGw6IHRydWUsXG5cdFx0c2Nyb2xsU2Vuc2l0aXZpdHk6IDIwLFxuXHRcdHNjcm9sbFNwZWVkOiAyMCxcblx0XHRzbmFwOiBmYWxzZSxcblx0XHRzbmFwTW9kZTogXCJib3RoXCIsXG5cdFx0c25hcFRvbGVyYW5jZTogMjAsXG5cdFx0c3RhY2s6IGZhbHNlLFxuXHRcdHpJbmRleDogZmFsc2UsXG5cblx0XHQvLyBjYWxsYmFja3Ncblx0XHRkcmFnOiBudWxsLFxuXHRcdHN0YXJ0OiBudWxsLFxuXHRcdHN0b3A6IG51bGxcblx0fSxcblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5oZWxwZXIgPT09IFwib3JpZ2luYWxcIiApIHtcblx0XHRcdHRoaXMuX3NldFBvc2l0aW9uUmVsYXRpdmUoKTtcblx0XHR9XG5cdFx0aWYgKHRoaXMub3B0aW9ucy5hZGRDbGFzc2VzKXtcblx0XHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyhcInVpLWRyYWdnYWJsZVwiKTtcblx0XHR9XG5cdFx0aWYgKHRoaXMub3B0aW9ucy5kaXNhYmxlZCl7XG5cdFx0XHR0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS1kcmFnZ2FibGUtZGlzYWJsZWRcIik7XG5cdFx0fVxuXHRcdHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpO1xuXG5cdFx0dGhpcy5fbW91c2VJbml0KCk7XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblx0XHRpZiAoIGtleSA9PT0gXCJoYW5kbGVcIiApIHtcblx0XHRcdHRoaXMuX3JlbW92ZUhhbmRsZUNsYXNzTmFtZSgpO1xuXHRcdFx0dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICggdGhpcy5oZWxwZXIgfHwgdGhpcy5lbGVtZW50ICkuaXMoIFwiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZ1wiICkgKSB7XG5cdFx0XHR0aGlzLmRlc3Ryb3lPbkNsZWFyID0gdHJ1ZTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCBcInVpLWRyYWdnYWJsZSB1aS1kcmFnZ2FibGUtZHJhZ2dpbmcgdWktZHJhZ2dhYmxlLWRpc2FibGVkXCIgKTtcblx0XHR0aGlzLl9yZW1vdmVIYW5kbGVDbGFzc05hbWUoKTtcblx0XHR0aGlzLl9tb3VzZURlc3Ryb3koKTtcblx0fSxcblxuXHRfbW91c2VDYXB0dXJlOiBmdW5jdGlvbihldmVudCkge1xuXHRcdHZhciBvID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0dGhpcy5fYmx1ckFjdGl2ZUVsZW1lbnQoIGV2ZW50ICk7XG5cblx0XHQvLyBhbW9uZyBvdGhlcnMsIHByZXZlbnQgYSBkcmFnIG9uIGEgcmVzaXphYmxlLWhhbmRsZVxuXHRcdGlmICh0aGlzLmhlbHBlciB8fCBvLmRpc2FibGVkIHx8ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwiLnVpLXJlc2l6YWJsZS1oYW5kbGVcIikubGVuZ3RoID4gMCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vUXVpdCBpZiB3ZSdyZSBub3Qgb24gYSB2YWxpZCBoYW5kbGVcblx0XHR0aGlzLmhhbmRsZSA9IHRoaXMuX2dldEhhbmRsZShldmVudCk7XG5cdFx0aWYgKCF0aGlzLmhhbmRsZSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHRoaXMuX2Jsb2NrRnJhbWVzKCBvLmlmcmFtZUZpeCA9PT0gdHJ1ZSA/IFwiaWZyYW1lXCIgOiBvLmlmcmFtZUZpeCApO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cblx0fSxcblxuXHRfYmxvY2tGcmFtZXM6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR0aGlzLmlmcmFtZUJsb2NrcyA9IHRoaXMuZG9jdW1lbnQuZmluZCggc2VsZWN0b3IgKS5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaWZyYW1lID0gJCggdGhpcyApO1xuXG5cdFx0XHRyZXR1cm4gJCggXCI8ZGl2PlwiIClcblx0XHRcdFx0LmNzcyggXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIgKVxuXHRcdFx0XHQuYXBwZW5kVG8oIGlmcmFtZS5wYXJlbnQoKSApXG5cdFx0XHRcdC5vdXRlcldpZHRoKCBpZnJhbWUub3V0ZXJXaWR0aCgpIClcblx0XHRcdFx0Lm91dGVySGVpZ2h0KCBpZnJhbWUub3V0ZXJIZWlnaHQoKSApXG5cdFx0XHRcdC5vZmZzZXQoIGlmcmFtZS5vZmZzZXQoKSApWyAwIF07XG5cdFx0fSk7XG5cdH0sXG5cblx0X3VuYmxvY2tGcmFtZXM6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5pZnJhbWVCbG9ja3MgKSB7XG5cdFx0XHR0aGlzLmlmcmFtZUJsb2Nrcy5yZW1vdmUoKTtcblx0XHRcdGRlbGV0ZSB0aGlzLmlmcmFtZUJsb2Nrcztcblx0XHR9XG5cdH0sXG5cblx0X2JsdXJBY3RpdmVFbGVtZW50OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGRvY3VtZW50ID0gdGhpcy5kb2N1bWVudFsgMCBdO1xuXG5cdFx0Ly8gT25seSBuZWVkIHRvIGJsdXIgaWYgdGhlIGV2ZW50IG9jY3VycmVkIG9uIHRoZSBkcmFnZ2FibGUgaXRzZWxmLCBzZWUgIzEwNTI3XG5cdFx0aWYgKCAhdGhpcy5oYW5kbGVFbGVtZW50LmlzKCBldmVudC50YXJnZXQgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBzdXBwb3J0OiBJRTlcblx0XHQvLyBJRTkgdGhyb3dzIGFuIFwiVW5zcGVjaWZpZWQgZXJyb3JcIiBhY2Nlc3NpbmcgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBmcm9tIGFuIDxpZnJhbWU+XG5cdFx0dHJ5IHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU5LCBJRTEwXG5cdFx0XHQvLyBJZiB0aGUgPGJvZHk+IGlzIGJsdXJyZWQsIElFIHdpbGwgc3dpdGNoIHdpbmRvd3MsIHNlZSAjOTUyMFxuXHRcdFx0aWYgKCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJib2R5XCIgKSB7XG5cblx0XHRcdFx0Ly8gQmx1ciBhbnkgZWxlbWVudCB0aGF0IGN1cnJlbnRseSBoYXMgZm9jdXMsIHNlZSAjNDI2MVxuXHRcdFx0XHQkKCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICkuYmx1cigpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKCBlcnJvciApIHt9XG5cdH0sXG5cblx0X21vdXNlU3RhcnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cblx0XHR2YXIgbyA9IHRoaXMub3B0aW9ucztcblxuXHRcdC8vQ3JlYXRlIGFuZCBhcHBlbmQgdGhlIHZpc2libGUgaGVscGVyXG5cdFx0dGhpcy5oZWxwZXIgPSB0aGlzLl9jcmVhdGVIZWxwZXIoZXZlbnQpO1xuXG5cdFx0dGhpcy5oZWxwZXIuYWRkQ2xhc3MoXCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmdcIik7XG5cblx0XHQvL0NhY2hlIHRoZSBoZWxwZXIgc2l6ZVxuXHRcdHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKTtcblxuXHRcdC8vSWYgZGRtYW5hZ2VyIGlzIHVzZWQgZm9yIGRyb3BwYWJsZXMsIHNldCB0aGUgZ2xvYmFsIGRyYWdnYWJsZVxuXHRcdGlmICgkLnVpLmRkbWFuYWdlcikge1xuXHRcdFx0JC51aS5kZG1hbmFnZXIuY3VycmVudCA9IHRoaXM7XG5cdFx0fVxuXG5cdFx0Lypcblx0XHQgKiAtIFBvc2l0aW9uIGdlbmVyYXRpb24gLVxuXHRcdCAqIFRoaXMgYmxvY2sgZ2VuZXJhdGVzIGV2ZXJ5dGhpbmcgcG9zaXRpb24gcmVsYXRlZCAtIGl0J3MgdGhlIGNvcmUgb2YgZHJhZ2dhYmxlcy5cblx0XHQgKi9cblxuXHRcdC8vQ2FjaGUgdGhlIG1hcmdpbnMgb2YgdGhlIG9yaWdpbmFsIGVsZW1lbnRcblx0XHR0aGlzLl9jYWNoZU1hcmdpbnMoKTtcblxuXHRcdC8vU3RvcmUgdGhlIGhlbHBlcidzIGNzcyBwb3NpdGlvblxuXHRcdHRoaXMuY3NzUG9zaXRpb24gPSB0aGlzLmhlbHBlci5jc3MoIFwicG9zaXRpb25cIiApO1xuXHRcdHRoaXMuc2Nyb2xsUGFyZW50ID0gdGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCB0cnVlICk7XG5cdFx0dGhpcy5vZmZzZXRQYXJlbnQgPSB0aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKTtcblx0XHR0aGlzLmhhc0ZpeGVkQW5jZXN0b3IgPSB0aGlzLmhlbHBlci5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gJCggdGhpcyApLmNzcyggXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIjtcblx0XHRcdH0pLmxlbmd0aCA+IDA7XG5cblx0XHQvL1RoZSBlbGVtZW50J3MgYWJzb2x1dGUgcG9zaXRpb24gb24gdGhlIHBhZ2UgbWludXMgbWFyZ2luc1xuXHRcdHRoaXMucG9zaXRpb25BYnMgPSB0aGlzLmVsZW1lbnQub2Zmc2V0KCk7XG5cdFx0dGhpcy5fcmVmcmVzaE9mZnNldHMoIGV2ZW50ICk7XG5cblx0XHQvL0dlbmVyYXRlIHRoZSBvcmlnaW5hbCBwb3NpdGlvblxuXHRcdHRoaXMub3JpZ2luYWxQb3NpdGlvbiA9IHRoaXMucG9zaXRpb24gPSB0aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKCBldmVudCwgZmFsc2UgKTtcblx0XHR0aGlzLm9yaWdpbmFsUGFnZVggPSBldmVudC5wYWdlWDtcblx0XHR0aGlzLm9yaWdpbmFsUGFnZVkgPSBldmVudC5wYWdlWTtcblxuXHRcdC8vQWRqdXN0IHRoZSBtb3VzZSBvZmZzZXQgcmVsYXRpdmUgdG8gdGhlIGhlbHBlciBpZiBcImN1cnNvckF0XCIgaXMgc3VwcGxpZWRcblx0XHQoby5jdXJzb3JBdCAmJiB0aGlzLl9hZGp1c3RPZmZzZXRGcm9tSGVscGVyKG8uY3Vyc29yQXQpKTtcblxuXHRcdC8vU2V0IGEgY29udGFpbm1lbnQgaWYgZ2l2ZW4gaW4gdGhlIG9wdGlvbnNcblx0XHR0aGlzLl9zZXRDb250YWlubWVudCgpO1xuXG5cdFx0Ly9UcmlnZ2VyIGV2ZW50ICsgY2FsbGJhY2tzXG5cdFx0aWYgKHRoaXMuX3RyaWdnZXIoXCJzdGFydFwiLCBldmVudCkgPT09IGZhbHNlKSB7XG5cdFx0XHR0aGlzLl9jbGVhcigpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vUmVjYWNoZSB0aGUgaGVscGVyIHNpemVcblx0XHR0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCk7XG5cblx0XHQvL1ByZXBhcmUgdGhlIGRyb3BwYWJsZSBvZmZzZXRzXG5cdFx0aWYgKCQudWkuZGRtYW5hZ2VyICYmICFvLmRyb3BCZWhhdmlvdXIpIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHRoaXMsIGV2ZW50KTtcblx0XHR9XG5cblx0XHQvLyBSZXNldCBoZWxwZXIncyByaWdodC9ib3R0b20gY3NzIGlmIHRoZXkncmUgc2V0IGFuZCBzZXQgZXhwbGljaXQgd2lkdGgvaGVpZ2h0IGluc3RlYWRcblx0XHQvLyBhcyB0aGlzIHByZXZlbnRzIHJlc2l6aW5nIG9mIGVsZW1lbnRzIHdpdGggcmlnaHQvYm90dG9tIHNldCAoc2VlICM3NzcyKVxuXHRcdHRoaXMuX25vcm1hbGl6ZVJpZ2h0Qm90dG9tKCk7XG5cblx0XHR0aGlzLl9tb3VzZURyYWcoZXZlbnQsIHRydWUpOyAvL0V4ZWN1dGUgdGhlIGRyYWcgb25jZSAtIHRoaXMgY2F1c2VzIHRoZSBoZWxwZXIgbm90IHRvIGJlIHZpc2libGUgYmVmb3JlIGdldHRpbmcgaXRzIGNvcnJlY3QgcG9zaXRpb25cblxuXHRcdC8vSWYgdGhlIGRkbWFuYWdlciBpcyB1c2VkIGZvciBkcm9wcGFibGVzLCBpbmZvcm0gdGhlIG1hbmFnZXIgdGhhdCBkcmFnZ2luZyBoYXMgc3RhcnRlZCAoc2VlICM1MDAzKVxuXHRcdGlmICggJC51aS5kZG1hbmFnZXIgKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5kcmFnU3RhcnQodGhpcywgZXZlbnQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdF9yZWZyZXNoT2Zmc2V0czogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHRoaXMub2Zmc2V0ID0ge1xuXHRcdFx0dG9wOiB0aGlzLnBvc2l0aW9uQWJzLnRvcCAtIHRoaXMubWFyZ2lucy50b3AsXG5cdFx0XHRsZWZ0OiB0aGlzLnBvc2l0aW9uQWJzLmxlZnQgLSB0aGlzLm1hcmdpbnMubGVmdCxcblx0XHRcdHNjcm9sbDogZmFsc2UsXG5cdFx0XHRwYXJlbnQ6IHRoaXMuX2dldFBhcmVudE9mZnNldCgpLFxuXHRcdFx0cmVsYXRpdmU6IHRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KClcblx0XHR9O1xuXG5cdFx0dGhpcy5vZmZzZXQuY2xpY2sgPSB7XG5cdFx0XHRsZWZ0OiBldmVudC5wYWdlWCAtIHRoaXMub2Zmc2V0LmxlZnQsXG5cdFx0XHR0b3A6IGV2ZW50LnBhZ2VZIC0gdGhpcy5vZmZzZXQudG9wXG5cdFx0fTtcblx0fSxcblxuXHRfbW91c2VEcmFnOiBmdW5jdGlvbihldmVudCwgbm9Qcm9wYWdhdGlvbikge1xuXHRcdC8vIHJlc2V0IGFueSBuZWNlc3NhcnkgY2FjaGVkIHByb3BlcnRpZXMgKHNlZSAjNTAwOSlcblx0XHRpZiAoIHRoaXMuaGFzRml4ZWRBbmNlc3RvciApIHtcblx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudCA9IHRoaXMuX2dldFBhcmVudE9mZnNldCgpO1xuXHRcdH1cblxuXHRcdC8vQ29tcHV0ZSB0aGUgaGVscGVycyBwb3NpdGlvblxuXHRcdHRoaXMucG9zaXRpb24gPSB0aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKCBldmVudCwgdHJ1ZSApO1xuXHRcdHRoaXMucG9zaXRpb25BYnMgPSB0aGlzLl9jb252ZXJ0UG9zaXRpb25UbyhcImFic29sdXRlXCIpO1xuXG5cdFx0Ly9DYWxsIHBsdWdpbnMgYW5kIGNhbGxiYWNrcyBhbmQgdXNlIHRoZSByZXN1bHRpbmcgcG9zaXRpb24gaWYgc29tZXRoaW5nIGlzIHJldHVybmVkXG5cdFx0aWYgKCFub1Byb3BhZ2F0aW9uKSB7XG5cdFx0XHR2YXIgdWkgPSB0aGlzLl91aUhhc2goKTtcblx0XHRcdGlmICh0aGlzLl90cmlnZ2VyKFwiZHJhZ1wiLCBldmVudCwgdWkpID09PSBmYWxzZSkge1xuXHRcdFx0XHR0aGlzLl9tb3VzZVVwKHt9KTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5wb3NpdGlvbiA9IHVpLnBvc2l0aW9uO1xuXHRcdH1cblxuXHRcdHRoaXMuaGVscGVyWyAwIF0uc3R5bGUubGVmdCA9IHRoaXMucG9zaXRpb24ubGVmdCArIFwicHhcIjtcblx0XHR0aGlzLmhlbHBlclsgMCBdLnN0eWxlLnRvcCA9IHRoaXMucG9zaXRpb24udG9wICsgXCJweFwiO1xuXG5cdFx0aWYgKCQudWkuZGRtYW5hZ2VyKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5kcmFnKHRoaXMsIGV2ZW50KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cblx0X21vdXNlU3RvcDogZnVuY3Rpb24oZXZlbnQpIHtcblxuXHRcdC8vSWYgd2UgYXJlIHVzaW5nIGRyb3BwYWJsZXMsIGluZm9ybSB0aGUgbWFuYWdlciBhYm91dCB0aGUgZHJvcFxuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdGRyb3BwZWQgPSBmYWxzZTtcblx0XHRpZiAoJC51aS5kZG1hbmFnZXIgJiYgIXRoaXMub3B0aW9ucy5kcm9wQmVoYXZpb3VyKSB7XG5cdFx0XHRkcm9wcGVkID0gJC51aS5kZG1hbmFnZXIuZHJvcCh0aGlzLCBldmVudCk7XG5cdFx0fVxuXG5cdFx0Ly9pZiBhIGRyb3AgY29tZXMgZnJvbSBvdXRzaWRlIChhIHNvcnRhYmxlKVxuXHRcdGlmICh0aGlzLmRyb3BwZWQpIHtcblx0XHRcdGRyb3BwZWQgPSB0aGlzLmRyb3BwZWQ7XG5cdFx0XHR0aGlzLmRyb3BwZWQgPSBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoKHRoaXMub3B0aW9ucy5yZXZlcnQgPT09IFwiaW52YWxpZFwiICYmICFkcm9wcGVkKSB8fCAodGhpcy5vcHRpb25zLnJldmVydCA9PT0gXCJ2YWxpZFwiICYmIGRyb3BwZWQpIHx8IHRoaXMub3B0aW9ucy5yZXZlcnQgPT09IHRydWUgfHwgKCQuaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMucmV2ZXJ0KSAmJiB0aGlzLm9wdGlvbnMucmV2ZXJ0LmNhbGwodGhpcy5lbGVtZW50LCBkcm9wcGVkKSkpIHtcblx0XHRcdCQodGhpcy5oZWxwZXIpLmFuaW1hdGUodGhpcy5vcmlnaW5hbFBvc2l0aW9uLCBwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0RHVyYXRpb24sIDEwKSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICh0aGF0Ll90cmlnZ2VyKFwic3RvcFwiLCBldmVudCkgIT09IGZhbHNlKSB7XG5cdFx0XHRcdFx0dGhhdC5fY2xlYXIoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0aGlzLl90cmlnZ2VyKFwic3RvcFwiLCBldmVudCkgIT09IGZhbHNlKSB7XG5cdFx0XHRcdHRoaXMuX2NsZWFyKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF9tb3VzZVVwOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dGhpcy5fdW5ibG9ja0ZyYW1lcygpO1xuXG5cdFx0Ly9JZiB0aGUgZGRtYW5hZ2VyIGlzIHVzZWQgZm9yIGRyb3BwYWJsZXMsIGluZm9ybSB0aGUgbWFuYWdlciB0aGF0IGRyYWdnaW5nIGhhcyBzdG9wcGVkIChzZWUgIzUwMDMpXG5cdFx0aWYgKCAkLnVpLmRkbWFuYWdlciApIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLmRyYWdTdG9wKHRoaXMsIGV2ZW50KTtcblx0XHR9XG5cblx0XHQvLyBPbmx5IG5lZWQgdG8gZm9jdXMgaWYgdGhlIGV2ZW50IG9jY3VycmVkIG9uIHRoZSBkcmFnZ2FibGUgaXRzZWxmLCBzZWUgIzEwNTI3XG5cdFx0aWYgKCB0aGlzLmhhbmRsZUVsZW1lbnQuaXMoIGV2ZW50LnRhcmdldCApICkge1xuXHRcdFx0Ly8gVGhlIGludGVyYWN0aW9uIGlzIG92ZXI7IHdoZXRoZXIgb3Igbm90IHRoZSBjbGljayByZXN1bHRlZCBpbiBhIGRyYWcsIGZvY3VzIHRoZSBlbGVtZW50XG5cdFx0XHR0aGlzLmVsZW1lbnQuZm9jdXMoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gJC51aS5tb3VzZS5wcm90b3R5cGUuX21vdXNlVXAuY2FsbCh0aGlzLCBldmVudCk7XG5cdH0sXG5cblx0Y2FuY2VsOiBmdW5jdGlvbigpIHtcblxuXHRcdGlmICh0aGlzLmhlbHBlci5pcyhcIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmdcIikpIHtcblx0XHRcdHRoaXMuX21vdXNlVXAoe30pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9jbGVhcigpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH0sXG5cblx0X2dldEhhbmRsZTogZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmhhbmRsZSA/XG5cdFx0XHQhISQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIHRoaXMuZWxlbWVudC5maW5kKCB0aGlzLm9wdGlvbnMuaGFuZGxlICkgKS5sZW5ndGggOlxuXHRcdFx0dHJ1ZTtcblx0fSxcblxuXHRfc2V0SGFuZGxlQ2xhc3NOYW1lOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmhhbmRsZUVsZW1lbnQgPSB0aGlzLm9wdGlvbnMuaGFuZGxlID9cblx0XHRcdHRoaXMuZWxlbWVudC5maW5kKCB0aGlzLm9wdGlvbnMuaGFuZGxlICkgOiB0aGlzLmVsZW1lbnQ7XG5cdFx0dGhpcy5oYW5kbGVFbGVtZW50LmFkZENsYXNzKCBcInVpLWRyYWdnYWJsZS1oYW5kbGVcIiApO1xuXHR9LFxuXG5cdF9yZW1vdmVIYW5kbGVDbGFzc05hbWU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaGFuZGxlRWxlbWVudC5yZW1vdmVDbGFzcyggXCJ1aS1kcmFnZ2FibGUtaGFuZGxlXCIgKTtcblx0fSxcblxuXHRfY3JlYXRlSGVscGVyOiBmdW5jdGlvbihldmVudCkge1xuXG5cdFx0dmFyIG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRoZWxwZXJJc0Z1bmN0aW9uID0gJC5pc0Z1bmN0aW9uKCBvLmhlbHBlciApLFxuXHRcdFx0aGVscGVyID0gaGVscGVySXNGdW5jdGlvbiA/XG5cdFx0XHRcdCQoIG8uaGVscGVyLmFwcGx5KCB0aGlzLmVsZW1lbnRbIDAgXSwgWyBldmVudCBdICkgKSA6XG5cdFx0XHRcdCggby5oZWxwZXIgPT09IFwiY2xvbmVcIiA/XG5cdFx0XHRcdFx0dGhpcy5lbGVtZW50LmNsb25lKCkucmVtb3ZlQXR0ciggXCJpZFwiICkgOlxuXHRcdFx0XHRcdHRoaXMuZWxlbWVudCApO1xuXG5cdFx0aWYgKCFoZWxwZXIucGFyZW50cyhcImJvZHlcIikubGVuZ3RoKSB7XG5cdFx0XHRoZWxwZXIuYXBwZW5kVG8oKG8uYXBwZW5kVG8gPT09IFwicGFyZW50XCIgPyB0aGlzLmVsZW1lbnRbMF0ucGFyZW50Tm9kZSA6IG8uYXBwZW5kVG8pKTtcblx0XHR9XG5cblx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnl1aS5jb20vdGlja2V0Lzk0NDZcblx0XHQvLyBhIGhlbHBlciBmdW5jdGlvbiBjYW4gcmV0dXJuIHRoZSBvcmlnaW5hbCBlbGVtZW50XG5cdFx0Ly8gd2hpY2ggd291bGRuJ3QgaGF2ZSBiZWVuIHNldCB0byByZWxhdGl2ZSBpbiBfY3JlYXRlXG5cdFx0aWYgKCBoZWxwZXJJc0Z1bmN0aW9uICYmIGhlbHBlclsgMCBdID09PSB0aGlzLmVsZW1lbnRbIDAgXSApIHtcblx0XHRcdHRoaXMuX3NldFBvc2l0aW9uUmVsYXRpdmUoKTtcblx0XHR9XG5cblx0XHRpZiAoaGVscGVyWzBdICE9PSB0aGlzLmVsZW1lbnRbMF0gJiYgISgvKGZpeGVkfGFic29sdXRlKS8pLnRlc3QoaGVscGVyLmNzcyhcInBvc2l0aW9uXCIpKSkge1xuXHRcdFx0aGVscGVyLmNzcyhcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhlbHBlcjtcblxuXHR9LFxuXG5cdF9zZXRQb3NpdGlvblJlbGF0aXZlOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICEoIC9eKD86cnxhfGYpLyApLnRlc3QoIHRoaXMuZWxlbWVudC5jc3MoIFwicG9zaXRpb25cIiApICkgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnRbIDAgXS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblx0XHR9XG5cdH0sXG5cblx0X2FkanVzdE9mZnNldEZyb21IZWxwZXI6IGZ1bmN0aW9uKG9iaikge1xuXHRcdGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRvYmogPSBvYmouc3BsaXQoXCIgXCIpO1xuXHRcdH1cblx0XHRpZiAoJC5pc0FycmF5KG9iaikpIHtcblx0XHRcdG9iaiA9IHsgbGVmdDogK29ialswXSwgdG9wOiArb2JqWzFdIHx8IDAgfTtcblx0XHR9XG5cdFx0aWYgKFwibGVmdFwiIGluIG9iaikge1xuXHRcdFx0dGhpcy5vZmZzZXQuY2xpY2subGVmdCA9IG9iai5sZWZ0ICsgdGhpcy5tYXJnaW5zLmxlZnQ7XG5cdFx0fVxuXHRcdGlmIChcInJpZ2h0XCIgaW4gb2JqKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5jbGljay5sZWZ0ID0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAtIG9iai5yaWdodCArIHRoaXMubWFyZ2lucy5sZWZ0O1xuXHRcdH1cblx0XHRpZiAoXCJ0b3BcIiBpbiBvYmopIHtcblx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA9IG9iai50b3AgKyB0aGlzLm1hcmdpbnMudG9wO1xuXHRcdH1cblx0XHRpZiAoXCJib3R0b21cIiBpbiBvYmopIHtcblx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA9IHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC0gb2JqLmJvdHRvbSArIHRoaXMubWFyZ2lucy50b3A7XG5cdFx0fVxuXHR9LFxuXG5cdF9pc1Jvb3ROb2RlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHRyZXR1cm4gKCAvKGh0bWx8Ym9keSkvaSApLnRlc3QoIGVsZW1lbnQudGFnTmFtZSApIHx8IGVsZW1lbnQgPT09IHRoaXMuZG9jdW1lbnRbIDAgXTtcblx0fSxcblxuXHRfZ2V0UGFyZW50T2Zmc2V0OiBmdW5jdGlvbigpIHtcblxuXHRcdC8vR2V0IHRoZSBvZmZzZXRQYXJlbnQgYW5kIGNhY2hlIGl0cyBwb3NpdGlvblxuXHRcdHZhciBwbyA9IHRoaXMub2Zmc2V0UGFyZW50Lm9mZnNldCgpLFxuXHRcdFx0ZG9jdW1lbnQgPSB0aGlzLmRvY3VtZW50WyAwIF07XG5cblx0XHQvLyBUaGlzIGlzIGEgc3BlY2lhbCBjYXNlIHdoZXJlIHdlIG5lZWQgdG8gbW9kaWZ5IGEgb2Zmc2V0IGNhbGN1bGF0ZWQgb24gc3RhcnQsIHNpbmNlIHRoZSBmb2xsb3dpbmcgaGFwcGVuZWQ6XG5cdFx0Ly8gMS4gVGhlIHBvc2l0aW9uIG9mIHRoZSBoZWxwZXIgaXMgYWJzb2x1dGUsIHNvIGl0J3MgcG9zaXRpb24gaXMgY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGUgbmV4dCBwb3NpdGlvbmVkIHBhcmVudFxuXHRcdC8vIDIuIFRoZSBhY3R1YWwgb2Zmc2V0IHBhcmVudCBpcyBhIGNoaWxkIG9mIHRoZSBzY3JvbGwgcGFyZW50LCBhbmQgdGhlIHNjcm9sbCBwYXJlbnQgaXNuJ3QgdGhlIGRvY3VtZW50LCB3aGljaCBtZWFucyB0aGF0XG5cdFx0Ly8gICAgdGhlIHNjcm9sbCBpcyBpbmNsdWRlZCBpbiB0aGUgaW5pdGlhbCBjYWxjdWxhdGlvbiBvZiB0aGUgb2Zmc2V0IG9mIHRoZSBwYXJlbnQsIGFuZCBuZXZlciByZWNhbGN1bGF0ZWQgdXBvbiBkcmFnXG5cdFx0aWYgKHRoaXMuY3NzUG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiAmJiB0aGlzLnNjcm9sbFBhcmVudFswXSAhPT0gZG9jdW1lbnQgJiYgJC5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSwgdGhpcy5vZmZzZXRQYXJlbnRbMF0pKSB7XG5cdFx0XHRwby5sZWZ0ICs9IHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKTtcblx0XHRcdHBvLnRvcCArPSB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX2lzUm9vdE5vZGUoIHRoaXMub2Zmc2V0UGFyZW50WyAwIF0gKSApIHtcblx0XHRcdHBvID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiBwby50b3AgKyAocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKFwiYm9yZGVyVG9wV2lkdGhcIiksIDEwKSB8fCAwKSxcblx0XHRcdGxlZnQ6IHBvLmxlZnQgKyAocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKFwiYm9yZGVyTGVmdFdpZHRoXCIpLCAxMCkgfHwgMClcblx0XHR9O1xuXG5cdH0sXG5cblx0X2dldFJlbGF0aXZlT2Zmc2V0OiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMuY3NzUG9zaXRpb24gIT09IFwicmVsYXRpdmVcIiApIHtcblx0XHRcdHJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdH1cblxuXHRcdHZhciBwID0gdGhpcy5lbGVtZW50LnBvc2l0aW9uKCksXG5cdFx0XHRzY3JvbGxJc1Jvb3ROb2RlID0gdGhpcy5faXNSb290Tm9kZSggdGhpcy5zY3JvbGxQYXJlbnRbIDAgXSApO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogcC50b3AgLSAoIHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcyggXCJ0b3BcIiApLCAxMCkgfHwgMCApICsgKCAhc2Nyb2xsSXNSb290Tm9kZSA/IHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpIDogMCApLFxuXHRcdFx0bGVmdDogcC5sZWZ0IC0gKCBwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoIFwibGVmdFwiICksIDEwKSB8fCAwICkgKyAoICFzY3JvbGxJc1Jvb3ROb2RlID8gdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpIDogMCApXG5cdFx0fTtcblxuXHR9LFxuXG5cdF9jYWNoZU1hcmdpbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMubWFyZ2lucyA9IHtcblx0XHRcdGxlZnQ6IChwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKFwibWFyZ2luTGVmdFwiKSwgMTApIHx8IDApLFxuXHRcdFx0dG9wOiAocGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcyhcIm1hcmdpblRvcFwiKSwgMTApIHx8IDApLFxuXHRcdFx0cmlnaHQ6IChwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKFwibWFyZ2luUmlnaHRcIiksIDEwKSB8fCAwKSxcblx0XHRcdGJvdHRvbTogKHBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoXCJtYXJnaW5Cb3R0b21cIiksIDEwKSB8fCAwKVxuXHRcdH07XG5cdH0sXG5cblx0X2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaGVscGVyUHJvcG9ydGlvbnMgPSB7XG5cdFx0XHR3aWR0aDogdGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLFxuXHRcdFx0aGVpZ2h0OiB0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpXG5cdFx0fTtcblx0fSxcblxuXHRfc2V0Q29udGFpbm1lbnQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGlzVXNlclNjcm9sbGFibGUsIGMsIGNlLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGRvY3VtZW50ID0gdGhpcy5kb2N1bWVudFsgMCBdO1xuXG5cdFx0dGhpcy5yZWxhdGl2ZUNvbnRhaW5lciA9IG51bGw7XG5cblx0XHRpZiAoICFvLmNvbnRhaW5tZW50ICkge1xuXHRcdFx0dGhpcy5jb250YWlubWVudCA9IG51bGw7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBvLmNvbnRhaW5tZW50ID09PSBcIndpbmRvd1wiICkge1xuXHRcdFx0dGhpcy5jb250YWlubWVudCA9IFtcblx0XHRcdFx0JCggd2luZG93ICkuc2Nyb2xsTGVmdCgpIC0gdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCAtIHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LFxuXHRcdFx0XHQkKCB3aW5kb3cgKS5zY3JvbGxUb3AoKSAtIHRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCAtIHRoaXMub2Zmc2V0LnBhcmVudC50b3AsXG5cdFx0XHRcdCQoIHdpbmRvdyApLnNjcm9sbExlZnQoKSArICQoIHdpbmRvdyApLndpZHRoKCkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC0gdGhpcy5tYXJnaW5zLmxlZnQsXG5cdFx0XHRcdCQoIHdpbmRvdyApLnNjcm9sbFRvcCgpICsgKCAkKCB3aW5kb3cgKS5oZWlnaHQoKSB8fCBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0ICkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtIHRoaXMubWFyZ2lucy50b3Bcblx0XHRcdF07XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBvLmNvbnRhaW5tZW50ID09PSBcImRvY3VtZW50XCIpIHtcblx0XHRcdHRoaXMuY29udGFpbm1lbnQgPSBbXG5cdFx0XHRcdDAsXG5cdFx0XHRcdDAsXG5cdFx0XHRcdCQoIGRvY3VtZW50ICkud2lkdGgoKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSB0aGlzLm1hcmdpbnMubGVmdCxcblx0XHRcdFx0KCAkKCBkb2N1bWVudCApLmhlaWdodCgpIHx8IGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQgKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC0gdGhpcy5tYXJnaW5zLnRvcFxuXHRcdFx0XTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIG8uY29udGFpbm1lbnQuY29uc3RydWN0b3IgPT09IEFycmF5ICkge1xuXHRcdFx0dGhpcy5jb250YWlubWVudCA9IG8uY29udGFpbm1lbnQ7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBvLmNvbnRhaW5tZW50ID09PSBcInBhcmVudFwiICkge1xuXHRcdFx0by5jb250YWlubWVudCA9IHRoaXMuaGVscGVyWyAwIF0ucGFyZW50Tm9kZTtcblx0XHR9XG5cblx0XHRjID0gJCggby5jb250YWlubWVudCApO1xuXHRcdGNlID0gY1sgMCBdO1xuXG5cdFx0aWYgKCAhY2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aXNVc2VyU2Nyb2xsYWJsZSA9IC8oc2Nyb2xsfGF1dG8pLy50ZXN0KCBjLmNzcyggXCJvdmVyZmxvd1wiICkgKTtcblxuXHRcdHRoaXMuY29udGFpbm1lbnQgPSBbXG5cdFx0XHQoIHBhcnNlSW50KCBjLmNzcyggXCJib3JkZXJMZWZ0V2lkdGhcIiApLCAxMCApIHx8IDAgKSArICggcGFyc2VJbnQoIGMuY3NzKCBcInBhZGRpbmdMZWZ0XCIgKSwgMTAgKSB8fCAwICksXG5cdFx0XHQoIHBhcnNlSW50KCBjLmNzcyggXCJib3JkZXJUb3BXaWR0aFwiICksIDEwICkgfHwgMCApICsgKCBwYXJzZUludCggYy5jc3MoIFwicGFkZGluZ1RvcFwiICksIDEwICkgfHwgMCApLFxuXHRcdFx0KCBpc1VzZXJTY3JvbGxhYmxlID8gTWF0aC5tYXgoIGNlLnNjcm9sbFdpZHRoLCBjZS5vZmZzZXRXaWR0aCApIDogY2Uub2Zmc2V0V2lkdGggKSAtXG5cdFx0XHRcdCggcGFyc2VJbnQoIGMuY3NzKCBcImJvcmRlclJpZ2h0V2lkdGhcIiApLCAxMCApIHx8IDAgKSAtXG5cdFx0XHRcdCggcGFyc2VJbnQoIGMuY3NzKCBcInBhZGRpbmdSaWdodFwiICksIDEwICkgfHwgMCApIC1cblx0XHRcdFx0dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAtXG5cdFx0XHRcdHRoaXMubWFyZ2lucy5sZWZ0IC1cblx0XHRcdFx0dGhpcy5tYXJnaW5zLnJpZ2h0LFxuXHRcdFx0KCBpc1VzZXJTY3JvbGxhYmxlID8gTWF0aC5tYXgoIGNlLnNjcm9sbEhlaWdodCwgY2Uub2Zmc2V0SGVpZ2h0ICkgOiBjZS5vZmZzZXRIZWlnaHQgKSAtXG5cdFx0XHRcdCggcGFyc2VJbnQoIGMuY3NzKCBcImJvcmRlckJvdHRvbVdpZHRoXCIgKSwgMTAgKSB8fCAwICkgLVxuXHRcdFx0XHQoIHBhcnNlSW50KCBjLmNzcyggXCJwYWRkaW5nQm90dG9tXCIgKSwgMTAgKSB8fCAwICkgLVxuXHRcdFx0XHR0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtXG5cdFx0XHRcdHRoaXMubWFyZ2lucy50b3AgLVxuXHRcdFx0XHR0aGlzLm1hcmdpbnMuYm90dG9tXG5cdFx0XTtcblx0XHR0aGlzLnJlbGF0aXZlQ29udGFpbmVyID0gYztcblx0fSxcblxuXHRfY29udmVydFBvc2l0aW9uVG86IGZ1bmN0aW9uKGQsIHBvcykge1xuXG5cdFx0aWYgKCFwb3MpIHtcblx0XHRcdHBvcyA9IHRoaXMucG9zaXRpb247XG5cdFx0fVxuXG5cdFx0dmFyIG1vZCA9IGQgPT09IFwiYWJzb2x1dGVcIiA/IDEgOiAtMSxcblx0XHRcdHNjcm9sbElzUm9vdE5vZGUgPSB0aGlzLl9pc1Jvb3ROb2RlKCB0aGlzLnNjcm9sbFBhcmVudFsgMCBdICk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiAoXG5cdFx0XHRcdHBvcy50b3BcdCtcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFRoZSBhYnNvbHV0ZSBtb3VzZSBwb3NpdGlvblxuXHRcdFx0XHR0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AgKiBtb2QgK1x0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBub2RlczogUmVsYXRpdmUgb2Zmc2V0IGZyb20gZWxlbWVudCB0byBvZmZzZXQgcGFyZW50XG5cdFx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudC50b3AgKiBtb2QgLVx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIG9mZnNldFBhcmVudCdzIG9mZnNldCB3aXRob3V0IGJvcmRlcnMgKG9mZnNldCArIGJvcmRlcilcblx0XHRcdFx0KCAoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwiZml4ZWRcIiA/IC10aGlzLm9mZnNldC5zY3JvbGwudG9wIDogKCBzY3JvbGxJc1Jvb3ROb2RlID8gMCA6IHRoaXMub2Zmc2V0LnNjcm9sbC50b3AgKSApICogbW9kKVxuXHRcdFx0KSxcblx0XHRcdGxlZnQ6IChcblx0XHRcdFx0cG9zLmxlZnQgK1x0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQgKiBtb2QgK1x0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBub2RlczogUmVsYXRpdmUgb2Zmc2V0IGZyb20gZWxlbWVudCB0byBvZmZzZXQgcGFyZW50XG5cdFx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0ICogbW9kXHQtXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKVxuXHRcdFx0XHQoICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID8gLXRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0IDogKCBzY3JvbGxJc1Jvb3ROb2RlID8gMCA6IHRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0ICkgKSAqIG1vZClcblx0XHRcdClcblx0XHR9O1xuXG5cdH0sXG5cblx0X2dlbmVyYXRlUG9zaXRpb246IGZ1bmN0aW9uKCBldmVudCwgY29uc3RyYWluUG9zaXRpb24gKSB7XG5cblx0XHR2YXIgY29udGFpbm1lbnQsIGNvLCB0b3AsIGxlZnQsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0c2Nyb2xsSXNSb290Tm9kZSA9IHRoaXMuX2lzUm9vdE5vZGUoIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0gKSxcblx0XHRcdHBhZ2VYID0gZXZlbnQucGFnZVgsXG5cdFx0XHRwYWdlWSA9IGV2ZW50LnBhZ2VZO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIHNjcm9sbFxuXHRcdGlmICggIXNjcm9sbElzUm9vdE5vZGUgfHwgIXRoaXMub2Zmc2V0LnNjcm9sbCApIHtcblx0XHRcdHRoaXMub2Zmc2V0LnNjcm9sbCA9IHtcblx0XHRcdFx0dG9wOiB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxcblx0XHRcdFx0bGVmdDogdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8qXG5cdFx0ICogLSBQb3NpdGlvbiBjb25zdHJhaW5pbmcgLVxuXHRcdCAqIENvbnN0cmFpbiB0aGUgcG9zaXRpb24gdG8gYSBtaXggb2YgZ3JpZCwgY29udGFpbm1lbnQuXG5cdFx0ICovXG5cblx0XHQvLyBJZiB3ZSBhcmUgbm90IGRyYWdnaW5nIHlldCwgd2Ugd29uJ3QgY2hlY2sgZm9yIG9wdGlvbnNcblx0XHRpZiAoIGNvbnN0cmFpblBvc2l0aW9uICkge1xuXHRcdFx0aWYgKCB0aGlzLmNvbnRhaW5tZW50ICkge1xuXHRcdFx0XHRpZiAoIHRoaXMucmVsYXRpdmVDb250YWluZXIgKXtcblx0XHRcdFx0XHRjbyA9IHRoaXMucmVsYXRpdmVDb250YWluZXIub2Zmc2V0KCk7XG5cdFx0XHRcdFx0Y29udGFpbm1lbnQgPSBbXG5cdFx0XHRcdFx0XHR0aGlzLmNvbnRhaW5tZW50WyAwIF0gKyBjby5sZWZ0LFxuXHRcdFx0XHRcdFx0dGhpcy5jb250YWlubWVudFsgMSBdICsgY28udG9wLFxuXHRcdFx0XHRcdFx0dGhpcy5jb250YWlubWVudFsgMiBdICsgY28ubGVmdCxcblx0XHRcdFx0XHRcdHRoaXMuY29udGFpbm1lbnRbIDMgXSArIGNvLnRvcFxuXHRcdFx0XHRcdF07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29udGFpbm1lbnQgPSB0aGlzLmNvbnRhaW5tZW50O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA8IGNvbnRhaW5tZW50WzBdKSB7XG5cdFx0XHRcdFx0cGFnZVggPSBjb250YWlubWVudFswXSArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGV2ZW50LnBhZ2VZIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wIDwgY29udGFpbm1lbnRbMV0pIHtcblx0XHRcdFx0XHRwYWdlWSA9IGNvbnRhaW5tZW50WzFdICsgdGhpcy5vZmZzZXQuY2xpY2sudG9wO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChldmVudC5wYWdlWCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPiBjb250YWlubWVudFsyXSkge1xuXHRcdFx0XHRcdHBhZ2VYID0gY29udGFpbm1lbnRbMl0gKyB0aGlzLm9mZnNldC5jbGljay5sZWZ0O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChldmVudC5wYWdlWSAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+IGNvbnRhaW5tZW50WzNdKSB7XG5cdFx0XHRcdFx0cGFnZVkgPSBjb250YWlubWVudFszXSArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoby5ncmlkKSB7XG5cdFx0XHRcdC8vQ2hlY2sgZm9yIGdyaWQgZWxlbWVudHMgc2V0IHRvIDAgdG8gcHJldmVudCBkaXZpZGUgYnkgMCBlcnJvciBjYXVzaW5nIGludmFsaWQgYXJndW1lbnQgZXJyb3JzIGluIElFIChzZWUgdGlja2V0ICM2OTUwKVxuXHRcdFx0XHR0b3AgPSBvLmdyaWRbMV0gPyB0aGlzLm9yaWdpbmFsUGFnZVkgKyBNYXRoLnJvdW5kKChwYWdlWSAtIHRoaXMub3JpZ2luYWxQYWdlWSkgLyBvLmdyaWRbMV0pICogby5ncmlkWzFdIDogdGhpcy5vcmlnaW5hbFBhZ2VZO1xuXHRcdFx0XHRwYWdlWSA9IGNvbnRhaW5tZW50ID8gKCh0b3AgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPj0gY29udGFpbm1lbnRbMV0gfHwgdG9wIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wID4gY29udGFpbm1lbnRbM10pID8gdG9wIDogKCh0b3AgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPj0gY29udGFpbm1lbnRbMV0pID8gdG9wIC0gby5ncmlkWzFdIDogdG9wICsgby5ncmlkWzFdKSkgOiB0b3A7XG5cblx0XHRcdFx0bGVmdCA9IG8uZ3JpZFswXSA/IHRoaXMub3JpZ2luYWxQYWdlWCArIE1hdGgucm91bmQoKHBhZ2VYIC0gdGhpcy5vcmlnaW5hbFBhZ2VYKSAvIG8uZ3JpZFswXSkgKiBvLmdyaWRbMF0gOiB0aGlzLm9yaWdpbmFsUGFnZVg7XG5cdFx0XHRcdHBhZ2VYID0gY29udGFpbm1lbnQgPyAoKGxlZnQgLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0ID49IGNvbnRhaW5tZW50WzBdIHx8IGxlZnQgLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0ID4gY29udGFpbm1lbnRbMl0pID8gbGVmdCA6ICgobGVmdCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPj0gY29udGFpbm1lbnRbMF0pID8gbGVmdCAtIG8uZ3JpZFswXSA6IGxlZnQgKyBvLmdyaWRbMF0pKSA6IGxlZnQ7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggby5heGlzID09PSBcInlcIiApIHtcblx0XHRcdFx0cGFnZVggPSB0aGlzLm9yaWdpbmFsUGFnZVg7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggby5heGlzID09PSBcInhcIiApIHtcblx0XHRcdFx0cGFnZVkgPSB0aGlzLm9yaWdpbmFsUGFnZVk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogKFxuXHRcdFx0XHRwYWdlWSAtXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFRoZSBhYnNvbHV0ZSBtb3VzZSBwb3NpdGlvblxuXHRcdFx0XHR0aGlzLm9mZnNldC5jbGljay50b3BcdC1cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBDbGljayBvZmZzZXQgKHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50KVxuXHRcdFx0XHR0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AgLVx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgZm9yIHJlbGF0aXZlIHBvc2l0aW9uZWQgbm9kZXM6IFJlbGF0aXZlIG9mZnNldCBmcm9tIGVsZW1lbnQgdG8gb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHR0aGlzLm9mZnNldC5wYXJlbnQudG9wICtcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKVxuXHRcdFx0XHQoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwiZml4ZWRcIiA/IC10aGlzLm9mZnNldC5zY3JvbGwudG9wIDogKCBzY3JvbGxJc1Jvb3ROb2RlID8gMCA6IHRoaXMub2Zmc2V0LnNjcm9sbC50b3AgKSApXG5cdFx0XHQpLFxuXHRcdFx0bGVmdDogKFxuXHRcdFx0XHRwYWdlWCAtXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFRoZSBhYnNvbHV0ZSBtb3VzZSBwb3NpdGlvblxuXHRcdFx0XHR0aGlzLm9mZnNldC5jbGljay5sZWZ0IC1cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBDbGljayBvZmZzZXQgKHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50KVxuXHRcdFx0XHR0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0IC1cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIG5vZGVzOiBSZWxhdGl2ZSBvZmZzZXQgZnJvbSBlbGVtZW50IHRvIG9mZnNldCBwYXJlbnRcblx0XHRcdFx0dGhpcy5vZmZzZXQucGFyZW50LmxlZnQgK1x0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFRoZSBvZmZzZXRQYXJlbnQncyBvZmZzZXQgd2l0aG91dCBib3JkZXJzIChvZmZzZXQgKyBib3JkZXIpXG5cdFx0XHRcdCggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID8gLXRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0IDogKCBzY3JvbGxJc1Jvb3ROb2RlID8gMCA6IHRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0ICkgKVxuXHRcdFx0KVxuXHRcdH07XG5cblx0fSxcblxuXHRfY2xlYXI6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaGVscGVyLnJlbW92ZUNsYXNzKFwidWktZHJhZ2dhYmxlLWRyYWdnaW5nXCIpO1xuXHRcdGlmICh0aGlzLmhlbHBlclswXSAhPT0gdGhpcy5lbGVtZW50WzBdICYmICF0aGlzLmNhbmNlbEhlbHBlclJlbW92YWwpIHtcblx0XHRcdHRoaXMuaGVscGVyLnJlbW92ZSgpO1xuXHRcdH1cblx0XHR0aGlzLmhlbHBlciA9IG51bGw7XG5cdFx0dGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsID0gZmFsc2U7XG5cdFx0aWYgKCB0aGlzLmRlc3Ryb3lPbkNsZWFyICkge1xuXHRcdFx0dGhpcy5kZXN0cm95KCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9ub3JtYWxpemVSaWdodEJvdHRvbTogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuYXhpcyAhPT0gXCJ5XCIgJiYgdGhpcy5oZWxwZXIuY3NzKCBcInJpZ2h0XCIgKSAhPT0gXCJhdXRvXCIgKSB7XG5cdFx0XHR0aGlzLmhlbHBlci53aWR0aCggdGhpcy5oZWxwZXIud2lkdGgoKSApO1xuXHRcdFx0dGhpcy5oZWxwZXIuY3NzKCBcInJpZ2h0XCIsIFwiYXV0b1wiICk7XG5cdFx0fVxuXHRcdGlmICggdGhpcy5vcHRpb25zLmF4aXMgIT09IFwieFwiICYmIHRoaXMuaGVscGVyLmNzcyggXCJib3R0b21cIiApICE9PSBcImF1dG9cIiApIHtcblx0XHRcdHRoaXMuaGVscGVyLmhlaWdodCggdGhpcy5oZWxwZXIuaGVpZ2h0KCkgKTtcblx0XHRcdHRoaXMuaGVscGVyLmNzcyggXCJib3R0b21cIiwgXCJhdXRvXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gRnJvbSBub3cgb24gYnVsayBzdHVmZiAtIG1haW5seSBoZWxwZXJzXG5cblx0X3RyaWdnZXI6IGZ1bmN0aW9uKCB0eXBlLCBldmVudCwgdWkgKSB7XG5cdFx0dWkgPSB1aSB8fCB0aGlzLl91aUhhc2goKTtcblx0XHQkLnVpLnBsdWdpbi5jYWxsKCB0aGlzLCB0eXBlLCBbIGV2ZW50LCB1aSwgdGhpcyBdLCB0cnVlICk7XG5cblx0XHQvLyBBYnNvbHV0ZSBwb3NpdGlvbiBhbmQgb2Zmc2V0IChzZWUgIzY4ODQgKSBoYXZlIHRvIGJlIHJlY2FsY3VsYXRlZCBhZnRlciBwbHVnaW5zXG5cdFx0aWYgKCAvXihkcmFnfHN0YXJ0fHN0b3ApLy50ZXN0KCB0eXBlICkgKSB7XG5cdFx0XHR0aGlzLnBvc2l0aW9uQWJzID0gdGhpcy5fY29udmVydFBvc2l0aW9uVG8oIFwiYWJzb2x1dGVcIiApO1xuXHRcdFx0dWkub2Zmc2V0ID0gdGhpcy5wb3NpdGlvbkFicztcblx0XHR9XG5cdFx0cmV0dXJuICQuV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5jYWxsKCB0aGlzLCB0eXBlLCBldmVudCwgdWkgKTtcblx0fSxcblxuXHRwbHVnaW5zOiB7fSxcblxuXHRfdWlIYXNoOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aGVscGVyOiB0aGlzLmhlbHBlcixcblx0XHRcdHBvc2l0aW9uOiB0aGlzLnBvc2l0aW9uLFxuXHRcdFx0b3JpZ2luYWxQb3NpdGlvbjogdGhpcy5vcmlnaW5hbFBvc2l0aW9uLFxuXHRcdFx0b2Zmc2V0OiB0aGlzLnBvc2l0aW9uQWJzXG5cdFx0fTtcblx0fVxuXG59KTtcblxuJC51aS5wbHVnaW4uYWRkKCBcImRyYWdnYWJsZVwiLCBcImNvbm5lY3RUb1NvcnRhYmxlXCIsIHtcblx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgdWksIGRyYWdnYWJsZSApIHtcblx0XHR2YXIgdWlTb3J0YWJsZSA9ICQuZXh0ZW5kKCB7fSwgdWksIHtcblx0XHRcdGl0ZW06IGRyYWdnYWJsZS5lbGVtZW50XG5cdFx0fSk7XG5cblx0XHRkcmFnZ2FibGUuc29ydGFibGVzID0gW107XG5cdFx0JCggZHJhZ2dhYmxlLm9wdGlvbnMuY29ubmVjdFRvU29ydGFibGUgKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNvcnRhYmxlID0gJCggdGhpcyApLnNvcnRhYmxlKCBcImluc3RhbmNlXCIgKTtcblxuXHRcdFx0aWYgKCBzb3J0YWJsZSAmJiAhc29ydGFibGUub3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdFx0ZHJhZ2dhYmxlLnNvcnRhYmxlcy5wdXNoKCBzb3J0YWJsZSApO1xuXG5cdFx0XHRcdC8vIHJlZnJlc2hQb3NpdGlvbnMgaXMgY2FsbGVkIGF0IGRyYWcgc3RhcnQgdG8gcmVmcmVzaCB0aGUgY29udGFpbmVyQ2FjaGVcblx0XHRcdFx0Ly8gd2hpY2ggaXMgdXNlZCBpbiBkcmFnLiBUaGlzIGVuc3VyZXMgaXQncyBpbml0aWFsaXplZCBhbmQgc3luY2hyb25pemVkXG5cdFx0XHRcdC8vIHdpdGggYW55IGNoYW5nZXMgdGhhdCBtaWdodCBoYXZlIGhhcHBlbmVkIG9uIHRoZSBwYWdlIHNpbmNlIGluaXRpYWxpemF0aW9uLlxuXHRcdFx0XHRzb3J0YWJsZS5yZWZyZXNoUG9zaXRpb25zKCk7XG5cdFx0XHRcdHNvcnRhYmxlLl90cmlnZ2VyKFwiYWN0aXZhdGVcIiwgZXZlbnQsIHVpU29ydGFibGUpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXHRzdG9wOiBmdW5jdGlvbiggZXZlbnQsIHVpLCBkcmFnZ2FibGUgKSB7XG5cdFx0dmFyIHVpU29ydGFibGUgPSAkLmV4dGVuZCgge30sIHVpLCB7XG5cdFx0XHRpdGVtOiBkcmFnZ2FibGUuZWxlbWVudFxuXHRcdH0pO1xuXG5cdFx0ZHJhZ2dhYmxlLmNhbmNlbEhlbHBlclJlbW92YWwgPSBmYWxzZTtcblxuXHRcdCQuZWFjaCggZHJhZ2dhYmxlLnNvcnRhYmxlcywgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc29ydGFibGUgPSB0aGlzO1xuXG5cdFx0XHRpZiAoIHNvcnRhYmxlLmlzT3ZlciApIHtcblx0XHRcdFx0c29ydGFibGUuaXNPdmVyID0gMDtcblxuXHRcdFx0XHQvLyBBbGxvdyB0aGlzIHNvcnRhYmxlIHRvIGhhbmRsZSByZW1vdmluZyB0aGUgaGVscGVyXG5cdFx0XHRcdGRyYWdnYWJsZS5jYW5jZWxIZWxwZXJSZW1vdmFsID0gdHJ1ZTtcblx0XHRcdFx0c29ydGFibGUuY2FuY2VsSGVscGVyUmVtb3ZhbCA9IGZhbHNlO1xuXG5cdFx0XHRcdC8vIFVzZSBfc3RvcmVkQ1NTIFRvIHJlc3RvcmUgcHJvcGVydGllcyBpbiB0aGUgc29ydGFibGUsXG5cdFx0XHRcdC8vIGFzIHRoaXMgYWxzbyBoYW5kbGVzIHJldmVydCAoIzk2NzUpIHNpbmNlIHRoZSBkcmFnZ2FibGVcblx0XHRcdFx0Ly8gbWF5IGhhdmUgbW9kaWZpZWQgdGhlbSBpbiB1bmV4cGVjdGVkIHdheXMgKCM4ODA5KVxuXHRcdFx0XHRzb3J0YWJsZS5fc3RvcmVkQ1NTID0ge1xuXHRcdFx0XHRcdHBvc2l0aW9uOiBzb3J0YWJsZS5wbGFjZWhvbGRlci5jc3MoIFwicG9zaXRpb25cIiApLFxuXHRcdFx0XHRcdHRvcDogc29ydGFibGUucGxhY2Vob2xkZXIuY3NzKCBcInRvcFwiICksXG5cdFx0XHRcdFx0bGVmdDogc29ydGFibGUucGxhY2Vob2xkZXIuY3NzKCBcImxlZnRcIiApXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0c29ydGFibGUuX21vdXNlU3RvcChldmVudCk7XG5cblx0XHRcdFx0Ly8gT25jZSBkcmFnIGhhcyBlbmRlZCwgdGhlIHNvcnRhYmxlIHNob3VsZCByZXR1cm4gdG8gdXNpbmdcblx0XHRcdFx0Ly8gaXRzIG9yaWdpbmFsIGhlbHBlciwgbm90IHRoZSBzaGFyZWQgaGVscGVyIGZyb20gZHJhZ2dhYmxlXG5cdFx0XHRcdHNvcnRhYmxlLm9wdGlvbnMuaGVscGVyID0gc29ydGFibGUub3B0aW9ucy5faGVscGVyO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gUHJldmVudCB0aGlzIFNvcnRhYmxlIGZyb20gcmVtb3ZpbmcgdGhlIGhlbHBlci5cblx0XHRcdFx0Ly8gSG93ZXZlciwgZG9uJ3Qgc2V0IHRoZSBkcmFnZ2FibGUgdG8gcmVtb3ZlIHRoZSBoZWxwZXJcblx0XHRcdFx0Ly8gZWl0aGVyIGFzIGFub3RoZXIgY29ubmVjdGVkIFNvcnRhYmxlIG1heSB5ZXQgaGFuZGxlIHRoZSByZW1vdmFsLlxuXHRcdFx0XHRzb3J0YWJsZS5jYW5jZWxIZWxwZXJSZW1vdmFsID0gdHJ1ZTtcblxuXHRcdFx0XHRzb3J0YWJsZS5fdHJpZ2dlciggXCJkZWFjdGl2YXRlXCIsIGV2ZW50LCB1aVNvcnRhYmxlICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cdGRyYWc6IGZ1bmN0aW9uKCBldmVudCwgdWksIGRyYWdnYWJsZSApIHtcblx0XHQkLmVhY2goIGRyYWdnYWJsZS5zb3J0YWJsZXMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGlubmVybW9zdEludGVyc2VjdGluZyA9IGZhbHNlLFxuXHRcdFx0XHRzb3J0YWJsZSA9IHRoaXM7XG5cblx0XHRcdC8vIENvcHkgb3ZlciB2YXJpYWJsZXMgdGhhdCBzb3J0YWJsZSdzIF9pbnRlcnNlY3RzV2l0aCB1c2VzXG5cdFx0XHRzb3J0YWJsZS5wb3NpdGlvbkFicyA9IGRyYWdnYWJsZS5wb3NpdGlvbkFicztcblx0XHRcdHNvcnRhYmxlLmhlbHBlclByb3BvcnRpb25zID0gZHJhZ2dhYmxlLmhlbHBlclByb3BvcnRpb25zO1xuXHRcdFx0c29ydGFibGUub2Zmc2V0LmNsaWNrID0gZHJhZ2dhYmxlLm9mZnNldC5jbGljaztcblxuXHRcdFx0aWYgKCBzb3J0YWJsZS5faW50ZXJzZWN0c1dpdGgoIHNvcnRhYmxlLmNvbnRhaW5lckNhY2hlICkgKSB7XG5cdFx0XHRcdGlubmVybW9zdEludGVyc2VjdGluZyA9IHRydWU7XG5cblx0XHRcdFx0JC5lYWNoKCBkcmFnZ2FibGUuc29ydGFibGVzLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQvLyBDb3B5IG92ZXIgdmFyaWFibGVzIHRoYXQgc29ydGFibGUncyBfaW50ZXJzZWN0c1dpdGggdXNlc1xuXHRcdFx0XHRcdHRoaXMucG9zaXRpb25BYnMgPSBkcmFnZ2FibGUucG9zaXRpb25BYnM7XG5cdFx0XHRcdFx0dGhpcy5oZWxwZXJQcm9wb3J0aW9ucyA9IGRyYWdnYWJsZS5oZWxwZXJQcm9wb3J0aW9ucztcblx0XHRcdFx0XHR0aGlzLm9mZnNldC5jbGljayA9IGRyYWdnYWJsZS5vZmZzZXQuY2xpY2s7XG5cblx0XHRcdFx0XHRpZiAoIHRoaXMgIT09IHNvcnRhYmxlICYmXG5cdFx0XHRcdFx0XHRcdHRoaXMuX2ludGVyc2VjdHNXaXRoKCB0aGlzLmNvbnRhaW5lckNhY2hlICkgJiZcblx0XHRcdFx0XHRcdFx0JC5jb250YWlucyggc29ydGFibGUuZWxlbWVudFsgMCBdLCB0aGlzLmVsZW1lbnRbIDAgXSApICkge1xuXHRcdFx0XHRcdFx0aW5uZXJtb3N0SW50ZXJzZWN0aW5nID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGlubmVybW9zdEludGVyc2VjdGluZztcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaW5uZXJtb3N0SW50ZXJzZWN0aW5nICkge1xuXHRcdFx0XHQvLyBJZiBpdCBpbnRlcnNlY3RzLCB3ZSB1c2UgYSBsaXR0bGUgaXNPdmVyIHZhcmlhYmxlIGFuZCBzZXQgaXQgb25jZSxcblx0XHRcdFx0Ly8gc28gdGhhdCB0aGUgbW92ZS1pbiBzdHVmZiBnZXRzIGZpcmVkIG9ubHkgb25jZS5cblx0XHRcdFx0aWYgKCAhc29ydGFibGUuaXNPdmVyICkge1xuXHRcdFx0XHRcdHNvcnRhYmxlLmlzT3ZlciA9IDE7XG5cblx0XHRcdFx0XHQvLyBTdG9yZSBkcmFnZ2FibGUncyBwYXJlbnQgaW4gY2FzZSB3ZSBuZWVkIHRvIHJlYXBwZW5kIHRvIGl0IGxhdGVyLlxuXHRcdFx0XHRcdGRyYWdnYWJsZS5fcGFyZW50ID0gdWkuaGVscGVyLnBhcmVudCgpO1xuXG5cdFx0XHRcdFx0c29ydGFibGUuY3VycmVudEl0ZW0gPSB1aS5oZWxwZXJcblx0XHRcdFx0XHRcdC5hcHBlbmRUbyggc29ydGFibGUuZWxlbWVudCApXG5cdFx0XHRcdFx0XHQuZGF0YSggXCJ1aS1zb3J0YWJsZS1pdGVtXCIsIHRydWUgKTtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGhlbHBlciBvcHRpb24gdG8gbGF0ZXIgcmVzdG9yZSBpdFxuXHRcdFx0XHRcdHNvcnRhYmxlLm9wdGlvbnMuX2hlbHBlciA9IHNvcnRhYmxlLm9wdGlvbnMuaGVscGVyO1xuXG5cdFx0XHRcdFx0c29ydGFibGUub3B0aW9ucy5oZWxwZXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiB1aS5oZWxwZXJbIDAgXTtcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0Ly8gRmlyZSB0aGUgc3RhcnQgZXZlbnRzIG9mIHRoZSBzb3J0YWJsZSB3aXRoIG91ciBwYXNzZWQgYnJvd3NlciBldmVudCxcblx0XHRcdFx0XHQvLyBhbmQgb3VyIG93biBoZWxwZXIgKHNvIGl0IGRvZXNuJ3QgY3JlYXRlIGEgbmV3IG9uZSlcblx0XHRcdFx0XHRldmVudC50YXJnZXQgPSBzb3J0YWJsZS5jdXJyZW50SXRlbVsgMCBdO1xuXHRcdFx0XHRcdHNvcnRhYmxlLl9tb3VzZUNhcHR1cmUoIGV2ZW50LCB0cnVlICk7XG5cdFx0XHRcdFx0c29ydGFibGUuX21vdXNlU3RhcnQoIGV2ZW50LCB0cnVlLCB0cnVlICk7XG5cblx0XHRcdFx0XHQvLyBCZWNhdXNlIHRoZSBicm93c2VyIGV2ZW50IGlzIHdheSBvZmYgdGhlIG5ldyBhcHBlbmRlZCBwb3J0bGV0LFxuXHRcdFx0XHRcdC8vIG1vZGlmeSBuZWNlc3NhcnkgdmFyaWFibGVzIHRvIHJlZmxlY3QgdGhlIGNoYW5nZXNcblx0XHRcdFx0XHRzb3J0YWJsZS5vZmZzZXQuY2xpY2sudG9wID0gZHJhZ2dhYmxlLm9mZnNldC5jbGljay50b3A7XG5cdFx0XHRcdFx0c29ydGFibGUub2Zmc2V0LmNsaWNrLmxlZnQgPSBkcmFnZ2FibGUub2Zmc2V0LmNsaWNrLmxlZnQ7XG5cdFx0XHRcdFx0c29ydGFibGUub2Zmc2V0LnBhcmVudC5sZWZ0IC09IGRyYWdnYWJsZS5vZmZzZXQucGFyZW50LmxlZnQgLVxuXHRcdFx0XHRcdFx0c29ydGFibGUub2Zmc2V0LnBhcmVudC5sZWZ0O1xuXHRcdFx0XHRcdHNvcnRhYmxlLm9mZnNldC5wYXJlbnQudG9wIC09IGRyYWdnYWJsZS5vZmZzZXQucGFyZW50LnRvcCAtXG5cdFx0XHRcdFx0XHRzb3J0YWJsZS5vZmZzZXQucGFyZW50LnRvcDtcblxuXHRcdFx0XHRcdGRyYWdnYWJsZS5fdHJpZ2dlciggXCJ0b1NvcnRhYmxlXCIsIGV2ZW50ICk7XG5cblx0XHRcdFx0XHQvLyBJbmZvcm0gZHJhZ2dhYmxlIHRoYXQgdGhlIGhlbHBlciBpcyBpbiBhIHZhbGlkIGRyb3Agem9uZSxcblx0XHRcdFx0XHQvLyB1c2VkIHNvbGVseSBpbiB0aGUgcmV2ZXJ0IG9wdGlvbiB0byBoYW5kbGUgXCJ2YWxpZC9pbnZhbGlkXCIuXG5cdFx0XHRcdFx0ZHJhZ2dhYmxlLmRyb3BwZWQgPSBzb3J0YWJsZS5lbGVtZW50O1xuXG5cdFx0XHRcdFx0Ly8gTmVlZCB0byByZWZyZXNoUG9zaXRpb25zIG9mIGFsbCBzb3J0YWJsZXMgaW4gdGhlIGNhc2UgdGhhdFxuXHRcdFx0XHRcdC8vIGFkZGluZyB0byBvbmUgc29ydGFibGUgY2hhbmdlcyB0aGUgbG9jYXRpb24gb2YgdGhlIG90aGVyIHNvcnRhYmxlcyAoIzk2NzUpXG5cdFx0XHRcdFx0JC5lYWNoKCBkcmFnZ2FibGUuc29ydGFibGVzLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFBvc2l0aW9ucygpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0Ly8gaGFjayBzbyByZWNlaXZlL3VwZGF0ZSBjYWxsYmFja3Mgd29yayAobW9zdGx5KVxuXHRcdFx0XHRcdGRyYWdnYWJsZS5jdXJyZW50SXRlbSA9IGRyYWdnYWJsZS5lbGVtZW50O1xuXHRcdFx0XHRcdHNvcnRhYmxlLmZyb21PdXRzaWRlID0gZHJhZ2dhYmxlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBzb3J0YWJsZS5jdXJyZW50SXRlbSApIHtcblx0XHRcdFx0XHRzb3J0YWJsZS5fbW91c2VEcmFnKCBldmVudCApO1xuXHRcdFx0XHRcdC8vIENvcHkgdGhlIHNvcnRhYmxlJ3MgcG9zaXRpb24gYmVjYXVzZSB0aGUgZHJhZ2dhYmxlJ3MgY2FuIHBvdGVudGlhbGx5IHJlZmxlY3Rcblx0XHRcdFx0XHQvLyBhIHJlbGF0aXZlIHBvc2l0aW9uLCB3aGlsZSBzb3J0YWJsZSBpcyBhbHdheXMgYWJzb2x1dGUsIHdoaWNoIHRoZSBkcmFnZ2VkXG5cdFx0XHRcdFx0Ly8gZWxlbWVudCBoYXMgbm93IGJlY29tZS4gKCM4ODA5KVxuXHRcdFx0XHRcdHVpLnBvc2l0aW9uID0gc29ydGFibGUucG9zaXRpb247XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIElmIGl0IGRvZXNuJ3QgaW50ZXJzZWN0IHdpdGggdGhlIHNvcnRhYmxlLCBhbmQgaXQgaW50ZXJzZWN0ZWQgYmVmb3JlLFxuXHRcdFx0XHQvLyB3ZSBmYWtlIHRoZSBkcmFnIHN0b3Agb2YgdGhlIHNvcnRhYmxlLCBidXQgbWFrZSBzdXJlIGl0IGRvZXNuJ3QgcmVtb3ZlXG5cdFx0XHRcdC8vIHRoZSBoZWxwZXIgYnkgdXNpbmcgY2FuY2VsSGVscGVyUmVtb3ZhbC5cblx0XHRcdFx0aWYgKCBzb3J0YWJsZS5pc092ZXIgKSB7XG5cblx0XHRcdFx0XHRzb3J0YWJsZS5pc092ZXIgPSAwO1xuXHRcdFx0XHRcdHNvcnRhYmxlLmNhbmNlbEhlbHBlclJlbW92YWwgPSB0cnVlO1xuXG5cdFx0XHRcdFx0Ly8gQ2FsbGluZyBzb3J0YWJsZSdzIG1vdXNlU3RvcCB3b3VsZCB0cmlnZ2VyIGEgcmV2ZXJ0LFxuXHRcdFx0XHRcdC8vIHNvIHJldmVydCBtdXN0IGJlIHRlbXBvcmFyaWx5IGZhbHNlIHVudGlsIGFmdGVyIG1vdXNlU3RvcCBpcyBjYWxsZWQuXG5cdFx0XHRcdFx0c29ydGFibGUub3B0aW9ucy5fcmV2ZXJ0ID0gc29ydGFibGUub3B0aW9ucy5yZXZlcnQ7XG5cdFx0XHRcdFx0c29ydGFibGUub3B0aW9ucy5yZXZlcnQgPSBmYWxzZTtcblxuXHRcdFx0XHRcdHNvcnRhYmxlLl90cmlnZ2VyKCBcIm91dFwiLCBldmVudCwgc29ydGFibGUuX3VpSGFzaCggc29ydGFibGUgKSApO1xuXHRcdFx0XHRcdHNvcnRhYmxlLl9tb3VzZVN0b3AoIGV2ZW50LCB0cnVlICk7XG5cblx0XHRcdFx0XHQvLyByZXN0b3JlIHNvcnRhYmxlIGJlaGF2aW9ycyB0aGF0IHdlcmUgbW9kZmllZFxuXHRcdFx0XHRcdC8vIHdoZW4gdGhlIGRyYWdnYWJsZSBlbnRlcmVkIHRoZSBzb3J0YWJsZSBhcmVhICgjOTQ4MSlcblx0XHRcdFx0XHRzb3J0YWJsZS5vcHRpb25zLnJldmVydCA9IHNvcnRhYmxlLm9wdGlvbnMuX3JldmVydDtcblx0XHRcdFx0XHRzb3J0YWJsZS5vcHRpb25zLmhlbHBlciA9IHNvcnRhYmxlLm9wdGlvbnMuX2hlbHBlcjtcblxuXHRcdFx0XHRcdGlmICggc29ydGFibGUucGxhY2Vob2xkZXIgKSB7XG5cdFx0XHRcdFx0XHRzb3J0YWJsZS5wbGFjZWhvbGRlci5yZW1vdmUoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBSZXN0b3JlIGFuZCByZWNhbGN1bGF0ZSB0aGUgZHJhZ2dhYmxlJ3Mgb2Zmc2V0IGNvbnNpZGVyaW5nIHRoZSBzb3J0YWJsZVxuXHRcdFx0XHRcdC8vIG1heSBoYXZlIG1vZGlmaWVkIHRoZW0gaW4gdW5leHBlY3RlZCB3YXlzLiAoIzg4MDksICMxMDY2OSlcblx0XHRcdFx0XHR1aS5oZWxwZXIuYXBwZW5kVG8oIGRyYWdnYWJsZS5fcGFyZW50ICk7XG5cdFx0XHRcdFx0ZHJhZ2dhYmxlLl9yZWZyZXNoT2Zmc2V0cyggZXZlbnQgKTtcblx0XHRcdFx0XHR1aS5wb3NpdGlvbiA9IGRyYWdnYWJsZS5fZ2VuZXJhdGVQb3NpdGlvbiggZXZlbnQsIHRydWUgKTtcblxuXHRcdFx0XHRcdGRyYWdnYWJsZS5fdHJpZ2dlciggXCJmcm9tU29ydGFibGVcIiwgZXZlbnQgKTtcblxuXHRcdFx0XHRcdC8vIEluZm9ybSBkcmFnZ2FibGUgdGhhdCB0aGUgaGVscGVyIGlzIG5vIGxvbmdlciBpbiBhIHZhbGlkIGRyb3Agem9uZVxuXHRcdFx0XHRcdGRyYWdnYWJsZS5kcm9wcGVkID0gZmFsc2U7XG5cblx0XHRcdFx0XHQvLyBOZWVkIHRvIHJlZnJlc2hQb3NpdGlvbnMgb2YgYWxsIHNvcnRhYmxlcyBqdXN0IGluIGNhc2UgcmVtb3Zpbmdcblx0XHRcdFx0XHQvLyBmcm9tIG9uZSBzb3J0YWJsZSBjaGFuZ2VzIHRoZSBsb2NhdGlvbiBvZiBvdGhlciBzb3J0YWJsZXMgKCM5Njc1KVxuXHRcdFx0XHRcdCQuZWFjaCggZHJhZ2dhYmxlLnNvcnRhYmxlcywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59KTtcblxuJC51aS5wbHVnaW4uYWRkKFwiZHJhZ2dhYmxlXCIsIFwiY3Vyc29yXCIsIHtcblx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgdWksIGluc3RhbmNlICkge1xuXHRcdHZhciB0ID0gJCggXCJib2R5XCIgKSxcblx0XHRcdG8gPSBpbnN0YW5jZS5vcHRpb25zO1xuXG5cdFx0aWYgKHQuY3NzKFwiY3Vyc29yXCIpKSB7XG5cdFx0XHRvLl9jdXJzb3IgPSB0LmNzcyhcImN1cnNvclwiKTtcblx0XHR9XG5cdFx0dC5jc3MoXCJjdXJzb3JcIiwgby5jdXJzb3IpO1xuXHR9LFxuXHRzdG9wOiBmdW5jdGlvbiggZXZlbnQsIHVpLCBpbnN0YW5jZSApIHtcblx0XHR2YXIgbyA9IGluc3RhbmNlLm9wdGlvbnM7XG5cdFx0aWYgKG8uX2N1cnNvcikge1xuXHRcdFx0JChcImJvZHlcIikuY3NzKFwiY3Vyc29yXCIsIG8uX2N1cnNvcik7XG5cdFx0fVxuXHR9XG59KTtcblxuJC51aS5wbHVnaW4uYWRkKFwiZHJhZ2dhYmxlXCIsIFwib3BhY2l0eVwiLCB7XG5cdHN0YXJ0OiBmdW5jdGlvbiggZXZlbnQsIHVpLCBpbnN0YW5jZSApIHtcblx0XHR2YXIgdCA9ICQoIHVpLmhlbHBlciApLFxuXHRcdFx0byA9IGluc3RhbmNlLm9wdGlvbnM7XG5cdFx0aWYgKHQuY3NzKFwib3BhY2l0eVwiKSkge1xuXHRcdFx0by5fb3BhY2l0eSA9IHQuY3NzKFwib3BhY2l0eVwiKTtcblx0XHR9XG5cdFx0dC5jc3MoXCJvcGFjaXR5XCIsIG8ub3BhY2l0eSk7XG5cdH0sXG5cdHN0b3A6IGZ1bmN0aW9uKCBldmVudCwgdWksIGluc3RhbmNlICkge1xuXHRcdHZhciBvID0gaW5zdGFuY2Uub3B0aW9ucztcblx0XHRpZiAoby5fb3BhY2l0eSkge1xuXHRcdFx0JCh1aS5oZWxwZXIpLmNzcyhcIm9wYWNpdHlcIiwgby5fb3BhY2l0eSk7XG5cdFx0fVxuXHR9XG59KTtcblxuJC51aS5wbHVnaW4uYWRkKFwiZHJhZ2dhYmxlXCIsIFwic2Nyb2xsXCIsIHtcblx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgdWksIGkgKSB7XG5cdFx0aWYgKCAhaS5zY3JvbGxQYXJlbnROb3RIaWRkZW4gKSB7XG5cdFx0XHRpLnNjcm9sbFBhcmVudE5vdEhpZGRlbiA9IGkuaGVscGVyLnNjcm9sbFBhcmVudCggZmFsc2UgKTtcblx0XHR9XG5cblx0XHRpZiAoIGkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWyAwIF0gIT09IGkuZG9jdW1lbnRbIDAgXSAmJiBpLnNjcm9sbFBhcmVudE5vdEhpZGRlblsgMCBdLnRhZ05hbWUgIT09IFwiSFRNTFwiICkge1xuXHRcdFx0aS5vdmVyZmxvd09mZnNldCA9IGkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuLm9mZnNldCgpO1xuXHRcdH1cblx0fSxcblx0ZHJhZzogZnVuY3Rpb24oIGV2ZW50LCB1aSwgaSAgKSB7XG5cblx0XHR2YXIgbyA9IGkub3B0aW9ucyxcblx0XHRcdHNjcm9sbGVkID0gZmFsc2UsXG5cdFx0XHRzY3JvbGxQYXJlbnQgPSBpLnNjcm9sbFBhcmVudE5vdEhpZGRlblsgMCBdLFxuXHRcdFx0ZG9jdW1lbnQgPSBpLmRvY3VtZW50WyAwIF07XG5cblx0XHRpZiAoIHNjcm9sbFBhcmVudCAhPT0gZG9jdW1lbnQgJiYgc2Nyb2xsUGFyZW50LnRhZ05hbWUgIT09IFwiSFRNTFwiICkge1xuXHRcdFx0aWYgKCAhby5heGlzIHx8IG8uYXhpcyAhPT0gXCJ4XCIgKSB7XG5cdFx0XHRcdGlmICggKCBpLm92ZXJmbG93T2Zmc2V0LnRvcCArIHNjcm9sbFBhcmVudC5vZmZzZXRIZWlnaHQgKSAtIGV2ZW50LnBhZ2VZIDwgby5zY3JvbGxTZW5zaXRpdml0eSApIHtcblx0XHRcdFx0XHRzY3JvbGxQYXJlbnQuc2Nyb2xsVG9wID0gc2Nyb2xsZWQgPSBzY3JvbGxQYXJlbnQuc2Nyb2xsVG9wICsgby5zY3JvbGxTcGVlZDtcblx0XHRcdFx0fSBlbHNlIGlmICggZXZlbnQucGFnZVkgLSBpLm92ZXJmbG93T2Zmc2V0LnRvcCA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkgKSB7XG5cdFx0XHRcdFx0c2Nyb2xsUGFyZW50LnNjcm9sbFRvcCA9IHNjcm9sbGVkID0gc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCAtIG8uc2Nyb2xsU3BlZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhby5heGlzIHx8IG8uYXhpcyAhPT0gXCJ5XCIgKSB7XG5cdFx0XHRcdGlmICggKCBpLm92ZXJmbG93T2Zmc2V0LmxlZnQgKyBzY3JvbGxQYXJlbnQub2Zmc2V0V2lkdGggKSAtIGV2ZW50LnBhZ2VYIDwgby5zY3JvbGxTZW5zaXRpdml0eSApIHtcblx0XHRcdFx0XHRzY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCA9IHNjcm9sbGVkID0gc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQgKyBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBldmVudC5wYWdlWCAtIGkub3ZlcmZsb3dPZmZzZXQubGVmdCA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkgKSB7XG5cdFx0XHRcdFx0c2Nyb2xsUGFyZW50LnNjcm9sbExlZnQgPSBzY3JvbGxlZCA9IHNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0IC0gby5zY3JvbGxTcGVlZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0aWYgKCFvLmF4aXMgfHwgby5heGlzICE9PSBcInhcIikge1xuXHRcdFx0XHRpZiAoZXZlbnQucGFnZVkgLSAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkpIHtcblx0XHRcdFx0XHRzY3JvbGxlZCA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSAtIG8uc2Nyb2xsU3BlZWQpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCQod2luZG93KS5oZWlnaHQoKSAtIChldmVudC5wYWdlWSAtICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpKSA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkpIHtcblx0XHRcdFx0XHRzY3JvbGxlZCA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSArIG8uc2Nyb2xsU3BlZWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICghby5heGlzIHx8IG8uYXhpcyAhPT0gXCJ5XCIpIHtcblx0XHRcdFx0aWYgKGV2ZW50LnBhZ2VYIC0gJChkb2N1bWVudCkuc2Nyb2xsTGVmdCgpIDwgby5zY3JvbGxTZW5zaXRpdml0eSkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gJChkb2N1bWVudCkuc2Nyb2xsTGVmdCgkKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCkgLSBvLnNjcm9sbFNwZWVkKTtcblx0XHRcdFx0fSBlbHNlIGlmICgkKHdpbmRvdykud2lkdGgoKSAtIChldmVudC5wYWdlWCAtICQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5KSB7XG5cdFx0XHRcdFx0c2Nyb2xsZWQgPSAkKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSArIG8uc2Nyb2xsU3BlZWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRpZiAoc2Nyb2xsZWQgIT09IGZhbHNlICYmICQudWkuZGRtYW5hZ2VyICYmICFvLmRyb3BCZWhhdmlvdXIpIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKGksIGV2ZW50KTtcblx0XHR9XG5cblx0fVxufSk7XG5cbiQudWkucGx1Z2luLmFkZChcImRyYWdnYWJsZVwiLCBcInNuYXBcIiwge1xuXHRzdGFydDogZnVuY3Rpb24oIGV2ZW50LCB1aSwgaSApIHtcblxuXHRcdHZhciBvID0gaS5vcHRpb25zO1xuXG5cdFx0aS5zbmFwRWxlbWVudHMgPSBbXTtcblxuXHRcdCQoby5zbmFwLmNvbnN0cnVjdG9yICE9PSBTdHJpbmcgPyAoIG8uc25hcC5pdGVtcyB8fCBcIjpkYXRhKHVpLWRyYWdnYWJsZSlcIiApIDogby5zbmFwKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICR0ID0gJCh0aGlzKSxcblx0XHRcdFx0JG8gPSAkdC5vZmZzZXQoKTtcblx0XHRcdGlmICh0aGlzICE9PSBpLmVsZW1lbnRbMF0pIHtcblx0XHRcdFx0aS5zbmFwRWxlbWVudHMucHVzaCh7XG5cdFx0XHRcdFx0aXRlbTogdGhpcyxcblx0XHRcdFx0XHR3aWR0aDogJHQub3V0ZXJXaWR0aCgpLCBoZWlnaHQ6ICR0Lm91dGVySGVpZ2h0KCksXG5cdFx0XHRcdFx0dG9wOiAkby50b3AsIGxlZnQ6ICRvLmxlZnRcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0fSxcblx0ZHJhZzogZnVuY3Rpb24oIGV2ZW50LCB1aSwgaW5zdCApIHtcblxuXHRcdHZhciB0cywgYnMsIGxzLCBycywgbCwgciwgdCwgYiwgaSwgZmlyc3QsXG5cdFx0XHRvID0gaW5zdC5vcHRpb25zLFxuXHRcdFx0ZCA9IG8uc25hcFRvbGVyYW5jZSxcblx0XHRcdHgxID0gdWkub2Zmc2V0LmxlZnQsIHgyID0geDEgKyBpbnN0LmhlbHBlclByb3BvcnRpb25zLndpZHRoLFxuXHRcdFx0eTEgPSB1aS5vZmZzZXQudG9wLCB5MiA9IHkxICsgaW5zdC5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQ7XG5cblx0XHRmb3IgKGkgPSBpbnN0LnNuYXBFbGVtZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7XG5cblx0XHRcdGwgPSBpbnN0LnNuYXBFbGVtZW50c1tpXS5sZWZ0IC0gaW5zdC5tYXJnaW5zLmxlZnQ7XG5cdFx0XHRyID0gbCArIGluc3Quc25hcEVsZW1lbnRzW2ldLndpZHRoO1xuXHRcdFx0dCA9IGluc3Quc25hcEVsZW1lbnRzW2ldLnRvcCAtIGluc3QubWFyZ2lucy50b3A7XG5cdFx0XHRiID0gdCArIGluc3Quc25hcEVsZW1lbnRzW2ldLmhlaWdodDtcblxuXHRcdFx0aWYgKCB4MiA8IGwgLSBkIHx8IHgxID4gciArIGQgfHwgeTIgPCB0IC0gZCB8fCB5MSA+IGIgKyBkIHx8ICEkLmNvbnRhaW5zKCBpbnN0LnNuYXBFbGVtZW50c1sgaSBdLml0ZW0ub3duZXJEb2N1bWVudCwgaW5zdC5zbmFwRWxlbWVudHNbIGkgXS5pdGVtICkgKSB7XG5cdFx0XHRcdGlmIChpbnN0LnNuYXBFbGVtZW50c1tpXS5zbmFwcGluZykge1xuXHRcdFx0XHRcdChpbnN0Lm9wdGlvbnMuc25hcC5yZWxlYXNlICYmIGluc3Qub3B0aW9ucy5zbmFwLnJlbGVhc2UuY2FsbChpbnN0LmVsZW1lbnQsIGV2ZW50LCAkLmV4dGVuZChpbnN0Ll91aUhhc2goKSwgeyBzbmFwSXRlbTogaW5zdC5zbmFwRWxlbWVudHNbaV0uaXRlbSB9KSkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGluc3Quc25hcEVsZW1lbnRzW2ldLnNuYXBwaW5nID0gZmFsc2U7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoby5zbmFwTW9kZSAhPT0gXCJpbm5lclwiKSB7XG5cdFx0XHRcdHRzID0gTWF0aC5hYnModCAtIHkyKSA8PSBkO1xuXHRcdFx0XHRicyA9IE1hdGguYWJzKGIgLSB5MSkgPD0gZDtcblx0XHRcdFx0bHMgPSBNYXRoLmFicyhsIC0geDIpIDw9IGQ7XG5cdFx0XHRcdHJzID0gTWF0aC5hYnMociAtIHgxKSA8PSBkO1xuXHRcdFx0XHRpZiAodHMpIHtcblx0XHRcdFx0XHR1aS5wb3NpdGlvbi50b3AgPSBpbnN0Ll9jb252ZXJ0UG9zaXRpb25UbyhcInJlbGF0aXZlXCIsIHsgdG9wOiB0IC0gaW5zdC5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsIGxlZnQ6IDAgfSkudG9wO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChicykge1xuXHRcdFx0XHRcdHVpLnBvc2l0aW9uLnRvcCA9IGluc3QuX2NvbnZlcnRQb3NpdGlvblRvKFwicmVsYXRpdmVcIiwgeyB0b3A6IGIsIGxlZnQ6IDAgfSkudG9wO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChscykge1xuXHRcdFx0XHRcdHVpLnBvc2l0aW9uLmxlZnQgPSBpbnN0Ll9jb252ZXJ0UG9zaXRpb25UbyhcInJlbGF0aXZlXCIsIHsgdG9wOiAwLCBsZWZ0OiBsIC0gaW5zdC5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCB9KS5sZWZ0O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChycykge1xuXHRcdFx0XHRcdHVpLnBvc2l0aW9uLmxlZnQgPSBpbnN0Ll9jb252ZXJ0UG9zaXRpb25UbyhcInJlbGF0aXZlXCIsIHsgdG9wOiAwLCBsZWZ0OiByIH0pLmxlZnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Zmlyc3QgPSAodHMgfHwgYnMgfHwgbHMgfHwgcnMpO1xuXG5cdFx0XHRpZiAoby5zbmFwTW9kZSAhPT0gXCJvdXRlclwiKSB7XG5cdFx0XHRcdHRzID0gTWF0aC5hYnModCAtIHkxKSA8PSBkO1xuXHRcdFx0XHRicyA9IE1hdGguYWJzKGIgLSB5MikgPD0gZDtcblx0XHRcdFx0bHMgPSBNYXRoLmFicyhsIC0geDEpIDw9IGQ7XG5cdFx0XHRcdHJzID0gTWF0aC5hYnMociAtIHgyKSA8PSBkO1xuXHRcdFx0XHRpZiAodHMpIHtcblx0XHRcdFx0XHR1aS5wb3NpdGlvbi50b3AgPSBpbnN0Ll9jb252ZXJ0UG9zaXRpb25UbyhcInJlbGF0aXZlXCIsIHsgdG9wOiB0LCBsZWZ0OiAwIH0pLnRvcDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoYnMpIHtcblx0XHRcdFx0XHR1aS5wb3NpdGlvbi50b3AgPSBpbnN0Ll9jb252ZXJ0UG9zaXRpb25UbyhcInJlbGF0aXZlXCIsIHsgdG9wOiBiIC0gaW5zdC5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsIGxlZnQ6IDAgfSkudG9wO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChscykge1xuXHRcdFx0XHRcdHVpLnBvc2l0aW9uLmxlZnQgPSBpbnN0Ll9jb252ZXJ0UG9zaXRpb25UbyhcInJlbGF0aXZlXCIsIHsgdG9wOiAwLCBsZWZ0OiBsIH0pLmxlZnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHJzKSB7XG5cdFx0XHRcdFx0dWkucG9zaXRpb24ubGVmdCA9IGluc3QuX2NvbnZlcnRQb3NpdGlvblRvKFwicmVsYXRpdmVcIiwgeyB0b3A6IDAsIGxlZnQ6IHIgLSBpbnN0LmhlbHBlclByb3BvcnRpb25zLndpZHRoIH0pLmxlZnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCFpbnN0LnNuYXBFbGVtZW50c1tpXS5zbmFwcGluZyAmJiAodHMgfHwgYnMgfHwgbHMgfHwgcnMgfHwgZmlyc3QpKSB7XG5cdFx0XHRcdChpbnN0Lm9wdGlvbnMuc25hcC5zbmFwICYmIGluc3Qub3B0aW9ucy5zbmFwLnNuYXAuY2FsbChpbnN0LmVsZW1lbnQsIGV2ZW50LCAkLmV4dGVuZChpbnN0Ll91aUhhc2goKSwgeyBzbmFwSXRlbTogaW5zdC5zbmFwRWxlbWVudHNbaV0uaXRlbSB9KSkpO1xuXHRcdFx0fVxuXHRcdFx0aW5zdC5zbmFwRWxlbWVudHNbaV0uc25hcHBpbmcgPSAodHMgfHwgYnMgfHwgbHMgfHwgcnMgfHwgZmlyc3QpO1xuXG5cdFx0fVxuXG5cdH1cbn0pO1xuXG4kLnVpLnBsdWdpbi5hZGQoXCJkcmFnZ2FibGVcIiwgXCJzdGFja1wiLCB7XG5cdHN0YXJ0OiBmdW5jdGlvbiggZXZlbnQsIHVpLCBpbnN0YW5jZSApIHtcblx0XHR2YXIgbWluLFxuXHRcdFx0byA9IGluc3RhbmNlLm9wdGlvbnMsXG5cdFx0XHRncm91cCA9ICQubWFrZUFycmF5KCQoby5zdGFjaykpLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHRyZXR1cm4gKHBhcnNlSW50KCQoYSkuY3NzKFwiekluZGV4XCIpLCAxMCkgfHwgMCkgLSAocGFyc2VJbnQoJChiKS5jc3MoXCJ6SW5kZXhcIiksIDEwKSB8fCAwKTtcblx0XHRcdH0pO1xuXG5cdFx0aWYgKCFncm91cC5sZW5ndGgpIHsgcmV0dXJuOyB9XG5cblx0XHRtaW4gPSBwYXJzZUludCgkKGdyb3VwWzBdKS5jc3MoXCJ6SW5kZXhcIiksIDEwKSB8fCAwO1xuXHRcdCQoZ3JvdXApLmVhY2goZnVuY3Rpb24oaSkge1xuXHRcdFx0JCh0aGlzKS5jc3MoXCJ6SW5kZXhcIiwgbWluICsgaSk7XG5cdFx0fSk7XG5cdFx0dGhpcy5jc3MoXCJ6SW5kZXhcIiwgKG1pbiArIGdyb3VwLmxlbmd0aCkpO1xuXHR9XG59KTtcblxuJC51aS5wbHVnaW4uYWRkKFwiZHJhZ2dhYmxlXCIsIFwiekluZGV4XCIsIHtcblx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgdWksIGluc3RhbmNlICkge1xuXHRcdHZhciB0ID0gJCggdWkuaGVscGVyICksXG5cdFx0XHRvID0gaW5zdGFuY2Uub3B0aW9ucztcblxuXHRcdGlmICh0LmNzcyhcInpJbmRleFwiKSkge1xuXHRcdFx0by5fekluZGV4ID0gdC5jc3MoXCJ6SW5kZXhcIik7XG5cdFx0fVxuXHRcdHQuY3NzKFwiekluZGV4XCIsIG8uekluZGV4KTtcblx0fSxcblx0c3RvcDogZnVuY3Rpb24oIGV2ZW50LCB1aSwgaW5zdGFuY2UgKSB7XG5cdFx0dmFyIG8gPSBpbnN0YW5jZS5vcHRpb25zO1xuXG5cdFx0aWYgKG8uX3pJbmRleCkge1xuXHRcdFx0JCh1aS5oZWxwZXIpLmNzcyhcInpJbmRleFwiLCBvLl96SW5kZXgpO1xuXHRcdH1cblx0fVxufSk7XG5cbnZhciBkcmFnZ2FibGUgPSAkLnVpLmRyYWdnYWJsZTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBSZXNpemFibGUgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9yZXNpemFibGUvXG4gKi9cblxuXG4kLndpZGdldChcInVpLnJlc2l6YWJsZVwiLCAkLnVpLm1vdXNlLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdHdpZGdldEV2ZW50UHJlZml4OiBcInJlc2l6ZVwiLFxuXHRvcHRpb25zOiB7XG5cdFx0YWxzb1Jlc2l6ZTogZmFsc2UsXG5cdFx0YW5pbWF0ZTogZmFsc2UsXG5cdFx0YW5pbWF0ZUR1cmF0aW9uOiBcInNsb3dcIixcblx0XHRhbmltYXRlRWFzaW5nOiBcInN3aW5nXCIsXG5cdFx0YXNwZWN0UmF0aW86IGZhbHNlLFxuXHRcdGF1dG9IaWRlOiBmYWxzZSxcblx0XHRjb250YWlubWVudDogZmFsc2UsXG5cdFx0Z2hvc3Q6IGZhbHNlLFxuXHRcdGdyaWQ6IGZhbHNlLFxuXHRcdGhhbmRsZXM6IFwiZSxzLHNlXCIsXG5cdFx0aGVscGVyOiBmYWxzZSxcblx0XHRtYXhIZWlnaHQ6IG51bGwsXG5cdFx0bWF4V2lkdGg6IG51bGwsXG5cdFx0bWluSGVpZ2h0OiAxMCxcblx0XHRtaW5XaWR0aDogMTAsXG5cdFx0Ly8gU2VlICM3OTYwXG5cdFx0ekluZGV4OiA5MCxcblxuXHRcdC8vIGNhbGxiYWNrc1xuXHRcdHJlc2l6ZTogbnVsbCxcblx0XHRzdGFydDogbnVsbCxcblx0XHRzdG9wOiBudWxsXG5cdH0sXG5cblx0X251bTogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBwYXJzZUludCggdmFsdWUsIDEwICkgfHwgMDtcblx0fSxcblxuXHRfaXNOdW1iZXI6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gIWlzTmFOKCBwYXJzZUludCggdmFsdWUsIDEwICkgKTtcblx0fSxcblxuXHRfaGFzU2Nyb2xsOiBmdW5jdGlvbiggZWwsIGEgKSB7XG5cblx0XHRpZiAoICQoIGVsICkuY3NzKCBcIm92ZXJmbG93XCIgKSA9PT0gXCJoaWRkZW5cIikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHZhciBzY3JvbGwgPSAoIGEgJiYgYSA9PT0gXCJsZWZ0XCIgKSA/IFwic2Nyb2xsTGVmdFwiIDogXCJzY3JvbGxUb3BcIixcblx0XHRcdGhhcyA9IGZhbHNlO1xuXG5cdFx0aWYgKCBlbFsgc2Nyb2xsIF0gPiAwICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gVE9ETzogZGV0ZXJtaW5lIHdoaWNoIGNhc2VzIGFjdHVhbGx5IGNhdXNlIHRoaXMgdG8gaGFwcGVuXG5cdFx0Ly8gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIHRoZSBzY3JvbGwgc2V0LCBzZWUgaWYgaXQncyBwb3NzaWJsZSB0b1xuXHRcdC8vIHNldCB0aGUgc2Nyb2xsXG5cdFx0ZWxbIHNjcm9sbCBdID0gMTtcblx0XHRoYXMgPSAoIGVsWyBzY3JvbGwgXSA+IDAgKTtcblx0XHRlbFsgc2Nyb2xsIF0gPSAwO1xuXHRcdHJldHVybiBoYXM7XG5cdH0sXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgbiwgaSwgaGFuZGxlLCBheGlzLCBobmFtZSxcblx0XHRcdHRoYXQgPSB0aGlzLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucztcblx0XHR0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS1yZXNpemFibGVcIik7XG5cblx0XHQkLmV4dGVuZCh0aGlzLCB7XG5cdFx0XHRfYXNwZWN0UmF0aW86ICEhKG8uYXNwZWN0UmF0aW8pLFxuXHRcdFx0YXNwZWN0UmF0aW86IG8uYXNwZWN0UmF0aW8sXG5cdFx0XHRvcmlnaW5hbEVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcblx0XHRcdF9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzOiBbXSxcblx0XHRcdF9oZWxwZXI6IG8uaGVscGVyIHx8IG8uZ2hvc3QgfHwgby5hbmltYXRlID8gby5oZWxwZXIgfHwgXCJ1aS1yZXNpemFibGUtaGVscGVyXCIgOiBudWxsXG5cdFx0fSk7XG5cblx0XHQvLyBXcmFwIHRoZSBlbGVtZW50IGlmIGl0IGNhbm5vdCBob2xkIGNoaWxkIG5vZGVzXG5cdFx0aWYgKHRoaXMuZWxlbWVudFswXS5ub2RlTmFtZS5tYXRjaCgvXihjYW52YXN8dGV4dGFyZWF8aW5wdXR8c2VsZWN0fGJ1dHRvbnxpbWcpJC9pKSkge1xuXG5cdFx0XHR0aGlzLmVsZW1lbnQud3JhcChcblx0XHRcdFx0JChcIjxkaXYgY2xhc3M9J3VpLXdyYXBwZXInIHN0eWxlPSdvdmVyZmxvdzogaGlkZGVuOyc+PC9kaXY+XCIpLmNzcyh7XG5cdFx0XHRcdFx0cG9zaXRpb246IHRoaXMuZWxlbWVudC5jc3MoXCJwb3NpdGlvblwiKSxcblx0XHRcdFx0XHR3aWR0aDogdGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxcblx0XHRcdFx0XHRoZWlnaHQ6IHRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLFxuXHRcdFx0XHRcdHRvcDogdGhpcy5lbGVtZW50LmNzcyhcInRvcFwiKSxcblx0XHRcdFx0XHRsZWZ0OiB0aGlzLmVsZW1lbnQuY3NzKFwibGVmdFwiKVxuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdFx0dGhpcy5lbGVtZW50ID0gdGhpcy5lbGVtZW50LnBhcmVudCgpLmRhdGEoXG5cdFx0XHRcdFwidWktcmVzaXphYmxlXCIsIHRoaXMuZWxlbWVudC5yZXNpemFibGUoIFwiaW5zdGFuY2VcIiApXG5cdFx0XHQpO1xuXG5cdFx0XHR0aGlzLmVsZW1lbnRJc1dyYXBwZXIgPSB0cnVlO1xuXG5cdFx0XHR0aGlzLmVsZW1lbnQuY3NzKHtcblx0XHRcdFx0bWFyZ2luTGVmdDogdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKFwibWFyZ2luTGVmdFwiKSxcblx0XHRcdFx0bWFyZ2luVG9wOiB0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoXCJtYXJnaW5Ub3BcIiksXG5cdFx0XHRcdG1hcmdpblJpZ2h0OiB0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoXCJtYXJnaW5SaWdodFwiKSxcblx0XHRcdFx0bWFyZ2luQm90dG9tOiB0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoXCJtYXJnaW5Cb3R0b21cIilcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHtcblx0XHRcdFx0bWFyZ2luTGVmdDogMCxcblx0XHRcdFx0bWFyZ2luVG9wOiAwLFxuXHRcdFx0XHRtYXJnaW5SaWdodDogMCxcblx0XHRcdFx0bWFyZ2luQm90dG9tOiAwXG5cdFx0XHR9KTtcblx0XHRcdC8vIHN1cHBvcnQ6IFNhZmFyaVxuXHRcdFx0Ly8gUHJldmVudCBTYWZhcmkgdGV4dGFyZWEgcmVzaXplXG5cdFx0XHR0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGUgPSB0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoXCJyZXNpemVcIik7XG5cdFx0XHR0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoXCJyZXNpemVcIiwgXCJub25lXCIpO1xuXG5cdFx0XHR0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLnB1c2goIHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7XG5cdFx0XHRcdHBvc2l0aW9uOiBcInN0YXRpY1wiLFxuXHRcdFx0XHR6b29tOiAxLFxuXHRcdFx0XHRkaXNwbGF5OiBcImJsb2NrXCJcblx0XHRcdH0pICk7XG5cblx0XHRcdC8vIHN1cHBvcnQ6IElFOVxuXHRcdFx0Ly8gYXZvaWQgSUUganVtcCAoaGFyZCBzZXQgdGhlIG1hcmdpbilcblx0XHRcdHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7IG1hcmdpbjogdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKFwibWFyZ2luXCIpIH0pO1xuXG5cdFx0XHR0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpO1xuXHRcdH1cblxuXHRcdHRoaXMuaGFuZGxlcyA9IG8uaGFuZGxlcyB8fFxuXHRcdFx0KCAhJChcIi51aS1yZXNpemFibGUtaGFuZGxlXCIsIHRoaXMuZWxlbWVudCkubGVuZ3RoID9cblx0XHRcdFx0XCJlLHMsc2VcIiA6IHtcblx0XHRcdFx0XHRuOiBcIi51aS1yZXNpemFibGUtblwiLFxuXHRcdFx0XHRcdGU6IFwiLnVpLXJlc2l6YWJsZS1lXCIsXG5cdFx0XHRcdFx0czogXCIudWktcmVzaXphYmxlLXNcIixcblx0XHRcdFx0XHR3OiBcIi51aS1yZXNpemFibGUtd1wiLFxuXHRcdFx0XHRcdHNlOiBcIi51aS1yZXNpemFibGUtc2VcIixcblx0XHRcdFx0XHRzdzogXCIudWktcmVzaXphYmxlLXN3XCIsXG5cdFx0XHRcdFx0bmU6IFwiLnVpLXJlc2l6YWJsZS1uZVwiLFxuXHRcdFx0XHRcdG53OiBcIi51aS1yZXNpemFibGUtbndcIlxuXHRcdFx0XHR9ICk7XG5cblx0XHR0aGlzLl9oYW5kbGVzID0gJCgpO1xuXHRcdGlmICggdGhpcy5oYW5kbGVzLmNvbnN0cnVjdG9yID09PSBTdHJpbmcgKSB7XG5cblx0XHRcdGlmICggdGhpcy5oYW5kbGVzID09PSBcImFsbFwiKSB7XG5cdFx0XHRcdHRoaXMuaGFuZGxlcyA9IFwibixlLHMsdyxzZSxzdyxuZSxud1wiO1xuXHRcdFx0fVxuXG5cdFx0XHRuID0gdGhpcy5oYW5kbGVzLnNwbGl0KFwiLFwiKTtcblx0XHRcdHRoaXMuaGFuZGxlcyA9IHt9O1xuXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRcdGhhbmRsZSA9ICQudHJpbShuW2ldKTtcblx0XHRcdFx0aG5hbWUgPSBcInVpLXJlc2l6YWJsZS1cIiArIGhhbmRsZTtcblx0XHRcdFx0YXhpcyA9ICQoXCI8ZGl2IGNsYXNzPSd1aS1yZXNpemFibGUtaGFuZGxlIFwiICsgaG5hbWUgKyBcIic+PC9kaXY+XCIpO1xuXG5cdFx0XHRcdGF4aXMuY3NzKHsgekluZGV4OiBvLnpJbmRleCB9KTtcblxuXHRcdFx0XHQvLyBUT0RPIDogV2hhdCdzIGdvaW5nIG9uIGhlcmU/XG5cdFx0XHRcdGlmIChcInNlXCIgPT09IGhhbmRsZSkge1xuXHRcdFx0XHRcdGF4aXMuYWRkQ2xhc3MoXCJ1aS1pY29uIHVpLWljb24tZ3JpcHNtYWxsLWRpYWdvbmFsLXNlXCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5oYW5kbGVzW2hhbmRsZV0gPSBcIi51aS1yZXNpemFibGUtXCIgKyBoYW5kbGU7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC5hcHBlbmQoYXhpcyk7XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHR0aGlzLl9yZW5kZXJBeGlzID0gZnVuY3Rpb24odGFyZ2V0KSB7XG5cblx0XHRcdHZhciBpLCBheGlzLCBwYWRQb3MsIHBhZFdyYXBwZXI7XG5cblx0XHRcdHRhcmdldCA9IHRhcmdldCB8fCB0aGlzLmVsZW1lbnQ7XG5cblx0XHRcdGZvciAoaSBpbiB0aGlzLmhhbmRsZXMpIHtcblxuXHRcdFx0XHRpZiAodGhpcy5oYW5kbGVzW2ldLmNvbnN0cnVjdG9yID09PSBTdHJpbmcpIHtcblx0XHRcdFx0XHR0aGlzLmhhbmRsZXNbaV0gPSB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIHRoaXMuaGFuZGxlc1sgaSBdICkuZmlyc3QoKS5zaG93KCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIHRoaXMuaGFuZGxlc1sgaSBdLmpxdWVyeSB8fCB0aGlzLmhhbmRsZXNbIGkgXS5ub2RlVHlwZSApIHtcblx0XHRcdFx0XHR0aGlzLmhhbmRsZXNbIGkgXSA9ICQoIHRoaXMuaGFuZGxlc1sgaSBdICk7XG5cdFx0XHRcdFx0dGhpcy5fb24oIHRoaXMuaGFuZGxlc1sgaSBdLCB7IFwibW91c2Vkb3duXCI6IHRoYXQuX21vdXNlRG93biB9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh0aGlzLmVsZW1lbnRJc1dyYXBwZXIgJiYgdGhpcy5vcmlnaW5hbEVsZW1lbnRbMF0ubm9kZU5hbWUubWF0Y2goL14odGV4dGFyZWF8aW5wdXR8c2VsZWN0fGJ1dHRvbikkL2kpKSB7XG5cblx0XHRcdFx0XHRheGlzID0gJCh0aGlzLmhhbmRsZXNbaV0sIHRoaXMuZWxlbWVudCk7XG5cblx0XHRcdFx0XHRwYWRXcmFwcGVyID0gL3N3fG5lfG53fHNlfG58cy8udGVzdChpKSA/IGF4aXMub3V0ZXJIZWlnaHQoKSA6IGF4aXMub3V0ZXJXaWR0aCgpO1xuXG5cdFx0XHRcdFx0cGFkUG9zID0gWyBcInBhZGRpbmdcIixcblx0XHRcdFx0XHRcdC9uZXxud3xuLy50ZXN0KGkpID8gXCJUb3BcIiA6XG5cdFx0XHRcdFx0XHQvc2V8c3d8cy8udGVzdChpKSA/IFwiQm90dG9tXCIgOlxuXHRcdFx0XHRcdFx0L15lJC8udGVzdChpKSA/IFwiUmlnaHRcIiA6IFwiTGVmdFwiIF0uam9pbihcIlwiKTtcblxuXHRcdFx0XHRcdHRhcmdldC5jc3MocGFkUG9zLCBwYWRXcmFwcGVyKTtcblxuXHRcdFx0XHRcdHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLl9oYW5kbGVzID0gdGhpcy5faGFuZGxlcy5hZGQoIHRoaXMuaGFuZGxlc1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8vIFRPRE86IG1ha2UgcmVuZGVyQXhpcyBhIHByb3RvdHlwZSBmdW5jdGlvblxuXHRcdHRoaXMuX3JlbmRlckF4aXModGhpcy5lbGVtZW50KTtcblxuXHRcdHRoaXMuX2hhbmRsZXMgPSB0aGlzLl9oYW5kbGVzLmFkZCggdGhpcy5lbGVtZW50LmZpbmQoIFwiLnVpLXJlc2l6YWJsZS1oYW5kbGVcIiApICk7XG5cdFx0dGhpcy5faGFuZGxlcy5kaXNhYmxlU2VsZWN0aW9uKCk7XG5cblx0XHR0aGlzLl9oYW5kbGVzLm1vdXNlb3ZlcihmdW5jdGlvbigpIHtcblx0XHRcdGlmICghdGhhdC5yZXNpemluZykge1xuXHRcdFx0XHRpZiAodGhpcy5jbGFzc05hbWUpIHtcblx0XHRcdFx0XHRheGlzID0gdGhpcy5jbGFzc05hbWUubWF0Y2goL3VpLXJlc2l6YWJsZS0oc2V8c3d8bmV8bnd8bnxlfHN8dykvaSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhhdC5heGlzID0gYXhpcyAmJiBheGlzWzFdID8gYXhpc1sxXSA6IFwic2VcIjtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGlmIChvLmF1dG9IaWRlKSB7XG5cdFx0XHR0aGlzLl9oYW5kbGVzLmhpZGUoKTtcblx0XHRcdCQodGhpcy5lbGVtZW50KVxuXHRcdFx0XHQuYWRkQ2xhc3MoXCJ1aS1yZXNpemFibGUtYXV0b2hpZGVcIilcblx0XHRcdFx0Lm1vdXNlZW50ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKG8uZGlzYWJsZWQpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcyhcInVpLXJlc2l6YWJsZS1hdXRvaGlkZVwiKTtcblx0XHRcdFx0XHR0aGF0Ll9oYW5kbGVzLnNob3coKTtcblx0XHRcdFx0fSlcblx0XHRcdFx0Lm1vdXNlbGVhdmUoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKG8uZGlzYWJsZWQpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCF0aGF0LnJlc2l6aW5nKSB7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKFwidWktcmVzaXphYmxlLWF1dG9oaWRlXCIpO1xuXHRcdFx0XHRcdFx0dGhhdC5faGFuZGxlcy5oaWRlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHR9XG5cblx0XHR0aGlzLl9tb3VzZUluaXQoKTtcblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cblx0XHR0aGlzLl9tb3VzZURlc3Ryb3koKTtcblxuXHRcdHZhciB3cmFwcGVyLFxuXHRcdFx0X2Rlc3Ryb3kgPSBmdW5jdGlvbihleHApIHtcblx0XHRcdFx0JChleHApXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKFwidWktcmVzaXphYmxlIHVpLXJlc2l6YWJsZS1kaXNhYmxlZCB1aS1yZXNpemFibGUtcmVzaXppbmdcIilcblx0XHRcdFx0XHQucmVtb3ZlRGF0YShcInJlc2l6YWJsZVwiKVxuXHRcdFx0XHRcdC5yZW1vdmVEYXRhKFwidWktcmVzaXphYmxlXCIpXG5cdFx0XHRcdFx0LnVuYmluZChcIi5yZXNpemFibGVcIilcblx0XHRcdFx0XHQuZmluZChcIi51aS1yZXNpemFibGUtaGFuZGxlXCIpXG5cdFx0XHRcdFx0XHQucmVtb3ZlKCk7XG5cdFx0XHR9O1xuXG5cdFx0Ly8gVE9ETzogVW53cmFwIGF0IHNhbWUgRE9NIHBvc2l0aW9uXG5cdFx0aWYgKHRoaXMuZWxlbWVudElzV3JhcHBlcikge1xuXHRcdFx0X2Rlc3Ryb3kodGhpcy5lbGVtZW50KTtcblx0XHRcdHdyYXBwZXIgPSB0aGlzLmVsZW1lbnQ7XG5cdFx0XHR0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe1xuXHRcdFx0XHRwb3NpdGlvbjogd3JhcHBlci5jc3MoXCJwb3NpdGlvblwiKSxcblx0XHRcdFx0d2lkdGg6IHdyYXBwZXIub3V0ZXJXaWR0aCgpLFxuXHRcdFx0XHRoZWlnaHQ6IHdyYXBwZXIub3V0ZXJIZWlnaHQoKSxcblx0XHRcdFx0dG9wOiB3cmFwcGVyLmNzcyhcInRvcFwiKSxcblx0XHRcdFx0bGVmdDogd3JhcHBlci5jc3MoXCJsZWZ0XCIpXG5cdFx0XHR9KS5pbnNlcnRBZnRlciggd3JhcHBlciApO1xuXHRcdFx0d3JhcHBlci5yZW1vdmUoKTtcblx0XHR9XG5cblx0XHR0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoXCJyZXNpemVcIiwgdGhpcy5vcmlnaW5hbFJlc2l6ZVN0eWxlKTtcblx0XHRfZGVzdHJveSh0aGlzLm9yaWdpbmFsRWxlbWVudCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRfbW91c2VDYXB0dXJlOiBmdW5jdGlvbihldmVudCkge1xuXHRcdHZhciBpLCBoYW5kbGUsXG5cdFx0XHRjYXB0dXJlID0gZmFsc2U7XG5cblx0XHRmb3IgKGkgaW4gdGhpcy5oYW5kbGVzKSB7XG5cdFx0XHRoYW5kbGUgPSAkKHRoaXMuaGFuZGxlc1tpXSlbMF07XG5cdFx0XHRpZiAoaGFuZGxlID09PSBldmVudC50YXJnZXQgfHwgJC5jb250YWlucyhoYW5kbGUsIGV2ZW50LnRhcmdldCkpIHtcblx0XHRcdFx0Y2FwdHVyZSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuICF0aGlzLm9wdGlvbnMuZGlzYWJsZWQgJiYgY2FwdHVyZTtcblx0fSxcblxuXHRfbW91c2VTdGFydDogZnVuY3Rpb24oZXZlbnQpIHtcblxuXHRcdHZhciBjdXJsZWZ0LCBjdXJ0b3AsIGN1cnNvcixcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRlbCA9IHRoaXMuZWxlbWVudDtcblxuXHRcdHRoaXMucmVzaXppbmcgPSB0cnVlO1xuXG5cdFx0dGhpcy5fcmVuZGVyUHJveHkoKTtcblxuXHRcdGN1cmxlZnQgPSB0aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKFwibGVmdFwiKSk7XG5cdFx0Y3VydG9wID0gdGhpcy5fbnVtKHRoaXMuaGVscGVyLmNzcyhcInRvcFwiKSk7XG5cblx0XHRpZiAoby5jb250YWlubWVudCkge1xuXHRcdFx0Y3VybGVmdCArPSAkKG8uY29udGFpbm1lbnQpLnNjcm9sbExlZnQoKSB8fCAwO1xuXHRcdFx0Y3VydG9wICs9ICQoby5jb250YWlubWVudCkuc2Nyb2xsVG9wKCkgfHwgMDtcblx0XHR9XG5cblx0XHR0aGlzLm9mZnNldCA9IHRoaXMuaGVscGVyLm9mZnNldCgpO1xuXHRcdHRoaXMucG9zaXRpb24gPSB7IGxlZnQ6IGN1cmxlZnQsIHRvcDogY3VydG9wIH07XG5cblx0XHR0aGlzLnNpemUgPSB0aGlzLl9oZWxwZXIgPyB7XG5cdFx0XHRcdHdpZHRoOiB0aGlzLmhlbHBlci53aWR0aCgpLFxuXHRcdFx0XHRoZWlnaHQ6IHRoaXMuaGVscGVyLmhlaWdodCgpXG5cdFx0XHR9IDoge1xuXHRcdFx0XHR3aWR0aDogZWwud2lkdGgoKSxcblx0XHRcdFx0aGVpZ2h0OiBlbC5oZWlnaHQoKVxuXHRcdFx0fTtcblxuXHRcdHRoaXMub3JpZ2luYWxTaXplID0gdGhpcy5faGVscGVyID8ge1xuXHRcdFx0XHR3aWR0aDogZWwub3V0ZXJXaWR0aCgpLFxuXHRcdFx0XHRoZWlnaHQ6IGVsLm91dGVySGVpZ2h0KClcblx0XHRcdH0gOiB7XG5cdFx0XHRcdHdpZHRoOiBlbC53aWR0aCgpLFxuXHRcdFx0XHRoZWlnaHQ6IGVsLmhlaWdodCgpXG5cdFx0XHR9O1xuXG5cdFx0dGhpcy5zaXplRGlmZiA9IHtcblx0XHRcdHdpZHRoOiBlbC5vdXRlcldpZHRoKCkgLSBlbC53aWR0aCgpLFxuXHRcdFx0aGVpZ2h0OiBlbC5vdXRlckhlaWdodCgpIC0gZWwuaGVpZ2h0KClcblx0XHR9O1xuXG5cdFx0dGhpcy5vcmlnaW5hbFBvc2l0aW9uID0geyBsZWZ0OiBjdXJsZWZ0LCB0b3A6IGN1cnRvcCB9O1xuXHRcdHRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uID0geyBsZWZ0OiBldmVudC5wYWdlWCwgdG9wOiBldmVudC5wYWdlWSB9O1xuXG5cdFx0dGhpcy5hc3BlY3RSYXRpbyA9ICh0eXBlb2Ygby5hc3BlY3RSYXRpbyA9PT0gXCJudW1iZXJcIikgP1xuXHRcdFx0by5hc3BlY3RSYXRpbyA6XG5cdFx0XHQoKHRoaXMub3JpZ2luYWxTaXplLndpZHRoIC8gdGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0KSB8fCAxKTtcblxuXHRcdGN1cnNvciA9ICQoXCIudWktcmVzaXphYmxlLVwiICsgdGhpcy5heGlzKS5jc3MoXCJjdXJzb3JcIik7XG5cdFx0JChcImJvZHlcIikuY3NzKFwiY3Vyc29yXCIsIGN1cnNvciA9PT0gXCJhdXRvXCIgPyB0aGlzLmF4aXMgKyBcIi1yZXNpemVcIiA6IGN1cnNvcik7XG5cblx0XHRlbC5hZGRDbGFzcyhcInVpLXJlc2l6YWJsZS1yZXNpemluZ1wiKTtcblx0XHR0aGlzLl9wcm9wYWdhdGUoXCJzdGFydFwiLCBldmVudCk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0X21vdXNlRHJhZzogZnVuY3Rpb24oZXZlbnQpIHtcblxuXHRcdHZhciBkYXRhLCBwcm9wcyxcblx0XHRcdHNtcCA9IHRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uLFxuXHRcdFx0YSA9IHRoaXMuYXhpcyxcblx0XHRcdGR4ID0gKGV2ZW50LnBhZ2VYIC0gc21wLmxlZnQpIHx8IDAsXG5cdFx0XHRkeSA9IChldmVudC5wYWdlWSAtIHNtcC50b3ApIHx8IDAsXG5cdFx0XHR0cmlnZ2VyID0gdGhpcy5fY2hhbmdlW2FdO1xuXG5cdFx0dGhpcy5fdXBkYXRlUHJldlByb3BlcnRpZXMoKTtcblxuXHRcdGlmICghdHJpZ2dlcikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGRhdGEgPSB0cmlnZ2VyLmFwcGx5KHRoaXMsIFsgZXZlbnQsIGR4LCBkeSBdKTtcblxuXHRcdHRoaXMuX3VwZGF0ZVZpcnR1YWxCb3VuZGFyaWVzKGV2ZW50LnNoaWZ0S2V5KTtcblx0XHRpZiAodGhpcy5fYXNwZWN0UmF0aW8gfHwgZXZlbnQuc2hpZnRLZXkpIHtcblx0XHRcdGRhdGEgPSB0aGlzLl91cGRhdGVSYXRpbyhkYXRhLCBldmVudCk7XG5cdFx0fVxuXG5cdFx0ZGF0YSA9IHRoaXMuX3Jlc3BlY3RTaXplKGRhdGEsIGV2ZW50KTtcblxuXHRcdHRoaXMuX3VwZGF0ZUNhY2hlKGRhdGEpO1xuXG5cdFx0dGhpcy5fcHJvcGFnYXRlKFwicmVzaXplXCIsIGV2ZW50KTtcblxuXHRcdHByb3BzID0gdGhpcy5fYXBwbHlDaGFuZ2VzKCk7XG5cblx0XHRpZiAoICF0aGlzLl9oZWxwZXIgJiYgdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpO1xuXHRcdH1cblxuXHRcdGlmICggISQuaXNFbXB0eU9iamVjdCggcHJvcHMgKSApIHtcblx0XHRcdHRoaXMuX3VwZGF0ZVByZXZQcm9wZXJ0aWVzKCk7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcInJlc2l6ZVwiLCBldmVudCwgdGhpcy51aSgpICk7XG5cdFx0XHR0aGlzLl9hcHBseUNoYW5nZXMoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cblx0X21vdXNlU3RvcDogZnVuY3Rpb24oZXZlbnQpIHtcblxuXHRcdHRoaXMucmVzaXppbmcgPSBmYWxzZTtcblx0XHR2YXIgcHIsIGlzdGEsIHNvZmZzZXRoLCBzb2Zmc2V0dywgcywgbGVmdCwgdG9wLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucywgdGhhdCA9IHRoaXM7XG5cblx0XHRpZiAodGhpcy5faGVscGVyKSB7XG5cblx0XHRcdHByID0gdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cztcblx0XHRcdGlzdGEgPSBwci5sZW5ndGggJiYgKC90ZXh0YXJlYS9pKS50ZXN0KHByWzBdLm5vZGVOYW1lKTtcblx0XHRcdHNvZmZzZXRoID0gaXN0YSAmJiB0aGlzLl9oYXNTY3JvbGwocHJbMF0sIFwibGVmdFwiKSA/IDAgOiB0aGF0LnNpemVEaWZmLmhlaWdodDtcblx0XHRcdHNvZmZzZXR3ID0gaXN0YSA/IDAgOiB0aGF0LnNpemVEaWZmLndpZHRoO1xuXG5cdFx0XHRzID0ge1xuXHRcdFx0XHR3aWR0aDogKHRoYXQuaGVscGVyLndpZHRoKCkgIC0gc29mZnNldHcpLFxuXHRcdFx0XHRoZWlnaHQ6ICh0aGF0LmhlbHBlci5oZWlnaHQoKSAtIHNvZmZzZXRoKVxuXHRcdFx0fTtcblx0XHRcdGxlZnQgPSAocGFyc2VJbnQodGhhdC5lbGVtZW50LmNzcyhcImxlZnRcIiksIDEwKSArXG5cdFx0XHRcdCh0aGF0LnBvc2l0aW9uLmxlZnQgLSB0aGF0Lm9yaWdpbmFsUG9zaXRpb24ubGVmdCkpIHx8IG51bGw7XG5cdFx0XHR0b3AgPSAocGFyc2VJbnQodGhhdC5lbGVtZW50LmNzcyhcInRvcFwiKSwgMTApICtcblx0XHRcdFx0KHRoYXQucG9zaXRpb24udG9wIC0gdGhhdC5vcmlnaW5hbFBvc2l0aW9uLnRvcCkpIHx8IG51bGw7XG5cblx0XHRcdGlmICghby5hbmltYXRlKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC5jc3MoJC5leHRlbmQocywgeyB0b3A6IHRvcCwgbGVmdDogbGVmdCB9KSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoYXQuaGVscGVyLmhlaWdodCh0aGF0LnNpemUuaGVpZ2h0KTtcblx0XHRcdHRoYXQuaGVscGVyLndpZHRoKHRoYXQuc2l6ZS53aWR0aCk7XG5cblx0XHRcdGlmICh0aGlzLl9oZWxwZXIgJiYgIW8uYW5pbWF0ZSkge1xuXHRcdFx0XHR0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdCQoXCJib2R5XCIpLmNzcyhcImN1cnNvclwiLCBcImF1dG9cIik7XG5cblx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1yZXNpemFibGUtcmVzaXppbmdcIik7XG5cblx0XHR0aGlzLl9wcm9wYWdhdGUoXCJzdG9wXCIsIGV2ZW50KTtcblxuXHRcdGlmICh0aGlzLl9oZWxwZXIpIHtcblx0XHRcdHRoaXMuaGVscGVyLnJlbW92ZSgpO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblxuXHR9LFxuXG5cdF91cGRhdGVQcmV2UHJvcGVydGllczogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5wcmV2UG9zaXRpb24gPSB7XG5cdFx0XHR0b3A6IHRoaXMucG9zaXRpb24udG9wLFxuXHRcdFx0bGVmdDogdGhpcy5wb3NpdGlvbi5sZWZ0XG5cdFx0fTtcblx0XHR0aGlzLnByZXZTaXplID0ge1xuXHRcdFx0d2lkdGg6IHRoaXMuc2l6ZS53aWR0aCxcblx0XHRcdGhlaWdodDogdGhpcy5zaXplLmhlaWdodFxuXHRcdH07XG5cdH0sXG5cblx0X2FwcGx5Q2hhbmdlczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHByb3BzID0ge307XG5cblx0XHRpZiAoIHRoaXMucG9zaXRpb24udG9wICE9PSB0aGlzLnByZXZQb3NpdGlvbi50b3AgKSB7XG5cdFx0XHRwcm9wcy50b3AgPSB0aGlzLnBvc2l0aW9uLnRvcCArIFwicHhcIjtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLnBvc2l0aW9uLmxlZnQgIT09IHRoaXMucHJldlBvc2l0aW9uLmxlZnQgKSB7XG5cdFx0XHRwcm9wcy5sZWZ0ID0gdGhpcy5wb3NpdGlvbi5sZWZ0ICsgXCJweFwiO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMuc2l6ZS53aWR0aCAhPT0gdGhpcy5wcmV2U2l6ZS53aWR0aCApIHtcblx0XHRcdHByb3BzLndpZHRoID0gdGhpcy5zaXplLndpZHRoICsgXCJweFwiO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMuc2l6ZS5oZWlnaHQgIT09IHRoaXMucHJldlNpemUuaGVpZ2h0ICkge1xuXHRcdFx0cHJvcHMuaGVpZ2h0ID0gdGhpcy5zaXplLmhlaWdodCArIFwicHhcIjtcblx0XHR9XG5cblx0XHR0aGlzLmhlbHBlci5jc3MoIHByb3BzICk7XG5cblx0XHRyZXR1cm4gcHJvcHM7XG5cdH0sXG5cblx0X3VwZGF0ZVZpcnR1YWxCb3VuZGFyaWVzOiBmdW5jdGlvbihmb3JjZUFzcGVjdFJhdGlvKSB7XG5cdFx0dmFyIHBNaW5XaWR0aCwgcE1heFdpZHRoLCBwTWluSGVpZ2h0LCBwTWF4SGVpZ2h0LCBiLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucztcblxuXHRcdGIgPSB7XG5cdFx0XHRtaW5XaWR0aDogdGhpcy5faXNOdW1iZXIoby5taW5XaWR0aCkgPyBvLm1pbldpZHRoIDogMCxcblx0XHRcdG1heFdpZHRoOiB0aGlzLl9pc051bWJlcihvLm1heFdpZHRoKSA/IG8ubWF4V2lkdGggOiBJbmZpbml0eSxcblx0XHRcdG1pbkhlaWdodDogdGhpcy5faXNOdW1iZXIoby5taW5IZWlnaHQpID8gby5taW5IZWlnaHQgOiAwLFxuXHRcdFx0bWF4SGVpZ2h0OiB0aGlzLl9pc051bWJlcihvLm1heEhlaWdodCkgPyBvLm1heEhlaWdodCA6IEluZmluaXR5XG5cdFx0fTtcblxuXHRcdGlmICh0aGlzLl9hc3BlY3RSYXRpbyB8fCBmb3JjZUFzcGVjdFJhdGlvKSB7XG5cdFx0XHRwTWluV2lkdGggPSBiLm1pbkhlaWdodCAqIHRoaXMuYXNwZWN0UmF0aW87XG5cdFx0XHRwTWluSGVpZ2h0ID0gYi5taW5XaWR0aCAvIHRoaXMuYXNwZWN0UmF0aW87XG5cdFx0XHRwTWF4V2lkdGggPSBiLm1heEhlaWdodCAqIHRoaXMuYXNwZWN0UmF0aW87XG5cdFx0XHRwTWF4SGVpZ2h0ID0gYi5tYXhXaWR0aCAvIHRoaXMuYXNwZWN0UmF0aW87XG5cblx0XHRcdGlmIChwTWluV2lkdGggPiBiLm1pbldpZHRoKSB7XG5cdFx0XHRcdGIubWluV2lkdGggPSBwTWluV2lkdGg7XG5cdFx0XHR9XG5cdFx0XHRpZiAocE1pbkhlaWdodCA+IGIubWluSGVpZ2h0KSB7XG5cdFx0XHRcdGIubWluSGVpZ2h0ID0gcE1pbkhlaWdodDtcblx0XHRcdH1cblx0XHRcdGlmIChwTWF4V2lkdGggPCBiLm1heFdpZHRoKSB7XG5cdFx0XHRcdGIubWF4V2lkdGggPSBwTWF4V2lkdGg7XG5cdFx0XHR9XG5cdFx0XHRpZiAocE1heEhlaWdodCA8IGIubWF4SGVpZ2h0KSB7XG5cdFx0XHRcdGIubWF4SGVpZ2h0ID0gcE1heEhlaWdodDtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5fdkJvdW5kYXJpZXMgPSBiO1xuXHR9LFxuXG5cdF91cGRhdGVDYWNoZTogZnVuY3Rpb24oZGF0YSkge1xuXHRcdHRoaXMub2Zmc2V0ID0gdGhpcy5oZWxwZXIub2Zmc2V0KCk7XG5cdFx0aWYgKHRoaXMuX2lzTnVtYmVyKGRhdGEubGVmdCkpIHtcblx0XHRcdHRoaXMucG9zaXRpb24ubGVmdCA9IGRhdGEubGVmdDtcblx0XHR9XG5cdFx0aWYgKHRoaXMuX2lzTnVtYmVyKGRhdGEudG9wKSkge1xuXHRcdFx0dGhpcy5wb3NpdGlvbi50b3AgPSBkYXRhLnRvcDtcblx0XHR9XG5cdFx0aWYgKHRoaXMuX2lzTnVtYmVyKGRhdGEuaGVpZ2h0KSkge1xuXHRcdFx0dGhpcy5zaXplLmhlaWdodCA9IGRhdGEuaGVpZ2h0O1xuXHRcdH1cblx0XHRpZiAodGhpcy5faXNOdW1iZXIoZGF0YS53aWR0aCkpIHtcblx0XHRcdHRoaXMuc2l6ZS53aWR0aCA9IGRhdGEud2lkdGg7XG5cdFx0fVxuXHR9LFxuXG5cdF91cGRhdGVSYXRpbzogZnVuY3Rpb24oIGRhdGEgKSB7XG5cblx0XHR2YXIgY3BvcyA9IHRoaXMucG9zaXRpb24sXG5cdFx0XHRjc2l6ZSA9IHRoaXMuc2l6ZSxcblx0XHRcdGEgPSB0aGlzLmF4aXM7XG5cblx0XHRpZiAodGhpcy5faXNOdW1iZXIoZGF0YS5oZWlnaHQpKSB7XG5cdFx0XHRkYXRhLndpZHRoID0gKGRhdGEuaGVpZ2h0ICogdGhpcy5hc3BlY3RSYXRpbyk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLl9pc051bWJlcihkYXRhLndpZHRoKSkge1xuXHRcdFx0ZGF0YS5oZWlnaHQgPSAoZGF0YS53aWR0aCAvIHRoaXMuYXNwZWN0UmF0aW8pO1xuXHRcdH1cblxuXHRcdGlmIChhID09PSBcInN3XCIpIHtcblx0XHRcdGRhdGEubGVmdCA9IGNwb3MubGVmdCArIChjc2l6ZS53aWR0aCAtIGRhdGEud2lkdGgpO1xuXHRcdFx0ZGF0YS50b3AgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAoYSA9PT0gXCJud1wiKSB7XG5cdFx0XHRkYXRhLnRvcCA9IGNwb3MudG9wICsgKGNzaXplLmhlaWdodCAtIGRhdGEuaGVpZ2h0KTtcblx0XHRcdGRhdGEubGVmdCA9IGNwb3MubGVmdCArIChjc2l6ZS53aWR0aCAtIGRhdGEud2lkdGgpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkYXRhO1xuXHR9LFxuXG5cdF9yZXNwZWN0U2l6ZTogZnVuY3Rpb24oIGRhdGEgKSB7XG5cblx0XHR2YXIgbyA9IHRoaXMuX3ZCb3VuZGFyaWVzLFxuXHRcdFx0YSA9IHRoaXMuYXhpcyxcblx0XHRcdGlzbWF4dyA9IHRoaXMuX2lzTnVtYmVyKGRhdGEud2lkdGgpICYmIG8ubWF4V2lkdGggJiYgKG8ubWF4V2lkdGggPCBkYXRhLndpZHRoKSxcblx0XHRcdGlzbWF4aCA9IHRoaXMuX2lzTnVtYmVyKGRhdGEuaGVpZ2h0KSAmJiBvLm1heEhlaWdodCAmJiAoby5tYXhIZWlnaHQgPCBkYXRhLmhlaWdodCksXG5cdFx0XHRpc21pbncgPSB0aGlzLl9pc051bWJlcihkYXRhLndpZHRoKSAmJiBvLm1pbldpZHRoICYmIChvLm1pbldpZHRoID4gZGF0YS53aWR0aCksXG5cdFx0XHRpc21pbmggPSB0aGlzLl9pc051bWJlcihkYXRhLmhlaWdodCkgJiYgby5taW5IZWlnaHQgJiYgKG8ubWluSGVpZ2h0ID4gZGF0YS5oZWlnaHQpLFxuXHRcdFx0ZHcgPSB0aGlzLm9yaWdpbmFsUG9zaXRpb24ubGVmdCArIHRoaXMub3JpZ2luYWxTaXplLndpZHRoLFxuXHRcdFx0ZGggPSB0aGlzLnBvc2l0aW9uLnRvcCArIHRoaXMuc2l6ZS5oZWlnaHQsXG5cdFx0XHRjdyA9IC9zd3xud3x3Ly50ZXN0KGEpLCBjaCA9IC9ud3xuZXxuLy50ZXN0KGEpO1xuXHRcdGlmIChpc21pbncpIHtcblx0XHRcdGRhdGEud2lkdGggPSBvLm1pbldpZHRoO1xuXHRcdH1cblx0XHRpZiAoaXNtaW5oKSB7XG5cdFx0XHRkYXRhLmhlaWdodCA9IG8ubWluSGVpZ2h0O1xuXHRcdH1cblx0XHRpZiAoaXNtYXh3KSB7XG5cdFx0XHRkYXRhLndpZHRoID0gby5tYXhXaWR0aDtcblx0XHR9XG5cdFx0aWYgKGlzbWF4aCkge1xuXHRcdFx0ZGF0YS5oZWlnaHQgPSBvLm1heEhlaWdodDtcblx0XHR9XG5cblx0XHRpZiAoaXNtaW53ICYmIGN3KSB7XG5cdFx0XHRkYXRhLmxlZnQgPSBkdyAtIG8ubWluV2lkdGg7XG5cdFx0fVxuXHRcdGlmIChpc21heHcgJiYgY3cpIHtcblx0XHRcdGRhdGEubGVmdCA9IGR3IC0gby5tYXhXaWR0aDtcblx0XHR9XG5cdFx0aWYgKGlzbWluaCAmJiBjaCkge1xuXHRcdFx0ZGF0YS50b3AgPSBkaCAtIG8ubWluSGVpZ2h0O1xuXHRcdH1cblx0XHRpZiAoaXNtYXhoICYmIGNoKSB7XG5cdFx0XHRkYXRhLnRvcCA9IGRoIC0gby5tYXhIZWlnaHQ7XG5cdFx0fVxuXG5cdFx0Ly8gRml4aW5nIGp1bXAgZXJyb3Igb24gdG9wL2xlZnQgLSBidWcgIzIzMzBcblx0XHRpZiAoIWRhdGEud2lkdGggJiYgIWRhdGEuaGVpZ2h0ICYmICFkYXRhLmxlZnQgJiYgZGF0YS50b3ApIHtcblx0XHRcdGRhdGEudG9wID0gbnVsbDtcblx0XHR9IGVsc2UgaWYgKCFkYXRhLndpZHRoICYmICFkYXRhLmhlaWdodCAmJiAhZGF0YS50b3AgJiYgZGF0YS5sZWZ0KSB7XG5cdFx0XHRkYXRhLmxlZnQgPSBudWxsO1xuXHRcdH1cblxuXHRcdHJldHVybiBkYXRhO1xuXHR9LFxuXG5cdF9nZXRQYWRkaW5nUGx1c0JvcmRlckRpbWVuc2lvbnM6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdHdpZHRocyA9IFtdLFxuXHRcdFx0Ym9yZGVycyA9IFtcblx0XHRcdFx0ZWxlbWVudC5jc3MoIFwiYm9yZGVyVG9wV2lkdGhcIiApLFxuXHRcdFx0XHRlbGVtZW50LmNzcyggXCJib3JkZXJSaWdodFdpZHRoXCIgKSxcblx0XHRcdFx0ZWxlbWVudC5jc3MoIFwiYm9yZGVyQm90dG9tV2lkdGhcIiApLFxuXHRcdFx0XHRlbGVtZW50LmNzcyggXCJib3JkZXJMZWZ0V2lkdGhcIiApXG5cdFx0XHRdLFxuXHRcdFx0cGFkZGluZ3MgPSBbXG5cdFx0XHRcdGVsZW1lbnQuY3NzKCBcInBhZGRpbmdUb3BcIiApLFxuXHRcdFx0XHRlbGVtZW50LmNzcyggXCJwYWRkaW5nUmlnaHRcIiApLFxuXHRcdFx0XHRlbGVtZW50LmNzcyggXCJwYWRkaW5nQm90dG9tXCIgKSxcblx0XHRcdFx0ZWxlbWVudC5jc3MoIFwicGFkZGluZ0xlZnRcIiApXG5cdFx0XHRdO1xuXG5cdFx0Zm9yICggOyBpIDwgNDsgaSsrICkge1xuXHRcdFx0d2lkdGhzWyBpIF0gPSAoIHBhcnNlSW50KCBib3JkZXJzWyBpIF0sIDEwICkgfHwgMCApO1xuXHRcdFx0d2lkdGhzWyBpIF0gKz0gKCBwYXJzZUludCggcGFkZGluZ3NbIGkgXSwgMTAgKSB8fCAwICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGhlaWdodDogd2lkdGhzWyAwIF0gKyB3aWR0aHNbIDIgXSxcblx0XHRcdHdpZHRoOiB3aWR0aHNbIDEgXSArIHdpZHRoc1sgMyBdXG5cdFx0fTtcblx0fSxcblxuXHRfcHJvcG9ydGlvbmFsbHlSZXNpemU6IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYgKCF0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBwcmVsLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRlbGVtZW50ID0gdGhpcy5oZWxwZXIgfHwgdGhpcy5lbGVtZW50O1xuXG5cdFx0Zm9yICggOyBpIDwgdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRwcmVsID0gdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50c1tpXTtcblxuXHRcdFx0Ly8gVE9ETzogU2VlbXMgbGlrZSBhIGJ1ZyB0byBjYWNoZSB0aGlzLm91dGVyRGltZW5zaW9uc1xuXHRcdFx0Ly8gY29uc2lkZXJpbmcgdGhhdCB3ZSBhcmUgaW4gYSBsb29wLlxuXHRcdFx0aWYgKCF0aGlzLm91dGVyRGltZW5zaW9ucykge1xuXHRcdFx0XHR0aGlzLm91dGVyRGltZW5zaW9ucyA9IHRoaXMuX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9ucyggcHJlbCApO1xuXHRcdFx0fVxuXG5cdFx0XHRwcmVsLmNzcyh7XG5cdFx0XHRcdGhlaWdodDogKGVsZW1lbnQuaGVpZ2h0KCkgLSB0aGlzLm91dGVyRGltZW5zaW9ucy5oZWlnaHQpIHx8IDAsXG5cdFx0XHRcdHdpZHRoOiAoZWxlbWVudC53aWR0aCgpIC0gdGhpcy5vdXRlckRpbWVuc2lvbnMud2lkdGgpIHx8IDBcblx0XHRcdH0pO1xuXG5cdFx0fVxuXG5cdH0sXG5cblx0X3JlbmRlclByb3h5OiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBlbCA9IHRoaXMuZWxlbWVudCwgbyA9IHRoaXMub3B0aW9ucztcblx0XHR0aGlzLmVsZW1lbnRPZmZzZXQgPSBlbC5vZmZzZXQoKTtcblxuXHRcdGlmICh0aGlzLl9oZWxwZXIpIHtcblxuXHRcdFx0dGhpcy5oZWxwZXIgPSB0aGlzLmhlbHBlciB8fCAkKFwiPGRpdiBzdHlsZT0nb3ZlcmZsb3c6aGlkZGVuOyc+PC9kaXY+XCIpO1xuXG5cdFx0XHR0aGlzLmhlbHBlci5hZGRDbGFzcyh0aGlzLl9oZWxwZXIpLmNzcyh7XG5cdFx0XHRcdHdpZHRoOiB0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpIC0gMSxcblx0XHRcdFx0aGVpZ2h0OiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSAtIDEsXG5cdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdGxlZnQ6IHRoaXMuZWxlbWVudE9mZnNldC5sZWZ0ICsgXCJweFwiLFxuXHRcdFx0XHR0b3A6IHRoaXMuZWxlbWVudE9mZnNldC50b3AgKyBcInB4XCIsXG5cdFx0XHRcdHpJbmRleDogKytvLnpJbmRleCAvL1RPRE86IERvbid0IG1vZGlmeSBvcHRpb25cblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLmhlbHBlclxuXHRcdFx0XHQuYXBwZW5kVG8oXCJib2R5XCIpXG5cdFx0XHRcdC5kaXNhYmxlU2VsZWN0aW9uKCk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5oZWxwZXIgPSB0aGlzLmVsZW1lbnQ7XG5cdFx0fVxuXG5cdH0sXG5cblx0X2NoYW5nZToge1xuXHRcdGU6IGZ1bmN0aW9uKGV2ZW50LCBkeCkge1xuXHRcdFx0cmV0dXJuIHsgd2lkdGg6IHRoaXMub3JpZ2luYWxTaXplLndpZHRoICsgZHggfTtcblx0XHR9LFxuXHRcdHc6IGZ1bmN0aW9uKGV2ZW50LCBkeCkge1xuXHRcdFx0dmFyIGNzID0gdGhpcy5vcmlnaW5hbFNpemUsIHNwID0gdGhpcy5vcmlnaW5hbFBvc2l0aW9uO1xuXHRcdFx0cmV0dXJuIHsgbGVmdDogc3AubGVmdCArIGR4LCB3aWR0aDogY3Mud2lkdGggLSBkeCB9O1xuXHRcdH0sXG5cdFx0bjogZnVuY3Rpb24oZXZlbnQsIGR4LCBkeSkge1xuXHRcdFx0dmFyIGNzID0gdGhpcy5vcmlnaW5hbFNpemUsIHNwID0gdGhpcy5vcmlnaW5hbFBvc2l0aW9uO1xuXHRcdFx0cmV0dXJuIHsgdG9wOiBzcC50b3AgKyBkeSwgaGVpZ2h0OiBjcy5oZWlnaHQgLSBkeSB9O1xuXHRcdH0sXG5cdFx0czogZnVuY3Rpb24oZXZlbnQsIGR4LCBkeSkge1xuXHRcdFx0cmV0dXJuIHsgaGVpZ2h0OiB0aGlzLm9yaWdpbmFsU2l6ZS5oZWlnaHQgKyBkeSB9O1xuXHRcdH0sXG5cdFx0c2U6IGZ1bmN0aW9uKGV2ZW50LCBkeCwgZHkpIHtcblx0XHRcdHJldHVybiAkLmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLFxuXHRcdFx0XHR0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLCBbIGV2ZW50LCBkeCwgZHkgXSkpO1xuXHRcdH0sXG5cdFx0c3c6IGZ1bmN0aW9uKGV2ZW50LCBkeCwgZHkpIHtcblx0XHRcdHJldHVybiAkLmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLFxuXHRcdFx0XHR0aGlzLl9jaGFuZ2Uudy5hcHBseSh0aGlzLCBbIGV2ZW50LCBkeCwgZHkgXSkpO1xuXHRcdH0sXG5cdFx0bmU6IGZ1bmN0aW9uKGV2ZW50LCBkeCwgZHkpIHtcblx0XHRcdHJldHVybiAkLmV4dGVuZCh0aGlzLl9jaGFuZ2Uubi5hcHBseSh0aGlzLCBhcmd1bWVudHMpLFxuXHRcdFx0XHR0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLCBbIGV2ZW50LCBkeCwgZHkgXSkpO1xuXHRcdH0sXG5cdFx0bnc6IGZ1bmN0aW9uKGV2ZW50LCBkeCwgZHkpIHtcblx0XHRcdHJldHVybiAkLmV4dGVuZCh0aGlzLl9jaGFuZ2Uubi5hcHBseSh0aGlzLCBhcmd1bWVudHMpLFxuXHRcdFx0XHR0aGlzLl9jaGFuZ2Uudy5hcHBseSh0aGlzLCBbIGV2ZW50LCBkeCwgZHkgXSkpO1xuXHRcdH1cblx0fSxcblxuXHRfcHJvcGFnYXRlOiBmdW5jdGlvbihuLCBldmVudCkge1xuXHRcdCQudWkucGx1Z2luLmNhbGwodGhpcywgbiwgWyBldmVudCwgdGhpcy51aSgpIF0pO1xuXHRcdChuICE9PSBcInJlc2l6ZVwiICYmIHRoaXMuX3RyaWdnZXIobiwgZXZlbnQsIHRoaXMudWkoKSkpO1xuXHR9LFxuXG5cdHBsdWdpbnM6IHt9LFxuXG5cdHVpOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0b3JpZ2luYWxFbGVtZW50OiB0aGlzLm9yaWdpbmFsRWxlbWVudCxcblx0XHRcdGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcblx0XHRcdGhlbHBlcjogdGhpcy5oZWxwZXIsXG5cdFx0XHRwb3NpdGlvbjogdGhpcy5wb3NpdGlvbixcblx0XHRcdHNpemU6IHRoaXMuc2l6ZSxcblx0XHRcdG9yaWdpbmFsU2l6ZTogdGhpcy5vcmlnaW5hbFNpemUsXG5cdFx0XHRvcmlnaW5hbFBvc2l0aW9uOiB0aGlzLm9yaWdpbmFsUG9zaXRpb25cblx0XHR9O1xuXHR9XG5cbn0pO1xuXG4vKlxuICogUmVzaXphYmxlIEV4dGVuc2lvbnNcbiAqL1xuXG4kLnVpLnBsdWdpbi5hZGQoXCJyZXNpemFibGVcIiwgXCJhbmltYXRlXCIsIHtcblxuXHRzdG9wOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIHRoYXQgPSAkKHRoaXMpLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICksXG5cdFx0XHRvID0gdGhhdC5vcHRpb25zLFxuXHRcdFx0cHIgPSB0aGF0Ll9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLFxuXHRcdFx0aXN0YSA9IHByLmxlbmd0aCAmJiAoL3RleHRhcmVhL2kpLnRlc3QocHJbMF0ubm9kZU5hbWUpLFxuXHRcdFx0c29mZnNldGggPSBpc3RhICYmIHRoYXQuX2hhc1Njcm9sbChwclswXSwgXCJsZWZ0XCIpID8gMCA6IHRoYXQuc2l6ZURpZmYuaGVpZ2h0LFxuXHRcdFx0c29mZnNldHcgPSBpc3RhID8gMCA6IHRoYXQuc2l6ZURpZmYud2lkdGgsXG5cdFx0XHRzdHlsZSA9IHsgd2lkdGg6ICh0aGF0LnNpemUud2lkdGggLSBzb2Zmc2V0dyksIGhlaWdodDogKHRoYXQuc2l6ZS5oZWlnaHQgLSBzb2Zmc2V0aCkgfSxcblx0XHRcdGxlZnQgPSAocGFyc2VJbnQodGhhdC5lbGVtZW50LmNzcyhcImxlZnRcIiksIDEwKSArXG5cdFx0XHRcdCh0aGF0LnBvc2l0aW9uLmxlZnQgLSB0aGF0Lm9yaWdpbmFsUG9zaXRpb24ubGVmdCkpIHx8IG51bGwsXG5cdFx0XHR0b3AgPSAocGFyc2VJbnQodGhhdC5lbGVtZW50LmNzcyhcInRvcFwiKSwgMTApICtcblx0XHRcdFx0KHRoYXQucG9zaXRpb24udG9wIC0gdGhhdC5vcmlnaW5hbFBvc2l0aW9uLnRvcCkpIHx8IG51bGw7XG5cblx0XHR0aGF0LmVsZW1lbnQuYW5pbWF0ZShcblx0XHRcdCQuZXh0ZW5kKHN0eWxlLCB0b3AgJiYgbGVmdCA/IHsgdG9wOiB0b3AsIGxlZnQ6IGxlZnQgfSA6IHt9KSwge1xuXHRcdFx0XHRkdXJhdGlvbjogby5hbmltYXRlRHVyYXRpb24sXG5cdFx0XHRcdGVhc2luZzogby5hbmltYXRlRWFzaW5nLFxuXHRcdFx0XHRzdGVwOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHRcdFx0d2lkdGg6IHBhcnNlSW50KHRoYXQuZWxlbWVudC5jc3MoXCJ3aWR0aFwiKSwgMTApLFxuXHRcdFx0XHRcdFx0aGVpZ2h0OiBwYXJzZUludCh0aGF0LmVsZW1lbnQuY3NzKFwiaGVpZ2h0XCIpLCAxMCksXG5cdFx0XHRcdFx0XHR0b3A6IHBhcnNlSW50KHRoYXQuZWxlbWVudC5jc3MoXCJ0b3BcIiksIDEwKSxcblx0XHRcdFx0XHRcdGxlZnQ6IHBhcnNlSW50KHRoYXQuZWxlbWVudC5jc3MoXCJsZWZ0XCIpLCAxMClcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0aWYgKHByICYmIHByLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0JChwclswXSkuY3NzKHsgd2lkdGg6IGRhdGEud2lkdGgsIGhlaWdodDogZGF0YS5oZWlnaHQgfSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gcHJvcGFnYXRpbmcgcmVzaXplLCBhbmQgdXBkYXRpbmcgdmFsdWVzIGZvciBlYWNoIGFuaW1hdGlvbiBzdGVwXG5cdFx0XHRcdFx0dGhhdC5fdXBkYXRlQ2FjaGUoZGF0YSk7XG5cdFx0XHRcdFx0dGhhdC5fcHJvcGFnYXRlKFwicmVzaXplXCIsIGV2ZW50KTtcblxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0KTtcblx0fVxuXG59KTtcblxuJC51aS5wbHVnaW4uYWRkKCBcInJlc2l6YWJsZVwiLCBcImNvbnRhaW5tZW50XCIsIHtcblxuXHRzdGFydDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW1lbnQsIHAsIGNvLCBjaCwgY3csIHdpZHRoLCBoZWlnaHQsXG5cdFx0XHR0aGF0ID0gJCggdGhpcyApLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICksXG5cdFx0XHRvID0gdGhhdC5vcHRpb25zLFxuXHRcdFx0ZWwgPSB0aGF0LmVsZW1lbnQsXG5cdFx0XHRvYyA9IG8uY29udGFpbm1lbnQsXG5cdFx0XHRjZSA9ICggb2MgaW5zdGFuY2VvZiAkICkgPyBvYy5nZXQoIDAgKSA6ICggL3BhcmVudC8udGVzdCggb2MgKSApID8gZWwucGFyZW50KCkuZ2V0KCAwICkgOiBvYztcblxuXHRcdGlmICggIWNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoYXQuY29udGFpbmVyRWxlbWVudCA9ICQoIGNlICk7XG5cblx0XHRpZiAoIC9kb2N1bWVudC8udGVzdCggb2MgKSB8fCBvYyA9PT0gZG9jdW1lbnQgKSB7XG5cdFx0XHR0aGF0LmNvbnRhaW5lck9mZnNldCA9IHtcblx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0dG9wOiAwXG5cdFx0XHR9O1xuXHRcdFx0dGhhdC5jb250YWluZXJQb3NpdGlvbiA9IHtcblx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0dG9wOiAwXG5cdFx0XHR9O1xuXG5cdFx0XHR0aGF0LnBhcmVudERhdGEgPSB7XG5cdFx0XHRcdGVsZW1lbnQ6ICQoIGRvY3VtZW50ICksXG5cdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdHRvcDogMCxcblx0XHRcdFx0d2lkdGg6ICQoIGRvY3VtZW50ICkud2lkdGgoKSxcblx0XHRcdFx0aGVpZ2h0OiAkKCBkb2N1bWVudCApLmhlaWdodCgpIHx8IGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHRcblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW1lbnQgPSAkKCBjZSApO1xuXHRcdFx0cCA9IFtdO1xuXHRcdFx0JChbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJMZWZ0XCIsIFwiQm90dG9tXCIgXSkuZWFjaChmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0XHRcdFx0cFsgaSBdID0gdGhhdC5fbnVtKCBlbGVtZW50LmNzcyggXCJwYWRkaW5nXCIgKyBuYW1lICkgKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGF0LmNvbnRhaW5lck9mZnNldCA9IGVsZW1lbnQub2Zmc2V0KCk7XG5cdFx0XHR0aGF0LmNvbnRhaW5lclBvc2l0aW9uID0gZWxlbWVudC5wb3NpdGlvbigpO1xuXHRcdFx0dGhhdC5jb250YWluZXJTaXplID0ge1xuXHRcdFx0XHRoZWlnaHQ6ICggZWxlbWVudC5pbm5lckhlaWdodCgpIC0gcFsgMyBdICksXG5cdFx0XHRcdHdpZHRoOiAoIGVsZW1lbnQuaW5uZXJXaWR0aCgpIC0gcFsgMSBdIClcblx0XHRcdH07XG5cblx0XHRcdGNvID0gdGhhdC5jb250YWluZXJPZmZzZXQ7XG5cdFx0XHRjaCA9IHRoYXQuY29udGFpbmVyU2l6ZS5oZWlnaHQ7XG5cdFx0XHRjdyA9IHRoYXQuY29udGFpbmVyU2l6ZS53aWR0aDtcblx0XHRcdHdpZHRoID0gKCB0aGF0Ll9oYXNTY3JvbGwgKCBjZSwgXCJsZWZ0XCIgKSA/IGNlLnNjcm9sbFdpZHRoIDogY3cgKTtcblx0XHRcdGhlaWdodCA9ICggdGhhdC5faGFzU2Nyb2xsICggY2UgKSA/IGNlLnNjcm9sbEhlaWdodCA6IGNoICkgO1xuXG5cdFx0XHR0aGF0LnBhcmVudERhdGEgPSB7XG5cdFx0XHRcdGVsZW1lbnQ6IGNlLFxuXHRcdFx0XHRsZWZ0OiBjby5sZWZ0LFxuXHRcdFx0XHR0b3A6IGNvLnRvcCxcblx0XHRcdFx0d2lkdGg6IHdpZHRoLFxuXHRcdFx0XHRoZWlnaHQ6IGhlaWdodFxuXHRcdFx0fTtcblx0XHR9XG5cdH0sXG5cblx0cmVzaXplOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIHdvc2V0LCBob3NldCwgaXNQYXJlbnQsIGlzT2Zmc2V0UmVsYXRpdmUsXG5cdFx0XHR0aGF0ID0gJCggdGhpcyApLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICksXG5cdFx0XHRvID0gdGhhdC5vcHRpb25zLFxuXHRcdFx0Y28gPSB0aGF0LmNvbnRhaW5lck9mZnNldCxcblx0XHRcdGNwID0gdGhhdC5wb3NpdGlvbixcblx0XHRcdHBSYXRpbyA9IHRoYXQuX2FzcGVjdFJhdGlvIHx8IGV2ZW50LnNoaWZ0S2V5LFxuXHRcdFx0Y29wID0ge1xuXHRcdFx0XHR0b3A6IDAsXG5cdFx0XHRcdGxlZnQ6IDBcblx0XHRcdH0sXG5cdFx0XHRjZSA9IHRoYXQuY29udGFpbmVyRWxlbWVudCxcblx0XHRcdGNvbnRpbnVlUmVzaXplID0gdHJ1ZTtcblxuXHRcdGlmICggY2VbIDAgXSAhPT0gZG9jdW1lbnQgJiYgKCAvc3RhdGljLyApLnRlc3QoIGNlLmNzcyggXCJwb3NpdGlvblwiICkgKSApIHtcblx0XHRcdGNvcCA9IGNvO1xuXHRcdH1cblxuXHRcdGlmICggY3AubGVmdCA8ICggdGhhdC5faGVscGVyID8gY28ubGVmdCA6IDAgKSApIHtcblx0XHRcdHRoYXQuc2l6ZS53aWR0aCA9IHRoYXQuc2l6ZS53aWR0aCArXG5cdFx0XHRcdCggdGhhdC5faGVscGVyID9cblx0XHRcdFx0XHQoIHRoYXQucG9zaXRpb24ubGVmdCAtIGNvLmxlZnQgKSA6XG5cdFx0XHRcdFx0KCB0aGF0LnBvc2l0aW9uLmxlZnQgLSBjb3AubGVmdCApICk7XG5cblx0XHRcdGlmICggcFJhdGlvICkge1xuXHRcdFx0XHR0aGF0LnNpemUuaGVpZ2h0ID0gdGhhdC5zaXplLndpZHRoIC8gdGhhdC5hc3BlY3RSYXRpbztcblx0XHRcdFx0Y29udGludWVSZXNpemUgPSBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHRoYXQucG9zaXRpb24ubGVmdCA9IG8uaGVscGVyID8gY28ubGVmdCA6IDA7XG5cdFx0fVxuXG5cdFx0aWYgKCBjcC50b3AgPCAoIHRoYXQuX2hlbHBlciA/IGNvLnRvcCA6IDAgKSApIHtcblx0XHRcdHRoYXQuc2l6ZS5oZWlnaHQgPSB0aGF0LnNpemUuaGVpZ2h0ICtcblx0XHRcdFx0KCB0aGF0Ll9oZWxwZXIgP1xuXHRcdFx0XHRcdCggdGhhdC5wb3NpdGlvbi50b3AgLSBjby50b3AgKSA6XG5cdFx0XHRcdFx0dGhhdC5wb3NpdGlvbi50b3AgKTtcblxuXHRcdFx0aWYgKCBwUmF0aW8gKSB7XG5cdFx0XHRcdHRoYXQuc2l6ZS53aWR0aCA9IHRoYXQuc2l6ZS5oZWlnaHQgKiB0aGF0LmFzcGVjdFJhdGlvO1xuXHRcdFx0XHRjb250aW51ZVJlc2l6ZSA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0dGhhdC5wb3NpdGlvbi50b3AgPSB0aGF0Ll9oZWxwZXIgPyBjby50b3AgOiAwO1xuXHRcdH1cblxuXHRcdGlzUGFyZW50ID0gdGhhdC5jb250YWluZXJFbGVtZW50LmdldCggMCApID09PSB0aGF0LmVsZW1lbnQucGFyZW50KCkuZ2V0KCAwICk7XG5cdFx0aXNPZmZzZXRSZWxhdGl2ZSA9IC9yZWxhdGl2ZXxhYnNvbHV0ZS8udGVzdCggdGhhdC5jb250YWluZXJFbGVtZW50LmNzcyggXCJwb3NpdGlvblwiICkgKTtcblxuXHRcdGlmICggaXNQYXJlbnQgJiYgaXNPZmZzZXRSZWxhdGl2ZSApIHtcblx0XHRcdHRoYXQub2Zmc2V0LmxlZnQgPSB0aGF0LnBhcmVudERhdGEubGVmdCArIHRoYXQucG9zaXRpb24ubGVmdDtcblx0XHRcdHRoYXQub2Zmc2V0LnRvcCA9IHRoYXQucGFyZW50RGF0YS50b3AgKyB0aGF0LnBvc2l0aW9uLnRvcDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhhdC5vZmZzZXQubGVmdCA9IHRoYXQuZWxlbWVudC5vZmZzZXQoKS5sZWZ0O1xuXHRcdFx0dGhhdC5vZmZzZXQudG9wID0gdGhhdC5lbGVtZW50Lm9mZnNldCgpLnRvcDtcblx0XHR9XG5cblx0XHR3b3NldCA9IE1hdGguYWJzKCB0aGF0LnNpemVEaWZmLndpZHRoICtcblx0XHRcdCh0aGF0Ll9oZWxwZXIgP1xuXHRcdFx0XHR0aGF0Lm9mZnNldC5sZWZ0IC0gY29wLmxlZnQgOlxuXHRcdFx0XHQodGhhdC5vZmZzZXQubGVmdCAtIGNvLmxlZnQpKSApO1xuXG5cdFx0aG9zZXQgPSBNYXRoLmFicyggdGhhdC5zaXplRGlmZi5oZWlnaHQgK1xuXHRcdFx0KHRoYXQuX2hlbHBlciA/XG5cdFx0XHRcdHRoYXQub2Zmc2V0LnRvcCAtIGNvcC50b3AgOlxuXHRcdFx0XHQodGhhdC5vZmZzZXQudG9wIC0gY28udG9wKSkgKTtcblxuXHRcdGlmICggd29zZXQgKyB0aGF0LnNpemUud2lkdGggPj0gdGhhdC5wYXJlbnREYXRhLndpZHRoICkge1xuXHRcdFx0dGhhdC5zaXplLndpZHRoID0gdGhhdC5wYXJlbnREYXRhLndpZHRoIC0gd29zZXQ7XG5cdFx0XHRpZiAoIHBSYXRpbyApIHtcblx0XHRcdFx0dGhhdC5zaXplLmhlaWdodCA9IHRoYXQuc2l6ZS53aWR0aCAvIHRoYXQuYXNwZWN0UmF0aW87XG5cdFx0XHRcdGNvbnRpbnVlUmVzaXplID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBob3NldCArIHRoYXQuc2l6ZS5oZWlnaHQgPj0gdGhhdC5wYXJlbnREYXRhLmhlaWdodCApIHtcblx0XHRcdHRoYXQuc2l6ZS5oZWlnaHQgPSB0aGF0LnBhcmVudERhdGEuaGVpZ2h0IC0gaG9zZXQ7XG5cdFx0XHRpZiAoIHBSYXRpbyApIHtcblx0XHRcdFx0dGhhdC5zaXplLndpZHRoID0gdGhhdC5zaXplLmhlaWdodCAqIHRoYXQuYXNwZWN0UmF0aW87XG5cdFx0XHRcdGNvbnRpbnVlUmVzaXplID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAhY29udGludWVSZXNpemUgKSB7XG5cdFx0XHR0aGF0LnBvc2l0aW9uLmxlZnQgPSB0aGF0LnByZXZQb3NpdGlvbi5sZWZ0O1xuXHRcdFx0dGhhdC5wb3NpdGlvbi50b3AgPSB0aGF0LnByZXZQb3NpdGlvbi50b3A7XG5cdFx0XHR0aGF0LnNpemUud2lkdGggPSB0aGF0LnByZXZTaXplLndpZHRoO1xuXHRcdFx0dGhhdC5zaXplLmhlaWdodCA9IHRoYXQucHJldlNpemUuaGVpZ2h0O1xuXHRcdH1cblx0fSxcblxuXHRzdG9wOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9ICQoIHRoaXMgKS5yZXNpemFibGUoIFwiaW5zdGFuY2VcIiApLFxuXHRcdFx0byA9IHRoYXQub3B0aW9ucyxcblx0XHRcdGNvID0gdGhhdC5jb250YWluZXJPZmZzZXQsXG5cdFx0XHRjb3AgPSB0aGF0LmNvbnRhaW5lclBvc2l0aW9uLFxuXHRcdFx0Y2UgPSB0aGF0LmNvbnRhaW5lckVsZW1lbnQsXG5cdFx0XHRoZWxwZXIgPSAkKCB0aGF0LmhlbHBlciApLFxuXHRcdFx0aG8gPSBoZWxwZXIub2Zmc2V0KCksXG5cdFx0XHR3ID0gaGVscGVyLm91dGVyV2lkdGgoKSAtIHRoYXQuc2l6ZURpZmYud2lkdGgsXG5cdFx0XHRoID0gaGVscGVyLm91dGVySGVpZ2h0KCkgLSB0aGF0LnNpemVEaWZmLmhlaWdodDtcblxuXHRcdGlmICggdGhhdC5faGVscGVyICYmICFvLmFuaW1hdGUgJiYgKCAvcmVsYXRpdmUvICkudGVzdCggY2UuY3NzKCBcInBvc2l0aW9uXCIgKSApICkge1xuXHRcdFx0JCggdGhpcyApLmNzcyh7XG5cdFx0XHRcdGxlZnQ6IGhvLmxlZnQgLSBjb3AubGVmdCAtIGNvLmxlZnQsXG5cdFx0XHRcdHdpZHRoOiB3LFxuXHRcdFx0XHRoZWlnaHQ6IGhcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmICggdGhhdC5faGVscGVyICYmICFvLmFuaW1hdGUgJiYgKCAvc3RhdGljLyApLnRlc3QoIGNlLmNzcyggXCJwb3NpdGlvblwiICkgKSApIHtcblx0XHRcdCQoIHRoaXMgKS5jc3Moe1xuXHRcdFx0XHRsZWZ0OiBoby5sZWZ0IC0gY29wLmxlZnQgLSBjby5sZWZ0LFxuXHRcdFx0XHR3aWR0aDogdyxcblx0XHRcdFx0aGVpZ2h0OiBoXG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cbn0pO1xuXG4kLnVpLnBsdWdpbi5hZGQoXCJyZXNpemFibGVcIiwgXCJhbHNvUmVzaXplXCIsIHtcblxuXHRzdGFydDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSAkKHRoaXMpLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICksXG5cdFx0XHRvID0gdGhhdC5vcHRpb25zO1xuXG5cdFx0JChvLmFsc29SZXNpemUpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZWwgPSAkKHRoaXMpO1xuXHRcdFx0ZWwuZGF0YShcInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplXCIsIHtcblx0XHRcdFx0d2lkdGg6IHBhcnNlSW50KGVsLndpZHRoKCksIDEwKSwgaGVpZ2h0OiBwYXJzZUludChlbC5oZWlnaHQoKSwgMTApLFxuXHRcdFx0XHRsZWZ0OiBwYXJzZUludChlbC5jc3MoXCJsZWZ0XCIpLCAxMCksIHRvcDogcGFyc2VJbnQoZWwuY3NzKFwidG9wXCIpLCAxMClcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9LFxuXG5cdHJlc2l6ZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG5cdFx0dmFyIHRoYXQgPSAkKHRoaXMpLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICksXG5cdFx0XHRvID0gdGhhdC5vcHRpb25zLFxuXHRcdFx0b3MgPSB0aGF0Lm9yaWdpbmFsU2l6ZSxcblx0XHRcdG9wID0gdGhhdC5vcmlnaW5hbFBvc2l0aW9uLFxuXHRcdFx0ZGVsdGEgPSB7XG5cdFx0XHRcdGhlaWdodDogKHRoYXQuc2l6ZS5oZWlnaHQgLSBvcy5oZWlnaHQpIHx8IDAsXG5cdFx0XHRcdHdpZHRoOiAodGhhdC5zaXplLndpZHRoIC0gb3Mud2lkdGgpIHx8IDAsXG5cdFx0XHRcdHRvcDogKHRoYXQucG9zaXRpb24udG9wIC0gb3AudG9wKSB8fCAwLFxuXHRcdFx0XHRsZWZ0OiAodGhhdC5wb3NpdGlvbi5sZWZ0IC0gb3AubGVmdCkgfHwgMFxuXHRcdFx0fTtcblxuXHRcdFx0JChvLmFsc29SZXNpemUpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlbCA9ICQodGhpcyksIHN0YXJ0ID0gJCh0aGlzKS5kYXRhKFwidWktcmVzaXphYmxlLWFsc29yZXNpemVcIiksIHN0eWxlID0ge30sXG5cdFx0XHRcdFx0Y3NzID0gZWwucGFyZW50cyh1aS5vcmlnaW5hbEVsZW1lbnRbMF0pLmxlbmd0aCA/XG5cdFx0XHRcdFx0XHRcdFsgXCJ3aWR0aFwiLCBcImhlaWdodFwiIF0gOlxuXHRcdFx0XHRcdFx0XHRbIFwid2lkdGhcIiwgXCJoZWlnaHRcIiwgXCJ0b3BcIiwgXCJsZWZ0XCIgXTtcblxuXHRcdFx0XHQkLmVhY2goY3NzLCBmdW5jdGlvbihpLCBwcm9wKSB7XG5cdFx0XHRcdFx0dmFyIHN1bSA9IChzdGFydFtwcm9wXSB8fCAwKSArIChkZWx0YVtwcm9wXSB8fCAwKTtcblx0XHRcdFx0XHRpZiAoc3VtICYmIHN1bSA+PSAwKSB7XG5cdFx0XHRcdFx0XHRzdHlsZVtwcm9wXSA9IHN1bSB8fCBudWxsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0ZWwuY3NzKHN0eWxlKTtcblx0XHRcdH0pO1xuXHR9LFxuXG5cdHN0b3A6IGZ1bmN0aW9uKCkge1xuXHRcdCQodGhpcykucmVtb3ZlRGF0YShcInJlc2l6YWJsZS1hbHNvcmVzaXplXCIpO1xuXHR9XG59KTtcblxuJC51aS5wbHVnaW4uYWRkKFwicmVzaXphYmxlXCIsIFwiZ2hvc3RcIiwge1xuXG5cdHN0YXJ0OiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciB0aGF0ID0gJCh0aGlzKS5yZXNpemFibGUoIFwiaW5zdGFuY2VcIiApLCBvID0gdGhhdC5vcHRpb25zLCBjcyA9IHRoYXQuc2l6ZTtcblxuXHRcdHRoYXQuZ2hvc3QgPSB0aGF0Lm9yaWdpbmFsRWxlbWVudC5jbG9uZSgpO1xuXHRcdHRoYXQuZ2hvc3Rcblx0XHRcdC5jc3Moe1xuXHRcdFx0XHRvcGFjaXR5OiAwLjI1LFxuXHRcdFx0XHRkaXNwbGF5OiBcImJsb2NrXCIsXG5cdFx0XHRcdHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG5cdFx0XHRcdGhlaWdodDogY3MuaGVpZ2h0LFxuXHRcdFx0XHR3aWR0aDogY3Mud2lkdGgsXG5cdFx0XHRcdG1hcmdpbjogMCxcblx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0dG9wOiAwXG5cdFx0XHR9KVxuXHRcdFx0LmFkZENsYXNzKFwidWktcmVzaXphYmxlLWdob3N0XCIpXG5cdFx0XHQuYWRkQ2xhc3ModHlwZW9mIG8uZ2hvc3QgPT09IFwic3RyaW5nXCIgPyBvLmdob3N0IDogXCJcIik7XG5cblx0XHR0aGF0Lmdob3N0LmFwcGVuZFRvKHRoYXQuaGVscGVyKTtcblxuXHR9LFxuXG5cdHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSAkKHRoaXMpLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICk7XG5cdFx0aWYgKHRoYXQuZ2hvc3QpIHtcblx0XHRcdHRoYXQuZ2hvc3QuY3NzKHtcblx0XHRcdFx0cG9zaXRpb246IFwicmVsYXRpdmVcIixcblx0XHRcdFx0aGVpZ2h0OiB0aGF0LnNpemUuaGVpZ2h0LFxuXHRcdFx0XHR3aWR0aDogdGhhdC5zaXplLndpZHRoXG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sXG5cblx0c3RvcDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSAkKHRoaXMpLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICk7XG5cdFx0aWYgKHRoYXQuZ2hvc3QgJiYgdGhhdC5oZWxwZXIpIHtcblx0XHRcdHRoYXQuaGVscGVyLmdldCgwKS5yZW1vdmVDaGlsZCh0aGF0Lmdob3N0LmdldCgwKSk7XG5cdFx0fVxuXHR9XG5cbn0pO1xuXG4kLnVpLnBsdWdpbi5hZGQoXCJyZXNpemFibGVcIiwgXCJncmlkXCIsIHtcblxuXHRyZXNpemU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBvdXRlckRpbWVuc2lvbnMsXG5cdFx0XHR0aGF0ID0gJCh0aGlzKS5yZXNpemFibGUoIFwiaW5zdGFuY2VcIiApLFxuXHRcdFx0byA9IHRoYXQub3B0aW9ucyxcblx0XHRcdGNzID0gdGhhdC5zaXplLFxuXHRcdFx0b3MgPSB0aGF0Lm9yaWdpbmFsU2l6ZSxcblx0XHRcdG9wID0gdGhhdC5vcmlnaW5hbFBvc2l0aW9uLFxuXHRcdFx0YSA9IHRoYXQuYXhpcyxcblx0XHRcdGdyaWQgPSB0eXBlb2Ygby5ncmlkID09PSBcIm51bWJlclwiID8gWyBvLmdyaWQsIG8uZ3JpZCBdIDogby5ncmlkLFxuXHRcdFx0Z3JpZFggPSAoZ3JpZFswXSB8fCAxKSxcblx0XHRcdGdyaWRZID0gKGdyaWRbMV0gfHwgMSksXG5cdFx0XHRveCA9IE1hdGgucm91bmQoKGNzLndpZHRoIC0gb3Mud2lkdGgpIC8gZ3JpZFgpICogZ3JpZFgsXG5cdFx0XHRveSA9IE1hdGgucm91bmQoKGNzLmhlaWdodCAtIG9zLmhlaWdodCkgLyBncmlkWSkgKiBncmlkWSxcblx0XHRcdG5ld1dpZHRoID0gb3Mud2lkdGggKyBveCxcblx0XHRcdG5ld0hlaWdodCA9IG9zLmhlaWdodCArIG95LFxuXHRcdFx0aXNNYXhXaWR0aCA9IG8ubWF4V2lkdGggJiYgKG8ubWF4V2lkdGggPCBuZXdXaWR0aCksXG5cdFx0XHRpc01heEhlaWdodCA9IG8ubWF4SGVpZ2h0ICYmIChvLm1heEhlaWdodCA8IG5ld0hlaWdodCksXG5cdFx0XHRpc01pbldpZHRoID0gby5taW5XaWR0aCAmJiAoby5taW5XaWR0aCA+IG5ld1dpZHRoKSxcblx0XHRcdGlzTWluSGVpZ2h0ID0gby5taW5IZWlnaHQgJiYgKG8ubWluSGVpZ2h0ID4gbmV3SGVpZ2h0KTtcblxuXHRcdG8uZ3JpZCA9IGdyaWQ7XG5cblx0XHRpZiAoaXNNaW5XaWR0aCkge1xuXHRcdFx0bmV3V2lkdGggKz0gZ3JpZFg7XG5cdFx0fVxuXHRcdGlmIChpc01pbkhlaWdodCkge1xuXHRcdFx0bmV3SGVpZ2h0ICs9IGdyaWRZO1xuXHRcdH1cblx0XHRpZiAoaXNNYXhXaWR0aCkge1xuXHRcdFx0bmV3V2lkdGggLT0gZ3JpZFg7XG5cdFx0fVxuXHRcdGlmIChpc01heEhlaWdodCkge1xuXHRcdFx0bmV3SGVpZ2h0IC09IGdyaWRZO1xuXHRcdH1cblxuXHRcdGlmICgvXihzZXxzfGUpJC8udGVzdChhKSkge1xuXHRcdFx0dGhhdC5zaXplLndpZHRoID0gbmV3V2lkdGg7XG5cdFx0XHR0aGF0LnNpemUuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuXHRcdH0gZWxzZSBpZiAoL14obmUpJC8udGVzdChhKSkge1xuXHRcdFx0dGhhdC5zaXplLndpZHRoID0gbmV3V2lkdGg7XG5cdFx0XHR0aGF0LnNpemUuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuXHRcdFx0dGhhdC5wb3NpdGlvbi50b3AgPSBvcC50b3AgLSBveTtcblx0XHR9IGVsc2UgaWYgKC9eKHN3KSQvLnRlc3QoYSkpIHtcblx0XHRcdHRoYXQuc2l6ZS53aWR0aCA9IG5ld1dpZHRoO1xuXHRcdFx0dGhhdC5zaXplLmhlaWdodCA9IG5ld0hlaWdodDtcblx0XHRcdHRoYXQucG9zaXRpb24ubGVmdCA9IG9wLmxlZnQgLSBveDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCBuZXdIZWlnaHQgLSBncmlkWSA8PSAwIHx8IG5ld1dpZHRoIC0gZ3JpZFggPD0gMCkge1xuXHRcdFx0XHRvdXRlckRpbWVuc2lvbnMgPSB0aGF0Ll9nZXRQYWRkaW5nUGx1c0JvcmRlckRpbWVuc2lvbnMoIHRoaXMgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBuZXdIZWlnaHQgLSBncmlkWSA+IDAgKSB7XG5cdFx0XHRcdHRoYXQuc2l6ZS5oZWlnaHQgPSBuZXdIZWlnaHQ7XG5cdFx0XHRcdHRoYXQucG9zaXRpb24udG9wID0gb3AudG9wIC0gb3k7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRuZXdIZWlnaHQgPSBncmlkWSAtIG91dGVyRGltZW5zaW9ucy5oZWlnaHQ7XG5cdFx0XHRcdHRoYXQuc2l6ZS5oZWlnaHQgPSBuZXdIZWlnaHQ7XG5cdFx0XHRcdHRoYXQucG9zaXRpb24udG9wID0gb3AudG9wICsgb3MuaGVpZ2h0IC0gbmV3SGVpZ2h0O1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBuZXdXaWR0aCAtIGdyaWRYID4gMCApIHtcblx0XHRcdFx0dGhhdC5zaXplLndpZHRoID0gbmV3V2lkdGg7XG5cdFx0XHRcdHRoYXQucG9zaXRpb24ubGVmdCA9IG9wLmxlZnQgLSBveDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5ld1dpZHRoID0gZ3JpZFggLSBvdXRlckRpbWVuc2lvbnMud2lkdGg7XG5cdFx0XHRcdHRoYXQuc2l6ZS53aWR0aCA9IG5ld1dpZHRoO1xuXHRcdFx0XHR0aGF0LnBvc2l0aW9uLmxlZnQgPSBvcC5sZWZ0ICsgb3Mud2lkdGggLSBuZXdXaWR0aDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxufSk7XG5cbnZhciByZXNpemFibGUgPSAkLnVpLnJlc2l6YWJsZTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBEaWFsb2cgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9kaWFsb2cvXG4gKi9cblxuXG52YXIgZGlhbG9nID0gJC53aWRnZXQoIFwidWkuZGlhbG9nXCIsIHtcblx0dmVyc2lvbjogXCIxLjExLjRcIixcblx0b3B0aW9uczoge1xuXHRcdGFwcGVuZFRvOiBcImJvZHlcIixcblx0XHRhdXRvT3BlbjogdHJ1ZSxcblx0XHRidXR0b25zOiBbXSxcblx0XHRjbG9zZU9uRXNjYXBlOiB0cnVlLFxuXHRcdGNsb3NlVGV4dDogXCJDbG9zZVwiLFxuXHRcdGRpYWxvZ0NsYXNzOiBcIlwiLFxuXHRcdGRyYWdnYWJsZTogdHJ1ZSxcblx0XHRoaWRlOiBudWxsLFxuXHRcdGhlaWdodDogXCJhdXRvXCIsXG5cdFx0bWF4SGVpZ2h0OiBudWxsLFxuXHRcdG1heFdpZHRoOiBudWxsLFxuXHRcdG1pbkhlaWdodDogMTUwLFxuXHRcdG1pbldpZHRoOiAxNTAsXG5cdFx0bW9kYWw6IGZhbHNlLFxuXHRcdHBvc2l0aW9uOiB7XG5cdFx0XHRteTogXCJjZW50ZXJcIixcblx0XHRcdGF0OiBcImNlbnRlclwiLFxuXHRcdFx0b2Y6IHdpbmRvdyxcblx0XHRcdGNvbGxpc2lvbjogXCJmaXRcIixcblx0XHRcdC8vIEVuc3VyZSB0aGUgdGl0bGViYXIgaXMgYWx3YXlzIHZpc2libGVcblx0XHRcdHVzaW5nOiBmdW5jdGlvbiggcG9zICkge1xuXHRcdFx0XHR2YXIgdG9wT2Zmc2V0ID0gJCggdGhpcyApLmNzcyggcG9zICkub2Zmc2V0KCkudG9wO1xuXHRcdFx0XHRpZiAoIHRvcE9mZnNldCA8IDAgKSB7XG5cdFx0XHRcdFx0JCggdGhpcyApLmNzcyggXCJ0b3BcIiwgcG9zLnRvcCAtIHRvcE9mZnNldCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRyZXNpemFibGU6IHRydWUsXG5cdFx0c2hvdzogbnVsbCxcblx0XHR0aXRsZTogbnVsbCxcblx0XHR3aWR0aDogMzAwLFxuXG5cdFx0Ly8gY2FsbGJhY2tzXG5cdFx0YmVmb3JlQ2xvc2U6IG51bGwsXG5cdFx0Y2xvc2U6IG51bGwsXG5cdFx0ZHJhZzogbnVsbCxcblx0XHRkcmFnU3RhcnQ6IG51bGwsXG5cdFx0ZHJhZ1N0b3A6IG51bGwsXG5cdFx0Zm9jdXM6IG51bGwsXG5cdFx0b3BlbjogbnVsbCxcblx0XHRyZXNpemU6IG51bGwsXG5cdFx0cmVzaXplU3RhcnQ6IG51bGwsXG5cdFx0cmVzaXplU3RvcDogbnVsbFxuXHR9LFxuXG5cdHNpemVSZWxhdGVkT3B0aW9uczoge1xuXHRcdGJ1dHRvbnM6IHRydWUsXG5cdFx0aGVpZ2h0OiB0cnVlLFxuXHRcdG1heEhlaWdodDogdHJ1ZSxcblx0XHRtYXhXaWR0aDogdHJ1ZSxcblx0XHRtaW5IZWlnaHQ6IHRydWUsXG5cdFx0bWluV2lkdGg6IHRydWUsXG5cdFx0d2lkdGg6IHRydWVcblx0fSxcblxuXHRyZXNpemFibGVSZWxhdGVkT3B0aW9uczoge1xuXHRcdG1heEhlaWdodDogdHJ1ZSxcblx0XHRtYXhXaWR0aDogdHJ1ZSxcblx0XHRtaW5IZWlnaHQ6IHRydWUsXG5cdFx0bWluV2lkdGg6IHRydWVcblx0fSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLm9yaWdpbmFsQ3NzID0ge1xuXHRcdFx0ZGlzcGxheTogdGhpcy5lbGVtZW50WyAwIF0uc3R5bGUuZGlzcGxheSxcblx0XHRcdHdpZHRoOiB0aGlzLmVsZW1lbnRbIDAgXS5zdHlsZS53aWR0aCxcblx0XHRcdG1pbkhlaWdodDogdGhpcy5lbGVtZW50WyAwIF0uc3R5bGUubWluSGVpZ2h0LFxuXHRcdFx0bWF4SGVpZ2h0OiB0aGlzLmVsZW1lbnRbIDAgXS5zdHlsZS5tYXhIZWlnaHQsXG5cdFx0XHRoZWlnaHQ6IHRoaXMuZWxlbWVudFsgMCBdLnN0eWxlLmhlaWdodFxuXHRcdH07XG5cdFx0dGhpcy5vcmlnaW5hbFBvc2l0aW9uID0ge1xuXHRcdFx0cGFyZW50OiB0aGlzLmVsZW1lbnQucGFyZW50KCksXG5cdFx0XHRpbmRleDogdGhpcy5lbGVtZW50LnBhcmVudCgpLmNoaWxkcmVuKCkuaW5kZXgoIHRoaXMuZWxlbWVudCApXG5cdFx0fTtcblx0XHR0aGlzLm9yaWdpbmFsVGl0bGUgPSB0aGlzLmVsZW1lbnQuYXR0ciggXCJ0aXRsZVwiICk7XG5cdFx0dGhpcy5vcHRpb25zLnRpdGxlID0gdGhpcy5vcHRpb25zLnRpdGxlIHx8IHRoaXMub3JpZ2luYWxUaXRsZTtcblxuXHRcdHRoaXMuX2NyZWF0ZVdyYXBwZXIoKTtcblxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnNob3coKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwidGl0bGVcIiApXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktZGlhbG9nLWNvbnRlbnQgdWktd2lkZ2V0LWNvbnRlbnRcIiApXG5cdFx0XHQuYXBwZW5kVG8oIHRoaXMudWlEaWFsb2cgKTtcblxuXHRcdHRoaXMuX2NyZWF0ZVRpdGxlYmFyKCk7XG5cdFx0dGhpcy5fY3JlYXRlQnV0dG9uUGFuZSgpO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlICYmICQuZm4uZHJhZ2dhYmxlICkge1xuXHRcdFx0dGhpcy5fbWFrZURyYWdnYWJsZSgpO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5yZXNpemFibGUgJiYgJC5mbi5yZXNpemFibGUgKSB7XG5cdFx0XHR0aGlzLl9tYWtlUmVzaXphYmxlKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5faXNPcGVuID0gZmFsc2U7XG5cblx0XHR0aGlzLl90cmFja0ZvY3VzKCk7XG5cdH0sXG5cblx0X2luaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5vcHRpb25zLmF1dG9PcGVuICkge1xuXHRcdFx0dGhpcy5vcGVuKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hcHBlbmRUbzogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW1lbnQgPSB0aGlzLm9wdGlvbnMuYXBwZW5kVG87XG5cdFx0aWYgKCBlbGVtZW50ICYmIChlbGVtZW50LmpxdWVyeSB8fCBlbGVtZW50Lm5vZGVUeXBlKSApIHtcblx0XHRcdHJldHVybiAkKCBlbGVtZW50ICk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmRvY3VtZW50LmZpbmQoIGVsZW1lbnQgfHwgXCJib2R5XCIgKS5lcSggMCApO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV4dCxcblx0XHRcdG9yaWdpbmFsUG9zaXRpb24gPSB0aGlzLm9yaWdpbmFsUG9zaXRpb247XG5cblx0XHR0aGlzLl91bnRyYWNrSW5zdGFuY2UoKTtcblx0XHR0aGlzLl9kZXN0cm95T3ZlcmxheSgpO1xuXG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQucmVtb3ZlVW5pcXVlSWQoKVxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWRpYWxvZy1jb250ZW50IHVpLXdpZGdldC1jb250ZW50XCIgKVxuXHRcdFx0LmNzcyggdGhpcy5vcmlnaW5hbENzcyApXG5cdFx0XHQvLyBXaXRob3V0IGRldGFjaGluZyBmaXJzdCwgdGhlIGZvbGxvd2luZyBiZWNvbWVzIHJlYWxseSBzbG93XG5cdFx0XHQuZGV0YWNoKCk7XG5cblx0XHR0aGlzLnVpRGlhbG9nLnN0b3AoIHRydWUsIHRydWUgKS5yZW1vdmUoKTtcblxuXHRcdGlmICggdGhpcy5vcmlnaW5hbFRpdGxlICkge1xuXHRcdFx0dGhpcy5lbGVtZW50LmF0dHIoIFwidGl0bGVcIiwgdGhpcy5vcmlnaW5hbFRpdGxlICk7XG5cdFx0fVxuXG5cdFx0bmV4dCA9IG9yaWdpbmFsUG9zaXRpb24ucGFyZW50LmNoaWxkcmVuKCkuZXEoIG9yaWdpbmFsUG9zaXRpb24uaW5kZXggKTtcblx0XHQvLyBEb24ndCB0cnkgdG8gcGxhY2UgdGhlIGRpYWxvZyBuZXh0IHRvIGl0c2VsZiAoIzg2MTMpXG5cdFx0aWYgKCBuZXh0Lmxlbmd0aCAmJiBuZXh0WyAwIF0gIT09IHRoaXMuZWxlbWVudFsgMCBdICkge1xuXHRcdFx0bmV4dC5iZWZvcmUoIHRoaXMuZWxlbWVudCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRvcmlnaW5hbFBvc2l0aW9uLnBhcmVudC5hcHBlbmQoIHRoaXMuZWxlbWVudCApO1xuXHRcdH1cblx0fSxcblxuXHR3aWRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnVpRGlhbG9nO1xuXHR9LFxuXG5cdGRpc2FibGU6ICQubm9vcCxcblx0ZW5hYmxlOiAkLm5vb3AsXG5cblx0Y2xvc2U6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgYWN0aXZlRWxlbWVudCxcblx0XHRcdHRoYXQgPSB0aGlzO1xuXG5cdFx0aWYgKCAhdGhpcy5faXNPcGVuIHx8IHRoaXMuX3RyaWdnZXIoIFwiYmVmb3JlQ2xvc2VcIiwgZXZlbnQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5faXNPcGVuID0gZmFsc2U7XG5cdFx0dGhpcy5fZm9jdXNlZEVsZW1lbnQgPSBudWxsO1xuXHRcdHRoaXMuX2Rlc3Ryb3lPdmVybGF5KCk7XG5cdFx0dGhpcy5fdW50cmFja0luc3RhbmNlKCk7XG5cblx0XHRpZiAoICF0aGlzLm9wZW5lci5maWx0ZXIoIFwiOmZvY3VzYWJsZVwiICkuZm9jdXMoKS5sZW5ndGggKSB7XG5cblx0XHRcdC8vIHN1cHBvcnQ6IElFOVxuXHRcdFx0Ly8gSUU5IHRocm93cyBhbiBcIlVuc3BlY2lmaWVkIGVycm9yXCIgYWNjZXNzaW5nIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgZnJvbSBhbiA8aWZyYW1lPlxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YWN0aXZlRWxlbWVudCA9IHRoaXMuZG9jdW1lbnRbIDAgXS5hY3RpdmVFbGVtZW50O1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFOSwgSUUxMFxuXHRcdFx0XHQvLyBJZiB0aGUgPGJvZHk+IGlzIGJsdXJyZWQsIElFIHdpbGwgc3dpdGNoIHdpbmRvd3MsIHNlZSAjNDUyMFxuXHRcdFx0XHRpZiAoIGFjdGl2ZUVsZW1lbnQgJiYgYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcImJvZHlcIiApIHtcblxuXHRcdFx0XHRcdC8vIEhpZGluZyBhIGZvY3VzZWQgZWxlbWVudCBkb2Vzbid0IHRyaWdnZXIgYmx1ciBpbiBXZWJLaXRcblx0XHRcdFx0XHQvLyBzbyBpbiBjYXNlIHdlIGhhdmUgbm90aGluZyB0byBmb2N1cyBvbiwgZXhwbGljaXRseSBibHVyIHRoZSBhY3RpdmUgZWxlbWVudFxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD00NzE4MlxuXHRcdFx0XHRcdCQoIGFjdGl2ZUVsZW1lbnQgKS5ibHVyKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKCBlcnJvciApIHt9XG5cdFx0fVxuXG5cdFx0dGhpcy5faGlkZSggdGhpcy51aURpYWxvZywgdGhpcy5vcHRpb25zLmhpZGUsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhhdC5fdHJpZ2dlciggXCJjbG9zZVwiLCBldmVudCApO1xuXHRcdH0pO1xuXHR9LFxuXG5cdGlzT3BlbjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2lzT3Blbjtcblx0fSxcblxuXHRtb3ZlVG9Ub3A6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX21vdmVUb1RvcCgpO1xuXHR9LFxuXG5cdF9tb3ZlVG9Ub3A6IGZ1bmN0aW9uKCBldmVudCwgc2lsZW50ICkge1xuXHRcdHZhciBtb3ZlZCA9IGZhbHNlLFxuXHRcdFx0ekluZGljZXMgPSB0aGlzLnVpRGlhbG9nLnNpYmxpbmdzKCBcIi51aS1mcm9udDp2aXNpYmxlXCIgKS5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiArJCggdGhpcyApLmNzcyggXCJ6LWluZGV4XCIgKTtcblx0XHRcdH0pLmdldCgpLFxuXHRcdFx0ekluZGV4TWF4ID0gTWF0aC5tYXguYXBwbHkoIG51bGwsIHpJbmRpY2VzICk7XG5cblx0XHRpZiAoIHpJbmRleE1heCA+PSArdGhpcy51aURpYWxvZy5jc3MoIFwiei1pbmRleFwiICkgKSB7XG5cdFx0XHR0aGlzLnVpRGlhbG9nLmNzcyggXCJ6LWluZGV4XCIsIHpJbmRleE1heCArIDEgKTtcblx0XHRcdG1vdmVkID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoIG1vdmVkICYmICFzaWxlbnQgKSB7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImZvY3VzXCIsIGV2ZW50ICk7XG5cdFx0fVxuXHRcdHJldHVybiBtb3ZlZDtcblx0fSxcblxuXHRvcGVuOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0aWYgKCB0aGlzLl9pc09wZW4gKSB7XG5cdFx0XHRpZiAoIHRoaXMuX21vdmVUb1RvcCgpICkge1xuXHRcdFx0XHR0aGlzLl9mb2N1c1RhYmJhYmxlKCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5faXNPcGVuID0gdHJ1ZTtcblx0XHR0aGlzLm9wZW5lciA9ICQoIHRoaXMuZG9jdW1lbnRbIDAgXS5hY3RpdmVFbGVtZW50ICk7XG5cblx0XHR0aGlzLl9zaXplKCk7XG5cdFx0dGhpcy5fcG9zaXRpb24oKTtcblx0XHR0aGlzLl9jcmVhdGVPdmVybGF5KCk7XG5cdFx0dGhpcy5fbW92ZVRvVG9wKCBudWxsLCB0cnVlICk7XG5cblx0XHQvLyBFbnN1cmUgdGhlIG92ZXJsYXkgaXMgbW92ZWQgdG8gdGhlIHRvcCB3aXRoIHRoZSBkaWFsb2csIGJ1dCBvbmx5IHdoZW5cblx0XHQvLyBvcGVuaW5nLiBUaGUgb3ZlcmxheSBzaG91bGRuJ3QgbW92ZSBhZnRlciB0aGUgZGlhbG9nIGlzIG9wZW4gc28gdGhhdFxuXHRcdC8vIG1vZGVsZXNzIGRpYWxvZ3Mgb3BlbmVkIGFmdGVyIHRoZSBtb2RhbCBkaWFsb2cgc3RhY2sgcHJvcGVybHkuXG5cdFx0aWYgKCB0aGlzLm92ZXJsYXkgKSB7XG5cdFx0XHR0aGlzLm92ZXJsYXkuY3NzKCBcInotaW5kZXhcIiwgdGhpcy51aURpYWxvZy5jc3MoIFwiei1pbmRleFwiICkgLSAxICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fc2hvdyggdGhpcy51aURpYWxvZywgdGhpcy5vcHRpb25zLnNob3csIGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhhdC5fZm9jdXNUYWJiYWJsZSgpO1xuXHRcdFx0dGhhdC5fdHJpZ2dlciggXCJmb2N1c1wiICk7XG5cdFx0fSk7XG5cblx0XHQvLyBUcmFjayB0aGUgZGlhbG9nIGltbWVkaWF0ZWx5IHVwb24gb3BlbmVuaW5nIGluIGNhc2UgYSBmb2N1cyBldmVudFxuXHRcdC8vIHNvbWVob3cgb2NjdXJzIG91dHNpZGUgb2YgdGhlIGRpYWxvZyBiZWZvcmUgYW4gZWxlbWVudCBpbnNpZGUgdGhlXG5cdFx0Ly8gZGlhbG9nIGlzIGZvY3VzZWQgKCMxMDE1Milcblx0XHR0aGlzLl9tYWtlRm9jdXNUYXJnZXQoKTtcblxuXHRcdHRoaXMuX3RyaWdnZXIoIFwib3BlblwiICk7XG5cdH0sXG5cblx0X2ZvY3VzVGFiYmFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdC8vIFNldCBmb2N1cyB0byB0aGUgZmlyc3QgbWF0Y2g6XG5cdFx0Ly8gMS4gQW4gZWxlbWVudCB0aGF0IHdhcyBmb2N1c2VkIHByZXZpb3VzbHlcblx0XHQvLyAyLiBGaXJzdCBlbGVtZW50IGluc2lkZSB0aGUgZGlhbG9nIG1hdGNoaW5nIFthdXRvZm9jdXNdXG5cdFx0Ly8gMy4gVGFiYmFibGUgZWxlbWVudCBpbnNpZGUgdGhlIGNvbnRlbnQgZWxlbWVudFxuXHRcdC8vIDQuIFRhYmJhYmxlIGVsZW1lbnQgaW5zaWRlIHRoZSBidXR0b25wYW5lXG5cdFx0Ly8gNS4gVGhlIGNsb3NlIGJ1dHRvblxuXHRcdC8vIDYuIFRoZSBkaWFsb2cgaXRzZWxmXG5cdFx0dmFyIGhhc0ZvY3VzID0gdGhpcy5fZm9jdXNlZEVsZW1lbnQ7XG5cdFx0aWYgKCAhaGFzRm9jdXMgKSB7XG5cdFx0XHRoYXNGb2N1cyA9IHRoaXMuZWxlbWVudC5maW5kKCBcIlthdXRvZm9jdXNdXCIgKTtcblx0XHR9XG5cdFx0aWYgKCAhaGFzRm9jdXMubGVuZ3RoICkge1xuXHRcdFx0aGFzRm9jdXMgPSB0aGlzLmVsZW1lbnQuZmluZCggXCI6dGFiYmFibGVcIiApO1xuXHRcdH1cblx0XHRpZiAoICFoYXNGb2N1cy5sZW5ndGggKSB7XG5cdFx0XHRoYXNGb2N1cyA9IHRoaXMudWlEaWFsb2dCdXR0b25QYW5lLmZpbmQoIFwiOnRhYmJhYmxlXCIgKTtcblx0XHR9XG5cdFx0aWYgKCAhaGFzRm9jdXMubGVuZ3RoICkge1xuXHRcdFx0aGFzRm9jdXMgPSB0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZS5maWx0ZXIoIFwiOnRhYmJhYmxlXCIgKTtcblx0XHR9XG5cdFx0aWYgKCAhaGFzRm9jdXMubGVuZ3RoICkge1xuXHRcdFx0aGFzRm9jdXMgPSB0aGlzLnVpRGlhbG9nO1xuXHRcdH1cblx0XHRoYXNGb2N1cy5lcSggMCApLmZvY3VzKCk7XG5cdH0sXG5cblx0X2tlZXBGb2N1czogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGZ1bmN0aW9uIGNoZWNrRm9jdXMoKSB7XG5cdFx0XHR2YXIgYWN0aXZlRWxlbWVudCA9IHRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCxcblx0XHRcdFx0aXNBY3RpdmUgPSB0aGlzLnVpRGlhbG9nWzBdID09PSBhY3RpdmVFbGVtZW50IHx8XG5cdFx0XHRcdFx0JC5jb250YWlucyggdGhpcy51aURpYWxvZ1swXSwgYWN0aXZlRWxlbWVudCApO1xuXHRcdFx0aWYgKCAhaXNBY3RpdmUgKSB7XG5cdFx0XHRcdHRoaXMuX2ZvY3VzVGFiYmFibGUoKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRjaGVja0ZvY3VzLmNhbGwoIHRoaXMgKTtcblx0XHQvLyBzdXBwb3J0OiBJRVxuXHRcdC8vIElFIDw9IDggZG9lc24ndCBwcmV2ZW50IG1vdmluZyBmb2N1cyBldmVuIHdpdGggZXZlbnQucHJldmVudERlZmF1bHQoKVxuXHRcdC8vIHNvIHdlIGNoZWNrIGFnYWluIGxhdGVyXG5cdFx0dGhpcy5fZGVsYXkoIGNoZWNrRm9jdXMgKTtcblx0fSxcblxuXHRfY3JlYXRlV3JhcHBlcjogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy51aURpYWxvZyA9ICQoXCI8ZGl2PlwiKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLWRpYWxvZyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCB1aS1mcm9udCBcIiArXG5cdFx0XHRcdHRoaXMub3B0aW9ucy5kaWFsb2dDbGFzcyApXG5cdFx0XHQuaGlkZSgpXG5cdFx0XHQuYXR0cih7XG5cdFx0XHRcdC8vIFNldHRpbmcgdGFiSW5kZXggbWFrZXMgdGhlIGRpdiBmb2N1c2FibGVcblx0XHRcdFx0dGFiSW5kZXg6IC0xLFxuXHRcdFx0XHRyb2xlOiBcImRpYWxvZ1wiXG5cdFx0XHR9KVxuXHRcdFx0LmFwcGVuZFRvKCB0aGlzLl9hcHBlbmRUbygpICk7XG5cblx0XHR0aGlzLl9vbiggdGhpcy51aURpYWxvZywge1xuXHRcdFx0a2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5jbG9zZU9uRXNjYXBlICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSAmJiBldmVudC5rZXlDb2RlICYmXG5cdFx0XHRcdFx0XHRldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuRVNDQVBFICkge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0dGhpcy5jbG9zZSggZXZlbnQgKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBwcmV2ZW50IHRhYmJpbmcgb3V0IG9mIGRpYWxvZ3Ncblx0XHRcdFx0aWYgKCBldmVudC5rZXlDb2RlICE9PSAkLnVpLmtleUNvZGUuVEFCIHx8IGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgdGFiYmFibGVzID0gdGhpcy51aURpYWxvZy5maW5kKCBcIjp0YWJiYWJsZVwiICksXG5cdFx0XHRcdFx0Zmlyc3QgPSB0YWJiYWJsZXMuZmlsdGVyKCBcIjpmaXJzdFwiICksXG5cdFx0XHRcdFx0bGFzdCA9IHRhYmJhYmxlcy5maWx0ZXIoIFwiOmxhc3RcIiApO1xuXG5cdFx0XHRcdGlmICggKCBldmVudC50YXJnZXQgPT09IGxhc3RbMF0gfHwgZXZlbnQudGFyZ2V0ID09PSB0aGlzLnVpRGlhbG9nWzBdICkgJiYgIWV2ZW50LnNoaWZ0S2V5ICkge1xuXHRcdFx0XHRcdHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0Zmlyc3QuZm9jdXMoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCAoIGV2ZW50LnRhcmdldCA9PT0gZmlyc3RbMF0gfHwgZXZlbnQudGFyZ2V0ID09PSB0aGlzLnVpRGlhbG9nWzBdICkgJiYgZXZlbnQuc2hpZnRLZXkgKSB7XG5cdFx0XHRcdFx0dGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRsYXN0LmZvY3VzKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdG1vdXNlZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIHRoaXMuX21vdmVUb1RvcCggZXZlbnQgKSApIHtcblx0XHRcdFx0XHR0aGlzLl9mb2N1c1RhYmJhYmxlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIFdlIGFzc3VtZSB0aGF0IGFueSBleGlzdGluZyBhcmlhLWRlc2NyaWJlZGJ5IGF0dHJpYnV0ZSBtZWFuc1xuXHRcdC8vIHRoYXQgdGhlIGRpYWxvZyBjb250ZW50IGlzIG1hcmtlZCB1cCBwcm9wZXJseVxuXHRcdC8vIG90aGVyd2lzZSB3ZSBicnV0ZSBmb3JjZSB0aGUgY29udGVudCBhcyB0aGUgZGVzY3JpcHRpb25cblx0XHRpZiAoICF0aGlzLmVsZW1lbnQuZmluZCggXCJbYXJpYS1kZXNjcmliZWRieV1cIiApLmxlbmd0aCApIHtcblx0XHRcdHRoaXMudWlEaWFsb2cuYXR0cih7XG5cdFx0XHRcdFwiYXJpYS1kZXNjcmliZWRieVwiOiB0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKCBcImlkXCIgKVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9jcmVhdGVUaXRsZWJhcjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHVpRGlhbG9nVGl0bGU7XG5cblx0XHR0aGlzLnVpRGlhbG9nVGl0bGViYXIgPSAkKCBcIjxkaXY+XCIgKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLWRpYWxvZy10aXRsZWJhciB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1hbGwgdWktaGVscGVyLWNsZWFyZml4XCIgKVxuXHRcdFx0LnByZXBlbmRUbyggdGhpcy51aURpYWxvZyApO1xuXHRcdHRoaXMuX29uKCB0aGlzLnVpRGlhbG9nVGl0bGViYXIsIHtcblx0XHRcdG1vdXNlZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHQvLyBEb24ndCBwcmV2ZW50IGNsaWNrIG9uIGNsb3NlIGJ1dHRvbiAoIzg4MzgpXG5cdFx0XHRcdC8vIEZvY3VzaW5nIGEgZGlhbG9nIHRoYXQgaXMgcGFydGlhbGx5IHNjcm9sbGVkIG91dCBvZiB2aWV3XG5cdFx0XHRcdC8vIGNhdXNlcyB0aGUgYnJvd3NlciB0byBzY3JvbGwgaXQgaW50byB2aWV3LCBwcmV2ZW50aW5nIHRoZSBjbGljayBldmVudFxuXHRcdFx0XHRpZiAoICEkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCBcIi51aS1kaWFsb2ctdGl0bGViYXItY2xvc2VcIiApICkge1xuXHRcdFx0XHRcdC8vIERpYWxvZyBpc24ndCBnZXR0aW5nIGZvY3VzIHdoZW4gZHJhZ2dpbmcgKCM4MDYzKVxuXHRcdFx0XHRcdHRoaXMudWlEaWFsb2cuZm9jdXMoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gc3VwcG9ydDogSUVcblx0XHQvLyBVc2UgdHlwZT1cImJ1dHRvblwiIHRvIHByZXZlbnQgZW50ZXIga2V5cHJlc3NlcyBpbiB0ZXh0Ym94ZXMgZnJvbSBjbG9zaW5nIHRoZVxuXHRcdC8vIGRpYWxvZyBpbiBJRSAoIzkzMTIpXG5cdFx0dGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2UgPSAkKCBcIjxidXR0b24gdHlwZT0nYnV0dG9uJz48L2J1dHRvbj5cIiApXG5cdFx0XHQuYnV0dG9uKHtcblx0XHRcdFx0bGFiZWw6IHRoaXMub3B0aW9ucy5jbG9zZVRleHQsXG5cdFx0XHRcdGljb25zOiB7XG5cdFx0XHRcdFx0cHJpbWFyeTogXCJ1aS1pY29uLWNsb3NldGhpY2tcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0ZXh0OiBmYWxzZVxuXHRcdFx0fSlcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1kaWFsb2ctdGl0bGViYXItY2xvc2VcIiApXG5cdFx0XHQuYXBwZW5kVG8oIHRoaXMudWlEaWFsb2dUaXRsZWJhciApO1xuXHRcdHRoaXMuX29uKCB0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZSwge1xuXHRcdFx0Y2xpY2s6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0dGhpcy5jbG9zZSggZXZlbnQgKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHVpRGlhbG9nVGl0bGUgPSAkKCBcIjxzcGFuPlwiIClcblx0XHRcdC51bmlxdWVJZCgpXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktZGlhbG9nLXRpdGxlXCIgKVxuXHRcdFx0LnByZXBlbmRUbyggdGhpcy51aURpYWxvZ1RpdGxlYmFyICk7XG5cdFx0dGhpcy5fdGl0bGUoIHVpRGlhbG9nVGl0bGUgKTtcblxuXHRcdHRoaXMudWlEaWFsb2cuYXR0cih7XG5cdFx0XHRcImFyaWEtbGFiZWxsZWRieVwiOiB1aURpYWxvZ1RpdGxlLmF0dHIoIFwiaWRcIiApXG5cdFx0fSk7XG5cdH0sXG5cblx0X3RpdGxlOiBmdW5jdGlvbiggdGl0bGUgKSB7XG5cdFx0aWYgKCAhdGhpcy5vcHRpb25zLnRpdGxlICkge1xuXHRcdFx0dGl0bGUuaHRtbCggXCImIzE2MDtcIiApO1xuXHRcdH1cblx0XHR0aXRsZS50ZXh0KCB0aGlzLm9wdGlvbnMudGl0bGUgKTtcblx0fSxcblxuXHRfY3JlYXRlQnV0dG9uUGFuZTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy51aURpYWxvZ0J1dHRvblBhbmUgPSAkKCBcIjxkaXY+XCIgKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLWRpYWxvZy1idXR0b25wYW5lIHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeFwiICk7XG5cblx0XHR0aGlzLnVpQnV0dG9uU2V0ID0gJCggXCI8ZGl2PlwiIClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1kaWFsb2ctYnV0dG9uc2V0XCIgKVxuXHRcdFx0LmFwcGVuZFRvKCB0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZSApO1xuXG5cdFx0dGhpcy5fY3JlYXRlQnV0dG9ucygpO1xuXHR9LFxuXG5cdF9jcmVhdGVCdXR0b25zOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRidXR0b25zID0gdGhpcy5vcHRpb25zLmJ1dHRvbnM7XG5cblx0XHQvLyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSBidXR0b24gcGFuZSwgcmVtb3ZlIGl0XG5cdFx0dGhpcy51aURpYWxvZ0J1dHRvblBhbmUucmVtb3ZlKCk7XG5cdFx0dGhpcy51aUJ1dHRvblNldC5lbXB0eSgpO1xuXG5cdFx0aWYgKCAkLmlzRW1wdHlPYmplY3QoIGJ1dHRvbnMgKSB8fCAoJC5pc0FycmF5KCBidXR0b25zICkgJiYgIWJ1dHRvbnMubGVuZ3RoKSApIHtcblx0XHRcdHRoaXMudWlEaWFsb2cucmVtb3ZlQ2xhc3MoIFwidWktZGlhbG9nLWJ1dHRvbnNcIiApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdCQuZWFjaCggYnV0dG9ucywgZnVuY3Rpb24oIG5hbWUsIHByb3BzICkge1xuXHRcdFx0dmFyIGNsaWNrLCBidXR0b25PcHRpb25zO1xuXHRcdFx0cHJvcHMgPSAkLmlzRnVuY3Rpb24oIHByb3BzICkgP1xuXHRcdFx0XHR7IGNsaWNrOiBwcm9wcywgdGV4dDogbmFtZSB9IDpcblx0XHRcdFx0cHJvcHM7XG5cdFx0XHQvLyBEZWZhdWx0IHRvIGEgbm9uLXN1Ym1pdHRpbmcgYnV0dG9uXG5cdFx0XHRwcm9wcyA9ICQuZXh0ZW5kKCB7IHR5cGU6IFwiYnV0dG9uXCIgfSwgcHJvcHMgKTtcblx0XHRcdC8vIENoYW5nZSB0aGUgY29udGV4dCBmb3IgdGhlIGNsaWNrIGNhbGxiYWNrIHRvIGJlIHRoZSBtYWluIGVsZW1lbnRcblx0XHRcdGNsaWNrID0gcHJvcHMuY2xpY2s7XG5cdFx0XHRwcm9wcy5jbGljayA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjbGljay5hcHBseSggdGhhdC5lbGVtZW50WyAwIF0sIGFyZ3VtZW50cyApO1xuXHRcdFx0fTtcblx0XHRcdGJ1dHRvbk9wdGlvbnMgPSB7XG5cdFx0XHRcdGljb25zOiBwcm9wcy5pY29ucyxcblx0XHRcdFx0dGV4dDogcHJvcHMuc2hvd1RleHRcblx0XHRcdH07XG5cdFx0XHRkZWxldGUgcHJvcHMuaWNvbnM7XG5cdFx0XHRkZWxldGUgcHJvcHMuc2hvd1RleHQ7XG5cdFx0XHQkKCBcIjxidXR0b24+PC9idXR0b24+XCIsIHByb3BzIClcblx0XHRcdFx0LmJ1dHRvbiggYnV0dG9uT3B0aW9ucyApXG5cdFx0XHRcdC5hcHBlbmRUbyggdGhhdC51aUJ1dHRvblNldCApO1xuXHRcdH0pO1xuXHRcdHRoaXMudWlEaWFsb2cuYWRkQ2xhc3MoIFwidWktZGlhbG9nLWJ1dHRvbnNcIiApO1xuXHRcdHRoaXMudWlEaWFsb2dCdXR0b25QYW5lLmFwcGVuZFRvKCB0aGlzLnVpRGlhbG9nICk7XG5cdH0sXG5cblx0X21ha2VEcmFnZ2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRmdW5jdGlvbiBmaWx0ZXJlZFVpKCB1aSApIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHBvc2l0aW9uOiB1aS5wb3NpdGlvbixcblx0XHRcdFx0b2Zmc2V0OiB1aS5vZmZzZXRcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0dGhpcy51aURpYWxvZy5kcmFnZ2FibGUoe1xuXHRcdFx0Y2FuY2VsOiBcIi51aS1kaWFsb2ctY29udGVudCwgLnVpLWRpYWxvZy10aXRsZWJhci1jbG9zZVwiLFxuXHRcdFx0aGFuZGxlOiBcIi51aS1kaWFsb2ctdGl0bGViYXJcIixcblx0XHRcdGNvbnRhaW5tZW50OiBcImRvY3VtZW50XCIsXG5cdFx0XHRzdGFydDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0JCggdGhpcyApLmFkZENsYXNzKCBcInVpLWRpYWxvZy1kcmFnZ2luZ1wiICk7XG5cdFx0XHRcdHRoYXQuX2Jsb2NrRnJhbWVzKCk7XG5cdFx0XHRcdHRoYXQuX3RyaWdnZXIoIFwiZHJhZ1N0YXJ0XCIsIGV2ZW50LCBmaWx0ZXJlZFVpKCB1aSApICk7XG5cdFx0XHR9LFxuXHRcdFx0ZHJhZzogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0dGhhdC5fdHJpZ2dlciggXCJkcmFnXCIsIGV2ZW50LCBmaWx0ZXJlZFVpKCB1aSApICk7XG5cdFx0XHR9LFxuXHRcdFx0c3RvcDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0dmFyIGxlZnQgPSB1aS5vZmZzZXQubGVmdCAtIHRoYXQuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpLFxuXHRcdFx0XHRcdHRvcCA9IHVpLm9mZnNldC50b3AgLSB0aGF0LmRvY3VtZW50LnNjcm9sbFRvcCgpO1xuXG5cdFx0XHRcdG9wdGlvbnMucG9zaXRpb24gPSB7XG5cdFx0XHRcdFx0bXk6IFwibGVmdCB0b3BcIixcblx0XHRcdFx0XHRhdDogXCJsZWZ0XCIgKyAobGVmdCA+PSAwID8gXCIrXCIgOiBcIlwiKSArIGxlZnQgKyBcIiBcIiArXG5cdFx0XHRcdFx0XHRcInRvcFwiICsgKHRvcCA+PSAwID8gXCIrXCIgOiBcIlwiKSArIHRvcCxcblx0XHRcdFx0XHRvZjogdGhhdC53aW5kb3dcblx0XHRcdFx0fTtcblx0XHRcdFx0JCggdGhpcyApLnJlbW92ZUNsYXNzKCBcInVpLWRpYWxvZy1kcmFnZ2luZ1wiICk7XG5cdFx0XHRcdHRoYXQuX3VuYmxvY2tGcmFtZXMoKTtcblx0XHRcdFx0dGhhdC5fdHJpZ2dlciggXCJkcmFnU3RvcFwiLCBldmVudCwgZmlsdGVyZWRVaSggdWkgKSApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdF9tYWtlUmVzaXphYmxlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0aGFuZGxlcyA9IG9wdGlvbnMucmVzaXphYmxlLFxuXHRcdFx0Ly8gLnVpLXJlc2l6YWJsZSBoYXMgcG9zaXRpb246IHJlbGF0aXZlIGRlZmluZWQgaW4gdGhlIHN0eWxlc2hlZXRcblx0XHRcdC8vIGJ1dCBkaWFsb2dzIGhhdmUgdG8gdXNlIGFic29sdXRlIG9yIGZpeGVkIHBvc2l0aW9uaW5nXG5cdFx0XHRwb3NpdGlvbiA9IHRoaXMudWlEaWFsb2cuY3NzKFwicG9zaXRpb25cIiksXG5cdFx0XHRyZXNpemVIYW5kbGVzID0gdHlwZW9mIGhhbmRsZXMgPT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRoYW5kbGVzXHQ6XG5cdFx0XHRcdFwibixlLHMsdyxzZSxzdyxuZSxud1wiO1xuXG5cdFx0ZnVuY3Rpb24gZmlsdGVyZWRVaSggdWkgKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRvcmlnaW5hbFBvc2l0aW9uOiB1aS5vcmlnaW5hbFBvc2l0aW9uLFxuXHRcdFx0XHRvcmlnaW5hbFNpemU6IHVpLm9yaWdpbmFsU2l6ZSxcblx0XHRcdFx0cG9zaXRpb246IHVpLnBvc2l0aW9uLFxuXHRcdFx0XHRzaXplOiB1aS5zaXplXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHRoaXMudWlEaWFsb2cucmVzaXphYmxlKHtcblx0XHRcdGNhbmNlbDogXCIudWktZGlhbG9nLWNvbnRlbnRcIixcblx0XHRcdGNvbnRhaW5tZW50OiBcImRvY3VtZW50XCIsXG5cdFx0XHRhbHNvUmVzaXplOiB0aGlzLmVsZW1lbnQsXG5cdFx0XHRtYXhXaWR0aDogb3B0aW9ucy5tYXhXaWR0aCxcblx0XHRcdG1heEhlaWdodDogb3B0aW9ucy5tYXhIZWlnaHQsXG5cdFx0XHRtaW5XaWR0aDogb3B0aW9ucy5taW5XaWR0aCxcblx0XHRcdG1pbkhlaWdodDogdGhpcy5fbWluSGVpZ2h0KCksXG5cdFx0XHRoYW5kbGVzOiByZXNpemVIYW5kbGVzLFxuXHRcdFx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdCQoIHRoaXMgKS5hZGRDbGFzcyggXCJ1aS1kaWFsb2ctcmVzaXppbmdcIiApO1xuXHRcdFx0XHR0aGF0Ll9ibG9ja0ZyYW1lcygpO1xuXHRcdFx0XHR0aGF0Ll90cmlnZ2VyKCBcInJlc2l6ZVN0YXJ0XCIsIGV2ZW50LCBmaWx0ZXJlZFVpKCB1aSApICk7XG5cdFx0XHR9LFxuXHRcdFx0cmVzaXplOiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xuXHRcdFx0XHR0aGF0Ll90cmlnZ2VyKCBcInJlc2l6ZVwiLCBldmVudCwgZmlsdGVyZWRVaSggdWkgKSApO1xuXHRcdFx0fSxcblx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdHZhciBvZmZzZXQgPSB0aGF0LnVpRGlhbG9nLm9mZnNldCgpLFxuXHRcdFx0XHRcdGxlZnQgPSBvZmZzZXQubGVmdCAtIHRoYXQuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpLFxuXHRcdFx0XHRcdHRvcCA9IG9mZnNldC50b3AgLSB0aGF0LmRvY3VtZW50LnNjcm9sbFRvcCgpO1xuXG5cdFx0XHRcdG9wdGlvbnMuaGVpZ2h0ID0gdGhhdC51aURpYWxvZy5oZWlnaHQoKTtcblx0XHRcdFx0b3B0aW9ucy53aWR0aCA9IHRoYXQudWlEaWFsb2cud2lkdGgoKTtcblx0XHRcdFx0b3B0aW9ucy5wb3NpdGlvbiA9IHtcblx0XHRcdFx0XHRteTogXCJsZWZ0IHRvcFwiLFxuXHRcdFx0XHRcdGF0OiBcImxlZnRcIiArIChsZWZ0ID49IDAgPyBcIitcIiA6IFwiXCIpICsgbGVmdCArIFwiIFwiICtcblx0XHRcdFx0XHRcdFwidG9wXCIgKyAodG9wID49IDAgPyBcIitcIiA6IFwiXCIpICsgdG9wLFxuXHRcdFx0XHRcdG9mOiB0aGF0LndpbmRvd1xuXHRcdFx0XHR9O1xuXHRcdFx0XHQkKCB0aGlzICkucmVtb3ZlQ2xhc3MoIFwidWktZGlhbG9nLXJlc2l6aW5nXCIgKTtcblx0XHRcdFx0dGhhdC5fdW5ibG9ja0ZyYW1lcygpO1xuXHRcdFx0XHR0aGF0Ll90cmlnZ2VyKCBcInJlc2l6ZVN0b3BcIiwgZXZlbnQsIGZpbHRlcmVkVWkoIHVpICkgKTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdC5jc3MoIFwicG9zaXRpb25cIiwgcG9zaXRpb24gKTtcblx0fSxcblxuXHRfdHJhY2tGb2N1czogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fb24oIHRoaXMud2lkZ2V0KCksIHtcblx0XHRcdGZvY3VzaW46IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5fbWFrZUZvY3VzVGFyZ2V0KCk7XG5cdFx0XHRcdHRoaXMuX2ZvY3VzZWRFbGVtZW50ID0gJCggZXZlbnQudGFyZ2V0ICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0X21ha2VGb2N1c1RhcmdldDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fdW50cmFja0luc3RhbmNlKCk7XG5cdFx0dGhpcy5fdHJhY2tpbmdJbnN0YW5jZXMoKS51bnNoaWZ0KCB0aGlzICk7XG5cdH0sXG5cblx0X3VudHJhY2tJbnN0YW5jZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluc3RhbmNlcyA9IHRoaXMuX3RyYWNraW5nSW5zdGFuY2VzKCksXG5cdFx0XHRleGlzdHMgPSAkLmluQXJyYXkoIHRoaXMsIGluc3RhbmNlcyApO1xuXHRcdGlmICggZXhpc3RzICE9PSAtMSApIHtcblx0XHRcdGluc3RhbmNlcy5zcGxpY2UoIGV4aXN0cywgMSApO1xuXHRcdH1cblx0fSxcblxuXHRfdHJhY2tpbmdJbnN0YW5jZXM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnN0YW5jZXMgPSB0aGlzLmRvY3VtZW50LmRhdGEoIFwidWktZGlhbG9nLWluc3RhbmNlc1wiICk7XG5cdFx0aWYgKCAhaW5zdGFuY2VzICkge1xuXHRcdFx0aW5zdGFuY2VzID0gW107XG5cdFx0XHR0aGlzLmRvY3VtZW50LmRhdGEoIFwidWktZGlhbG9nLWluc3RhbmNlc1wiLCBpbnN0YW5jZXMgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGluc3RhbmNlcztcblx0fSxcblxuXHRfbWluSGVpZ2h0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdHJldHVybiBvcHRpb25zLmhlaWdodCA9PT0gXCJhdXRvXCIgP1xuXHRcdFx0b3B0aW9ucy5taW5IZWlnaHQgOlxuXHRcdFx0TWF0aC5taW4oIG9wdGlvbnMubWluSGVpZ2h0LCBvcHRpb25zLmhlaWdodCApO1xuXHR9LFxuXG5cdF9wb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gTmVlZCB0byBzaG93IHRoZSBkaWFsb2cgdG8gZ2V0IHRoZSBhY3R1YWwgb2Zmc2V0IGluIHRoZSBwb3NpdGlvbiBwbHVnaW5cblx0XHR2YXIgaXNWaXNpYmxlID0gdGhpcy51aURpYWxvZy5pcyggXCI6dmlzaWJsZVwiICk7XG5cdFx0aWYgKCAhaXNWaXNpYmxlICkge1xuXHRcdFx0dGhpcy51aURpYWxvZy5zaG93KCk7XG5cdFx0fVxuXHRcdHRoaXMudWlEaWFsb2cucG9zaXRpb24oIHRoaXMub3B0aW9ucy5wb3NpdGlvbiApO1xuXHRcdGlmICggIWlzVmlzaWJsZSApIHtcblx0XHRcdHRoaXMudWlEaWFsb2cuaGlkZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0T3B0aW9uczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0cmVzaXplID0gZmFsc2UsXG5cdFx0XHRyZXNpemFibGVPcHRpb25zID0ge307XG5cblx0XHQkLmVhY2goIG9wdGlvbnMsIGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdFx0dGhhdC5fc2V0T3B0aW9uKCBrZXksIHZhbHVlICk7XG5cblx0XHRcdGlmICgga2V5IGluIHRoYXQuc2l6ZVJlbGF0ZWRPcHRpb25zICkge1xuXHRcdFx0XHRyZXNpemUgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBrZXkgaW4gdGhhdC5yZXNpemFibGVSZWxhdGVkT3B0aW9ucyApIHtcblx0XHRcdFx0cmVzaXphYmxlT3B0aW9uc1sga2V5IF0gPSB2YWx1ZTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGlmICggcmVzaXplICkge1xuXHRcdFx0dGhpcy5fc2l6ZSgpO1xuXHRcdFx0dGhpcy5fcG9zaXRpb24oKTtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLnVpRGlhbG9nLmlzKCBcIjpkYXRhKHVpLXJlc2l6YWJsZSlcIiApICkge1xuXHRcdFx0dGhpcy51aURpYWxvZy5yZXNpemFibGUoIFwib3B0aW9uXCIsIHJlc2l6YWJsZU9wdGlvbnMgKTtcblx0XHR9XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIGlzRHJhZ2dhYmxlLCBpc1Jlc2l6YWJsZSxcblx0XHRcdHVpRGlhbG9nID0gdGhpcy51aURpYWxvZztcblxuXHRcdGlmICgga2V5ID09PSBcImRpYWxvZ0NsYXNzXCIgKSB7XG5cdFx0XHR1aURpYWxvZ1xuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIHRoaXMub3B0aW9ucy5kaWFsb2dDbGFzcyApXG5cdFx0XHRcdC5hZGRDbGFzcyggdmFsdWUgKTtcblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJkaXNhYmxlZFwiICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cblx0XHRpZiAoIGtleSA9PT0gXCJhcHBlbmRUb1wiICkge1xuXHRcdFx0dGhpcy51aURpYWxvZy5hcHBlbmRUbyggdGhpcy5fYXBwZW5kVG8oKSApO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ID09PSBcImJ1dHRvbnNcIiApIHtcblx0XHRcdHRoaXMuX2NyZWF0ZUJ1dHRvbnMoKTtcblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJjbG9zZVRleHRcIiApIHtcblx0XHRcdHRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmJ1dHRvbih7XG5cdFx0XHRcdC8vIEVuc3VyZSB0aGF0IHdlIGFsd2F5cyBwYXNzIGEgc3RyaW5nXG5cdFx0XHRcdGxhYmVsOiBcIlwiICsgdmFsdWVcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ID09PSBcImRyYWdnYWJsZVwiICkge1xuXHRcdFx0aXNEcmFnZ2FibGUgPSB1aURpYWxvZy5pcyggXCI6ZGF0YSh1aS1kcmFnZ2FibGUpXCIgKTtcblx0XHRcdGlmICggaXNEcmFnZ2FibGUgJiYgIXZhbHVlICkge1xuXHRcdFx0XHR1aURpYWxvZy5kcmFnZ2FibGUoIFwiZGVzdHJveVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggIWlzRHJhZ2dhYmxlICYmIHZhbHVlICkge1xuXHRcdFx0XHR0aGlzLl9tYWtlRHJhZ2dhYmxlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwicG9zaXRpb25cIiApIHtcblx0XHRcdHRoaXMuX3Bvc2l0aW9uKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwicmVzaXphYmxlXCIgKSB7XG5cdFx0XHQvLyBjdXJyZW50bHkgcmVzaXphYmxlLCBiZWNvbWluZyBub24tcmVzaXphYmxlXG5cdFx0XHRpc1Jlc2l6YWJsZSA9IHVpRGlhbG9nLmlzKCBcIjpkYXRhKHVpLXJlc2l6YWJsZSlcIiApO1xuXHRcdFx0aWYgKCBpc1Jlc2l6YWJsZSAmJiAhdmFsdWUgKSB7XG5cdFx0XHRcdHVpRGlhbG9nLnJlc2l6YWJsZSggXCJkZXN0cm95XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gY3VycmVudGx5IHJlc2l6YWJsZSwgY2hhbmdpbmcgaGFuZGxlc1xuXHRcdFx0aWYgKCBpc1Jlc2l6YWJsZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHVpRGlhbG9nLnJlc2l6YWJsZSggXCJvcHRpb25cIiwgXCJoYW5kbGVzXCIsIHZhbHVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGN1cnJlbnRseSBub24tcmVzaXphYmxlLCBiZWNvbWluZyByZXNpemFibGVcblx0XHRcdGlmICggIWlzUmVzaXphYmxlICYmIHZhbHVlICE9PSBmYWxzZSApIHtcblx0XHRcdFx0dGhpcy5fbWFrZVJlc2l6YWJsZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICgga2V5ID09PSBcInRpdGxlXCIgKSB7XG5cdFx0XHR0aGlzLl90aXRsZSggdGhpcy51aURpYWxvZ1RpdGxlYmFyLmZpbmQoIFwiLnVpLWRpYWxvZy10aXRsZVwiICkgKTtcblx0XHR9XG5cdH0sXG5cblx0X3NpemU6IGZ1bmN0aW9uKCkge1xuXHRcdC8vIElmIHRoZSB1c2VyIGhhcyByZXNpemVkIHRoZSBkaWFsb2csIHRoZSAudWktZGlhbG9nIGFuZCAudWktZGlhbG9nLWNvbnRlbnRcblx0XHQvLyBkaXZzIHdpbGwgYm90aCBoYXZlIHdpZHRoIGFuZCBoZWlnaHQgc2V0LCBzbyB3ZSBuZWVkIHRvIHJlc2V0IHRoZW1cblx0XHR2YXIgbm9uQ29udGVudEhlaWdodCwgbWluQ29udGVudEhlaWdodCwgbWF4Q29udGVudEhlaWdodCxcblx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHQvLyBSZXNldCBjb250ZW50IHNpemluZ1xuXHRcdHRoaXMuZWxlbWVudC5zaG93KCkuY3NzKHtcblx0XHRcdHdpZHRoOiBcImF1dG9cIixcblx0XHRcdG1pbkhlaWdodDogMCxcblx0XHRcdG1heEhlaWdodDogXCJub25lXCIsXG5cdFx0XHRoZWlnaHQ6IDBcblx0XHR9KTtcblxuXHRcdGlmICggb3B0aW9ucy5taW5XaWR0aCA+IG9wdGlvbnMud2lkdGggKSB7XG5cdFx0XHRvcHRpb25zLndpZHRoID0gb3B0aW9ucy5taW5XaWR0aDtcblx0XHR9XG5cblx0XHQvLyByZXNldCB3cmFwcGVyIHNpemluZ1xuXHRcdC8vIGRldGVybWluZSB0aGUgaGVpZ2h0IG9mIGFsbCB0aGUgbm9uLWNvbnRlbnQgZWxlbWVudHNcblx0XHRub25Db250ZW50SGVpZ2h0ID0gdGhpcy51aURpYWxvZy5jc3Moe1xuXHRcdFx0XHRoZWlnaHQ6IFwiYXV0b1wiLFxuXHRcdFx0XHR3aWR0aDogb3B0aW9ucy53aWR0aFxuXHRcdFx0fSlcblx0XHRcdC5vdXRlckhlaWdodCgpO1xuXHRcdG1pbkNvbnRlbnRIZWlnaHQgPSBNYXRoLm1heCggMCwgb3B0aW9ucy5taW5IZWlnaHQgLSBub25Db250ZW50SGVpZ2h0ICk7XG5cdFx0bWF4Q29udGVudEhlaWdodCA9IHR5cGVvZiBvcHRpb25zLm1heEhlaWdodCA9PT0gXCJudW1iZXJcIiA/XG5cdFx0XHRNYXRoLm1heCggMCwgb3B0aW9ucy5tYXhIZWlnaHQgLSBub25Db250ZW50SGVpZ2h0ICkgOlxuXHRcdFx0XCJub25lXCI7XG5cblx0XHRpZiAoIG9wdGlvbnMuaGVpZ2h0ID09PSBcImF1dG9cIiApIHtcblx0XHRcdHRoaXMuZWxlbWVudC5jc3Moe1xuXHRcdFx0XHRtaW5IZWlnaHQ6IG1pbkNvbnRlbnRIZWlnaHQsXG5cdFx0XHRcdG1heEhlaWdodDogbWF4Q29udGVudEhlaWdodCxcblx0XHRcdFx0aGVpZ2h0OiBcImF1dG9cIlxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuZWxlbWVudC5oZWlnaHQoIE1hdGgubWF4KCAwLCBvcHRpb25zLmhlaWdodCAtIG5vbkNvbnRlbnRIZWlnaHQgKSApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy51aURpYWxvZy5pcyggXCI6ZGF0YSh1aS1yZXNpemFibGUpXCIgKSApIHtcblx0XHRcdHRoaXMudWlEaWFsb2cucmVzaXphYmxlKCBcIm9wdGlvblwiLCBcIm1pbkhlaWdodFwiLCB0aGlzLl9taW5IZWlnaHQoKSApO1xuXHRcdH1cblx0fSxcblxuXHRfYmxvY2tGcmFtZXM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaWZyYW1lQmxvY2tzID0gdGhpcy5kb2N1bWVudC5maW5kKCBcImlmcmFtZVwiICkubWFwKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGlmcmFtZSA9ICQoIHRoaXMgKTtcblxuXHRcdFx0cmV0dXJuICQoIFwiPGRpdj5cIiApXG5cdFx0XHRcdC5jc3Moe1xuXHRcdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0d2lkdGg6IGlmcmFtZS5vdXRlcldpZHRoKCksXG5cdFx0XHRcdFx0aGVpZ2h0OiBpZnJhbWUub3V0ZXJIZWlnaHQoKVxuXHRcdFx0XHR9KVxuXHRcdFx0XHQuYXBwZW5kVG8oIGlmcmFtZS5wYXJlbnQoKSApXG5cdFx0XHRcdC5vZmZzZXQoIGlmcmFtZS5vZmZzZXQoKSApWzBdO1xuXHRcdH0pO1xuXHR9LFxuXG5cdF91bmJsb2NrRnJhbWVzOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMuaWZyYW1lQmxvY2tzICkge1xuXHRcdFx0dGhpcy5pZnJhbWVCbG9ja3MucmVtb3ZlKCk7XG5cdFx0XHRkZWxldGUgdGhpcy5pZnJhbWVCbG9ja3M7XG5cdFx0fVxuXHR9LFxuXG5cdF9hbGxvd0ludGVyYWN0aW9uOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0aWYgKCAkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCBcIi51aS1kaWFsb2dcIiApLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIFRPRE86IFJlbW92ZSBoYWNrIHdoZW4gZGF0ZXBpY2tlciBpbXBsZW1lbnRzXG5cdFx0Ly8gdGhlIC51aS1mcm9udCBsb2dpYyAoIzg5ODkpXG5cdFx0cmV0dXJuICEhJCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggXCIudWktZGF0ZXBpY2tlclwiICkubGVuZ3RoO1xuXHR9LFxuXG5cdF9jcmVhdGVPdmVybGF5OiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aGlzLm9wdGlvbnMubW9kYWwgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gV2UgdXNlIGEgZGVsYXkgaW4gY2FzZSB0aGUgb3ZlcmxheSBpcyBjcmVhdGVkIGZyb20gYW5cblx0XHQvLyBldmVudCB0aGF0IHdlJ3JlIGdvaW5nIHRvIGJlIGNhbmNlbGxpbmcgKCMyODA0KVxuXHRcdHZhciBpc09wZW5pbmcgPSB0cnVlO1xuXHRcdHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0aXNPcGVuaW5nID0gZmFsc2U7XG5cdFx0fSk7XG5cblx0XHRpZiAoICF0aGlzLmRvY3VtZW50LmRhdGEoIFwidWktZGlhbG9nLW92ZXJsYXlzXCIgKSApIHtcblxuXHRcdFx0Ly8gUHJldmVudCB1c2Ugb2YgYW5jaG9ycyBhbmQgaW5wdXRzXG5cdFx0XHQvLyBVc2luZyBfb24oKSBmb3IgYW4gZXZlbnQgaGFuZGxlciBzaGFyZWQgYWNyb3NzIG1hbnkgaW5zdGFuY2VzIGlzXG5cdFx0XHQvLyBzYWZlIGJlY2F1c2UgdGhlIGRpYWxvZ3Mgc3RhY2sgYW5kIG11c3QgYmUgY2xvc2VkIGluIHJldmVyc2Ugb3JkZXJcblx0XHRcdHRoaXMuX29uKCB0aGlzLmRvY3VtZW50LCB7XG5cdFx0XHRcdGZvY3VzaW46IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRpZiAoIGlzT3BlbmluZyApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICF0aGlzLl9hbGxvd0ludGVyYWN0aW9uKCBldmVudCApICkge1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdHRoaXMuX3RyYWNraW5nSW5zdGFuY2VzKClbIDAgXS5fZm9jdXNUYWJiYWJsZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5vdmVybGF5ID0gJCggXCI8ZGl2PlwiIClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS13aWRnZXQtb3ZlcmxheSB1aS1mcm9udFwiIClcblx0XHRcdC5hcHBlbmRUbyggdGhpcy5fYXBwZW5kVG8oKSApO1xuXHRcdHRoaXMuX29uKCB0aGlzLm92ZXJsYXksIHtcblx0XHRcdG1vdXNlZG93bjogXCJfa2VlcEZvY3VzXCJcblx0XHR9KTtcblx0XHR0aGlzLmRvY3VtZW50LmRhdGEoIFwidWktZGlhbG9nLW92ZXJsYXlzXCIsXG5cdFx0XHQodGhpcy5kb2N1bWVudC5kYXRhKCBcInVpLWRpYWxvZy1vdmVybGF5c1wiICkgfHwgMCkgKyAxICk7XG5cdH0sXG5cblx0X2Rlc3Ryb3lPdmVybGF5OiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aGlzLm9wdGlvbnMubW9kYWwgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLm92ZXJsYXkgKSB7XG5cdFx0XHR2YXIgb3ZlcmxheXMgPSB0aGlzLmRvY3VtZW50LmRhdGEoIFwidWktZGlhbG9nLW92ZXJsYXlzXCIgKSAtIDE7XG5cblx0XHRcdGlmICggIW92ZXJsYXlzICkge1xuXHRcdFx0XHR0aGlzLmRvY3VtZW50XG5cdFx0XHRcdFx0LnVuYmluZCggXCJmb2N1c2luXCIgKVxuXHRcdFx0XHRcdC5yZW1vdmVEYXRhKCBcInVpLWRpYWxvZy1vdmVybGF5c1wiICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmRvY3VtZW50LmRhdGEoIFwidWktZGlhbG9nLW92ZXJsYXlzXCIsIG92ZXJsYXlzICk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMub3ZlcmxheS5yZW1vdmUoKTtcblx0XHRcdHRoaXMub3ZlcmxheSA9IG51bGw7XG5cdFx0fVxuXHR9XG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBEcm9wcGFibGUgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9kcm9wcGFibGUvXG4gKi9cblxuXG4kLndpZGdldCggXCJ1aS5kcm9wcGFibGVcIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTEuNFwiLFxuXHR3aWRnZXRFdmVudFByZWZpeDogXCJkcm9wXCIsXG5cdG9wdGlvbnM6IHtcblx0XHRhY2NlcHQ6IFwiKlwiLFxuXHRcdGFjdGl2ZUNsYXNzOiBmYWxzZSxcblx0XHRhZGRDbGFzc2VzOiB0cnVlLFxuXHRcdGdyZWVkeTogZmFsc2UsXG5cdFx0aG92ZXJDbGFzczogZmFsc2UsXG5cdFx0c2NvcGU6IFwiZGVmYXVsdFwiLFxuXHRcdHRvbGVyYW5jZTogXCJpbnRlcnNlY3RcIixcblxuXHRcdC8vIGNhbGxiYWNrc1xuXHRcdGFjdGl2YXRlOiBudWxsLFxuXHRcdGRlYWN0aXZhdGU6IG51bGwsXG5cdFx0ZHJvcDogbnVsbCxcblx0XHRvdXQ6IG51bGwsXG5cdFx0b3ZlcjogbnVsbFxuXHR9LFxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBwcm9wb3J0aW9ucyxcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRhY2NlcHQgPSBvLmFjY2VwdDtcblxuXHRcdHRoaXMuaXNvdmVyID0gZmFsc2U7XG5cdFx0dGhpcy5pc291dCA9IHRydWU7XG5cblx0XHR0aGlzLmFjY2VwdCA9ICQuaXNGdW5jdGlvbiggYWNjZXB0ICkgPyBhY2NlcHQgOiBmdW5jdGlvbiggZCApIHtcblx0XHRcdHJldHVybiBkLmlzKCBhY2NlcHQgKTtcblx0XHR9O1xuXG5cdFx0dGhpcy5wcm9wb3J0aW9ucyA9IGZ1bmN0aW9uKCAvKiB2YWx1ZVRvV3JpdGUgKi8gKSB7XG5cdFx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdC8vIFN0b3JlIHRoZSBkcm9wcGFibGUncyBwcm9wb3J0aW9uc1xuXHRcdFx0XHRwcm9wb3J0aW9ucyA9IGFyZ3VtZW50c1sgMCBdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gUmV0cmlldmUgb3IgZGVyaXZlIHRoZSBkcm9wcGFibGUncyBwcm9wb3J0aW9uc1xuXHRcdFx0XHRyZXR1cm4gcHJvcG9ydGlvbnMgP1xuXHRcdFx0XHRcdHByb3BvcnRpb25zIDpcblx0XHRcdFx0XHRwcm9wb3J0aW9ucyA9IHtcblx0XHRcdFx0XHRcdHdpZHRoOiB0aGlzLmVsZW1lbnRbIDAgXS5vZmZzZXRXaWR0aCxcblx0XHRcdFx0XHRcdGhlaWdodDogdGhpcy5lbGVtZW50WyAwIF0ub2Zmc2V0SGVpZ2h0XG5cdFx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0dGhpcy5fYWRkVG9NYW5hZ2VyKCBvLnNjb3BlICk7XG5cblx0XHRvLmFkZENsYXNzZXMgJiYgdGhpcy5lbGVtZW50LmFkZENsYXNzKCBcInVpLWRyb3BwYWJsZVwiICk7XG5cblx0fSxcblxuXHRfYWRkVG9NYW5hZ2VyOiBmdW5jdGlvbiggc2NvcGUgKSB7XG5cdFx0Ly8gQWRkIHRoZSByZWZlcmVuY2UgYW5kIHBvc2l0aW9ucyB0byB0aGUgbWFuYWdlclxuXHRcdCQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbIHNjb3BlIF0gPSAkLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzWyBzY29wZSBdIHx8IFtdO1xuXHRcdCQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbIHNjb3BlIF0ucHVzaCggdGhpcyApO1xuXHR9LFxuXG5cdF9zcGxpY2U6IGZ1bmN0aW9uKCBkcm9wICkge1xuXHRcdHZhciBpID0gMDtcblx0XHRmb3IgKCA7IGkgPCBkcm9wLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0aWYgKCBkcm9wWyBpIF0gPT09IHRoaXMgKSB7XG5cdFx0XHRcdGRyb3Auc3BsaWNlKCBpLCAxICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZHJvcCA9ICQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbIHRoaXMub3B0aW9ucy5zY29wZSBdO1xuXG5cdFx0dGhpcy5fc3BsaWNlKCBkcm9wICk7XG5cblx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoIFwidWktZHJvcHBhYmxlIHVpLWRyb3BwYWJsZS1kaXNhYmxlZFwiICk7XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cblx0XHRpZiAoIGtleSA9PT0gXCJhY2NlcHRcIiApIHtcblx0XHRcdHRoaXMuYWNjZXB0ID0gJC5pc0Z1bmN0aW9uKCB2YWx1ZSApID8gdmFsdWUgOiBmdW5jdGlvbiggZCApIHtcblx0XHRcdFx0cmV0dXJuIGQuaXMoIHZhbHVlICk7XG5cdFx0XHR9O1xuXHRcdH0gZWxzZSBpZiAoIGtleSA9PT0gXCJzY29wZVwiICkge1xuXHRcdFx0dmFyIGRyb3AgPSAkLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzWyB0aGlzLm9wdGlvbnMuc2NvcGUgXTtcblxuXHRcdFx0dGhpcy5fc3BsaWNlKCBkcm9wICk7XG5cdFx0XHR0aGlzLl9hZGRUb01hbmFnZXIoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblx0fSxcblxuXHRfYWN0aXZhdGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgZHJhZ2dhYmxlID0gJC51aS5kZG1hbmFnZXIuY3VycmVudDtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyApIHtcblx0XHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyggdGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzICk7XG5cdFx0fVxuXHRcdGlmICggZHJhZ2dhYmxlICl7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImFjdGl2YXRlXCIsIGV2ZW50LCB0aGlzLnVpKCBkcmFnZ2FibGUgKSApO1xuXHRcdH1cblx0fSxcblxuXHRfZGVhY3RpdmF0ZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBkcmFnZ2FibGUgPSAkLnVpLmRkbWFuYWdlci5jdXJyZW50O1xuXHRcdGlmICggdGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzICkge1xuXHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCB0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MgKTtcblx0XHR9XG5cdFx0aWYgKCBkcmFnZ2FibGUgKXtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiZGVhY3RpdmF0ZVwiLCBldmVudCwgdGhpcy51aSggZHJhZ2dhYmxlICkgKTtcblx0XHR9XG5cdH0sXG5cblx0X292ZXI6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdHZhciBkcmFnZ2FibGUgPSAkLnVpLmRkbWFuYWdlci5jdXJyZW50O1xuXG5cdFx0Ly8gQmFpbCBpZiBkcmFnZ2FibGUgYW5kIGRyb3BwYWJsZSBhcmUgc2FtZSBlbGVtZW50XG5cdFx0aWYgKCAhZHJhZ2dhYmxlIHx8ICggZHJhZ2dhYmxlLmN1cnJlbnRJdGVtIHx8IGRyYWdnYWJsZS5lbGVtZW50IClbIDAgXSA9PT0gdGhpcy5lbGVtZW50WyAwIF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmFjY2VwdC5jYWxsKCB0aGlzLmVsZW1lbnRbIDAgXSwgKCBkcmFnZ2FibGUuY3VycmVudEl0ZW0gfHwgZHJhZ2dhYmxlLmVsZW1lbnQgKSApICkge1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyApIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50LmFkZENsYXNzKCB0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyApO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJvdmVyXCIsIGV2ZW50LCB0aGlzLnVpKCBkcmFnZ2FibGUgKSApO1xuXHRcdH1cblxuXHR9LFxuXG5cdF9vdXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdHZhciBkcmFnZ2FibGUgPSAkLnVpLmRkbWFuYWdlci5jdXJyZW50O1xuXG5cdFx0Ly8gQmFpbCBpZiBkcmFnZ2FibGUgYW5kIGRyb3BwYWJsZSBhcmUgc2FtZSBlbGVtZW50XG5cdFx0aWYgKCAhZHJhZ2dhYmxlIHx8ICggZHJhZ2dhYmxlLmN1cnJlbnRJdGVtIHx8IGRyYWdnYWJsZS5lbGVtZW50IClbIDAgXSA9PT0gdGhpcy5lbGVtZW50WyAwIF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmFjY2VwdC5jYWxsKCB0aGlzLmVsZW1lbnRbIDAgXSwgKCBkcmFnZ2FibGUuY3VycmVudEl0ZW0gfHwgZHJhZ2dhYmxlLmVsZW1lbnQgKSApICkge1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyApIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCB0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyApO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJvdXRcIiwgZXZlbnQsIHRoaXMudWkoIGRyYWdnYWJsZSApICk7XG5cdFx0fVxuXG5cdH0sXG5cblx0X2Ryb3A6IGZ1bmN0aW9uKCBldmVudCwgY3VzdG9tICkge1xuXG5cdFx0dmFyIGRyYWdnYWJsZSA9IGN1c3RvbSB8fCAkLnVpLmRkbWFuYWdlci5jdXJyZW50LFxuXHRcdFx0Y2hpbGRyZW5JbnRlcnNlY3Rpb24gPSBmYWxzZTtcblxuXHRcdC8vIEJhaWwgaWYgZHJhZ2dhYmxlIGFuZCBkcm9wcGFibGUgYXJlIHNhbWUgZWxlbWVudFxuXHRcdGlmICggIWRyYWdnYWJsZSB8fCAoIGRyYWdnYWJsZS5jdXJyZW50SXRlbSB8fCBkcmFnZ2FibGUuZWxlbWVudCApWyAwIF0gPT09IHRoaXMuZWxlbWVudFsgMCBdICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHRoaXMuZWxlbWVudC5maW5kKCBcIjpkYXRhKHVpLWRyb3BwYWJsZSlcIiApLm5vdCggXCIudWktZHJhZ2dhYmxlLWRyYWdnaW5nXCIgKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGluc3QgPSAkKCB0aGlzICkuZHJvcHBhYmxlKCBcImluc3RhbmNlXCIgKTtcblx0XHRcdGlmIChcblx0XHRcdFx0aW5zdC5vcHRpb25zLmdyZWVkeSAmJlxuXHRcdFx0XHQhaW5zdC5vcHRpb25zLmRpc2FibGVkICYmXG5cdFx0XHRcdGluc3Qub3B0aW9ucy5zY29wZSA9PT0gZHJhZ2dhYmxlLm9wdGlvbnMuc2NvcGUgJiZcblx0XHRcdFx0aW5zdC5hY2NlcHQuY2FsbCggaW5zdC5lbGVtZW50WyAwIF0sICggZHJhZ2dhYmxlLmN1cnJlbnRJdGVtIHx8IGRyYWdnYWJsZS5lbGVtZW50ICkgKSAmJlxuXHRcdFx0XHQkLnVpLmludGVyc2VjdCggZHJhZ2dhYmxlLCAkLmV4dGVuZCggaW5zdCwgeyBvZmZzZXQ6IGluc3QuZWxlbWVudC5vZmZzZXQoKSB9ICksIGluc3Qub3B0aW9ucy50b2xlcmFuY2UsIGV2ZW50IClcblx0XHRcdCkgeyBjaGlsZHJlbkludGVyc2VjdGlvbiA9IHRydWU7IHJldHVybiBmYWxzZTsgfVxuXHRcdH0pO1xuXHRcdGlmICggY2hpbGRyZW5JbnRlcnNlY3Rpb24gKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmFjY2VwdC5jYWxsKCB0aGlzLmVsZW1lbnRbIDAgXSwgKCBkcmFnZ2FibGUuY3VycmVudEl0ZW0gfHwgZHJhZ2dhYmxlLmVsZW1lbnQgKSApICkge1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MgKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyggdGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzICkge1xuXHRcdFx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoIHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzICk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImRyb3BcIiwgZXZlbnQsIHRoaXMudWkoIGRyYWdnYWJsZSApICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5lbGVtZW50O1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblxuXHR9LFxuXG5cdHVpOiBmdW5jdGlvbiggYyApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZHJhZ2dhYmxlOiAoIGMuY3VycmVudEl0ZW0gfHwgYy5lbGVtZW50ICksXG5cdFx0XHRoZWxwZXI6IGMuaGVscGVyLFxuXHRcdFx0cG9zaXRpb246IGMucG9zaXRpb24sXG5cdFx0XHRvZmZzZXQ6IGMucG9zaXRpb25BYnNcblx0XHR9O1xuXHR9XG5cbn0pO1xuXG4kLnVpLmludGVyc2VjdCA9IChmdW5jdGlvbigpIHtcblx0ZnVuY3Rpb24gaXNPdmVyQXhpcyggeCwgcmVmZXJlbmNlLCBzaXplICkge1xuXHRcdHJldHVybiAoIHggPj0gcmVmZXJlbmNlICkgJiYgKCB4IDwgKCByZWZlcmVuY2UgKyBzaXplICkgKTtcblx0fVxuXG5cdHJldHVybiBmdW5jdGlvbiggZHJhZ2dhYmxlLCBkcm9wcGFibGUsIHRvbGVyYW5jZU1vZGUsIGV2ZW50ICkge1xuXG5cdFx0aWYgKCAhZHJvcHBhYmxlLm9mZnNldCApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR2YXIgeDEgPSAoIGRyYWdnYWJsZS5wb3NpdGlvbkFicyB8fCBkcmFnZ2FibGUucG9zaXRpb24uYWJzb2x1dGUgKS5sZWZ0ICsgZHJhZ2dhYmxlLm1hcmdpbnMubGVmdCxcblx0XHRcdHkxID0gKCBkcmFnZ2FibGUucG9zaXRpb25BYnMgfHwgZHJhZ2dhYmxlLnBvc2l0aW9uLmFic29sdXRlICkudG9wICsgZHJhZ2dhYmxlLm1hcmdpbnMudG9wLFxuXHRcdFx0eDIgPSB4MSArIGRyYWdnYWJsZS5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCxcblx0XHRcdHkyID0geTEgKyBkcmFnZ2FibGUuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LFxuXHRcdFx0bCA9IGRyb3BwYWJsZS5vZmZzZXQubGVmdCxcblx0XHRcdHQgPSBkcm9wcGFibGUub2Zmc2V0LnRvcCxcblx0XHRcdHIgPSBsICsgZHJvcHBhYmxlLnByb3BvcnRpb25zKCkud2lkdGgsXG5cdFx0XHRiID0gdCArIGRyb3BwYWJsZS5wcm9wb3J0aW9ucygpLmhlaWdodDtcblxuXHRcdHN3aXRjaCAoIHRvbGVyYW5jZU1vZGUgKSB7XG5cdFx0Y2FzZSBcImZpdFwiOlxuXHRcdFx0cmV0dXJuICggbCA8PSB4MSAmJiB4MiA8PSByICYmIHQgPD0geTEgJiYgeTIgPD0gYiApO1xuXHRcdGNhc2UgXCJpbnRlcnNlY3RcIjpcblx0XHRcdHJldHVybiAoIGwgPCB4MSArICggZHJhZ2dhYmxlLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC8gMiApICYmIC8vIFJpZ2h0IEhhbGZcblx0XHRcdFx0eDIgLSAoIGRyYWdnYWJsZS5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAvIDIgKSA8IHIgJiYgLy8gTGVmdCBIYWxmXG5cdFx0XHRcdHQgPCB5MSArICggZHJhZ2dhYmxlLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAvIDIgKSAmJiAvLyBCb3R0b20gSGFsZlxuXHRcdFx0XHR5MiAtICggZHJhZ2dhYmxlLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAvIDIgKSA8IGIgKTsgLy8gVG9wIEhhbGZcblx0XHRjYXNlIFwicG9pbnRlclwiOlxuXHRcdFx0cmV0dXJuIGlzT3ZlckF4aXMoIGV2ZW50LnBhZ2VZLCB0LCBkcm9wcGFibGUucHJvcG9ydGlvbnMoKS5oZWlnaHQgKSAmJiBpc092ZXJBeGlzKCBldmVudC5wYWdlWCwgbCwgZHJvcHBhYmxlLnByb3BvcnRpb25zKCkud2lkdGggKTtcblx0XHRjYXNlIFwidG91Y2hcIjpcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdCggeTEgPj0gdCAmJiB5MSA8PSBiICkgfHwgLy8gVG9wIGVkZ2UgdG91Y2hpbmdcblx0XHRcdFx0KCB5MiA+PSB0ICYmIHkyIDw9IGIgKSB8fCAvLyBCb3R0b20gZWRnZSB0b3VjaGluZ1xuXHRcdFx0XHQoIHkxIDwgdCAmJiB5MiA+IGIgKSAvLyBTdXJyb3VuZGVkIHZlcnRpY2FsbHlcblx0XHRcdCkgJiYgKFxuXHRcdFx0XHQoIHgxID49IGwgJiYgeDEgPD0gciApIHx8IC8vIExlZnQgZWRnZSB0b3VjaGluZ1xuXHRcdFx0XHQoIHgyID49IGwgJiYgeDIgPD0gciApIHx8IC8vIFJpZ2h0IGVkZ2UgdG91Y2hpbmdcblx0XHRcdFx0KCB4MSA8IGwgJiYgeDIgPiByICkgLy8gU3Vycm91bmRlZCBob3Jpem9udGFsbHlcblx0XHRcdCk7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH07XG59KSgpO1xuXG4vKlxuXHRUaGlzIG1hbmFnZXIgdHJhY2tzIG9mZnNldHMgb2YgZHJhZ2dhYmxlcyBhbmQgZHJvcHBhYmxlc1xuKi9cbiQudWkuZGRtYW5hZ2VyID0ge1xuXHRjdXJyZW50OiBudWxsLFxuXHRkcm9wcGFibGVzOiB7IFwiZGVmYXVsdFwiOiBbXSB9LFxuXHRwcmVwYXJlT2Zmc2V0czogZnVuY3Rpb24oIHQsIGV2ZW50ICkge1xuXG5cdFx0dmFyIGksIGosXG5cdFx0XHRtID0gJC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1sgdC5vcHRpb25zLnNjb3BlIF0gfHwgW10sXG5cdFx0XHR0eXBlID0gZXZlbnQgPyBldmVudC50eXBlIDogbnVsbCwgLy8gd29ya2Fyb3VuZCBmb3IgIzIzMTdcblx0XHRcdGxpc3QgPSAoIHQuY3VycmVudEl0ZW0gfHwgdC5lbGVtZW50ICkuZmluZCggXCI6ZGF0YSh1aS1kcm9wcGFibGUpXCIgKS5hZGRCYWNrKCk7XG5cblx0XHRkcm9wcGFibGVzTG9vcDogZm9yICggaSA9IDA7IGkgPCBtLmxlbmd0aDsgaSsrICkge1xuXG5cdFx0XHQvLyBObyBkaXNhYmxlZCBhbmQgbm9uLWFjY2VwdGVkXG5cdFx0XHRpZiAoIG1bIGkgXS5vcHRpb25zLmRpc2FibGVkIHx8ICggdCAmJiAhbVsgaSBdLmFjY2VwdC5jYWxsKCBtWyBpIF0uZWxlbWVudFsgMCBdLCAoIHQuY3VycmVudEl0ZW0gfHwgdC5lbGVtZW50ICkgKSApICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRmlsdGVyIG91dCBlbGVtZW50cyBpbiB0aGUgY3VycmVudCBkcmFnZ2VkIGl0ZW1cblx0XHRcdGZvciAoIGogPSAwOyBqIDwgbGlzdC5sZW5ndGg7IGorKyApIHtcblx0XHRcdFx0aWYgKCBsaXN0WyBqIF0gPT09IG1bIGkgXS5lbGVtZW50WyAwIF0gKSB7XG5cdFx0XHRcdFx0bVsgaSBdLnByb3BvcnRpb25zKCkuaGVpZ2h0ID0gMDtcblx0XHRcdFx0XHRjb250aW51ZSBkcm9wcGFibGVzTG9vcDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRtWyBpIF0udmlzaWJsZSA9IG1bIGkgXS5lbGVtZW50LmNzcyggXCJkaXNwbGF5XCIgKSAhPT0gXCJub25lXCI7XG5cdFx0XHRpZiAoICFtWyBpIF0udmlzaWJsZSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFjdGl2YXRlIHRoZSBkcm9wcGFibGUgaWYgdXNlZCBkaXJlY3RseSBmcm9tIGRyYWdnYWJsZXNcblx0XHRcdGlmICggdHlwZSA9PT0gXCJtb3VzZWRvd25cIiApIHtcblx0XHRcdFx0bVsgaSBdLl9hY3RpdmF0ZS5jYWxsKCBtWyBpIF0sIGV2ZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdG1bIGkgXS5vZmZzZXQgPSBtWyBpIF0uZWxlbWVudC5vZmZzZXQoKTtcblx0XHRcdG1bIGkgXS5wcm9wb3J0aW9ucyh7IHdpZHRoOiBtWyBpIF0uZWxlbWVudFsgMCBdLm9mZnNldFdpZHRoLCBoZWlnaHQ6IG1bIGkgXS5lbGVtZW50WyAwIF0ub2Zmc2V0SGVpZ2h0IH0pO1xuXG5cdFx0fVxuXG5cdH0sXG5cdGRyb3A6IGZ1bmN0aW9uKCBkcmFnZ2FibGUsIGV2ZW50ICkge1xuXG5cdFx0dmFyIGRyb3BwZWQgPSBmYWxzZTtcblx0XHQvLyBDcmVhdGUgYSBjb3B5IG9mIHRoZSBkcm9wcGFibGVzIGluIGNhc2UgdGhlIGxpc3QgY2hhbmdlcyBkdXJpbmcgdGhlIGRyb3AgKCM5MTE2KVxuXHRcdCQuZWFjaCggKCAkLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzWyBkcmFnZ2FibGUub3B0aW9ucy5zY29wZSBdIHx8IFtdICkuc2xpY2UoKSwgZnVuY3Rpb24oKSB7XG5cblx0XHRcdGlmICggIXRoaXMub3B0aW9ucyApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhdGhpcy5vcHRpb25zLmRpc2FibGVkICYmIHRoaXMudmlzaWJsZSAmJiAkLnVpLmludGVyc2VjdCggZHJhZ2dhYmxlLCB0aGlzLCB0aGlzLm9wdGlvbnMudG9sZXJhbmNlLCBldmVudCApICkge1xuXHRcdFx0XHRkcm9wcGVkID0gdGhpcy5fZHJvcC5jYWxsKCB0aGlzLCBldmVudCApIHx8IGRyb3BwZWQ7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggIXRoaXMub3B0aW9ucy5kaXNhYmxlZCAmJiB0aGlzLnZpc2libGUgJiYgdGhpcy5hY2NlcHQuY2FsbCggdGhpcy5lbGVtZW50WyAwIF0sICggZHJhZ2dhYmxlLmN1cnJlbnRJdGVtIHx8IGRyYWdnYWJsZS5lbGVtZW50ICkgKSApIHtcblx0XHRcdFx0dGhpcy5pc291dCA9IHRydWU7XG5cdFx0XHRcdHRoaXMuaXNvdmVyID0gZmFsc2U7XG5cdFx0XHRcdHRoaXMuX2RlYWN0aXZhdGUuY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHRcdH1cblxuXHRcdH0pO1xuXHRcdHJldHVybiBkcm9wcGVkO1xuXG5cdH0sXG5cdGRyYWdTdGFydDogZnVuY3Rpb24oIGRyYWdnYWJsZSwgZXZlbnQgKSB7XG5cdFx0Ly8gTGlzdGVuIGZvciBzY3JvbGxpbmcgc28gdGhhdCBpZiB0aGUgZHJhZ2dpbmcgY2F1c2VzIHNjcm9sbGluZyB0aGUgcG9zaXRpb24gb2YgdGhlIGRyb3BwYWJsZXMgY2FuIGJlIHJlY2FsY3VsYXRlZCAoc2VlICM1MDAzKVxuXHRcdGRyYWdnYWJsZS5lbGVtZW50LnBhcmVudHNVbnRpbCggXCJib2R5XCIgKS5iaW5kKCBcInNjcm9sbC5kcm9wcGFibGVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFkcmFnZ2FibGUub3B0aW9ucy5yZWZyZXNoUG9zaXRpb25zICkge1xuXHRcdFx0XHQkLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyggZHJhZ2dhYmxlLCBldmVudCApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXHRkcmFnOiBmdW5jdGlvbiggZHJhZ2dhYmxlLCBldmVudCApIHtcblxuXHRcdC8vIElmIHlvdSBoYXZlIGEgaGlnaGx5IGR5bmFtaWMgcGFnZSwgeW91IG1pZ2h0IHRyeSB0aGlzIG9wdGlvbi4gSXQgcmVuZGVycyBwb3NpdGlvbnMgZXZlcnkgdGltZSB5b3UgbW92ZSB0aGUgbW91c2UuXG5cdFx0aWYgKCBkcmFnZ2FibGUub3B0aW9ucy5yZWZyZXNoUG9zaXRpb25zICkge1xuXHRcdFx0JC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMoIGRyYWdnYWJsZSwgZXZlbnQgKTtcblx0XHR9XG5cblx0XHQvLyBSdW4gdGhyb3VnaCBhbGwgZHJvcHBhYmxlcyBhbmQgY2hlY2sgdGhlaXIgcG9zaXRpb25zIGJhc2VkIG9uIHNwZWNpZmljIHRvbGVyYW5jZSBvcHRpb25zXG5cdFx0JC5lYWNoKCAkLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzWyBkcmFnZ2FibGUub3B0aW9ucy5zY29wZSBdIHx8IFtdLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgfHwgdGhpcy5ncmVlZHlDaGlsZCB8fCAhdGhpcy52aXNpYmxlICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwYXJlbnRJbnN0YW5jZSwgc2NvcGUsIHBhcmVudCxcblx0XHRcdFx0aW50ZXJzZWN0cyA9ICQudWkuaW50ZXJzZWN0KCBkcmFnZ2FibGUsIHRoaXMsIHRoaXMub3B0aW9ucy50b2xlcmFuY2UsIGV2ZW50ICksXG5cdFx0XHRcdGMgPSAhaW50ZXJzZWN0cyAmJiB0aGlzLmlzb3ZlciA/IFwiaXNvdXRcIiA6ICggaW50ZXJzZWN0cyAmJiAhdGhpcy5pc292ZXIgPyBcImlzb3ZlclwiIDogbnVsbCApO1xuXHRcdFx0aWYgKCAhYyApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5ncmVlZHkgKSB7XG5cdFx0XHRcdC8vIGZpbmQgZHJvcHBhYmxlIHBhcmVudHMgd2l0aCBzYW1lIHNjb3BlXG5cdFx0XHRcdHNjb3BlID0gdGhpcy5vcHRpb25zLnNjb3BlO1xuXHRcdFx0XHRwYXJlbnQgPSB0aGlzLmVsZW1lbnQucGFyZW50cyggXCI6ZGF0YSh1aS1kcm9wcGFibGUpXCIgKS5maWx0ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuICQoIHRoaXMgKS5kcm9wcGFibGUoIFwiaW5zdGFuY2VcIiApLm9wdGlvbnMuc2NvcGUgPT09IHNjb3BlO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAoIHBhcmVudC5sZW5ndGggKSB7XG5cdFx0XHRcdFx0cGFyZW50SW5zdGFuY2UgPSAkKCBwYXJlbnRbIDAgXSApLmRyb3BwYWJsZSggXCJpbnN0YW5jZVwiICk7XG5cdFx0XHRcdFx0cGFyZW50SW5zdGFuY2UuZ3JlZWR5Q2hpbGQgPSAoIGMgPT09IFwiaXNvdmVyXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyB3ZSBqdXN0IG1vdmVkIGludG8gYSBncmVlZHkgY2hpbGRcblx0XHRcdGlmICggcGFyZW50SW5zdGFuY2UgJiYgYyA9PT0gXCJpc292ZXJcIiApIHtcblx0XHRcdFx0cGFyZW50SW5zdGFuY2UuaXNvdmVyID0gZmFsc2U7XG5cdFx0XHRcdHBhcmVudEluc3RhbmNlLmlzb3V0ID0gdHJ1ZTtcblx0XHRcdFx0cGFyZW50SW5zdGFuY2UuX291dC5jYWxsKCBwYXJlbnRJbnN0YW5jZSwgZXZlbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpc1sgYyBdID0gdHJ1ZTtcblx0XHRcdHRoaXNbYyA9PT0gXCJpc291dFwiID8gXCJpc292ZXJcIiA6IFwiaXNvdXRcIl0gPSBmYWxzZTtcblx0XHRcdHRoaXNbYyA9PT0gXCJpc292ZXJcIiA/IFwiX292ZXJcIiA6IFwiX291dFwiXS5jYWxsKCB0aGlzLCBldmVudCApO1xuXG5cdFx0XHQvLyB3ZSBqdXN0IG1vdmVkIG91dCBvZiBhIGdyZWVkeSBjaGlsZFxuXHRcdFx0aWYgKCBwYXJlbnRJbnN0YW5jZSAmJiBjID09PSBcImlzb3V0XCIgKSB7XG5cdFx0XHRcdHBhcmVudEluc3RhbmNlLmlzb3V0ID0gZmFsc2U7XG5cdFx0XHRcdHBhcmVudEluc3RhbmNlLmlzb3ZlciA9IHRydWU7XG5cdFx0XHRcdHBhcmVudEluc3RhbmNlLl9vdmVyLmNhbGwoIHBhcmVudEluc3RhbmNlLCBldmVudCApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdH0sXG5cdGRyYWdTdG9wOiBmdW5jdGlvbiggZHJhZ2dhYmxlLCBldmVudCApIHtcblx0XHRkcmFnZ2FibGUuZWxlbWVudC5wYXJlbnRzVW50aWwoIFwiYm9keVwiICkudW5iaW5kKCBcInNjcm9sbC5kcm9wcGFibGVcIiApO1xuXHRcdC8vIENhbGwgcHJlcGFyZU9mZnNldHMgb25lIGZpbmFsIHRpbWUgc2luY2UgSUUgZG9lcyBub3QgZmlyZSByZXR1cm4gc2Nyb2xsIGV2ZW50cyB3aGVuIG92ZXJmbG93IHdhcyBjYXVzZWQgYnkgZHJhZyAoc2VlICM1MDAzKVxuXHRcdGlmICggIWRyYWdnYWJsZS5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMgKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyggZHJhZ2dhYmxlLCBldmVudCApO1xuXHRcdH1cblx0fVxufTtcblxudmFyIGRyb3BwYWJsZSA9ICQudWkuZHJvcHBhYmxlO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9jYXRlZ29yeS9lZmZlY3RzLWNvcmUvXG4gKi9cblxuXG52YXIgZGF0YVNwYWNlID0gXCJ1aS1lZmZlY3RzLVwiLFxuXG5cdC8vIENyZWF0ZSBhIGxvY2FsIGpRdWVyeSBiZWNhdXNlIGpRdWVyeSBDb2xvciByZWxpZXMgb24gaXQgYW5kIHRoZVxuXHQvLyBnbG9iYWwgbWF5IG5vdCBleGlzdCB3aXRoIEFNRCBhbmQgYSBjdXN0b20gYnVpbGQgKCMxMDE5OSlcblx0alF1ZXJ5ID0gJDtcblxuJC5lZmZlY3RzID0ge1xuXHRlZmZlY3Q6IHt9XG59O1xuXG4vKiFcbiAqIGpRdWVyeSBDb2xvciBBbmltYXRpb25zIHYyLjEuMlxuICogaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnktY29sb3JcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogRGF0ZTogV2VkIEphbiAxNiAwODo0NzowOSAyMDEzIC0wNjAwXG4gKi9cbihmdW5jdGlvbiggalF1ZXJ5LCB1bmRlZmluZWQgKSB7XG5cblx0dmFyIHN0ZXBIb29rcyA9IFwiYmFja2dyb3VuZENvbG9yIGJvcmRlckJvdHRvbUNvbG9yIGJvcmRlckxlZnRDb2xvciBib3JkZXJSaWdodENvbG9yIGJvcmRlclRvcENvbG9yIGNvbG9yIGNvbHVtblJ1bGVDb2xvciBvdXRsaW5lQ29sb3IgdGV4dERlY29yYXRpb25Db2xvciB0ZXh0RW1waGFzaXNDb2xvclwiLFxuXG5cdC8vIHBsdXNlcXVhbHMgdGVzdCBmb3IgKz0gMTAwIC09IDEwMFxuXHRycGx1c2VxdWFscyA9IC9eKFtcXC0rXSk9XFxzKihcXGQrXFwuP1xcZCopLyxcblx0Ly8gYSBzZXQgb2YgUkUncyB0aGF0IGNhbiBtYXRjaCBzdHJpbmdzIGFuZCBnZW5lcmF0ZSBjb2xvciB0dXBsZXMuXG5cdHN0cmluZ1BhcnNlcnMgPSBbIHtcblx0XHRcdHJlOiAvcmdiYT9cXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKig/OixcXHMqKFxcZD8oPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxcblx0XHRcdHBhcnNlOiBmdW5jdGlvbiggZXhlY1Jlc3VsdCApIHtcblx0XHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAxIF0sXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMiBdLFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDMgXSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyA0IF1cblx0XHRcdFx0XTtcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRyZTogL3JnYmE/XFwoXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyooPzosXFxzKihcXGQ/KD86XFwuXFxkKyk/KVxccyopP1xcKS8sXG5cdFx0XHRwYXJzZTogZnVuY3Rpb24oIGV4ZWNSZXN1bHQgKSB7XG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMSBdICogMi41NSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAyIF0gKiAyLjU1LFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDMgXSAqIDIuNTUsXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgNCBdXG5cdFx0XHRcdF07XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0Ly8gdGhpcyByZWdleCBpZ25vcmVzIEEtRiBiZWNhdXNlIGl0J3MgY29tcGFyZWQgYWdhaW5zdCBhbiBhbHJlYWR5IGxvd2VyY2FzZWQgc3RyaW5nXG5cdFx0XHRyZTogLyMoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkvLFxuXHRcdFx0cGFyc2U6IGZ1bmN0aW9uKCBleGVjUmVzdWx0ICkge1xuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdHBhcnNlSW50KCBleGVjUmVzdWx0WyAxIF0sIDE2ICksXG5cdFx0XHRcdFx0cGFyc2VJbnQoIGV4ZWNSZXN1bHRbIDIgXSwgMTYgKSxcblx0XHRcdFx0XHRwYXJzZUludCggZXhlY1Jlc3VsdFsgMyBdLCAxNiApXG5cdFx0XHRcdF07XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0Ly8gdGhpcyByZWdleCBpZ25vcmVzIEEtRiBiZWNhdXNlIGl0J3MgY29tcGFyZWQgYWdhaW5zdCBhbiBhbHJlYWR5IGxvd2VyY2FzZWQgc3RyaW5nXG5cdFx0XHRyZTogLyMoW2EtZjAtOV0pKFthLWYwLTldKShbYS1mMC05XSkvLFxuXHRcdFx0cGFyc2U6IGZ1bmN0aW9uKCBleGVjUmVzdWx0ICkge1xuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdHBhcnNlSW50KCBleGVjUmVzdWx0WyAxIF0gKyBleGVjUmVzdWx0WyAxIF0sIDE2ICksXG5cdFx0XHRcdFx0cGFyc2VJbnQoIGV4ZWNSZXN1bHRbIDIgXSArIGV4ZWNSZXN1bHRbIDIgXSwgMTYgKSxcblx0XHRcdFx0XHRwYXJzZUludCggZXhlY1Jlc3VsdFsgMyBdICsgZXhlY1Jlc3VsdFsgMyBdLCAxNiApXG5cdFx0XHRcdF07XG5cdFx0XHR9XG5cdFx0fSwge1xuXHRcdFx0cmU6IC9oc2xhP1xcKFxccyooXFxkKyg/OlxcLlxcZCspPylcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqKD86LFxccyooXFxkPyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLFxuXHRcdFx0c3BhY2U6IFwiaHNsYVwiLFxuXHRcdFx0cGFyc2U6IGZ1bmN0aW9uKCBleGVjUmVzdWx0ICkge1xuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDEgXSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAyIF0gLyAxMDAsXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMyBdIC8gMTAwLFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDQgXVxuXHRcdFx0XHRdO1xuXHRcdFx0fVxuXHRcdH0gXSxcblxuXHQvLyBqUXVlcnkuQ29sb3IoIClcblx0Y29sb3IgPSBqUXVlcnkuQ29sb3IgPSBmdW5jdGlvbiggY29sb3IsIGdyZWVuLCBibHVlLCBhbHBoYSApIHtcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5Db2xvci5mbi5wYXJzZSggY29sb3IsIGdyZWVuLCBibHVlLCBhbHBoYSApO1xuXHR9LFxuXHRzcGFjZXMgPSB7XG5cdFx0cmdiYToge1xuXHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0cmVkOiB7XG5cdFx0XHRcdFx0aWR4OiAwLFxuXHRcdFx0XHRcdHR5cGU6IFwiYnl0ZVwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGdyZWVuOiB7XG5cdFx0XHRcdFx0aWR4OiAxLFxuXHRcdFx0XHRcdHR5cGU6IFwiYnl0ZVwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJsdWU6IHtcblx0XHRcdFx0XHRpZHg6IDIsXG5cdFx0XHRcdFx0dHlwZTogXCJieXRlXCJcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRoc2xhOiB7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRodWU6IHtcblx0XHRcdFx0XHRpZHg6IDAsXG5cdFx0XHRcdFx0dHlwZTogXCJkZWdyZWVzXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0c2F0dXJhdGlvbjoge1xuXHRcdFx0XHRcdGlkeDogMSxcblx0XHRcdFx0XHR0eXBlOiBcInBlcmNlbnRcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRsaWdodG5lc3M6IHtcblx0XHRcdFx0XHRpZHg6IDIsXG5cdFx0XHRcdFx0dHlwZTogXCJwZXJjZW50XCJcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0cHJvcFR5cGVzID0ge1xuXHRcdFwiYnl0ZVwiOiB7XG5cdFx0XHRmbG9vcjogdHJ1ZSxcblx0XHRcdG1heDogMjU1XG5cdFx0fSxcblx0XHRcInBlcmNlbnRcIjoge1xuXHRcdFx0bWF4OiAxXG5cdFx0fSxcblx0XHRcImRlZ3JlZXNcIjoge1xuXHRcdFx0bW9kOiAzNjAsXG5cdFx0XHRmbG9vcjogdHJ1ZVxuXHRcdH1cblx0fSxcblx0c3VwcG9ydCA9IGNvbG9yLnN1cHBvcnQgPSB7fSxcblxuXHQvLyBlbGVtZW50IGZvciBzdXBwb3J0IHRlc3RzXG5cdHN1cHBvcnRFbGVtID0galF1ZXJ5KCBcIjxwPlwiIClbIDAgXSxcblxuXHQvLyBjb2xvcnMgPSBqUXVlcnkuQ29sb3IubmFtZXNcblx0Y29sb3JzLFxuXG5cdC8vIGxvY2FsIGFsaWFzZXMgb2YgZnVuY3Rpb25zIGNhbGxlZCBvZnRlblxuXHRlYWNoID0galF1ZXJ5LmVhY2g7XG5cbi8vIGRldGVybWluZSByZ2JhIHN1cHBvcnQgaW1tZWRpYXRlbHlcbnN1cHBvcnRFbGVtLnN0eWxlLmNzc1RleHQgPSBcImJhY2tncm91bmQtY29sb3I6cmdiYSgxLDEsMSwuNSlcIjtcbnN1cHBvcnQucmdiYSA9IHN1cHBvcnRFbGVtLnN0eWxlLmJhY2tncm91bmRDb2xvci5pbmRleE9mKCBcInJnYmFcIiApID4gLTE7XG5cbi8vIGRlZmluZSBjYWNoZSBuYW1lIGFuZCBhbHBoYSBwcm9wZXJ0aWVzXG4vLyBmb3IgcmdiYSBhbmQgaHNsYSBzcGFjZXNcbmVhY2goIHNwYWNlcywgZnVuY3Rpb24oIHNwYWNlTmFtZSwgc3BhY2UgKSB7XG5cdHNwYWNlLmNhY2hlID0gXCJfXCIgKyBzcGFjZU5hbWU7XG5cdHNwYWNlLnByb3BzLmFscGhhID0ge1xuXHRcdGlkeDogMyxcblx0XHR0eXBlOiBcInBlcmNlbnRcIixcblx0XHRkZWY6IDFcblx0fTtcbn0pO1xuXG5mdW5jdGlvbiBjbGFtcCggdmFsdWUsIHByb3AsIGFsbG93RW1wdHkgKSB7XG5cdHZhciB0eXBlID0gcHJvcFR5cGVzWyBwcm9wLnR5cGUgXSB8fCB7fTtcblxuXHRpZiAoIHZhbHVlID09IG51bGwgKSB7XG5cdFx0cmV0dXJuIChhbGxvd0VtcHR5IHx8ICFwcm9wLmRlZikgPyBudWxsIDogcHJvcC5kZWY7XG5cdH1cblxuXHQvLyB+fiBpcyBhbiBzaG9ydCB3YXkgb2YgZG9pbmcgZmxvb3IgZm9yIHBvc2l0aXZlIG51bWJlcnNcblx0dmFsdWUgPSB0eXBlLmZsb29yID8gfn52YWx1ZSA6IHBhcnNlRmxvYXQoIHZhbHVlICk7XG5cblx0Ly8gSUUgd2lsbCBwYXNzIGluIGVtcHR5IHN0cmluZ3MgYXMgdmFsdWUgZm9yIGFscGhhLFxuXHQvLyB3aGljaCB3aWxsIGhpdCB0aGlzIGNhc2Vcblx0aWYgKCBpc05hTiggdmFsdWUgKSApIHtcblx0XHRyZXR1cm4gcHJvcC5kZWY7XG5cdH1cblxuXHRpZiAoIHR5cGUubW9kICkge1xuXHRcdC8vIHdlIGFkZCBtb2QgYmVmb3JlIG1vZGRpbmcgdG8gbWFrZSBzdXJlIHRoYXQgbmVnYXRpdmVzIHZhbHVlc1xuXHRcdC8vIGdldCBjb252ZXJ0ZWQgcHJvcGVybHk6IC0xMCAtPiAzNTBcblx0XHRyZXR1cm4gKHZhbHVlICsgdHlwZS5tb2QpICUgdHlwZS5tb2Q7XG5cdH1cblxuXHQvLyBmb3Igbm93IGFsbCBwcm9wZXJ0eSB0eXBlcyB3aXRob3V0IG1vZCBoYXZlIG1pbiBhbmQgbWF4XG5cdHJldHVybiAwID4gdmFsdWUgPyAwIDogdHlwZS5tYXggPCB2YWx1ZSA/IHR5cGUubWF4IDogdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ1BhcnNlKCBzdHJpbmcgKSB7XG5cdHZhciBpbnN0ID0gY29sb3IoKSxcblx0XHRyZ2JhID0gaW5zdC5fcmdiYSA9IFtdO1xuXG5cdHN0cmluZyA9IHN0cmluZy50b0xvd2VyQ2FzZSgpO1xuXG5cdGVhY2goIHN0cmluZ1BhcnNlcnMsIGZ1bmN0aW9uKCBpLCBwYXJzZXIgKSB7XG5cdFx0dmFyIHBhcnNlZCxcblx0XHRcdG1hdGNoID0gcGFyc2VyLnJlLmV4ZWMoIHN0cmluZyApLFxuXHRcdFx0dmFsdWVzID0gbWF0Y2ggJiYgcGFyc2VyLnBhcnNlKCBtYXRjaCApLFxuXHRcdFx0c3BhY2VOYW1lID0gcGFyc2VyLnNwYWNlIHx8IFwicmdiYVwiO1xuXG5cdFx0aWYgKCB2YWx1ZXMgKSB7XG5cdFx0XHRwYXJzZWQgPSBpbnN0WyBzcGFjZU5hbWUgXSggdmFsdWVzICk7XG5cblx0XHRcdC8vIGlmIHRoaXMgd2FzIGFuIHJnYmEgcGFyc2UgdGhlIGFzc2lnbm1lbnQgbWlnaHQgaGFwcGVuIHR3aWNlXG5cdFx0XHQvLyBvaCB3ZWxsLi4uLlxuXHRcdFx0aW5zdFsgc3BhY2VzWyBzcGFjZU5hbWUgXS5jYWNoZSBdID0gcGFyc2VkWyBzcGFjZXNbIHNwYWNlTmFtZSBdLmNhY2hlIF07XG5cdFx0XHRyZ2JhID0gaW5zdC5fcmdiYSA9IHBhcnNlZC5fcmdiYTtcblxuXHRcdFx0Ly8gZXhpdCBlYWNoKCBzdHJpbmdQYXJzZXJzICkgaGVyZSBiZWNhdXNlIHdlIG1hdGNoZWRcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH0pO1xuXG5cdC8vIEZvdW5kIGEgc3RyaW5nUGFyc2VyIHRoYXQgaGFuZGxlZCBpdFxuXHRpZiAoIHJnYmEubGVuZ3RoICkge1xuXG5cdFx0Ly8gaWYgdGhpcyBjYW1lIGZyb20gYSBwYXJzZWQgc3RyaW5nLCBmb3JjZSBcInRyYW5zcGFyZW50XCIgd2hlbiBhbHBoYSBpcyAwXG5cdFx0Ly8gY2hyb21lLCAoYW5kIG1heWJlIG90aGVycykgcmV0dXJuIFwidHJhbnNwYXJlbnRcIiBhcyByZ2JhKDAsMCwwLDApXG5cdFx0aWYgKCByZ2JhLmpvaW4oKSA9PT0gXCIwLDAsMCwwXCIgKSB7XG5cdFx0XHRqUXVlcnkuZXh0ZW5kKCByZ2JhLCBjb2xvcnMudHJhbnNwYXJlbnQgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGluc3Q7XG5cdH1cblxuXHQvLyBuYW1lZCBjb2xvcnNcblx0cmV0dXJuIGNvbG9yc1sgc3RyaW5nIF07XG59XG5cbmNvbG9yLmZuID0galF1ZXJ5LmV4dGVuZCggY29sb3IucHJvdG90eXBlLCB7XG5cdHBhcnNlOiBmdW5jdGlvbiggcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEgKSB7XG5cdFx0aWYgKCByZWQgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHRoaXMuX3JnYmEgPSBbIG51bGwsIG51bGwsIG51bGwsIG51bGwgXTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHJlZC5qcXVlcnkgfHwgcmVkLm5vZGVUeXBlICkge1xuXHRcdFx0cmVkID0galF1ZXJ5KCByZWQgKS5jc3MoIGdyZWVuICk7XG5cdFx0XHRncmVlbiA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHR2YXIgaW5zdCA9IHRoaXMsXG5cdFx0XHR0eXBlID0galF1ZXJ5LnR5cGUoIHJlZCApLFxuXHRcdFx0cmdiYSA9IHRoaXMuX3JnYmEgPSBbXTtcblxuXHRcdC8vIG1vcmUgdGhhbiAxIGFyZ3VtZW50IHNwZWNpZmllZCAtIGFzc3VtZSAoIHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhIClcblx0XHRpZiAoIGdyZWVuICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRyZWQgPSBbIHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhIF07XG5cdFx0XHR0eXBlID0gXCJhcnJheVwiO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLnBhcnNlKCBzdHJpbmdQYXJzZSggcmVkICkgfHwgY29sb3JzLl9kZWZhdWx0ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlID09PSBcImFycmF5XCIgKSB7XG5cdFx0XHRlYWNoKCBzcGFjZXMucmdiYS5wcm9wcywgZnVuY3Rpb24oIGtleSwgcHJvcCApIHtcblx0XHRcdFx0cmdiYVsgcHJvcC5pZHggXSA9IGNsYW1wKCByZWRbIHByb3AuaWR4IF0sIHByb3AgKTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0aWYgKCByZWQgaW5zdGFuY2VvZiBjb2xvciApIHtcblx0XHRcdFx0ZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggc3BhY2VOYW1lLCBzcGFjZSApIHtcblx0XHRcdFx0XHRpZiAoIHJlZFsgc3BhY2UuY2FjaGUgXSApIHtcblx0XHRcdFx0XHRcdGluc3RbIHNwYWNlLmNhY2hlIF0gPSByZWRbIHNwYWNlLmNhY2hlIF0uc2xpY2UoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggc3BhY2VOYW1lLCBzcGFjZSApIHtcblx0XHRcdFx0XHR2YXIgY2FjaGUgPSBzcGFjZS5jYWNoZTtcblx0XHRcdFx0XHRlYWNoKCBzcGFjZS5wcm9wcywgZnVuY3Rpb24oIGtleSwgcHJvcCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gaWYgdGhlIGNhY2hlIGRvZXNuJ3QgZXhpc3QsIGFuZCB3ZSBrbm93IGhvdyB0byBjb252ZXJ0XG5cdFx0XHRcdFx0XHRpZiAoICFpbnN0WyBjYWNoZSBdICYmIHNwYWNlLnRvICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIGlmIHRoZSB2YWx1ZSB3YXMgbnVsbCwgd2UgZG9uJ3QgbmVlZCB0byBjb3B5IGl0XG5cdFx0XHRcdFx0XHRcdC8vIGlmIHRoZSBrZXkgd2FzIGFscGhhLCB3ZSBkb24ndCBuZWVkIHRvIGNvcHkgaXQgZWl0aGVyXG5cdFx0XHRcdFx0XHRcdGlmICgga2V5ID09PSBcImFscGhhXCIgfHwgcmVkWyBrZXkgXSA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpbnN0WyBjYWNoZSBdID0gc3BhY2UudG8oIGluc3QuX3JnYmEgKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gdGhpcyBpcyB0aGUgb25seSBjYXNlIHdoZXJlIHdlIGFsbG93IG51bGxzIGZvciBBTEwgcHJvcGVydGllcy5cblx0XHRcdFx0XHRcdC8vIGNhbGwgY2xhbXAgd2l0aCBhbHdheXNBbGxvd0VtcHR5XG5cdFx0XHRcdFx0XHRpbnN0WyBjYWNoZSBdWyBwcm9wLmlkeCBdID0gY2xhbXAoIHJlZFsga2V5IF0sIHByb3AsIHRydWUgKTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8vIGV2ZXJ5dGhpbmcgZGVmaW5lZCBidXQgYWxwaGE/XG5cdFx0XHRcdFx0aWYgKCBpbnN0WyBjYWNoZSBdICYmIGpRdWVyeS5pbkFycmF5KCBudWxsLCBpbnN0WyBjYWNoZSBdLnNsaWNlKCAwLCAzICkgKSA8IDAgKSB7XG5cdFx0XHRcdFx0XHQvLyB1c2UgdGhlIGRlZmF1bHQgb2YgMVxuXHRcdFx0XHRcdFx0aW5zdFsgY2FjaGUgXVsgMyBdID0gMTtcblx0XHRcdFx0XHRcdGlmICggc3BhY2UuZnJvbSApIHtcblx0XHRcdFx0XHRcdFx0aW5zdC5fcmdiYSA9IHNwYWNlLmZyb20oIGluc3RbIGNhY2hlIF0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9LFxuXHRpczogZnVuY3Rpb24oIGNvbXBhcmUgKSB7XG5cdFx0dmFyIGlzID0gY29sb3IoIGNvbXBhcmUgKSxcblx0XHRcdHNhbWUgPSB0cnVlLFxuXHRcdFx0aW5zdCA9IHRoaXM7XG5cblx0XHRlYWNoKCBzcGFjZXMsIGZ1bmN0aW9uKCBfLCBzcGFjZSApIHtcblx0XHRcdHZhciBsb2NhbENhY2hlLFxuXHRcdFx0XHRpc0NhY2hlID0gaXNbIHNwYWNlLmNhY2hlIF07XG5cdFx0XHRpZiAoaXNDYWNoZSkge1xuXHRcdFx0XHRsb2NhbENhY2hlID0gaW5zdFsgc3BhY2UuY2FjaGUgXSB8fCBzcGFjZS50byAmJiBzcGFjZS50byggaW5zdC5fcmdiYSApIHx8IFtdO1xuXHRcdFx0XHRlYWNoKCBzcGFjZS5wcm9wcywgZnVuY3Rpb24oIF8sIHByb3AgKSB7XG5cdFx0XHRcdFx0aWYgKCBpc0NhY2hlWyBwcm9wLmlkeCBdICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRzYW1lID0gKCBpc0NhY2hlWyBwcm9wLmlkeCBdID09PSBsb2NhbENhY2hlWyBwcm9wLmlkeCBdICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gc2FtZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHNhbWU7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHNhbWU7XG5cdH0sXG5cdF9zcGFjZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHVzZWQgPSBbXSxcblx0XHRcdGluc3QgPSB0aGlzO1xuXHRcdGVhY2goIHNwYWNlcywgZnVuY3Rpb24oIHNwYWNlTmFtZSwgc3BhY2UgKSB7XG5cdFx0XHRpZiAoIGluc3RbIHNwYWNlLmNhY2hlIF0gKSB7XG5cdFx0XHRcdHVzZWQucHVzaCggc3BhY2VOYW1lICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHVzZWQucG9wKCk7XG5cdH0sXG5cdHRyYW5zaXRpb246IGZ1bmN0aW9uKCBvdGhlciwgZGlzdGFuY2UgKSB7XG5cdFx0dmFyIGVuZCA9IGNvbG9yKCBvdGhlciApLFxuXHRcdFx0c3BhY2VOYW1lID0gZW5kLl9zcGFjZSgpLFxuXHRcdFx0c3BhY2UgPSBzcGFjZXNbIHNwYWNlTmFtZSBdLFxuXHRcdFx0c3RhcnRDb2xvciA9IHRoaXMuYWxwaGEoKSA9PT0gMCA/IGNvbG9yKCBcInRyYW5zcGFyZW50XCIgKSA6IHRoaXMsXG5cdFx0XHRzdGFydCA9IHN0YXJ0Q29sb3JbIHNwYWNlLmNhY2hlIF0gfHwgc3BhY2UudG8oIHN0YXJ0Q29sb3IuX3JnYmEgKSxcblx0XHRcdHJlc3VsdCA9IHN0YXJ0LnNsaWNlKCk7XG5cblx0XHRlbmQgPSBlbmRbIHNwYWNlLmNhY2hlIF07XG5cdFx0ZWFjaCggc3BhY2UucHJvcHMsIGZ1bmN0aW9uKCBrZXksIHByb3AgKSB7XG5cdFx0XHR2YXIgaW5kZXggPSBwcm9wLmlkeCxcblx0XHRcdFx0c3RhcnRWYWx1ZSA9IHN0YXJ0WyBpbmRleCBdLFxuXHRcdFx0XHRlbmRWYWx1ZSA9IGVuZFsgaW5kZXggXSxcblx0XHRcdFx0dHlwZSA9IHByb3BUeXBlc1sgcHJvcC50eXBlIF0gfHwge307XG5cblx0XHRcdC8vIGlmIG51bGwsIGRvbid0IG92ZXJyaWRlIHN0YXJ0IHZhbHVlXG5cdFx0XHRpZiAoIGVuZFZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHQvLyBpZiBudWxsIC0gdXNlIGVuZFxuXHRcdFx0aWYgKCBzdGFydFZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRyZXN1bHRbIGluZGV4IF0gPSBlbmRWYWx1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICggdHlwZS5tb2QgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUgPiB0eXBlLm1vZCAvIDIgKSB7XG5cdFx0XHRcdFx0XHRzdGFydFZhbHVlICs9IHR5cGUubW9kO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIHN0YXJ0VmFsdWUgLSBlbmRWYWx1ZSA+IHR5cGUubW9kIC8gMiApIHtcblx0XHRcdFx0XHRcdHN0YXJ0VmFsdWUgLT0gdHlwZS5tb2Q7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJlc3VsdFsgaW5kZXggXSA9IGNsYW1wKCAoIGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSApICogZGlzdGFuY2UgKyBzdGFydFZhbHVlLCBwcm9wICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHRoaXNbIHNwYWNlTmFtZSBdKCByZXN1bHQgKTtcblx0fSxcblx0YmxlbmQ6IGZ1bmN0aW9uKCBvcGFxdWUgKSB7XG5cdFx0Ly8gaWYgd2UgYXJlIGFscmVhZHkgb3BhcXVlIC0gcmV0dXJuIG91cnNlbGZcblx0XHRpZiAoIHRoaXMuX3JnYmFbIDMgXSA9PT0gMSApIHtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdHZhciByZ2IgPSB0aGlzLl9yZ2JhLnNsaWNlKCksXG5cdFx0XHRhID0gcmdiLnBvcCgpLFxuXHRcdFx0YmxlbmQgPSBjb2xvciggb3BhcXVlICkuX3JnYmE7XG5cblx0XHRyZXR1cm4gY29sb3IoIGpRdWVyeS5tYXAoIHJnYiwgZnVuY3Rpb24oIHYsIGkgKSB7XG5cdFx0XHRyZXR1cm4gKCAxIC0gYSApICogYmxlbmRbIGkgXSArIGEgKiB2O1xuXHRcdH0pKTtcblx0fSxcblx0dG9SZ2JhU3RyaW5nOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgcHJlZml4ID0gXCJyZ2JhKFwiLFxuXHRcdFx0cmdiYSA9IGpRdWVyeS5tYXAoIHRoaXMuX3JnYmEsIGZ1bmN0aW9uKCB2LCBpICkge1xuXHRcdFx0XHRyZXR1cm4gdiA9PSBudWxsID8gKCBpID4gMiA/IDEgOiAwICkgOiB2O1xuXHRcdFx0fSk7XG5cblx0XHRpZiAoIHJnYmFbIDMgXSA9PT0gMSApIHtcblx0XHRcdHJnYmEucG9wKCk7XG5cdFx0XHRwcmVmaXggPSBcInJnYihcIjtcblx0XHR9XG5cblx0XHRyZXR1cm4gcHJlZml4ICsgcmdiYS5qb2luKCkgKyBcIilcIjtcblx0fSxcblx0dG9Ic2xhU3RyaW5nOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgcHJlZml4ID0gXCJoc2xhKFwiLFxuXHRcdFx0aHNsYSA9IGpRdWVyeS5tYXAoIHRoaXMuaHNsYSgpLCBmdW5jdGlvbiggdiwgaSApIHtcblx0XHRcdFx0aWYgKCB2ID09IG51bGwgKSB7XG5cdFx0XHRcdFx0diA9IGkgPiAyID8gMSA6IDA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBjYXRjaCAxIGFuZCAyXG5cdFx0XHRcdGlmICggaSAmJiBpIDwgMyApIHtcblx0XHRcdFx0XHR2ID0gTWF0aC5yb3VuZCggdiAqIDEwMCApICsgXCIlXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHY7XG5cdFx0XHR9KTtcblxuXHRcdGlmICggaHNsYVsgMyBdID09PSAxICkge1xuXHRcdFx0aHNsYS5wb3AoKTtcblx0XHRcdHByZWZpeCA9IFwiaHNsKFwiO1xuXHRcdH1cblx0XHRyZXR1cm4gcHJlZml4ICsgaHNsYS5qb2luKCkgKyBcIilcIjtcblx0fSxcblx0dG9IZXhTdHJpbmc6IGZ1bmN0aW9uKCBpbmNsdWRlQWxwaGEgKSB7XG5cdFx0dmFyIHJnYmEgPSB0aGlzLl9yZ2JhLnNsaWNlKCksXG5cdFx0XHRhbHBoYSA9IHJnYmEucG9wKCk7XG5cblx0XHRpZiAoIGluY2x1ZGVBbHBoYSApIHtcblx0XHRcdHJnYmEucHVzaCggfn4oIGFscGhhICogMjU1ICkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gXCIjXCIgKyBqUXVlcnkubWFwKCByZ2JhLCBmdW5jdGlvbiggdiApIHtcblxuXHRcdFx0Ly8gZGVmYXVsdCB0byAwIHdoZW4gbnVsbHMgZXhpc3Rcblx0XHRcdHYgPSAoIHYgfHwgMCApLnRvU3RyaW5nKCAxNiApO1xuXHRcdFx0cmV0dXJuIHYubGVuZ3RoID09PSAxID8gXCIwXCIgKyB2IDogdjtcblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9LFxuXHR0b1N0cmluZzogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3JnYmFbIDMgXSA9PT0gMCA/IFwidHJhbnNwYXJlbnRcIiA6IHRoaXMudG9SZ2JhU3RyaW5nKCk7XG5cdH1cbn0pO1xuY29sb3IuZm4ucGFyc2UucHJvdG90eXBlID0gY29sb3IuZm47XG5cbi8vIGhzbGEgY29udmVyc2lvbnMgYWRhcHRlZCBmcm9tOlxuLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9tYWFzaGFhY2svc291cmNlL2Jyb3dzZS9wYWNrYWdlcy9ncmFwaGljcy90cnVuay9zcmMvZ3JhcGhpY3MvY29sb3JzL0hVRTJSR0IuYXM/cj01MDIxXG5cbmZ1bmN0aW9uIGh1ZTJyZ2IoIHAsIHEsIGggKSB7XG5cdGggPSAoIGggKyAxICkgJSAxO1xuXHRpZiAoIGggKiA2IDwgMSApIHtcblx0XHRyZXR1cm4gcCArICggcSAtIHAgKSAqIGggKiA2O1xuXHR9XG5cdGlmICggaCAqIDIgPCAxKSB7XG5cdFx0cmV0dXJuIHE7XG5cdH1cblx0aWYgKCBoICogMyA8IDIgKSB7XG5cdFx0cmV0dXJuIHAgKyAoIHEgLSBwICkgKiAoICggMiAvIDMgKSAtIGggKSAqIDY7XG5cdH1cblx0cmV0dXJuIHA7XG59XG5cbnNwYWNlcy5oc2xhLnRvID0gZnVuY3Rpb24oIHJnYmEgKSB7XG5cdGlmICggcmdiYVsgMCBdID09IG51bGwgfHwgcmdiYVsgMSBdID09IG51bGwgfHwgcmdiYVsgMiBdID09IG51bGwgKSB7XG5cdFx0cmV0dXJuIFsgbnVsbCwgbnVsbCwgbnVsbCwgcmdiYVsgMyBdIF07XG5cdH1cblx0dmFyIHIgPSByZ2JhWyAwIF0gLyAyNTUsXG5cdFx0ZyA9IHJnYmFbIDEgXSAvIDI1NSxcblx0XHRiID0gcmdiYVsgMiBdIC8gMjU1LFxuXHRcdGEgPSByZ2JhWyAzIF0sXG5cdFx0bWF4ID0gTWF0aC5tYXgoIHIsIGcsIGIgKSxcblx0XHRtaW4gPSBNYXRoLm1pbiggciwgZywgYiApLFxuXHRcdGRpZmYgPSBtYXggLSBtaW4sXG5cdFx0YWRkID0gbWF4ICsgbWluLFxuXHRcdGwgPSBhZGQgKiAwLjUsXG5cdFx0aCwgcztcblxuXHRpZiAoIG1pbiA9PT0gbWF4ICkge1xuXHRcdGggPSAwO1xuXHR9IGVsc2UgaWYgKCByID09PSBtYXggKSB7XG5cdFx0aCA9ICggNjAgKiAoIGcgLSBiICkgLyBkaWZmICkgKyAzNjA7XG5cdH0gZWxzZSBpZiAoIGcgPT09IG1heCApIHtcblx0XHRoID0gKCA2MCAqICggYiAtIHIgKSAvIGRpZmYgKSArIDEyMDtcblx0fSBlbHNlIHtcblx0XHRoID0gKCA2MCAqICggciAtIGcgKSAvIGRpZmYgKSArIDI0MDtcblx0fVxuXG5cdC8vIGNocm9tYSAoZGlmZikgPT0gMCBtZWFucyBncmV5c2NhbGUgd2hpY2gsIGJ5IGRlZmluaXRpb24sIHNhdHVyYXRpb24gPSAwJVxuXHQvLyBvdGhlcndpc2UsIHNhdHVyYXRpb24gaXMgYmFzZWQgb24gdGhlIHJhdGlvIG9mIGNocm9tYSAoZGlmZikgdG8gbGlnaHRuZXNzIChhZGQpXG5cdGlmICggZGlmZiA9PT0gMCApIHtcblx0XHRzID0gMDtcblx0fSBlbHNlIGlmICggbCA8PSAwLjUgKSB7XG5cdFx0cyA9IGRpZmYgLyBhZGQ7XG5cdH0gZWxzZSB7XG5cdFx0cyA9IGRpZmYgLyAoIDIgLSBhZGQgKTtcblx0fVxuXHRyZXR1cm4gWyBNYXRoLnJvdW5kKGgpICUgMzYwLCBzLCBsLCBhID09IG51bGwgPyAxIDogYSBdO1xufTtcblxuc3BhY2VzLmhzbGEuZnJvbSA9IGZ1bmN0aW9uKCBoc2xhICkge1xuXHRpZiAoIGhzbGFbIDAgXSA9PSBudWxsIHx8IGhzbGFbIDEgXSA9PSBudWxsIHx8IGhzbGFbIDIgXSA9PSBudWxsICkge1xuXHRcdHJldHVybiBbIG51bGwsIG51bGwsIG51bGwsIGhzbGFbIDMgXSBdO1xuXHR9XG5cdHZhciBoID0gaHNsYVsgMCBdIC8gMzYwLFxuXHRcdHMgPSBoc2xhWyAxIF0sXG5cdFx0bCA9IGhzbGFbIDIgXSxcblx0XHRhID0gaHNsYVsgMyBdLFxuXHRcdHEgPSBsIDw9IDAuNSA/IGwgKiAoIDEgKyBzICkgOiBsICsgcyAtIGwgKiBzLFxuXHRcdHAgPSAyICogbCAtIHE7XG5cblx0cmV0dXJuIFtcblx0XHRNYXRoLnJvdW5kKCBodWUycmdiKCBwLCBxLCBoICsgKCAxIC8gMyApICkgKiAyNTUgKSxcblx0XHRNYXRoLnJvdW5kKCBodWUycmdiKCBwLCBxLCBoICkgKiAyNTUgKSxcblx0XHRNYXRoLnJvdW5kKCBodWUycmdiKCBwLCBxLCBoIC0gKCAxIC8gMyApICkgKiAyNTUgKSxcblx0XHRhXG5cdF07XG59O1xuXG5lYWNoKCBzcGFjZXMsIGZ1bmN0aW9uKCBzcGFjZU5hbWUsIHNwYWNlICkge1xuXHR2YXIgcHJvcHMgPSBzcGFjZS5wcm9wcyxcblx0XHRjYWNoZSA9IHNwYWNlLmNhY2hlLFxuXHRcdHRvID0gc3BhY2UudG8sXG5cdFx0ZnJvbSA9IHNwYWNlLmZyb207XG5cblx0Ly8gbWFrZXMgcmdiYSgpIGFuZCBoc2xhKClcblx0Y29sb3IuZm5bIHNwYWNlTmFtZSBdID0gZnVuY3Rpb24oIHZhbHVlICkge1xuXG5cdFx0Ly8gZ2VuZXJhdGUgYSBjYWNoZSBmb3IgdGhpcyBzcGFjZSBpZiBpdCBkb2Vzbid0IGV4aXN0XG5cdFx0aWYgKCB0byAmJiAhdGhpc1sgY2FjaGUgXSApIHtcblx0XHRcdHRoaXNbIGNhY2hlIF0gPSB0byggdGhpcy5fcmdiYSApO1xuXHRcdH1cblx0XHRpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRyZXR1cm4gdGhpc1sgY2FjaGUgXS5zbGljZSgpO1xuXHRcdH1cblxuXHRcdHZhciByZXQsXG5cdFx0XHR0eXBlID0galF1ZXJ5LnR5cGUoIHZhbHVlICksXG5cdFx0XHRhcnIgPSAoIHR5cGUgPT09IFwiYXJyYXlcIiB8fCB0eXBlID09PSBcIm9iamVjdFwiICkgPyB2YWx1ZSA6IGFyZ3VtZW50cyxcblx0XHRcdGxvY2FsID0gdGhpc1sgY2FjaGUgXS5zbGljZSgpO1xuXG5cdFx0ZWFjaCggcHJvcHMsIGZ1bmN0aW9uKCBrZXksIHByb3AgKSB7XG5cdFx0XHR2YXIgdmFsID0gYXJyWyB0eXBlID09PSBcIm9iamVjdFwiID8ga2V5IDogcHJvcC5pZHggXTtcblx0XHRcdGlmICggdmFsID09IG51bGwgKSB7XG5cdFx0XHRcdHZhbCA9IGxvY2FsWyBwcm9wLmlkeCBdO1xuXHRcdFx0fVxuXHRcdFx0bG9jYWxbIHByb3AuaWR4IF0gPSBjbGFtcCggdmFsLCBwcm9wICk7XG5cdFx0fSk7XG5cblx0XHRpZiAoIGZyb20gKSB7XG5cdFx0XHRyZXQgPSBjb2xvciggZnJvbSggbG9jYWwgKSApO1xuXHRcdFx0cmV0WyBjYWNoZSBdID0gbG9jYWw7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gY29sb3IoIGxvY2FsICk7XG5cdFx0fVxuXHR9O1xuXG5cdC8vIG1ha2VzIHJlZCgpIGdyZWVuKCkgYmx1ZSgpIGFscGhhKCkgaHVlKCkgc2F0dXJhdGlvbigpIGxpZ2h0bmVzcygpXG5cdGVhY2goIHByb3BzLCBmdW5jdGlvbigga2V5LCBwcm9wICkge1xuXHRcdC8vIGFscGhhIGlzIGluY2x1ZGVkIGluIG1vcmUgdGhhbiBvbmUgc3BhY2Vcblx0XHRpZiAoIGNvbG9yLmZuWyBrZXkgXSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29sb3IuZm5bIGtleSBdID0gZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIHZ0eXBlID0galF1ZXJ5LnR5cGUoIHZhbHVlICksXG5cdFx0XHRcdGZuID0gKCBrZXkgPT09IFwiYWxwaGFcIiA/ICggdGhpcy5faHNsYSA/IFwiaHNsYVwiIDogXCJyZ2JhXCIgKSA6IHNwYWNlTmFtZSApLFxuXHRcdFx0XHRsb2NhbCA9IHRoaXNbIGZuIF0oKSxcblx0XHRcdFx0Y3VyID0gbG9jYWxbIHByb3AuaWR4IF0sXG5cdFx0XHRcdG1hdGNoO1xuXG5cdFx0XHRpZiAoIHZ0eXBlID09PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0XHRyZXR1cm4gY3VyO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHZ0eXBlID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdFx0XHRcdHZhbHVlID0gdmFsdWUuY2FsbCggdGhpcywgY3VyICk7XG5cdFx0XHRcdHZ0eXBlID0galF1ZXJ5LnR5cGUoIHZhbHVlICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHZhbHVlID09IG51bGwgJiYgcHJvcC5lbXB0eSApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHZ0eXBlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRtYXRjaCA9IHJwbHVzZXF1YWxzLmV4ZWMoIHZhbHVlICk7XG5cdFx0XHRcdGlmICggbWF0Y2ggKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBjdXIgKyBwYXJzZUZsb2F0KCBtYXRjaFsgMiBdICkgKiAoIG1hdGNoWyAxIF0gPT09IFwiK1wiID8gMSA6IC0xICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGxvY2FsWyBwcm9wLmlkeCBdID0gdmFsdWU7XG5cdFx0XHRyZXR1cm4gdGhpc1sgZm4gXSggbG9jYWwgKTtcblx0XHR9O1xuXHR9KTtcbn0pO1xuXG4vLyBhZGQgY3NzSG9vayBhbmQgLmZ4LnN0ZXAgZnVuY3Rpb24gZm9yIGVhY2ggbmFtZWQgaG9vay5cbi8vIGFjY2VwdCBhIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2YgcHJvcGVydGllc1xuY29sb3IuaG9vayA9IGZ1bmN0aW9uKCBob29rICkge1xuXHR2YXIgaG9va3MgPSBob29rLnNwbGl0KCBcIiBcIiApO1xuXHRlYWNoKCBob29rcywgZnVuY3Rpb24oIGksIGhvb2sgKSB7XG5cdFx0alF1ZXJ5LmNzc0hvb2tzWyBob29rIF0gPSB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIHBhcnNlZCwgY3VyRWxlbSxcblx0XHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3IgPSBcIlwiO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT09IFwidHJhbnNwYXJlbnRcIiAmJiAoIGpRdWVyeS50eXBlKCB2YWx1ZSApICE9PSBcInN0cmluZ1wiIHx8ICggcGFyc2VkID0gc3RyaW5nUGFyc2UoIHZhbHVlICkgKSApICkge1xuXHRcdFx0XHRcdHZhbHVlID0gY29sb3IoIHBhcnNlZCB8fCB2YWx1ZSApO1xuXHRcdFx0XHRcdGlmICggIXN1cHBvcnQucmdiYSAmJiB2YWx1ZS5fcmdiYVsgMyBdICE9PSAxICkge1xuXHRcdFx0XHRcdFx0Y3VyRWxlbSA9IGhvb2sgPT09IFwiYmFja2dyb3VuZENvbG9yXCIgPyBlbGVtLnBhcmVudE5vZGUgOiBlbGVtO1xuXHRcdFx0XHRcdFx0d2hpbGUgKFxuXHRcdFx0XHRcdFx0XHQoYmFja2dyb3VuZENvbG9yID09PSBcIlwiIHx8IGJhY2tncm91bmRDb2xvciA9PT0gXCJ0cmFuc3BhcmVudFwiKSAmJlxuXHRcdFx0XHRcdFx0XHRjdXJFbGVtICYmIGN1ckVsZW0uc3R5bGVcblx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGJhY2tncm91bmRDb2xvciA9IGpRdWVyeS5jc3MoIGN1ckVsZW0sIFwiYmFja2dyb3VuZENvbG9yXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRjdXJFbGVtID0gY3VyRWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLmJsZW5kKCBiYWNrZ3JvdW5kQ29sb3IgJiYgYmFja2dyb3VuZENvbG9yICE9PSBcInRyYW5zcGFyZW50XCIgP1xuXHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3IgOlxuXHRcdFx0XHRcdFx0XHRcIl9kZWZhdWx0XCIgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnRvUmdiYVN0cmluZygpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0ZWxlbS5zdHlsZVsgaG9vayBdID0gdmFsdWU7XG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHRcdC8vIHdyYXBwZWQgdG8gcHJldmVudCBJRSBmcm9tIHRocm93aW5nIGVycm9ycyBvbiBcImludmFsaWRcIiB2YWx1ZXMgbGlrZSAnYXV0bycgb3IgJ2luaGVyaXQnXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHRcdGpRdWVyeS5meC5zdGVwWyBob29rIF0gPSBmdW5jdGlvbiggZnggKSB7XG5cdFx0XHRpZiAoICFmeC5jb2xvckluaXQgKSB7XG5cdFx0XHRcdGZ4LnN0YXJ0ID0gY29sb3IoIGZ4LmVsZW0sIGhvb2sgKTtcblx0XHRcdFx0ZnguZW5kID0gY29sb3IoIGZ4LmVuZCApO1xuXHRcdFx0XHRmeC5jb2xvckluaXQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0alF1ZXJ5LmNzc0hvb2tzWyBob29rIF0uc2V0KCBmeC5lbGVtLCBmeC5zdGFydC50cmFuc2l0aW9uKCBmeC5lbmQsIGZ4LnBvcyApICk7XG5cdFx0fTtcblx0fSk7XG5cbn07XG5cbmNvbG9yLmhvb2soIHN0ZXBIb29rcyApO1xuXG5qUXVlcnkuY3NzSG9va3MuYm9yZGVyQ29sb3IgPSB7XG5cdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBleHBhbmRlZCA9IHt9O1xuXG5cdFx0ZWFjaCggWyBcIlRvcFwiLCBcIlJpZ2h0XCIsIFwiQm90dG9tXCIsIFwiTGVmdFwiIF0sIGZ1bmN0aW9uKCBpLCBwYXJ0ICkge1xuXHRcdFx0ZXhwYW5kZWRbIFwiYm9yZGVyXCIgKyBwYXJ0ICsgXCJDb2xvclwiIF0gPSB2YWx1ZTtcblx0XHR9KTtcblx0XHRyZXR1cm4gZXhwYW5kZWQ7XG5cdH1cbn07XG5cbi8vIEJhc2ljIGNvbG9yIG5hbWVzIG9ubHkuXG4vLyBVc2FnZSBvZiBhbnkgb2YgdGhlIG90aGVyIGNvbG9yIG5hbWVzIHJlcXVpcmVzIGFkZGluZyB5b3Vyc2VsZiBvciBpbmNsdWRpbmdcbi8vIGpxdWVyeS5jb2xvci5zdmctbmFtZXMuanMuXG5jb2xvcnMgPSBqUXVlcnkuQ29sb3IubmFtZXMgPSB7XG5cdC8vIDQuMS4gQmFzaWMgY29sb3Iga2V5d29yZHNcblx0YXF1YTogXCIjMDBmZmZmXCIsXG5cdGJsYWNrOiBcIiMwMDAwMDBcIixcblx0Ymx1ZTogXCIjMDAwMGZmXCIsXG5cdGZ1Y2hzaWE6IFwiI2ZmMDBmZlwiLFxuXHRncmF5OiBcIiM4MDgwODBcIixcblx0Z3JlZW46IFwiIzAwODAwMFwiLFxuXHRsaW1lOiBcIiMwMGZmMDBcIixcblx0bWFyb29uOiBcIiM4MDAwMDBcIixcblx0bmF2eTogXCIjMDAwMDgwXCIsXG5cdG9saXZlOiBcIiM4MDgwMDBcIixcblx0cHVycGxlOiBcIiM4MDAwODBcIixcblx0cmVkOiBcIiNmZjAwMDBcIixcblx0c2lsdmVyOiBcIiNjMGMwYzBcIixcblx0dGVhbDogXCIjMDA4MDgwXCIsXG5cdHdoaXRlOiBcIiNmZmZmZmZcIixcblx0eWVsbG93OiBcIiNmZmZmMDBcIixcblxuXHQvLyA0LjIuMy4gXCJ0cmFuc3BhcmVudFwiIGNvbG9yIGtleXdvcmRcblx0dHJhbnNwYXJlbnQ6IFsgbnVsbCwgbnVsbCwgbnVsbCwgMCBdLFxuXG5cdF9kZWZhdWx0OiBcIiNmZmZmZmZcIlxufTtcblxufSkoIGpRdWVyeSApO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBDTEFTUyBBTklNQVRJT05TICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4oZnVuY3Rpb24oKSB7XG5cbnZhciBjbGFzc0FuaW1hdGlvbkFjdGlvbnMgPSBbIFwiYWRkXCIsIFwicmVtb3ZlXCIsIFwidG9nZ2xlXCIgXSxcblx0c2hvcnRoYW5kU3R5bGVzID0ge1xuXHRcdGJvcmRlcjogMSxcblx0XHRib3JkZXJCb3R0b206IDEsXG5cdFx0Ym9yZGVyQ29sb3I6IDEsXG5cdFx0Ym9yZGVyTGVmdDogMSxcblx0XHRib3JkZXJSaWdodDogMSxcblx0XHRib3JkZXJUb3A6IDEsXG5cdFx0Ym9yZGVyV2lkdGg6IDEsXG5cdFx0bWFyZ2luOiAxLFxuXHRcdHBhZGRpbmc6IDFcblx0fTtcblxuJC5lYWNoKFsgXCJib3JkZXJMZWZ0U3R5bGVcIiwgXCJib3JkZXJSaWdodFN0eWxlXCIsIFwiYm9yZGVyQm90dG9tU3R5bGVcIiwgXCJib3JkZXJUb3BTdHlsZVwiIF0sIGZ1bmN0aW9uKCBfLCBwcm9wICkge1xuXHQkLmZ4LnN0ZXBbIHByb3AgXSA9IGZ1bmN0aW9uKCBmeCApIHtcblx0XHRpZiAoIGZ4LmVuZCAhPT0gXCJub25lXCIgJiYgIWZ4LnNldEF0dHIgfHwgZngucG9zID09PSAxICYmICFmeC5zZXRBdHRyICkge1xuXHRcdFx0alF1ZXJ5LnN0eWxlKCBmeC5lbGVtLCBwcm9wLCBmeC5lbmQgKTtcblx0XHRcdGZ4LnNldEF0dHIgPSB0cnVlO1xuXHRcdH1cblx0fTtcbn0pO1xuXG5mdW5jdGlvbiBnZXRFbGVtZW50U3R5bGVzKCBlbGVtICkge1xuXHR2YXIga2V5LCBsZW4sXG5cdFx0c3R5bGUgPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgP1xuXHRcdFx0ZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0sIG51bGwgKSA6XG5cdFx0XHRlbGVtLmN1cnJlbnRTdHlsZSxcblx0XHRzdHlsZXMgPSB7fTtcblxuXHRpZiAoIHN0eWxlICYmIHN0eWxlLmxlbmd0aCAmJiBzdHlsZVsgMCBdICYmIHN0eWxlWyBzdHlsZVsgMCBdIF0gKSB7XG5cdFx0bGVuID0gc3R5bGUubGVuZ3RoO1xuXHRcdHdoaWxlICggbGVuLS0gKSB7XG5cdFx0XHRrZXkgPSBzdHlsZVsgbGVuIF07XG5cdFx0XHRpZiAoIHR5cGVvZiBzdHlsZVsga2V5IF0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHN0eWxlc1sgJC5jYW1lbENhc2UoIGtleSApIF0gPSBzdHlsZVsga2V5IF07XG5cdFx0XHR9XG5cdFx0fVxuXHQvLyBzdXBwb3J0OiBPcGVyYSwgSUUgPDlcblx0fSBlbHNlIHtcblx0XHRmb3IgKCBrZXkgaW4gc3R5bGUgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBzdHlsZVsga2V5IF0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHN0eWxlc1sga2V5IF0gPSBzdHlsZVsga2V5IF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gc3R5bGVEaWZmZXJlbmNlKCBvbGRTdHlsZSwgbmV3U3R5bGUgKSB7XG5cdHZhciBkaWZmID0ge30sXG5cdFx0bmFtZSwgdmFsdWU7XG5cblx0Zm9yICggbmFtZSBpbiBuZXdTdHlsZSApIHtcblx0XHR2YWx1ZSA9IG5ld1N0eWxlWyBuYW1lIF07XG5cdFx0aWYgKCBvbGRTdHlsZVsgbmFtZSBdICE9PSB2YWx1ZSApIHtcblx0XHRcdGlmICggIXNob3J0aGFuZFN0eWxlc1sgbmFtZSBdICkge1xuXHRcdFx0XHRpZiAoICQuZnguc3RlcFsgbmFtZSBdIHx8ICFpc05hTiggcGFyc2VGbG9hdCggdmFsdWUgKSApICkge1xuXHRcdFx0XHRcdGRpZmZbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGRpZmY7XG59XG5cbi8vIHN1cHBvcnQ6IGpRdWVyeSA8MS44XG5pZiAoICEkLmZuLmFkZEJhY2sgKSB7XG5cdCQuZm4uYWRkQmFjayA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5hZGQoIHNlbGVjdG9yID09IG51bGwgP1xuXHRcdFx0dGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlciggc2VsZWN0b3IgKVxuXHRcdCk7XG5cdH07XG59XG5cbiQuZWZmZWN0cy5hbmltYXRlQ2xhc3MgPSBmdW5jdGlvbiggdmFsdWUsIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHR2YXIgbyA9ICQuc3BlZWQoIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cblx0cmV0dXJuIHRoaXMucXVldWUoIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBhbmltYXRlZCA9ICQoIHRoaXMgKSxcblx0XHRcdGJhc2VDbGFzcyA9IGFuaW1hdGVkLmF0dHIoIFwiY2xhc3NcIiApIHx8IFwiXCIsXG5cdFx0XHRhcHBseUNsYXNzQ2hhbmdlLFxuXHRcdFx0YWxsQW5pbWF0aW9ucyA9IG8uY2hpbGRyZW4gPyBhbmltYXRlZC5maW5kKCBcIipcIiApLmFkZEJhY2soKSA6IGFuaW1hdGVkO1xuXG5cdFx0Ly8gbWFwIHRoZSBhbmltYXRlZCBvYmplY3RzIHRvIHN0b3JlIHRoZSBvcmlnaW5hbCBzdHlsZXMuXG5cdFx0YWxsQW5pbWF0aW9ucyA9IGFsbEFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGVsID0gJCggdGhpcyApO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZWw6IGVsLFxuXHRcdFx0XHRzdGFydDogZ2V0RWxlbWVudFN0eWxlcyggdGhpcyApXG5cdFx0XHR9O1xuXHRcdH0pO1xuXG5cdFx0Ly8gYXBwbHkgY2xhc3MgY2hhbmdlXG5cdFx0YXBwbHlDbGFzc0NoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0JC5lYWNoKCBjbGFzc0FuaW1hdGlvbkFjdGlvbnMsIGZ1bmN0aW9uKGksIGFjdGlvbikge1xuXHRcdFx0XHRpZiAoIHZhbHVlWyBhY3Rpb24gXSApIHtcblx0XHRcdFx0XHRhbmltYXRlZFsgYWN0aW9uICsgXCJDbGFzc1wiIF0oIHZhbHVlWyBhY3Rpb24gXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9O1xuXHRcdGFwcGx5Q2xhc3NDaGFuZ2UoKTtcblxuXHRcdC8vIG1hcCBhbGwgYW5pbWF0ZWQgb2JqZWN0cyBhZ2FpbiAtIGNhbGN1bGF0ZSBuZXcgc3R5bGVzIGFuZCBkaWZmXG5cdFx0YWxsQW5pbWF0aW9ucyA9IGFsbEFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5lbmQgPSBnZXRFbGVtZW50U3R5bGVzKCB0aGlzLmVsWyAwIF0gKTtcblx0XHRcdHRoaXMuZGlmZiA9IHN0eWxlRGlmZmVyZW5jZSggdGhpcy5zdGFydCwgdGhpcy5lbmQgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0pO1xuXG5cdFx0Ly8gYXBwbHkgb3JpZ2luYWwgY2xhc3Ncblx0XHRhbmltYXRlZC5hdHRyKCBcImNsYXNzXCIsIGJhc2VDbGFzcyApO1xuXG5cdFx0Ly8gbWFwIGFsbCBhbmltYXRlZCBvYmplY3RzIGFnYWluIC0gdGhpcyB0aW1lIGNvbGxlY3RpbmcgYSBwcm9taXNlXG5cdFx0YWxsQW5pbWF0aW9ucyA9IGFsbEFuaW1hdGlvbnMubWFwKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHN0eWxlSW5mbyA9IHRoaXMsXG5cdFx0XHRcdGRmZCA9ICQuRGVmZXJyZWQoKSxcblx0XHRcdFx0b3B0cyA9ICQuZXh0ZW5kKHt9LCBvLCB7XG5cdFx0XHRcdFx0cXVldWU6IGZhbHNlLFxuXHRcdFx0XHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGRmZC5yZXNvbHZlKCBzdHlsZUluZm8gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLmVsLmFuaW1hdGUoIHRoaXMuZGlmZiwgb3B0cyApO1xuXHRcdFx0cmV0dXJuIGRmZC5wcm9taXNlKCk7XG5cdFx0fSk7XG5cblx0XHQvLyBvbmNlIGFsbCBhbmltYXRpb25zIGhhdmUgY29tcGxldGVkOlxuXHRcdCQud2hlbi5hcHBseSggJCwgYWxsQW5pbWF0aW9ucy5nZXQoKSApLmRvbmUoZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIHNldCB0aGUgZmluYWwgY2xhc3Ncblx0XHRcdGFwcGx5Q2xhc3NDaGFuZ2UoKTtcblxuXHRcdFx0Ly8gZm9yIGVhY2ggYW5pbWF0ZWQgZWxlbWVudCxcblx0XHRcdC8vIGNsZWFyIGFsbCBjc3MgcHJvcGVydGllcyB0aGF0IHdlcmUgYW5pbWF0ZWRcblx0XHRcdCQuZWFjaCggYXJndW1lbnRzLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsID0gdGhpcy5lbDtcblx0XHRcdFx0JC5lYWNoKCB0aGlzLmRpZmYsIGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0XHRcdGVsLmNzcygga2V5LCBcIlwiICk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIHRoaXMgaXMgZ3Vhcm50ZWVkIHRvIGJlIHRoZXJlIGlmIHlvdSB1c2UgalF1ZXJ5LnNwZWVkKClcblx0XHRcdC8vIGl0IGFsc28gaGFuZGxlcyBkZXF1ZXVpbmcgdGhlIG5leHQgYW5pbS4uLlxuXHRcdFx0by5jb21wbGV0ZS5jYWxsKCBhbmltYXRlZFsgMCBdICk7XG5cdFx0fSk7XG5cdH0pO1xufTtcblxuJC5mbi5leHRlbmQoe1xuXHRhZGRDbGFzczogKGZ1bmN0aW9uKCBvcmlnICkge1xuXHRcdHJldHVybiBmdW5jdGlvbiggY2xhc3NOYW1lcywgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0XHRyZXR1cm4gc3BlZWQgP1xuXHRcdFx0XHQkLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwoIHRoaXMsXG5cdFx0XHRcdFx0eyBhZGQ6IGNsYXNzTmFtZXMgfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSA6XG5cdFx0XHRcdG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH07XG5cdH0pKCAkLmZuLmFkZENsYXNzICksXG5cblx0cmVtb3ZlQ2xhc3M6IChmdW5jdGlvbiggb3JpZyApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGNsYXNzTmFtZXMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAxID9cblx0XHRcdFx0JC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKCB0aGlzLFxuXHRcdFx0XHRcdHsgcmVtb3ZlOiBjbGFzc05hbWVzIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkgOlxuXHRcdFx0XHRvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9O1xuXHR9KSggJC5mbi5yZW1vdmVDbGFzcyApLFxuXG5cdHRvZ2dsZUNsYXNzOiAoZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBjbGFzc05hbWVzLCBmb3JjZSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBmb3JjZSA9PT0gXCJib29sZWFuXCIgfHwgZm9yY2UgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0aWYgKCAhc3BlZWQgKSB7XG5cdFx0XHRcdFx0Ly8gd2l0aG91dCBzcGVlZCBwYXJhbWV0ZXJcblx0XHRcdFx0XHRyZXR1cm4gb3JpZy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuICQuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCggdGhpcyxcblx0XHRcdFx0XHRcdChmb3JjZSA/IHsgYWRkOiBjbGFzc05hbWVzIH0gOiB7IHJlbW92ZTogY2xhc3NOYW1lcyB9KSxcblx0XHRcdFx0XHRcdHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHdpdGhvdXQgZm9yY2UgcGFyYW1ldGVyXG5cdFx0XHRcdHJldHVybiAkLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwoIHRoaXMsXG5cdFx0XHRcdFx0eyB0b2dnbGU6IGNsYXNzTmFtZXMgfSwgZm9yY2UsIHNwZWVkLCBlYXNpbmcgKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9KSggJC5mbi50b2dnbGVDbGFzcyApLFxuXG5cdHN3aXRjaENsYXNzOiBmdW5jdGlvbiggcmVtb3ZlLCBhZGQsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrKSB7XG5cdFx0cmV0dXJuICQuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCggdGhpcywge1xuXHRcdFx0YWRkOiBhZGQsXG5cdFx0XHRyZW1vdmU6IHJlbW92ZVxuXHRcdH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH1cbn0pO1xuXG59KSgpO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVGRkVDVFMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbihmdW5jdGlvbigpIHtcblxuJC5leHRlbmQoICQuZWZmZWN0cywge1xuXHR2ZXJzaW9uOiBcIjEuMTEuNFwiLFxuXG5cdC8vIFNhdmVzIGEgc2V0IG9mIHByb3BlcnRpZXMgaW4gYSBkYXRhIHN0b3JhZ2Vcblx0c2F2ZTogZnVuY3Rpb24oIGVsZW1lbnQsIHNldCApIHtcblx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRpZiAoIHNldFsgaSBdICE9PSBudWxsICkge1xuXHRcdFx0XHRlbGVtZW50LmRhdGEoIGRhdGFTcGFjZSArIHNldFsgaSBdLCBlbGVtZW50WyAwIF0uc3R5bGVbIHNldFsgaSBdIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gUmVzdG9yZXMgYSBzZXQgb2YgcHJldmlvdXNseSBzYXZlZCBwcm9wZXJ0aWVzIGZyb20gYSBkYXRhIHN0b3JhZ2Vcblx0cmVzdG9yZTogZnVuY3Rpb24oIGVsZW1lbnQsIHNldCApIHtcblx0XHR2YXIgdmFsLCBpO1xuXHRcdGZvciAoIGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrICkge1xuXHRcdFx0aWYgKCBzZXRbIGkgXSAhPT0gbnVsbCApIHtcblx0XHRcdFx0dmFsID0gZWxlbWVudC5kYXRhKCBkYXRhU3BhY2UgKyBzZXRbIGkgXSApO1xuXHRcdFx0XHQvLyBzdXBwb3J0OiBqUXVlcnkgMS42LjJcblx0XHRcdFx0Ly8gaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvOTkxN1xuXHRcdFx0XHQvLyBqUXVlcnkgMS42LjIgaW5jb3JyZWN0bHkgcmV0dXJucyB1bmRlZmluZWQgZm9yIGFueSBmYWxzeSB2YWx1ZS5cblx0XHRcdFx0Ly8gV2UgY2FuJ3QgZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIFwiXCIgYW5kIDAgaGVyZSwgc28gd2UganVzdCBhc3N1bWVcblx0XHRcdFx0Ly8gZW1wdHkgc3RyaW5nIHNpbmNlIGl0J3MgbGlrZWx5IHRvIGJlIGEgbW9yZSBjb21tb24gdmFsdWUuLi5cblx0XHRcdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHR2YWwgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsZW1lbnQuY3NzKCBzZXRbIGkgXSwgdmFsICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHNldE1vZGU6IGZ1bmN0aW9uKCBlbCwgbW9kZSApIHtcblx0XHRpZiAobW9kZSA9PT0gXCJ0b2dnbGVcIikge1xuXHRcdFx0bW9kZSA9IGVsLmlzKCBcIjpoaWRkZW5cIiApID8gXCJzaG93XCIgOiBcImhpZGVcIjtcblx0XHR9XG5cdFx0cmV0dXJuIG1vZGU7XG5cdH0sXG5cblx0Ly8gVHJhbnNsYXRlcyBhIFt0b3AsbGVmdF0gYXJyYXkgaW50byBhIGJhc2VsaW5lIHZhbHVlXG5cdC8vIHRoaXMgc2hvdWxkIGJlIGEgbGl0dGxlIG1vcmUgZmxleGlibGUgaW4gdGhlIGZ1dHVyZSB0byBoYW5kbGUgYSBzdHJpbmcgJiBoYXNoXG5cdGdldEJhc2VsaW5lOiBmdW5jdGlvbiggb3JpZ2luLCBvcmlnaW5hbCApIHtcblx0XHR2YXIgeSwgeDtcblx0XHRzd2l0Y2ggKCBvcmlnaW5bIDAgXSApIHtcblx0XHRcdGNhc2UgXCJ0b3BcIjogeSA9IDA7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIm1pZGRsZVwiOiB5ID0gMC41OyBicmVhaztcblx0XHRcdGNhc2UgXCJib3R0b21cIjogeSA9IDE7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogeSA9IG9yaWdpblsgMCBdIC8gb3JpZ2luYWwuaGVpZ2h0O1xuXHRcdH1cblx0XHRzd2l0Y2ggKCBvcmlnaW5bIDEgXSApIHtcblx0XHRcdGNhc2UgXCJsZWZ0XCI6IHggPSAwOyBicmVhaztcblx0XHRcdGNhc2UgXCJjZW50ZXJcIjogeCA9IDAuNTsgYnJlYWs7XG5cdFx0XHRjYXNlIFwicmlnaHRcIjogeCA9IDE7IGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDogeCA9IG9yaWdpblsgMSBdIC8gb3JpZ2luYWwud2lkdGg7XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHR4OiB4LFxuXHRcdFx0eTogeVxuXHRcdH07XG5cdH0sXG5cblx0Ly8gV3JhcHMgdGhlIGVsZW1lbnQgYXJvdW5kIGEgd3JhcHBlciB0aGF0IGNvcGllcyBwb3NpdGlvbiBwcm9wZXJ0aWVzXG5cdGNyZWF0ZVdyYXBwZXI6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXG5cdFx0Ly8gaWYgdGhlIGVsZW1lbnQgaXMgYWxyZWFkeSB3cmFwcGVkLCByZXR1cm4gaXRcblx0XHRpZiAoIGVsZW1lbnQucGFyZW50KCkuaXMoIFwiLnVpLWVmZmVjdHMtd3JhcHBlclwiICkpIHtcblx0XHRcdHJldHVybiBlbGVtZW50LnBhcmVudCgpO1xuXHRcdH1cblxuXHRcdC8vIHdyYXAgdGhlIGVsZW1lbnRcblx0XHR2YXIgcHJvcHMgPSB7XG5cdFx0XHRcdHdpZHRoOiBlbGVtZW50Lm91dGVyV2lkdGgodHJ1ZSksXG5cdFx0XHRcdGhlaWdodDogZWxlbWVudC5vdXRlckhlaWdodCh0cnVlKSxcblx0XHRcdFx0XCJmbG9hdFwiOiBlbGVtZW50LmNzcyggXCJmbG9hdFwiIClcblx0XHRcdH0sXG5cdFx0XHR3cmFwcGVyID0gJCggXCI8ZGl2PjwvZGl2PlwiIClcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLWVmZmVjdHMtd3JhcHBlclwiIClcblx0XHRcdFx0LmNzcyh7XG5cdFx0XHRcdFx0Zm9udFNpemU6IFwiMTAwJVwiLFxuXHRcdFx0XHRcdGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcblx0XHRcdFx0XHRib3JkZXI6IFwibm9uZVwiLFxuXHRcdFx0XHRcdG1hcmdpbjogMCxcblx0XHRcdFx0XHRwYWRkaW5nOiAwXG5cdFx0XHRcdH0pLFxuXHRcdFx0Ly8gU3RvcmUgdGhlIHNpemUgaW4gY2FzZSB3aWR0aC9oZWlnaHQgYXJlIGRlZmluZWQgaW4gJSAtIEZpeGVzICM1MjQ1XG5cdFx0XHRzaXplID0ge1xuXHRcdFx0XHR3aWR0aDogZWxlbWVudC53aWR0aCgpLFxuXHRcdFx0XHRoZWlnaHQ6IGVsZW1lbnQuaGVpZ2h0KClcblx0XHRcdH0sXG5cdFx0XHRhY3RpdmUgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXG5cdFx0Ly8gc3VwcG9ydDogRmlyZWZveFxuXHRcdC8vIEZpcmVmb3ggaW5jb3JyZWN0bHkgZXhwb3NlcyBhbm9ueW1vdXMgY29udGVudFxuXHRcdC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTU2MTY2NFxuXHRcdHRyeSB7XG5cdFx0XHRhY3RpdmUuaWQ7XG5cdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRhY3RpdmUgPSBkb2N1bWVudC5ib2R5O1xuXHRcdH1cblxuXHRcdGVsZW1lbnQud3JhcCggd3JhcHBlciApO1xuXG5cdFx0Ly8gRml4ZXMgIzc1OTUgLSBFbGVtZW50cyBsb3NlIGZvY3VzIHdoZW4gd3JhcHBlZC5cblx0XHRpZiAoIGVsZW1lbnRbIDAgXSA9PT0gYWN0aXZlIHx8ICQuY29udGFpbnMoIGVsZW1lbnRbIDAgXSwgYWN0aXZlICkgKSB7XG5cdFx0XHQkKCBhY3RpdmUgKS5mb2N1cygpO1xuXHRcdH1cblxuXHRcdHdyYXBwZXIgPSBlbGVtZW50LnBhcmVudCgpOyAvL0hvdGZpeCBmb3IgalF1ZXJ5IDEuNCBzaW5jZSBzb21lIGNoYW5nZSBpbiB3cmFwKCkgc2VlbXMgdG8gYWN0dWFsbHkgbG9zZSB0aGUgcmVmZXJlbmNlIHRvIHRoZSB3cmFwcGVkIGVsZW1lbnRcblxuXHRcdC8vIHRyYW5zZmVyIHBvc2l0aW9uaW5nIHByb3BlcnRpZXMgdG8gdGhlIHdyYXBwZXJcblx0XHRpZiAoIGVsZW1lbnQuY3NzKCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdHdyYXBwZXIuY3NzKHsgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9KTtcblx0XHRcdGVsZW1lbnQuY3NzKHsgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JC5leHRlbmQoIHByb3BzLCB7XG5cdFx0XHRcdHBvc2l0aW9uOiBlbGVtZW50LmNzcyggXCJwb3NpdGlvblwiICksXG5cdFx0XHRcdHpJbmRleDogZWxlbWVudC5jc3MoIFwiei1pbmRleFwiIClcblx0XHRcdH0pO1xuXHRcdFx0JC5lYWNoKFsgXCJ0b3BcIiwgXCJsZWZ0XCIsIFwiYm90dG9tXCIsIFwicmlnaHRcIiBdLCBmdW5jdGlvbihpLCBwb3MpIHtcblx0XHRcdFx0cHJvcHNbIHBvcyBdID0gZWxlbWVudC5jc3MoIHBvcyApO1xuXHRcdFx0XHRpZiAoIGlzTmFOKCBwYXJzZUludCggcHJvcHNbIHBvcyBdLCAxMCApICkgKSB7XG5cdFx0XHRcdFx0cHJvcHNbIHBvcyBdID0gXCJhdXRvXCI7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0ZWxlbWVudC5jc3Moe1xuXHRcdFx0XHRwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuXHRcdFx0XHR0b3A6IDAsXG5cdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdHJpZ2h0OiBcImF1dG9cIixcblx0XHRcdFx0Ym90dG9tOiBcImF1dG9cIlxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGVsZW1lbnQuY3NzKHNpemUpO1xuXG5cdFx0cmV0dXJuIHdyYXBwZXIuY3NzKCBwcm9wcyApLnNob3coKTtcblx0fSxcblxuXHRyZW1vdmVXcmFwcGVyOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR2YXIgYWN0aXZlID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuXHRcdGlmICggZWxlbWVudC5wYXJlbnQoKS5pcyggXCIudWktZWZmZWN0cy13cmFwcGVyXCIgKSApIHtcblx0XHRcdGVsZW1lbnQucGFyZW50KCkucmVwbGFjZVdpdGgoIGVsZW1lbnQgKTtcblxuXHRcdFx0Ly8gRml4ZXMgIzc1OTUgLSBFbGVtZW50cyBsb3NlIGZvY3VzIHdoZW4gd3JhcHBlZC5cblx0XHRcdGlmICggZWxlbWVudFsgMCBdID09PSBhY3RpdmUgfHwgJC5jb250YWlucyggZWxlbWVudFsgMCBdLCBhY3RpdmUgKSApIHtcblx0XHRcdFx0JCggYWN0aXZlICkuZm9jdXMoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZWxlbWVudDtcblx0fSxcblxuXHRzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiggZWxlbWVudCwgbGlzdCwgZmFjdG9yLCB2YWx1ZSApIHtcblx0XHR2YWx1ZSA9IHZhbHVlIHx8IHt9O1xuXHRcdCQuZWFjaCggbGlzdCwgZnVuY3Rpb24oIGksIHggKSB7XG5cdFx0XHR2YXIgdW5pdCA9IGVsZW1lbnQuY3NzVW5pdCggeCApO1xuXHRcdFx0aWYgKCB1bml0WyAwIF0gPiAwICkge1xuXHRcdFx0XHR2YWx1ZVsgeCBdID0gdW5pdFsgMCBdICogZmFjdG9yICsgdW5pdFsgMSBdO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fVxufSk7XG5cbi8vIHJldHVybiBhbiBlZmZlY3Qgb3B0aW9ucyBvYmplY3QgZm9yIHRoZSBnaXZlbiBwYXJhbWV0ZXJzOlxuZnVuY3Rpb24gX25vcm1hbGl6ZUFyZ3VtZW50cyggZWZmZWN0LCBvcHRpb25zLCBzcGVlZCwgY2FsbGJhY2sgKSB7XG5cblx0Ly8gYWxsb3cgcGFzc2luZyBhbGwgb3B0aW9ucyBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyXG5cdGlmICggJC5pc1BsYWluT2JqZWN0KCBlZmZlY3QgKSApIHtcblx0XHRvcHRpb25zID0gZWZmZWN0O1xuXHRcdGVmZmVjdCA9IGVmZmVjdC5lZmZlY3Q7XG5cdH1cblxuXHQvLyBjb252ZXJ0IHRvIGFuIG9iamVjdFxuXHRlZmZlY3QgPSB7IGVmZmVjdDogZWZmZWN0IH07XG5cblx0Ly8gY2F0Y2ggKGVmZmVjdCwgbnVsbCwgLi4uKVxuXHRpZiAoIG9wdGlvbnMgPT0gbnVsbCApIHtcblx0XHRvcHRpb25zID0ge307XG5cdH1cblxuXHQvLyBjYXRjaCAoZWZmZWN0LCBjYWxsYmFjaylcblx0aWYgKCAkLmlzRnVuY3Rpb24oIG9wdGlvbnMgKSApIHtcblx0XHRjYWxsYmFjayA9IG9wdGlvbnM7XG5cdFx0c3BlZWQgPSBudWxsO1xuXHRcdG9wdGlvbnMgPSB7fTtcblx0fVxuXG5cdC8vIGNhdGNoIChlZmZlY3QsIHNwZWVkLCA/KVxuXHRpZiAoIHR5cGVvZiBvcHRpb25zID09PSBcIm51bWJlclwiIHx8ICQuZnguc3BlZWRzWyBvcHRpb25zIF0gKSB7XG5cdFx0Y2FsbGJhY2sgPSBzcGVlZDtcblx0XHRzcGVlZCA9IG9wdGlvbnM7XG5cdFx0b3B0aW9ucyA9IHt9O1xuXHR9XG5cblx0Ly8gY2F0Y2ggKGVmZmVjdCwgb3B0aW9ucywgY2FsbGJhY2spXG5cdGlmICggJC5pc0Z1bmN0aW9uKCBzcGVlZCApICkge1xuXHRcdGNhbGxiYWNrID0gc3BlZWQ7XG5cdFx0c3BlZWQgPSBudWxsO1xuXHR9XG5cblx0Ly8gYWRkIG9wdGlvbnMgdG8gZWZmZWN0XG5cdGlmICggb3B0aW9ucyApIHtcblx0XHQkLmV4dGVuZCggZWZmZWN0LCBvcHRpb25zICk7XG5cdH1cblxuXHRzcGVlZCA9IHNwZWVkIHx8IG9wdGlvbnMuZHVyYXRpb247XG5cdGVmZmVjdC5kdXJhdGlvbiA9ICQuZngub2ZmID8gMCA6XG5cdFx0dHlwZW9mIHNwZWVkID09PSBcIm51bWJlclwiID8gc3BlZWQgOlxuXHRcdHNwZWVkIGluICQuZnguc3BlZWRzID8gJC5meC5zcGVlZHNbIHNwZWVkIF0gOlxuXHRcdCQuZnguc3BlZWRzLl9kZWZhdWx0O1xuXG5cdGVmZmVjdC5jb21wbGV0ZSA9IGNhbGxiYWNrIHx8IG9wdGlvbnMuY29tcGxldGU7XG5cblx0cmV0dXJuIGVmZmVjdDtcbn1cblxuZnVuY3Rpb24gc3RhbmRhcmRBbmltYXRpb25PcHRpb24oIG9wdGlvbiApIHtcblx0Ly8gVmFsaWQgc3RhbmRhcmQgc3BlZWRzIChub3RoaW5nLCBudW1iZXIsIG5hbWVkIHNwZWVkKVxuXHRpZiAoICFvcHRpb24gfHwgdHlwZW9mIG9wdGlvbiA9PT0gXCJudW1iZXJcIiB8fCAkLmZ4LnNwZWVkc1sgb3B0aW9uIF0gKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnZhbGlkIHN0cmluZ3MgLSB0cmVhdCBhcyBcIm5vcm1hbFwiIHNwZWVkXG5cdGlmICggdHlwZW9mIG9wdGlvbiA9PT0gXCJzdHJpbmdcIiAmJiAhJC5lZmZlY3RzLmVmZmVjdFsgb3B0aW9uIF0gKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBDb21wbGV0ZSBjYWxsYmFja1xuXHRpZiAoICQuaXNGdW5jdGlvbiggb3B0aW9uICkgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBPcHRpb25zIGhhc2ggKGJ1dCBub3QgbmFtaW5nIGFuIGVmZmVjdClcblx0aWYgKCB0eXBlb2Ygb3B0aW9uID09PSBcIm9iamVjdFwiICYmICFvcHRpb24uZWZmZWN0ICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gRGlkbid0IG1hdGNoIGFueSBzdGFuZGFyZCBBUElcblx0cmV0dXJuIGZhbHNlO1xufVxuXG4kLmZuLmV4dGVuZCh7XG5cdGVmZmVjdDogZnVuY3Rpb24oIC8qIGVmZmVjdCwgb3B0aW9ucywgc3BlZWQsIGNhbGxiYWNrICovICkge1xuXHRcdHZhciBhcmdzID0gX25vcm1hbGl6ZUFyZ3VtZW50cy5hcHBseSggdGhpcywgYXJndW1lbnRzICksXG5cdFx0XHRtb2RlID0gYXJncy5tb2RlLFxuXHRcdFx0cXVldWUgPSBhcmdzLnF1ZXVlLFxuXHRcdFx0ZWZmZWN0TWV0aG9kID0gJC5lZmZlY3RzLmVmZmVjdFsgYXJncy5lZmZlY3QgXTtcblxuXHRcdGlmICggJC5meC5vZmYgfHwgIWVmZmVjdE1ldGhvZCApIHtcblx0XHRcdC8vIGRlbGVnYXRlIHRvIHRoZSBvcmlnaW5hbCBtZXRob2QgKGUuZy4sIC5zaG93KCkpIGlmIHBvc3NpYmxlXG5cdFx0XHRpZiAoIG1vZGUgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzWyBtb2RlIF0oIGFyZ3MuZHVyYXRpb24sIGFyZ3MuY29tcGxldGUgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggYXJncy5jb21wbGV0ZSApIHtcblx0XHRcdFx0XHRcdGFyZ3MuY29tcGxldGUuY2FsbCggdGhpcyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcnVuKCBuZXh0ICkge1xuXHRcdFx0dmFyIGVsZW0gPSAkKCB0aGlzICksXG5cdFx0XHRcdGNvbXBsZXRlID0gYXJncy5jb21wbGV0ZSxcblx0XHRcdFx0bW9kZSA9IGFyZ3MubW9kZTtcblxuXHRcdFx0ZnVuY3Rpb24gZG9uZSgpIHtcblx0XHRcdFx0aWYgKCAkLmlzRnVuY3Rpb24oIGNvbXBsZXRlICkgKSB7XG5cdFx0XHRcdFx0Y29tcGxldGUuY2FsbCggZWxlbVswXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggJC5pc0Z1bmN0aW9uKCBuZXh0ICkgKSB7XG5cdFx0XHRcdFx0bmV4dCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGFscmVhZHkgaGFzIHRoZSBjb3JyZWN0IGZpbmFsIHN0YXRlLCBkZWxlZ2F0ZSB0b1xuXHRcdFx0Ly8gdGhlIGNvcmUgbWV0aG9kcyBzbyB0aGUgaW50ZXJuYWwgdHJhY2tpbmcgb2YgXCJvbGRkaXNwbGF5XCIgd29ya3MuXG5cdFx0XHRpZiAoIGVsZW0uaXMoIFwiOmhpZGRlblwiICkgPyBtb2RlID09PSBcImhpZGVcIiA6IG1vZGUgPT09IFwic2hvd1wiICkge1xuXHRcdFx0XHRlbGVtWyBtb2RlIF0oKTtcblx0XHRcdFx0ZG9uZSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWZmZWN0TWV0aG9kLmNhbGwoIGVsZW1bMF0sIGFyZ3MsIGRvbmUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcXVldWUgPT09IGZhbHNlID8gdGhpcy5lYWNoKCBydW4gKSA6IHRoaXMucXVldWUoIHF1ZXVlIHx8IFwiZnhcIiwgcnVuICk7XG5cdH0sXG5cblx0c2hvdzogKGZ1bmN0aW9uKCBvcmlnICkge1xuXHRcdHJldHVybiBmdW5jdGlvbiggb3B0aW9uICkge1xuXHRcdFx0aWYgKCBzdGFuZGFyZEFuaW1hdGlvbk9wdGlvbiggb3B0aW9uICkgKSB7XG5cdFx0XHRcdHJldHVybiBvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBhcmdzID0gX25vcm1hbGl6ZUFyZ3VtZW50cy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGFyZ3MubW9kZSA9IFwic2hvd1wiO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5lZmZlY3QuY2FsbCggdGhpcywgYXJncyApO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0pKCAkLmZuLnNob3cgKSxcblxuXHRoaWRlOiAoZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBvcHRpb24gKSB7XG5cdFx0XHRpZiAoIHN0YW5kYXJkQW5pbWF0aW9uT3B0aW9uKCBvcHRpb24gKSApIHtcblx0XHRcdFx0cmV0dXJuIG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGFyZ3MgPSBfbm9ybWFsaXplQXJndW1lbnRzLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0YXJncy5tb2RlID0gXCJoaWRlXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzLmVmZmVjdC5jYWxsKCB0aGlzLCBhcmdzICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSkoICQuZm4uaGlkZSApLFxuXG5cdHRvZ2dsZTogKGZ1bmN0aW9uKCBvcmlnICkge1xuXHRcdHJldHVybiBmdW5jdGlvbiggb3B0aW9uICkge1xuXHRcdFx0aWYgKCBzdGFuZGFyZEFuaW1hdGlvbk9wdGlvbiggb3B0aW9uICkgfHwgdHlwZW9mIG9wdGlvbiA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRcdHJldHVybiBvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBhcmdzID0gX25vcm1hbGl6ZUFyZ3VtZW50cy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGFyZ3MubW9kZSA9IFwidG9nZ2xlXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzLmVmZmVjdC5jYWxsKCB0aGlzLCBhcmdzICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSkoICQuZm4udG9nZ2xlICksXG5cblx0Ly8gaGVscGVyIGZ1bmN0aW9uc1xuXHRjc3NVbml0OiBmdW5jdGlvbihrZXkpIHtcblx0XHR2YXIgc3R5bGUgPSB0aGlzLmNzcygga2V5ICksXG5cdFx0XHR2YWwgPSBbXTtcblxuXHRcdCQuZWFjaCggWyBcImVtXCIsIFwicHhcIiwgXCIlXCIsIFwicHRcIiBdLCBmdW5jdGlvbiggaSwgdW5pdCApIHtcblx0XHRcdGlmICggc3R5bGUuaW5kZXhPZiggdW5pdCApID4gMCApIHtcblx0XHRcdFx0dmFsID0gWyBwYXJzZUZsb2F0KCBzdHlsZSApLCB1bml0IF07XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxufSk7XG5cbn0pKCk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRUFTSU5HICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuKGZ1bmN0aW9uKCkge1xuXG4vLyBiYXNlZCBvbiBlYXNpbmcgZXF1YXRpb25zIGZyb20gUm9iZXJ0IFBlbm5lciAoaHR0cDovL3d3dy5yb2JlcnRwZW5uZXIuY29tL2Vhc2luZylcblxudmFyIGJhc2VFYXNpbmdzID0ge307XG5cbiQuZWFjaCggWyBcIlF1YWRcIiwgXCJDdWJpY1wiLCBcIlF1YXJ0XCIsIFwiUXVpbnRcIiwgXCJFeHBvXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdGJhc2VFYXNpbmdzWyBuYW1lIF0gPSBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gTWF0aC5wb3coIHAsIGkgKyAyICk7XG5cdH07XG59KTtcblxuJC5leHRlbmQoIGJhc2VFYXNpbmdzLCB7XG5cdFNpbmU6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAxIC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJIC8gMiApO1xuXHR9LFxuXHRDaXJjOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMSAtIE1hdGguc3FydCggMSAtIHAgKiBwICk7XG5cdH0sXG5cdEVsYXN0aWM6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiBwID09PSAwIHx8IHAgPT09IDEgPyBwIDpcblx0XHRcdC1NYXRoLnBvdyggMiwgOCAqIChwIC0gMSkgKSAqIE1hdGguc2luKCAoIChwIC0gMSkgKiA4MCAtIDcuNSApICogTWF0aC5QSSAvIDE1ICk7XG5cdH0sXG5cdEJhY2s6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiBwICogcCAqICggMyAqIHAgLSAyICk7XG5cdH0sXG5cdEJvdW5jZTogZnVuY3Rpb24oIHAgKSB7XG5cdFx0dmFyIHBvdzIsXG5cdFx0XHRib3VuY2UgPSA0O1xuXG5cdFx0d2hpbGUgKCBwIDwgKCAoIHBvdzIgPSBNYXRoLnBvdyggMiwgLS1ib3VuY2UgKSApIC0gMSApIC8gMTEgKSB7fVxuXHRcdHJldHVybiAxIC8gTWF0aC5wb3coIDQsIDMgLSBib3VuY2UgKSAtIDcuNTYyNSAqIE1hdGgucG93KCAoIHBvdzIgKiAzIC0gMiApIC8gMjIgLSBwLCAyICk7XG5cdH1cbn0pO1xuXG4kLmVhY2goIGJhc2VFYXNpbmdzLCBmdW5jdGlvbiggbmFtZSwgZWFzZUluICkge1xuXHQkLmVhc2luZ1sgXCJlYXNlSW5cIiArIG5hbWUgXSA9IGVhc2VJbjtcblx0JC5lYXNpbmdbIFwiZWFzZU91dFwiICsgbmFtZSBdID0gZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIDEgLSBlYXNlSW4oIDEgLSBwICk7XG5cdH07XG5cdCQuZWFzaW5nWyBcImVhc2VJbk91dFwiICsgbmFtZSBdID0gZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHAgPCAwLjUgP1xuXHRcdFx0ZWFzZUluKCBwICogMiApIC8gMiA6XG5cdFx0XHQxIC0gZWFzZUluKCBwICogLTIgKyAyICkgLyAyO1xuXHR9O1xufSk7XG5cbn0pKCk7XG5cbnZhciBlZmZlY3QgPSAkLmVmZmVjdHM7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBCbGluZCAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2JsaW5kLWVmZmVjdC9cbiAqL1xuXG5cbnZhciBlZmZlY3RCbGluZCA9ICQuZWZmZWN0cy5lZmZlY3QuYmxpbmQgPSBmdW5jdGlvbiggbywgZG9uZSApIHtcblx0Ly8gQ3JlYXRlIGVsZW1lbnRcblx0dmFyIGVsID0gJCggdGhpcyApLFxuXHRcdHJ2ZXJ0aWNhbCA9IC91cHxkb3dufHZlcnRpY2FsLyxcblx0XHRycG9zaXRpdmVtb3Rpb24gPSAvdXB8bGVmdHx2ZXJ0aWNhbHxob3Jpem9udGFsLyxcblx0XHRwcm9wcyA9IFsgXCJwb3NpdGlvblwiLCBcInRvcFwiLCBcImJvdHRvbVwiLCBcImxlZnRcIiwgXCJyaWdodFwiLCBcImhlaWdodFwiLCBcIndpZHRoXCIgXSxcblx0XHRtb2RlID0gJC5lZmZlY3RzLnNldE1vZGUoIGVsLCBvLm1vZGUgfHwgXCJoaWRlXCIgKSxcblx0XHRkaXJlY3Rpb24gPSBvLmRpcmVjdGlvbiB8fCBcInVwXCIsXG5cdFx0dmVydGljYWwgPSBydmVydGljYWwudGVzdCggZGlyZWN0aW9uICksXG5cdFx0cmVmID0gdmVydGljYWwgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiLFxuXHRcdHJlZjIgPSB2ZXJ0aWNhbCA/IFwidG9wXCIgOiBcImxlZnRcIixcblx0XHRtb3Rpb24gPSBycG9zaXRpdmVtb3Rpb24udGVzdCggZGlyZWN0aW9uICksXG5cdFx0YW5pbWF0aW9uID0ge30sXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXHRcdHdyYXBwZXIsIGRpc3RhbmNlLCBtYXJnaW47XG5cblx0Ly8gaWYgYWxyZWFkeSB3cmFwcGVkLCB0aGUgd3JhcHBlcidzIHByb3BlcnRpZXMgYXJlIG15IHByb3BlcnR5LiAjNjI0NVxuXHRpZiAoIGVsLnBhcmVudCgpLmlzKCBcIi51aS1lZmZlY3RzLXdyYXBwZXJcIiApICkge1xuXHRcdCQuZWZmZWN0cy5zYXZlKCBlbC5wYXJlbnQoKSwgcHJvcHMgKTtcblx0fSBlbHNlIHtcblx0XHQkLmVmZmVjdHMuc2F2ZSggZWwsIHByb3BzICk7XG5cdH1cblx0ZWwuc2hvdygpO1xuXHR3cmFwcGVyID0gJC5lZmZlY3RzLmNyZWF0ZVdyYXBwZXIoIGVsICkuY3NzKHtcblx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIlxuXHR9KTtcblxuXHRkaXN0YW5jZSA9IHdyYXBwZXJbIHJlZiBdKCk7XG5cdG1hcmdpbiA9IHBhcnNlRmxvYXQoIHdyYXBwZXIuY3NzKCByZWYyICkgKSB8fCAwO1xuXG5cdGFuaW1hdGlvblsgcmVmIF0gPSBzaG93ID8gZGlzdGFuY2UgOiAwO1xuXHRpZiAoICFtb3Rpb24gKSB7XG5cdFx0ZWxcblx0XHRcdC5jc3MoIHZlcnRpY2FsID8gXCJib3R0b21cIiA6IFwicmlnaHRcIiwgMCApXG5cdFx0XHQuY3NzKCB2ZXJ0aWNhbCA/IFwidG9wXCIgOiBcImxlZnRcIiwgXCJhdXRvXCIgKVxuXHRcdFx0LmNzcyh7IHBvc2l0aW9uOiBcImFic29sdXRlXCIgfSk7XG5cblx0XHRhbmltYXRpb25bIHJlZjIgXSA9IHNob3cgPyBtYXJnaW4gOiBkaXN0YW5jZSArIG1hcmdpbjtcblx0fVxuXG5cdC8vIHN0YXJ0IGF0IDAgaWYgd2UgYXJlIHNob3dpbmdcblx0aWYgKCBzaG93ICkge1xuXHRcdHdyYXBwZXIuY3NzKCByZWYsIDAgKTtcblx0XHRpZiAoICFtb3Rpb24gKSB7XG5cdFx0XHR3cmFwcGVyLmNzcyggcmVmMiwgbWFyZ2luICsgZGlzdGFuY2UgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBBbmltYXRlXG5cdHdyYXBwZXIuYW5pbWF0ZSggYW5pbWF0aW9uLCB7XG5cdFx0ZHVyYXRpb246IG8uZHVyYXRpb24sXG5cdFx0ZWFzaW5nOiBvLmVhc2luZyxcblx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0Y29tcGxldGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBtb2RlID09PSBcImhpZGVcIiApIHtcblx0XHRcdFx0ZWwuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdFx0JC5lZmZlY3RzLnJlc3RvcmUoIGVsLCBwcm9wcyApO1xuXHRcdFx0JC5lZmZlY3RzLnJlbW92ZVdyYXBwZXIoIGVsICk7XG5cdFx0XHRkb25lKCk7XG5cdFx0fVxuXHR9KTtcbn07XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBCb3VuY2UgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9ib3VuY2UtZWZmZWN0L1xuICovXG5cblxudmFyIGVmZmVjdEJvdW5jZSA9ICQuZWZmZWN0cy5lZmZlY3QuYm91bmNlID0gZnVuY3Rpb24oIG8sIGRvbmUgKSB7XG5cdHZhciBlbCA9ICQoIHRoaXMgKSxcblx0XHRwcm9wcyA9IFsgXCJwb3NpdGlvblwiLCBcInRvcFwiLCBcImJvdHRvbVwiLCBcImxlZnRcIiwgXCJyaWdodFwiLCBcImhlaWdodFwiLCBcIndpZHRoXCIgXSxcblxuXHRcdC8vIGRlZmF1bHRzOlxuXHRcdG1vZGUgPSAkLmVmZmVjdHMuc2V0TW9kZSggZWwsIG8ubW9kZSB8fCBcImVmZmVjdFwiICksXG5cdFx0aGlkZSA9IG1vZGUgPT09IFwiaGlkZVwiLFxuXHRcdHNob3cgPSBtb2RlID09PSBcInNob3dcIixcblx0XHRkaXJlY3Rpb24gPSBvLmRpcmVjdGlvbiB8fCBcInVwXCIsXG5cdFx0ZGlzdGFuY2UgPSBvLmRpc3RhbmNlLFxuXHRcdHRpbWVzID0gby50aW1lcyB8fCA1LFxuXG5cdFx0Ly8gbnVtYmVyIG9mIGludGVybmFsIGFuaW1hdGlvbnNcblx0XHRhbmltcyA9IHRpbWVzICogMiArICggc2hvdyB8fCBoaWRlID8gMSA6IDAgKSxcblx0XHRzcGVlZCA9IG8uZHVyYXRpb24gLyBhbmltcyxcblx0XHRlYXNpbmcgPSBvLmVhc2luZyxcblxuXHRcdC8vIHV0aWxpdHk6XG5cdFx0cmVmID0gKCBkaXJlY3Rpb24gPT09IFwidXBcIiB8fCBkaXJlY3Rpb24gPT09IFwiZG93blwiICkgPyBcInRvcFwiIDogXCJsZWZ0XCIsXG5cdFx0bW90aW9uID0gKCBkaXJlY3Rpb24gPT09IFwidXBcIiB8fCBkaXJlY3Rpb24gPT09IFwibGVmdFwiICksXG5cdFx0aSxcblx0XHR1cEFuaW0sXG5cdFx0ZG93bkFuaW0sXG5cblx0XHQvLyB3ZSB3aWxsIG5lZWQgdG8gcmUtYXNzZW1ibGUgdGhlIHF1ZXVlIHRvIHN0YWNrIG91ciBhbmltYXRpb25zIGluIHBsYWNlXG5cdFx0cXVldWUgPSBlbC5xdWV1ZSgpLFxuXHRcdHF1ZXVlbGVuID0gcXVldWUubGVuZ3RoO1xuXG5cdC8vIEF2b2lkIHRvdWNoaW5nIG9wYWNpdHkgdG8gcHJldmVudCBjbGVhclR5cGUgYW5kIFBORyBpc3N1ZXMgaW4gSUVcblx0aWYgKCBzaG93IHx8IGhpZGUgKSB7XG5cdFx0cHJvcHMucHVzaCggXCJvcGFjaXR5XCIgKTtcblx0fVxuXG5cdCQuZWZmZWN0cy5zYXZlKCBlbCwgcHJvcHMgKTtcblx0ZWwuc2hvdygpO1xuXHQkLmVmZmVjdHMuY3JlYXRlV3JhcHBlciggZWwgKTsgLy8gQ3JlYXRlIFdyYXBwZXJcblxuXHQvLyBkZWZhdWx0IGRpc3RhbmNlIGZvciB0aGUgQklHR0VTVCBib3VuY2UgaXMgdGhlIG91dGVyIERpc3RhbmNlIC8gM1xuXHRpZiAoICFkaXN0YW5jZSApIHtcblx0XHRkaXN0YW5jZSA9IGVsWyByZWYgPT09IFwidG9wXCIgPyBcIm91dGVySGVpZ2h0XCIgOiBcIm91dGVyV2lkdGhcIiBdKCkgLyAzO1xuXHR9XG5cblx0aWYgKCBzaG93ICkge1xuXHRcdGRvd25BbmltID0geyBvcGFjaXR5OiAxIH07XG5cdFx0ZG93bkFuaW1bIHJlZiBdID0gMDtcblxuXHRcdC8vIGlmIHdlIGFyZSBzaG93aW5nLCBmb3JjZSBvcGFjaXR5IDAgYW5kIHNldCB0aGUgaW5pdGlhbCBwb3NpdGlvblxuXHRcdC8vIHRoZW4gZG8gdGhlIFwiZmlyc3RcIiBhbmltYXRpb25cblx0XHRlbC5jc3MoIFwib3BhY2l0eVwiLCAwIClcblx0XHRcdC5jc3MoIHJlZiwgbW90aW9uID8gLWRpc3RhbmNlICogMiA6IGRpc3RhbmNlICogMiApXG5cdFx0XHQuYW5pbWF0ZSggZG93bkFuaW0sIHNwZWVkLCBlYXNpbmcgKTtcblx0fVxuXG5cdC8vIHN0YXJ0IGF0IHRoZSBzbWFsbGVzdCBkaXN0YW5jZSBpZiB3ZSBhcmUgaGlkaW5nXG5cdGlmICggaGlkZSApIHtcblx0XHRkaXN0YW5jZSA9IGRpc3RhbmNlIC8gTWF0aC5wb3coIDIsIHRpbWVzIC0gMSApO1xuXHR9XG5cblx0ZG93bkFuaW0gPSB7fTtcblx0ZG93bkFuaW1bIHJlZiBdID0gMDtcblx0Ly8gQm91bmNlcyB1cC9kb3duL2xlZnQvcmlnaHQgdGhlbiBiYWNrIHRvIDAgLS0gdGltZXMgKiAyIGFuaW1hdGlvbnMgaGFwcGVuIGhlcmVcblx0Zm9yICggaSA9IDA7IGkgPCB0aW1lczsgaSsrICkge1xuXHRcdHVwQW5pbSA9IHt9O1xuXHRcdHVwQW5pbVsgcmVmIF0gPSAoIG1vdGlvbiA/IFwiLT1cIiA6IFwiKz1cIiApICsgZGlzdGFuY2U7XG5cblx0XHRlbC5hbmltYXRlKCB1cEFuaW0sIHNwZWVkLCBlYXNpbmcgKVxuXHRcdFx0LmFuaW1hdGUoIGRvd25BbmltLCBzcGVlZCwgZWFzaW5nICk7XG5cblx0XHRkaXN0YW5jZSA9IGhpZGUgPyBkaXN0YW5jZSAqIDIgOiBkaXN0YW5jZSAvIDI7XG5cdH1cblxuXHQvLyBMYXN0IEJvdW5jZSB3aGVuIEhpZGluZ1xuXHRpZiAoIGhpZGUgKSB7XG5cdFx0dXBBbmltID0geyBvcGFjaXR5OiAwIH07XG5cdFx0dXBBbmltWyByZWYgXSA9ICggbW90aW9uID8gXCItPVwiIDogXCIrPVwiICkgKyBkaXN0YW5jZTtcblxuXHRcdGVsLmFuaW1hdGUoIHVwQW5pbSwgc3BlZWQsIGVhc2luZyApO1xuXHR9XG5cblx0ZWwucXVldWUoZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBoaWRlICkge1xuXHRcdFx0ZWwuaGlkZSgpO1xuXHRcdH1cblx0XHQkLmVmZmVjdHMucmVzdG9yZSggZWwsIHByb3BzICk7XG5cdFx0JC5lZmZlY3RzLnJlbW92ZVdyYXBwZXIoIGVsICk7XG5cdFx0ZG9uZSgpO1xuXHR9KTtcblxuXHQvLyBpbmplY3QgYWxsIHRoZSBhbmltYXRpb25zIHdlIGp1c3QgcXVldWVkIHRvIGJlIGZpcnN0IGluIGxpbmUgKGFmdGVyIFwiaW5wcm9ncmVzc1wiKVxuXHRpZiAoIHF1ZXVlbGVuID4gMSkge1xuXHRcdHF1ZXVlLnNwbGljZS5hcHBseSggcXVldWUsXG5cdFx0XHRbIDEsIDAgXS5jb25jYXQoIHF1ZXVlLnNwbGljZSggcXVldWVsZW4sIGFuaW1zICsgMSApICkgKTtcblx0fVxuXHRlbC5kZXF1ZXVlKCk7XG5cbn07XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBDbGlwIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vY2xpcC1lZmZlY3QvXG4gKi9cblxuXG52YXIgZWZmZWN0Q2xpcCA9ICQuZWZmZWN0cy5lZmZlY3QuY2xpcCA9IGZ1bmN0aW9uKCBvLCBkb25lICkge1xuXHQvLyBDcmVhdGUgZWxlbWVudFxuXHR2YXIgZWwgPSAkKCB0aGlzICksXG5cdFx0cHJvcHMgPSBbIFwicG9zaXRpb25cIiwgXCJ0b3BcIiwgXCJib3R0b21cIiwgXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJoZWlnaHRcIiwgXCJ3aWR0aFwiIF0sXG5cdFx0bW9kZSA9ICQuZWZmZWN0cy5zZXRNb2RlKCBlbCwgby5tb2RlIHx8IFwiaGlkZVwiICksXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXHRcdGRpcmVjdGlvbiA9IG8uZGlyZWN0aW9uIHx8IFwidmVydGljYWxcIixcblx0XHR2ZXJ0ID0gZGlyZWN0aW9uID09PSBcInZlcnRpY2FsXCIsXG5cdFx0c2l6ZSA9IHZlcnQgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiLFxuXHRcdHBvc2l0aW9uID0gdmVydCA/IFwidG9wXCIgOiBcImxlZnRcIixcblx0XHRhbmltYXRpb24gPSB7fSxcblx0XHR3cmFwcGVyLCBhbmltYXRlLCBkaXN0YW5jZTtcblxuXHQvLyBTYXZlICYgU2hvd1xuXHQkLmVmZmVjdHMuc2F2ZSggZWwsIHByb3BzICk7XG5cdGVsLnNob3coKTtcblxuXHQvLyBDcmVhdGUgV3JhcHBlclxuXHR3cmFwcGVyID0gJC5lZmZlY3RzLmNyZWF0ZVdyYXBwZXIoIGVsICkuY3NzKHtcblx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIlxuXHR9KTtcblx0YW5pbWF0ZSA9ICggZWxbMF0udGFnTmFtZSA9PT0gXCJJTUdcIiApID8gd3JhcHBlciA6IGVsO1xuXHRkaXN0YW5jZSA9IGFuaW1hdGVbIHNpemUgXSgpO1xuXG5cdC8vIFNoaWZ0XG5cdGlmICggc2hvdyApIHtcblx0XHRhbmltYXRlLmNzcyggc2l6ZSwgMCApO1xuXHRcdGFuaW1hdGUuY3NzKCBwb3NpdGlvbiwgZGlzdGFuY2UgLyAyICk7XG5cdH1cblxuXHQvLyBDcmVhdGUgQW5pbWF0aW9uIE9iamVjdDpcblx0YW5pbWF0aW9uWyBzaXplIF0gPSBzaG93ID8gZGlzdGFuY2UgOiAwO1xuXHRhbmltYXRpb25bIHBvc2l0aW9uIF0gPSBzaG93ID8gMCA6IGRpc3RhbmNlIC8gMjtcblxuXHQvLyBBbmltYXRlXG5cdGFuaW1hdGUuYW5pbWF0ZSggYW5pbWF0aW9uLCB7XG5cdFx0cXVldWU6IGZhbHNlLFxuXHRcdGR1cmF0aW9uOiBvLmR1cmF0aW9uLFxuXHRcdGVhc2luZzogby5lYXNpbmcsXG5cdFx0Y29tcGxldGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCAhc2hvdyApIHtcblx0XHRcdFx0ZWwuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdFx0JC5lZmZlY3RzLnJlc3RvcmUoIGVsLCBwcm9wcyApO1xuXHRcdFx0JC5lZmZlY3RzLnJlbW92ZVdyYXBwZXIoIGVsICk7XG5cdFx0XHRkb25lKCk7XG5cdFx0fVxuXHR9KTtcblxufTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIERyb3AgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9kcm9wLWVmZmVjdC9cbiAqL1xuXG5cbnZhciBlZmZlY3REcm9wID0gJC5lZmZlY3RzLmVmZmVjdC5kcm9wID0gZnVuY3Rpb24oIG8sIGRvbmUgKSB7XG5cblx0dmFyIGVsID0gJCggdGhpcyApLFxuXHRcdHByb3BzID0gWyBcInBvc2l0aW9uXCIsIFwidG9wXCIsIFwiYm90dG9tXCIsIFwibGVmdFwiLCBcInJpZ2h0XCIsIFwib3BhY2l0eVwiLCBcImhlaWdodFwiLCBcIndpZHRoXCIgXSxcblx0XHRtb2RlID0gJC5lZmZlY3RzLnNldE1vZGUoIGVsLCBvLm1vZGUgfHwgXCJoaWRlXCIgKSxcblx0XHRzaG93ID0gbW9kZSA9PT0gXCJzaG93XCIsXG5cdFx0ZGlyZWN0aW9uID0gby5kaXJlY3Rpb24gfHwgXCJsZWZ0XCIsXG5cdFx0cmVmID0gKCBkaXJlY3Rpb24gPT09IFwidXBcIiB8fCBkaXJlY3Rpb24gPT09IFwiZG93blwiICkgPyBcInRvcFwiIDogXCJsZWZ0XCIsXG5cdFx0bW90aW9uID0gKCBkaXJlY3Rpb24gPT09IFwidXBcIiB8fCBkaXJlY3Rpb24gPT09IFwibGVmdFwiICkgPyBcInBvc1wiIDogXCJuZWdcIixcblx0XHRhbmltYXRpb24gPSB7XG5cdFx0XHRvcGFjaXR5OiBzaG93ID8gMSA6IDBcblx0XHR9LFxuXHRcdGRpc3RhbmNlO1xuXG5cdC8vIEFkanVzdFxuXHQkLmVmZmVjdHMuc2F2ZSggZWwsIHByb3BzICk7XG5cdGVsLnNob3coKTtcblx0JC5lZmZlY3RzLmNyZWF0ZVdyYXBwZXIoIGVsICk7XG5cblx0ZGlzdGFuY2UgPSBvLmRpc3RhbmNlIHx8IGVsWyByZWYgPT09IFwidG9wXCIgPyBcIm91dGVySGVpZ2h0XCIgOiBcIm91dGVyV2lkdGhcIiBdKCB0cnVlICkgLyAyO1xuXG5cdGlmICggc2hvdyApIHtcblx0XHRlbFxuXHRcdFx0LmNzcyggXCJvcGFjaXR5XCIsIDAgKVxuXHRcdFx0LmNzcyggcmVmLCBtb3Rpb24gPT09IFwicG9zXCIgPyAtZGlzdGFuY2UgOiBkaXN0YW5jZSApO1xuXHR9XG5cblx0Ly8gQW5pbWF0aW9uXG5cdGFuaW1hdGlvblsgcmVmIF0gPSAoIHNob3cgP1xuXHRcdCggbW90aW9uID09PSBcInBvc1wiID8gXCIrPVwiIDogXCItPVwiICkgOlxuXHRcdCggbW90aW9uID09PSBcInBvc1wiID8gXCItPVwiIDogXCIrPVwiICkgKSArXG5cdFx0ZGlzdGFuY2U7XG5cblx0Ly8gQW5pbWF0ZVxuXHRlbC5hbmltYXRlKCBhbmltYXRpb24sIHtcblx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0ZHVyYXRpb246IG8uZHVyYXRpb24sXG5cdFx0ZWFzaW5nOiBvLmVhc2luZyxcblx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIG1vZGUgPT09IFwiaGlkZVwiICkge1xuXHRcdFx0XHRlbC5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0XHQkLmVmZmVjdHMucmVzdG9yZSggZWwsIHByb3BzICk7XG5cdFx0XHQkLmVmZmVjdHMucmVtb3ZlV3JhcHBlciggZWwgKTtcblx0XHRcdGRvbmUoKTtcblx0XHR9XG5cdH0pO1xufTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIEV4cGxvZGUgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9leHBsb2RlLWVmZmVjdC9cbiAqL1xuXG5cbnZhciBlZmZlY3RFeHBsb2RlID0gJC5lZmZlY3RzLmVmZmVjdC5leHBsb2RlID0gZnVuY3Rpb24oIG8sIGRvbmUgKSB7XG5cblx0dmFyIHJvd3MgPSBvLnBpZWNlcyA/IE1hdGgucm91bmQoIE1hdGguc3FydCggby5waWVjZXMgKSApIDogMyxcblx0XHRjZWxscyA9IHJvd3MsXG5cdFx0ZWwgPSAkKCB0aGlzICksXG5cdFx0bW9kZSA9ICQuZWZmZWN0cy5zZXRNb2RlKCBlbCwgby5tb2RlIHx8IFwiaGlkZVwiICksXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXG5cdFx0Ly8gc2hvdyBhbmQgdGhlbiB2aXNpYmlsaXR5OmhpZGRlbiB0aGUgZWxlbWVudCBiZWZvcmUgY2FsY3VsYXRpbmcgb2Zmc2V0XG5cdFx0b2Zmc2V0ID0gZWwuc2hvdygpLmNzcyggXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIgKS5vZmZzZXQoKSxcblxuXHRcdC8vIHdpZHRoIGFuZCBoZWlnaHQgb2YgYSBwaWVjZVxuXHRcdHdpZHRoID0gTWF0aC5jZWlsKCBlbC5vdXRlcldpZHRoKCkgLyBjZWxscyApLFxuXHRcdGhlaWdodCA9IE1hdGguY2VpbCggZWwub3V0ZXJIZWlnaHQoKSAvIHJvd3MgKSxcblx0XHRwaWVjZXMgPSBbXSxcblxuXHRcdC8vIGxvb3Bcblx0XHRpLCBqLCBsZWZ0LCB0b3AsIG14LCBteTtcblxuXHQvLyBjaGlsZHJlbiBhbmltYXRlIGNvbXBsZXRlOlxuXHRmdW5jdGlvbiBjaGlsZENvbXBsZXRlKCkge1xuXHRcdHBpZWNlcy5wdXNoKCB0aGlzICk7XG5cdFx0aWYgKCBwaWVjZXMubGVuZ3RoID09PSByb3dzICogY2VsbHMgKSB7XG5cdFx0XHRhbmltQ29tcGxldGUoKTtcblx0XHR9XG5cdH1cblxuXHQvLyBjbG9uZSB0aGUgZWxlbWVudCBmb3IgZWFjaCByb3cgYW5kIGNlbGwuXG5cdGZvciAoIGkgPSAwOyBpIDwgcm93cyA7IGkrKyApIHsgLy8gPT09PlxuXHRcdHRvcCA9IG9mZnNldC50b3AgKyBpICogaGVpZ2h0O1xuXHRcdG15ID0gaSAtICggcm93cyAtIDEgKSAvIDIgO1xuXG5cdFx0Zm9yICggaiA9IDA7IGogPCBjZWxscyA7IGorKyApIHsgLy8gfHx8XG5cdFx0XHRsZWZ0ID0gb2Zmc2V0LmxlZnQgKyBqICogd2lkdGg7XG5cdFx0XHRteCA9IGogLSAoIGNlbGxzIC0gMSApIC8gMiA7XG5cblx0XHRcdC8vIENyZWF0ZSBhIGNsb25lIG9mIHRoZSBub3cgaGlkZGVuIG1haW4gZWxlbWVudCB0aGF0IHdpbGwgYmUgYWJzb2x1dGUgcG9zaXRpb25lZFxuXHRcdFx0Ly8gd2l0aGluIGEgd3JhcHBlciBkaXYgb2ZmIHRoZSAtbGVmdCBhbmQgLXRvcCBlcXVhbCB0byBzaXplIG9mIG91ciBwaWVjZXNcblx0XHRcdGVsXG5cdFx0XHRcdC5jbG9uZSgpXG5cdFx0XHRcdC5hcHBlbmRUbyggXCJib2R5XCIgKVxuXHRcdFx0XHQud3JhcCggXCI8ZGl2PjwvZGl2PlwiIClcblx0XHRcdFx0LmNzcyh7XG5cdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHR2aXNpYmlsaXR5OiBcInZpc2libGVcIixcblx0XHRcdFx0XHRsZWZ0OiAtaiAqIHdpZHRoLFxuXHRcdFx0XHRcdHRvcDogLWkgKiBoZWlnaHRcblx0XHRcdFx0fSlcblxuXHRcdFx0Ly8gc2VsZWN0IHRoZSB3cmFwcGVyIC0gbWFrZSBpdCBvdmVyZmxvdzogaGlkZGVuIGFuZCBhYnNvbHV0ZSBwb3NpdGlvbmVkIGJhc2VkIG9uXG5cdFx0XHQvLyB3aGVyZSB0aGUgb3JpZ2luYWwgd2FzIGxvY2F0ZWQgK2xlZnQgYW5kICt0b3AgZXF1YWwgdG8gdGhlIHNpemUgb2YgcGllY2VzXG5cdFx0XHRcdC5wYXJlbnQoKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktZWZmZWN0cy1leHBsb2RlXCIgKVxuXHRcdFx0XHQuY3NzKHtcblx0XHRcdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHRcdG92ZXJmbG93OiBcImhpZGRlblwiLFxuXHRcdFx0XHRcdHdpZHRoOiB3aWR0aCxcblx0XHRcdFx0XHRoZWlnaHQ6IGhlaWdodCxcblx0XHRcdFx0XHRsZWZ0OiBsZWZ0ICsgKCBzaG93ID8gbXggKiB3aWR0aCA6IDAgKSxcblx0XHRcdFx0XHR0b3A6IHRvcCArICggc2hvdyA/IG15ICogaGVpZ2h0IDogMCApLFxuXHRcdFx0XHRcdG9wYWNpdHk6IHNob3cgPyAwIDogMVxuXHRcdFx0XHR9KS5hbmltYXRlKHtcblx0XHRcdFx0XHRsZWZ0OiBsZWZ0ICsgKCBzaG93ID8gMCA6IG14ICogd2lkdGggKSxcblx0XHRcdFx0XHR0b3A6IHRvcCArICggc2hvdyA/IDAgOiBteSAqIGhlaWdodCApLFxuXHRcdFx0XHRcdG9wYWNpdHk6IHNob3cgPyAxIDogMFxuXHRcdFx0XHR9LCBvLmR1cmF0aW9uIHx8IDUwMCwgby5lYXNpbmcsIGNoaWxkQ29tcGxldGUgKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBhbmltQ29tcGxldGUoKSB7XG5cdFx0ZWwuY3NzKHtcblx0XHRcdHZpc2liaWxpdHk6IFwidmlzaWJsZVwiXG5cdFx0fSk7XG5cdFx0JCggcGllY2VzICkucmVtb3ZlKCk7XG5cdFx0aWYgKCAhc2hvdyApIHtcblx0XHRcdGVsLmhpZGUoKTtcblx0XHR9XG5cdFx0ZG9uZSgpO1xuXHR9XG59O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgRmFkZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2ZhZGUtZWZmZWN0L1xuICovXG5cblxudmFyIGVmZmVjdEZhZGUgPSAkLmVmZmVjdHMuZWZmZWN0LmZhZGUgPSBmdW5jdGlvbiggbywgZG9uZSApIHtcblx0dmFyIGVsID0gJCggdGhpcyApLFxuXHRcdG1vZGUgPSAkLmVmZmVjdHMuc2V0TW9kZSggZWwsIG8ubW9kZSB8fCBcInRvZ2dsZVwiICk7XG5cblx0ZWwuYW5pbWF0ZSh7XG5cdFx0b3BhY2l0eTogbW9kZVxuXHR9LCB7XG5cdFx0cXVldWU6IGZhbHNlLFxuXHRcdGR1cmF0aW9uOiBvLmR1cmF0aW9uLFxuXHRcdGVhc2luZzogby5lYXNpbmcsXG5cdFx0Y29tcGxldGU6IGRvbmVcblx0fSk7XG59O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgRm9sZCAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2ZvbGQtZWZmZWN0L1xuICovXG5cblxudmFyIGVmZmVjdEZvbGQgPSAkLmVmZmVjdHMuZWZmZWN0LmZvbGQgPSBmdW5jdGlvbiggbywgZG9uZSApIHtcblxuXHQvLyBDcmVhdGUgZWxlbWVudFxuXHR2YXIgZWwgPSAkKCB0aGlzICksXG5cdFx0cHJvcHMgPSBbIFwicG9zaXRpb25cIiwgXCJ0b3BcIiwgXCJib3R0b21cIiwgXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJoZWlnaHRcIiwgXCJ3aWR0aFwiIF0sXG5cdFx0bW9kZSA9ICQuZWZmZWN0cy5zZXRNb2RlKCBlbCwgby5tb2RlIHx8IFwiaGlkZVwiICksXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXHRcdGhpZGUgPSBtb2RlID09PSBcImhpZGVcIixcblx0XHRzaXplID0gby5zaXplIHx8IDE1LFxuXHRcdHBlcmNlbnQgPSAvKFswLTldKyklLy5leGVjKCBzaXplICksXG5cdFx0aG9yaXpGaXJzdCA9ICEhby5ob3JpekZpcnN0LFxuXHRcdHdpZHRoRmlyc3QgPSBzaG93ICE9PSBob3JpekZpcnN0LFxuXHRcdHJlZiA9IHdpZHRoRmlyc3QgPyBbIFwid2lkdGhcIiwgXCJoZWlnaHRcIiBdIDogWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSxcblx0XHRkdXJhdGlvbiA9IG8uZHVyYXRpb24gLyAyLFxuXHRcdHdyYXBwZXIsIGRpc3RhbmNlLFxuXHRcdGFuaW1hdGlvbjEgPSB7fSxcblx0XHRhbmltYXRpb24yID0ge307XG5cblx0JC5lZmZlY3RzLnNhdmUoIGVsLCBwcm9wcyApO1xuXHRlbC5zaG93KCk7XG5cblx0Ly8gQ3JlYXRlIFdyYXBwZXJcblx0d3JhcHBlciA9ICQuZWZmZWN0cy5jcmVhdGVXcmFwcGVyKCBlbCApLmNzcyh7XG5cdFx0b3ZlcmZsb3c6IFwiaGlkZGVuXCJcblx0fSk7XG5cdGRpc3RhbmNlID0gd2lkdGhGaXJzdCA/XG5cdFx0WyB3cmFwcGVyLndpZHRoKCksIHdyYXBwZXIuaGVpZ2h0KCkgXSA6XG5cdFx0WyB3cmFwcGVyLmhlaWdodCgpLCB3cmFwcGVyLndpZHRoKCkgXTtcblxuXHRpZiAoIHBlcmNlbnQgKSB7XG5cdFx0c2l6ZSA9IHBhcnNlSW50KCBwZXJjZW50WyAxIF0sIDEwICkgLyAxMDAgKiBkaXN0YW5jZVsgaGlkZSA/IDAgOiAxIF07XG5cdH1cblx0aWYgKCBzaG93ICkge1xuXHRcdHdyYXBwZXIuY3NzKCBob3JpekZpcnN0ID8ge1xuXHRcdFx0aGVpZ2h0OiAwLFxuXHRcdFx0d2lkdGg6IHNpemVcblx0XHR9IDoge1xuXHRcdFx0aGVpZ2h0OiBzaXplLFxuXHRcdFx0d2lkdGg6IDBcblx0XHR9KTtcblx0fVxuXG5cdC8vIEFuaW1hdGlvblxuXHRhbmltYXRpb24xWyByZWZbIDAgXSBdID0gc2hvdyA/IGRpc3RhbmNlWyAwIF0gOiBzaXplO1xuXHRhbmltYXRpb24yWyByZWZbIDEgXSBdID0gc2hvdyA/IGRpc3RhbmNlWyAxIF0gOiAwO1xuXG5cdC8vIEFuaW1hdGVcblx0d3JhcHBlclxuXHRcdC5hbmltYXRlKCBhbmltYXRpb24xLCBkdXJhdGlvbiwgby5lYXNpbmcgKVxuXHRcdC5hbmltYXRlKCBhbmltYXRpb24yLCBkdXJhdGlvbiwgby5lYXNpbmcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBoaWRlICkge1xuXHRcdFx0XHRlbC5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0XHQkLmVmZmVjdHMucmVzdG9yZSggZWwsIHByb3BzICk7XG5cdFx0XHQkLmVmZmVjdHMucmVtb3ZlV3JhcHBlciggZWwgKTtcblx0XHRcdGRvbmUoKTtcblx0XHR9KTtcblxufTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIEhpZ2hsaWdodCAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2hpZ2hsaWdodC1lZmZlY3QvXG4gKi9cblxuXG52YXIgZWZmZWN0SGlnaGxpZ2h0ID0gJC5lZmZlY3RzLmVmZmVjdC5oaWdobGlnaHQgPSBmdW5jdGlvbiggbywgZG9uZSApIHtcblx0dmFyIGVsZW0gPSAkKCB0aGlzICksXG5cdFx0cHJvcHMgPSBbIFwiYmFja2dyb3VuZEltYWdlXCIsIFwiYmFja2dyb3VuZENvbG9yXCIsIFwib3BhY2l0eVwiIF0sXG5cdFx0bW9kZSA9ICQuZWZmZWN0cy5zZXRNb2RlKCBlbGVtLCBvLm1vZGUgfHwgXCJzaG93XCIgKSxcblx0XHRhbmltYXRpb24gPSB7XG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IGVsZW0uY3NzKCBcImJhY2tncm91bmRDb2xvclwiIClcblx0XHR9O1xuXG5cdGlmIChtb2RlID09PSBcImhpZGVcIikge1xuXHRcdGFuaW1hdGlvbi5vcGFjaXR5ID0gMDtcblx0fVxuXG5cdCQuZWZmZWN0cy5zYXZlKCBlbGVtLCBwcm9wcyApO1xuXG5cdGVsZW1cblx0XHQuc2hvdygpXG5cdFx0LmNzcyh7XG5cdFx0XHRiYWNrZ3JvdW5kSW1hZ2U6IFwibm9uZVwiLFxuXHRcdFx0YmFja2dyb3VuZENvbG9yOiBvLmNvbG9yIHx8IFwiI2ZmZmY5OVwiXG5cdFx0fSlcblx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uLCB7XG5cdFx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0XHRkdXJhdGlvbjogby5kdXJhdGlvbixcblx0XHRcdGVhc2luZzogby5lYXNpbmcsXG5cdFx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggbW9kZSA9PT0gXCJoaWRlXCIgKSB7XG5cdFx0XHRcdFx0ZWxlbS5oaWRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0JC5lZmZlY3RzLnJlc3RvcmUoIGVsZW0sIHByb3BzICk7XG5cdFx0XHRcdGRvbmUoKTtcblx0XHRcdH1cblx0XHR9KTtcbn07XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBTaXplIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2l6ZS1lZmZlY3QvXG4gKi9cblxuXG52YXIgZWZmZWN0U2l6ZSA9ICQuZWZmZWN0cy5lZmZlY3Quc2l6ZSA9IGZ1bmN0aW9uKCBvLCBkb25lICkge1xuXG5cdC8vIENyZWF0ZSBlbGVtZW50XG5cdHZhciBvcmlnaW5hbCwgYmFzZWxpbmUsIGZhY3Rvcixcblx0XHRlbCA9ICQoIHRoaXMgKSxcblx0XHRwcm9wczAgPSBbIFwicG9zaXRpb25cIiwgXCJ0b3BcIiwgXCJib3R0b21cIiwgXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ3aWR0aFwiLCBcImhlaWdodFwiLCBcIm92ZXJmbG93XCIsIFwib3BhY2l0eVwiIF0sXG5cblx0XHQvLyBBbHdheXMgcmVzdG9yZVxuXHRcdHByb3BzMSA9IFsgXCJwb3NpdGlvblwiLCBcInRvcFwiLCBcImJvdHRvbVwiLCBcImxlZnRcIiwgXCJyaWdodFwiLCBcIm92ZXJmbG93XCIsIFwib3BhY2l0eVwiIF0sXG5cblx0XHQvLyBDb3B5IGZvciBjaGlsZHJlblxuXHRcdHByb3BzMiA9IFsgXCJ3aWR0aFwiLCBcImhlaWdodFwiLCBcIm92ZXJmbG93XCIgXSxcblx0XHRjUHJvcHMgPSBbIFwiZm9udFNpemVcIiBdLFxuXHRcdHZQcm9wcyA9IFsgXCJib3JkZXJUb3BXaWR0aFwiLCBcImJvcmRlckJvdHRvbVdpZHRoXCIsIFwicGFkZGluZ1RvcFwiLCBcInBhZGRpbmdCb3R0b21cIiBdLFxuXHRcdGhQcm9wcyA9IFsgXCJib3JkZXJMZWZ0V2lkdGhcIiwgXCJib3JkZXJSaWdodFdpZHRoXCIsIFwicGFkZGluZ0xlZnRcIiwgXCJwYWRkaW5nUmlnaHRcIiBdLFxuXG5cdFx0Ly8gU2V0IG9wdGlvbnNcblx0XHRtb2RlID0gJC5lZmZlY3RzLnNldE1vZGUoIGVsLCBvLm1vZGUgfHwgXCJlZmZlY3RcIiApLFxuXHRcdHJlc3RvcmUgPSBvLnJlc3RvcmUgfHwgbW9kZSAhPT0gXCJlZmZlY3RcIixcblx0XHRzY2FsZSA9IG8uc2NhbGUgfHwgXCJib3RoXCIsXG5cdFx0b3JpZ2luID0gby5vcmlnaW4gfHwgWyBcIm1pZGRsZVwiLCBcImNlbnRlclwiIF0sXG5cdFx0cG9zaXRpb24gPSBlbC5jc3MoIFwicG9zaXRpb25cIiApLFxuXHRcdHByb3BzID0gcmVzdG9yZSA/IHByb3BzMCA6IHByb3BzMSxcblx0XHR6ZXJvID0ge1xuXHRcdFx0aGVpZ2h0OiAwLFxuXHRcdFx0d2lkdGg6IDAsXG5cdFx0XHRvdXRlckhlaWdodDogMCxcblx0XHRcdG91dGVyV2lkdGg6IDBcblx0XHR9O1xuXG5cdGlmICggbW9kZSA9PT0gXCJzaG93XCIgKSB7XG5cdFx0ZWwuc2hvdygpO1xuXHR9XG5cdG9yaWdpbmFsID0ge1xuXHRcdGhlaWdodDogZWwuaGVpZ2h0KCksXG5cdFx0d2lkdGg6IGVsLndpZHRoKCksXG5cdFx0b3V0ZXJIZWlnaHQ6IGVsLm91dGVySGVpZ2h0KCksXG5cdFx0b3V0ZXJXaWR0aDogZWwub3V0ZXJXaWR0aCgpXG5cdH07XG5cblx0aWYgKCBvLm1vZGUgPT09IFwidG9nZ2xlXCIgJiYgbW9kZSA9PT0gXCJzaG93XCIgKSB7XG5cdFx0ZWwuZnJvbSA9IG8udG8gfHwgemVybztcblx0XHRlbC50byA9IG8uZnJvbSB8fCBvcmlnaW5hbDtcblx0fSBlbHNlIHtcblx0XHRlbC5mcm9tID0gby5mcm9tIHx8ICggbW9kZSA9PT0gXCJzaG93XCIgPyB6ZXJvIDogb3JpZ2luYWwgKTtcblx0XHRlbC50byA9IG8udG8gfHwgKCBtb2RlID09PSBcImhpZGVcIiA/IHplcm8gOiBvcmlnaW5hbCApO1xuXHR9XG5cblx0Ly8gU2V0IHNjYWxpbmcgZmFjdG9yXG5cdGZhY3RvciA9IHtcblx0XHRmcm9tOiB7XG5cdFx0XHR5OiBlbC5mcm9tLmhlaWdodCAvIG9yaWdpbmFsLmhlaWdodCxcblx0XHRcdHg6IGVsLmZyb20ud2lkdGggLyBvcmlnaW5hbC53aWR0aFxuXHRcdH0sXG5cdFx0dG86IHtcblx0XHRcdHk6IGVsLnRvLmhlaWdodCAvIG9yaWdpbmFsLmhlaWdodCxcblx0XHRcdHg6IGVsLnRvLndpZHRoIC8gb3JpZ2luYWwud2lkdGhcblx0XHR9XG5cdH07XG5cblx0Ly8gU2NhbGUgdGhlIGNzcyBib3hcblx0aWYgKCBzY2FsZSA9PT0gXCJib3hcIiB8fCBzY2FsZSA9PT0gXCJib3RoXCIgKSB7XG5cblx0XHQvLyBWZXJ0aWNhbCBwcm9wcyBzY2FsaW5nXG5cdFx0aWYgKCBmYWN0b3IuZnJvbS55ICE9PSBmYWN0b3IudG8ueSApIHtcblx0XHRcdHByb3BzID0gcHJvcHMuY29uY2F0KCB2UHJvcHMgKTtcblx0XHRcdGVsLmZyb20gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggZWwsIHZQcm9wcywgZmFjdG9yLmZyb20ueSwgZWwuZnJvbSApO1xuXHRcdFx0ZWwudG8gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggZWwsIHZQcm9wcywgZmFjdG9yLnRvLnksIGVsLnRvICk7XG5cdFx0fVxuXG5cdFx0Ly8gSG9yaXpvbnRhbCBwcm9wcyBzY2FsaW5nXG5cdFx0aWYgKCBmYWN0b3IuZnJvbS54ICE9PSBmYWN0b3IudG8ueCApIHtcblx0XHRcdHByb3BzID0gcHJvcHMuY29uY2F0KCBoUHJvcHMgKTtcblx0XHRcdGVsLmZyb20gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggZWwsIGhQcm9wcywgZmFjdG9yLmZyb20ueCwgZWwuZnJvbSApO1xuXHRcdFx0ZWwudG8gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggZWwsIGhQcm9wcywgZmFjdG9yLnRvLngsIGVsLnRvICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2NhbGUgdGhlIGNvbnRlbnRcblx0aWYgKCBzY2FsZSA9PT0gXCJjb250ZW50XCIgfHwgc2NhbGUgPT09IFwiYm90aFwiICkge1xuXG5cdFx0Ly8gVmVydGljYWwgcHJvcHMgc2NhbGluZ1xuXHRcdGlmICggZmFjdG9yLmZyb20ueSAhPT0gZmFjdG9yLnRvLnkgKSB7XG5cdFx0XHRwcm9wcyA9IHByb3BzLmNvbmNhdCggY1Byb3BzICkuY29uY2F0KCBwcm9wczIgKTtcblx0XHRcdGVsLmZyb20gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggZWwsIGNQcm9wcywgZmFjdG9yLmZyb20ueSwgZWwuZnJvbSApO1xuXHRcdFx0ZWwudG8gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggZWwsIGNQcm9wcywgZmFjdG9yLnRvLnksIGVsLnRvICk7XG5cdFx0fVxuXHR9XG5cblx0JC5lZmZlY3RzLnNhdmUoIGVsLCBwcm9wcyApO1xuXHRlbC5zaG93KCk7XG5cdCQuZWZmZWN0cy5jcmVhdGVXcmFwcGVyKCBlbCApO1xuXHRlbC5jc3MoIFwib3ZlcmZsb3dcIiwgXCJoaWRkZW5cIiApLmNzcyggZWwuZnJvbSApO1xuXG5cdC8vIEFkanVzdFxuXHRpZiAob3JpZ2luKSB7IC8vIENhbGN1bGF0ZSBiYXNlbGluZSBzaGlmdHNcblx0XHRiYXNlbGluZSA9ICQuZWZmZWN0cy5nZXRCYXNlbGluZSggb3JpZ2luLCBvcmlnaW5hbCApO1xuXHRcdGVsLmZyb20udG9wID0gKCBvcmlnaW5hbC5vdXRlckhlaWdodCAtIGVsLm91dGVySGVpZ2h0KCkgKSAqIGJhc2VsaW5lLnk7XG5cdFx0ZWwuZnJvbS5sZWZ0ID0gKCBvcmlnaW5hbC5vdXRlcldpZHRoIC0gZWwub3V0ZXJXaWR0aCgpICkgKiBiYXNlbGluZS54O1xuXHRcdGVsLnRvLnRvcCA9ICggb3JpZ2luYWwub3V0ZXJIZWlnaHQgLSBlbC50by5vdXRlckhlaWdodCApICogYmFzZWxpbmUueTtcblx0XHRlbC50by5sZWZ0ID0gKCBvcmlnaW5hbC5vdXRlcldpZHRoIC0gZWwudG8ub3V0ZXJXaWR0aCApICogYmFzZWxpbmUueDtcblx0fVxuXHRlbC5jc3MoIGVsLmZyb20gKTsgLy8gc2V0IHRvcCAmIGxlZnRcblxuXHQvLyBBbmltYXRlXG5cdGlmICggc2NhbGUgPT09IFwiY29udGVudFwiIHx8IHNjYWxlID09PSBcImJvdGhcIiApIHsgLy8gU2NhbGUgdGhlIGNoaWxkcmVuXG5cblx0XHQvLyBBZGQgbWFyZ2lucy9mb250LXNpemVcblx0XHR2UHJvcHMgPSB2UHJvcHMuY29uY2F0KFsgXCJtYXJnaW5Ub3BcIiwgXCJtYXJnaW5Cb3R0b21cIiBdKS5jb25jYXQoY1Byb3BzKTtcblx0XHRoUHJvcHMgPSBoUHJvcHMuY29uY2F0KFsgXCJtYXJnaW5MZWZ0XCIsIFwibWFyZ2luUmlnaHRcIiBdKTtcblx0XHRwcm9wczIgPSBwcm9wczAuY29uY2F0KHZQcm9wcykuY29uY2F0KGhQcm9wcyk7XG5cblx0XHRlbC5maW5kKCBcIipbd2lkdGhdXCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjaGlsZCA9ICQoIHRoaXMgKSxcblx0XHRcdFx0Y19vcmlnaW5hbCA9IHtcblx0XHRcdFx0XHRoZWlnaHQ6IGNoaWxkLmhlaWdodCgpLFxuXHRcdFx0XHRcdHdpZHRoOiBjaGlsZC53aWR0aCgpLFxuXHRcdFx0XHRcdG91dGVySGVpZ2h0OiBjaGlsZC5vdXRlckhlaWdodCgpLFxuXHRcdFx0XHRcdG91dGVyV2lkdGg6IGNoaWxkLm91dGVyV2lkdGgoKVxuXHRcdFx0XHR9O1xuXHRcdFx0aWYgKHJlc3RvcmUpIHtcblx0XHRcdFx0JC5lZmZlY3RzLnNhdmUoY2hpbGQsIHByb3BzMik7XG5cdFx0XHR9XG5cblx0XHRcdGNoaWxkLmZyb20gPSB7XG5cdFx0XHRcdGhlaWdodDogY19vcmlnaW5hbC5oZWlnaHQgKiBmYWN0b3IuZnJvbS55LFxuXHRcdFx0XHR3aWR0aDogY19vcmlnaW5hbC53aWR0aCAqIGZhY3Rvci5mcm9tLngsXG5cdFx0XHRcdG91dGVySGVpZ2h0OiBjX29yaWdpbmFsLm91dGVySGVpZ2h0ICogZmFjdG9yLmZyb20ueSxcblx0XHRcdFx0b3V0ZXJXaWR0aDogY19vcmlnaW5hbC5vdXRlcldpZHRoICogZmFjdG9yLmZyb20ueFxuXHRcdFx0fTtcblx0XHRcdGNoaWxkLnRvID0ge1xuXHRcdFx0XHRoZWlnaHQ6IGNfb3JpZ2luYWwuaGVpZ2h0ICogZmFjdG9yLnRvLnksXG5cdFx0XHRcdHdpZHRoOiBjX29yaWdpbmFsLndpZHRoICogZmFjdG9yLnRvLngsXG5cdFx0XHRcdG91dGVySGVpZ2h0OiBjX29yaWdpbmFsLmhlaWdodCAqIGZhY3Rvci50by55LFxuXHRcdFx0XHRvdXRlcldpZHRoOiBjX29yaWdpbmFsLndpZHRoICogZmFjdG9yLnRvLnhcblx0XHRcdH07XG5cblx0XHRcdC8vIFZlcnRpY2FsIHByb3BzIHNjYWxpbmdcblx0XHRcdGlmICggZmFjdG9yLmZyb20ueSAhPT0gZmFjdG9yLnRvLnkgKSB7XG5cdFx0XHRcdGNoaWxkLmZyb20gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggY2hpbGQsIHZQcm9wcywgZmFjdG9yLmZyb20ueSwgY2hpbGQuZnJvbSApO1xuXHRcdFx0XHRjaGlsZC50byA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBjaGlsZCwgdlByb3BzLCBmYWN0b3IudG8ueSwgY2hpbGQudG8gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSG9yaXpvbnRhbCBwcm9wcyBzY2FsaW5nXG5cdFx0XHRpZiAoIGZhY3Rvci5mcm9tLnggIT09IGZhY3Rvci50by54ICkge1xuXHRcdFx0XHRjaGlsZC5mcm9tID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGNoaWxkLCBoUHJvcHMsIGZhY3Rvci5mcm9tLngsIGNoaWxkLmZyb20gKTtcblx0XHRcdFx0Y2hpbGQudG8gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggY2hpbGQsIGhQcm9wcywgZmFjdG9yLnRvLngsIGNoaWxkLnRvICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFuaW1hdGUgY2hpbGRyZW5cblx0XHRcdGNoaWxkLmNzcyggY2hpbGQuZnJvbSApO1xuXHRcdFx0Y2hpbGQuYW5pbWF0ZSggY2hpbGQudG8sIG8uZHVyYXRpb24sIG8uZWFzaW5nLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBSZXN0b3JlIGNoaWxkcmVuXG5cdFx0XHRcdGlmICggcmVzdG9yZSApIHtcblx0XHRcdFx0XHQkLmVmZmVjdHMucmVzdG9yZSggY2hpbGQsIHByb3BzMiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIEFuaW1hdGVcblx0ZWwuYW5pbWF0ZSggZWwudG8sIHtcblx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0ZHVyYXRpb246IG8uZHVyYXRpb24sXG5cdFx0ZWFzaW5nOiBvLmVhc2luZyxcblx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGVsLnRvLm9wYWNpdHkgPT09IDAgKSB7XG5cdFx0XHRcdGVsLmNzcyggXCJvcGFjaXR5XCIsIGVsLmZyb20ub3BhY2l0eSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBtb2RlID09PSBcImhpZGVcIiApIHtcblx0XHRcdFx0ZWwuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdFx0JC5lZmZlY3RzLnJlc3RvcmUoIGVsLCBwcm9wcyApO1xuXHRcdFx0aWYgKCAhcmVzdG9yZSApIHtcblxuXHRcdFx0XHQvLyB3ZSBuZWVkIHRvIGNhbGN1bGF0ZSBvdXIgbmV3IHBvc2l0aW9uaW5nIGJhc2VkIG9uIHRoZSBzY2FsaW5nXG5cdFx0XHRcdGlmICggcG9zaXRpb24gPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRcdFx0ZWwuY3NzKHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG5cdFx0XHRcdFx0XHR0b3A6IGVsLnRvLnRvcCxcblx0XHRcdFx0XHRcdGxlZnQ6IGVsLnRvLmxlZnRcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkLmVhY2goWyBcInRvcFwiLCBcImxlZnRcIiBdLCBmdW5jdGlvbiggaWR4LCBwb3MgKSB7XG5cdFx0XHRcdFx0XHRlbC5jc3MoIHBvcywgZnVuY3Rpb24oIF8sIHN0ciApIHtcblx0XHRcdFx0XHRcdFx0dmFyIHZhbCA9IHBhcnNlSW50KCBzdHIsIDEwICksXG5cdFx0XHRcdFx0XHRcdFx0dG9SZWYgPSBpZHggPyBlbC50by5sZWZ0IDogZWwudG8udG9wO1xuXG5cdFx0XHRcdFx0XHRcdC8vIGlmIG9yaWdpbmFsIHdhcyBcImF1dG9cIiwgcmVjYWxjdWxhdGUgdGhlIG5ldyB2YWx1ZSBmcm9tIHdyYXBwZXJcblx0XHRcdFx0XHRcdFx0aWYgKCBzdHIgPT09IFwiYXV0b1wiICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0b1JlZiArIFwicHhcIjtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdHJldHVybiB2YWwgKyB0b1JlZiArIFwicHhcIjtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCQuZWZmZWN0cy5yZW1vdmVXcmFwcGVyKCBlbCApO1xuXHRcdFx0ZG9uZSgpO1xuXHRcdH1cblx0fSk7XG5cbn07XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBTY2FsZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NjYWxlLWVmZmVjdC9cbiAqL1xuXG5cbnZhciBlZmZlY3RTY2FsZSA9ICQuZWZmZWN0cy5lZmZlY3Quc2NhbGUgPSBmdW5jdGlvbiggbywgZG9uZSApIHtcblxuXHQvLyBDcmVhdGUgZWxlbWVudFxuXHR2YXIgZWwgPSAkKCB0aGlzICksXG5cdFx0b3B0aW9ucyA9ICQuZXh0ZW5kKCB0cnVlLCB7fSwgbyApLFxuXHRcdG1vZGUgPSAkLmVmZmVjdHMuc2V0TW9kZSggZWwsIG8ubW9kZSB8fCBcImVmZmVjdFwiICksXG5cdFx0cGVyY2VudCA9IHBhcnNlSW50KCBvLnBlcmNlbnQsIDEwICkgfHxcblx0XHRcdCggcGFyc2VJbnQoIG8ucGVyY2VudCwgMTAgKSA9PT0gMCA/IDAgOiAoIG1vZGUgPT09IFwiaGlkZVwiID8gMCA6IDEwMCApICksXG5cdFx0ZGlyZWN0aW9uID0gby5kaXJlY3Rpb24gfHwgXCJib3RoXCIsXG5cdFx0b3JpZ2luID0gby5vcmlnaW4sXG5cdFx0b3JpZ2luYWwgPSB7XG5cdFx0XHRoZWlnaHQ6IGVsLmhlaWdodCgpLFxuXHRcdFx0d2lkdGg6IGVsLndpZHRoKCksXG5cdFx0XHRvdXRlckhlaWdodDogZWwub3V0ZXJIZWlnaHQoKSxcblx0XHRcdG91dGVyV2lkdGg6IGVsLm91dGVyV2lkdGgoKVxuXHRcdH0sXG5cdFx0ZmFjdG9yID0ge1xuXHRcdFx0eTogZGlyZWN0aW9uICE9PSBcImhvcml6b250YWxcIiA/IChwZXJjZW50IC8gMTAwKSA6IDEsXG5cdFx0XHR4OiBkaXJlY3Rpb24gIT09IFwidmVydGljYWxcIiA/IChwZXJjZW50IC8gMTAwKSA6IDFcblx0XHR9O1xuXG5cdC8vIFdlIGFyZSBnb2luZyB0byBwYXNzIHRoaXMgZWZmZWN0IHRvIHRoZSBzaXplIGVmZmVjdDpcblx0b3B0aW9ucy5lZmZlY3QgPSBcInNpemVcIjtcblx0b3B0aW9ucy5xdWV1ZSA9IGZhbHNlO1xuXHRvcHRpb25zLmNvbXBsZXRlID0gZG9uZTtcblxuXHQvLyBTZXQgZGVmYXVsdCBvcmlnaW4gYW5kIHJlc3RvcmUgZm9yIHNob3cvaGlkZVxuXHRpZiAoIG1vZGUgIT09IFwiZWZmZWN0XCIgKSB7XG5cdFx0b3B0aW9ucy5vcmlnaW4gPSBvcmlnaW4gfHwgWyBcIm1pZGRsZVwiLCBcImNlbnRlclwiIF07XG5cdFx0b3B0aW9ucy5yZXN0b3JlID0gdHJ1ZTtcblx0fVxuXG5cdG9wdGlvbnMuZnJvbSA9IG8uZnJvbSB8fCAoIG1vZGUgPT09IFwic2hvd1wiID8ge1xuXHRcdGhlaWdodDogMCxcblx0XHR3aWR0aDogMCxcblx0XHRvdXRlckhlaWdodDogMCxcblx0XHRvdXRlcldpZHRoOiAwXG5cdH0gOiBvcmlnaW5hbCApO1xuXHRvcHRpb25zLnRvID0ge1xuXHRcdGhlaWdodDogb3JpZ2luYWwuaGVpZ2h0ICogZmFjdG9yLnksXG5cdFx0d2lkdGg6IG9yaWdpbmFsLndpZHRoICogZmFjdG9yLngsXG5cdFx0b3V0ZXJIZWlnaHQ6IG9yaWdpbmFsLm91dGVySGVpZ2h0ICogZmFjdG9yLnksXG5cdFx0b3V0ZXJXaWR0aDogb3JpZ2luYWwub3V0ZXJXaWR0aCAqIGZhY3Rvci54XG5cdH07XG5cblx0Ly8gRmFkZSBvcHRpb24gdG8gc3VwcG9ydCBwdWZmXG5cdGlmICggb3B0aW9ucy5mYWRlICkge1xuXHRcdGlmICggbW9kZSA9PT0gXCJzaG93XCIgKSB7XG5cdFx0XHRvcHRpb25zLmZyb20ub3BhY2l0eSA9IDA7XG5cdFx0XHRvcHRpb25zLnRvLm9wYWNpdHkgPSAxO1xuXHRcdH1cblx0XHRpZiAoIG1vZGUgPT09IFwiaGlkZVwiICkge1xuXHRcdFx0b3B0aW9ucy5mcm9tLm9wYWNpdHkgPSAxO1xuXHRcdFx0b3B0aW9ucy50by5vcGFjaXR5ID0gMDtcblx0XHR9XG5cdH1cblxuXHQvLyBBbmltYXRlXG5cdGVsLmVmZmVjdCggb3B0aW9ucyApO1xuXG59O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgUHVmZiAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3B1ZmYtZWZmZWN0L1xuICovXG5cblxudmFyIGVmZmVjdFB1ZmYgPSAkLmVmZmVjdHMuZWZmZWN0LnB1ZmYgPSBmdW5jdGlvbiggbywgZG9uZSApIHtcblx0dmFyIGVsZW0gPSAkKCB0aGlzICksXG5cdFx0bW9kZSA9ICQuZWZmZWN0cy5zZXRNb2RlKCBlbGVtLCBvLm1vZGUgfHwgXCJoaWRlXCIgKSxcblx0XHRoaWRlID0gbW9kZSA9PT0gXCJoaWRlXCIsXG5cdFx0cGVyY2VudCA9IHBhcnNlSW50KCBvLnBlcmNlbnQsIDEwICkgfHwgMTUwLFxuXHRcdGZhY3RvciA9IHBlcmNlbnQgLyAxMDAsXG5cdFx0b3JpZ2luYWwgPSB7XG5cdFx0XHRoZWlnaHQ6IGVsZW0uaGVpZ2h0KCksXG5cdFx0XHR3aWR0aDogZWxlbS53aWR0aCgpLFxuXHRcdFx0b3V0ZXJIZWlnaHQ6IGVsZW0ub3V0ZXJIZWlnaHQoKSxcblx0XHRcdG91dGVyV2lkdGg6IGVsZW0ub3V0ZXJXaWR0aCgpXG5cdFx0fTtcblxuXHQkLmV4dGVuZCggbywge1xuXHRcdGVmZmVjdDogXCJzY2FsZVwiLFxuXHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRmYWRlOiB0cnVlLFxuXHRcdG1vZGU6IG1vZGUsXG5cdFx0Y29tcGxldGU6IGRvbmUsXG5cdFx0cGVyY2VudDogaGlkZSA/IHBlcmNlbnQgOiAxMDAsXG5cdFx0ZnJvbTogaGlkZSA/XG5cdFx0XHRvcmlnaW5hbCA6XG5cdFx0XHR7XG5cdFx0XHRcdGhlaWdodDogb3JpZ2luYWwuaGVpZ2h0ICogZmFjdG9yLFxuXHRcdFx0XHR3aWR0aDogb3JpZ2luYWwud2lkdGggKiBmYWN0b3IsXG5cdFx0XHRcdG91dGVySGVpZ2h0OiBvcmlnaW5hbC5vdXRlckhlaWdodCAqIGZhY3Rvcixcblx0XHRcdFx0b3V0ZXJXaWR0aDogb3JpZ2luYWwub3V0ZXJXaWR0aCAqIGZhY3RvclxuXHRcdFx0fVxuXHR9KTtcblxuXHRlbGVtLmVmZmVjdCggbyApO1xufTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFB1bHNhdGUgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9wdWxzYXRlLWVmZmVjdC9cbiAqL1xuXG5cbnZhciBlZmZlY3RQdWxzYXRlID0gJC5lZmZlY3RzLmVmZmVjdC5wdWxzYXRlID0gZnVuY3Rpb24oIG8sIGRvbmUgKSB7XG5cdHZhciBlbGVtID0gJCggdGhpcyApLFxuXHRcdG1vZGUgPSAkLmVmZmVjdHMuc2V0TW9kZSggZWxlbSwgby5tb2RlIHx8IFwic2hvd1wiICksXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXHRcdGhpZGUgPSBtb2RlID09PSBcImhpZGVcIixcblx0XHRzaG93aGlkZSA9ICggc2hvdyB8fCBtb2RlID09PSBcImhpZGVcIiApLFxuXG5cdFx0Ly8gc2hvd2luZyBvciBoaWRpbmcgbGVhdmVzIG9mIHRoZSBcImxhc3RcIiBhbmltYXRpb25cblx0XHRhbmltcyA9ICggKCBvLnRpbWVzIHx8IDUgKSAqIDIgKSArICggc2hvd2hpZGUgPyAxIDogMCApLFxuXHRcdGR1cmF0aW9uID0gby5kdXJhdGlvbiAvIGFuaW1zLFxuXHRcdGFuaW1hdGVUbyA9IDAsXG5cdFx0cXVldWUgPSBlbGVtLnF1ZXVlKCksXG5cdFx0cXVldWVsZW4gPSBxdWV1ZS5sZW5ndGgsXG5cdFx0aTtcblxuXHRpZiAoIHNob3cgfHwgIWVsZW0uaXMoXCI6dmlzaWJsZVwiKSkge1xuXHRcdGVsZW0uY3NzKCBcIm9wYWNpdHlcIiwgMCApLnNob3coKTtcblx0XHRhbmltYXRlVG8gPSAxO1xuXHR9XG5cblx0Ly8gYW5pbXMgLSAxIG9wYWNpdHkgXCJ0b2dnbGVzXCJcblx0Zm9yICggaSA9IDE7IGkgPCBhbmltczsgaSsrICkge1xuXHRcdGVsZW0uYW5pbWF0ZSh7XG5cdFx0XHRvcGFjaXR5OiBhbmltYXRlVG9cblx0XHR9LCBkdXJhdGlvbiwgby5lYXNpbmcgKTtcblx0XHRhbmltYXRlVG8gPSAxIC0gYW5pbWF0ZVRvO1xuXHR9XG5cblx0ZWxlbS5hbmltYXRlKHtcblx0XHRvcGFjaXR5OiBhbmltYXRlVG9cblx0fSwgZHVyYXRpb24sIG8uZWFzaW5nKTtcblxuXHRlbGVtLnF1ZXVlKGZ1bmN0aW9uKCkge1xuXHRcdGlmICggaGlkZSApIHtcblx0XHRcdGVsZW0uaGlkZSgpO1xuXHRcdH1cblx0XHRkb25lKCk7XG5cdH0pO1xuXG5cdC8vIFdlIGp1c3QgcXVldWVkIHVwIFwiYW5pbXNcIiBhbmltYXRpb25zLCB3ZSBuZWVkIHRvIHB1dCB0aGVtIG5leHQgaW4gdGhlIHF1ZXVlXG5cdGlmICggcXVldWVsZW4gPiAxICkge1xuXHRcdHF1ZXVlLnNwbGljZS5hcHBseSggcXVldWUsXG5cdFx0XHRbIDEsIDAgXS5jb25jYXQoIHF1ZXVlLnNwbGljZSggcXVldWVsZW4sIGFuaW1zICsgMSApICkgKTtcblx0fVxuXHRlbGVtLmRlcXVldWUoKTtcbn07XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBTaGFrZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NoYWtlLWVmZmVjdC9cbiAqL1xuXG5cbnZhciBlZmZlY3RTaGFrZSA9ICQuZWZmZWN0cy5lZmZlY3Quc2hha2UgPSBmdW5jdGlvbiggbywgZG9uZSApIHtcblxuXHR2YXIgZWwgPSAkKCB0aGlzICksXG5cdFx0cHJvcHMgPSBbIFwicG9zaXRpb25cIiwgXCJ0b3BcIiwgXCJib3R0b21cIiwgXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJoZWlnaHRcIiwgXCJ3aWR0aFwiIF0sXG5cdFx0bW9kZSA9ICQuZWZmZWN0cy5zZXRNb2RlKCBlbCwgby5tb2RlIHx8IFwiZWZmZWN0XCIgKSxcblx0XHRkaXJlY3Rpb24gPSBvLmRpcmVjdGlvbiB8fCBcImxlZnRcIixcblx0XHRkaXN0YW5jZSA9IG8uZGlzdGFuY2UgfHwgMjAsXG5cdFx0dGltZXMgPSBvLnRpbWVzIHx8IDMsXG5cdFx0YW5pbXMgPSB0aW1lcyAqIDIgKyAxLFxuXHRcdHNwZWVkID0gTWF0aC5yb3VuZCggby5kdXJhdGlvbiAvIGFuaW1zICksXG5cdFx0cmVmID0gKGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJkb3duXCIpID8gXCJ0b3BcIiA6IFwibGVmdFwiLFxuXHRcdHBvc2l0aXZlTW90aW9uID0gKGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIpLFxuXHRcdGFuaW1hdGlvbiA9IHt9LFxuXHRcdGFuaW1hdGlvbjEgPSB7fSxcblx0XHRhbmltYXRpb24yID0ge30sXG5cdFx0aSxcblxuXHRcdC8vIHdlIHdpbGwgbmVlZCB0byByZS1hc3NlbWJsZSB0aGUgcXVldWUgdG8gc3RhY2sgb3VyIGFuaW1hdGlvbnMgaW4gcGxhY2Vcblx0XHRxdWV1ZSA9IGVsLnF1ZXVlKCksXG5cdFx0cXVldWVsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cblx0JC5lZmZlY3RzLnNhdmUoIGVsLCBwcm9wcyApO1xuXHRlbC5zaG93KCk7XG5cdCQuZWZmZWN0cy5jcmVhdGVXcmFwcGVyKCBlbCApO1xuXG5cdC8vIEFuaW1hdGlvblxuXHRhbmltYXRpb25bIHJlZiBdID0gKCBwb3NpdGl2ZU1vdGlvbiA/IFwiLT1cIiA6IFwiKz1cIiApICsgZGlzdGFuY2U7XG5cdGFuaW1hdGlvbjFbIHJlZiBdID0gKCBwb3NpdGl2ZU1vdGlvbiA/IFwiKz1cIiA6IFwiLT1cIiApICsgZGlzdGFuY2UgKiAyO1xuXHRhbmltYXRpb24yWyByZWYgXSA9ICggcG9zaXRpdmVNb3Rpb24gPyBcIi09XCIgOiBcIis9XCIgKSArIGRpc3RhbmNlICogMjtcblxuXHQvLyBBbmltYXRlXG5cdGVsLmFuaW1hdGUoIGFuaW1hdGlvbiwgc3BlZWQsIG8uZWFzaW5nICk7XG5cblx0Ly8gU2hha2VzXG5cdGZvciAoIGkgPSAxOyBpIDwgdGltZXM7IGkrKyApIHtcblx0XHRlbC5hbmltYXRlKCBhbmltYXRpb24xLCBzcGVlZCwgby5lYXNpbmcgKS5hbmltYXRlKCBhbmltYXRpb24yLCBzcGVlZCwgby5lYXNpbmcgKTtcblx0fVxuXHRlbFxuXHRcdC5hbmltYXRlKCBhbmltYXRpb24xLCBzcGVlZCwgby5lYXNpbmcgKVxuXHRcdC5hbmltYXRlKCBhbmltYXRpb24sIHNwZWVkIC8gMiwgby5lYXNpbmcgKVxuXHRcdC5xdWV1ZShmdW5jdGlvbigpIHtcblx0XHRcdGlmICggbW9kZSA9PT0gXCJoaWRlXCIgKSB7XG5cdFx0XHRcdGVsLmhpZGUoKTtcblx0XHRcdH1cblx0XHRcdCQuZWZmZWN0cy5yZXN0b3JlKCBlbCwgcHJvcHMgKTtcblx0XHRcdCQuZWZmZWN0cy5yZW1vdmVXcmFwcGVyKCBlbCApO1xuXHRcdFx0ZG9uZSgpO1xuXHRcdH0pO1xuXG5cdC8vIGluamVjdCBhbGwgdGhlIGFuaW1hdGlvbnMgd2UganVzdCBxdWV1ZWQgdG8gYmUgZmlyc3QgaW4gbGluZSAoYWZ0ZXIgXCJpbnByb2dyZXNzXCIpXG5cdGlmICggcXVldWVsZW4gPiAxKSB7XG5cdFx0cXVldWUuc3BsaWNlLmFwcGx5KCBxdWV1ZSxcblx0XHRcdFsgMSwgMCBdLmNvbmNhdCggcXVldWUuc3BsaWNlKCBxdWV1ZWxlbiwgYW5pbXMgKyAxICkgKSApO1xuXHR9XG5cdGVsLmRlcXVldWUoKTtcblxufTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFNsaWRlIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2xpZGUtZWZmZWN0L1xuICovXG5cblxudmFyIGVmZmVjdFNsaWRlID0gJC5lZmZlY3RzLmVmZmVjdC5zbGlkZSA9IGZ1bmN0aW9uKCBvLCBkb25lICkge1xuXG5cdC8vIENyZWF0ZSBlbGVtZW50XG5cdHZhciBlbCA9ICQoIHRoaXMgKSxcblx0XHRwcm9wcyA9IFsgXCJwb3NpdGlvblwiLCBcInRvcFwiLCBcImJvdHRvbVwiLCBcImxlZnRcIiwgXCJyaWdodFwiLCBcIndpZHRoXCIsIFwiaGVpZ2h0XCIgXSxcblx0XHRtb2RlID0gJC5lZmZlY3RzLnNldE1vZGUoIGVsLCBvLm1vZGUgfHwgXCJzaG93XCIgKSxcblx0XHRzaG93ID0gbW9kZSA9PT0gXCJzaG93XCIsXG5cdFx0ZGlyZWN0aW9uID0gby5kaXJlY3Rpb24gfHwgXCJsZWZ0XCIsXG5cdFx0cmVmID0gKGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJkb3duXCIpID8gXCJ0b3BcIiA6IFwibGVmdFwiLFxuXHRcdHBvc2l0aXZlTW90aW9uID0gKGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIpLFxuXHRcdGRpc3RhbmNlLFxuXHRcdGFuaW1hdGlvbiA9IHt9O1xuXG5cdC8vIEFkanVzdFxuXHQkLmVmZmVjdHMuc2F2ZSggZWwsIHByb3BzICk7XG5cdGVsLnNob3coKTtcblx0ZGlzdGFuY2UgPSBvLmRpc3RhbmNlIHx8IGVsWyByZWYgPT09IFwidG9wXCIgPyBcIm91dGVySGVpZ2h0XCIgOiBcIm91dGVyV2lkdGhcIiBdKCB0cnVlICk7XG5cblx0JC5lZmZlY3RzLmNyZWF0ZVdyYXBwZXIoIGVsICkuY3NzKHtcblx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIlxuXHR9KTtcblxuXHRpZiAoIHNob3cgKSB7XG5cdFx0ZWwuY3NzKCByZWYsIHBvc2l0aXZlTW90aW9uID8gKGlzTmFOKGRpc3RhbmNlKSA/IFwiLVwiICsgZGlzdGFuY2UgOiAtZGlzdGFuY2UpIDogZGlzdGFuY2UgKTtcblx0fVxuXG5cdC8vIEFuaW1hdGlvblxuXHRhbmltYXRpb25bIHJlZiBdID0gKCBzaG93ID9cblx0XHQoIHBvc2l0aXZlTW90aW9uID8gXCIrPVwiIDogXCItPVwiKSA6XG5cdFx0KCBwb3NpdGl2ZU1vdGlvbiA/IFwiLT1cIiA6IFwiKz1cIikpICtcblx0XHRkaXN0YW5jZTtcblxuXHQvLyBBbmltYXRlXG5cdGVsLmFuaW1hdGUoIGFuaW1hdGlvbiwge1xuXHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRkdXJhdGlvbjogby5kdXJhdGlvbixcblx0XHRlYXNpbmc6IG8uZWFzaW5nLFxuXHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggbW9kZSA9PT0gXCJoaWRlXCIgKSB7XG5cdFx0XHRcdGVsLmhpZGUoKTtcblx0XHRcdH1cblx0XHRcdCQuZWZmZWN0cy5yZXN0b3JlKCBlbCwgcHJvcHMgKTtcblx0XHRcdCQuZWZmZWN0cy5yZW1vdmVXcmFwcGVyKCBlbCApO1xuXHRcdFx0ZG9uZSgpO1xuXHRcdH1cblx0fSk7XG59O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgVHJhbnNmZXIgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS90cmFuc2Zlci1lZmZlY3QvXG4gKi9cblxuXG52YXIgZWZmZWN0VHJhbnNmZXIgPSAkLmVmZmVjdHMuZWZmZWN0LnRyYW5zZmVyID0gZnVuY3Rpb24oIG8sIGRvbmUgKSB7XG5cdHZhciBlbGVtID0gJCggdGhpcyApLFxuXHRcdHRhcmdldCA9ICQoIG8udG8gKSxcblx0XHR0YXJnZXRGaXhlZCA9IHRhcmdldC5jc3MoIFwicG9zaXRpb25cIiApID09PSBcImZpeGVkXCIsXG5cdFx0Ym9keSA9ICQoXCJib2R5XCIpLFxuXHRcdGZpeFRvcCA9IHRhcmdldEZpeGVkID8gYm9keS5zY3JvbGxUb3AoKSA6IDAsXG5cdFx0Zml4TGVmdCA9IHRhcmdldEZpeGVkID8gYm9keS5zY3JvbGxMZWZ0KCkgOiAwLFxuXHRcdGVuZFBvc2l0aW9uID0gdGFyZ2V0Lm9mZnNldCgpLFxuXHRcdGFuaW1hdGlvbiA9IHtcblx0XHRcdHRvcDogZW5kUG9zaXRpb24udG9wIC0gZml4VG9wLFxuXHRcdFx0bGVmdDogZW5kUG9zaXRpb24ubGVmdCAtIGZpeExlZnQsXG5cdFx0XHRoZWlnaHQ6IHRhcmdldC5pbm5lckhlaWdodCgpLFxuXHRcdFx0d2lkdGg6IHRhcmdldC5pbm5lcldpZHRoKClcblx0XHR9LFxuXHRcdHN0YXJ0UG9zaXRpb24gPSBlbGVtLm9mZnNldCgpLFxuXHRcdHRyYW5zZmVyID0gJCggXCI8ZGl2IGNsYXNzPSd1aS1lZmZlY3RzLXRyYW5zZmVyJz48L2Rpdj5cIiApXG5cdFx0XHQuYXBwZW5kVG8oIGRvY3VtZW50LmJvZHkgKVxuXHRcdFx0LmFkZENsYXNzKCBvLmNsYXNzTmFtZSApXG5cdFx0XHQuY3NzKHtcblx0XHRcdFx0dG9wOiBzdGFydFBvc2l0aW9uLnRvcCAtIGZpeFRvcCxcblx0XHRcdFx0bGVmdDogc3RhcnRQb3NpdGlvbi5sZWZ0IC0gZml4TGVmdCxcblx0XHRcdFx0aGVpZ2h0OiBlbGVtLmlubmVySGVpZ2h0KCksXG5cdFx0XHRcdHdpZHRoOiBlbGVtLmlubmVyV2lkdGgoKSxcblx0XHRcdFx0cG9zaXRpb246IHRhcmdldEZpeGVkID8gXCJmaXhlZFwiIDogXCJhYnNvbHV0ZVwiXG5cdFx0XHR9KVxuXHRcdFx0LmFuaW1hdGUoIGFuaW1hdGlvbiwgby5kdXJhdGlvbiwgby5lYXNpbmcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0cmFuc2Zlci5yZW1vdmUoKTtcblx0XHRcdFx0ZG9uZSgpO1xuXHRcdFx0fSk7XG59O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFByb2dyZXNzYmFyIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vcHJvZ3Jlc3NiYXIvXG4gKi9cblxuXG52YXIgcHJvZ3Jlc3NiYXIgPSAkLndpZGdldCggXCJ1aS5wcm9ncmVzc2JhclwiLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdG9wdGlvbnM6IHtcblx0XHRtYXg6IDEwMCxcblx0XHR2YWx1ZTogMCxcblxuXHRcdGNoYW5nZTogbnVsbCxcblx0XHRjb21wbGV0ZTogbnVsbFxuXHR9LFxuXG5cdG1pbjogMCxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHQvLyBDb25zdHJhaW4gaW5pdGlhbCB2YWx1ZVxuXHRcdHRoaXMub2xkVmFsdWUgPSB0aGlzLm9wdGlvbnMudmFsdWUgPSB0aGlzLl9jb25zdHJhaW5lZFZhbHVlKCk7XG5cblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1wcm9ncmVzc2JhciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbFwiIClcblx0XHRcdC5hdHRyKHtcblx0XHRcdFx0Ly8gT25seSBzZXQgc3RhdGljIHZhbHVlcywgYXJpYS12YWx1ZW5vdyBhbmQgYXJpYS12YWx1ZW1heCBhcmVcblx0XHRcdFx0Ly8gc2V0IGluc2lkZSBfcmVmcmVzaFZhbHVlKClcblx0XHRcdFx0cm9sZTogXCJwcm9ncmVzc2JhclwiLFxuXHRcdFx0XHRcImFyaWEtdmFsdWVtaW5cIjogdGhpcy5taW5cblx0XHRcdH0pO1xuXG5cdFx0dGhpcy52YWx1ZURpdiA9ICQoIFwiPGRpdiBjbGFzcz0ndWktcHJvZ3Jlc3NiYXItdmFsdWUgdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItbGVmdCc+PC9kaXY+XCIgKVxuXHRcdFx0LmFwcGVuZFRvKCB0aGlzLmVsZW1lbnQgKTtcblxuXHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1wcm9ncmVzc2JhciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbFwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcInJvbGVcIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLXZhbHVlbWluXCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS12YWx1ZW1heFwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtdmFsdWVub3dcIiApO1xuXG5cdFx0dGhpcy52YWx1ZURpdi5yZW1vdmUoKTtcblx0fSxcblxuXHR2YWx1ZTogZnVuY3Rpb24oIG5ld1ZhbHVlICkge1xuXHRcdGlmICggbmV3VmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbnMudmFsdWU7XG5cdFx0fVxuXG5cdFx0dGhpcy5vcHRpb25zLnZhbHVlID0gdGhpcy5fY29uc3RyYWluZWRWYWx1ZSggbmV3VmFsdWUgKTtcblx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0fSxcblxuXHRfY29uc3RyYWluZWRWYWx1ZTogZnVuY3Rpb24oIG5ld1ZhbHVlICkge1xuXHRcdGlmICggbmV3VmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdG5ld1ZhbHVlID0gdGhpcy5vcHRpb25zLnZhbHVlO1xuXHRcdH1cblxuXHRcdHRoaXMuaW5kZXRlcm1pbmF0ZSA9IG5ld1ZhbHVlID09PSBmYWxzZTtcblxuXHRcdC8vIHNhbml0aXplIHZhbHVlXG5cdFx0aWYgKCB0eXBlb2YgbmV3VmFsdWUgIT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRuZXdWYWx1ZSA9IDA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuaW5kZXRlcm1pbmF0ZSA/IGZhbHNlIDpcblx0XHRcdE1hdGgubWluKCB0aGlzLm9wdGlvbnMubWF4LCBNYXRoLm1heCggdGhpcy5taW4sIG5ld1ZhbHVlICkgKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0Ly8gRW5zdXJlIFwidmFsdWVcIiBvcHRpb24gaXMgc2V0IGFmdGVyIG90aGVyIHZhbHVlcyAobGlrZSBtYXgpXG5cdFx0dmFyIHZhbHVlID0gb3B0aW9ucy52YWx1ZTtcblx0XHRkZWxldGUgb3B0aW9ucy52YWx1ZTtcblxuXHRcdHRoaXMuX3N1cGVyKCBvcHRpb25zICk7XG5cblx0XHR0aGlzLm9wdGlvbnMudmFsdWUgPSB0aGlzLl9jb25zdHJhaW5lZFZhbHVlKCB2YWx1ZSApO1xuXHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdGlmICgga2V5ID09PSBcIm1heFwiICkge1xuXHRcdFx0Ly8gRG9uJ3QgYWxsb3cgYSBtYXggbGVzcyB0aGFuIG1pblxuXHRcdFx0dmFsdWUgPSBNYXRoLm1heCggdGhpcy5taW4sIHZhbHVlICk7XG5cdFx0fVxuXHRcdGlmICgga2V5ID09PSBcImRpc2FibGVkXCIgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIsICEhdmFsdWUgKVxuXHRcdFx0XHQuYXR0ciggXCJhcmlhLWRpc2FibGVkXCIsIHZhbHVlICk7XG5cdFx0fVxuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cdH0sXG5cblx0X3BlcmNlbnRhZ2U6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmluZGV0ZXJtaW5hdGUgPyAxMDAgOiAxMDAgKiAoIHRoaXMub3B0aW9ucy52YWx1ZSAtIHRoaXMubWluICkgLyAoIHRoaXMub3B0aW9ucy5tYXggLSB0aGlzLm1pbiApO1xuXHR9LFxuXG5cdF9yZWZyZXNoVmFsdWU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB2YWx1ZSA9IHRoaXMub3B0aW9ucy52YWx1ZSxcblx0XHRcdHBlcmNlbnRhZ2UgPSB0aGlzLl9wZXJjZW50YWdlKCk7XG5cblx0XHR0aGlzLnZhbHVlRGl2XG5cdFx0XHQudG9nZ2xlKCB0aGlzLmluZGV0ZXJtaW5hdGUgfHwgdmFsdWUgPiB0aGlzLm1pbiApXG5cdFx0XHQudG9nZ2xlQ2xhc3MoIFwidWktY29ybmVyLXJpZ2h0XCIsIHZhbHVlID09PSB0aGlzLm9wdGlvbnMubWF4IClcblx0XHRcdC53aWR0aCggcGVyY2VudGFnZS50b0ZpeGVkKDApICsgXCIlXCIgKTtcblxuXHRcdHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcyggXCJ1aS1wcm9ncmVzc2Jhci1pbmRldGVybWluYXRlXCIsIHRoaXMuaW5kZXRlcm1pbmF0ZSApO1xuXG5cdFx0aWYgKCB0aGlzLmluZGV0ZXJtaW5hdGUgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQXR0ciggXCJhcmlhLXZhbHVlbm93XCIgKTtcblx0XHRcdGlmICggIXRoaXMub3ZlcmxheURpdiApIHtcblx0XHRcdFx0dGhpcy5vdmVybGF5RGl2ID0gJCggXCI8ZGl2IGNsYXNzPSd1aS1wcm9ncmVzc2Jhci1vdmVybGF5Jz48L2Rpdj5cIiApLmFwcGVuZFRvKCB0aGlzLnZhbHVlRGl2ICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuZWxlbWVudC5hdHRyKHtcblx0XHRcdFx0XCJhcmlhLXZhbHVlbWF4XCI6IHRoaXMub3B0aW9ucy5tYXgsXG5cdFx0XHRcdFwiYXJpYS12YWx1ZW5vd1wiOiB2YWx1ZVxuXHRcdFx0fSk7XG5cdFx0XHRpZiAoIHRoaXMub3ZlcmxheURpdiApIHtcblx0XHRcdFx0dGhpcy5vdmVybGF5RGl2LnJlbW92ZSgpO1xuXHRcdFx0XHR0aGlzLm92ZXJsYXlEaXYgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggdGhpcy5vbGRWYWx1ZSAhPT0gdmFsdWUgKSB7XG5cdFx0XHR0aGlzLm9sZFZhbHVlID0gdmFsdWU7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImNoYW5nZVwiICk7XG5cdFx0fVxuXHRcdGlmICggdmFsdWUgPT09IHRoaXMub3B0aW9ucy5tYXggKSB7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImNvbXBsZXRlXCIgKTtcblx0XHR9XG5cdH1cbn0pO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFNlbGVjdGFibGUgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zZWxlY3RhYmxlL1xuICovXG5cblxudmFyIHNlbGVjdGFibGUgPSAkLndpZGdldChcInVpLnNlbGVjdGFibGVcIiwgJC51aS5tb3VzZSwge1xuXHR2ZXJzaW9uOiBcIjEuMTEuNFwiLFxuXHRvcHRpb25zOiB7XG5cdFx0YXBwZW5kVG86IFwiYm9keVwiLFxuXHRcdGF1dG9SZWZyZXNoOiB0cnVlLFxuXHRcdGRpc3RhbmNlOiAwLFxuXHRcdGZpbHRlcjogXCIqXCIsXG5cdFx0dG9sZXJhbmNlOiBcInRvdWNoXCIsXG5cblx0XHQvLyBjYWxsYmFja3Ncblx0XHRzZWxlY3RlZDogbnVsbCxcblx0XHRzZWxlY3Rpbmc6IG51bGwsXG5cdFx0c3RhcnQ6IG51bGwsXG5cdFx0c3RvcDogbnVsbCxcblx0XHR1bnNlbGVjdGVkOiBudWxsLFxuXHRcdHVuc2VsZWN0aW5nOiBudWxsXG5cdH0sXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzZWxlY3RlZXMsXG5cdFx0XHR0aGF0ID0gdGhpcztcblxuXHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyhcInVpLXNlbGVjdGFibGVcIik7XG5cblx0XHR0aGlzLmRyYWdnZWQgPSBmYWxzZTtcblxuXHRcdC8vIGNhY2hlIHNlbGVjdGVlIGNoaWxkcmVuIGJhc2VkIG9uIGZpbHRlclxuXHRcdHRoaXMucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0c2VsZWN0ZWVzID0gJCh0aGF0Lm9wdGlvbnMuZmlsdGVyLCB0aGF0LmVsZW1lbnRbMF0pO1xuXHRcdFx0c2VsZWN0ZWVzLmFkZENsYXNzKFwidWktc2VsZWN0ZWVcIik7XG5cdFx0XHRzZWxlY3RlZXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyICR0aGlzID0gJCh0aGlzKSxcblx0XHRcdFx0XHRwb3MgPSAkdGhpcy5vZmZzZXQoKTtcblx0XHRcdFx0JC5kYXRhKHRoaXMsIFwic2VsZWN0YWJsZS1pdGVtXCIsIHtcblx0XHRcdFx0XHRlbGVtZW50OiB0aGlzLFxuXHRcdFx0XHRcdCRlbGVtZW50OiAkdGhpcyxcblx0XHRcdFx0XHRsZWZ0OiBwb3MubGVmdCxcblx0XHRcdFx0XHR0b3A6IHBvcy50b3AsXG5cdFx0XHRcdFx0cmlnaHQ6IHBvcy5sZWZ0ICsgJHRoaXMub3V0ZXJXaWR0aCgpLFxuXHRcdFx0XHRcdGJvdHRvbTogcG9zLnRvcCArICR0aGlzLm91dGVySGVpZ2h0KCksXG5cdFx0XHRcdFx0c3RhcnRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWQ6ICR0aGlzLmhhc0NsYXNzKFwidWktc2VsZWN0ZWRcIiksXG5cdFx0XHRcdFx0c2VsZWN0aW5nOiAkdGhpcy5oYXNDbGFzcyhcInVpLXNlbGVjdGluZ1wiKSxcblx0XHRcdFx0XHR1bnNlbGVjdGluZzogJHRoaXMuaGFzQ2xhc3MoXCJ1aS11bnNlbGVjdGluZ1wiKVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH07XG5cdFx0dGhpcy5yZWZyZXNoKCk7XG5cblx0XHR0aGlzLnNlbGVjdGVlcyA9IHNlbGVjdGVlcy5hZGRDbGFzcyhcInVpLXNlbGVjdGVlXCIpO1xuXG5cdFx0dGhpcy5fbW91c2VJbml0KCk7XG5cblx0XHR0aGlzLmhlbHBlciA9ICQoXCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3RhYmxlLWhlbHBlcic+PC9kaXY+XCIpO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLnNlbGVjdGVlc1xuXHRcdFx0LnJlbW92ZUNsYXNzKFwidWktc2VsZWN0ZWVcIilcblx0XHRcdC5yZW1vdmVEYXRhKFwic2VsZWN0YWJsZS1pdGVtXCIpO1xuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnJlbW92ZUNsYXNzKFwidWktc2VsZWN0YWJsZSB1aS1zZWxlY3RhYmxlLWRpc2FibGVkXCIpO1xuXHRcdHRoaXMuX21vdXNlRGVzdHJveSgpO1xuXHR9LFxuXG5cdF9tb3VzZVN0YXJ0OiBmdW5jdGlvbihldmVudCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHR0aGlzLm9wb3MgPSBbIGV2ZW50LnBhZ2VYLCBldmVudC5wYWdlWSBdO1xuXG5cdFx0aWYgKHRoaXMub3B0aW9ucy5kaXNhYmxlZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuc2VsZWN0ZWVzID0gJChvcHRpb25zLmZpbHRlciwgdGhpcy5lbGVtZW50WzBdKTtcblxuXHRcdHRoaXMuX3RyaWdnZXIoXCJzdGFydFwiLCBldmVudCk7XG5cblx0XHQkKG9wdGlvbnMuYXBwZW5kVG8pLmFwcGVuZCh0aGlzLmhlbHBlcik7XG5cdFx0Ly8gcG9zaXRpb24gaGVscGVyIChsYXNzbylcblx0XHR0aGlzLmhlbHBlci5jc3Moe1xuXHRcdFx0XCJsZWZ0XCI6IGV2ZW50LnBhZ2VYLFxuXHRcdFx0XCJ0b3BcIjogZXZlbnQucGFnZVksXG5cdFx0XHRcIndpZHRoXCI6IDAsXG5cdFx0XHRcImhlaWdodFwiOiAwXG5cdFx0fSk7XG5cblx0XHRpZiAob3B0aW9ucy5hdXRvUmVmcmVzaCkge1xuXHRcdFx0dGhpcy5yZWZyZXNoKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zZWxlY3RlZXMuZmlsdGVyKFwiLnVpLXNlbGVjdGVkXCIpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZWN0ZWUgPSAkLmRhdGEodGhpcywgXCJzZWxlY3RhYmxlLWl0ZW1cIik7XG5cdFx0XHRzZWxlY3RlZS5zdGFydHNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdGlmICghZXZlbnQubWV0YUtleSAmJiAhZXZlbnQuY3RybEtleSkge1xuXHRcdFx0XHRzZWxlY3RlZS4kZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLXNlbGVjdGVkXCIpO1xuXHRcdFx0XHRzZWxlY3RlZS5zZWxlY3RlZCA9IGZhbHNlO1xuXHRcdFx0XHRzZWxlY3RlZS4kZWxlbWVudC5hZGRDbGFzcyhcInVpLXVuc2VsZWN0aW5nXCIpO1xuXHRcdFx0XHRzZWxlY3RlZS51bnNlbGVjdGluZyA9IHRydWU7XG5cdFx0XHRcdC8vIHNlbGVjdGFibGUgVU5TRUxFQ1RJTkcgY2FsbGJhY2tcblx0XHRcdFx0dGhhdC5fdHJpZ2dlcihcInVuc2VsZWN0aW5nXCIsIGV2ZW50LCB7XG5cdFx0XHRcdFx0dW5zZWxlY3Rpbmc6IHNlbGVjdGVlLmVsZW1lbnRcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQkKGV2ZW50LnRhcmdldCkucGFyZW50cygpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRvU2VsZWN0LFxuXHRcdFx0XHRzZWxlY3RlZSA9ICQuZGF0YSh0aGlzLCBcInNlbGVjdGFibGUtaXRlbVwiKTtcblx0XHRcdGlmIChzZWxlY3RlZSkge1xuXHRcdFx0XHRkb1NlbGVjdCA9ICghZXZlbnQubWV0YUtleSAmJiAhZXZlbnQuY3RybEtleSkgfHwgIXNlbGVjdGVlLiRlbGVtZW50Lmhhc0NsYXNzKFwidWktc2VsZWN0ZWRcIik7XG5cdFx0XHRcdHNlbGVjdGVlLiRlbGVtZW50XG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKGRvU2VsZWN0ID8gXCJ1aS11bnNlbGVjdGluZ1wiIDogXCJ1aS1zZWxlY3RlZFwiKVxuXHRcdFx0XHRcdC5hZGRDbGFzcyhkb1NlbGVjdCA/IFwidWktc2VsZWN0aW5nXCIgOiBcInVpLXVuc2VsZWN0aW5nXCIpO1xuXHRcdFx0XHRzZWxlY3RlZS51bnNlbGVjdGluZyA9ICFkb1NlbGVjdDtcblx0XHRcdFx0c2VsZWN0ZWUuc2VsZWN0aW5nID0gZG9TZWxlY3Q7XG5cdFx0XHRcdHNlbGVjdGVlLnNlbGVjdGVkID0gZG9TZWxlY3Q7XG5cdFx0XHRcdC8vIHNlbGVjdGFibGUgKFVOKVNFTEVDVElORyBjYWxsYmFja1xuXHRcdFx0XHRpZiAoZG9TZWxlY3QpIHtcblx0XHRcdFx0XHR0aGF0Ll90cmlnZ2VyKFwic2VsZWN0aW5nXCIsIGV2ZW50LCB7XG5cdFx0XHRcdFx0XHRzZWxlY3Rpbmc6IHNlbGVjdGVlLmVsZW1lbnRcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGF0Ll90cmlnZ2VyKFwidW5zZWxlY3RpbmdcIiwgZXZlbnQsIHtcblx0XHRcdFx0XHRcdHVuc2VsZWN0aW5nOiBzZWxlY3RlZS5lbGVtZW50XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdH0sXG5cblx0X21vdXNlRHJhZzogZnVuY3Rpb24oZXZlbnQpIHtcblxuXHRcdHRoaXMuZHJhZ2dlZCA9IHRydWU7XG5cblx0XHRpZiAodGhpcy5vcHRpb25zLmRpc2FibGVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIHRtcCxcblx0XHRcdHRoYXQgPSB0aGlzLFxuXHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdHgxID0gdGhpcy5vcG9zWzBdLFxuXHRcdFx0eTEgPSB0aGlzLm9wb3NbMV0sXG5cdFx0XHR4MiA9IGV2ZW50LnBhZ2VYLFxuXHRcdFx0eTIgPSBldmVudC5wYWdlWTtcblxuXHRcdGlmICh4MSA+IHgyKSB7IHRtcCA9IHgyOyB4MiA9IHgxOyB4MSA9IHRtcDsgfVxuXHRcdGlmICh5MSA+IHkyKSB7IHRtcCA9IHkyOyB5MiA9IHkxOyB5MSA9IHRtcDsgfVxuXHRcdHRoaXMuaGVscGVyLmNzcyh7IGxlZnQ6IHgxLCB0b3A6IHkxLCB3aWR0aDogeDIgLSB4MSwgaGVpZ2h0OiB5MiAtIHkxIH0pO1xuXG5cdFx0dGhpcy5zZWxlY3RlZXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxlY3RlZSA9ICQuZGF0YSh0aGlzLCBcInNlbGVjdGFibGUtaXRlbVwiKSxcblx0XHRcdFx0aGl0ID0gZmFsc2U7XG5cblx0XHRcdC8vcHJldmVudCBoZWxwZXIgZnJvbSBiZWluZyBzZWxlY3RlZCBpZiBhcHBlbmRUbzogc2VsZWN0YWJsZVxuXHRcdFx0aWYgKCFzZWxlY3RlZSB8fCBzZWxlY3RlZS5lbGVtZW50ID09PSB0aGF0LmVsZW1lbnRbMF0pIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAob3B0aW9ucy50b2xlcmFuY2UgPT09IFwidG91Y2hcIikge1xuXHRcdFx0XHRoaXQgPSAoICEoc2VsZWN0ZWUubGVmdCA+IHgyIHx8IHNlbGVjdGVlLnJpZ2h0IDwgeDEgfHwgc2VsZWN0ZWUudG9wID4geTIgfHwgc2VsZWN0ZWUuYm90dG9tIDwgeTEpICk7XG5cdFx0XHR9IGVsc2UgaWYgKG9wdGlvbnMudG9sZXJhbmNlID09PSBcImZpdFwiKSB7XG5cdFx0XHRcdGhpdCA9IChzZWxlY3RlZS5sZWZ0ID4geDEgJiYgc2VsZWN0ZWUucmlnaHQgPCB4MiAmJiBzZWxlY3RlZS50b3AgPiB5MSAmJiBzZWxlY3RlZS5ib3R0b20gPCB5Mik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChoaXQpIHtcblx0XHRcdFx0Ly8gU0VMRUNUXG5cdFx0XHRcdGlmIChzZWxlY3RlZS5zZWxlY3RlZCkge1xuXHRcdFx0XHRcdHNlbGVjdGVlLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwidWktc2VsZWN0ZWRcIik7XG5cdFx0XHRcdFx0c2VsZWN0ZWUuc2VsZWN0ZWQgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2VsZWN0ZWUudW5zZWxlY3RpbmcpIHtcblx0XHRcdFx0XHRzZWxlY3RlZS4kZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLXVuc2VsZWN0aW5nXCIpO1xuXHRcdFx0XHRcdHNlbGVjdGVlLnVuc2VsZWN0aW5nID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFzZWxlY3RlZS5zZWxlY3RpbmcpIHtcblx0XHRcdFx0XHRzZWxlY3RlZS4kZWxlbWVudC5hZGRDbGFzcyhcInVpLXNlbGVjdGluZ1wiKTtcblx0XHRcdFx0XHRzZWxlY3RlZS5zZWxlY3RpbmcgPSB0cnVlO1xuXHRcdFx0XHRcdC8vIHNlbGVjdGFibGUgU0VMRUNUSU5HIGNhbGxiYWNrXG5cdFx0XHRcdFx0dGhhdC5fdHJpZ2dlcihcInNlbGVjdGluZ1wiLCBldmVudCwge1xuXHRcdFx0XHRcdFx0c2VsZWN0aW5nOiBzZWxlY3RlZS5lbGVtZW50XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFVOU0VMRUNUXG5cdFx0XHRcdGlmIChzZWxlY3RlZS5zZWxlY3RpbmcpIHtcblx0XHRcdFx0XHRpZiAoKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSkgJiYgc2VsZWN0ZWUuc3RhcnRzZWxlY3RlZCkge1xuXHRcdFx0XHRcdFx0c2VsZWN0ZWUuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1zZWxlY3RpbmdcIik7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZS5zZWxlY3RpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHRcdHNlbGVjdGVlLiRlbGVtZW50LmFkZENsYXNzKFwidWktc2VsZWN0ZWRcIik7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZS5zZWxlY3RlZCA9IHRydWU7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNlbGVjdGVlLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwidWktc2VsZWN0aW5nXCIpO1xuXHRcdFx0XHRcdFx0c2VsZWN0ZWUuc2VsZWN0aW5nID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRpZiAoc2VsZWN0ZWUuc3RhcnRzZWxlY3RlZCkge1xuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZS4kZWxlbWVudC5hZGRDbGFzcyhcInVpLXVuc2VsZWN0aW5nXCIpO1xuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZS51bnNlbGVjdGluZyA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQvLyBzZWxlY3RhYmxlIFVOU0VMRUNUSU5HIGNhbGxiYWNrXG5cdFx0XHRcdFx0XHR0aGF0Ll90cmlnZ2VyKFwidW5zZWxlY3RpbmdcIiwgZXZlbnQsIHtcblx0XHRcdFx0XHRcdFx0dW5zZWxlY3Rpbmc6IHNlbGVjdGVlLmVsZW1lbnRcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc2VsZWN0ZWUuc2VsZWN0ZWQpIHtcblx0XHRcdFx0XHRpZiAoIWV2ZW50Lm1ldGFLZXkgJiYgIWV2ZW50LmN0cmxLZXkgJiYgIXNlbGVjdGVlLnN0YXJ0c2VsZWN0ZWQpIHtcblx0XHRcdFx0XHRcdHNlbGVjdGVlLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwidWktc2VsZWN0ZWRcIik7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZS5zZWxlY3RlZCA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0XHRzZWxlY3RlZS4kZWxlbWVudC5hZGRDbGFzcyhcInVpLXVuc2VsZWN0aW5nXCIpO1xuXHRcdFx0XHRcdFx0c2VsZWN0ZWUudW5zZWxlY3RpbmcgPSB0cnVlO1xuXHRcdFx0XHRcdFx0Ly8gc2VsZWN0YWJsZSBVTlNFTEVDVElORyBjYWxsYmFja1xuXHRcdFx0XHRcdFx0dGhhdC5fdHJpZ2dlcihcInVuc2VsZWN0aW5nXCIsIGV2ZW50LCB7XG5cdFx0XHRcdFx0XHRcdHVuc2VsZWN0aW5nOiBzZWxlY3RlZS5lbGVtZW50XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfbW91c2VTdG9wOiBmdW5jdGlvbihldmVudCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdHRoaXMuZHJhZ2dlZCA9IGZhbHNlO1xuXG5cdFx0JChcIi51aS11bnNlbGVjdGluZ1wiLCB0aGlzLmVsZW1lbnRbMF0pLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZWN0ZWUgPSAkLmRhdGEodGhpcywgXCJzZWxlY3RhYmxlLWl0ZW1cIik7XG5cdFx0XHRzZWxlY3RlZS4kZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLXVuc2VsZWN0aW5nXCIpO1xuXHRcdFx0c2VsZWN0ZWUudW5zZWxlY3RpbmcgPSBmYWxzZTtcblx0XHRcdHNlbGVjdGVlLnN0YXJ0c2VsZWN0ZWQgPSBmYWxzZTtcblx0XHRcdHRoYXQuX3RyaWdnZXIoXCJ1bnNlbGVjdGVkXCIsIGV2ZW50LCB7XG5cdFx0XHRcdHVuc2VsZWN0ZWQ6IHNlbGVjdGVlLmVsZW1lbnRcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdCQoXCIudWktc2VsZWN0aW5nXCIsIHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxlY3RlZSA9ICQuZGF0YSh0aGlzLCBcInNlbGVjdGFibGUtaXRlbVwiKTtcblx0XHRcdHNlbGVjdGVlLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwidWktc2VsZWN0aW5nXCIpLmFkZENsYXNzKFwidWktc2VsZWN0ZWRcIik7XG5cdFx0XHRzZWxlY3RlZS5zZWxlY3RpbmcgPSBmYWxzZTtcblx0XHRcdHNlbGVjdGVlLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdHNlbGVjdGVlLnN0YXJ0c2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0dGhhdC5fdHJpZ2dlcihcInNlbGVjdGVkXCIsIGV2ZW50LCB7XG5cdFx0XHRcdHNlbGVjdGVkOiBzZWxlY3RlZS5lbGVtZW50XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHR0aGlzLl90cmlnZ2VyKFwic3RvcFwiLCBldmVudCk7XG5cblx0XHR0aGlzLmhlbHBlci5yZW1vdmUoKTtcblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBTZWxlY3RtZW51IDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2VsZWN0bWVudVxuICovXG5cblxudmFyIHNlbGVjdG1lbnUgPSAkLndpZGdldCggXCJ1aS5zZWxlY3RtZW51XCIsIHtcblx0dmVyc2lvbjogXCIxLjExLjRcIixcblx0ZGVmYXVsdEVsZW1lbnQ6IFwiPHNlbGVjdD5cIixcblx0b3B0aW9uczoge1xuXHRcdGFwcGVuZFRvOiBudWxsLFxuXHRcdGRpc2FibGVkOiBudWxsLFxuXHRcdGljb25zOiB7XG5cdFx0XHRidXR0b246IFwidWktaWNvbi10cmlhbmdsZS0xLXNcIlxuXHRcdH0sXG5cdFx0cG9zaXRpb246IHtcblx0XHRcdG15OiBcImxlZnQgdG9wXCIsXG5cdFx0XHRhdDogXCJsZWZ0IGJvdHRvbVwiLFxuXHRcdFx0Y29sbGlzaW9uOiBcIm5vbmVcIlxuXHRcdH0sXG5cdFx0d2lkdGg6IG51bGwsXG5cblx0XHQvLyBjYWxsYmFja3Ncblx0XHRjaGFuZ2U6IG51bGwsXG5cdFx0Y2xvc2U6IG51bGwsXG5cdFx0Zm9jdXM6IG51bGwsXG5cdFx0b3BlbjogbnVsbCxcblx0XHRzZWxlY3Q6IG51bGxcblx0fSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgc2VsZWN0bWVudUlkID0gdGhpcy5lbGVtZW50LnVuaXF1ZUlkKCkuYXR0ciggXCJpZFwiICk7XG5cdFx0dGhpcy5pZHMgPSB7XG5cdFx0XHRlbGVtZW50OiBzZWxlY3RtZW51SWQsXG5cdFx0XHRidXR0b246IHNlbGVjdG1lbnVJZCArIFwiLWJ1dHRvblwiLFxuXHRcdFx0bWVudTogc2VsZWN0bWVudUlkICsgXCItbWVudVwiXG5cdFx0fTtcblxuXHRcdHRoaXMuX2RyYXdCdXR0b24oKTtcblx0XHR0aGlzLl9kcmF3TWVudSgpO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHR0aGlzLmRpc2FibGUoKTtcblx0XHR9XG5cdH0sXG5cblx0X2RyYXdCdXR0b246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdC8vIEFzc29jaWF0ZSBleGlzdGluZyBsYWJlbCB3aXRoIHRoZSBuZXcgYnV0dG9uXG5cdFx0dGhpcy5sYWJlbCA9ICQoIFwibGFiZWxbZm9yPSdcIiArIHRoaXMuaWRzLmVsZW1lbnQgKyBcIiddXCIgKS5hdHRyKCBcImZvclwiLCB0aGlzLmlkcy5idXR0b24gKTtcblx0XHR0aGlzLl9vbiggdGhpcy5sYWJlbCwge1xuXHRcdFx0Y2xpY2s6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dGhpcy5idXR0b24uZm9jdXMoKTtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEhpZGUgb3JpZ2luYWwgc2VsZWN0IGVsZW1lbnRcblx0XHR0aGlzLmVsZW1lbnQuaGlkZSgpO1xuXG5cdFx0Ly8gQ3JlYXRlIGJ1dHRvblxuXHRcdHRoaXMuYnV0dG9uID0gJCggXCI8c3Bhbj5cIiwge1xuXHRcdFx0XCJjbGFzc1wiOiBcInVpLXNlbGVjdG1lbnUtYnV0dG9uIHVpLXdpZGdldCB1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGxcIixcblx0XHRcdHRhYmluZGV4OiB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgPyAtMSA6IDAsXG5cdFx0XHRpZDogdGhpcy5pZHMuYnV0dG9uLFxuXHRcdFx0cm9sZTogXCJjb21ib2JveFwiLFxuXHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwiZmFsc2VcIixcblx0XHRcdFwiYXJpYS1hdXRvY29tcGxldGVcIjogXCJsaXN0XCIsXG5cdFx0XHRcImFyaWEtb3duc1wiOiB0aGlzLmlkcy5tZW51LFxuXHRcdFx0XCJhcmlhLWhhc3BvcHVwXCI6IFwidHJ1ZVwiXG5cdFx0fSlcblx0XHRcdC5pbnNlcnRBZnRlciggdGhpcy5lbGVtZW50ICk7XG5cblx0XHQkKCBcIjxzcGFuPlwiLCB7XG5cdFx0XHRcImNsYXNzXCI6IFwidWktaWNvbiBcIiArIHRoaXMub3B0aW9ucy5pY29ucy5idXR0b25cblx0XHR9KVxuXHRcdFx0LnByZXBlbmRUbyggdGhpcy5idXR0b24gKTtcblxuXHRcdHRoaXMuYnV0dG9uVGV4dCA9ICQoIFwiPHNwYW4+XCIsIHtcblx0XHRcdFwiY2xhc3NcIjogXCJ1aS1zZWxlY3RtZW51LXRleHRcIlxuXHRcdH0pXG5cdFx0XHQuYXBwZW5kVG8oIHRoaXMuYnV0dG9uICk7XG5cblx0XHR0aGlzLl9zZXRUZXh0KCB0aGlzLmJ1dHRvblRleHQsIHRoaXMuZWxlbWVudC5maW5kKCBcIm9wdGlvbjpzZWxlY3RlZFwiICkudGV4dCgpICk7XG5cdFx0dGhpcy5fcmVzaXplQnV0dG9uKCk7XG5cblx0XHR0aGlzLl9vbiggdGhpcy5idXR0b24sIHRoaXMuX2J1dHRvbkV2ZW50cyApO1xuXHRcdHRoaXMuYnV0dG9uLm9uZSggXCJmb2N1c2luXCIsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBEZWxheSByZW5kZXJpbmcgdGhlIG1lbnUgaXRlbXMgdW50aWwgdGhlIGJ1dHRvbiByZWNlaXZlcyBmb2N1cy5cblx0XHRcdC8vIFRoZSBtZW51IG1heSBoYXZlIGFscmVhZHkgYmVlbiByZW5kZXJlZCB2aWEgYSBwcm9ncmFtbWF0aWMgb3Blbi5cblx0XHRcdGlmICggIXRoYXQubWVudUl0ZW1zICkge1xuXHRcdFx0XHR0aGF0Ll9yZWZyZXNoTWVudSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHRoaXMuX2hvdmVyYWJsZSggdGhpcy5idXR0b24gKTtcblx0XHR0aGlzLl9mb2N1c2FibGUoIHRoaXMuYnV0dG9uICk7XG5cdH0sXG5cblx0X2RyYXdNZW51OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHQvLyBDcmVhdGUgbWVudVxuXHRcdHRoaXMubWVudSA9ICQoIFwiPHVsPlwiLCB7XG5cdFx0XHRcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuXHRcdFx0XCJhcmlhLWxhYmVsbGVkYnlcIjogdGhpcy5pZHMuYnV0dG9uLFxuXHRcdFx0aWQ6IHRoaXMuaWRzLm1lbnVcblx0XHR9KTtcblxuXHRcdC8vIFdyYXAgbWVudVxuXHRcdHRoaXMubWVudVdyYXAgPSAkKCBcIjxkaXY+XCIsIHtcblx0XHRcdFwiY2xhc3NcIjogXCJ1aS1zZWxlY3RtZW51LW1lbnUgdWktZnJvbnRcIlxuXHRcdH0pXG5cdFx0XHQuYXBwZW5kKCB0aGlzLm1lbnUgKVxuXHRcdFx0LmFwcGVuZFRvKCB0aGlzLl9hcHBlbmRUbygpICk7XG5cblx0XHQvLyBJbml0aWFsaXplIG1lbnUgd2lkZ2V0XG5cdFx0dGhpcy5tZW51SW5zdGFuY2UgPSB0aGlzLm1lbnVcblx0XHRcdC5tZW51KHtcblx0XHRcdFx0cm9sZTogXCJsaXN0Ym94XCIsXG5cdFx0XHRcdHNlbGVjdDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdFx0Ly8gc3VwcG9ydDogSUU4XG5cdFx0XHRcdFx0Ly8gSWYgdGhlIGl0ZW0gd2FzIHNlbGVjdGVkIHZpYSBhIGNsaWNrLCB0aGUgdGV4dCBzZWxlY3Rpb25cblx0XHRcdFx0XHQvLyB3aWxsIGJlIGRlc3Ryb3llZCBpbiBJRVxuXHRcdFx0XHRcdHRoYXQuX3NldFNlbGVjdGlvbigpO1xuXG5cdFx0XHRcdFx0dGhhdC5fc2VsZWN0KCB1aS5pdGVtLmRhdGEoIFwidWktc2VsZWN0bWVudS1pdGVtXCIgKSwgZXZlbnQgKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0Zm9jdXM6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdFx0dmFyIGl0ZW0gPSB1aS5pdGVtLmRhdGEoIFwidWktc2VsZWN0bWVudS1pdGVtXCIgKTtcblxuXHRcdFx0XHRcdC8vIFByZXZlbnQgaW5pdGFsIGZvY3VzIGZyb20gZmlyaW5nIGFuZCBjaGVjayBpZiBpdHMgYSBuZXdseSBmb2N1c2VkIGl0ZW1cblx0XHRcdFx0XHRpZiAoIHRoYXQuZm9jdXNJbmRleCAhPSBudWxsICYmIGl0ZW0uaW5kZXggIT09IHRoYXQuZm9jdXNJbmRleCApIHtcblx0XHRcdFx0XHRcdHRoYXQuX3RyaWdnZXIoIFwiZm9jdXNcIiwgZXZlbnQsIHsgaXRlbTogaXRlbSB9ICk7XG5cdFx0XHRcdFx0XHRpZiAoICF0aGF0LmlzT3BlbiApIHtcblx0XHRcdFx0XHRcdFx0dGhhdC5fc2VsZWN0KCBpdGVtLCBldmVudCApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGF0LmZvY3VzSW5kZXggPSBpdGVtLmluZGV4O1xuXG5cdFx0XHRcdFx0dGhhdC5idXR0b24uYXR0ciggXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIixcblx0XHRcdFx0XHRcdHRoYXQubWVudUl0ZW1zLmVxKCBpdGVtLmluZGV4ICkuYXR0ciggXCJpZFwiICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC5tZW51KCBcImluc3RhbmNlXCIgKTtcblxuXHRcdC8vIEFkanVzdCBtZW51IHN0eWxlcyB0byBkcm9wZG93blxuXHRcdHRoaXMubWVudVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLWNvcm5lci1ib3R0b21cIiApXG5cdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktY29ybmVyLWFsbFwiICk7XG5cblx0XHQvLyBEb24ndCBjbG9zZSB0aGUgbWVudSBvbiBtb3VzZWxlYXZlXG5cdFx0dGhpcy5tZW51SW5zdGFuY2UuX29mZiggdGhpcy5tZW51LCBcIm1vdXNlbGVhdmVcIiApO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBtZW51J3MgY29sbGFwc2VBbGwgb24gZG9jdW1lbnQgY2xpY2tcblx0XHR0aGlzLm1lbnVJbnN0YW5jZS5fY2xvc2VPbkRvY3VtZW50Q2xpY2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXG5cdFx0Ly8gU2VsZWN0cyBvZnRlbiBjb250YWluIGVtcHR5IGl0ZW1zLCBidXQgbmV2ZXIgY29udGFpbiBkaXZpZGVyc1xuXHRcdHRoaXMubWVudUluc3RhbmNlLl9pc0RpdmlkZXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXHR9LFxuXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX3JlZnJlc2hNZW51KCk7XG5cdFx0dGhpcy5fc2V0VGV4dCggdGhpcy5idXR0b25UZXh0LCB0aGlzLl9nZXRTZWxlY3RlZEl0ZW0oKS50ZXh0KCkgKTtcblx0XHRpZiAoICF0aGlzLm9wdGlvbnMud2lkdGggKSB7XG5cdFx0XHR0aGlzLl9yZXNpemVCdXR0b24oKTtcblx0XHR9XG5cdH0sXG5cblx0X3JlZnJlc2hNZW51OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLm1lbnUuZW1wdHkoKTtcblxuXHRcdHZhciBpdGVtLFxuXHRcdFx0b3B0aW9ucyA9IHRoaXMuZWxlbWVudC5maW5kKCBcIm9wdGlvblwiICk7XG5cblx0XHRpZiAoICFvcHRpb25zLmxlbmd0aCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9wYXJzZU9wdGlvbnMoIG9wdGlvbnMgKTtcblx0XHR0aGlzLl9yZW5kZXJNZW51KCB0aGlzLm1lbnUsIHRoaXMuaXRlbXMgKTtcblxuXHRcdHRoaXMubWVudUluc3RhbmNlLnJlZnJlc2goKTtcblx0XHR0aGlzLm1lbnVJdGVtcyA9IHRoaXMubWVudS5maW5kKCBcImxpXCIgKS5ub3QoIFwiLnVpLXNlbGVjdG1lbnUtb3B0Z3JvdXBcIiApO1xuXG5cdFx0aXRlbSA9IHRoaXMuX2dldFNlbGVjdGVkSXRlbSgpO1xuXG5cdFx0Ly8gVXBkYXRlIHRoZSBtZW51IHRvIGhhdmUgdGhlIGNvcnJlY3QgaXRlbSBmb2N1c2VkXG5cdFx0dGhpcy5tZW51SW5zdGFuY2UuZm9jdXMoIG51bGwsIGl0ZW0gKTtcblx0XHR0aGlzLl9zZXRBcmlhKCBpdGVtLmRhdGEoIFwidWktc2VsZWN0bWVudS1pdGVtXCIgKSApO1xuXG5cdFx0Ly8gU2V0IGRpc2FibGVkIHN0YXRlXG5cdFx0dGhpcy5fc2V0T3B0aW9uKCBcImRpc2FibGVkXCIsIHRoaXMuZWxlbWVudC5wcm9wKCBcImRpc2FibGVkXCIgKSApO1xuXHR9LFxuXG5cdG9wZW46IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHRoZSBtZW51IGlzIGJlaW5nIG9wZW5lZCwgcmVuZGVyIHRoZSBpdGVtc1xuXHRcdGlmICggIXRoaXMubWVudUl0ZW1zICkge1xuXHRcdFx0dGhpcy5fcmVmcmVzaE1lbnUoKTtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBNZW51IGNsZWFycyBmb2N1cyBvbiBjbG9zZSwgcmVzZXQgZm9jdXMgdG8gc2VsZWN0ZWQgaXRlbVxuXHRcdFx0dGhpcy5tZW51LmZpbmQoIFwiLnVpLXN0YXRlLWZvY3VzXCIgKS5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0XHR0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyggbnVsbCwgdGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCkgKTtcblx0XHR9XG5cblx0XHR0aGlzLmlzT3BlbiA9IHRydWU7XG5cdFx0dGhpcy5fdG9nZ2xlQXR0cigpO1xuXHRcdHRoaXMuX3Jlc2l6ZU1lbnUoKTtcblx0XHR0aGlzLl9wb3NpdGlvbigpO1xuXG5cdFx0dGhpcy5fb24oIHRoaXMuZG9jdW1lbnQsIHRoaXMuX2RvY3VtZW50Q2xpY2sgKTtcblxuXHRcdHRoaXMuX3RyaWdnZXIoIFwib3BlblwiLCBldmVudCApO1xuXHR9LFxuXG5cdF9wb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5tZW51V3JhcC5wb3NpdGlvbiggJC5leHRlbmQoIHsgb2Y6IHRoaXMuYnV0dG9uIH0sIHRoaXMub3B0aW9ucy5wb3NpdGlvbiApICk7XG5cdH0sXG5cblx0Y2xvc2U6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoICF0aGlzLmlzT3BlbiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLmlzT3BlbiA9IGZhbHNlO1xuXHRcdHRoaXMuX3RvZ2dsZUF0dHIoKTtcblxuXHRcdHRoaXMucmFuZ2UgPSBudWxsO1xuXHRcdHRoaXMuX29mZiggdGhpcy5kb2N1bWVudCApO1xuXG5cdFx0dGhpcy5fdHJpZ2dlciggXCJjbG9zZVwiLCBldmVudCApO1xuXHR9LFxuXG5cdHdpZGdldDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuYnV0dG9uO1xuXHR9LFxuXG5cdG1lbnVXaWRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1lbnU7XG5cdH0sXG5cblx0X3JlbmRlck1lbnU6IGZ1bmN0aW9uKCB1bCwgaXRlbXMgKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0Y3VycmVudE9wdGdyb3VwID0gXCJcIjtcblxuXHRcdCQuZWFjaCggaXRlbXMsIGZ1bmN0aW9uKCBpbmRleCwgaXRlbSApIHtcblx0XHRcdGlmICggaXRlbS5vcHRncm91cCAhPT0gY3VycmVudE9wdGdyb3VwICkge1xuXHRcdFx0XHQkKCBcIjxsaT5cIiwge1xuXHRcdFx0XHRcdFwiY2xhc3NcIjogXCJ1aS1zZWxlY3RtZW51LW9wdGdyb3VwIHVpLW1lbnUtZGl2aWRlclwiICtcblx0XHRcdFx0XHRcdCggaXRlbS5lbGVtZW50LnBhcmVudCggXCJvcHRncm91cFwiICkucHJvcCggXCJkaXNhYmxlZFwiICkgP1xuXHRcdFx0XHRcdFx0XHRcIiB1aS1zdGF0ZS1kaXNhYmxlZFwiIDpcblx0XHRcdFx0XHRcdFx0XCJcIiApLFxuXHRcdFx0XHRcdHRleHQ6IGl0ZW0ub3B0Z3JvdXBcblx0XHRcdFx0fSlcblx0XHRcdFx0XHQuYXBwZW5kVG8oIHVsICk7XG5cblx0XHRcdFx0Y3VycmVudE9wdGdyb3VwID0gaXRlbS5vcHRncm91cDtcblx0XHRcdH1cblxuXHRcdFx0dGhhdC5fcmVuZGVySXRlbURhdGEoIHVsLCBpdGVtICk7XG5cdFx0fSk7XG5cdH0sXG5cblx0X3JlbmRlckl0ZW1EYXRhOiBmdW5jdGlvbiggdWwsIGl0ZW0gKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3JlbmRlckl0ZW0oIHVsLCBpdGVtICkuZGF0YSggXCJ1aS1zZWxlY3RtZW51LWl0ZW1cIiwgaXRlbSApO1xuXHR9LFxuXG5cdF9yZW5kZXJJdGVtOiBmdW5jdGlvbiggdWwsIGl0ZW0gKSB7XG5cdFx0dmFyIGxpID0gJCggXCI8bGk+XCIgKTtcblxuXHRcdGlmICggaXRlbS5kaXNhYmxlZCApIHtcblx0XHRcdGxpLmFkZENsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIgKTtcblx0XHR9XG5cdFx0dGhpcy5fc2V0VGV4dCggbGksIGl0ZW0ubGFiZWwgKTtcblxuXHRcdHJldHVybiBsaS5hcHBlbmRUbyggdWwgKTtcblx0fSxcblxuXHRfc2V0VGV4dDogZnVuY3Rpb24oIGVsZW1lbnQsIHZhbHVlICkge1xuXHRcdGlmICggdmFsdWUgKSB7XG5cdFx0XHRlbGVtZW50LnRleHQoIHZhbHVlICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW1lbnQuaHRtbCggXCImIzE2MDtcIiApO1xuXHRcdH1cblx0fSxcblxuXHRfbW92ZTogZnVuY3Rpb24oIGRpcmVjdGlvbiwgZXZlbnQgKSB7XG5cdFx0dmFyIGl0ZW0sIG5leHQsXG5cdFx0XHRmaWx0ZXIgPSBcIi51aS1tZW51LWl0ZW1cIjtcblxuXHRcdGlmICggdGhpcy5pc09wZW4gKSB7XG5cdFx0XHRpdGVtID0gdGhpcy5tZW51SXRlbXMuZXEoIHRoaXMuZm9jdXNJbmRleCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpdGVtID0gdGhpcy5tZW51SXRlbXMuZXEoIHRoaXMuZWxlbWVudFsgMCBdLnNlbGVjdGVkSW5kZXggKTtcblx0XHRcdGZpbHRlciArPSBcIjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKVwiO1xuXHRcdH1cblxuXHRcdGlmICggZGlyZWN0aW9uID09PSBcImZpcnN0XCIgfHwgZGlyZWN0aW9uID09PSBcImxhc3RcIiApIHtcblx0XHRcdG5leHQgPSBpdGVtWyBkaXJlY3Rpb24gPT09IFwiZmlyc3RcIiA/IFwicHJldkFsbFwiIDogXCJuZXh0QWxsXCIgXSggZmlsdGVyICkuZXEoIC0xICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5leHQgPSBpdGVtWyBkaXJlY3Rpb24gKyBcIkFsbFwiIF0oIGZpbHRlciApLmVxKCAwICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBuZXh0Lmxlbmd0aCApIHtcblx0XHRcdHRoaXMubWVudUluc3RhbmNlLmZvY3VzKCBldmVudCwgbmV4dCApO1xuXHRcdH1cblx0fSxcblxuXHRfZ2V0U2VsZWN0ZWRJdGVtOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tZW51SXRlbXMuZXEoIHRoaXMuZWxlbWVudFsgMCBdLnNlbGVjdGVkSW5kZXggKTtcblx0fSxcblxuXHRfdG9nZ2xlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dGhpc1sgdGhpcy5pc09wZW4gPyBcImNsb3NlXCIgOiBcIm9wZW5cIiBdKCBldmVudCApO1xuXHR9LFxuXG5cdF9zZXRTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzZWxlY3Rpb247XG5cblx0XHRpZiAoICF0aGlzLnJhbmdlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggd2luZG93LmdldFNlbGVjdGlvbiApIHtcblx0XHRcdHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcblx0XHRcdHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcblx0XHRcdHNlbGVjdGlvbi5hZGRSYW5nZSggdGhpcy5yYW5nZSApO1xuXG5cdFx0Ly8gc3VwcG9ydDogSUU4XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucmFuZ2Uuc2VsZWN0KCk7XG5cdFx0fVxuXG5cdFx0Ly8gc3VwcG9ydDogSUVcblx0XHQvLyBTZXR0aW5nIHRoZSB0ZXh0IHNlbGVjdGlvbiBraWxscyB0aGUgYnV0dG9uIGZvY3VzIGluIElFLCBidXRcblx0XHQvLyByZXN0b3JpbmcgdGhlIGZvY3VzIGRvZXNuJ3Qga2lsbCB0aGUgc2VsZWN0aW9uLlxuXHRcdHRoaXMuYnV0dG9uLmZvY3VzKCk7XG5cdH0sXG5cblx0X2RvY3VtZW50Q2xpY2s6IHtcblx0XHRtb3VzZWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGlmICggIXRoaXMuaXNPcGVuICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggISQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIFwiLnVpLXNlbGVjdG1lbnUtbWVudSwgI1wiICsgdGhpcy5pZHMuYnV0dG9uICkubGVuZ3RoICkge1xuXHRcdFx0XHR0aGlzLmNsb3NlKCBldmVudCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRfYnV0dG9uRXZlbnRzOiB7XG5cblx0XHQvLyBQcmV2ZW50IHRleHQgc2VsZWN0aW9uIGZyb20gYmVpbmcgcmVzZXQgd2hlbiBpbnRlcmFjdGluZyB3aXRoIHRoZSBzZWxlY3RtZW51ICgjMTAxNDQpXG5cdFx0bW91c2Vkb3duOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxlY3Rpb247XG5cblx0XHRcdGlmICggd2luZG93LmdldFNlbGVjdGlvbiApIHtcblx0XHRcdFx0c2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRpZiAoIHNlbGVjdGlvbi5yYW5nZUNvdW50ICkge1xuXHRcdFx0XHRcdHRoaXMucmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCggMCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdC8vIHN1cHBvcnQ6IElFOFxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5yYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRjbGljazogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dGhpcy5fc2V0U2VsZWN0aW9uKCk7XG5cdFx0XHR0aGlzLl90b2dnbGUoIGV2ZW50ICk7XG5cdFx0fSxcblxuXHRcdGtleWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBwcmV2ZW50RGVmYXVsdCA9IHRydWU7XG5cdFx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5UQUI6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkVTQ0FQRTpcblx0XHRcdFx0XHR0aGlzLmNsb3NlKCBldmVudCApO1xuXHRcdFx0XHRcdHByZXZlbnREZWZhdWx0ID0gZmFsc2U7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkVOVEVSOlxuXHRcdFx0XHRcdGlmICggdGhpcy5pc09wZW4gKSB7XG5cdFx0XHRcdFx0XHR0aGlzLl9zZWxlY3RGb2N1c2VkSXRlbSggZXZlbnQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlVQOlxuXHRcdFx0XHRcdGlmICggZXZlbnQuYWx0S2V5ICkge1xuXHRcdFx0XHRcdFx0dGhpcy5fdG9nZ2xlKCBldmVudCApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLl9tb3ZlKCBcInByZXZcIiwgZXZlbnQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkRPV046XG5cdFx0XHRcdFx0aWYgKCBldmVudC5hbHRLZXkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLl90b2dnbGUoIGV2ZW50ICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMuX21vdmUoIFwibmV4dFwiLCBldmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuU1BBQ0U6XG5cdFx0XHRcdFx0aWYgKCB0aGlzLmlzT3BlbiApIHtcblx0XHRcdFx0XHRcdHRoaXMuX3NlbGVjdEZvY3VzZWRJdGVtKCBldmVudCApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLl90b2dnbGUoIGV2ZW50ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5MRUZUOlxuXHRcdFx0XHRcdHRoaXMuX21vdmUoIFwicHJldlwiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5SSUdIVDpcblx0XHRcdFx0XHR0aGlzLl9tb3ZlKCBcIm5leHRcIiwgZXZlbnQgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuSE9NRTpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuUEFHRV9VUDpcblx0XHRcdFx0XHR0aGlzLl9tb3ZlKCBcImZpcnN0XCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkVORDpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuUEFHRV9ET1dOOlxuXHRcdFx0XHRcdHRoaXMuX21vdmUoIFwibGFzdFwiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHRoaXMubWVudS50cmlnZ2VyKCBldmVudCApO1xuXHRcdFx0XHRcdHByZXZlbnREZWZhdWx0ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggcHJldmVudERlZmF1bHQgKSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF9zZWxlY3RGb2N1c2VkSXRlbTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBpdGVtID0gdGhpcy5tZW51SXRlbXMuZXEoIHRoaXMuZm9jdXNJbmRleCApO1xuXHRcdGlmICggIWl0ZW0uaGFzQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiApICkge1xuXHRcdFx0dGhpcy5fc2VsZWN0KCBpdGVtLmRhdGEoIFwidWktc2VsZWN0bWVudS1pdGVtXCIgKSwgZXZlbnQgKTtcblx0XHR9XG5cdH0sXG5cblx0X3NlbGVjdDogZnVuY3Rpb24oIGl0ZW0sIGV2ZW50ICkge1xuXHRcdHZhciBvbGRJbmRleCA9IHRoaXMuZWxlbWVudFsgMCBdLnNlbGVjdGVkSW5kZXg7XG5cblx0XHQvLyBDaGFuZ2UgbmF0aXZlIHNlbGVjdCBlbGVtZW50XG5cdFx0dGhpcy5lbGVtZW50WyAwIF0uc2VsZWN0ZWRJbmRleCA9IGl0ZW0uaW5kZXg7XG5cdFx0dGhpcy5fc2V0VGV4dCggdGhpcy5idXR0b25UZXh0LCBpdGVtLmxhYmVsICk7XG5cdFx0dGhpcy5fc2V0QXJpYSggaXRlbSApO1xuXHRcdHRoaXMuX3RyaWdnZXIoIFwic2VsZWN0XCIsIGV2ZW50LCB7IGl0ZW06IGl0ZW0gfSApO1xuXG5cdFx0aWYgKCBpdGVtLmluZGV4ICE9PSBvbGRJbmRleCApIHtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY2hhbmdlXCIsIGV2ZW50LCB7IGl0ZW06IGl0ZW0gfSApO1xuXHRcdH1cblxuXHRcdHRoaXMuY2xvc2UoIGV2ZW50ICk7XG5cdH0sXG5cblx0X3NldEFyaWE6IGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdHZhciBpZCA9IHRoaXMubWVudUl0ZW1zLmVxKCBpdGVtLmluZGV4ICkuYXR0ciggXCJpZFwiICk7XG5cblx0XHR0aGlzLmJ1dHRvbi5hdHRyKHtcblx0XHRcdFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGlkLFxuXHRcdFx0XCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIjogaWRcblx0XHR9KTtcblx0XHR0aGlzLm1lbnUuYXR0ciggXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIiwgaWQgKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRpZiAoIGtleSA9PT0gXCJpY29uc1wiICkge1xuXHRcdFx0dGhpcy5idXR0b24uZmluZCggXCJzcGFuLnVpLWljb25cIiApXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyggdGhpcy5vcHRpb25zLmljb25zLmJ1dHRvbiApXG5cdFx0XHRcdC5hZGRDbGFzcyggdmFsdWUuYnV0dG9uICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblxuXHRcdGlmICgga2V5ID09PSBcImFwcGVuZFRvXCIgKSB7XG5cdFx0XHR0aGlzLm1lbnVXcmFwLmFwcGVuZFRvKCB0aGlzLl9hcHBlbmRUbygpICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiApIHtcblx0XHRcdHRoaXMubWVudUluc3RhbmNlLm9wdGlvbiggXCJkaXNhYmxlZFwiLCB2YWx1ZSApO1xuXHRcdFx0dGhpcy5idXR0b25cblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIsIHZhbHVlIClcblx0XHRcdFx0LmF0dHIoIFwiYXJpYS1kaXNhYmxlZFwiLCB2YWx1ZSApO1xuXG5cdFx0XHR0aGlzLmVsZW1lbnQucHJvcCggXCJkaXNhYmxlZFwiLCB2YWx1ZSApO1xuXHRcdFx0aWYgKCB2YWx1ZSApIHtcblx0XHRcdFx0dGhpcy5idXR0b24uYXR0ciggXCJ0YWJpbmRleFwiLCAtMSApO1xuXHRcdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmJ1dHRvbi5hdHRyKCBcInRhYmluZGV4XCIsIDAgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJ3aWR0aFwiICkge1xuXHRcdFx0dGhpcy5fcmVzaXplQnV0dG9uKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hcHBlbmRUbzogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW1lbnQgPSB0aGlzLm9wdGlvbnMuYXBwZW5kVG87XG5cblx0XHRpZiAoIGVsZW1lbnQgKSB7XG5cdFx0XHRlbGVtZW50ID0gZWxlbWVudC5qcXVlcnkgfHwgZWxlbWVudC5ub2RlVHlwZSA/XG5cdFx0XHRcdCQoIGVsZW1lbnQgKSA6XG5cdFx0XHRcdHRoaXMuZG9jdW1lbnQuZmluZCggZWxlbWVudCApLmVxKCAwICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhZWxlbWVudCB8fCAhZWxlbWVudFsgMCBdICkge1xuXHRcdFx0ZWxlbWVudCA9IHRoaXMuZWxlbWVudC5jbG9zZXN0KCBcIi51aS1mcm9udFwiICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhZWxlbWVudC5sZW5ndGggKSB7XG5cdFx0XHRlbGVtZW50ID0gdGhpcy5kb2N1bWVudFsgMCBdLmJvZHk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVsZW1lbnQ7XG5cdH0sXG5cblx0X3RvZ2dsZUF0dHI6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuYnV0dG9uXG5cdFx0XHQudG9nZ2xlQ2xhc3MoIFwidWktY29ybmVyLXRvcFwiLCB0aGlzLmlzT3BlbiApXG5cdFx0XHQudG9nZ2xlQ2xhc3MoIFwidWktY29ybmVyLWFsbFwiLCAhdGhpcy5pc09wZW4gKVxuXHRcdFx0LmF0dHIoIFwiYXJpYS1leHBhbmRlZFwiLCB0aGlzLmlzT3BlbiApO1xuXHRcdHRoaXMubWVudVdyYXAudG9nZ2xlQ2xhc3MoIFwidWktc2VsZWN0bWVudS1vcGVuXCIsIHRoaXMuaXNPcGVuICk7XG5cdFx0dGhpcy5tZW51LmF0dHIoIFwiYXJpYS1oaWRkZW5cIiwgIXRoaXMuaXNPcGVuICk7XG5cdH0sXG5cblx0X3Jlc2l6ZUJ1dHRvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHdpZHRoID0gdGhpcy5vcHRpb25zLndpZHRoO1xuXG5cdFx0aWYgKCAhd2lkdGggKSB7XG5cdFx0XHR3aWR0aCA9IHRoaXMuZWxlbWVudC5zaG93KCkub3V0ZXJXaWR0aCgpO1xuXHRcdFx0dGhpcy5lbGVtZW50LmhpZGUoKTtcblx0XHR9XG5cblx0XHR0aGlzLmJ1dHRvbi5vdXRlcldpZHRoKCB3aWR0aCApO1xuXHR9LFxuXG5cdF9yZXNpemVNZW51OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLm1lbnUub3V0ZXJXaWR0aCggTWF0aC5tYXgoXG5cdFx0XHR0aGlzLmJ1dHRvbi5vdXRlcldpZHRoKCksXG5cblx0XHRcdC8vIHN1cHBvcnQ6IElFMTBcblx0XHRcdC8vIElFMTAgd3JhcHMgbG9uZyB0ZXh0IChwb3NzaWJseSBhIHJvdW5kaW5nIGJ1Zylcblx0XHRcdC8vIHNvIHdlIGFkZCAxcHggdG8gYXZvaWQgdGhlIHdyYXBwaW5nXG5cdFx0XHR0aGlzLm1lbnUud2lkdGgoIFwiXCIgKS5vdXRlcldpZHRoKCkgKyAxXG5cdFx0KSApO1xuXHR9LFxuXG5cdF9nZXRDcmVhdGVPcHRpb25zOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4geyBkaXNhYmxlZDogdGhpcy5lbGVtZW50LnByb3AoIFwiZGlzYWJsZWRcIiApIH07XG5cdH0sXG5cblx0X3BhcnNlT3B0aW9uczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dmFyIGRhdGEgPSBbXTtcblx0XHRvcHRpb25zLmVhY2goZnVuY3Rpb24oIGluZGV4LCBpdGVtICkge1xuXHRcdFx0dmFyIG9wdGlvbiA9ICQoIGl0ZW0gKSxcblx0XHRcdFx0b3B0Z3JvdXAgPSBvcHRpb24ucGFyZW50KCBcIm9wdGdyb3VwXCIgKTtcblx0XHRcdGRhdGEucHVzaCh7XG5cdFx0XHRcdGVsZW1lbnQ6IG9wdGlvbixcblx0XHRcdFx0aW5kZXg6IGluZGV4LFxuXHRcdFx0XHR2YWx1ZTogb3B0aW9uLnZhbCgpLFxuXHRcdFx0XHRsYWJlbDogb3B0aW9uLnRleHQoKSxcblx0XHRcdFx0b3B0Z3JvdXA6IG9wdGdyb3VwLmF0dHIoIFwibGFiZWxcIiApIHx8IFwiXCIsXG5cdFx0XHRcdGRpc2FibGVkOiBvcHRncm91cC5wcm9wKCBcImRpc2FibGVkXCIgKSB8fCBvcHRpb24ucHJvcCggXCJkaXNhYmxlZFwiIClcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdHRoaXMuaXRlbXMgPSBkYXRhO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLm1lbnVXcmFwLnJlbW92ZSgpO1xuXHRcdHRoaXMuYnV0dG9uLnJlbW92ZSgpO1xuXHRcdHRoaXMuZWxlbWVudC5zaG93KCk7XG5cdFx0dGhpcy5lbGVtZW50LnJlbW92ZVVuaXF1ZUlkKCk7XG5cdFx0dGhpcy5sYWJlbC5hdHRyKCBcImZvclwiLCB0aGlzLmlkcy5lbGVtZW50ICk7XG5cdH1cbn0pO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFNsaWRlciAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NsaWRlci9cbiAqL1xuXG5cbnZhciBzbGlkZXIgPSAkLndpZGdldCggXCJ1aS5zbGlkZXJcIiwgJC51aS5tb3VzZSwge1xuXHR2ZXJzaW9uOiBcIjEuMTEuNFwiLFxuXHR3aWRnZXRFdmVudFByZWZpeDogXCJzbGlkZVwiLFxuXG5cdG9wdGlvbnM6IHtcblx0XHRhbmltYXRlOiBmYWxzZSxcblx0XHRkaXN0YW5jZTogMCxcblx0XHRtYXg6IDEwMCxcblx0XHRtaW46IDAsXG5cdFx0b3JpZW50YXRpb246IFwiaG9yaXpvbnRhbFwiLFxuXHRcdHJhbmdlOiBmYWxzZSxcblx0XHRzdGVwOiAxLFxuXHRcdHZhbHVlOiAwLFxuXHRcdHZhbHVlczogbnVsbCxcblxuXHRcdC8vIGNhbGxiYWNrc1xuXHRcdGNoYW5nZTogbnVsbCxcblx0XHRzbGlkZTogbnVsbCxcblx0XHRzdGFydDogbnVsbCxcblx0XHRzdG9wOiBudWxsXG5cdH0sXG5cblx0Ly8gbnVtYmVyIG9mIHBhZ2VzIGluIGEgc2xpZGVyXG5cdC8vIChob3cgbWFueSB0aW1lcyBjYW4geW91IHBhZ2UgdXAvZG93biB0byBnbyB0aHJvdWdoIHRoZSB3aG9sZSByYW5nZSlcblx0bnVtUGFnZXM6IDUsXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fa2V5U2xpZGluZyA9IGZhbHNlO1xuXHRcdHRoaXMuX21vdXNlU2xpZGluZyA9IGZhbHNlO1xuXHRcdHRoaXMuX2FuaW1hdGVPZmYgPSB0cnVlO1xuXHRcdHRoaXMuX2hhbmRsZUluZGV4ID0gbnVsbDtcblx0XHR0aGlzLl9kZXRlY3RPcmllbnRhdGlvbigpO1xuXHRcdHRoaXMuX21vdXNlSW5pdCgpO1xuXHRcdHRoaXMuX2NhbGN1bGF0ZU5ld01heCgpO1xuXG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktc2xpZGVyXCIgK1xuXHRcdFx0XHRcIiB1aS1zbGlkZXItXCIgKyB0aGlzLm9yaWVudGF0aW9uICtcblx0XHRcdFx0XCIgdWktd2lkZ2V0XCIgK1xuXHRcdFx0XHRcIiB1aS13aWRnZXQtY29udGVudFwiICtcblx0XHRcdFx0XCIgdWktY29ybmVyLWFsbFwiKTtcblxuXHRcdHRoaXMuX3JlZnJlc2goKTtcblx0XHR0aGlzLl9zZXRPcHRpb24oIFwiZGlzYWJsZWRcIiwgdGhpcy5vcHRpb25zLmRpc2FibGVkICk7XG5cblx0XHR0aGlzLl9hbmltYXRlT2ZmID0gZmFsc2U7XG5cdH0sXG5cblx0X3JlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX2NyZWF0ZVJhbmdlKCk7XG5cdFx0dGhpcy5fY3JlYXRlSGFuZGxlcygpO1xuXHRcdHRoaXMuX3NldHVwRXZlbnRzKCk7XG5cdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdH0sXG5cblx0X2NyZWF0ZUhhbmRsZXM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpLCBoYW5kbGVDb3VudCxcblx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRleGlzdGluZ0hhbmRsZXMgPSB0aGlzLmVsZW1lbnQuZmluZCggXCIudWktc2xpZGVyLWhhbmRsZVwiICkuYWRkQ2xhc3MoIFwidWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsXCIgKSxcblx0XHRcdGhhbmRsZSA9IFwiPHNwYW4gY2xhc3M9J3VpLXNsaWRlci1oYW5kbGUgdWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsJyB0YWJpbmRleD0nMCc+PC9zcGFuPlwiLFxuXHRcdFx0aGFuZGxlcyA9IFtdO1xuXG5cdFx0aGFuZGxlQ291bnQgPSAoIG9wdGlvbnMudmFsdWVzICYmIG9wdGlvbnMudmFsdWVzLmxlbmd0aCApIHx8IDE7XG5cblx0XHRpZiAoIGV4aXN0aW5nSGFuZGxlcy5sZW5ndGggPiBoYW5kbGVDb3VudCApIHtcblx0XHRcdGV4aXN0aW5nSGFuZGxlcy5zbGljZSggaGFuZGxlQ291bnQgKS5yZW1vdmUoKTtcblx0XHRcdGV4aXN0aW5nSGFuZGxlcyA9IGV4aXN0aW5nSGFuZGxlcy5zbGljZSggMCwgaGFuZGxlQ291bnQgKTtcblx0XHR9XG5cblx0XHRmb3IgKCBpID0gZXhpc3RpbmdIYW5kbGVzLmxlbmd0aDsgaSA8IGhhbmRsZUNvdW50OyBpKysgKSB7XG5cdFx0XHRoYW5kbGVzLnB1c2goIGhhbmRsZSApO1xuXHRcdH1cblxuXHRcdHRoaXMuaGFuZGxlcyA9IGV4aXN0aW5nSGFuZGxlcy5hZGQoICQoIGhhbmRsZXMuam9pbiggXCJcIiApICkuYXBwZW5kVG8oIHRoaXMuZWxlbWVudCApICk7XG5cblx0XHR0aGlzLmhhbmRsZSA9IHRoaXMuaGFuZGxlcy5lcSggMCApO1xuXG5cdFx0dGhpcy5oYW5kbGVzLmVhY2goZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHQkKCB0aGlzICkuZGF0YSggXCJ1aS1zbGlkZXItaGFuZGxlLWluZGV4XCIsIGkgKTtcblx0XHR9KTtcblx0fSxcblxuXHRfY3JlYXRlUmFuZ2U6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0Y2xhc3NlcyA9IFwiXCI7XG5cblx0XHRpZiAoIG9wdGlvbnMucmFuZ2UgKSB7XG5cdFx0XHRpZiAoIG9wdGlvbnMucmFuZ2UgPT09IHRydWUgKSB7XG5cdFx0XHRcdGlmICggIW9wdGlvbnMudmFsdWVzICkge1xuXHRcdFx0XHRcdG9wdGlvbnMudmFsdWVzID0gWyB0aGlzLl92YWx1ZU1pbigpLCB0aGlzLl92YWx1ZU1pbigpIF07XG5cdFx0XHRcdH0gZWxzZSBpZiAoIG9wdGlvbnMudmFsdWVzLmxlbmd0aCAmJiBvcHRpb25zLnZhbHVlcy5sZW5ndGggIT09IDIgKSB7XG5cdFx0XHRcdFx0b3B0aW9ucy52YWx1ZXMgPSBbIG9wdGlvbnMudmFsdWVzWzBdLCBvcHRpb25zLnZhbHVlc1swXSBdO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCAkLmlzQXJyYXkoIG9wdGlvbnMudmFsdWVzICkgKSB7XG5cdFx0XHRcdFx0b3B0aW9ucy52YWx1ZXMgPSBvcHRpb25zLnZhbHVlcy5zbGljZSgwKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICF0aGlzLnJhbmdlIHx8ICF0aGlzLnJhbmdlLmxlbmd0aCApIHtcblx0XHRcdFx0dGhpcy5yYW5nZSA9ICQoIFwiPGRpdj48L2Rpdj5cIiApXG5cdFx0XHRcdFx0LmFwcGVuZFRvKCB0aGlzLmVsZW1lbnQgKTtcblxuXHRcdFx0XHRjbGFzc2VzID0gXCJ1aS1zbGlkZXItcmFuZ2VcIiArXG5cdFx0XHRcdC8vIG5vdGU6IHRoaXMgaXNuJ3QgdGhlIG1vc3QgZml0dGluZ2x5IHNlbWFudGljIGZyYW1ld29yayBjbGFzcyBmb3IgdGhpcyBlbGVtZW50LFxuXHRcdFx0XHQvLyBidXQgd29ya2VkIGJlc3QgdmlzdWFsbHkgd2l0aCBhIHZhcmlldHkgb2YgdGhlbWVzXG5cdFx0XHRcdFwiIHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbFwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5yYW5nZS5yZW1vdmVDbGFzcyggXCJ1aS1zbGlkZXItcmFuZ2UtbWluIHVpLXNsaWRlci1yYW5nZS1tYXhcIiApXG5cdFx0XHRcdFx0Ly8gSGFuZGxlIHJhbmdlIHN3aXRjaGluZyBmcm9tIHRydWUgdG8gbWluL21heFxuXHRcdFx0XHRcdC5jc3Moe1xuXHRcdFx0XHRcdFx0XCJsZWZ0XCI6IFwiXCIsXG5cdFx0XHRcdFx0XHRcImJvdHRvbVwiOiBcIlwiXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMucmFuZ2UuYWRkQ2xhc3MoIGNsYXNzZXMgK1xuXHRcdFx0XHQoICggb3B0aW9ucy5yYW5nZSA9PT0gXCJtaW5cIiB8fCBvcHRpb25zLnJhbmdlID09PSBcIm1heFwiICkgPyBcIiB1aS1zbGlkZXItcmFuZ2UtXCIgKyBvcHRpb25zLnJhbmdlIDogXCJcIiApICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICggdGhpcy5yYW5nZSApIHtcblx0XHRcdFx0dGhpcy5yYW5nZS5yZW1vdmUoKTtcblx0XHRcdH1cblx0XHRcdHRoaXMucmFuZ2UgPSBudWxsO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0dXBFdmVudHM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX29mZiggdGhpcy5oYW5kbGVzICk7XG5cdFx0dGhpcy5fb24oIHRoaXMuaGFuZGxlcywgdGhpcy5faGFuZGxlRXZlbnRzICk7XG5cdFx0dGhpcy5faG92ZXJhYmxlKCB0aGlzLmhhbmRsZXMgKTtcblx0XHR0aGlzLl9mb2N1c2FibGUoIHRoaXMuaGFuZGxlcyApO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmhhbmRsZXMucmVtb3ZlKCk7XG5cdFx0aWYgKCB0aGlzLnJhbmdlICkge1xuXHRcdFx0dGhpcy5yYW5nZS5yZW1vdmUoKTtcblx0XHR9XG5cblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1zbGlkZXJcIiArXG5cdFx0XHRcdFwiIHVpLXNsaWRlci1ob3Jpem9udGFsXCIgK1xuXHRcdFx0XHRcIiB1aS1zbGlkZXItdmVydGljYWxcIiArXG5cdFx0XHRcdFwiIHVpLXdpZGdldFwiICtcblx0XHRcdFx0XCIgdWktd2lkZ2V0LWNvbnRlbnRcIiArXG5cdFx0XHRcdFwiIHVpLWNvcm5lci1hbGxcIiApO1xuXG5cdFx0dGhpcy5fbW91c2VEZXN0cm95KCk7XG5cdH0sXG5cblx0X21vdXNlQ2FwdHVyZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBwb3NpdGlvbiwgbm9ybVZhbHVlLCBkaXN0YW5jZSwgY2xvc2VzdEhhbmRsZSwgaW5kZXgsIGFsbG93ZWQsIG9mZnNldCwgbW91c2VPdmVySGFuZGxlLFxuXHRcdFx0dGhhdCA9IHRoaXMsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0aWYgKCBvLmRpc2FibGVkICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHRoaXMuZWxlbWVudFNpemUgPSB7XG5cdFx0XHR3aWR0aDogdGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxcblx0XHRcdGhlaWdodDogdGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KClcblx0XHR9O1xuXHRcdHRoaXMuZWxlbWVudE9mZnNldCA9IHRoaXMuZWxlbWVudC5vZmZzZXQoKTtcblxuXHRcdHBvc2l0aW9uID0geyB4OiBldmVudC5wYWdlWCwgeTogZXZlbnQucGFnZVkgfTtcblx0XHRub3JtVmFsdWUgPSB0aGlzLl9ub3JtVmFsdWVGcm9tTW91c2UoIHBvc2l0aW9uICk7XG5cdFx0ZGlzdGFuY2UgPSB0aGlzLl92YWx1ZU1heCgpIC0gdGhpcy5fdmFsdWVNaW4oKSArIDE7XG5cdFx0dGhpcy5oYW5kbGVzLmVhY2goZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHR2YXIgdGhpc0Rpc3RhbmNlID0gTWF0aC5hYnMoIG5vcm1WYWx1ZSAtIHRoYXQudmFsdWVzKGkpICk7XG5cdFx0XHRpZiAoKCBkaXN0YW5jZSA+IHRoaXNEaXN0YW5jZSApIHx8XG5cdFx0XHRcdCggZGlzdGFuY2UgPT09IHRoaXNEaXN0YW5jZSAmJlxuXHRcdFx0XHRcdChpID09PSB0aGF0Ll9sYXN0Q2hhbmdlZFZhbHVlIHx8IHRoYXQudmFsdWVzKGkpID09PSBvLm1pbiApKSkge1xuXHRcdFx0XHRkaXN0YW5jZSA9IHRoaXNEaXN0YW5jZTtcblx0XHRcdFx0Y2xvc2VzdEhhbmRsZSA9ICQoIHRoaXMgKTtcblx0XHRcdFx0aW5kZXggPSBpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0YWxsb3dlZCA9IHRoaXMuX3N0YXJ0KCBldmVudCwgaW5kZXggKTtcblx0XHRpZiAoIGFsbG93ZWQgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHR0aGlzLl9tb3VzZVNsaWRpbmcgPSB0cnVlO1xuXG5cdFx0dGhpcy5faGFuZGxlSW5kZXggPSBpbmRleDtcblxuXHRcdGNsb3Nlc3RIYW5kbGVcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApXG5cdFx0XHQuZm9jdXMoKTtcblxuXHRcdG9mZnNldCA9IGNsb3Nlc3RIYW5kbGUub2Zmc2V0KCk7XG5cdFx0bW91c2VPdmVySGFuZGxlID0gISQoIGV2ZW50LnRhcmdldCApLnBhcmVudHMoKS5hZGRCYWNrKCkuaXMoIFwiLnVpLXNsaWRlci1oYW5kbGVcIiApO1xuXHRcdHRoaXMuX2NsaWNrT2Zmc2V0ID0gbW91c2VPdmVySGFuZGxlID8geyBsZWZ0OiAwLCB0b3A6IDAgfSA6IHtcblx0XHRcdGxlZnQ6IGV2ZW50LnBhZ2VYIC0gb2Zmc2V0LmxlZnQgLSAoIGNsb3Nlc3RIYW5kbGUud2lkdGgoKSAvIDIgKSxcblx0XHRcdHRvcDogZXZlbnQucGFnZVkgLSBvZmZzZXQudG9wIC1cblx0XHRcdFx0KCBjbG9zZXN0SGFuZGxlLmhlaWdodCgpIC8gMiApIC1cblx0XHRcdFx0KCBwYXJzZUludCggY2xvc2VzdEhhbmRsZS5jc3MoXCJib3JkZXJUb3BXaWR0aFwiKSwgMTAgKSB8fCAwICkgLVxuXHRcdFx0XHQoIHBhcnNlSW50KCBjbG9zZXN0SGFuZGxlLmNzcyhcImJvcmRlckJvdHRvbVdpZHRoXCIpLCAxMCApIHx8IDApICtcblx0XHRcdFx0KCBwYXJzZUludCggY2xvc2VzdEhhbmRsZS5jc3MoXCJtYXJnaW5Ub3BcIiksIDEwICkgfHwgMClcblx0XHR9O1xuXG5cdFx0aWYgKCAhdGhpcy5oYW5kbGVzLmhhc0NsYXNzKCBcInVpLXN0YXRlLWhvdmVyXCIgKSApIHtcblx0XHRcdHRoaXMuX3NsaWRlKCBldmVudCwgaW5kZXgsIG5vcm1WYWx1ZSApO1xuXHRcdH1cblx0XHR0aGlzLl9hbmltYXRlT2ZmID0gdHJ1ZTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRfbW91c2VTdGFydDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0X21vdXNlRHJhZzogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBwb3NpdGlvbiA9IHsgeDogZXZlbnQucGFnZVgsIHk6IGV2ZW50LnBhZ2VZIH0sXG5cdFx0XHRub3JtVmFsdWUgPSB0aGlzLl9ub3JtVmFsdWVGcm9tTW91c2UoIHBvc2l0aW9uICk7XG5cblx0XHR0aGlzLl9zbGlkZSggZXZlbnQsIHRoaXMuX2hhbmRsZUluZGV4LCBub3JtVmFsdWUgKTtcblxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfbW91c2VTdG9wOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dGhpcy5oYW5kbGVzLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0dGhpcy5fbW91c2VTbGlkaW5nID0gZmFsc2U7XG5cblx0XHR0aGlzLl9zdG9wKCBldmVudCwgdGhpcy5faGFuZGxlSW5kZXggKTtcblx0XHR0aGlzLl9jaGFuZ2UoIGV2ZW50LCB0aGlzLl9oYW5kbGVJbmRleCApO1xuXG5cdFx0dGhpcy5faGFuZGxlSW5kZXggPSBudWxsO1xuXHRcdHRoaXMuX2NsaWNrT2Zmc2V0ID0gbnVsbDtcblx0XHR0aGlzLl9hbmltYXRlT2ZmID0gZmFsc2U7XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cblx0X2RldGVjdE9yaWVudGF0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLm9yaWVudGF0aW9uID0gKCB0aGlzLm9wdGlvbnMub3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiApID8gXCJ2ZXJ0aWNhbFwiIDogXCJob3Jpem9udGFsXCI7XG5cdH0sXG5cblx0X25vcm1WYWx1ZUZyb21Nb3VzZTogZnVuY3Rpb24oIHBvc2l0aW9uICkge1xuXHRcdHZhciBwaXhlbFRvdGFsLFxuXHRcdFx0cGl4ZWxNb3VzZSxcblx0XHRcdHBlcmNlbnRNb3VzZSxcblx0XHRcdHZhbHVlVG90YWwsXG5cdFx0XHR2YWx1ZU1vdXNlO1xuXG5cdFx0aWYgKCB0aGlzLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiApIHtcblx0XHRcdHBpeGVsVG90YWwgPSB0aGlzLmVsZW1lbnRTaXplLndpZHRoO1xuXHRcdFx0cGl4ZWxNb3VzZSA9IHBvc2l0aW9uLnggLSB0aGlzLmVsZW1lbnRPZmZzZXQubGVmdCAtICggdGhpcy5fY2xpY2tPZmZzZXQgPyB0aGlzLl9jbGlja09mZnNldC5sZWZ0IDogMCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwaXhlbFRvdGFsID0gdGhpcy5lbGVtZW50U2l6ZS5oZWlnaHQ7XG5cdFx0XHRwaXhlbE1vdXNlID0gcG9zaXRpb24ueSAtIHRoaXMuZWxlbWVudE9mZnNldC50b3AgLSAoIHRoaXMuX2NsaWNrT2Zmc2V0ID8gdGhpcy5fY2xpY2tPZmZzZXQudG9wIDogMCApO1xuXHRcdH1cblxuXHRcdHBlcmNlbnRNb3VzZSA9ICggcGl4ZWxNb3VzZSAvIHBpeGVsVG90YWwgKTtcblx0XHRpZiAoIHBlcmNlbnRNb3VzZSA+IDEgKSB7XG5cdFx0XHRwZXJjZW50TW91c2UgPSAxO1xuXHRcdH1cblx0XHRpZiAoIHBlcmNlbnRNb3VzZSA8IDAgKSB7XG5cdFx0XHRwZXJjZW50TW91c2UgPSAwO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMub3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiApIHtcblx0XHRcdHBlcmNlbnRNb3VzZSA9IDEgLSBwZXJjZW50TW91c2U7XG5cdFx0fVxuXG5cdFx0dmFsdWVUb3RhbCA9IHRoaXMuX3ZhbHVlTWF4KCkgLSB0aGlzLl92YWx1ZU1pbigpO1xuXHRcdHZhbHVlTW91c2UgPSB0aGlzLl92YWx1ZU1pbigpICsgcGVyY2VudE1vdXNlICogdmFsdWVUb3RhbDtcblxuXHRcdHJldHVybiB0aGlzLl90cmltQWxpZ25WYWx1ZSggdmFsdWVNb3VzZSApO1xuXHR9LFxuXG5cdF9zdGFydDogZnVuY3Rpb24oIGV2ZW50LCBpbmRleCApIHtcblx0XHR2YXIgdWlIYXNoID0ge1xuXHRcdFx0aGFuZGxlOiB0aGlzLmhhbmRsZXNbIGluZGV4IF0sXG5cdFx0XHR2YWx1ZTogdGhpcy52YWx1ZSgpXG5cdFx0fTtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy52YWx1ZXMgJiYgdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGggKSB7XG5cdFx0XHR1aUhhc2gudmFsdWUgPSB0aGlzLnZhbHVlcyggaW5kZXggKTtcblx0XHRcdHVpSGFzaC52YWx1ZXMgPSB0aGlzLnZhbHVlcygpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fdHJpZ2dlciggXCJzdGFydFwiLCBldmVudCwgdWlIYXNoICk7XG5cdH0sXG5cblx0X3NsaWRlOiBmdW5jdGlvbiggZXZlbnQsIGluZGV4LCBuZXdWYWwgKSB7XG5cdFx0dmFyIG90aGVyVmFsLFxuXHRcdFx0bmV3VmFsdWVzLFxuXHRcdFx0YWxsb3dlZDtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnZhbHVlcyAmJiB0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCApIHtcblx0XHRcdG90aGVyVmFsID0gdGhpcy52YWx1ZXMoIGluZGV4ID8gMCA6IDEgKTtcblxuXHRcdFx0aWYgKCAoIHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoID09PSAyICYmIHRoaXMub3B0aW9ucy5yYW5nZSA9PT0gdHJ1ZSApICYmXG5cdFx0XHRcdFx0KCAoIGluZGV4ID09PSAwICYmIG5ld1ZhbCA+IG90aGVyVmFsKSB8fCAoIGluZGV4ID09PSAxICYmIG5ld1ZhbCA8IG90aGVyVmFsICkgKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0bmV3VmFsID0gb3RoZXJWYWw7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggbmV3VmFsICE9PSB0aGlzLnZhbHVlcyggaW5kZXggKSApIHtcblx0XHRcdFx0bmV3VmFsdWVzID0gdGhpcy52YWx1ZXMoKTtcblx0XHRcdFx0bmV3VmFsdWVzWyBpbmRleCBdID0gbmV3VmFsO1xuXHRcdFx0XHQvLyBBIHNsaWRlIGNhbiBiZSBjYW5jZWxlZCBieSByZXR1cm5pbmcgZmFsc2UgZnJvbSB0aGUgc2xpZGUgY2FsbGJhY2tcblx0XHRcdFx0YWxsb3dlZCA9IHRoaXMuX3RyaWdnZXIoIFwic2xpZGVcIiwgZXZlbnQsIHtcblx0XHRcdFx0XHRoYW5kbGU6IHRoaXMuaGFuZGxlc1sgaW5kZXggXSxcblx0XHRcdFx0XHR2YWx1ZTogbmV3VmFsLFxuXHRcdFx0XHRcdHZhbHVlczogbmV3VmFsdWVzXG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0b3RoZXJWYWwgPSB0aGlzLnZhbHVlcyggaW5kZXggPyAwIDogMSApO1xuXHRcdFx0XHRpZiAoIGFsbG93ZWQgIT09IGZhbHNlICkge1xuXHRcdFx0XHRcdHRoaXMudmFsdWVzKCBpbmRleCwgbmV3VmFsICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCBuZXdWYWwgIT09IHRoaXMudmFsdWUoKSApIHtcblx0XHRcdFx0Ly8gQSBzbGlkZSBjYW4gYmUgY2FuY2VsZWQgYnkgcmV0dXJuaW5nIGZhbHNlIGZyb20gdGhlIHNsaWRlIGNhbGxiYWNrXG5cdFx0XHRcdGFsbG93ZWQgPSB0aGlzLl90cmlnZ2VyKCBcInNsaWRlXCIsIGV2ZW50LCB7XG5cdFx0XHRcdFx0aGFuZGxlOiB0aGlzLmhhbmRsZXNbIGluZGV4IF0sXG5cdFx0XHRcdFx0dmFsdWU6IG5ld1ZhbFxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdGlmICggYWxsb3dlZCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0dGhpcy52YWx1ZSggbmV3VmFsICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X3N0b3A6IGZ1bmN0aW9uKCBldmVudCwgaW5kZXggKSB7XG5cdFx0dmFyIHVpSGFzaCA9IHtcblx0XHRcdGhhbmRsZTogdGhpcy5oYW5kbGVzWyBpbmRleCBdLFxuXHRcdFx0dmFsdWU6IHRoaXMudmFsdWUoKVxuXHRcdH07XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMudmFsdWVzICYmIHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoICkge1xuXHRcdFx0dWlIYXNoLnZhbHVlID0gdGhpcy52YWx1ZXMoIGluZGV4ICk7XG5cdFx0XHR1aUhhc2gudmFsdWVzID0gdGhpcy52YWx1ZXMoKTtcblx0XHR9XG5cblx0XHR0aGlzLl90cmlnZ2VyKCBcInN0b3BcIiwgZXZlbnQsIHVpSGFzaCApO1xuXHR9LFxuXG5cdF9jaGFuZ2U6IGZ1bmN0aW9uKCBldmVudCwgaW5kZXggKSB7XG5cdFx0aWYgKCAhdGhpcy5fa2V5U2xpZGluZyAmJiAhdGhpcy5fbW91c2VTbGlkaW5nICkge1xuXHRcdFx0dmFyIHVpSGFzaCA9IHtcblx0XHRcdFx0aGFuZGxlOiB0aGlzLmhhbmRsZXNbIGluZGV4IF0sXG5cdFx0XHRcdHZhbHVlOiB0aGlzLnZhbHVlKClcblx0XHRcdH07XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy52YWx1ZXMgJiYgdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGggKSB7XG5cdFx0XHRcdHVpSGFzaC52YWx1ZSA9IHRoaXMudmFsdWVzKCBpbmRleCApO1xuXHRcdFx0XHR1aUhhc2gudmFsdWVzID0gdGhpcy52YWx1ZXMoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly9zdG9yZSB0aGUgbGFzdCBjaGFuZ2VkIHZhbHVlIGluZGV4IGZvciByZWZlcmVuY2Ugd2hlbiBoYW5kbGVzIG92ZXJsYXBcblx0XHRcdHRoaXMuX2xhc3RDaGFuZ2VkVmFsdWUgPSBpbmRleDtcblxuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJjaGFuZ2VcIiwgZXZlbnQsIHVpSGFzaCApO1xuXHRcdH1cblx0fSxcblxuXHR2YWx1ZTogZnVuY3Rpb24oIG5ld1ZhbHVlICkge1xuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHRoaXMub3B0aW9ucy52YWx1ZSA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCBuZXdWYWx1ZSApO1xuXHRcdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdFx0XHR0aGlzLl9jaGFuZ2UoIG51bGwsIDAgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5fdmFsdWUoKTtcblx0fSxcblxuXHR2YWx1ZXM6IGZ1bmN0aW9uKCBpbmRleCwgbmV3VmFsdWUgKSB7XG5cdFx0dmFyIHZhbHMsXG5cdFx0XHRuZXdWYWx1ZXMsXG5cdFx0XHRpO1xuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID4gMSApIHtcblx0XHRcdHRoaXMub3B0aW9ucy52YWx1ZXNbIGluZGV4IF0gPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggbmV3VmFsdWUgKTtcblx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHRcdFx0dGhpcy5fY2hhbmdlKCBudWxsLCBpbmRleCApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdGlmICggJC5pc0FycmF5KCBhcmd1bWVudHNbIDAgXSApICkge1xuXHRcdFx0XHR2YWxzID0gdGhpcy5vcHRpb25zLnZhbHVlcztcblx0XHRcdFx0bmV3VmFsdWVzID0gYXJndW1lbnRzWyAwIF07XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgdmFscy5sZW5ndGg7IGkgKz0gMSApIHtcblx0XHRcdFx0XHR2YWxzWyBpIF0gPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggbmV3VmFsdWVzWyBpIF0gKTtcblx0XHRcdFx0XHR0aGlzLl9jaGFuZ2UoIG51bGwsIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICggdGhpcy5vcHRpb25zLnZhbHVlcyAmJiB0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5fdmFsdWVzKCBpbmRleCApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLnZhbHVlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3ZhbHVlcygpO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgaSxcblx0XHRcdHZhbHNMZW5ndGggPSAwO1xuXG5cdFx0aWYgKCBrZXkgPT09IFwicmFuZ2VcIiAmJiB0aGlzLm9wdGlvbnMucmFuZ2UgPT09IHRydWUgKSB7XG5cdFx0XHRpZiAoIHZhbHVlID09PSBcIm1pblwiICkge1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMudmFsdWUgPSB0aGlzLl92YWx1ZXMoIDAgKTtcblx0XHRcdFx0dGhpcy5vcHRpb25zLnZhbHVlcyA9IG51bGw7XG5cdFx0XHR9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gXCJtYXhcIiApIHtcblx0XHRcdFx0dGhpcy5vcHRpb25zLnZhbHVlID0gdGhpcy5fdmFsdWVzKCB0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCAtIDEgKTtcblx0XHRcdFx0dGhpcy5vcHRpb25zLnZhbHVlcyA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAkLmlzQXJyYXkoIHRoaXMub3B0aW9ucy52YWx1ZXMgKSApIHtcblx0XHRcdHZhbHNMZW5ndGggPSB0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aDtcblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJkaXNhYmxlZFwiICkge1xuXHRcdFx0dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIsICEhdmFsdWUgKTtcblx0XHR9XG5cblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXG5cdFx0c3dpdGNoICgga2V5ICkge1xuXHRcdFx0Y2FzZSBcIm9yaWVudGF0aW9uXCI6XG5cdFx0XHRcdHRoaXMuX2RldGVjdE9yaWVudGF0aW9uKCk7XG5cdFx0XHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1zbGlkZXItaG9yaXpvbnRhbCB1aS1zbGlkZXItdmVydGljYWxcIiApXG5cdFx0XHRcdFx0LmFkZENsYXNzKCBcInVpLXNsaWRlci1cIiArIHRoaXMub3JpZW50YXRpb24gKTtcblx0XHRcdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cblx0XHRcdFx0Ly8gUmVzZXQgcG9zaXRpb25pbmcgZnJvbSBwcmV2aW91cyBvcmllbnRhdGlvblxuXHRcdFx0XHR0aGlzLmhhbmRsZXMuY3NzKCB2YWx1ZSA9PT0gXCJob3Jpem9udGFsXCIgPyBcImJvdHRvbVwiIDogXCJsZWZ0XCIsIFwiXCIgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwidmFsdWVcIjpcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHRcdFx0XHR0aGlzLl9jaGFuZ2UoIG51bGwsIDAgKTtcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IGZhbHNlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJ2YWx1ZXNcIjpcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IHZhbHNMZW5ndGg7IGkgKz0gMSApIHtcblx0XHRcdFx0XHR0aGlzLl9jaGFuZ2UoIG51bGwsIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gZmFsc2U7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInN0ZXBcIjpcblx0XHRcdGNhc2UgXCJtaW5cIjpcblx0XHRcdGNhc2UgXCJtYXhcIjpcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX2NhbGN1bGF0ZU5ld01heCgpO1xuXHRcdFx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0XHRcdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IGZhbHNlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJyYW5nZVwiOlxuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5fcmVmcmVzaCgpO1xuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gZmFsc2U7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fSxcblxuXHQvL2ludGVybmFsIHZhbHVlIGdldHRlclxuXHQvLyBfdmFsdWUoKSByZXR1cm5zIHZhbHVlIHRyaW1tZWQgYnkgbWluIGFuZCBtYXgsIGFsaWduZWQgYnkgc3RlcFxuXHRfdmFsdWU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB2YWwgPSB0aGlzLm9wdGlvbnMudmFsdWU7XG5cdFx0dmFsID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIHZhbCApO1xuXG5cdFx0cmV0dXJuIHZhbDtcblx0fSxcblxuXHQvL2ludGVybmFsIHZhbHVlcyBnZXR0ZXJcblx0Ly8gX3ZhbHVlcygpIHJldHVybnMgYXJyYXkgb2YgdmFsdWVzIHRyaW1tZWQgYnkgbWluIGFuZCBtYXgsIGFsaWduZWQgYnkgc3RlcFxuXHQvLyBfdmFsdWVzKCBpbmRleCApIHJldHVybnMgc2luZ2xlIHZhbHVlIHRyaW1tZWQgYnkgbWluIGFuZCBtYXgsIGFsaWduZWQgYnkgc3RlcFxuXHRfdmFsdWVzOiBmdW5jdGlvbiggaW5kZXggKSB7XG5cdFx0dmFyIHZhbCxcblx0XHRcdHZhbHMsXG5cdFx0XHRpO1xuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0dmFsID0gdGhpcy5vcHRpb25zLnZhbHVlc1sgaW5kZXggXTtcblx0XHRcdHZhbCA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCB2YWwgKTtcblxuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9IGVsc2UgaWYgKCB0aGlzLm9wdGlvbnMudmFsdWVzICYmIHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoICkge1xuXHRcdFx0Ly8gLnNsaWNlKCkgY3JlYXRlcyBhIGNvcHkgb2YgdGhlIGFycmF5XG5cdFx0XHQvLyB0aGlzIGNvcHkgZ2V0cyB0cmltbWVkIGJ5IG1pbiBhbmQgbWF4IGFuZCB0aGVuIHJldHVybmVkXG5cdFx0XHR2YWxzID0gdGhpcy5vcHRpb25zLnZhbHVlcy5zbGljZSgpO1xuXHRcdFx0Zm9yICggaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdHZhbHNbIGkgXSA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCB2YWxzWyBpIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gcmV0dXJucyB0aGUgc3RlcC1hbGlnbmVkIHZhbHVlIHRoYXQgdmFsIGlzIGNsb3Nlc3QgdG8sIGJldHdlZW4gKGluY2x1c2l2ZSkgbWluIGFuZCBtYXhcblx0X3RyaW1BbGlnblZhbHVlOiBmdW5jdGlvbiggdmFsICkge1xuXHRcdGlmICggdmFsIDw9IHRoaXMuX3ZhbHVlTWluKCkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fdmFsdWVNaW4oKTtcblx0XHR9XG5cdFx0aWYgKCB2YWwgPj0gdGhpcy5fdmFsdWVNYXgoKSApIHtcblx0XHRcdHJldHVybiB0aGlzLl92YWx1ZU1heCgpO1xuXHRcdH1cblx0XHR2YXIgc3RlcCA9ICggdGhpcy5vcHRpb25zLnN0ZXAgPiAwICkgPyB0aGlzLm9wdGlvbnMuc3RlcCA6IDEsXG5cdFx0XHR2YWxNb2RTdGVwID0gKHZhbCAtIHRoaXMuX3ZhbHVlTWluKCkpICUgc3RlcCxcblx0XHRcdGFsaWduVmFsdWUgPSB2YWwgLSB2YWxNb2RTdGVwO1xuXG5cdFx0aWYgKCBNYXRoLmFicyh2YWxNb2RTdGVwKSAqIDIgPj0gc3RlcCApIHtcblx0XHRcdGFsaWduVmFsdWUgKz0gKCB2YWxNb2RTdGVwID4gMCApID8gc3RlcCA6ICggLXN0ZXAgKTtcblx0XHR9XG5cblx0XHQvLyBTaW5jZSBKYXZhU2NyaXB0IGhhcyBwcm9ibGVtcyB3aXRoIGxhcmdlIGZsb2F0cywgcm91bmRcblx0XHQvLyB0aGUgZmluYWwgdmFsdWUgdG8gNSBkaWdpdHMgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQgKHNlZSAjNDEyNClcblx0XHRyZXR1cm4gcGFyc2VGbG9hdCggYWxpZ25WYWx1ZS50b0ZpeGVkKDUpICk7XG5cdH0sXG5cblx0X2NhbGN1bGF0ZU5ld01heDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1heCA9IHRoaXMub3B0aW9ucy5tYXgsXG5cdFx0XHRtaW4gPSB0aGlzLl92YWx1ZU1pbigpLFxuXHRcdFx0c3RlcCA9IHRoaXMub3B0aW9ucy5zdGVwLFxuXHRcdFx0YWJvdmVNaW4gPSBNYXRoLmZsb29yKCAoICsoIG1heCAtIG1pbiApLnRvRml4ZWQoIHRoaXMuX3ByZWNpc2lvbigpICkgKSAvIHN0ZXAgKSAqIHN0ZXA7XG5cdFx0bWF4ID0gYWJvdmVNaW4gKyBtaW47XG5cdFx0dGhpcy5tYXggPSBwYXJzZUZsb2F0KCBtYXgudG9GaXhlZCggdGhpcy5fcHJlY2lzaW9uKCkgKSApO1xuXHR9LFxuXG5cdF9wcmVjaXNpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwcmVjaXNpb24gPSB0aGlzLl9wcmVjaXNpb25PZiggdGhpcy5vcHRpb25zLnN0ZXAgKTtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5taW4gIT09IG51bGwgKSB7XG5cdFx0XHRwcmVjaXNpb24gPSBNYXRoLm1heCggcHJlY2lzaW9uLCB0aGlzLl9wcmVjaXNpb25PZiggdGhpcy5vcHRpb25zLm1pbiApICk7XG5cdFx0fVxuXHRcdHJldHVybiBwcmVjaXNpb247XG5cdH0sXG5cblx0X3ByZWNpc2lvbk9mOiBmdW5jdGlvbiggbnVtICkge1xuXHRcdHZhciBzdHIgPSBudW0udG9TdHJpbmcoKSxcblx0XHRcdGRlY2ltYWwgPSBzdHIuaW5kZXhPZiggXCIuXCIgKTtcblx0XHRyZXR1cm4gZGVjaW1hbCA9PT0gLTEgPyAwIDogc3RyLmxlbmd0aCAtIGRlY2ltYWwgLSAxO1xuXHR9LFxuXG5cdF92YWx1ZU1pbjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5taW47XG5cdH0sXG5cblx0X3ZhbHVlTWF4OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXg7XG5cdH0sXG5cblx0X3JlZnJlc2hWYWx1ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGxhc3RWYWxQZXJjZW50LCB2YWxQZXJjZW50LCB2YWx1ZSwgdmFsdWVNaW4sIHZhbHVlTWF4LFxuXHRcdFx0b1JhbmdlID0gdGhpcy5vcHRpb25zLnJhbmdlLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucyxcblx0XHRcdHRoYXQgPSB0aGlzLFxuXHRcdFx0YW5pbWF0ZSA9ICggIXRoaXMuX2FuaW1hdGVPZmYgKSA/IG8uYW5pbWF0ZSA6IGZhbHNlLFxuXHRcdFx0X3NldCA9IHt9O1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMudmFsdWVzICYmIHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5oYW5kbGVzLmVhY2goZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdHZhbFBlcmNlbnQgPSAoIHRoYXQudmFsdWVzKGkpIC0gdGhhdC5fdmFsdWVNaW4oKSApIC8gKCB0aGF0Ll92YWx1ZU1heCgpIC0gdGhhdC5fdmFsdWVNaW4oKSApICogMTAwO1xuXHRcdFx0XHRfc2V0WyB0aGF0Lm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiA/IFwibGVmdFwiIDogXCJib3R0b21cIiBdID0gdmFsUGVyY2VudCArIFwiJVwiO1xuXHRcdFx0XHQkKCB0aGlzICkuc3RvcCggMSwgMSApWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIF9zZXQsIG8uYW5pbWF0ZSApO1xuXHRcdFx0XHRpZiAoIHRoYXQub3B0aW9ucy5yYW5nZSA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRpZiAoIHRoYXQub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiICkge1xuXHRcdFx0XHRcdFx0aWYgKCBpID09PSAwICkge1xuXHRcdFx0XHRcdFx0XHR0aGF0LnJhbmdlLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7IGxlZnQ6IHZhbFBlcmNlbnQgKyBcIiVcIiB9LCBvLmFuaW1hdGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggaSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdFx0dGhhdC5yYW5nZVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7IHdpZHRoOiAoIHZhbFBlcmNlbnQgLSBsYXN0VmFsUGVyY2VudCApICsgXCIlXCIgfSwgeyBxdWV1ZTogZmFsc2UsIGR1cmF0aW9uOiBvLmFuaW1hdGUgfSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpZiAoIGkgPT09IDAgKSB7XG5cdFx0XHRcdFx0XHRcdHRoYXQucmFuZ2Uuc3RvcCggMSwgMSApWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHsgYm90dG9tOiAoIHZhbFBlcmNlbnQgKSArIFwiJVwiIH0sIG8uYW5pbWF0ZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBpID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHR0aGF0LnJhbmdlWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHsgaGVpZ2h0OiAoIHZhbFBlcmNlbnQgLSBsYXN0VmFsUGVyY2VudCApICsgXCIlXCIgfSwgeyBxdWV1ZTogZmFsc2UsIGR1cmF0aW9uOiBvLmFuaW1hdGUgfSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRsYXN0VmFsUGVyY2VudCA9IHZhbFBlcmNlbnQ7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFsdWUgPSB0aGlzLnZhbHVlKCk7XG5cdFx0XHR2YWx1ZU1pbiA9IHRoaXMuX3ZhbHVlTWluKCk7XG5cdFx0XHR2YWx1ZU1heCA9IHRoaXMuX3ZhbHVlTWF4KCk7XG5cdFx0XHR2YWxQZXJjZW50ID0gKCB2YWx1ZU1heCAhPT0gdmFsdWVNaW4gKSA/XG5cdFx0XHRcdFx0KCB2YWx1ZSAtIHZhbHVlTWluICkgLyAoIHZhbHVlTWF4IC0gdmFsdWVNaW4gKSAqIDEwMCA6XG5cdFx0XHRcdFx0MDtcblx0XHRcdF9zZXRbIHRoaXMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiID8gXCJsZWZ0XCIgOiBcImJvdHRvbVwiIF0gPSB2YWxQZXJjZW50ICsgXCIlXCI7XG5cdFx0XHR0aGlzLmhhbmRsZS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSggX3NldCwgby5hbmltYXRlICk7XG5cblx0XHRcdGlmICggb1JhbmdlID09PSBcIm1pblwiICYmIHRoaXMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiICkge1xuXHRcdFx0XHR0aGlzLnJhbmdlLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7IHdpZHRoOiB2YWxQZXJjZW50ICsgXCIlXCIgfSwgby5hbmltYXRlICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIG9SYW5nZSA9PT0gXCJtYXhcIiAmJiB0aGlzLm9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiApIHtcblx0XHRcdFx0dGhpcy5yYW5nZVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7IHdpZHRoOiAoIDEwMCAtIHZhbFBlcmNlbnQgKSArIFwiJVwiIH0sIHsgcXVldWU6IGZhbHNlLCBkdXJhdGlvbjogby5hbmltYXRlIH0gKTtcblx0XHRcdH1cblx0XHRcdGlmICggb1JhbmdlID09PSBcIm1pblwiICYmIHRoaXMub3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiApIHtcblx0XHRcdFx0dGhpcy5yYW5nZS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSggeyBoZWlnaHQ6IHZhbFBlcmNlbnQgKyBcIiVcIiB9LCBvLmFuaW1hdGUgKTtcblx0XHRcdH1cblx0XHRcdGlmICggb1JhbmdlID09PSBcIm1heFwiICYmIHRoaXMub3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiApIHtcblx0XHRcdFx0dGhpcy5yYW5nZVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7IGhlaWdodDogKCAxMDAgLSB2YWxQZXJjZW50ICkgKyBcIiVcIiB9LCB7IHF1ZXVlOiBmYWxzZSwgZHVyYXRpb246IG8uYW5pbWF0ZSB9ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF9oYW5kbGVFdmVudHM6IHtcblx0XHRrZXlkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgYWxsb3dlZCwgY3VyVmFsLCBuZXdWYWwsIHN0ZXAsXG5cdFx0XHRcdGluZGV4ID0gJCggZXZlbnQudGFyZ2V0ICkuZGF0YSggXCJ1aS1zbGlkZXItaGFuZGxlLWluZGV4XCIgKTtcblxuXHRcdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuSE9NRTpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuRU5EOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5QQUdFX1VQOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5QQUdFX0RPV046XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlVQOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5SSUdIVDpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuRE9XTjpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuTEVGVDpcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdGlmICggIXRoaXMuX2tleVNsaWRpbmcgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLl9rZXlTbGlkaW5nID0gdHJ1ZTtcblx0XHRcdFx0XHRcdCQoIGV2ZW50LnRhcmdldCApLmFkZENsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHRcdFx0XHRhbGxvd2VkID0gdGhpcy5fc3RhcnQoIGV2ZW50LCBpbmRleCApO1xuXHRcdFx0XHRcdFx0aWYgKCBhbGxvd2VkID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0c3RlcCA9IHRoaXMub3B0aW9ucy5zdGVwO1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMudmFsdWVzICYmIHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoICkge1xuXHRcdFx0XHRjdXJWYWwgPSBuZXdWYWwgPSB0aGlzLnZhbHVlcyggaW5kZXggKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGN1clZhbCA9IG5ld1ZhbCA9IHRoaXMudmFsdWUoKTtcblx0XHRcdH1cblxuXHRcdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuSE9NRTpcblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl92YWx1ZU1pbigpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5FTkQ6XG5cdFx0XHRcdFx0bmV3VmFsID0gdGhpcy5fdmFsdWVNYXgoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuUEFHRV9VUDpcblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl90cmltQWxpZ25WYWx1ZShcblx0XHRcdFx0XHRcdGN1clZhbCArICggKCB0aGlzLl92YWx1ZU1heCgpIC0gdGhpcy5fdmFsdWVNaW4oKSApIC8gdGhpcy5udW1QYWdlcyApXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuUEFHRV9ET1dOOlxuXHRcdFx0XHRcdG5ld1ZhbCA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKFxuXHRcdFx0XHRcdFx0Y3VyVmFsIC0gKCAodGhpcy5fdmFsdWVNYXgoKSAtIHRoaXMuX3ZhbHVlTWluKCkpIC8gdGhpcy5udW1QYWdlcyApICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlVQOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5SSUdIVDpcblx0XHRcdFx0XHRpZiAoIGN1clZhbCA9PT0gdGhpcy5fdmFsdWVNYXgoKSApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bmV3VmFsID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIGN1clZhbCArIHN0ZXAgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuRE9XTjpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuTEVGVDpcblx0XHRcdFx0XHRpZiAoIGN1clZhbCA9PT0gdGhpcy5fdmFsdWVNaW4oKSApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bmV3VmFsID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIGN1clZhbCAtIHN0ZXAgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fc2xpZGUoIGV2ZW50LCBpbmRleCwgbmV3VmFsICk7XG5cdFx0fSxcblx0XHRrZXl1cDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIGluZGV4ID0gJCggZXZlbnQudGFyZ2V0ICkuZGF0YSggXCJ1aS1zbGlkZXItaGFuZGxlLWluZGV4XCIgKTtcblxuXHRcdFx0aWYgKCB0aGlzLl9rZXlTbGlkaW5nICkge1xuXHRcdFx0XHR0aGlzLl9rZXlTbGlkaW5nID0gZmFsc2U7XG5cdFx0XHRcdHRoaXMuX3N0b3AoIGV2ZW50LCBpbmRleCApO1xuXHRcdFx0XHR0aGlzLl9jaGFuZ2UoIGV2ZW50LCBpbmRleCApO1xuXHRcdFx0XHQkKCBldmVudC50YXJnZXQgKS5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSk7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgU29ydGFibGUgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zb3J0YWJsZS9cbiAqL1xuXG5cbnZhciBzb3J0YWJsZSA9ICQud2lkZ2V0KFwidWkuc29ydGFibGVcIiwgJC51aS5tb3VzZSwge1xuXHR2ZXJzaW9uOiBcIjEuMTEuNFwiLFxuXHR3aWRnZXRFdmVudFByZWZpeDogXCJzb3J0XCIsXG5cdHJlYWR5OiBmYWxzZSxcblx0b3B0aW9uczoge1xuXHRcdGFwcGVuZFRvOiBcInBhcmVudFwiLFxuXHRcdGF4aXM6IGZhbHNlLFxuXHRcdGNvbm5lY3RXaXRoOiBmYWxzZSxcblx0XHRjb250YWlubWVudDogZmFsc2UsXG5cdFx0Y3Vyc29yOiBcImF1dG9cIixcblx0XHRjdXJzb3JBdDogZmFsc2UsXG5cdFx0ZHJvcE9uRW1wdHk6IHRydWUsXG5cdFx0Zm9yY2VQbGFjZWhvbGRlclNpemU6IGZhbHNlLFxuXHRcdGZvcmNlSGVscGVyU2l6ZTogZmFsc2UsXG5cdFx0Z3JpZDogZmFsc2UsXG5cdFx0aGFuZGxlOiBmYWxzZSxcblx0XHRoZWxwZXI6IFwib3JpZ2luYWxcIixcblx0XHRpdGVtczogXCI+ICpcIixcblx0XHRvcGFjaXR5OiBmYWxzZSxcblx0XHRwbGFjZWhvbGRlcjogZmFsc2UsXG5cdFx0cmV2ZXJ0OiBmYWxzZSxcblx0XHRzY3JvbGw6IHRydWUsXG5cdFx0c2Nyb2xsU2Vuc2l0aXZpdHk6IDIwLFxuXHRcdHNjcm9sbFNwZWVkOiAyMCxcblx0XHRzY29wZTogXCJkZWZhdWx0XCIsXG5cdFx0dG9sZXJhbmNlOiBcImludGVyc2VjdFwiLFxuXHRcdHpJbmRleDogMTAwMCxcblxuXHRcdC8vIGNhbGxiYWNrc1xuXHRcdGFjdGl2YXRlOiBudWxsLFxuXHRcdGJlZm9yZVN0b3A6IG51bGwsXG5cdFx0Y2hhbmdlOiBudWxsLFxuXHRcdGRlYWN0aXZhdGU6IG51bGwsXG5cdFx0b3V0OiBudWxsLFxuXHRcdG92ZXI6IG51bGwsXG5cdFx0cmVjZWl2ZTogbnVsbCxcblx0XHRyZW1vdmU6IG51bGwsXG5cdFx0c29ydDogbnVsbCxcblx0XHRzdGFydDogbnVsbCxcblx0XHRzdG9wOiBudWxsLFxuXHRcdHVwZGF0ZTogbnVsbFxuXHR9LFxuXG5cdF9pc092ZXJBeGlzOiBmdW5jdGlvbiggeCwgcmVmZXJlbmNlLCBzaXplICkge1xuXHRcdHJldHVybiAoIHggPj0gcmVmZXJlbmNlICkgJiYgKCB4IDwgKCByZWZlcmVuY2UgKyBzaXplICkgKTtcblx0fSxcblxuXHRfaXNGbG9hdGluZzogZnVuY3Rpb24oIGl0ZW0gKSB7XG5cdFx0cmV0dXJuICgvbGVmdHxyaWdodC8pLnRlc3QoaXRlbS5jc3MoXCJmbG9hdFwiKSkgfHwgKC9pbmxpbmV8dGFibGUtY2VsbC8pLnRlc3QoaXRlbS5jc3MoXCJkaXNwbGF5XCIpKTtcblx0fSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmNvbnRhaW5lckNhY2hlID0ge307XG5cdFx0dGhpcy5lbGVtZW50LmFkZENsYXNzKFwidWktc29ydGFibGVcIik7XG5cblx0XHQvL0dldCB0aGUgaXRlbXNcblx0XHR0aGlzLnJlZnJlc2goKTtcblxuXHRcdC8vTGV0J3MgZGV0ZXJtaW5lIHRoZSBwYXJlbnQncyBvZmZzZXRcblx0XHR0aGlzLm9mZnNldCA9IHRoaXMuZWxlbWVudC5vZmZzZXQoKTtcblxuXHRcdC8vSW5pdGlhbGl6ZSBtb3VzZSBldmVudHMgZm9yIGludGVyYWN0aW9uXG5cdFx0dGhpcy5fbW91c2VJbml0KCk7XG5cblx0XHR0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKTtcblxuXHRcdC8vV2UncmUgcmVhZHkgdG8gZ29cblx0XHR0aGlzLnJlYWR5ID0gdHJ1ZTtcblxuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cblx0XHRpZiAoIGtleSA9PT0gXCJoYW5kbGVcIiApIHtcblx0XHRcdHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0SGFuZGxlQ2xhc3NOYW1lOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmVsZW1lbnQuZmluZCggXCIudWktc29ydGFibGUtaGFuZGxlXCIgKS5yZW1vdmVDbGFzcyggXCJ1aS1zb3J0YWJsZS1oYW5kbGVcIiApO1xuXHRcdCQuZWFjaCggdGhpcy5pdGVtcywgZnVuY3Rpb24oKSB7XG5cdFx0XHQoIHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oYW5kbGUgP1xuXHRcdFx0XHR0aGlzLml0ZW0uZmluZCggdGhpcy5pbnN0YW5jZS5vcHRpb25zLmhhbmRsZSApIDogdGhpcy5pdGVtIClcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLXNvcnRhYmxlLWhhbmRsZVwiICk7XG5cdFx0fSk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXNvcnRhYmxlIHVpLXNvcnRhYmxlLWRpc2FibGVkXCIgKVxuXHRcdFx0LmZpbmQoIFwiLnVpLXNvcnRhYmxlLWhhbmRsZVwiIClcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXNvcnRhYmxlLWhhbmRsZVwiICk7XG5cdFx0dGhpcy5fbW91c2VEZXN0cm95KCk7XG5cblx0XHRmb3IgKCB2YXIgaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHR0aGlzLml0ZW1zW2ldLml0ZW0ucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUgKyBcIi1pdGVtXCIpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9tb3VzZUNhcHR1cmU6IGZ1bmN0aW9uKGV2ZW50LCBvdmVycmlkZUhhbmRsZSkge1xuXHRcdHZhciBjdXJyZW50SXRlbSA9IG51bGwsXG5cdFx0XHR2YWxpZEhhbmRsZSA9IGZhbHNlLFxuXHRcdFx0dGhhdCA9IHRoaXM7XG5cblx0XHRpZiAodGhpcy5yZXZlcnRpbmcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZih0aGlzLm9wdGlvbnMuZGlzYWJsZWQgfHwgdGhpcy5vcHRpb25zLnR5cGUgPT09IFwic3RhdGljXCIpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvL1dlIGhhdmUgdG8gcmVmcmVzaCB0aGUgaXRlbXMgZGF0YSBvbmNlIGZpcnN0XG5cdFx0dGhpcy5fcmVmcmVzaEl0ZW1zKGV2ZW50KTtcblxuXHRcdC8vRmluZCBvdXQgaWYgdGhlIGNsaWNrZWQgbm9kZSAob3Igb25lIG9mIGl0cyBwYXJlbnRzKSBpcyBhIGFjdHVhbCBpdGVtIGluIHRoaXMuaXRlbXNcblx0XHQkKGV2ZW50LnRhcmdldCkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRpZigkLmRhdGEodGhpcywgdGhhdC53aWRnZXROYW1lICsgXCItaXRlbVwiKSA9PT0gdGhhdCkge1xuXHRcdFx0XHRjdXJyZW50SXRlbSA9ICQodGhpcyk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRpZigkLmRhdGEoZXZlbnQudGFyZ2V0LCB0aGF0LndpZGdldE5hbWUgKyBcIi1pdGVtXCIpID09PSB0aGF0KSB7XG5cdFx0XHRjdXJyZW50SXRlbSA9ICQoZXZlbnQudGFyZ2V0KTtcblx0XHR9XG5cblx0XHRpZighY3VycmVudEl0ZW0pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0aWYodGhpcy5vcHRpb25zLmhhbmRsZSAmJiAhb3ZlcnJpZGVIYW5kbGUpIHtcblx0XHRcdCQodGhpcy5vcHRpb25zLmhhbmRsZSwgY3VycmVudEl0ZW0pLmZpbmQoXCIqXCIpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZih0aGlzID09PSBldmVudC50YXJnZXQpIHtcblx0XHRcdFx0XHR2YWxpZEhhbmRsZSA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0aWYoIXZhbGlkSGFuZGxlKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmN1cnJlbnRJdGVtID0gY3VycmVudEl0ZW07XG5cdFx0dGhpcy5fcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXMoKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9LFxuXG5cdF9tb3VzZVN0YXJ0OiBmdW5jdGlvbihldmVudCwgb3ZlcnJpZGVIYW5kbGUsIG5vQWN0aXZhdGlvbikge1xuXG5cdFx0dmFyIGksIGJvZHksXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0dGhpcy5jdXJyZW50Q29udGFpbmVyID0gdGhpcztcblxuXHRcdC8vV2Ugb25seSBuZWVkIHRvIGNhbGwgcmVmcmVzaFBvc2l0aW9ucywgYmVjYXVzZSB0aGUgcmVmcmVzaEl0ZW1zIGNhbGwgaGFzIGJlZW4gbW92ZWQgdG8gbW91c2VDYXB0dXJlXG5cdFx0dGhpcy5yZWZyZXNoUG9zaXRpb25zKCk7XG5cblx0XHQvL0NyZWF0ZSBhbmQgYXBwZW5kIHRoZSB2aXNpYmxlIGhlbHBlclxuXHRcdHRoaXMuaGVscGVyID0gdGhpcy5fY3JlYXRlSGVscGVyKGV2ZW50KTtcblxuXHRcdC8vQ2FjaGUgdGhlIGhlbHBlciBzaXplXG5cdFx0dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpO1xuXG5cdFx0Lypcblx0XHQgKiAtIFBvc2l0aW9uIGdlbmVyYXRpb24gLVxuXHRcdCAqIFRoaXMgYmxvY2sgZ2VuZXJhdGVzIGV2ZXJ5dGhpbmcgcG9zaXRpb24gcmVsYXRlZCAtIGl0J3MgdGhlIGNvcmUgb2YgZHJhZ2dhYmxlcy5cblx0XHQgKi9cblxuXHRcdC8vQ2FjaGUgdGhlIG1hcmdpbnMgb2YgdGhlIG9yaWdpbmFsIGVsZW1lbnRcblx0XHR0aGlzLl9jYWNoZU1hcmdpbnMoKTtcblxuXHRcdC8vR2V0IHRoZSBuZXh0IHNjcm9sbGluZyBwYXJlbnRcblx0XHR0aGlzLnNjcm9sbFBhcmVudCA9IHRoaXMuaGVscGVyLnNjcm9sbFBhcmVudCgpO1xuXG5cdFx0Ly9UaGUgZWxlbWVudCdzIGFic29sdXRlIHBvc2l0aW9uIG9uIHRoZSBwYWdlIG1pbnVzIG1hcmdpbnNcblx0XHR0aGlzLm9mZnNldCA9IHRoaXMuY3VycmVudEl0ZW0ub2Zmc2V0KCk7XG5cdFx0dGhpcy5vZmZzZXQgPSB7XG5cdFx0XHR0b3A6IHRoaXMub2Zmc2V0LnRvcCAtIHRoaXMubWFyZ2lucy50b3AsXG5cdFx0XHRsZWZ0OiB0aGlzLm9mZnNldC5sZWZ0IC0gdGhpcy5tYXJnaW5zLmxlZnRcblx0XHR9O1xuXG5cdFx0JC5leHRlbmQodGhpcy5vZmZzZXQsIHtcblx0XHRcdGNsaWNrOiB7IC8vV2hlcmUgdGhlIGNsaWNrIGhhcHBlbmVkLCByZWxhdGl2ZSB0byB0aGUgZWxlbWVudFxuXHRcdFx0XHRsZWZ0OiBldmVudC5wYWdlWCAtIHRoaXMub2Zmc2V0LmxlZnQsXG5cdFx0XHRcdHRvcDogZXZlbnQucGFnZVkgLSB0aGlzLm9mZnNldC50b3Bcblx0XHRcdH0sXG5cdFx0XHRwYXJlbnQ6IHRoaXMuX2dldFBhcmVudE9mZnNldCgpLFxuXHRcdFx0cmVsYXRpdmU6IHRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCkgLy9UaGlzIGlzIGEgcmVsYXRpdmUgdG8gYWJzb2x1dGUgcG9zaXRpb24gbWludXMgdGhlIGFjdHVhbCBwb3NpdGlvbiBjYWxjdWxhdGlvbiAtIG9ubHkgdXNlZCBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBoZWxwZXJcblx0XHR9KTtcblxuXHRcdC8vIE9ubHkgYWZ0ZXIgd2UgZ290IHRoZSBvZmZzZXQsIHdlIGNhbiBjaGFuZ2UgdGhlIGhlbHBlcidzIHBvc2l0aW9uIHRvIGFic29sdXRlXG5cdFx0Ly8gVE9ETzogU3RpbGwgbmVlZCB0byBmaWd1cmUgb3V0IGEgd2F5IHRvIG1ha2UgcmVsYXRpdmUgc29ydGluZyBwb3NzaWJsZVxuXHRcdHRoaXMuaGVscGVyLmNzcyhcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XG5cdFx0dGhpcy5jc3NQb3NpdGlvbiA9IHRoaXMuaGVscGVyLmNzcyhcInBvc2l0aW9uXCIpO1xuXG5cdFx0Ly9HZW5lcmF0ZSB0aGUgb3JpZ2luYWwgcG9zaXRpb25cblx0XHR0aGlzLm9yaWdpbmFsUG9zaXRpb24gPSB0aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKGV2ZW50KTtcblx0XHR0aGlzLm9yaWdpbmFsUGFnZVggPSBldmVudC5wYWdlWDtcblx0XHR0aGlzLm9yaWdpbmFsUGFnZVkgPSBldmVudC5wYWdlWTtcblxuXHRcdC8vQWRqdXN0IHRoZSBtb3VzZSBvZmZzZXQgcmVsYXRpdmUgdG8gdGhlIGhlbHBlciBpZiBcImN1cnNvckF0XCIgaXMgc3VwcGxpZWRcblx0XHQoby5jdXJzb3JBdCAmJiB0aGlzLl9hZGp1c3RPZmZzZXRGcm9tSGVscGVyKG8uY3Vyc29yQXQpKTtcblxuXHRcdC8vQ2FjaGUgdGhlIGZvcm1lciBET00gcG9zaXRpb25cblx0XHR0aGlzLmRvbVBvc2l0aW9uID0geyBwcmV2OiB0aGlzLmN1cnJlbnRJdGVtLnByZXYoKVswXSwgcGFyZW50OiB0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdIH07XG5cblx0XHQvL0lmIHRoZSBoZWxwZXIgaXMgbm90IHRoZSBvcmlnaW5hbCwgaGlkZSB0aGUgb3JpZ2luYWwgc28gaXQncyBub3QgcGxheWluZyBhbnkgcm9sZSBkdXJpbmcgdGhlIGRyYWcsIHdvbid0IGNhdXNlIGFueXRoaW5nIGJhZCB0aGlzIHdheVxuXHRcdGlmKHRoaXMuaGVscGVyWzBdICE9PSB0aGlzLmN1cnJlbnRJdGVtWzBdKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRJdGVtLmhpZGUoKTtcblx0XHR9XG5cblx0XHQvL0NyZWF0ZSB0aGUgcGxhY2Vob2xkZXJcblx0XHR0aGlzLl9jcmVhdGVQbGFjZWhvbGRlcigpO1xuXG5cdFx0Ly9TZXQgYSBjb250YWlubWVudCBpZiBnaXZlbiBpbiB0aGUgb3B0aW9uc1xuXHRcdGlmKG8uY29udGFpbm1lbnQpIHtcblx0XHRcdHRoaXMuX3NldENvbnRhaW5tZW50KCk7XG5cdFx0fVxuXG5cdFx0aWYoIG8uY3Vyc29yICYmIG8uY3Vyc29yICE9PSBcImF1dG9cIiApIHsgLy8gY3Vyc29yIG9wdGlvblxuXHRcdFx0Ym9keSA9IHRoaXMuZG9jdW1lbnQuZmluZCggXCJib2R5XCIgKTtcblxuXHRcdFx0Ly8gc3VwcG9ydDogSUVcblx0XHRcdHRoaXMuc3RvcmVkQ3Vyc29yID0gYm9keS5jc3MoIFwiY3Vyc29yXCIgKTtcblx0XHRcdGJvZHkuY3NzKCBcImN1cnNvclwiLCBvLmN1cnNvciApO1xuXG5cdFx0XHR0aGlzLnN0b3JlZFN0eWxlc2hlZXQgPSAkKCBcIjxzdHlsZT4qeyBjdXJzb3I6IFwiK28uY3Vyc29yK1wiICFpbXBvcnRhbnQ7IH08L3N0eWxlPlwiICkuYXBwZW5kVG8oIGJvZHkgKTtcblx0XHR9XG5cblx0XHRpZihvLm9wYWNpdHkpIHsgLy8gb3BhY2l0eSBvcHRpb25cblx0XHRcdGlmICh0aGlzLmhlbHBlci5jc3MoXCJvcGFjaXR5XCIpKSB7XG5cdFx0XHRcdHRoaXMuX3N0b3JlZE9wYWNpdHkgPSB0aGlzLmhlbHBlci5jc3MoXCJvcGFjaXR5XCIpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5oZWxwZXIuY3NzKFwib3BhY2l0eVwiLCBvLm9wYWNpdHkpO1xuXHRcdH1cblxuXHRcdGlmKG8uekluZGV4KSB7IC8vIHpJbmRleCBvcHRpb25cblx0XHRcdGlmICh0aGlzLmhlbHBlci5jc3MoXCJ6SW5kZXhcIikpIHtcblx0XHRcdFx0dGhpcy5fc3RvcmVkWkluZGV4ID0gdGhpcy5oZWxwZXIuY3NzKFwiekluZGV4XCIpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5oZWxwZXIuY3NzKFwiekluZGV4XCIsIG8uekluZGV4KTtcblx0XHR9XG5cblx0XHQvL1ByZXBhcmUgc2Nyb2xsaW5nXG5cdFx0aWYodGhpcy5zY3JvbGxQYXJlbnRbMF0gIT09IHRoaXMuZG9jdW1lbnRbMF0gJiYgdGhpcy5zY3JvbGxQYXJlbnRbMF0udGFnTmFtZSAhPT0gXCJIVE1MXCIpIHtcblx0XHRcdHRoaXMub3ZlcmZsb3dPZmZzZXQgPSB0aGlzLnNjcm9sbFBhcmVudC5vZmZzZXQoKTtcblx0XHR9XG5cblx0XHQvL0NhbGwgY2FsbGJhY2tzXG5cdFx0dGhpcy5fdHJpZ2dlcihcInN0YXJ0XCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSk7XG5cblx0XHQvL1JlY2FjaGUgdGhlIGhlbHBlciBzaXplXG5cdFx0aWYoIXRoaXMuX3ByZXNlcnZlSGVscGVyUHJvcG9ydGlvbnMpIHtcblx0XHRcdHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKTtcblx0XHR9XG5cblxuXHRcdC8vUG9zdCBcImFjdGl2YXRlXCIgZXZlbnRzIHRvIHBvc3NpYmxlIGNvbnRhaW5lcnNcblx0XHRpZiggIW5vQWN0aXZhdGlvbiApIHtcblx0XHRcdGZvciAoIGkgPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1sgaSBdLl90cmlnZ2VyKCBcImFjdGl2YXRlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goIHRoaXMgKSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vUHJlcGFyZSBwb3NzaWJsZSBkcm9wcGFibGVzXG5cdFx0aWYoJC51aS5kZG1hbmFnZXIpIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLmN1cnJlbnQgPSB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICgkLnVpLmRkbWFuYWdlciAmJiAhby5kcm9wQmVoYXZpb3VyKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLCBldmVudCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5kcmFnZ2luZyA9IHRydWU7XG5cblx0XHR0aGlzLmhlbHBlci5hZGRDbGFzcyhcInVpLXNvcnRhYmxlLWhlbHBlclwiKTtcblx0XHR0aGlzLl9tb3VzZURyYWcoZXZlbnQpOyAvL0V4ZWN1dGUgdGhlIGRyYWcgb25jZSAtIHRoaXMgY2F1c2VzIHRoZSBoZWxwZXIgbm90IHRvIGJlIHZpc2libGUgYmVmb3JlIGdldHRpbmcgaXRzIGNvcnJlY3QgcG9zaXRpb25cblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9LFxuXG5cdF9tb3VzZURyYWc6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIGksIGl0ZW0sIGl0ZW1FbGVtZW50LCBpbnRlcnNlY3Rpb24sXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0c2Nyb2xsZWQgPSBmYWxzZTtcblxuXHRcdC8vQ29tcHV0ZSB0aGUgaGVscGVycyBwb3NpdGlvblxuXHRcdHRoaXMucG9zaXRpb24gPSB0aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKGV2ZW50KTtcblx0XHR0aGlzLnBvc2l0aW9uQWJzID0gdGhpcy5fY29udmVydFBvc2l0aW9uVG8oXCJhYnNvbHV0ZVwiKTtcblxuXHRcdGlmICghdGhpcy5sYXN0UG9zaXRpb25BYnMpIHtcblx0XHRcdHRoaXMubGFzdFBvc2l0aW9uQWJzID0gdGhpcy5wb3NpdGlvbkFicztcblx0XHR9XG5cblx0XHQvL0RvIHNjcm9sbGluZ1xuXHRcdGlmKHRoaXMub3B0aW9ucy5zY3JvbGwpIHtcblx0XHRcdGlmKHRoaXMuc2Nyb2xsUGFyZW50WzBdICE9PSB0aGlzLmRvY3VtZW50WzBdICYmIHRoaXMuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWUgIT09IFwiSFRNTFwiKSB7XG5cblx0XHRcdFx0aWYoKHRoaXMub3ZlcmZsb3dPZmZzZXQudG9wICsgdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0SGVpZ2h0KSAtIGV2ZW50LnBhZ2VZIDwgby5zY3JvbGxTZW5zaXRpdml0eSkge1xuXHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCA9IHNjcm9sbGVkID0gdGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wICsgby5zY3JvbGxTcGVlZDtcblx0XHRcdFx0fSBlbHNlIGlmKGV2ZW50LnBhZ2VZIC0gdGhpcy5vdmVyZmxvd09mZnNldC50b3AgPCBvLnNjcm9sbFNlbnNpdGl2aXR5KSB7XG5cdFx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wID0gc2Nyb2xsZWQgPSB0aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3AgLSBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoKHRoaXMub3ZlcmZsb3dPZmZzZXQubGVmdCArIHRoaXMuc2Nyb2xsUGFyZW50WzBdLm9mZnNldFdpZHRoKSAtIGV2ZW50LnBhZ2VYIDwgby5zY3JvbGxTZW5zaXRpdml0eSkge1xuXHRcdFx0XHRcdHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQgPSBzY3JvbGxlZCA9IHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQgKyBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0XHR9IGVsc2UgaWYoZXZlbnQucGFnZVggLSB0aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQgPCBvLnNjcm9sbFNlbnNpdGl2aXR5KSB7XG5cdFx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdCA9IHNjcm9sbGVkID0gdGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdCAtIG8uc2Nyb2xsU3BlZWQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRpZihldmVudC5wYWdlWSAtIHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5KSB7XG5cdFx0XHRcdFx0c2Nyb2xsZWQgPSB0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCh0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpIC0gby5zY3JvbGxTcGVlZCk7XG5cdFx0XHRcdH0gZWxzZSBpZih0aGlzLndpbmRvdy5oZWlnaHQoKSAtIChldmVudC5wYWdlWSAtIHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkpIDwgby5zY3JvbGxTZW5zaXRpdml0eSkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gdGhpcy5kb2N1bWVudC5zY3JvbGxUb3AodGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoKSArIG8uc2Nyb2xsU3BlZWQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoZXZlbnQucGFnZVggLSB0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKSA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkpIHtcblx0XHRcdFx0XHRzY3JvbGxlZCA9IHRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCh0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKSAtIG8uc2Nyb2xsU3BlZWQpO1xuXHRcdFx0XHR9IGVsc2UgaWYodGhpcy53aW5kb3cud2lkdGgoKSAtIChldmVudC5wYWdlWCAtIHRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpKSA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkpIHtcblx0XHRcdFx0XHRzY3JvbGxlZCA9IHRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCh0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKSArIG8uc2Nyb2xsU3BlZWQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0aWYoc2Nyb2xsZWQgIT09IGZhbHNlICYmICQudWkuZGRtYW5hZ2VyICYmICFvLmRyb3BCZWhhdmlvdXIpIHtcblx0XHRcdFx0JC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcywgZXZlbnQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vUmVnZW5lcmF0ZSB0aGUgYWJzb2x1dGUgcG9zaXRpb24gdXNlZCBmb3IgcG9zaXRpb24gY2hlY2tzXG5cdFx0dGhpcy5wb3NpdGlvbkFicyA9IHRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKFwiYWJzb2x1dGVcIik7XG5cblx0XHQvL1NldCB0aGUgaGVscGVyIHBvc2l0aW9uXG5cdFx0aWYoIXRoaXMub3B0aW9ucy5heGlzIHx8IHRoaXMub3B0aW9ucy5heGlzICE9PSBcInlcIikge1xuXHRcdFx0dGhpcy5oZWxwZXJbMF0uc3R5bGUubGVmdCA9IHRoaXMucG9zaXRpb24ubGVmdCtcInB4XCI7XG5cdFx0fVxuXHRcdGlmKCF0aGlzLm9wdGlvbnMuYXhpcyB8fCB0aGlzLm9wdGlvbnMuYXhpcyAhPT0gXCJ4XCIpIHtcblx0XHRcdHRoaXMuaGVscGVyWzBdLnN0eWxlLnRvcCA9IHRoaXMucG9zaXRpb24udG9wK1wicHhcIjtcblx0XHR9XG5cblx0XHQvL1JlYXJyYW5nZVxuXHRcdGZvciAoaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblxuXHRcdFx0Ly9DYWNoZSB2YXJpYWJsZXMgYW5kIGludGVyc2VjdGlvbiwgY29udGludWUgaWYgbm8gaW50ZXJzZWN0aW9uXG5cdFx0XHRpdGVtID0gdGhpcy5pdGVtc1tpXTtcblx0XHRcdGl0ZW1FbGVtZW50ID0gaXRlbS5pdGVtWzBdO1xuXHRcdFx0aW50ZXJzZWN0aW9uID0gdGhpcy5faW50ZXJzZWN0c1dpdGhQb2ludGVyKGl0ZW0pO1xuXHRcdFx0aWYgKCFpbnRlcnNlY3Rpb24pIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9ubHkgcHV0IHRoZSBwbGFjZWhvbGRlciBpbnNpZGUgdGhlIGN1cnJlbnQgQ29udGFpbmVyLCBza2lwIGFsbFxuXHRcdFx0Ly8gaXRlbXMgZnJvbSBvdGhlciBjb250YWluZXJzLiBUaGlzIHdvcmtzIGJlY2F1c2Ugd2hlbiBtb3Zpbmdcblx0XHRcdC8vIGFuIGl0ZW0gZnJvbSBvbmUgY29udGFpbmVyIHRvIGFub3RoZXIgdGhlXG5cdFx0XHQvLyBjdXJyZW50Q29udGFpbmVyIGlzIHN3aXRjaGVkIGJlZm9yZSB0aGUgcGxhY2Vob2xkZXIgaXMgbW92ZWQuXG5cdFx0XHQvL1xuXHRcdFx0Ly8gV2l0aG91dCB0aGlzLCBtb3ZpbmcgaXRlbXMgaW4gXCJzdWItc29ydGFibGVzXCIgY2FuIGNhdXNlXG5cdFx0XHQvLyB0aGUgcGxhY2Vob2xkZXIgdG8gaml0dGVyIGJldHdlZW4gdGhlIG91dGVyIGFuZCBpbm5lciBjb250YWluZXIuXG5cdFx0XHRpZiAoaXRlbS5pbnN0YW5jZSAhPT0gdGhpcy5jdXJyZW50Q29udGFpbmVyKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjYW5ub3QgaW50ZXJzZWN0IHdpdGggaXRzZWxmXG5cdFx0XHQvLyBubyB1c2VsZXNzIGFjdGlvbnMgdGhhdCBoYXZlIGJlZW4gZG9uZSBiZWZvcmVcblx0XHRcdC8vIG5vIGFjdGlvbiBpZiB0aGUgaXRlbSBtb3ZlZCBpcyB0aGUgcGFyZW50IG9mIHRoZSBpdGVtIGNoZWNrZWRcblx0XHRcdGlmIChpdGVtRWxlbWVudCAhPT0gdGhpcy5jdXJyZW50SXRlbVswXSAmJlxuXHRcdFx0XHR0aGlzLnBsYWNlaG9sZGVyW2ludGVyc2VjdGlvbiA9PT0gMSA/IFwibmV4dFwiIDogXCJwcmV2XCJdKClbMF0gIT09IGl0ZW1FbGVtZW50ICYmXG5cdFx0XHRcdCEkLmNvbnRhaW5zKHRoaXMucGxhY2Vob2xkZXJbMF0sIGl0ZW1FbGVtZW50KSAmJlxuXHRcdFx0XHQodGhpcy5vcHRpb25zLnR5cGUgPT09IFwic2VtaS1keW5hbWljXCIgPyAhJC5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sIGl0ZW1FbGVtZW50KSA6IHRydWUpXG5cdFx0XHQpIHtcblxuXHRcdFx0XHR0aGlzLmRpcmVjdGlvbiA9IGludGVyc2VjdGlvbiA9PT0gMSA/IFwiZG93blwiIDogXCJ1cFwiO1xuXG5cdFx0XHRcdGlmICh0aGlzLm9wdGlvbnMudG9sZXJhbmNlID09PSBcInBvaW50ZXJcIiB8fCB0aGlzLl9pbnRlcnNlY3RzV2l0aFNpZGVzKGl0ZW0pKSB7XG5cdFx0XHRcdFx0dGhpcy5fcmVhcnJhbmdlKGV2ZW50LCBpdGVtKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuX3RyaWdnZXIoXCJjaGFuZ2VcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9Qb3N0IGV2ZW50cyB0byBjb250YWluZXJzXG5cdFx0dGhpcy5fY29udGFjdENvbnRhaW5lcnMoZXZlbnQpO1xuXG5cdFx0Ly9JbnRlcmNvbm5lY3Qgd2l0aCBkcm9wcGFibGVzXG5cdFx0aWYoJC51aS5kZG1hbmFnZXIpIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLmRyYWcodGhpcywgZXZlbnQpO1xuXHRcdH1cblxuXHRcdC8vQ2FsbCBjYWxsYmFja3Ncblx0XHR0aGlzLl90cmlnZ2VyKFwic29ydFwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkpO1xuXG5cdFx0dGhpcy5sYXN0UG9zaXRpb25BYnMgPSB0aGlzLnBvc2l0aW9uQWJzO1xuXHRcdHJldHVybiBmYWxzZTtcblxuXHR9LFxuXG5cdF9tb3VzZVN0b3A6IGZ1bmN0aW9uKGV2ZW50LCBub1Byb3BhZ2F0aW9uKSB7XG5cblx0XHRpZighZXZlbnQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvL0lmIHdlIGFyZSB1c2luZyBkcm9wcGFibGVzLCBpbmZvcm0gdGhlIG1hbmFnZXIgYWJvdXQgdGhlIGRyb3Bcblx0XHRpZiAoJC51aS5kZG1hbmFnZXIgJiYgIXRoaXMub3B0aW9ucy5kcm9wQmVoYXZpb3VyKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5kcm9wKHRoaXMsIGV2ZW50KTtcblx0XHR9XG5cblx0XHRpZih0aGlzLm9wdGlvbnMucmV2ZXJ0KSB7XG5cdFx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRcdGN1ciA9IHRoaXMucGxhY2Vob2xkZXIub2Zmc2V0KCksXG5cdFx0XHRcdGF4aXMgPSB0aGlzLm9wdGlvbnMuYXhpcyxcblx0XHRcdFx0YW5pbWF0aW9uID0ge307XG5cblx0XHRcdGlmICggIWF4aXMgfHwgYXhpcyA9PT0gXCJ4XCIgKSB7XG5cdFx0XHRcdGFuaW1hdGlvbi5sZWZ0ID0gY3VyLmxlZnQgLSB0aGlzLm9mZnNldC5wYXJlbnQubGVmdCAtIHRoaXMubWFyZ2lucy5sZWZ0ICsgKHRoaXMub2Zmc2V0UGFyZW50WzBdID09PSB0aGlzLmRvY3VtZW50WzBdLmJvZHkgPyAwIDogdGhpcy5vZmZzZXRQYXJlbnRbMF0uc2Nyb2xsTGVmdCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICFheGlzIHx8IGF4aXMgPT09IFwieVwiICkge1xuXHRcdFx0XHRhbmltYXRpb24udG9wID0gY3VyLnRvcCAtIHRoaXMub2Zmc2V0LnBhcmVudC50b3AgLSB0aGlzLm1hcmdpbnMudG9wICsgKHRoaXMub2Zmc2V0UGFyZW50WzBdID09PSB0aGlzLmRvY3VtZW50WzBdLmJvZHkgPyAwIDogdGhpcy5vZmZzZXRQYXJlbnRbMF0uc2Nyb2xsVG9wKTtcblx0XHRcdH1cblx0XHRcdHRoaXMucmV2ZXJ0aW5nID0gdHJ1ZTtcblx0XHRcdCQodGhpcy5oZWxwZXIpLmFuaW1hdGUoIGFuaW1hdGlvbiwgcGFyc2VJbnQodGhpcy5vcHRpb25zLnJldmVydCwgMTApIHx8IDUwMCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoYXQuX2NsZWFyKGV2ZW50KTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9jbGVhcihldmVudCwgbm9Qcm9wYWdhdGlvbik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdH0sXG5cblx0Y2FuY2VsOiBmdW5jdGlvbigpIHtcblxuXHRcdGlmKHRoaXMuZHJhZ2dpbmcpIHtcblxuXHRcdFx0dGhpcy5fbW91c2VVcCh7IHRhcmdldDogbnVsbCB9KTtcblxuXHRcdFx0aWYodGhpcy5vcHRpb25zLmhlbHBlciA9PT0gXCJvcmlnaW5hbFwiKSB7XG5cdFx0XHRcdHRoaXMuY3VycmVudEl0ZW0uY3NzKHRoaXMuX3N0b3JlZENTUykucmVtb3ZlQ2xhc3MoXCJ1aS1zb3J0YWJsZS1oZWxwZXJcIik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmN1cnJlbnRJdGVtLnNob3coKTtcblx0XHRcdH1cblxuXHRcdFx0Ly9Qb3N0IGRlYWN0aXZhdGluZyBldmVudHMgdG8gY29udGFpbmVyc1xuXHRcdFx0Zm9yICh2YXIgaSA9IHRoaXMuY29udGFpbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcihcImRlYWN0aXZhdGVcIiwgbnVsbCwgdGhpcy5fdWlIYXNoKHRoaXMpKTtcblx0XHRcdFx0aWYodGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXIpIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoXCJvdXRcIiwgbnVsbCwgdGhpcy5fdWlIYXNoKHRoaXMpKTtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3ZlciA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGlmICh0aGlzLnBsYWNlaG9sZGVyKSB7XG5cdFx0XHQvLyQodGhpcy5wbGFjZWhvbGRlclswXSkucmVtb3ZlKCk7IHdvdWxkIGhhdmUgYmVlbiB0aGUgalF1ZXJ5IHdheSAtIHVuZm9ydHVuYXRlbHksIGl0IHVuYmluZHMgQUxMIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCBub2RlIVxuXHRcdFx0aWYodGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlKSB7XG5cdFx0XHRcdHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKTtcblx0XHRcdH1cblx0XHRcdGlmKHRoaXMub3B0aW9ucy5oZWxwZXIgIT09IFwib3JpZ2luYWxcIiAmJiB0aGlzLmhlbHBlciAmJiB0aGlzLmhlbHBlclswXS5wYXJlbnROb2RlKSB7XG5cdFx0XHRcdHRoaXMuaGVscGVyLnJlbW92ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHQkLmV4dGVuZCh0aGlzLCB7XG5cdFx0XHRcdGhlbHBlcjogbnVsbCxcblx0XHRcdFx0ZHJhZ2dpbmc6IGZhbHNlLFxuXHRcdFx0XHRyZXZlcnRpbmc6IGZhbHNlLFxuXHRcdFx0XHRfbm9GaW5hbFNvcnQ6IG51bGxcblx0XHRcdH0pO1xuXG5cdFx0XHRpZih0aGlzLmRvbVBvc2l0aW9uLnByZXYpIHtcblx0XHRcdFx0JCh0aGlzLmRvbVBvc2l0aW9uLnByZXYpLmFmdGVyKHRoaXMuY3VycmVudEl0ZW0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JCh0aGlzLmRvbVBvc2l0aW9uLnBhcmVudCkucHJlcGVuZCh0aGlzLmN1cnJlbnRJdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9LFxuXG5cdHNlcmlhbGl6ZTogZnVuY3Rpb24obykge1xuXG5cdFx0dmFyIGl0ZW1zID0gdGhpcy5fZ2V0SXRlbXNBc2pRdWVyeShvICYmIG8uY29ubmVjdGVkKSxcblx0XHRcdHN0ciA9IFtdO1xuXHRcdG8gPSBvIHx8IHt9O1xuXG5cdFx0JChpdGVtcykuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciByZXMgPSAoJChvLml0ZW0gfHwgdGhpcykuYXR0cihvLmF0dHJpYnV0ZSB8fCBcImlkXCIpIHx8IFwiXCIpLm1hdGNoKG8uZXhwcmVzc2lvbiB8fCAoLyguKylbXFwtPV9dKC4rKS8pKTtcblx0XHRcdGlmIChyZXMpIHtcblx0XHRcdFx0c3RyLnB1c2goKG8ua2V5IHx8IHJlc1sxXStcIltdXCIpK1wiPVwiKyhvLmtleSAmJiBvLmV4cHJlc3Npb24gPyByZXNbMV0gOiByZXNbMl0pKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGlmKCFzdHIubGVuZ3RoICYmIG8ua2V5KSB7XG5cdFx0XHRzdHIucHVzaChvLmtleSArIFwiPVwiKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gc3RyLmpvaW4oXCImXCIpO1xuXG5cdH0sXG5cblx0dG9BcnJheTogZnVuY3Rpb24obykge1xuXG5cdFx0dmFyIGl0ZW1zID0gdGhpcy5fZ2V0SXRlbXNBc2pRdWVyeShvICYmIG8uY29ubmVjdGVkKSxcblx0XHRcdHJldCA9IFtdO1xuXG5cdFx0byA9IG8gfHwge307XG5cblx0XHRpdGVtcy5lYWNoKGZ1bmN0aW9uKCkgeyByZXQucHVzaCgkKG8uaXRlbSB8fCB0aGlzKS5hdHRyKG8uYXR0cmlidXRlIHx8IFwiaWRcIikgfHwgXCJcIik7IH0pO1xuXHRcdHJldHVybiByZXQ7XG5cblx0fSxcblxuXHQvKiBCZSBjYXJlZnVsIHdpdGggdGhlIGZvbGxvd2luZyBjb3JlIGZ1bmN0aW9ucyAqL1xuXHRfaW50ZXJzZWN0c1dpdGg6IGZ1bmN0aW9uKGl0ZW0pIHtcblxuXHRcdHZhciB4MSA9IHRoaXMucG9zaXRpb25BYnMubGVmdCxcblx0XHRcdHgyID0geDEgKyB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLFxuXHRcdFx0eTEgPSB0aGlzLnBvc2l0aW9uQWJzLnRvcCxcblx0XHRcdHkyID0geTEgKyB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxcblx0XHRcdGwgPSBpdGVtLmxlZnQsXG5cdFx0XHRyID0gbCArIGl0ZW0ud2lkdGgsXG5cdFx0XHR0ID0gaXRlbS50b3AsXG5cdFx0XHRiID0gdCArIGl0ZW0uaGVpZ2h0LFxuXHRcdFx0ZHlDbGljayA9IHRoaXMub2Zmc2V0LmNsaWNrLnRvcCxcblx0XHRcdGR4Q2xpY2sgPSB0aGlzLm9mZnNldC5jbGljay5sZWZ0LFxuXHRcdFx0aXNPdmVyRWxlbWVudEhlaWdodCA9ICggdGhpcy5vcHRpb25zLmF4aXMgPT09IFwieFwiICkgfHwgKCAoIHkxICsgZHlDbGljayApID4gdCAmJiAoIHkxICsgZHlDbGljayApIDwgYiApLFxuXHRcdFx0aXNPdmVyRWxlbWVudFdpZHRoID0gKCB0aGlzLm9wdGlvbnMuYXhpcyA9PT0gXCJ5XCIgKSB8fCAoICggeDEgKyBkeENsaWNrICkgPiBsICYmICggeDEgKyBkeENsaWNrICkgPCByICksXG5cdFx0XHRpc092ZXJFbGVtZW50ID0gaXNPdmVyRWxlbWVudEhlaWdodCAmJiBpc092ZXJFbGVtZW50V2lkdGg7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy50b2xlcmFuY2UgPT09IFwicG9pbnRlclwiIHx8XG5cdFx0XHR0aGlzLm9wdGlvbnMuZm9yY2VQb2ludGVyRm9yQ29udGFpbmVycyB8fFxuXHRcdFx0KHRoaXMub3B0aW9ucy50b2xlcmFuY2UgIT09IFwicG9pbnRlclwiICYmIHRoaXMuaGVscGVyUHJvcG9ydGlvbnNbdGhpcy5mbG9hdGluZyA/IFwid2lkdGhcIiA6IFwiaGVpZ2h0XCJdID4gaXRlbVt0aGlzLmZsb2F0aW5nID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIl0pXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4gaXNPdmVyRWxlbWVudDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRyZXR1cm4gKGwgPCB4MSArICh0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC8gMikgJiYgLy8gUmlnaHQgSGFsZlxuXHRcdFx0XHR4MiAtICh0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC8gMikgPCByICYmIC8vIExlZnQgSGFsZlxuXHRcdFx0XHR0IDwgeTEgKyAodGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLyAyKSAmJiAvLyBCb3R0b20gSGFsZlxuXHRcdFx0XHR5MiAtICh0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAvIDIpIDwgYiApOyAvLyBUb3AgSGFsZlxuXG5cdFx0fVxuXHR9LFxuXG5cdF9pbnRlcnNlY3RzV2l0aFBvaW50ZXI6IGZ1bmN0aW9uKGl0ZW0pIHtcblxuXHRcdHZhciBpc092ZXJFbGVtZW50SGVpZ2h0ID0gKHRoaXMub3B0aW9ucy5heGlzID09PSBcInhcIikgfHwgdGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLnRvcCArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCwgaXRlbS50b3AsIGl0ZW0uaGVpZ2h0KSxcblx0XHRcdGlzT3ZlckVsZW1lbnRXaWR0aCA9ICh0aGlzLm9wdGlvbnMuYXhpcyA9PT0gXCJ5XCIpIHx8IHRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy5sZWZ0ICsgdGhpcy5vZmZzZXQuY2xpY2subGVmdCwgaXRlbS5sZWZ0LCBpdGVtLndpZHRoKSxcblx0XHRcdGlzT3ZlckVsZW1lbnQgPSBpc092ZXJFbGVtZW50SGVpZ2h0ICYmIGlzT3ZlckVsZW1lbnRXaWR0aCxcblx0XHRcdHZlcnRpY2FsRGlyZWN0aW9uID0gdGhpcy5fZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uKCksXG5cdFx0XHRob3Jpem9udGFsRGlyZWN0aW9uID0gdGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKTtcblxuXHRcdGlmICghaXNPdmVyRWxlbWVudCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmZsb2F0aW5nID9cblx0XHRcdCggKChob3Jpem9udGFsRGlyZWN0aW9uICYmIGhvcml6b250YWxEaXJlY3Rpb24gPT09IFwicmlnaHRcIikgfHwgdmVydGljYWxEaXJlY3Rpb24gPT09IFwiZG93blwiKSA/IDIgOiAxIClcblx0XHRcdDogKCB2ZXJ0aWNhbERpcmVjdGlvbiAmJiAodmVydGljYWxEaXJlY3Rpb24gPT09IFwiZG93blwiID8gMiA6IDEpICk7XG5cblx0fSxcblxuXHRfaW50ZXJzZWN0c1dpdGhTaWRlczogZnVuY3Rpb24oaXRlbSkge1xuXG5cdFx0dmFyIGlzT3ZlckJvdHRvbUhhbGYgPSB0aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMudG9wICsgdGhpcy5vZmZzZXQuY2xpY2sudG9wLCBpdGVtLnRvcCArIChpdGVtLmhlaWdodC8yKSwgaXRlbS5oZWlnaHQpLFxuXHRcdFx0aXNPdmVyUmlnaHRIYWxmID0gdGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLmxlZnQgKyB0aGlzLm9mZnNldC5jbGljay5sZWZ0LCBpdGVtLmxlZnQgKyAoaXRlbS53aWR0aC8yKSwgaXRlbS53aWR0aCksXG5cdFx0XHR2ZXJ0aWNhbERpcmVjdGlvbiA9IHRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpLFxuXHRcdFx0aG9yaXpvbnRhbERpcmVjdGlvbiA9IHRoaXMuX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uKCk7XG5cblx0XHRpZiAodGhpcy5mbG9hdGluZyAmJiBob3Jpem9udGFsRGlyZWN0aW9uKSB7XG5cdFx0XHRyZXR1cm4gKChob3Jpem9udGFsRGlyZWN0aW9uID09PSBcInJpZ2h0XCIgJiYgaXNPdmVyUmlnaHRIYWxmKSB8fCAoaG9yaXpvbnRhbERpcmVjdGlvbiA9PT0gXCJsZWZ0XCIgJiYgIWlzT3ZlclJpZ2h0SGFsZikpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmVydGljYWxEaXJlY3Rpb24gJiYgKCh2ZXJ0aWNhbERpcmVjdGlvbiA9PT0gXCJkb3duXCIgJiYgaXNPdmVyQm90dG9tSGFsZikgfHwgKHZlcnRpY2FsRGlyZWN0aW9uID09PSBcInVwXCIgJiYgIWlzT3ZlckJvdHRvbUhhbGYpKTtcblx0XHR9XG5cblx0fSxcblxuXHRfZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZGVsdGEgPSB0aGlzLnBvc2l0aW9uQWJzLnRvcCAtIHRoaXMubGFzdFBvc2l0aW9uQWJzLnRvcDtcblx0XHRyZXR1cm4gZGVsdGEgIT09IDAgJiYgKGRlbHRhID4gMCA/IFwiZG93blwiIDogXCJ1cFwiKTtcblx0fSxcblxuXHRfZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBkZWx0YSA9IHRoaXMucG9zaXRpb25BYnMubGVmdCAtIHRoaXMubGFzdFBvc2l0aW9uQWJzLmxlZnQ7XG5cdFx0cmV0dXJuIGRlbHRhICE9PSAwICYmIChkZWx0YSA+IDAgPyBcInJpZ2h0XCIgOiBcImxlZnRcIik7XG5cdH0sXG5cblx0cmVmcmVzaDogZnVuY3Rpb24oZXZlbnQpIHtcblx0XHR0aGlzLl9yZWZyZXNoSXRlbXMoZXZlbnQpO1xuXHRcdHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpO1xuXHRcdHRoaXMucmVmcmVzaFBvc2l0aW9ucygpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9jb25uZWN0V2l0aDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cdFx0cmV0dXJuIG9wdGlvbnMuY29ubmVjdFdpdGguY29uc3RydWN0b3IgPT09IFN0cmluZyA/IFtvcHRpb25zLmNvbm5lY3RXaXRoXSA6IG9wdGlvbnMuY29ubmVjdFdpdGg7XG5cdH0sXG5cblx0X2dldEl0ZW1zQXNqUXVlcnk6IGZ1bmN0aW9uKGNvbm5lY3RlZCkge1xuXG5cdFx0dmFyIGksIGosIGN1ciwgaW5zdCxcblx0XHRcdGl0ZW1zID0gW10sXG5cdFx0XHRxdWVyaWVzID0gW10sXG5cdFx0XHRjb25uZWN0V2l0aCA9IHRoaXMuX2Nvbm5lY3RXaXRoKCk7XG5cblx0XHRpZihjb25uZWN0V2l0aCAmJiBjb25uZWN0ZWQpIHtcblx0XHRcdGZvciAoaSA9IGNvbm5lY3RXaXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXtcblx0XHRcdFx0Y3VyID0gJChjb25uZWN0V2l0aFtpXSwgdGhpcy5kb2N1bWVudFswXSk7XG5cdFx0XHRcdGZvciAoIGogPSBjdXIubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pe1xuXHRcdFx0XHRcdGluc3QgPSAkLmRhdGEoY3VyW2pdLCB0aGlzLndpZGdldEZ1bGxOYW1lKTtcblx0XHRcdFx0XHRpZihpbnN0ICYmIGluc3QgIT09IHRoaXMgJiYgIWluc3Qub3B0aW9ucy5kaXNhYmxlZCkge1xuXHRcdFx0XHRcdFx0cXVlcmllcy5wdXNoKFskLmlzRnVuY3Rpb24oaW5zdC5vcHRpb25zLml0ZW1zKSA/IGluc3Qub3B0aW9ucy5pdGVtcy5jYWxsKGluc3QuZWxlbWVudCkgOiAkKGluc3Qub3B0aW9ucy5pdGVtcywgaW5zdC5lbGVtZW50KS5ub3QoXCIudWktc29ydGFibGUtaGVscGVyXCIpLm5vdChcIi51aS1zb3J0YWJsZS1wbGFjZWhvbGRlclwiKSwgaW5zdF0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHF1ZXJpZXMucHVzaChbJC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcykgPyB0aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCh0aGlzLmVsZW1lbnQsIG51bGwsIHsgb3B0aW9uczogdGhpcy5vcHRpb25zLCBpdGVtOiB0aGlzLmN1cnJlbnRJdGVtIH0pIDogJCh0aGlzLm9wdGlvbnMuaXRlbXMsIHRoaXMuZWxlbWVudCkubm90KFwiLnVpLXNvcnRhYmxlLWhlbHBlclwiKS5ub3QoXCIudWktc29ydGFibGUtcGxhY2Vob2xkZXJcIiksIHRoaXNdKTtcblxuXHRcdGZ1bmN0aW9uIGFkZEl0ZW1zKCkge1xuXHRcdFx0aXRlbXMucHVzaCggdGhpcyApO1xuXHRcdH1cblx0XHRmb3IgKGkgPSBxdWVyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXtcblx0XHRcdHF1ZXJpZXNbaV1bMF0uZWFjaCggYWRkSXRlbXMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gJChpdGVtcyk7XG5cblx0fSxcblxuXHRfcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXM6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGxpc3QgPSB0aGlzLmN1cnJlbnRJdGVtLmZpbmQoXCI6ZGF0YShcIiArIHRoaXMud2lkZ2V0TmFtZSArIFwiLWl0ZW0pXCIpO1xuXG5cdFx0dGhpcy5pdGVtcyA9ICQuZ3JlcCh0aGlzLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0Zm9yICh2YXIgaj0wOyBqIDwgbGlzdC5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRpZihsaXN0W2pdID09PSBpdGVtLml0ZW1bMF0pIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0pO1xuXG5cdH0sXG5cblx0X3JlZnJlc2hJdGVtczogZnVuY3Rpb24oZXZlbnQpIHtcblxuXHRcdHRoaXMuaXRlbXMgPSBbXTtcblx0XHR0aGlzLmNvbnRhaW5lcnMgPSBbdGhpc107XG5cblx0XHR2YXIgaSwgaiwgY3VyLCBpbnN0LCB0YXJnZXREYXRhLCBfcXVlcmllcywgaXRlbSwgcXVlcmllc0xlbmd0aCxcblx0XHRcdGl0ZW1zID0gdGhpcy5pdGVtcyxcblx0XHRcdHF1ZXJpZXMgPSBbWyQuaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMuaXRlbXMpID8gdGhpcy5vcHRpb25zLml0ZW1zLmNhbGwodGhpcy5lbGVtZW50WzBdLCBldmVudCwgeyBpdGVtOiB0aGlzLmN1cnJlbnRJdGVtIH0pIDogJCh0aGlzLm9wdGlvbnMuaXRlbXMsIHRoaXMuZWxlbWVudCksIHRoaXNdXSxcblx0XHRcdGNvbm5lY3RXaXRoID0gdGhpcy5fY29ubmVjdFdpdGgoKTtcblxuXHRcdGlmKGNvbm5lY3RXaXRoICYmIHRoaXMucmVhZHkpIHsgLy9TaG91bGRuJ3QgYmUgcnVuIHRoZSBmaXJzdCB0aW1lIHRocm91Z2ggZHVlIHRvIG1hc3NpdmUgc2xvdy1kb3duXG5cdFx0XHRmb3IgKGkgPSBjb25uZWN0V2l0aC5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7XG5cdFx0XHRcdGN1ciA9ICQoY29ubmVjdFdpdGhbaV0sIHRoaXMuZG9jdW1lbnRbMF0pO1xuXHRcdFx0XHRmb3IgKGogPSBjdXIubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pe1xuXHRcdFx0XHRcdGluc3QgPSAkLmRhdGEoY3VyW2pdLCB0aGlzLndpZGdldEZ1bGxOYW1lKTtcblx0XHRcdFx0XHRpZihpbnN0ICYmIGluc3QgIT09IHRoaXMgJiYgIWluc3Qub3B0aW9ucy5kaXNhYmxlZCkge1xuXHRcdFx0XHRcdFx0cXVlcmllcy5wdXNoKFskLmlzRnVuY3Rpb24oaW5zdC5vcHRpb25zLml0ZW1zKSA/IGluc3Qub3B0aW9ucy5pdGVtcy5jYWxsKGluc3QuZWxlbWVudFswXSwgZXZlbnQsIHsgaXRlbTogdGhpcy5jdXJyZW50SXRlbSB9KSA6ICQoaW5zdC5vcHRpb25zLml0ZW1zLCBpbnN0LmVsZW1lbnQpLCBpbnN0XSk7XG5cdFx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnMucHVzaChpbnN0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGkgPSBxdWVyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHR0YXJnZXREYXRhID0gcXVlcmllc1tpXVsxXTtcblx0XHRcdF9xdWVyaWVzID0gcXVlcmllc1tpXVswXTtcblxuXHRcdFx0Zm9yIChqPTAsIHF1ZXJpZXNMZW5ndGggPSBfcXVlcmllcy5sZW5ndGg7IGogPCBxdWVyaWVzTGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0aXRlbSA9ICQoX3F1ZXJpZXNbal0pO1xuXG5cdFx0XHRcdGl0ZW0uZGF0YSh0aGlzLndpZGdldE5hbWUgKyBcIi1pdGVtXCIsIHRhcmdldERhdGEpOyAvLyBEYXRhIGZvciB0YXJnZXQgY2hlY2tpbmcgKG1vdXNlIG1hbmFnZXIpXG5cblx0XHRcdFx0aXRlbXMucHVzaCh7XG5cdFx0XHRcdFx0aXRlbTogaXRlbSxcblx0XHRcdFx0XHRpbnN0YW5jZTogdGFyZ2V0RGF0YSxcblx0XHRcdFx0XHR3aWR0aDogMCwgaGVpZ2h0OiAwLFxuXHRcdFx0XHRcdGxlZnQ6IDAsIHRvcDogMFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0fSxcblxuXHRyZWZyZXNoUG9zaXRpb25zOiBmdW5jdGlvbihmYXN0KSB7XG5cblx0XHQvLyBEZXRlcm1pbmUgd2hldGhlciBpdGVtcyBhcmUgYmVpbmcgZGlzcGxheWVkIGhvcml6b250YWxseVxuXHRcdHRoaXMuZmxvYXRpbmcgPSB0aGlzLml0ZW1zLmxlbmd0aCA/XG5cdFx0XHR0aGlzLm9wdGlvbnMuYXhpcyA9PT0gXCJ4XCIgfHwgdGhpcy5faXNGbG9hdGluZyggdGhpcy5pdGVtc1sgMCBdLml0ZW0gKSA6XG5cdFx0XHRmYWxzZTtcblxuXHRcdC8vVGhpcyBoYXMgdG8gYmUgcmVkb25lIGJlY2F1c2UgZHVlIHRvIHRoZSBpdGVtIGJlaW5nIG1vdmVkIG91dC9pbnRvIHRoZSBvZmZzZXRQYXJlbnQsIHRoZSBvZmZzZXRQYXJlbnQncyBwb3NpdGlvbiB3aWxsIGNoYW5nZVxuXHRcdGlmKHRoaXMub2Zmc2V0UGFyZW50ICYmIHRoaXMuaGVscGVyKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5wYXJlbnQgPSB0aGlzLl9nZXRQYXJlbnRPZmZzZXQoKTtcblx0XHR9XG5cblx0XHR2YXIgaSwgaXRlbSwgdCwgcDtcblxuXHRcdGZvciAoaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pe1xuXHRcdFx0aXRlbSA9IHRoaXMuaXRlbXNbaV07XG5cblx0XHRcdC8vV2UgaWdub3JlIGNhbGN1bGF0aW5nIHBvc2l0aW9ucyBvZiBhbGwgY29ubmVjdGVkIGNvbnRhaW5lcnMgd2hlbiB3ZSdyZSBub3Qgb3ZlciB0aGVtXG5cdFx0XHRpZihpdGVtLmluc3RhbmNlICE9PSB0aGlzLmN1cnJlbnRDb250YWluZXIgJiYgdGhpcy5jdXJyZW50Q29udGFpbmVyICYmIGl0ZW0uaXRlbVswXSAhPT0gdGhpcy5jdXJyZW50SXRlbVswXSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0dCA9IHRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50ID8gJCh0aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudCwgaXRlbS5pdGVtKSA6IGl0ZW0uaXRlbTtcblxuXHRcdFx0aWYgKCFmYXN0KSB7XG5cdFx0XHRcdGl0ZW0ud2lkdGggPSB0Lm91dGVyV2lkdGgoKTtcblx0XHRcdFx0aXRlbS5oZWlnaHQgPSB0Lm91dGVySGVpZ2h0KCk7XG5cdFx0XHR9XG5cblx0XHRcdHAgPSB0Lm9mZnNldCgpO1xuXHRcdFx0aXRlbS5sZWZ0ID0gcC5sZWZ0O1xuXHRcdFx0aXRlbS50b3AgPSBwLnRvcDtcblx0XHR9XG5cblx0XHRpZih0aGlzLm9wdGlvbnMuY3VzdG9tICYmIHRoaXMub3B0aW9ucy5jdXN0b20ucmVmcmVzaENvbnRhaW5lcnMpIHtcblx0XHRcdHRoaXMub3B0aW9ucy5jdXN0b20ucmVmcmVzaENvbnRhaW5lcnMuY2FsbCh0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yIChpID0gdGhpcy5jb250YWluZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXtcblx0XHRcdFx0cCA9IHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm9mZnNldCgpO1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUubGVmdCA9IHAubGVmdDtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLnRvcCA9IHAudG9wO1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUud2lkdGggPSB0aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudC5vdXRlcldpZHRoKCk7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5oZWlnaHQgPSB0aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudC5vdXRlckhlaWdodCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9jcmVhdGVQbGFjZWhvbGRlcjogZnVuY3Rpb24odGhhdCkge1xuXHRcdHRoYXQgPSB0aGF0IHx8IHRoaXM7XG5cdFx0dmFyIGNsYXNzTmFtZSxcblx0XHRcdG8gPSB0aGF0Lm9wdGlvbnM7XG5cblx0XHRpZighby5wbGFjZWhvbGRlciB8fCBvLnBsYWNlaG9sZGVyLmNvbnN0cnVjdG9yID09PSBTdHJpbmcpIHtcblx0XHRcdGNsYXNzTmFtZSA9IG8ucGxhY2Vob2xkZXI7XG5cdFx0XHRvLnBsYWNlaG9sZGVyID0ge1xuXHRcdFx0XHRlbGVtZW50OiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdHZhciBub2RlTmFtZSA9IHRoYXQuY3VycmVudEl0ZW1bMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHRcdGVsZW1lbnQgPSAkKCBcIjxcIiArIG5vZGVOYW1lICsgXCI+XCIsIHRoYXQuZG9jdW1lbnRbMF0gKVxuXHRcdFx0XHRcdFx0XHQuYWRkQ2xhc3MoY2xhc3NOYW1lIHx8IHRoYXQuY3VycmVudEl0ZW1bMF0uY2xhc3NOYW1lK1wiIHVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyXCIpXG5cdFx0XHRcdFx0XHRcdC5yZW1vdmVDbGFzcyhcInVpLXNvcnRhYmxlLWhlbHBlclwiKTtcblxuXHRcdFx0XHRcdGlmICggbm9kZU5hbWUgPT09IFwidGJvZHlcIiApIHtcblx0XHRcdFx0XHRcdHRoYXQuX2NyZWF0ZVRyUGxhY2Vob2xkZXIoXG5cdFx0XHRcdFx0XHRcdHRoYXQuY3VycmVudEl0ZW0uZmluZCggXCJ0clwiICkuZXEoIDAgKSxcblx0XHRcdFx0XHRcdFx0JCggXCI8dHI+XCIsIHRoYXQuZG9jdW1lbnRbIDAgXSApLmFwcGVuZFRvKCBlbGVtZW50IClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwidHJcIiApIHtcblx0XHRcdFx0XHRcdHRoYXQuX2NyZWF0ZVRyUGxhY2Vob2xkZXIoIHRoYXQuY3VycmVudEl0ZW0sIGVsZW1lbnQgKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJpbWdcIiApIHtcblx0XHRcdFx0XHRcdGVsZW1lbnQuYXR0ciggXCJzcmNcIiwgdGhhdC5jdXJyZW50SXRlbS5hdHRyKCBcInNyY1wiICkgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICFjbGFzc05hbWUgKSB7XG5cdFx0XHRcdFx0XHRlbGVtZW50LmNzcyggXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gZWxlbWVudDtcblx0XHRcdFx0fSxcblx0XHRcdFx0dXBkYXRlOiBmdW5jdGlvbihjb250YWluZXIsIHApIHtcblxuXHRcdFx0XHRcdC8vIDEuIElmIGEgY2xhc3NOYW1lIGlzIHNldCBhcyAncGxhY2Vob2xkZXIgb3B0aW9uLCB3ZSBkb24ndCBmb3JjZSBzaXplcyAtIHRoZSBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgdGhhdFxuXHRcdFx0XHRcdC8vIDIuIFRoZSBvcHRpb24gJ2ZvcmNlUGxhY2Vob2xkZXJTaXplIGNhbiBiZSBlbmFibGVkIHRvIGZvcmNlIGl0IGV2ZW4gaWYgYSBjbGFzcyBuYW1lIGlzIHNwZWNpZmllZFxuXHRcdFx0XHRcdGlmKGNsYXNzTmFtZSAmJiAhby5mb3JjZVBsYWNlaG9sZGVyU2l6ZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vSWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGEgYWN0dWFsIGhlaWdodCBieSBpdHNlbGYgKHdpdGhvdXQgc3R5bGVzIGNvbWluZyBmcm9tIGEgc3R5bGVzaGVldCksIGl0IHJlY2VpdmVzIHRoZSBpbmxpbmUgaGVpZ2h0IGZyb20gdGhlIGRyYWdnZWQgaXRlbVxuXHRcdFx0XHRcdGlmKCFwLmhlaWdodCgpKSB7IHAuaGVpZ2h0KHRoYXQuY3VycmVudEl0ZW0uaW5uZXJIZWlnaHQoKSAtIHBhcnNlSW50KHRoYXQuY3VycmVudEl0ZW0uY3NzKFwicGFkZGluZ1RvcFwiKXx8MCwgMTApIC0gcGFyc2VJbnQodGhhdC5jdXJyZW50SXRlbS5jc3MoXCJwYWRkaW5nQm90dG9tXCIpfHwwLCAxMCkpOyB9XG5cdFx0XHRcdFx0aWYoIXAud2lkdGgoKSkgeyBwLndpZHRoKHRoYXQuY3VycmVudEl0ZW0uaW5uZXJXaWR0aCgpIC0gcGFyc2VJbnQodGhhdC5jdXJyZW50SXRlbS5jc3MoXCJwYWRkaW5nTGVmdFwiKXx8MCwgMTApIC0gcGFyc2VJbnQodGhhdC5jdXJyZW50SXRlbS5jc3MoXCJwYWRkaW5nUmlnaHRcIil8fDAsIDEwKSk7IH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvL0NyZWF0ZSB0aGUgcGxhY2Vob2xkZXJcblx0XHR0aGF0LnBsYWNlaG9sZGVyID0gJChvLnBsYWNlaG9sZGVyLmVsZW1lbnQuY2FsbCh0aGF0LmVsZW1lbnQsIHRoYXQuY3VycmVudEl0ZW0pKTtcblxuXHRcdC8vQXBwZW5kIGl0IGFmdGVyIHRoZSBhY3R1YWwgY3VycmVudCBpdGVtXG5cdFx0dGhhdC5jdXJyZW50SXRlbS5hZnRlcih0aGF0LnBsYWNlaG9sZGVyKTtcblxuXHRcdC8vVXBkYXRlIHRoZSBzaXplIG9mIHRoZSBwbGFjZWhvbGRlciAoVE9ETzogTG9naWMgdG8gZnV6enksIHNlZSBsaW5lIDMxNi8zMTcpXG5cdFx0by5wbGFjZWhvbGRlci51cGRhdGUodGhhdCwgdGhhdC5wbGFjZWhvbGRlcik7XG5cblx0fSxcblxuXHRfY3JlYXRlVHJQbGFjZWhvbGRlcjogZnVuY3Rpb24oIHNvdXJjZVRyLCB0YXJnZXRUciApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHRzb3VyY2VUci5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCBcIjx0ZD4mIzE2MDs8L3RkPlwiLCB0aGF0LmRvY3VtZW50WyAwIF0gKVxuXHRcdFx0XHQuYXR0ciggXCJjb2xzcGFuXCIsICQoIHRoaXMgKS5hdHRyKCBcImNvbHNwYW5cIiApIHx8IDEgKVxuXHRcdFx0XHQuYXBwZW5kVG8oIHRhcmdldFRyICk7XG5cdFx0fSk7XG5cdH0sXG5cblx0X2NvbnRhY3RDb250YWluZXJzOiBmdW5jdGlvbihldmVudCkge1xuXHRcdHZhciBpLCBqLCBkaXN0LCBpdGVtV2l0aExlYXN0RGlzdGFuY2UsIHBvc1Byb3BlcnR5LCBzaXplUHJvcGVydHksIGN1ciwgbmVhckJvdHRvbSwgZmxvYXRpbmcsIGF4aXMsXG5cdFx0XHRpbm5lcm1vc3RDb250YWluZXIgPSBudWxsLFxuXHRcdFx0aW5uZXJtb3N0SW5kZXggPSBudWxsO1xuXG5cdFx0Ly8gZ2V0IGlubmVybW9zdCBjb250YWluZXIgdGhhdCBpbnRlcnNlY3RzIHdpdGggaXRlbVxuXHRcdGZvciAoaSA9IHRoaXMuY29udGFpbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXG5cdFx0XHQvLyBuZXZlciBjb25zaWRlciBhIGNvbnRhaW5lciB0aGF0J3MgbG9jYXRlZCB3aXRoaW4gdGhlIGl0ZW0gaXRzZWxmXG5cdFx0XHRpZigkLmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sIHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdKSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYodGhpcy5faW50ZXJzZWN0c1dpdGgodGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlKSkge1xuXG5cdFx0XHRcdC8vIGlmIHdlJ3ZlIGFscmVhZHkgZm91bmQgYSBjb250YWluZXIgYW5kIGl0J3MgbW9yZSBcImlubmVyXCIgdGhhbiB0aGlzLCB0aGVuIGNvbnRpbnVlXG5cdFx0XHRcdGlmKGlubmVybW9zdENvbnRhaW5lciAmJiAkLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdLCBpbm5lcm1vc3RDb250YWluZXIuZWxlbWVudFswXSkpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlubmVybW9zdENvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyc1tpXTtcblx0XHRcdFx0aW5uZXJtb3N0SW5kZXggPSBpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBjb250YWluZXIgZG9lc24ndCBpbnRlcnNlY3QuIHRyaWdnZXIgXCJvdXRcIiBldmVudCBpZiBuZWNlc3Nhcnlcblx0XHRcdFx0aWYodGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXIpIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoXCJvdXRcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCh0aGlzKSk7XG5cdFx0XHRcdFx0dGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXIgPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHQvLyBpZiBubyBpbnRlcnNlY3RpbmcgY29udGFpbmVycyBmb3VuZCwgcmV0dXJuXG5cdFx0aWYoIWlubmVybW9zdENvbnRhaW5lcikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIG1vdmUgdGhlIGl0ZW0gaW50byB0aGUgY29udGFpbmVyIGlmIGl0J3Mgbm90IHRoZXJlIGFscmVhZHlcblx0XHRpZih0aGlzLmNvbnRhaW5lcnMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRpZiAoIXRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0uY29udGFpbmVyQ2FjaGUub3Zlcikge1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaW5uZXJtb3N0SW5kZXhdLl90cmlnZ2VyKFwib3ZlclwiLCBldmVudCwgdGhpcy5fdWlIYXNoKHRoaXMpKTtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzW2lubmVybW9zdEluZGV4XS5jb250YWluZXJDYWNoZS5vdmVyID0gMTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvL1doZW4gZW50ZXJpbmcgYSBuZXcgY29udGFpbmVyLCB3ZSB3aWxsIGZpbmQgdGhlIGl0ZW0gd2l0aCB0aGUgbGVhc3QgZGlzdGFuY2UgYW5kIGFwcGVuZCBvdXIgaXRlbSBuZWFyIGl0XG5cdFx0XHRkaXN0ID0gMTAwMDA7XG5cdFx0XHRpdGVtV2l0aExlYXN0RGlzdGFuY2UgPSBudWxsO1xuXHRcdFx0ZmxvYXRpbmcgPSBpbm5lcm1vc3RDb250YWluZXIuZmxvYXRpbmcgfHwgdGhpcy5faXNGbG9hdGluZyh0aGlzLmN1cnJlbnRJdGVtKTtcblx0XHRcdHBvc1Byb3BlcnR5ID0gZmxvYXRpbmcgPyBcImxlZnRcIiA6IFwidG9wXCI7XG5cdFx0XHRzaXplUHJvcGVydHkgPSBmbG9hdGluZyA/IFwid2lkdGhcIiA6IFwiaGVpZ2h0XCI7XG5cdFx0XHRheGlzID0gZmxvYXRpbmcgPyBcImNsaWVudFhcIiA6IFwiY2xpZW50WVwiO1xuXG5cdFx0XHRmb3IgKGogPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG5cdFx0XHRcdGlmKCEkLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0uZWxlbWVudFswXSwgdGhpcy5pdGVtc1tqXS5pdGVtWzBdKSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKHRoaXMuaXRlbXNbal0uaXRlbVswXSA9PT0gdGhpcy5jdXJyZW50SXRlbVswXSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y3VyID0gdGhpcy5pdGVtc1tqXS5pdGVtLm9mZnNldCgpW3Bvc1Byb3BlcnR5XTtcblx0XHRcdFx0bmVhckJvdHRvbSA9IGZhbHNlO1xuXHRcdFx0XHRpZiAoIGV2ZW50WyBheGlzIF0gLSBjdXIgPiB0aGlzLml0ZW1zWyBqIF1bIHNpemVQcm9wZXJ0eSBdIC8gMiApIHtcblx0XHRcdFx0XHRuZWFyQm90dG9tID0gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggTWF0aC5hYnMoIGV2ZW50WyBheGlzIF0gLSBjdXIgKSA8IGRpc3QgKSB7XG5cdFx0XHRcdFx0ZGlzdCA9IE1hdGguYWJzKCBldmVudFsgYXhpcyBdIC0gY3VyICk7XG5cdFx0XHRcdFx0aXRlbVdpdGhMZWFzdERpc3RhbmNlID0gdGhpcy5pdGVtc1sgaiBdO1xuXHRcdFx0XHRcdHRoaXMuZGlyZWN0aW9uID0gbmVhckJvdHRvbSA/IFwidXBcIjogXCJkb3duXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly9DaGVjayBpZiBkcm9wT25FbXB0eSBpcyBlbmFibGVkXG5cdFx0XHRpZighaXRlbVdpdGhMZWFzdERpc3RhbmNlICYmICF0aGlzLm9wdGlvbnMuZHJvcE9uRW1wdHkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZih0aGlzLmN1cnJlbnRDb250YWluZXIgPT09IHRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0pIHtcblx0XHRcdFx0aWYgKCAhdGhpcy5jdXJyZW50Q29udGFpbmVyLmNvbnRhaW5lckNhY2hlLm92ZXIgKSB7XG5cdFx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpbm5lcm1vc3RJbmRleCBdLl90cmlnZ2VyKCBcIm92ZXJcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpICk7XG5cdFx0XHRcdFx0dGhpcy5jdXJyZW50Q29udGFpbmVyLmNvbnRhaW5lckNhY2hlLm92ZXIgPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aXRlbVdpdGhMZWFzdERpc3RhbmNlID8gdGhpcy5fcmVhcnJhbmdlKGV2ZW50LCBpdGVtV2l0aExlYXN0RGlzdGFuY2UsIG51bGwsIHRydWUpIDogdGhpcy5fcmVhcnJhbmdlKGV2ZW50LCBudWxsLCB0aGlzLmNvbnRhaW5lcnNbaW5uZXJtb3N0SW5kZXhdLmVsZW1lbnQsIHRydWUpO1xuXHRcdFx0dGhpcy5fdHJpZ2dlcihcImNoYW5nZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkpO1xuXHRcdFx0dGhpcy5jb250YWluZXJzW2lubmVybW9zdEluZGV4XS5fdHJpZ2dlcihcImNoYW5nZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKHRoaXMpKTtcblx0XHRcdHRoaXMuY3VycmVudENvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF07XG5cblx0XHRcdC8vVXBkYXRlIHRoZSBwbGFjZWhvbGRlclxuXHRcdFx0dGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyLnVwZGF0ZSh0aGlzLmN1cnJlbnRDb250YWluZXIsIHRoaXMucGxhY2Vob2xkZXIpO1xuXG5cdFx0XHR0aGlzLmNvbnRhaW5lcnNbaW5uZXJtb3N0SW5kZXhdLl90cmlnZ2VyKFwib3ZlclwiLCBldmVudCwgdGhpcy5fdWlIYXNoKHRoaXMpKTtcblx0XHRcdHRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0uY29udGFpbmVyQ2FjaGUub3ZlciA9IDE7XG5cdFx0fVxuXG5cblx0fSxcblxuXHRfY3JlYXRlSGVscGVyOiBmdW5jdGlvbihldmVudCkge1xuXG5cdFx0dmFyIG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRoZWxwZXIgPSAkLmlzRnVuY3Rpb24oby5oZWxwZXIpID8gJChvLmhlbHBlci5hcHBseSh0aGlzLmVsZW1lbnRbMF0sIFtldmVudCwgdGhpcy5jdXJyZW50SXRlbV0pKSA6IChvLmhlbHBlciA9PT0gXCJjbG9uZVwiID8gdGhpcy5jdXJyZW50SXRlbS5jbG9uZSgpIDogdGhpcy5jdXJyZW50SXRlbSk7XG5cblx0XHQvL0FkZCB0aGUgaGVscGVyIHRvIHRoZSBET00gaWYgdGhhdCBkaWRuJ3QgaGFwcGVuIGFscmVhZHlcblx0XHRpZighaGVscGVyLnBhcmVudHMoXCJib2R5XCIpLmxlbmd0aCkge1xuXHRcdFx0JChvLmFwcGVuZFRvICE9PSBcInBhcmVudFwiID8gby5hcHBlbmRUbyA6IHRoaXMuY3VycmVudEl0ZW1bMF0ucGFyZW50Tm9kZSlbMF0uYXBwZW5kQ2hpbGQoaGVscGVyWzBdKTtcblx0XHR9XG5cblx0XHRpZihoZWxwZXJbMF0gPT09IHRoaXMuY3VycmVudEl0ZW1bMF0pIHtcblx0XHRcdHRoaXMuX3N0b3JlZENTUyA9IHsgd2lkdGg6IHRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUud2lkdGgsIGhlaWdodDogdGhpcy5jdXJyZW50SXRlbVswXS5zdHlsZS5oZWlnaHQsIHBvc2l0aW9uOiB0aGlzLmN1cnJlbnRJdGVtLmNzcyhcInBvc2l0aW9uXCIpLCB0b3A6IHRoaXMuY3VycmVudEl0ZW0uY3NzKFwidG9wXCIpLCBsZWZ0OiB0aGlzLmN1cnJlbnRJdGVtLmNzcyhcImxlZnRcIikgfTtcblx0XHR9XG5cblx0XHRpZighaGVscGVyWzBdLnN0eWxlLndpZHRoIHx8IG8uZm9yY2VIZWxwZXJTaXplKSB7XG5cdFx0XHRoZWxwZXIud2lkdGgodGhpcy5jdXJyZW50SXRlbS53aWR0aCgpKTtcblx0XHR9XG5cdFx0aWYoIWhlbHBlclswXS5zdHlsZS5oZWlnaHQgfHwgby5mb3JjZUhlbHBlclNpemUpIHtcblx0XHRcdGhlbHBlci5oZWlnaHQodGhpcy5jdXJyZW50SXRlbS5oZWlnaHQoKSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhlbHBlcjtcblxuXHR9LFxuXG5cdF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOiBmdW5jdGlvbihvYmopIHtcblx0XHRpZiAodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0b2JqID0gb2JqLnNwbGl0KFwiIFwiKTtcblx0XHR9XG5cdFx0aWYgKCQuaXNBcnJheShvYmopKSB7XG5cdFx0XHRvYmogPSB7bGVmdDogK29ialswXSwgdG9wOiArb2JqWzFdIHx8IDB9O1xuXHRcdH1cblx0XHRpZiAoXCJsZWZ0XCIgaW4gb2JqKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5jbGljay5sZWZ0ID0gb2JqLmxlZnQgKyB0aGlzLm1hcmdpbnMubGVmdDtcblx0XHR9XG5cdFx0aWYgKFwicmlnaHRcIiBpbiBvYmopIHtcblx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPSB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC0gb2JqLnJpZ2h0ICsgdGhpcy5tYXJnaW5zLmxlZnQ7XG5cdFx0fVxuXHRcdGlmIChcInRvcFwiIGluIG9iaikge1xuXHRcdFx0dGhpcy5vZmZzZXQuY2xpY2sudG9wID0gb2JqLnRvcCArIHRoaXMubWFyZ2lucy50b3A7XG5cdFx0fVxuXHRcdGlmIChcImJvdHRvbVwiIGluIG9iaikge1xuXHRcdFx0dGhpcy5vZmZzZXQuY2xpY2sudG9wID0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLSBvYmouYm90dG9tICsgdGhpcy5tYXJnaW5zLnRvcDtcblx0XHR9XG5cdH0sXG5cblx0X2dldFBhcmVudE9mZnNldDogZnVuY3Rpb24oKSB7XG5cblxuXHRcdC8vR2V0IHRoZSBvZmZzZXRQYXJlbnQgYW5kIGNhY2hlIGl0cyBwb3NpdGlvblxuXHRcdHRoaXMub2Zmc2V0UGFyZW50ID0gdGhpcy5oZWxwZXIub2Zmc2V0UGFyZW50KCk7XG5cdFx0dmFyIHBvID0gdGhpcy5vZmZzZXRQYXJlbnQub2Zmc2V0KCk7XG5cblx0XHQvLyBUaGlzIGlzIGEgc3BlY2lhbCBjYXNlIHdoZXJlIHdlIG5lZWQgdG8gbW9kaWZ5IGEgb2Zmc2V0IGNhbGN1bGF0ZWQgb24gc3RhcnQsIHNpbmNlIHRoZSBmb2xsb3dpbmcgaGFwcGVuZWQ6XG5cdFx0Ly8gMS4gVGhlIHBvc2l0aW9uIG9mIHRoZSBoZWxwZXIgaXMgYWJzb2x1dGUsIHNvIGl0J3MgcG9zaXRpb24gaXMgY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGUgbmV4dCBwb3NpdGlvbmVkIHBhcmVudFxuXHRcdC8vIDIuIFRoZSBhY3R1YWwgb2Zmc2V0IHBhcmVudCBpcyBhIGNoaWxkIG9mIHRoZSBzY3JvbGwgcGFyZW50LCBhbmQgdGhlIHNjcm9sbCBwYXJlbnQgaXNuJ3QgdGhlIGRvY3VtZW50LCB3aGljaCBtZWFucyB0aGF0XG5cdFx0Ly8gICAgdGhlIHNjcm9sbCBpcyBpbmNsdWRlZCBpbiB0aGUgaW5pdGlhbCBjYWxjdWxhdGlvbiBvZiB0aGUgb2Zmc2V0IG9mIHRoZSBwYXJlbnQsIGFuZCBuZXZlciByZWNhbGN1bGF0ZWQgdXBvbiBkcmFnXG5cdFx0aWYodGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiICYmIHRoaXMuc2Nyb2xsUGFyZW50WzBdICE9PSB0aGlzLmRvY3VtZW50WzBdICYmICQuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sIHRoaXMub2Zmc2V0UGFyZW50WzBdKSkge1xuXHRcdFx0cG8ubGVmdCArPSB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk7XG5cdFx0XHRwby50b3AgKz0gdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk7XG5cdFx0fVxuXG5cdFx0Ly8gVGhpcyBuZWVkcyB0byBiZSBhY3R1YWxseSBkb25lIGZvciBhbGwgYnJvd3NlcnMsIHNpbmNlIHBhZ2VYL3BhZ2VZIGluY2x1ZGVzIHRoaXMgaW5mb3JtYXRpb25cblx0XHQvLyB3aXRoIGFuIHVnbHkgSUUgZml4XG5cdFx0aWYoIHRoaXMub2Zmc2V0UGFyZW50WzBdID09PSB0aGlzLmRvY3VtZW50WzBdLmJvZHkgfHwgKHRoaXMub2Zmc2V0UGFyZW50WzBdLnRhZ05hbWUgJiYgdGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImh0bWxcIiAmJiAkLnVpLmllKSkge1xuXHRcdFx0cG8gPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IHBvLnRvcCArIChwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoXCJib3JkZXJUb3BXaWR0aFwiKSwxMCkgfHwgMCksXG5cdFx0XHRsZWZ0OiBwby5sZWZ0ICsgKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcyhcImJvcmRlckxlZnRXaWR0aFwiKSwxMCkgfHwgMClcblx0XHR9O1xuXG5cdH0sXG5cblx0X2dldFJlbGF0aXZlT2Zmc2V0OiBmdW5jdGlvbigpIHtcblxuXHRcdGlmKHRoaXMuY3NzUG9zaXRpb24gPT09IFwicmVsYXRpdmVcIikge1xuXHRcdFx0dmFyIHAgPSB0aGlzLmN1cnJlbnRJdGVtLnBvc2l0aW9uKCk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0b3A6IHAudG9wIC0gKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcyhcInRvcFwiKSwxMCkgfHwgMCkgKyB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxcblx0XHRcdFx0bGVmdDogcC5sZWZ0IC0gKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcyhcImxlZnRcIiksMTApIHx8IDApICsgdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblx0XHR9XG5cblx0fSxcblxuXHRfY2FjaGVNYXJnaW5zOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLm1hcmdpbnMgPSB7XG5cdFx0XHRsZWZ0OiAocGFyc2VJbnQodGhpcy5jdXJyZW50SXRlbS5jc3MoXCJtYXJnaW5MZWZ0XCIpLDEwKSB8fCAwKSxcblx0XHRcdHRvcDogKHBhcnNlSW50KHRoaXMuY3VycmVudEl0ZW0uY3NzKFwibWFyZ2luVG9wXCIpLDEwKSB8fCAwKVxuXHRcdH07XG5cdH0sXG5cblx0X2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaGVscGVyUHJvcG9ydGlvbnMgPSB7XG5cdFx0XHR3aWR0aDogdGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLFxuXHRcdFx0aGVpZ2h0OiB0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpXG5cdFx0fTtcblx0fSxcblxuXHRfc2V0Q29udGFpbm1lbnQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGNlLCBjbywgb3Zlcixcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnM7XG5cdFx0aWYoby5jb250YWlubWVudCA9PT0gXCJwYXJlbnRcIikge1xuXHRcdFx0by5jb250YWlubWVudCA9IHRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGU7XG5cdFx0fVxuXHRcdGlmKG8uY29udGFpbm1lbnQgPT09IFwiZG9jdW1lbnRcIiB8fCBvLmNvbnRhaW5tZW50ID09PSBcIndpbmRvd1wiKSB7XG5cdFx0XHR0aGlzLmNvbnRhaW5tZW50ID0gW1xuXHRcdFx0XHQwIC0gdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCAtIHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LFxuXHRcdFx0XHQwIC0gdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wIC0gdGhpcy5vZmZzZXQucGFyZW50LnRvcCxcblx0XHRcdFx0by5jb250YWlubWVudCA9PT0gXCJkb2N1bWVudFwiID8gdGhpcy5kb2N1bWVudC53aWR0aCgpIDogdGhpcy53aW5kb3cud2lkdGgoKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSB0aGlzLm1hcmdpbnMubGVmdCxcblx0XHRcdFx0KG8uY29udGFpbm1lbnQgPT09IFwiZG9jdW1lbnRcIiA/IHRoaXMuZG9jdW1lbnQud2lkdGgoKSA6IHRoaXMud2luZG93LmhlaWdodCgpIHx8IHRoaXMuZG9jdW1lbnRbMF0uYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtIHRoaXMubWFyZ2lucy50b3Bcblx0XHRcdF07XG5cdFx0fVxuXG5cdFx0aWYoISgvXihkb2N1bWVudHx3aW5kb3d8cGFyZW50KSQvKS50ZXN0KG8uY29udGFpbm1lbnQpKSB7XG5cdFx0XHRjZSA9ICQoby5jb250YWlubWVudClbMF07XG5cdFx0XHRjbyA9ICQoby5jb250YWlubWVudCkub2Zmc2V0KCk7XG5cdFx0XHRvdmVyID0gKCQoY2UpLmNzcyhcIm92ZXJmbG93XCIpICE9PSBcImhpZGRlblwiKTtcblxuXHRcdFx0dGhpcy5jb250YWlubWVudCA9IFtcblx0XHRcdFx0Y28ubGVmdCArIChwYXJzZUludCgkKGNlKS5jc3MoXCJib3JkZXJMZWZ0V2lkdGhcIiksMTApIHx8IDApICsgKHBhcnNlSW50KCQoY2UpLmNzcyhcInBhZGRpbmdMZWZ0XCIpLDEwKSB8fCAwKSAtIHRoaXMubWFyZ2lucy5sZWZ0LFxuXHRcdFx0XHRjby50b3AgKyAocGFyc2VJbnQoJChjZSkuY3NzKFwiYm9yZGVyVG9wV2lkdGhcIiksMTApIHx8IDApICsgKHBhcnNlSW50KCQoY2UpLmNzcyhcInBhZGRpbmdUb3BcIiksMTApIHx8IDApIC0gdGhpcy5tYXJnaW5zLnRvcCxcblx0XHRcdFx0Y28ubGVmdCsob3ZlciA/IE1hdGgubWF4KGNlLnNjcm9sbFdpZHRoLGNlLm9mZnNldFdpZHRoKSA6IGNlLm9mZnNldFdpZHRoKSAtIChwYXJzZUludCgkKGNlKS5jc3MoXCJib3JkZXJMZWZ0V2lkdGhcIiksMTApIHx8IDApIC0gKHBhcnNlSW50KCQoY2UpLmNzcyhcInBhZGRpbmdSaWdodFwiKSwxMCkgfHwgMCkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC0gdGhpcy5tYXJnaW5zLmxlZnQsXG5cdFx0XHRcdGNvLnRvcCsob3ZlciA/IE1hdGgubWF4KGNlLnNjcm9sbEhlaWdodCxjZS5vZmZzZXRIZWlnaHQpIDogY2Uub2Zmc2V0SGVpZ2h0KSAtIChwYXJzZUludCgkKGNlKS5jc3MoXCJib3JkZXJUb3BXaWR0aFwiKSwxMCkgfHwgMCkgLSAocGFyc2VJbnQoJChjZSkuY3NzKFwicGFkZGluZ0JvdHRvbVwiKSwxMCkgfHwgMCkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtIHRoaXMubWFyZ2lucy50b3Bcblx0XHRcdF07XG5cdFx0fVxuXG5cdH0sXG5cblx0X2NvbnZlcnRQb3NpdGlvblRvOiBmdW5jdGlvbihkLCBwb3MpIHtcblxuXHRcdGlmKCFwb3MpIHtcblx0XHRcdHBvcyA9IHRoaXMucG9zaXRpb247XG5cdFx0fVxuXHRcdHZhciBtb2QgPSBkID09PSBcImFic29sdXRlXCIgPyAxIDogLTEsXG5cdFx0XHRzY3JvbGwgPSB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImFic29sdXRlXCIgJiYgISh0aGlzLnNjcm9sbFBhcmVudFswXSAhPT0gdGhpcy5kb2N1bWVudFswXSAmJiAkLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLCB0aGlzLm9mZnNldFBhcmVudFswXSkpID8gdGhpcy5vZmZzZXRQYXJlbnQgOiB0aGlzLnNjcm9sbFBhcmVudCxcblx0XHRcdHNjcm9sbElzUm9vdE5vZGUgPSAoLyhodG1sfGJvZHkpL2kpLnRlc3Qoc2Nyb2xsWzBdLnRhZ05hbWUpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogKFxuXHRcdFx0XHRwb3MudG9wXHQrXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0dGhpcy5vZmZzZXQucmVsYXRpdmUudG9wICogbW9kICtcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgZm9yIHJlbGF0aXZlIHBvc2l0aW9uZWQgbm9kZXM6IFJlbGF0aXZlIG9mZnNldCBmcm9tIGVsZW1lbnQgdG8gb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHR0aGlzLm9mZnNldC5wYXJlbnQudG9wICogbW9kIC1cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIG9mZnNldFBhcmVudCdzIG9mZnNldCB3aXRob3V0IGJvcmRlcnMgKG9mZnNldCArIGJvcmRlcilcblx0XHRcdFx0KCAoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwiZml4ZWRcIiA/IC10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSA6ICggc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiBzY3JvbGwuc2Nyb2xsVG9wKCkgKSApICogbW9kKVxuXHRcdFx0KSxcblx0XHRcdGxlZnQ6IChcblx0XHRcdFx0cG9zLmxlZnQgK1x0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQgKiBtb2QgK1x0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBub2RlczogUmVsYXRpdmUgb2Zmc2V0IGZyb20gZWxlbWVudCB0byBvZmZzZXQgcGFyZW50XG5cdFx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0ICogbW9kXHQtXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKVxuXHRcdFx0XHQoICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID8gLXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSA6IHNjcm9sbElzUm9vdE5vZGUgPyAwIDogc2Nyb2xsLnNjcm9sbExlZnQoKSApICogbW9kKVxuXHRcdFx0KVxuXHRcdH07XG5cblx0fSxcblxuXHRfZ2VuZXJhdGVQb3NpdGlvbjogZnVuY3Rpb24oZXZlbnQpIHtcblxuXHRcdHZhciB0b3AsIGxlZnQsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0cGFnZVggPSBldmVudC5wYWdlWCxcblx0XHRcdHBhZ2VZID0gZXZlbnQucGFnZVksXG5cdFx0XHRzY3JvbGwgPSB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImFic29sdXRlXCIgJiYgISh0aGlzLnNjcm9sbFBhcmVudFswXSAhPT0gdGhpcy5kb2N1bWVudFswXSAmJiAkLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLCB0aGlzLm9mZnNldFBhcmVudFswXSkpID8gdGhpcy5vZmZzZXRQYXJlbnQgOiB0aGlzLnNjcm9sbFBhcmVudCwgc2Nyb2xsSXNSb290Tm9kZSA9ICgvKGh0bWx8Ym9keSkvaSkudGVzdChzY3JvbGxbMF0udGFnTmFtZSk7XG5cblx0XHQvLyBUaGlzIGlzIGFub3RoZXIgdmVyeSB3ZWlyZCBzcGVjaWFsIGNhc2UgdGhhdCBvbmx5IGhhcHBlbnMgZm9yIHJlbGF0aXZlIGVsZW1lbnRzOlxuXHRcdC8vIDEuIElmIHRoZSBjc3MgcG9zaXRpb24gaXMgcmVsYXRpdmVcblx0XHQvLyAyLiBhbmQgdGhlIHNjcm9sbCBwYXJlbnQgaXMgdGhlIGRvY3VtZW50IG9yIHNpbWlsYXIgdG8gdGhlIG9mZnNldCBwYXJlbnRcblx0XHQvLyB3ZSBoYXZlIHRvIHJlZnJlc2ggdGhlIHJlbGF0aXZlIG9mZnNldCBkdXJpbmcgdGhlIHNjcm9sbCBzbyB0aGVyZSBhcmUgbm8ganVtcHNcblx0XHRpZih0aGlzLmNzc1Bvc2l0aW9uID09PSBcInJlbGF0aXZlXCIgJiYgISh0aGlzLnNjcm9sbFBhcmVudFswXSAhPT0gdGhpcy5kb2N1bWVudFswXSAmJiB0aGlzLnNjcm9sbFBhcmVudFswXSAhPT0gdGhpcy5vZmZzZXRQYXJlbnRbMF0pKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5yZWxhdGl2ZSA9IHRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCk7XG5cdFx0fVxuXG5cdFx0Lypcblx0XHQgKiAtIFBvc2l0aW9uIGNvbnN0cmFpbmluZyAtXG5cdFx0ICogQ29uc3RyYWluIHRoZSBwb3NpdGlvbiB0byBhIG1peCBvZiBncmlkLCBjb250YWlubWVudC5cblx0XHQgKi9cblxuXHRcdGlmKHRoaXMub3JpZ2luYWxQb3NpdGlvbikgeyAvL0lmIHdlIGFyZSBub3QgZHJhZ2dpbmcgeWV0LCB3ZSB3b24ndCBjaGVjayBmb3Igb3B0aW9uc1xuXG5cdFx0XHRpZih0aGlzLmNvbnRhaW5tZW50KSB7XG5cdFx0XHRcdGlmKGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA8IHRoaXMuY29udGFpbm1lbnRbMF0pIHtcblx0XHRcdFx0XHRwYWdlWCA9IHRoaXMuY29udGFpbm1lbnRbMF0gKyB0aGlzLm9mZnNldC5jbGljay5sZWZ0O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKGV2ZW50LnBhZ2VZIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wIDwgdGhpcy5jb250YWlubWVudFsxXSkge1xuXHRcdFx0XHRcdHBhZ2VZID0gdGhpcy5jb250YWlubWVudFsxXSArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZihldmVudC5wYWdlWCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPiB0aGlzLmNvbnRhaW5tZW50WzJdKSB7XG5cdFx0XHRcdFx0cGFnZVggPSB0aGlzLmNvbnRhaW5tZW50WzJdICsgdGhpcy5vZmZzZXQuY2xpY2subGVmdDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZihldmVudC5wYWdlWSAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+IHRoaXMuY29udGFpbm1lbnRbM10pIHtcblx0XHRcdFx0XHRwYWdlWSA9IHRoaXMuY29udGFpbm1lbnRbM10gKyB0aGlzLm9mZnNldC5jbGljay50b3A7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYoby5ncmlkKSB7XG5cdFx0XHRcdHRvcCA9IHRoaXMub3JpZ2luYWxQYWdlWSArIE1hdGgucm91bmQoKHBhZ2VZIC0gdGhpcy5vcmlnaW5hbFBhZ2VZKSAvIG8uZ3JpZFsxXSkgKiBvLmdyaWRbMV07XG5cdFx0XHRcdHBhZ2VZID0gdGhpcy5jb250YWlubWVudCA/ICggKHRvcCAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+PSB0aGlzLmNvbnRhaW5tZW50WzFdICYmIHRvcCAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA8PSB0aGlzLmNvbnRhaW5tZW50WzNdKSA/IHRvcCA6ICgodG9wIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wID49IHRoaXMuY29udGFpbm1lbnRbMV0pID8gdG9wIC0gby5ncmlkWzFdIDogdG9wICsgby5ncmlkWzFdKSkgOiB0b3A7XG5cblx0XHRcdFx0bGVmdCA9IHRoaXMub3JpZ2luYWxQYWdlWCArIE1hdGgucm91bmQoKHBhZ2VYIC0gdGhpcy5vcmlnaW5hbFBhZ2VYKSAvIG8uZ3JpZFswXSkgKiBvLmdyaWRbMF07XG5cdFx0XHRcdHBhZ2VYID0gdGhpcy5jb250YWlubWVudCA/ICggKGxlZnQgLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0ID49IHRoaXMuY29udGFpbm1lbnRbMF0gJiYgbGVmdCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPD0gdGhpcy5jb250YWlubWVudFsyXSkgPyBsZWZ0IDogKChsZWZ0IC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+PSB0aGlzLmNvbnRhaW5tZW50WzBdKSA/IGxlZnQgLSBvLmdyaWRbMF0gOiBsZWZ0ICsgby5ncmlkWzBdKSkgOiBsZWZ0O1xuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogKFxuXHRcdFx0XHRwYWdlWSAtXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0dGhpcy5vZmZzZXQuY2xpY2sudG9wIC1cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIENsaWNrIG9mZnNldCAocmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcFx0LVx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIG5vZGVzOiBSZWxhdGl2ZSBvZmZzZXQgZnJvbSBlbGVtZW50IHRvIG9mZnNldCBwYXJlbnRcblx0XHRcdFx0dGhpcy5vZmZzZXQucGFyZW50LnRvcCArXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIG9mZnNldFBhcmVudCdzIG9mZnNldCB3aXRob3V0IGJvcmRlcnMgKG9mZnNldCArIGJvcmRlcilcblx0XHRcdFx0KCAoIHRoaXMuY3NzUG9zaXRpb24gPT09IFwiZml4ZWRcIiA/IC10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSA6ICggc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiBzY3JvbGwuc2Nyb2xsVG9wKCkgKSApKVxuXHRcdFx0KSxcblx0XHRcdGxlZnQ6IChcblx0XHRcdFx0cGFnZVggLVx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgLVx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIENsaWNrIG9mZnNldCAocmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnRcdC1cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBub2RlczogUmVsYXRpdmUgb2Zmc2V0IGZyb20gZWxlbWVudCB0byBvZmZzZXQgcGFyZW50XG5cdFx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0ICtcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKVxuXHRcdFx0XHQoICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID8gLXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSA6IHNjcm9sbElzUm9vdE5vZGUgPyAwIDogc2Nyb2xsLnNjcm9sbExlZnQoKSApKVxuXHRcdFx0KVxuXHRcdH07XG5cblx0fSxcblxuXHRfcmVhcnJhbmdlOiBmdW5jdGlvbihldmVudCwgaSwgYSwgaGFyZFJlZnJlc2gpIHtcblxuXHRcdGEgPyBhWzBdLmFwcGVuZENoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pIDogaS5pdGVtWzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMucGxhY2Vob2xkZXJbMF0sICh0aGlzLmRpcmVjdGlvbiA9PT0gXCJkb3duXCIgPyBpLml0ZW1bMF0gOiBpLml0ZW1bMF0ubmV4dFNpYmxpbmcpKTtcblxuXHRcdC8vVmFyaW91cyB0aGluZ3MgZG9uZSBoZXJlIHRvIGltcHJvdmUgdGhlIHBlcmZvcm1hbmNlOlxuXHRcdC8vIDEuIHdlIGNyZWF0ZSBhIHNldFRpbWVvdXQsIHRoYXQgY2FsbHMgcmVmcmVzaFBvc2l0aW9uc1xuXHRcdC8vIDIuIG9uIHRoZSBpbnN0YW5jZSwgd2UgaGF2ZSBhIGNvdW50ZXIgdmFyaWFibGUsIHRoYXQgZ2V0J3MgaGlnaGVyIGFmdGVyIGV2ZXJ5IGFwcGVuZFxuXHRcdC8vIDMuIG9uIHRoZSBsb2NhbCBzY29wZSwgd2UgY29weSB0aGUgY291bnRlciB2YXJpYWJsZSwgYW5kIGNoZWNrIGluIHRoZSB0aW1lb3V0LCBpZiBpdCdzIHN0aWxsIHRoZSBzYW1lXG5cdFx0Ly8gNC4gdGhpcyBsZXRzIG9ubHkgdGhlIGxhc3QgYWRkaXRpb24gdG8gdGhlIHRpbWVvdXQgc3RhY2sgdGhyb3VnaFxuXHRcdHRoaXMuY291bnRlciA9IHRoaXMuY291bnRlciA/ICsrdGhpcy5jb3VudGVyIDogMTtcblx0XHR2YXIgY291bnRlciA9IHRoaXMuY291bnRlcjtcblxuXHRcdHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYoY291bnRlciA9PT0gdGhpcy5jb3VudGVyKSB7XG5cdFx0XHRcdHRoaXMucmVmcmVzaFBvc2l0aW9ucyghaGFyZFJlZnJlc2gpOyAvL1ByZWNvbXB1dGUgYWZ0ZXIgZWFjaCBET00gaW5zZXJ0aW9uLCBOT1Qgb24gbW91c2Vtb3ZlXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0fSxcblxuXHRfY2xlYXI6IGZ1bmN0aW9uKGV2ZW50LCBub1Byb3BhZ2F0aW9uKSB7XG5cblx0XHR0aGlzLnJldmVydGluZyA9IGZhbHNlO1xuXHRcdC8vIFdlIGRlbGF5IGFsbCBldmVudHMgdGhhdCBoYXZlIHRvIGJlIHRyaWdnZXJlZCB0byBhZnRlciB0aGUgcG9pbnQgd2hlcmUgdGhlIHBsYWNlaG9sZGVyIGhhcyBiZWVuIHJlbW92ZWQgYW5kXG5cdFx0Ly8gZXZlcnl0aGluZyBlbHNlIG5vcm1hbGl6ZWQgYWdhaW5cblx0XHR2YXIgaSxcblx0XHRcdGRlbGF5ZWRUcmlnZ2VycyA9IFtdO1xuXG5cdFx0Ly8gV2UgZmlyc3QgaGF2ZSB0byB1cGRhdGUgdGhlIGRvbSBwb3NpdGlvbiBvZiB0aGUgYWN0dWFsIGN1cnJlbnRJdGVtXG5cdFx0Ly8gTm90ZTogZG9uJ3QgZG8gaXQgaWYgdGhlIGN1cnJlbnQgaXRlbSBpcyBhbHJlYWR5IHJlbW92ZWQgKGJ5IGEgdXNlciksIG9yIGl0IGdldHMgcmVhcHBlbmRlZCAoc2VlICM0MDg4KVxuXHRcdGlmKCF0aGlzLl9ub0ZpbmFsU29ydCAmJiB0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpLmxlbmd0aCkge1xuXHRcdFx0dGhpcy5wbGFjZWhvbGRlci5iZWZvcmUodGhpcy5jdXJyZW50SXRlbSk7XG5cdFx0fVxuXHRcdHRoaXMuX25vRmluYWxTb3J0ID0gbnVsbDtcblxuXHRcdGlmKHRoaXMuaGVscGVyWzBdID09PSB0aGlzLmN1cnJlbnRJdGVtWzBdKSB7XG5cdFx0XHRmb3IoaSBpbiB0aGlzLl9zdG9yZWRDU1MpIHtcblx0XHRcdFx0aWYodGhpcy5fc3RvcmVkQ1NTW2ldID09PSBcImF1dG9cIiB8fCB0aGlzLl9zdG9yZWRDU1NbaV0gPT09IFwic3RhdGljXCIpIHtcblx0XHRcdFx0XHR0aGlzLl9zdG9yZWRDU1NbaV0gPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmN1cnJlbnRJdGVtLmNzcyh0aGlzLl9zdG9yZWRDU1MpLnJlbW92ZUNsYXNzKFwidWktc29ydGFibGUtaGVscGVyXCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRJdGVtLnNob3coKTtcblx0XHR9XG5cblx0XHRpZih0aGlzLmZyb21PdXRzaWRlICYmICFub1Byb3BhZ2F0aW9uKSB7XG5cdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaChmdW5jdGlvbihldmVudCkgeyB0aGlzLl90cmlnZ2VyKFwicmVjZWl2ZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKHRoaXMuZnJvbU91dHNpZGUpKTsgfSk7XG5cdFx0fVxuXHRcdGlmKCh0aGlzLmZyb21PdXRzaWRlIHx8IHRoaXMuZG9tUG9zaXRpb24ucHJldiAhPT0gdGhpcy5jdXJyZW50SXRlbS5wcmV2KCkubm90KFwiLnVpLXNvcnRhYmxlLWhlbHBlclwiKVswXSB8fCB0aGlzLmRvbVBvc2l0aW9uLnBhcmVudCAhPT0gdGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVswXSkgJiYgIW5vUHJvcGFnYXRpb24pIHtcblx0XHRcdGRlbGF5ZWRUcmlnZ2Vycy5wdXNoKGZ1bmN0aW9uKGV2ZW50KSB7IHRoaXMuX3RyaWdnZXIoXCJ1cGRhdGVcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpKTsgfSk7IC8vVHJpZ2dlciB1cGRhdGUgY2FsbGJhY2sgaWYgdGhlIERPTSBwb3NpdGlvbiBoYXMgY2hhbmdlZFxuXHRcdH1cblxuXHRcdC8vIENoZWNrIGlmIHRoZSBpdGVtcyBDb250YWluZXIgaGFzIENoYW5nZWQgYW5kIHRyaWdnZXIgYXBwcm9wcmlhdGVcblx0XHQvLyBldmVudHMuXG5cdFx0aWYgKHRoaXMgIT09IHRoaXMuY3VycmVudENvbnRhaW5lcikge1xuXHRcdFx0aWYoIW5vUHJvcGFnYXRpb24pIHtcblx0XHRcdFx0ZGVsYXllZFRyaWdnZXJzLnB1c2goZnVuY3Rpb24oZXZlbnQpIHsgdGhpcy5fdHJpZ2dlcihcInJlbW92ZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkpOyB9KTtcblx0XHRcdFx0ZGVsYXllZFRyaWdnZXJzLnB1c2goKGZ1bmN0aW9uKGMpIHsgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7IGMuX3RyaWdnZXIoXCJyZWNlaXZlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2godGhpcykpOyB9OyAgfSkuY2FsbCh0aGlzLCB0aGlzLmN1cnJlbnRDb250YWluZXIpKTtcblx0XHRcdFx0ZGVsYXllZFRyaWdnZXJzLnB1c2goKGZ1bmN0aW9uKGMpIHsgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7IGMuX3RyaWdnZXIoXCJ1cGRhdGVcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCh0aGlzKSk7ICB9OyB9KS5jYWxsKHRoaXMsIHRoaXMuY3VycmVudENvbnRhaW5lcikpO1xuXHRcdFx0fVxuXHRcdH1cblxuXG5cdFx0Ly9Qb3N0IGV2ZW50cyB0byBjb250YWluZXJzXG5cdFx0ZnVuY3Rpb24gZGVsYXlFdmVudCggdHlwZSwgaW5zdGFuY2UsIGNvbnRhaW5lciApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGNvbnRhaW5lci5fdHJpZ2dlciggdHlwZSwgZXZlbnQsIGluc3RhbmNlLl91aUhhc2goIGluc3RhbmNlICkgKTtcblx0XHRcdH07XG5cdFx0fVxuXHRcdGZvciAoaSA9IHRoaXMuY29udGFpbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7XG5cdFx0XHRpZiAoIW5vUHJvcGFnYXRpb24pIHtcblx0XHRcdFx0ZGVsYXllZFRyaWdnZXJzLnB1c2goIGRlbGF5RXZlbnQoIFwiZGVhY3RpdmF0ZVwiLCB0aGlzLCB0aGlzLmNvbnRhaW5lcnNbIGkgXSApICk7XG5cdFx0XHR9XG5cdFx0XHRpZih0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcikge1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggZGVsYXlFdmVudCggXCJvdXRcIiwgdGhpcywgdGhpcy5jb250YWluZXJzWyBpIF0gKSApO1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3ZlciA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9EbyB3aGF0IHdhcyBvcmlnaW5hbGx5IGluIHBsdWdpbnNcblx0XHRpZiAoIHRoaXMuc3RvcmVkQ3Vyc29yICkge1xuXHRcdFx0dGhpcy5kb2N1bWVudC5maW5kKCBcImJvZHlcIiApLmNzcyggXCJjdXJzb3JcIiwgdGhpcy5zdG9yZWRDdXJzb3IgKTtcblx0XHRcdHRoaXMuc3RvcmVkU3R5bGVzaGVldC5yZW1vdmUoKTtcblx0XHR9XG5cdFx0aWYodGhpcy5fc3RvcmVkT3BhY2l0eSkge1xuXHRcdFx0dGhpcy5oZWxwZXIuY3NzKFwib3BhY2l0eVwiLCB0aGlzLl9zdG9yZWRPcGFjaXR5KTtcblx0XHR9XG5cdFx0aWYodGhpcy5fc3RvcmVkWkluZGV4KSB7XG5cdFx0XHR0aGlzLmhlbHBlci5jc3MoXCJ6SW5kZXhcIiwgdGhpcy5fc3RvcmVkWkluZGV4ID09PSBcImF1dG9cIiA/IFwiXCIgOiB0aGlzLl9zdG9yZWRaSW5kZXgpO1xuXHRcdH1cblxuXHRcdHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcblxuXHRcdGlmKCFub1Byb3BhZ2F0aW9uKSB7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKFwiYmVmb3JlU3RvcFwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkpO1xuXHRcdH1cblxuXHRcdC8vJCh0aGlzLnBsYWNlaG9sZGVyWzBdKS5yZW1vdmUoKTsgd291bGQgaGF2ZSBiZWVuIHRoZSBqUXVlcnkgd2F5IC0gdW5mb3J0dW5hdGVseSwgaXQgdW5iaW5kcyBBTEwgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIG5vZGUhXG5cdFx0dGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pO1xuXG5cdFx0aWYgKCAhdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsICkge1xuXHRcdFx0aWYgKCB0aGlzLmhlbHBlclsgMCBdICE9PSB0aGlzLmN1cnJlbnRJdGVtWyAwIF0gKSB7XG5cdFx0XHRcdHRoaXMuaGVscGVyLnJlbW92ZSgpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5oZWxwZXIgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmKCFub1Byb3BhZ2F0aW9uKSB7XG5cdFx0XHRmb3IgKGk9MDsgaSA8IGRlbGF5ZWRUcmlnZ2Vycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnNbaV0uY2FsbCh0aGlzLCBldmVudCk7XG5cdFx0XHR9IC8vVHJpZ2dlciBhbGwgZGVsYXllZCBldmVudHNcblx0XHRcdHRoaXMuX3RyaWdnZXIoXCJzdG9wXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5mcm9tT3V0c2lkZSA9IGZhbHNlO1xuXHRcdHJldHVybiAhdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsO1xuXG5cdH0sXG5cblx0X3RyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICgkLldpZGdldC5wcm90b3R5cGUuX3RyaWdnZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA9PT0gZmFsc2UpIHtcblx0XHRcdHRoaXMuY2FuY2VsKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF91aUhhc2g6IGZ1bmN0aW9uKF9pbnN0KSB7XG5cdFx0dmFyIGluc3QgPSBfaW5zdCB8fCB0aGlzO1xuXHRcdHJldHVybiB7XG5cdFx0XHRoZWxwZXI6IGluc3QuaGVscGVyLFxuXHRcdFx0cGxhY2Vob2xkZXI6IGluc3QucGxhY2Vob2xkZXIgfHwgJChbXSksXG5cdFx0XHRwb3NpdGlvbjogaW5zdC5wb3NpdGlvbixcblx0XHRcdG9yaWdpbmFsUG9zaXRpb246IGluc3Qub3JpZ2luYWxQb3NpdGlvbixcblx0XHRcdG9mZnNldDogaW5zdC5wb3NpdGlvbkFicyxcblx0XHRcdGl0ZW06IGluc3QuY3VycmVudEl0ZW0sXG5cdFx0XHRzZW5kZXI6IF9pbnN0ID8gX2luc3QuZWxlbWVudCA6IG51bGxcblx0XHR9O1xuXHR9XG5cbn0pO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFNwaW5uZXIgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zcGlubmVyL1xuICovXG5cblxuZnVuY3Rpb24gc3Bpbm5lcl9tb2RpZmllciggZm4gKSB7XG5cdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHR2YXIgcHJldmlvdXMgPSB0aGlzLmVsZW1lbnQudmFsKCk7XG5cdFx0Zm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdHRoaXMuX3JlZnJlc2goKTtcblx0XHRpZiAoIHByZXZpb3VzICE9PSB0aGlzLmVsZW1lbnQudmFsKCkgKSB7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImNoYW5nZVwiICk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgc3Bpbm5lciA9ICQud2lkZ2V0KCBcInVpLnNwaW5uZXJcIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTEuNFwiLFxuXHRkZWZhdWx0RWxlbWVudDogXCI8aW5wdXQ+XCIsXG5cdHdpZGdldEV2ZW50UHJlZml4OiBcInNwaW5cIixcblx0b3B0aW9uczoge1xuXHRcdGN1bHR1cmU6IG51bGwsXG5cdFx0aWNvbnM6IHtcblx0XHRcdGRvd246IFwidWktaWNvbi10cmlhbmdsZS0xLXNcIixcblx0XHRcdHVwOiBcInVpLWljb24tdHJpYW5nbGUtMS1uXCJcblx0XHR9LFxuXHRcdGluY3JlbWVudGFsOiB0cnVlLFxuXHRcdG1heDogbnVsbCxcblx0XHRtaW46IG51bGwsXG5cdFx0bnVtYmVyRm9ybWF0OiBudWxsLFxuXHRcdHBhZ2U6IDEwLFxuXHRcdHN0ZXA6IDEsXG5cblx0XHRjaGFuZ2U6IG51bGwsXG5cdFx0c3BpbjogbnVsbCxcblx0XHRzdGFydDogbnVsbCxcblx0XHRzdG9wOiBudWxsXG5cdH0sXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gaGFuZGxlIHN0cmluZyB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHBhcnNlZFxuXHRcdHRoaXMuX3NldE9wdGlvbiggXCJtYXhcIiwgdGhpcy5vcHRpb25zLm1heCApO1xuXHRcdHRoaXMuX3NldE9wdGlvbiggXCJtaW5cIiwgdGhpcy5vcHRpb25zLm1pbiApO1xuXHRcdHRoaXMuX3NldE9wdGlvbiggXCJzdGVwXCIsIHRoaXMub3B0aW9ucy5zdGVwICk7XG5cblx0XHQvLyBPbmx5IGZvcm1hdCBpZiB0aGVyZSBpcyBhIHZhbHVlLCBwcmV2ZW50cyB0aGUgZmllbGQgZnJvbSBiZWluZyBtYXJrZWRcblx0XHQvLyBhcyBpbnZhbGlkIGluIEZpcmVmb3gsIHNlZSAjOTU3My5cblx0XHRpZiAoIHRoaXMudmFsdWUoKSAhPT0gXCJcIiApIHtcblx0XHRcdC8vIEZvcm1hdCB0aGUgdmFsdWUsIGJ1dCBkb24ndCBjb25zdHJhaW4uXG5cdFx0XHR0aGlzLl92YWx1ZSggdGhpcy5lbGVtZW50LnZhbCgpLCB0cnVlICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fZHJhdygpO1xuXHRcdHRoaXMuX29uKCB0aGlzLl9ldmVudHMgKTtcblx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cblx0XHQvLyB0dXJuaW5nIG9mZiBhdXRvY29tcGxldGUgcHJldmVudHMgdGhlIGJyb3dzZXIgZnJvbSByZW1lbWJlcmluZyB0aGVcblx0XHQvLyB2YWx1ZSB3aGVuIG5hdmlnYXRpbmcgdGhyb3VnaCBoaXN0b3J5LCBzbyB3ZSByZS1lbmFibGUgYXV0b2NvbXBsZXRlXG5cdFx0Ly8gaWYgdGhlIHBhZ2UgaXMgdW5sb2FkZWQgYmVmb3JlIHRoZSB3aWRnZXQgaXMgZGVzdHJveWVkLiAjNzc5MFxuXHRcdHRoaXMuX29uKCB0aGlzLndpbmRvdywge1xuXHRcdFx0YmVmb3JldW5sb2FkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoIFwiYXV0b2NvbXBsZXRlXCIgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRfZ2V0Q3JlYXRlT3B0aW9uczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB7fSxcblx0XHRcdGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG5cblx0XHQkLmVhY2goIFsgXCJtaW5cIiwgXCJtYXhcIiwgXCJzdGVwXCIgXSwgZnVuY3Rpb24oIGksIG9wdGlvbiApIHtcblx0XHRcdHZhciB2YWx1ZSA9IGVsZW1lbnQuYXR0ciggb3B0aW9uICk7XG5cdFx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUubGVuZ3RoICkge1xuXHRcdFx0XHRvcHRpb25zWyBvcHRpb24gXSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIG9wdGlvbnM7XG5cdH0sXG5cblx0X2V2ZW50czoge1xuXHRcdGtleWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGlmICggdGhpcy5fc3RhcnQoIGV2ZW50ICkgJiYgdGhpcy5fa2V5ZG93biggZXZlbnQgKSApIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGtleXVwOiBcIl9zdG9wXCIsXG5cdFx0Zm9jdXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5wcmV2aW91cyA9IHRoaXMuZWxlbWVudC52YWwoKTtcblx0XHR9LFxuXHRcdGJsdXI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGlmICggdGhpcy5jYW5jZWxCbHVyICkge1xuXHRcdFx0XHRkZWxldGUgdGhpcy5jYW5jZWxCbHVyO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3N0b3AoKTtcblx0XHRcdHRoaXMuX3JlZnJlc2goKTtcblx0XHRcdGlmICggdGhpcy5wcmV2aW91cyAhPT0gdGhpcy5lbGVtZW50LnZhbCgpICkge1xuXHRcdFx0XHR0aGlzLl90cmlnZ2VyKCBcImNoYW5nZVwiLCBldmVudCApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0bW91c2V3aGVlbDogZnVuY3Rpb24oIGV2ZW50LCBkZWx0YSApIHtcblx0XHRcdGlmICggIWRlbHRhICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoICF0aGlzLnNwaW5uaW5nICYmICF0aGlzLl9zdGFydCggZXZlbnQgKSApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9zcGluKCAoZGVsdGEgPiAwID8gMSA6IC0xKSAqIHRoaXMub3B0aW9ucy5zdGVwLCBldmVudCApO1xuXHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLm1vdXNld2hlZWxUaW1lciApO1xuXHRcdFx0dGhpcy5tb3VzZXdoZWVsVGltZXIgPSB0aGlzLl9kZWxheShmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzLnNwaW5uaW5nICkge1xuXHRcdFx0XHRcdHRoaXMuX3N0b3AoIGV2ZW50ICk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIDEwMCApO1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR9LFxuXHRcdFwibW91c2Vkb3duIC51aS1zcGlubmVyLWJ1dHRvblwiOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgcHJldmlvdXM7XG5cblx0XHRcdC8vIFdlIG5ldmVyIHdhbnQgdGhlIGJ1dHRvbnMgdG8gaGF2ZSBmb2N1czsgd2hlbmV2ZXIgdGhlIHVzZXIgaXNcblx0XHRcdC8vIGludGVyYWN0aW5nIHdpdGggdGhlIHNwaW5uZXIsIHRoZSBmb2N1cyBzaG91bGQgYmUgb24gdGhlIGlucHV0LlxuXHRcdFx0Ly8gSWYgdGhlIGlucHV0IGlzIGZvY3VzZWQgdGhlbiB0aGlzLnByZXZpb3VzIGlzIHByb3Blcmx5IHNldCBmcm9tXG5cdFx0XHQvLyB3aGVuIHRoZSBpbnB1dCBmaXJzdCByZWNlaXZlZCBmb2N1cy4gSWYgdGhlIGlucHV0IGlzIG5vdCBmb2N1c2VkXG5cdFx0XHQvLyB0aGVuIHdlIG5lZWQgdG8gc2V0IHRoaXMucHJldmlvdXMgYmFzZWQgb24gdGhlIHZhbHVlIGJlZm9yZSBzcGlubmluZy5cblx0XHRcdHByZXZpb3VzID0gdGhpcy5lbGVtZW50WzBdID09PSB0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQgP1xuXHRcdFx0XHR0aGlzLnByZXZpb3VzIDogdGhpcy5lbGVtZW50LnZhbCgpO1xuXHRcdFx0ZnVuY3Rpb24gY2hlY2tGb2N1cygpIHtcblx0XHRcdFx0dmFyIGlzQWN0aXZlID0gdGhpcy5lbGVtZW50WzBdID09PSB0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQ7XG5cdFx0XHRcdGlmICggIWlzQWN0aXZlICkge1xuXHRcdFx0XHRcdHRoaXMuZWxlbWVudC5mb2N1cygpO1xuXHRcdFx0XHRcdHRoaXMucHJldmlvdXMgPSBwcmV2aW91cztcblx0XHRcdFx0XHQvLyBzdXBwb3J0OiBJRVxuXHRcdFx0XHRcdC8vIElFIHNldHMgZm9jdXMgYXN5bmNocm9ub3VzbHksIHNvIHdlIG5lZWQgdG8gY2hlY2sgaWYgZm9jdXNcblx0XHRcdFx0XHQvLyBtb3ZlZCBvZmYgb2YgdGhlIGlucHV0IGJlY2F1c2UgdGhlIHVzZXIgY2xpY2tlZCBvbiB0aGUgYnV0dG9uLlxuXHRcdFx0XHRcdHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dGhpcy5wcmV2aW91cyA9IHByZXZpb3VzO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIGVuc3VyZSBmb2N1cyBpcyBvbiAob3Igc3RheXMgb24pIHRoZSB0ZXh0IGZpZWxkXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Y2hlY2tGb2N1cy5jYWxsKCB0aGlzICk7XG5cblx0XHRcdC8vIHN1cHBvcnQ6IElFXG5cdFx0XHQvLyBJRSBkb2Vzbid0IHByZXZlbnQgbW92aW5nIGZvY3VzIGV2ZW4gd2l0aCBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHQvLyBzbyB3ZSBzZXQgYSBmbGFnIHRvIGtub3cgd2hlbiB3ZSBzaG91bGQgaWdub3JlIHRoZSBibHVyIGV2ZW50XG5cdFx0XHQvLyBhbmQgY2hlY2sgKGFnYWluKSBpZiBmb2N1cyBtb3ZlZCBvZmYgb2YgdGhlIGlucHV0LlxuXHRcdFx0dGhpcy5jYW5jZWxCbHVyID0gdHJ1ZTtcblx0XHRcdHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkZWxldGUgdGhpcy5jYW5jZWxCbHVyO1xuXHRcdFx0XHRjaGVja0ZvY3VzLmNhbGwoIHRoaXMgKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoIHRoaXMuX3N0YXJ0KCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9yZXBlYXQoIG51bGwsICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKS5oYXNDbGFzcyggXCJ1aS1zcGlubmVyLXVwXCIgKSA/IDEgOiAtMSwgZXZlbnQgKTtcblx0XHR9LFxuXHRcdFwibW91c2V1cCAudWktc3Bpbm5lci1idXR0b25cIjogXCJfc3RvcFwiLFxuXHRcdFwibW91c2VlbnRlciAudWktc3Bpbm5lci1idXR0b25cIjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0Ly8gYnV0dG9uIHdpbGwgYWRkIHVpLXN0YXRlLWFjdGl2ZSBpZiBtb3VzZSB3YXMgZG93biB3aGlsZSBtb3VzZWxlYXZlIGFuZCBrZXB0IGRvd25cblx0XHRcdGlmICggISQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKS5oYXNDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdGhpcy5fc3RhcnQoIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9yZXBlYXQoIG51bGwsICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKS5oYXNDbGFzcyggXCJ1aS1zcGlubmVyLXVwXCIgKSA/IDEgOiAtMSwgZXZlbnQgKTtcblx0XHR9LFxuXHRcdC8vIFRPRE86IGRvIHdlIHJlYWxseSB3YW50IHRvIGNvbnNpZGVyIHRoaXMgYSBzdG9wP1xuXHRcdC8vIHNob3VsZG4ndCB3ZSBqdXN0IHN0b3AgdGhlIHJlcGVhdGVyIGFuZCB3YWl0IHVudGlsIG1vdXNldXAgYmVmb3JlXG5cdFx0Ly8gd2UgdHJpZ2dlciB0aGUgc3RvcCBldmVudD9cblx0XHRcIm1vdXNlbGVhdmUgLnVpLXNwaW5uZXItYnV0dG9uXCI6IFwiX3N0b3BcIlxuXHR9LFxuXG5cdF9kcmF3OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdWlTcGlubmVyID0gdGhpcy51aVNwaW5uZXIgPSB0aGlzLmVsZW1lbnRcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1zcGlubmVyLWlucHV0XCIgKVxuXHRcdFx0LmF0dHIoIFwiYXV0b2NvbXBsZXRlXCIsIFwib2ZmXCIgKVxuXHRcdFx0LndyYXAoIHRoaXMuX3VpU3Bpbm5lckh0bWwoKSApXG5cdFx0XHQucGFyZW50KClcblx0XHRcdFx0Ly8gYWRkIGJ1dHRvbnNcblx0XHRcdFx0LmFwcGVuZCggdGhpcy5fYnV0dG9uSHRtbCgpICk7XG5cblx0XHR0aGlzLmVsZW1lbnQuYXR0ciggXCJyb2xlXCIsIFwic3BpbmJ1dHRvblwiICk7XG5cblx0XHQvLyBidXR0b24gYmluZGluZ3Ncblx0XHR0aGlzLmJ1dHRvbnMgPSB1aVNwaW5uZXIuZmluZCggXCIudWktc3Bpbm5lci1idXR0b25cIiApXG5cdFx0XHQuYXR0ciggXCJ0YWJJbmRleFwiLCAtMSApXG5cdFx0XHQuYnV0dG9uKClcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1jb3JuZXItYWxsXCIgKTtcblxuXHRcdC8vIElFIDYgZG9lc24ndCB1bmRlcnN0YW5kIGhlaWdodDogNTAlIGZvciB0aGUgYnV0dG9uc1xuXHRcdC8vIHVubGVzcyB0aGUgd3JhcHBlciBoYXMgYW4gZXhwbGljaXQgaGVpZ2h0XG5cdFx0aWYgKCB0aGlzLmJ1dHRvbnMuaGVpZ2h0KCkgPiBNYXRoLmNlaWwoIHVpU3Bpbm5lci5oZWlnaHQoKSAqIDAuNSApICYmXG5cdFx0XHRcdHVpU3Bpbm5lci5oZWlnaHQoKSA+IDAgKSB7XG5cdFx0XHR1aVNwaW5uZXIuaGVpZ2h0KCB1aVNwaW5uZXIuaGVpZ2h0KCkgKTtcblx0XHR9XG5cblx0XHQvLyBkaXNhYmxlIHNwaW5uZXIgaWYgZWxlbWVudCB3YXMgYWxyZWFkeSBkaXNhYmxlZFxuXHRcdGlmICggdGhpcy5vcHRpb25zLmRpc2FibGVkICkge1xuXHRcdFx0dGhpcy5kaXNhYmxlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9rZXlkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRrZXlDb2RlID0gJC51aS5rZXlDb2RlO1xuXG5cdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblx0XHRjYXNlIGtleUNvZGUuVVA6XG5cdFx0XHR0aGlzLl9yZXBlYXQoIG51bGwsIDEsIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRjYXNlIGtleUNvZGUuRE9XTjpcblx0XHRcdHRoaXMuX3JlcGVhdCggbnVsbCwgLTEsIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRjYXNlIGtleUNvZGUuUEFHRV9VUDpcblx0XHRcdHRoaXMuX3JlcGVhdCggbnVsbCwgb3B0aW9ucy5wYWdlLCBldmVudCApO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0Y2FzZSBrZXlDb2RlLlBBR0VfRE9XTjpcblx0XHRcdHRoaXMuX3JlcGVhdCggbnVsbCwgLW9wdGlvbnMucGFnZSwgZXZlbnQgKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfdWlTcGlubmVySHRtbDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFwiPHNwYW4gY2xhc3M9J3VpLXNwaW5uZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwnPjwvc3Bhbj5cIjtcblx0fSxcblxuXHRfYnV0dG9uSHRtbDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFwiXCIgK1xuXHRcdFx0XCI8YSBjbGFzcz0ndWktc3Bpbm5lci1idXR0b24gdWktc3Bpbm5lci11cCB1aS1jb3JuZXItdHInPlwiICtcblx0XHRcdFx0XCI8c3BhbiBjbGFzcz0ndWktaWNvbiBcIiArIHRoaXMub3B0aW9ucy5pY29ucy51cCArIFwiJz4mIzk2NTA7PC9zcGFuPlwiICtcblx0XHRcdFwiPC9hPlwiICtcblx0XHRcdFwiPGEgY2xhc3M9J3VpLXNwaW5uZXItYnV0dG9uIHVpLXNwaW5uZXItZG93biB1aS1jb3JuZXItYnInPlwiICtcblx0XHRcdFx0XCI8c3BhbiBjbGFzcz0ndWktaWNvbiBcIiArIHRoaXMub3B0aW9ucy5pY29ucy5kb3duICsgXCInPiYjOTY2MDs8L3NwYW4+XCIgK1xuXHRcdFx0XCI8L2E+XCI7XG5cdH0sXG5cblx0X3N0YXJ0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0aWYgKCAhdGhpcy5zcGlubmluZyAmJiB0aGlzLl90cmlnZ2VyKCBcInN0YXJ0XCIsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICggIXRoaXMuY291bnRlciApIHtcblx0XHRcdHRoaXMuY291bnRlciA9IDE7XG5cdFx0fVxuXHRcdHRoaXMuc3Bpbm5pbmcgPSB0cnVlO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdF9yZXBlYXQ6IGZ1bmN0aW9uKCBpLCBzdGVwcywgZXZlbnQgKSB7XG5cdFx0aSA9IGkgfHwgNTAwO1xuXG5cdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnRpbWVyICk7XG5cdFx0dGhpcy50aW1lciA9IHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5fcmVwZWF0KCA0MCwgc3RlcHMsIGV2ZW50ICk7XG5cdFx0fSwgaSApO1xuXG5cdFx0dGhpcy5fc3Bpbiggc3RlcHMgKiB0aGlzLm9wdGlvbnMuc3RlcCwgZXZlbnQgKTtcblx0fSxcblxuXHRfc3BpbjogZnVuY3Rpb24oIHN0ZXAsIGV2ZW50ICkge1xuXHRcdHZhciB2YWx1ZSA9IHRoaXMudmFsdWUoKSB8fCAwO1xuXG5cdFx0aWYgKCAhdGhpcy5jb3VudGVyICkge1xuXHRcdFx0dGhpcy5jb3VudGVyID0gMTtcblx0XHR9XG5cblx0XHR2YWx1ZSA9IHRoaXMuX2FkanVzdFZhbHVlKCB2YWx1ZSArIHN0ZXAgKiB0aGlzLl9pbmNyZW1lbnQoIHRoaXMuY291bnRlciApICk7XG5cblx0XHRpZiAoICF0aGlzLnNwaW5uaW5nIHx8IHRoaXMuX3RyaWdnZXIoIFwic3BpblwiLCBldmVudCwgeyB2YWx1ZTogdmFsdWUgfSApICE9PSBmYWxzZSkge1xuXHRcdFx0dGhpcy5fdmFsdWUoIHZhbHVlICk7XG5cdFx0XHR0aGlzLmNvdW50ZXIrKztcblx0XHR9XG5cdH0sXG5cblx0X2luY3JlbWVudDogZnVuY3Rpb24oIGkgKSB7XG5cdFx0dmFyIGluY3JlbWVudGFsID0gdGhpcy5vcHRpb25zLmluY3JlbWVudGFsO1xuXG5cdFx0aWYgKCBpbmNyZW1lbnRhbCApIHtcblx0XHRcdHJldHVybiAkLmlzRnVuY3Rpb24oIGluY3JlbWVudGFsICkgP1xuXHRcdFx0XHRpbmNyZW1lbnRhbCggaSApIDpcblx0XHRcdFx0TWF0aC5mbG9vciggaSAqIGkgKiBpIC8gNTAwMDAgLSBpICogaSAvIDUwMCArIDE3ICogaSAvIDIwMCArIDEgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gMTtcblx0fSxcblxuXHRfcHJlY2lzaW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgcHJlY2lzaW9uID0gdGhpcy5fcHJlY2lzaW9uT2YoIHRoaXMub3B0aW9ucy5zdGVwICk7XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMubWluICE9PSBudWxsICkge1xuXHRcdFx0cHJlY2lzaW9uID0gTWF0aC5tYXgoIHByZWNpc2lvbiwgdGhpcy5fcHJlY2lzaW9uT2YoIHRoaXMub3B0aW9ucy5taW4gKSApO1xuXHRcdH1cblx0XHRyZXR1cm4gcHJlY2lzaW9uO1xuXHR9LFxuXG5cdF9wcmVjaXNpb25PZjogZnVuY3Rpb24oIG51bSApIHtcblx0XHR2YXIgc3RyID0gbnVtLnRvU3RyaW5nKCksXG5cdFx0XHRkZWNpbWFsID0gc3RyLmluZGV4T2YoIFwiLlwiICk7XG5cdFx0cmV0dXJuIGRlY2ltYWwgPT09IC0xID8gMCA6IHN0ci5sZW5ndGggLSBkZWNpbWFsIC0gMTtcblx0fSxcblxuXHRfYWRqdXN0VmFsdWU6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgYmFzZSwgYWJvdmVNaW4sXG5cdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0Ly8gbWFrZSBzdXJlIHdlJ3JlIGF0IGEgdmFsaWQgc3RlcFxuXHRcdC8vIC0gZmluZCBvdXQgd2hlcmUgd2UgYXJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIChtaW4gb3IgMClcblx0XHRiYXNlID0gb3B0aW9ucy5taW4gIT09IG51bGwgPyBvcHRpb25zLm1pbiA6IDA7XG5cdFx0YWJvdmVNaW4gPSB2YWx1ZSAtIGJhc2U7XG5cdFx0Ly8gLSByb3VuZCB0byB0aGUgbmVhcmVzdCBzdGVwXG5cdFx0YWJvdmVNaW4gPSBNYXRoLnJvdW5kKGFib3ZlTWluIC8gb3B0aW9ucy5zdGVwKSAqIG9wdGlvbnMuc3RlcDtcblx0XHQvLyAtIHJvdW5kaW5nIGlzIGJhc2VkIG9uIDAsIHNvIGFkanVzdCBiYWNrIHRvIG91ciBiYXNlXG5cdFx0dmFsdWUgPSBiYXNlICsgYWJvdmVNaW47XG5cblx0XHQvLyBmaXggcHJlY2lzaW9uIGZyb20gYmFkIEpTIGZsb2F0aW5nIHBvaW50IG1hdGhcblx0XHR2YWx1ZSA9IHBhcnNlRmxvYXQoIHZhbHVlLnRvRml4ZWQoIHRoaXMuX3ByZWNpc2lvbigpICkgKTtcblxuXHRcdC8vIGNsYW1wIHRoZSB2YWx1ZVxuXHRcdGlmICggb3B0aW9ucy5tYXggIT09IG51bGwgJiYgdmFsdWUgPiBvcHRpb25zLm1heCkge1xuXHRcdFx0cmV0dXJuIG9wdGlvbnMubWF4O1xuXHRcdH1cblx0XHRpZiAoIG9wdGlvbnMubWluICE9PSBudWxsICYmIHZhbHVlIDwgb3B0aW9ucy5taW4gKSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucy5taW47XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9LFxuXG5cdF9zdG9wOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0aWYgKCAhdGhpcy5zcGlubmluZyApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjbGVhclRpbWVvdXQoIHRoaXMudGltZXIgKTtcblx0XHRjbGVhclRpbWVvdXQoIHRoaXMubW91c2V3aGVlbFRpbWVyICk7XG5cdFx0dGhpcy5jb3VudGVyID0gMDtcblx0XHR0aGlzLnNwaW5uaW5nID0gZmFsc2U7XG5cdFx0dGhpcy5fdHJpZ2dlciggXCJzdG9wXCIsIGV2ZW50ICk7XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0aWYgKCBrZXkgPT09IFwiY3VsdHVyZVwiIHx8IGtleSA9PT0gXCJudW1iZXJGb3JtYXRcIiApIHtcblx0XHRcdHZhciBwcmV2VmFsdWUgPSB0aGlzLl9wYXJzZSggdGhpcy5lbGVtZW50LnZhbCgpICk7XG5cdFx0XHR0aGlzLm9wdGlvbnNbIGtleSBdID0gdmFsdWU7XG5cdFx0XHR0aGlzLmVsZW1lbnQudmFsKCB0aGlzLl9mb3JtYXQoIHByZXZWYWx1ZSApICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwibWF4XCIgfHwga2V5ID09PSBcIm1pblwiIHx8IGtleSA9PT0gXCJzdGVwXCIgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0dmFsdWUgPSB0aGlzLl9wYXJzZSggdmFsdWUgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCBrZXkgPT09IFwiaWNvbnNcIiApIHtcblx0XHRcdHRoaXMuYnV0dG9ucy5maXJzdCgpLmZpbmQoIFwiLnVpLWljb25cIiApXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyggdGhpcy5vcHRpb25zLmljb25zLnVwIClcblx0XHRcdFx0LmFkZENsYXNzKCB2YWx1ZS51cCApO1xuXHRcdFx0dGhpcy5idXR0b25zLmxhc3QoKS5maW5kKCBcIi51aS1pY29uXCIgKVxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIHRoaXMub3B0aW9ucy5pY29ucy5kb3duIClcblx0XHRcdFx0LmFkZENsYXNzKCB2YWx1ZS5kb3duICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblxuXHRcdGlmICgga2V5ID09PSBcImRpc2FibGVkXCIgKSB7XG5cdFx0XHR0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIsICEhdmFsdWUgKTtcblx0XHRcdHRoaXMuZWxlbWVudC5wcm9wKCBcImRpc2FibGVkXCIsICEhdmFsdWUgKTtcblx0XHRcdHRoaXMuYnV0dG9ucy5idXR0b24oIHZhbHVlID8gXCJkaXNhYmxlXCIgOiBcImVuYWJsZVwiICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRPcHRpb25zOiBzcGlubmVyX21vZGlmaWVyKGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcdHRoaXMuX3N1cGVyKCBvcHRpb25zICk7XG5cdH0pLFxuXG5cdF9wYXJzZTogZnVuY3Rpb24oIHZhbCApIHtcblx0XHRpZiAoIHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgJiYgdmFsICE9PSBcIlwiICkge1xuXHRcdFx0dmFsID0gd2luZG93Lkdsb2JhbGl6ZSAmJiB0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0ID9cblx0XHRcdFx0R2xvYmFsaXplLnBhcnNlRmxvYXQoIHZhbCwgMTAsIHRoaXMub3B0aW9ucy5jdWx0dXJlICkgOiArdmFsO1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsID09PSBcIlwiIHx8IGlzTmFOKCB2YWwgKSA/IG51bGwgOiB2YWw7XG5cdH0sXG5cblx0X2Zvcm1hdDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdGlmICggdmFsdWUgPT09IFwiXCIgKSB7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cdFx0cmV0dXJuIHdpbmRvdy5HbG9iYWxpemUgJiYgdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdCA/XG5cdFx0XHRHbG9iYWxpemUuZm9ybWF0KCB2YWx1ZSwgdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdCwgdGhpcy5vcHRpb25zLmN1bHR1cmUgKSA6XG5cdFx0XHR2YWx1ZTtcblx0fSxcblxuXHRfcmVmcmVzaDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5lbGVtZW50LmF0dHIoe1xuXHRcdFx0XCJhcmlhLXZhbHVlbWluXCI6IHRoaXMub3B0aW9ucy5taW4sXG5cdFx0XHRcImFyaWEtdmFsdWVtYXhcIjogdGhpcy5vcHRpb25zLm1heCxcblx0XHRcdC8vIFRPRE86IHdoYXQgc2hvdWxkIHdlIGRvIHdpdGggdmFsdWVzIHRoYXQgY2FuJ3QgYmUgcGFyc2VkP1xuXHRcdFx0XCJhcmlhLXZhbHVlbm93XCI6IHRoaXMuX3BhcnNlKCB0aGlzLmVsZW1lbnQudmFsKCkgKVxuXHRcdH0pO1xuXHR9LFxuXG5cdGlzVmFsaWQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB2YWx1ZSA9IHRoaXMudmFsdWUoKTtcblxuXHRcdC8vIG51bGwgaXMgaW52YWxpZFxuXHRcdGlmICggdmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgdmFsdWUgZ2V0cyBhZGp1c3RlZCwgaXQncyBpbnZhbGlkXG5cdFx0cmV0dXJuIHZhbHVlID09PSB0aGlzLl9hZGp1c3RWYWx1ZSggdmFsdWUgKTtcblx0fSxcblxuXHQvLyB1cGRhdGUgdGhlIHZhbHVlIHdpdGhvdXQgdHJpZ2dlcmluZyBjaGFuZ2Vcblx0X3ZhbHVlOiBmdW5jdGlvbiggdmFsdWUsIGFsbG93QW55ICkge1xuXHRcdHZhciBwYXJzZWQ7XG5cdFx0aWYgKCB2YWx1ZSAhPT0gXCJcIiApIHtcblx0XHRcdHBhcnNlZCA9IHRoaXMuX3BhcnNlKCB2YWx1ZSApO1xuXHRcdFx0aWYgKCBwYXJzZWQgIT09IG51bGwgKSB7XG5cdFx0XHRcdGlmICggIWFsbG93QW55ICkge1xuXHRcdFx0XHRcdHBhcnNlZCA9IHRoaXMuX2FkanVzdFZhbHVlKCBwYXJzZWQgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YWx1ZSA9IHRoaXMuX2Zvcm1hdCggcGFyc2VkICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMuZWxlbWVudC52YWwoIHZhbHVlICk7XG5cdFx0dGhpcy5fcmVmcmVzaCgpO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1zcGlubmVyLWlucHV0XCIgKVxuXHRcdFx0LnByb3AoIFwiZGlzYWJsZWRcIiwgZmFsc2UgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXV0b2NvbXBsZXRlXCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwicm9sZVwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtdmFsdWVtaW5cIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLXZhbHVlbWF4XCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS12YWx1ZW5vd1wiICk7XG5cdFx0dGhpcy51aVNwaW5uZXIucmVwbGFjZVdpdGgoIHRoaXMuZWxlbWVudCApO1xuXHR9LFxuXG5cdHN0ZXBVcDogc3Bpbm5lcl9tb2RpZmllcihmdW5jdGlvbiggc3RlcHMgKSB7XG5cdFx0dGhpcy5fc3RlcFVwKCBzdGVwcyApO1xuXHR9KSxcblx0X3N0ZXBVcDogZnVuY3Rpb24oIHN0ZXBzICkge1xuXHRcdGlmICggdGhpcy5fc3RhcnQoKSApIHtcblx0XHRcdHRoaXMuX3NwaW4oIChzdGVwcyB8fCAxKSAqIHRoaXMub3B0aW9ucy5zdGVwICk7XG5cdFx0XHR0aGlzLl9zdG9wKCk7XG5cdFx0fVxuXHR9LFxuXG5cdHN0ZXBEb3duOiBzcGlubmVyX21vZGlmaWVyKGZ1bmN0aW9uKCBzdGVwcyApIHtcblx0XHR0aGlzLl9zdGVwRG93biggc3RlcHMgKTtcblx0fSksXG5cdF9zdGVwRG93bjogZnVuY3Rpb24oIHN0ZXBzICkge1xuXHRcdGlmICggdGhpcy5fc3RhcnQoKSApIHtcblx0XHRcdHRoaXMuX3NwaW4oIChzdGVwcyB8fCAxKSAqIC10aGlzLm9wdGlvbnMuc3RlcCApO1xuXHRcdFx0dGhpcy5fc3RvcCgpO1xuXHRcdH1cblx0fSxcblxuXHRwYWdlVXA6IHNwaW5uZXJfbW9kaWZpZXIoZnVuY3Rpb24oIHBhZ2VzICkge1xuXHRcdHRoaXMuX3N0ZXBVcCggKHBhZ2VzIHx8IDEpICogdGhpcy5vcHRpb25zLnBhZ2UgKTtcblx0fSksXG5cblx0cGFnZURvd246IHNwaW5uZXJfbW9kaWZpZXIoZnVuY3Rpb24oIHBhZ2VzICkge1xuXHRcdHRoaXMuX3N0ZXBEb3duKCAocGFnZXMgfHwgMSkgKiB0aGlzLm9wdGlvbnMucGFnZSApO1xuXHR9KSxcblxuXHR2YWx1ZTogZnVuY3Rpb24oIG5ld1ZhbCApIHtcblx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3BhcnNlKCB0aGlzLmVsZW1lbnQudmFsKCkgKTtcblx0XHR9XG5cdFx0c3Bpbm5lcl9tb2RpZmllciggdGhpcy5fdmFsdWUgKS5jYWxsKCB0aGlzLCBuZXdWYWwgKTtcblx0fSxcblxuXHR3aWRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnVpU3Bpbm5lcjtcblx0fVxufSk7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgVGFicyAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3RhYnMvXG4gKi9cblxuXG52YXIgdGFicyA9ICQud2lkZ2V0KCBcInVpLnRhYnNcIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTEuNFwiLFxuXHRkZWxheTogMzAwLFxuXHRvcHRpb25zOiB7XG5cdFx0YWN0aXZlOiBudWxsLFxuXHRcdGNvbGxhcHNpYmxlOiBmYWxzZSxcblx0XHRldmVudDogXCJjbGlja1wiLFxuXHRcdGhlaWdodFN0eWxlOiBcImNvbnRlbnRcIixcblx0XHRoaWRlOiBudWxsLFxuXHRcdHNob3c6IG51bGwsXG5cblx0XHQvLyBjYWxsYmFja3Ncblx0XHRhY3RpdmF0ZTogbnVsbCxcblx0XHRiZWZvcmVBY3RpdmF0ZTogbnVsbCxcblx0XHRiZWZvcmVMb2FkOiBudWxsLFxuXHRcdGxvYWQ6IG51bGxcblx0fSxcblxuXHRfaXNMb2NhbDogKGZ1bmN0aW9uKCkge1xuXHRcdHZhciByaGFzaCA9IC8jLiokLztcblxuXHRcdHJldHVybiBmdW5jdGlvbiggYW5jaG9yICkge1xuXHRcdFx0dmFyIGFuY2hvclVybCwgbG9jYXRpb25Vcmw7XG5cblx0XHRcdC8vIHN1cHBvcnQ6IElFN1xuXHRcdFx0Ly8gSUU3IGRvZXNuJ3Qgbm9ybWFsaXplIHRoZSBocmVmIHByb3BlcnR5IHdoZW4gc2V0IHZpYSBzY3JpcHQgKCM5MzE3KVxuXHRcdFx0YW5jaG9yID0gYW5jaG9yLmNsb25lTm9kZSggZmFsc2UgKTtcblxuXHRcdFx0YW5jaG9yVXJsID0gYW5jaG9yLmhyZWYucmVwbGFjZSggcmhhc2gsIFwiXCIgKTtcblx0XHRcdGxvY2F0aW9uVXJsID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKCByaGFzaCwgXCJcIiApO1xuXG5cdFx0XHQvLyBkZWNvZGluZyBtYXkgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIFVSTCBpc24ndCBVVEYtOCAoIzk1MTgpXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhbmNob3JVcmwgPSBkZWNvZGVVUklDb21wb25lbnQoIGFuY2hvclVybCApO1xuXHRcdFx0fSBjYXRjaCAoIGVycm9yICkge31cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGxvY2F0aW9uVXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KCBsb2NhdGlvblVybCApO1xuXHRcdFx0fSBjYXRjaCAoIGVycm9yICkge31cblxuXHRcdFx0cmV0dXJuIGFuY2hvci5oYXNoLmxlbmd0aCA+IDEgJiYgYW5jaG9yVXJsID09PSBsb2NhdGlvblVybDtcblx0XHR9O1xuXHR9KSgpLFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHR0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcblxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXRhYnMgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGxcIiApXG5cdFx0XHQudG9nZ2xlQ2xhc3MoIFwidWktdGFicy1jb2xsYXBzaWJsZVwiLCBvcHRpb25zLmNvbGxhcHNpYmxlICk7XG5cblx0XHR0aGlzLl9wcm9jZXNzVGFicygpO1xuXHRcdG9wdGlvbnMuYWN0aXZlID0gdGhpcy5faW5pdGlhbEFjdGl2ZSgpO1xuXG5cdFx0Ly8gVGFrZSBkaXNhYmxpbmcgdGFicyB2aWEgY2xhc3MgYXR0cmlidXRlIGZyb20gSFRNTFxuXHRcdC8vIGludG8gYWNjb3VudCBhbmQgdXBkYXRlIG9wdGlvbiBwcm9wZXJseS5cblx0XHRpZiAoICQuaXNBcnJheSggb3B0aW9ucy5kaXNhYmxlZCApICkge1xuXHRcdFx0b3B0aW9ucy5kaXNhYmxlZCA9ICQudW5pcXVlKCBvcHRpb25zLmRpc2FibGVkLmNvbmNhdChcblx0XHRcdFx0JC5tYXAoIHRoaXMudGFicy5maWx0ZXIoIFwiLnVpLXN0YXRlLWRpc2FibGVkXCIgKSwgZnVuY3Rpb24oIGxpICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGF0LnRhYnMuaW5kZXgoIGxpICk7XG5cdFx0XHRcdH0pXG5cdFx0XHQpICkuc29ydCgpO1xuXHRcdH1cblxuXHRcdC8vIGNoZWNrIGZvciBsZW5ndGggYXZvaWRzIGVycm9yIHdoZW4gaW5pdGlhbGl6aW5nIGVtcHR5IGxpc3Rcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5hY3RpdmUgIT09IGZhbHNlICYmIHRoaXMuYW5jaG9ycy5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLmFjdGl2ZSA9IHRoaXMuX2ZpbmRBY3RpdmUoIG9wdGlvbnMuYWN0aXZlICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuYWN0aXZlID0gJCgpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3JlZnJlc2goKTtcblxuXHRcdGlmICggdGhpcy5hY3RpdmUubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5sb2FkKCBvcHRpb25zLmFjdGl2ZSApO1xuXHRcdH1cblx0fSxcblxuXHRfaW5pdGlhbEFjdGl2ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGFjdGl2ZSA9IHRoaXMub3B0aW9ucy5hY3RpdmUsXG5cdFx0XHRjb2xsYXBzaWJsZSA9IHRoaXMub3B0aW9ucy5jb2xsYXBzaWJsZSxcblx0XHRcdGxvY2F0aW9uSGFzaCA9IGxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKCAxICk7XG5cblx0XHRpZiAoIGFjdGl2ZSA9PT0gbnVsbCApIHtcblx0XHRcdC8vIGNoZWNrIHRoZSBmcmFnbWVudCBpZGVudGlmaWVyIGluIHRoZSBVUkxcblx0XHRcdGlmICggbG9jYXRpb25IYXNoICkge1xuXHRcdFx0XHR0aGlzLnRhYnMuZWFjaChmdW5jdGlvbiggaSwgdGFiICkge1xuXHRcdFx0XHRcdGlmICggJCggdGFiICkuYXR0ciggXCJhcmlhLWNvbnRyb2xzXCIgKSA9PT0gbG9jYXRpb25IYXNoICkge1xuXHRcdFx0XHRcdFx0YWN0aXZlID0gaTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjaGVjayBmb3IgYSB0YWIgbWFya2VkIGFjdGl2ZSB2aWEgYSBjbGFzc1xuXHRcdFx0aWYgKCBhY3RpdmUgPT09IG51bGwgKSB7XG5cdFx0XHRcdGFjdGl2ZSA9IHRoaXMudGFicy5pbmRleCggdGhpcy50YWJzLmZpbHRlciggXCIudWktdGFicy1hY3RpdmVcIiApICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIG5vIGFjdGl2ZSB0YWIsIHNldCB0byBmYWxzZVxuXHRcdFx0aWYgKCBhY3RpdmUgPT09IG51bGwgfHwgYWN0aXZlID09PSAtMSApIHtcblx0XHRcdFx0YWN0aXZlID0gdGhpcy50YWJzLmxlbmd0aCA/IDAgOiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBoYW5kbGUgbnVtYmVyczogbmVnYXRpdmUsIG91dCBvZiByYW5nZVxuXHRcdGlmICggYWN0aXZlICE9PSBmYWxzZSApIHtcblx0XHRcdGFjdGl2ZSA9IHRoaXMudGFicy5pbmRleCggdGhpcy50YWJzLmVxKCBhY3RpdmUgKSApO1xuXHRcdFx0aWYgKCBhY3RpdmUgPT09IC0xICkge1xuXHRcdFx0XHRhY3RpdmUgPSBjb2xsYXBzaWJsZSA/IGZhbHNlIDogMDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBkb24ndCBhbGxvdyBjb2xsYXBzaWJsZTogZmFsc2UgYW5kIGFjdGl2ZTogZmFsc2Vcblx0XHRpZiAoICFjb2xsYXBzaWJsZSAmJiBhY3RpdmUgPT09IGZhbHNlICYmIHRoaXMuYW5jaG9ycy5sZW5ndGggKSB7XG5cdFx0XHRhY3RpdmUgPSAwO1xuXHRcdH1cblxuXHRcdHJldHVybiBhY3RpdmU7XG5cdH0sXG5cblx0X2dldENyZWF0ZUV2ZW50RGF0YTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHRhYjogdGhpcy5hY3RpdmUsXG5cdFx0XHRwYW5lbDogIXRoaXMuYWN0aXZlLmxlbmd0aCA/ICQoKSA6IHRoaXMuX2dldFBhbmVsRm9yVGFiKCB0aGlzLmFjdGl2ZSApXG5cdFx0fTtcblx0fSxcblxuXHRfdGFiS2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBmb2N1c2VkVGFiID0gJCggdGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50ICkuY2xvc2VzdCggXCJsaVwiICksXG5cdFx0XHRzZWxlY3RlZEluZGV4ID0gdGhpcy50YWJzLmluZGV4KCBmb2N1c2VkVGFiICksXG5cdFx0XHRnb2luZ0ZvcndhcmQgPSB0cnVlO1xuXG5cdFx0aWYgKCB0aGlzLl9oYW5kbGVQYWdlTmF2KCBldmVudCApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5SSUdIVDpcblx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkRPV046XG5cdFx0XHRcdHNlbGVjdGVkSW5kZXgrKztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5VUDpcblx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkxFRlQ6XG5cdFx0XHRcdGdvaW5nRm9yd2FyZCA9IGZhbHNlO1xuXHRcdFx0XHRzZWxlY3RlZEluZGV4LS07XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuRU5EOlxuXHRcdFx0XHRzZWxlY3RlZEluZGV4ID0gdGhpcy5hbmNob3JzLmxlbmd0aCAtIDE7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuSE9NRTpcblx0XHRcdFx0c2VsZWN0ZWRJbmRleCA9IDA7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuU1BBQ0U6XG5cdFx0XHRcdC8vIEFjdGl2YXRlIG9ubHksIG5vIGNvbGxhcHNpbmdcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLmFjdGl2YXRpbmcgKTtcblx0XHRcdFx0dGhpcy5fYWN0aXZhdGUoIHNlbGVjdGVkSW5kZXggKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuRU5URVI6XG5cdFx0XHRcdC8vIFRvZ2dsZSAoY2FuY2VsIGRlbGF5ZWQgYWN0aXZhdGlvbiwgYWxsb3cgY29sbGFwc2luZylcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLmFjdGl2YXRpbmcgKTtcblx0XHRcdFx0Ly8gRGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBjb2xsYXBzZSBvciBhY3RpdmF0ZVxuXHRcdFx0XHR0aGlzLl9hY3RpdmF0ZSggc2VsZWN0ZWRJbmRleCA9PT0gdGhpcy5vcHRpb25zLmFjdGl2ZSA/IGZhbHNlIDogc2VsZWN0ZWRJbmRleCApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRm9jdXMgdGhlIGFwcHJvcHJpYXRlIHRhYiwgYmFzZWQgb24gd2hpY2gga2V5IHdhcyBwcmVzc2VkXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRjbGVhclRpbWVvdXQoIHRoaXMuYWN0aXZhdGluZyApO1xuXHRcdHNlbGVjdGVkSW5kZXggPSB0aGlzLl9mb2N1c05leHRUYWIoIHNlbGVjdGVkSW5kZXgsIGdvaW5nRm9yd2FyZCApO1xuXG5cdFx0Ly8gTmF2aWdhdGluZyB3aXRoIGNvbnRyb2wvY29tbWFuZCBrZXkgd2lsbCBwcmV2ZW50IGF1dG9tYXRpYyBhY3RpdmF0aW9uXG5cdFx0aWYgKCAhZXZlbnQuY3RybEtleSAmJiAhZXZlbnQubWV0YUtleSApIHtcblxuXHRcdFx0Ly8gVXBkYXRlIGFyaWEtc2VsZWN0ZWQgaW1tZWRpYXRlbHkgc28gdGhhdCBBVCB0aGluayB0aGUgdGFiIGlzIGFscmVhZHkgc2VsZWN0ZWQuXG5cdFx0XHQvLyBPdGhlcndpc2UgQVQgbWF5IGNvbmZ1c2UgdGhlIHVzZXIgYnkgc3RhdGluZyB0aGF0IHRoZXkgbmVlZCB0byBhY3RpdmF0ZSB0aGUgdGFiLFxuXHRcdFx0Ly8gYnV0IHRoZSB0YWIgd2lsbCBhbHJlYWR5IGJlIGFjdGl2YXRlZCBieSB0aGUgdGltZSB0aGUgYW5ub3VuY2VtZW50IGZpbmlzaGVzLlxuXHRcdFx0Zm9jdXNlZFRhYi5hdHRyKCBcImFyaWEtc2VsZWN0ZWRcIiwgXCJmYWxzZVwiICk7XG5cdFx0XHR0aGlzLnRhYnMuZXEoIHNlbGVjdGVkSW5kZXggKS5hdHRyKCBcImFyaWEtc2VsZWN0ZWRcIiwgXCJ0cnVlXCIgKTtcblxuXHRcdFx0dGhpcy5hY3RpdmF0aW5nID0gdGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMub3B0aW9uKCBcImFjdGl2ZVwiLCBzZWxlY3RlZEluZGV4ICk7XG5cdFx0XHR9LCB0aGlzLmRlbGF5ICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9wYW5lbEtleWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoIHRoaXMuX2hhbmRsZVBhZ2VOYXYoIGV2ZW50ICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gQ3RybCt1cCBtb3ZlcyBmb2N1cyB0byB0aGUgY3VycmVudCB0YWJcblx0XHRpZiAoIGV2ZW50LmN0cmxLZXkgJiYgZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlVQICkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHRoaXMuYWN0aXZlLmZvY3VzKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIEFsdCtwYWdlIHVwL2Rvd24gbW92ZXMgZm9jdXMgdG8gdGhlIHByZXZpb3VzL25leHQgdGFiIChhbmQgYWN0aXZhdGVzKVxuXHRfaGFuZGxlUGFnZU5hdjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggZXZlbnQuYWx0S2V5ICYmIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5QQUdFX1VQICkge1xuXHRcdFx0dGhpcy5fYWN0aXZhdGUoIHRoaXMuX2ZvY3VzTmV4dFRhYiggdGhpcy5vcHRpb25zLmFjdGl2ZSAtIDEsIGZhbHNlICkgKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRpZiAoIGV2ZW50LmFsdEtleSAmJiBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuUEFHRV9ET1dOICkge1xuXHRcdFx0dGhpcy5fYWN0aXZhdGUoIHRoaXMuX2ZvY3VzTmV4dFRhYiggdGhpcy5vcHRpb25zLmFjdGl2ZSArIDEsIHRydWUgKSApO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9LFxuXG5cdF9maW5kTmV4dFRhYjogZnVuY3Rpb24oIGluZGV4LCBnb2luZ0ZvcndhcmQgKSB7XG5cdFx0dmFyIGxhc3RUYWJJbmRleCA9IHRoaXMudGFicy5sZW5ndGggLSAxO1xuXG5cdFx0ZnVuY3Rpb24gY29uc3RyYWluKCkge1xuXHRcdFx0aWYgKCBpbmRleCA+IGxhc3RUYWJJbmRleCApIHtcblx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBpbmRleCA8IDAgKSB7XG5cdFx0XHRcdGluZGV4ID0gbGFzdFRhYkluZGV4O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGluZGV4O1xuXHRcdH1cblxuXHRcdHdoaWxlICggJC5pbkFycmF5KCBjb25zdHJhaW4oKSwgdGhpcy5vcHRpb25zLmRpc2FibGVkICkgIT09IC0xICkge1xuXHRcdFx0aW5kZXggPSBnb2luZ0ZvcndhcmQgPyBpbmRleCArIDEgOiBpbmRleCAtIDE7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9LFxuXG5cdF9mb2N1c05leHRUYWI6IGZ1bmN0aW9uKCBpbmRleCwgZ29pbmdGb3J3YXJkICkge1xuXHRcdGluZGV4ID0gdGhpcy5fZmluZE5leHRUYWIoIGluZGV4LCBnb2luZ0ZvcndhcmQgKTtcblx0XHR0aGlzLnRhYnMuZXEoIGluZGV4ICkuZm9jdXMoKTtcblx0XHRyZXR1cm4gaW5kZXg7XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0aWYgKCBrZXkgPT09IFwiYWN0aXZlXCIgKSB7XG5cdFx0XHQvLyBfYWN0aXZhdGUoKSB3aWxsIGhhbmRsZSBpbnZhbGlkIHZhbHVlcyBhbmQgdXBkYXRlIHRoaXMub3B0aW9uc1xuXHRcdFx0dGhpcy5fYWN0aXZhdGUoIHZhbHVlICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiApIHtcblx0XHRcdC8vIGRvbid0IHVzZSB0aGUgd2lkZ2V0IGZhY3RvcnkncyBkaXNhYmxlZCBoYW5kbGluZ1xuXHRcdFx0dGhpcy5fc2V0dXBEaXNhYmxlZCggdmFsdWUgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSk7XG5cblx0XHRpZiAoIGtleSA9PT0gXCJjb2xsYXBzaWJsZVwiICkge1xuXHRcdFx0dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCBcInVpLXRhYnMtY29sbGFwc2libGVcIiwgdmFsdWUgKTtcblx0XHRcdC8vIFNldHRpbmcgY29sbGFwc2libGU6IGZhbHNlIHdoaWxlIGNvbGxhcHNlZDsgb3BlbiBmaXJzdCBwYW5lbFxuXHRcdFx0aWYgKCAhdmFsdWUgJiYgdGhpcy5vcHRpb25zLmFjdGl2ZSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdHRoaXMuX2FjdGl2YXRlKCAwICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwiZXZlbnRcIiApIHtcblx0XHRcdHRoaXMuX3NldHVwRXZlbnRzKCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ID09PSBcImhlaWdodFN0eWxlXCIgKSB7XG5cdFx0XHR0aGlzLl9zZXR1cEhlaWdodFN0eWxlKCB2YWx1ZSApO1xuXHRcdH1cblx0fSxcblxuXHRfc2FuaXRpemVTZWxlY3RvcjogZnVuY3Rpb24oIGhhc2ggKSB7XG5cdFx0cmV0dXJuIGhhc2ggPyBoYXNoLnJlcGxhY2UoIC9bIVwiJCUmJygpKissLlxcLzo7PD0+P0BcXFtcXF1cXF5ge3x9fl0vZywgXCJcXFxcJCZcIiApIDogXCJcIjtcblx0fSxcblxuXHRyZWZyZXNoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGxpcyA9IHRoaXMudGFibGlzdC5jaGlsZHJlbiggXCI6aGFzKGFbaHJlZl0pXCIgKTtcblxuXHRcdC8vIGdldCBkaXNhYmxlZCB0YWJzIGZyb20gY2xhc3MgYXR0cmlidXRlIGZyb20gSFRNTFxuXHRcdC8vIHRoaXMgd2lsbCBnZXQgY29udmVydGVkIHRvIGEgYm9vbGVhbiBpZiBuZWVkZWQgaW4gX3JlZnJlc2goKVxuXHRcdG9wdGlvbnMuZGlzYWJsZWQgPSAkLm1hcCggbGlzLmZpbHRlciggXCIudWktc3RhdGUtZGlzYWJsZWRcIiApLCBmdW5jdGlvbiggdGFiICkge1xuXHRcdFx0cmV0dXJuIGxpcy5pbmRleCggdGFiICk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLl9wcm9jZXNzVGFicygpO1xuXG5cdFx0Ly8gd2FzIGNvbGxhcHNlZCBvciBubyB0YWJzXG5cdFx0aWYgKCBvcHRpb25zLmFjdGl2ZSA9PT0gZmFsc2UgfHwgIXRoaXMuYW5jaG9ycy5sZW5ndGggKSB7XG5cdFx0XHRvcHRpb25zLmFjdGl2ZSA9IGZhbHNlO1xuXHRcdFx0dGhpcy5hY3RpdmUgPSAkKCk7XG5cdFx0Ly8gd2FzIGFjdGl2ZSwgYnV0IGFjdGl2ZSB0YWIgaXMgZ29uZVxuXHRcdH0gZWxzZSBpZiAoIHRoaXMuYWN0aXZlLmxlbmd0aCAmJiAhJC5jb250YWlucyggdGhpcy50YWJsaXN0WyAwIF0sIHRoaXMuYWN0aXZlWyAwIF0gKSApIHtcblx0XHRcdC8vIGFsbCByZW1haW5pbmcgdGFicyBhcmUgZGlzYWJsZWRcblx0XHRcdGlmICggdGhpcy50YWJzLmxlbmd0aCA9PT0gb3B0aW9ucy5kaXNhYmxlZC5sZW5ndGggKSB7XG5cdFx0XHRcdG9wdGlvbnMuYWN0aXZlID0gZmFsc2U7XG5cdFx0XHRcdHRoaXMuYWN0aXZlID0gJCgpO1xuXHRcdFx0Ly8gYWN0aXZhdGUgcHJldmlvdXMgdGFiXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLl9hY3RpdmF0ZSggdGhpcy5fZmluZE5leHRUYWIoIE1hdGgubWF4KCAwLCBvcHRpb25zLmFjdGl2ZSAtIDEgKSwgZmFsc2UgKSApO1xuXHRcdFx0fVxuXHRcdC8vIHdhcyBhY3RpdmUsIGFjdGl2ZSB0YWIgc3RpbGwgZXhpc3RzXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIG1ha2Ugc3VyZSBhY3RpdmUgaW5kZXggaXMgY29ycmVjdFxuXHRcdFx0b3B0aW9ucy5hY3RpdmUgPSB0aGlzLnRhYnMuaW5kZXgoIHRoaXMuYWN0aXZlICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fcmVmcmVzaCgpO1xuXHR9LFxuXG5cdF9yZWZyZXNoOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9zZXR1cERpc2FibGVkKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKTtcblx0XHR0aGlzLl9zZXR1cEV2ZW50cyggdGhpcy5vcHRpb25zLmV2ZW50ICk7XG5cdFx0dGhpcy5fc2V0dXBIZWlnaHRTdHlsZSggdGhpcy5vcHRpb25zLmhlaWdodFN0eWxlICk7XG5cblx0XHR0aGlzLnRhYnMubm90KCB0aGlzLmFjdGl2ZSApLmF0dHIoe1xuXHRcdFx0XCJhcmlhLXNlbGVjdGVkXCI6IFwiZmFsc2VcIixcblx0XHRcdFwiYXJpYS1leHBhbmRlZFwiOiBcImZhbHNlXCIsXG5cdFx0XHR0YWJJbmRleDogLTFcblx0XHR9KTtcblx0XHR0aGlzLnBhbmVscy5ub3QoIHRoaXMuX2dldFBhbmVsRm9yVGFiKCB0aGlzLmFjdGl2ZSApIClcblx0XHRcdC5oaWRlKClcblx0XHRcdC5hdHRyKHtcblx0XHRcdFx0XCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuXHRcdFx0fSk7XG5cblx0XHQvLyBNYWtlIHN1cmUgb25lIHRhYiBpcyBpbiB0aGUgdGFiIG9yZGVyXG5cdFx0aWYgKCAhdGhpcy5hY3RpdmUubGVuZ3RoICkge1xuXHRcdFx0dGhpcy50YWJzLmVxKCAwICkuYXR0ciggXCJ0YWJJbmRleFwiLCAwICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuYWN0aXZlXG5cdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmVcIiApXG5cdFx0XHRcdC5hdHRyKHtcblx0XHRcdFx0XHRcImFyaWEtc2VsZWN0ZWRcIjogXCJ0cnVlXCIsXG5cdFx0XHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwidHJ1ZVwiLFxuXHRcdFx0XHRcdHRhYkluZGV4OiAwXG5cdFx0XHRcdH0pO1xuXHRcdFx0dGhpcy5fZ2V0UGFuZWxGb3JUYWIoIHRoaXMuYWN0aXZlIClcblx0XHRcdFx0LnNob3coKVxuXHRcdFx0XHQuYXR0cih7XG5cdFx0XHRcdFx0XCJhcmlhLWhpZGRlblwiOiBcImZhbHNlXCJcblx0XHRcdFx0fSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9wcm9jZXNzVGFiczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0cHJldlRhYnMgPSB0aGlzLnRhYnMsXG5cdFx0XHRwcmV2QW5jaG9ycyA9IHRoaXMuYW5jaG9ycyxcblx0XHRcdHByZXZQYW5lbHMgPSB0aGlzLnBhbmVscztcblxuXHRcdHRoaXMudGFibGlzdCA9IHRoaXMuX2dldExpc3QoKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsXCIgKVxuXHRcdFx0LmF0dHIoIFwicm9sZVwiLCBcInRhYmxpc3RcIiApXG5cblx0XHRcdC8vIFByZXZlbnQgdXNlcnMgZnJvbSBmb2N1c2luZyBkaXNhYmxlZCB0YWJzIHZpYSBjbGlja1xuXHRcdFx0LmRlbGVnYXRlKCBcIj4gbGlcIiwgXCJtb3VzZWRvd25cIiArIHRoaXMuZXZlbnROYW1lc3BhY2UsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCAkKCB0aGlzICkuaXMoIFwiLnVpLXN0YXRlLWRpc2FibGVkXCIgKSApIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXG5cdFx0XHQvLyBzdXBwb3J0OiBJRSA8OVxuXHRcdFx0Ly8gUHJldmVudGluZyB0aGUgZGVmYXVsdCBhY3Rpb24gaW4gbW91c2Vkb3duIGRvZXNuJ3QgcHJldmVudCBJRVxuXHRcdFx0Ly8gZnJvbSBmb2N1c2luZyB0aGUgZWxlbWVudCwgc28gaWYgdGhlIGFuY2hvciBnZXRzIGZvY3VzZWQsIGJsdXIuXG5cdFx0XHQvLyBXZSBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IGZvY3VzaW5nIHRoZSBwcmV2aW91c2x5IGZvY3VzZWRcblx0XHRcdC8vIGVsZW1lbnQgc2luY2UgY2xpY2tpbmcgb24gYSBub24tZm9jdXNhYmxlIGVsZW1lbnQgc2hvdWxkIGZvY3VzXG5cdFx0XHQvLyB0aGUgYm9keSBhbnl3YXkuXG5cdFx0XHQuZGVsZWdhdGUoIFwiLnVpLXRhYnMtYW5jaG9yXCIsIFwiZm9jdXNcIiArIHRoaXMuZXZlbnROYW1lc3BhY2UsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICQoIHRoaXMgKS5jbG9zZXN0KCBcImxpXCIgKS5pcyggXCIudWktc3RhdGUtZGlzYWJsZWRcIiApICkge1xuXHRcdFx0XHRcdHRoaXMuYmx1cigpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdHRoaXMudGFicyA9IHRoaXMudGFibGlzdC5maW5kKCBcIj4gbGk6aGFzKGFbaHJlZl0pXCIgKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLXRvcFwiIClcblx0XHRcdC5hdHRyKHtcblx0XHRcdFx0cm9sZTogXCJ0YWJcIixcblx0XHRcdFx0dGFiSW5kZXg6IC0xXG5cdFx0XHR9KTtcblxuXHRcdHRoaXMuYW5jaG9ycyA9IHRoaXMudGFicy5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAkKCBcImFcIiwgdGhpcyApWyAwIF07XG5cdFx0XHR9KVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXRhYnMtYW5jaG9yXCIgKVxuXHRcdFx0LmF0dHIoe1xuXHRcdFx0XHRyb2xlOiBcInByZXNlbnRhdGlvblwiLFxuXHRcdFx0XHR0YWJJbmRleDogLTFcblx0XHRcdH0pO1xuXG5cdFx0dGhpcy5wYW5lbHMgPSAkKCk7XG5cblx0XHR0aGlzLmFuY2hvcnMuZWFjaChmdW5jdGlvbiggaSwgYW5jaG9yICkge1xuXHRcdFx0dmFyIHNlbGVjdG9yLCBwYW5lbCwgcGFuZWxJZCxcblx0XHRcdFx0YW5jaG9ySWQgPSAkKCBhbmNob3IgKS51bmlxdWVJZCgpLmF0dHIoIFwiaWRcIiApLFxuXHRcdFx0XHR0YWIgPSAkKCBhbmNob3IgKS5jbG9zZXN0KCBcImxpXCIgKSxcblx0XHRcdFx0b3JpZ2luYWxBcmlhQ29udHJvbHMgPSB0YWIuYXR0ciggXCJhcmlhLWNvbnRyb2xzXCIgKTtcblxuXHRcdFx0Ly8gaW5saW5lIHRhYlxuXHRcdFx0aWYgKCB0aGF0Ll9pc0xvY2FsKCBhbmNob3IgKSApIHtcblx0XHRcdFx0c2VsZWN0b3IgPSBhbmNob3IuaGFzaDtcblx0XHRcdFx0cGFuZWxJZCA9IHNlbGVjdG9yLnN1YnN0cmluZyggMSApO1xuXHRcdFx0XHRwYW5lbCA9IHRoYXQuZWxlbWVudC5maW5kKCB0aGF0Ll9zYW5pdGl6ZVNlbGVjdG9yKCBzZWxlY3RvciApICk7XG5cdFx0XHQvLyByZW1vdGUgdGFiXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBJZiB0aGUgdGFiIGRvZXNuJ3QgYWxyZWFkeSBoYXZlIGFyaWEtY29udHJvbHMsXG5cdFx0XHRcdC8vIGdlbmVyYXRlIGFuIGlkIGJ5IHVzaW5nIGEgdGhyb3ctYXdheSBlbGVtZW50XG5cdFx0XHRcdHBhbmVsSWQgPSB0YWIuYXR0ciggXCJhcmlhLWNvbnRyb2xzXCIgKSB8fCAkKCB7fSApLnVuaXF1ZUlkKClbIDAgXS5pZDtcblx0XHRcdFx0c2VsZWN0b3IgPSBcIiNcIiArIHBhbmVsSWQ7XG5cdFx0XHRcdHBhbmVsID0gdGhhdC5lbGVtZW50LmZpbmQoIHNlbGVjdG9yICk7XG5cdFx0XHRcdGlmICggIXBhbmVsLmxlbmd0aCApIHtcblx0XHRcdFx0XHRwYW5lbCA9IHRoYXQuX2NyZWF0ZVBhbmVsKCBwYW5lbElkICk7XG5cdFx0XHRcdFx0cGFuZWwuaW5zZXJ0QWZ0ZXIoIHRoYXQucGFuZWxzWyBpIC0gMSBdIHx8IHRoYXQudGFibGlzdCApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHBhbmVsLmF0dHIoIFwiYXJpYS1saXZlXCIsIFwicG9saXRlXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBwYW5lbC5sZW5ndGgpIHtcblx0XHRcdFx0dGhhdC5wYW5lbHMgPSB0aGF0LnBhbmVscy5hZGQoIHBhbmVsICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIG9yaWdpbmFsQXJpYUNvbnRyb2xzICkge1xuXHRcdFx0XHR0YWIuZGF0YSggXCJ1aS10YWJzLWFyaWEtY29udHJvbHNcIiwgb3JpZ2luYWxBcmlhQ29udHJvbHMgKTtcblx0XHRcdH1cblx0XHRcdHRhYi5hdHRyKHtcblx0XHRcdFx0XCJhcmlhLWNvbnRyb2xzXCI6IHBhbmVsSWQsXG5cdFx0XHRcdFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGFuY2hvcklkXG5cdFx0XHR9KTtcblx0XHRcdHBhbmVsLmF0dHIoIFwiYXJpYS1sYWJlbGxlZGJ5XCIsIGFuY2hvcklkICk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLnBhbmVsc1xuXHRcdFx0LmFkZENsYXNzKCBcInVpLXRhYnMtcGFuZWwgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbVwiIClcblx0XHRcdC5hdHRyKCBcInJvbGVcIiwgXCJ0YWJwYW5lbFwiICk7XG5cblx0XHQvLyBBdm9pZCBtZW1vcnkgbGVha3MgKCMxMDA1Nilcblx0XHRpZiAoIHByZXZUYWJzICkge1xuXHRcdFx0dGhpcy5fb2ZmKCBwcmV2VGFicy5ub3QoIHRoaXMudGFicyApICk7XG5cdFx0XHR0aGlzLl9vZmYoIHByZXZBbmNob3JzLm5vdCggdGhpcy5hbmNob3JzICkgKTtcblx0XHRcdHRoaXMuX29mZiggcHJldlBhbmVscy5ub3QoIHRoaXMucGFuZWxzICkgKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gYWxsb3cgb3ZlcnJpZGluZyBob3cgdG8gZmluZCB0aGUgbGlzdCBmb3IgcmFyZSB1c2FnZSBzY2VuYXJpb3MgKCM3NzE1KVxuXHRfZ2V0TGlzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMudGFibGlzdCB8fCB0aGlzLmVsZW1lbnQuZmluZCggXCJvbCx1bFwiICkuZXEoIDAgKTtcblx0fSxcblxuXHRfY3JlYXRlUGFuZWw6IGZ1bmN0aW9uKCBpZCApIHtcblx0XHRyZXR1cm4gJCggXCI8ZGl2PlwiIClcblx0XHRcdC5hdHRyKCBcImlkXCIsIGlkIClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b21cIiApXG5cdFx0XHQuZGF0YSggXCJ1aS10YWJzLWRlc3Ryb3lcIiwgdHJ1ZSApO1xuXHR9LFxuXG5cdF9zZXR1cERpc2FibGVkOiBmdW5jdGlvbiggZGlzYWJsZWQgKSB7XG5cdFx0aWYgKCAkLmlzQXJyYXkoIGRpc2FibGVkICkgKSB7XG5cdFx0XHRpZiAoICFkaXNhYmxlZC5sZW5ndGggKSB7XG5cdFx0XHRcdGRpc2FibGVkID0gZmFsc2U7XG5cdFx0XHR9IGVsc2UgaWYgKCBkaXNhYmxlZC5sZW5ndGggPT09IHRoaXMuYW5jaG9ycy5sZW5ndGggKSB7XG5cdFx0XHRcdGRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBkaXNhYmxlIHRhYnNcblx0XHRmb3IgKCB2YXIgaSA9IDAsIGxpOyAoIGxpID0gdGhpcy50YWJzWyBpIF0gKTsgaSsrICkge1xuXHRcdFx0aWYgKCBkaXNhYmxlZCA9PT0gdHJ1ZSB8fCAkLmluQXJyYXkoIGksIGRpc2FibGVkICkgIT09IC0xICkge1xuXHRcdFx0XHQkKCBsaSApXG5cdFx0XHRcdFx0LmFkZENsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIgKVxuXHRcdFx0XHRcdC5hdHRyKCBcImFyaWEtZGlzYWJsZWRcIiwgXCJ0cnVlXCIgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoIGxpIClcblx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiApXG5cdFx0XHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1kaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5vcHRpb25zLmRpc2FibGVkID0gZGlzYWJsZWQ7XG5cdH0sXG5cblx0X3NldHVwRXZlbnRzOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGV2ZW50cyA9IHt9O1xuXHRcdGlmICggZXZlbnQgKSB7XG5cdFx0XHQkLmVhY2goIGV2ZW50LnNwbGl0KFwiIFwiKSwgZnVuY3Rpb24oIGluZGV4LCBldmVudE5hbWUgKSB7XG5cdFx0XHRcdGV2ZW50c1sgZXZlbnROYW1lIF0gPSBcIl9ldmVudEhhbmRsZXJcIjtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHRoaXMuX29mZiggdGhpcy5hbmNob3JzLmFkZCggdGhpcy50YWJzICkuYWRkKCB0aGlzLnBhbmVscyApICk7XG5cdFx0Ly8gQWx3YXlzIHByZXZlbnQgdGhlIGRlZmF1bHQgYWN0aW9uLCBldmVuIHdoZW4gZGlzYWJsZWRcblx0XHR0aGlzLl9vbiggdHJ1ZSwgdGhpcy5hbmNob3JzLCB7XG5cdFx0XHRjbGljazogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHRoaXMuX29uKCB0aGlzLmFuY2hvcnMsIGV2ZW50cyApO1xuXHRcdHRoaXMuX29uKCB0aGlzLnRhYnMsIHsga2V5ZG93bjogXCJfdGFiS2V5ZG93blwiIH0gKTtcblx0XHR0aGlzLl9vbiggdGhpcy5wYW5lbHMsIHsga2V5ZG93bjogXCJfcGFuZWxLZXlkb3duXCIgfSApO1xuXG5cdFx0dGhpcy5fZm9jdXNhYmxlKCB0aGlzLnRhYnMgKTtcblx0XHR0aGlzLl9ob3ZlcmFibGUoIHRoaXMudGFicyApO1xuXHR9LFxuXG5cdF9zZXR1cEhlaWdodFN0eWxlOiBmdW5jdGlvbiggaGVpZ2h0U3R5bGUgKSB7XG5cdFx0dmFyIG1heEhlaWdodCxcblx0XHRcdHBhcmVudCA9IHRoaXMuZWxlbWVudC5wYXJlbnQoKTtcblxuXHRcdGlmICggaGVpZ2h0U3R5bGUgPT09IFwiZmlsbFwiICkge1xuXHRcdFx0bWF4SGVpZ2h0ID0gcGFyZW50LmhlaWdodCgpO1xuXHRcdFx0bWF4SGVpZ2h0IC09IHRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpIC0gdGhpcy5lbGVtZW50LmhlaWdodCgpO1xuXG5cdFx0XHR0aGlzLmVsZW1lbnQuc2libGluZ3MoIFwiOnZpc2libGVcIiApLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdHBvc2l0aW9uID0gZWxlbS5jc3MoIFwicG9zaXRpb25cIiApO1xuXG5cdFx0XHRcdGlmICggcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRtYXhIZWlnaHQgLT0gZWxlbS5vdXRlckhlaWdodCggdHJ1ZSApO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLm5vdCggdGhpcy5wYW5lbHMgKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRtYXhIZWlnaHQgLT0gJCggdGhpcyApLm91dGVySGVpZ2h0KCB0cnVlICk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0JCggdGhpcyApLmhlaWdodCggTWF0aC5tYXgoIDAsIG1heEhlaWdodCAtXG5cdFx0XHRcdFx0JCggdGhpcyApLmlubmVySGVpZ2h0KCkgKyAkKCB0aGlzICkuaGVpZ2h0KCkgKSApO1xuXHRcdFx0fSlcblx0XHRcdC5jc3MoIFwib3ZlcmZsb3dcIiwgXCJhdXRvXCIgKTtcblx0XHR9IGVsc2UgaWYgKCBoZWlnaHRTdHlsZSA9PT0gXCJhdXRvXCIgKSB7XG5cdFx0XHRtYXhIZWlnaHQgPSAwO1xuXHRcdFx0dGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0bWF4SGVpZ2h0ID0gTWF0aC5tYXgoIG1heEhlaWdodCwgJCggdGhpcyApLmhlaWdodCggXCJcIiApLmhlaWdodCgpICk7XG5cdFx0XHR9KS5oZWlnaHQoIG1heEhlaWdodCApO1xuXHRcdH1cblx0fSxcblxuXHRfZXZlbnRIYW5kbGVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRhY3RpdmUgPSB0aGlzLmFjdGl2ZSxcblx0XHRcdGFuY2hvciA9ICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSxcblx0XHRcdHRhYiA9IGFuY2hvci5jbG9zZXN0KCBcImxpXCIgKSxcblx0XHRcdGNsaWNrZWRJc0FjdGl2ZSA9IHRhYlsgMCBdID09PSBhY3RpdmVbIDAgXSxcblx0XHRcdGNvbGxhcHNpbmcgPSBjbGlja2VkSXNBY3RpdmUgJiYgb3B0aW9ucy5jb2xsYXBzaWJsZSxcblx0XHRcdHRvU2hvdyA9IGNvbGxhcHNpbmcgPyAkKCkgOiB0aGlzLl9nZXRQYW5lbEZvclRhYiggdGFiICksXG5cdFx0XHR0b0hpZGUgPSAhYWN0aXZlLmxlbmd0aCA/ICQoKSA6IHRoaXMuX2dldFBhbmVsRm9yVGFiKCBhY3RpdmUgKSxcblx0XHRcdGV2ZW50RGF0YSA9IHtcblx0XHRcdFx0b2xkVGFiOiBhY3RpdmUsXG5cdFx0XHRcdG9sZFBhbmVsOiB0b0hpZGUsXG5cdFx0XHRcdG5ld1RhYjogY29sbGFwc2luZyA/ICQoKSA6IHRhYixcblx0XHRcdFx0bmV3UGFuZWw6IHRvU2hvd1xuXHRcdFx0fTtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRpZiAoIHRhYi5oYXNDbGFzcyggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiICkgfHxcblx0XHRcdFx0Ly8gdGFiIGlzIGFscmVhZHkgbG9hZGluZ1xuXHRcdFx0XHR0YWIuaGFzQ2xhc3MoIFwidWktdGFicy1sb2FkaW5nXCIgKSB8fFxuXHRcdFx0XHQvLyBjYW4ndCBzd2l0Y2ggZHVybmluZyBhbiBhbmltYXRpb25cblx0XHRcdFx0dGhpcy5ydW5uaW5nIHx8XG5cdFx0XHRcdC8vIGNsaWNrIG9uIGFjdGl2ZSBoZWFkZXIsIGJ1dCBub3QgY29sbGFwc2libGVcblx0XHRcdFx0KCBjbGlja2VkSXNBY3RpdmUgJiYgIW9wdGlvbnMuY29sbGFwc2libGUgKSB8fFxuXHRcdFx0XHQvLyBhbGxvdyBjYW5jZWxpbmcgYWN0aXZhdGlvblxuXHRcdFx0XHQoIHRoaXMuX3RyaWdnZXIoIFwiYmVmb3JlQWN0aXZhdGVcIiwgZXZlbnQsIGV2ZW50RGF0YSApID09PSBmYWxzZSApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdG9wdGlvbnMuYWN0aXZlID0gY29sbGFwc2luZyA/IGZhbHNlIDogdGhpcy50YWJzLmluZGV4KCB0YWIgKTtcblxuXHRcdHRoaXMuYWN0aXZlID0gY2xpY2tlZElzQWN0aXZlID8gJCgpIDogdGFiO1xuXHRcdGlmICggdGhpcy54aHIgKSB7XG5cdFx0XHR0aGlzLnhoci5hYm9ydCgpO1xuXHRcdH1cblxuXHRcdGlmICggIXRvSGlkZS5sZW5ndGggJiYgIXRvU2hvdy5sZW5ndGggKSB7XG5cdFx0XHQkLmVycm9yKCBcImpRdWVyeSBVSSBUYWJzOiBNaXNtYXRjaGluZyBmcmFnbWVudCBpZGVudGlmaWVyLlwiICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0b1Nob3cubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5sb2FkKCB0aGlzLnRhYnMuaW5kZXgoIHRhYiApLCBldmVudCApO1xuXHRcdH1cblx0XHR0aGlzLl90b2dnbGUoIGV2ZW50LCBldmVudERhdGEgKTtcblx0fSxcblxuXHQvLyBoYW5kbGVzIHNob3cvaGlkZSBmb3Igc2VsZWN0aW5nIHRhYnNcblx0X3RvZ2dsZTogZnVuY3Rpb24oIGV2ZW50LCBldmVudERhdGEgKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0dG9TaG93ID0gZXZlbnREYXRhLm5ld1BhbmVsLFxuXHRcdFx0dG9IaWRlID0gZXZlbnREYXRhLm9sZFBhbmVsO1xuXG5cdFx0dGhpcy5ydW5uaW5nID0gdHJ1ZTtcblxuXHRcdGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuXHRcdFx0dGhhdC5ydW5uaW5nID0gZmFsc2U7XG5cdFx0XHR0aGF0Ll90cmlnZ2VyKCBcImFjdGl2YXRlXCIsIGV2ZW50LCBldmVudERhdGEgKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBzaG93KCkge1xuXHRcdFx0ZXZlbnREYXRhLm5ld1RhYi5jbG9zZXN0KCBcImxpXCIgKS5hZGRDbGFzcyggXCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXG5cdFx0XHRpZiAoIHRvU2hvdy5sZW5ndGggJiYgdGhhdC5vcHRpb25zLnNob3cgKSB7XG5cdFx0XHRcdHRoYXQuX3Nob3coIHRvU2hvdywgdGhhdC5vcHRpb25zLnNob3csIGNvbXBsZXRlICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0b1Nob3cuc2hvdygpO1xuXHRcdFx0XHRjb21wbGV0ZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIHN0YXJ0IG91dCBieSBoaWRpbmcsIHRoZW4gc2hvd2luZywgdGhlbiBjb21wbGV0aW5nXG5cdFx0aWYgKCB0b0hpZGUubGVuZ3RoICYmIHRoaXMub3B0aW9ucy5oaWRlICkge1xuXHRcdFx0dGhpcy5faGlkZSggdG9IaWRlLCB0aGlzLm9wdGlvbnMuaGlkZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGV2ZW50RGF0YS5vbGRUYWIuY2xvc2VzdCggXCJsaVwiICkucmVtb3ZlQ2xhc3MoIFwidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHRcdFx0c2hvdygpO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGV2ZW50RGF0YS5vbGRUYWIuY2xvc2VzdCggXCJsaVwiICkucmVtb3ZlQ2xhc3MoIFwidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHRcdHRvSGlkZS5oaWRlKCk7XG5cdFx0XHRzaG93KCk7XG5cdFx0fVxuXG5cdFx0dG9IaWRlLmF0dHIoIFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIgKTtcblx0XHRldmVudERhdGEub2xkVGFiLmF0dHIoe1xuXHRcdFx0XCJhcmlhLXNlbGVjdGVkXCI6IFwiZmFsc2VcIixcblx0XHRcdFwiYXJpYS1leHBhbmRlZFwiOiBcImZhbHNlXCJcblx0XHR9KTtcblx0XHQvLyBJZiB3ZSdyZSBzd2l0Y2hpbmcgdGFicywgcmVtb3ZlIHRoZSBvbGQgdGFiIGZyb20gdGhlIHRhYiBvcmRlci5cblx0XHQvLyBJZiB3ZSdyZSBvcGVuaW5nIGZyb20gY29sbGFwc2VkIHN0YXRlLCByZW1vdmUgdGhlIHByZXZpb3VzIHRhYiBmcm9tIHRoZSB0YWIgb3JkZXIuXG5cdFx0Ly8gSWYgd2UncmUgY29sbGFwc2luZywgdGhlbiBrZWVwIHRoZSBjb2xsYXBzaW5nIHRhYiBpbiB0aGUgdGFiIG9yZGVyLlxuXHRcdGlmICggdG9TaG93Lmxlbmd0aCAmJiB0b0hpZGUubGVuZ3RoICkge1xuXHRcdFx0ZXZlbnREYXRhLm9sZFRhYi5hdHRyKCBcInRhYkluZGV4XCIsIC0xICk7XG5cdFx0fSBlbHNlIGlmICggdG9TaG93Lmxlbmd0aCApIHtcblx0XHRcdHRoaXMudGFicy5maWx0ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAkKCB0aGlzICkuYXR0ciggXCJ0YWJJbmRleFwiICkgPT09IDA7XG5cdFx0XHR9KVxuXHRcdFx0LmF0dHIoIFwidGFiSW5kZXhcIiwgLTEgKTtcblx0XHR9XG5cblx0XHR0b1Nob3cuYXR0ciggXCJhcmlhLWhpZGRlblwiLCBcImZhbHNlXCIgKTtcblx0XHRldmVudERhdGEubmV3VGFiLmF0dHIoe1xuXHRcdFx0XCJhcmlhLXNlbGVjdGVkXCI6IFwidHJ1ZVwiLFxuXHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwidHJ1ZVwiLFxuXHRcdFx0dGFiSW5kZXg6IDBcblx0XHR9KTtcblx0fSxcblxuXHRfYWN0aXZhdGU6IGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHR2YXIgYW5jaG9yLFxuXHRcdFx0YWN0aXZlID0gdGhpcy5fZmluZEFjdGl2ZSggaW5kZXggKTtcblxuXHRcdC8vIHRyeWluZyB0byBhY3RpdmF0ZSB0aGUgYWxyZWFkeSBhY3RpdmUgcGFuZWxcblx0XHRpZiAoIGFjdGl2ZVsgMCBdID09PSB0aGlzLmFjdGl2ZVsgMCBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIHRyeWluZyB0byBjb2xsYXBzZSwgc2ltdWxhdGUgYSBjbGljayBvbiB0aGUgY3VycmVudCBhY3RpdmUgaGVhZGVyXG5cdFx0aWYgKCAhYWN0aXZlLmxlbmd0aCApIHtcblx0XHRcdGFjdGl2ZSA9IHRoaXMuYWN0aXZlO1xuXHRcdH1cblxuXHRcdGFuY2hvciA9IGFjdGl2ZS5maW5kKCBcIi51aS10YWJzLWFuY2hvclwiIClbIDAgXTtcblx0XHR0aGlzLl9ldmVudEhhbmRsZXIoe1xuXHRcdFx0dGFyZ2V0OiBhbmNob3IsXG5cdFx0XHRjdXJyZW50VGFyZ2V0OiBhbmNob3IsXG5cdFx0XHRwcmV2ZW50RGVmYXVsdDogJC5ub29wXG5cdFx0fSk7XG5cdH0sXG5cblx0X2ZpbmRBY3RpdmU6IGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRyZXR1cm4gaW5kZXggPT09IGZhbHNlID8gJCgpIDogdGhpcy50YWJzLmVxKCBpbmRleCApO1xuXHR9LFxuXG5cdF9nZXRJbmRleDogZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdC8vIG1ldGEtZnVuY3Rpb24gdG8gZ2l2ZSB1c2VycyBvcHRpb24gdG8gcHJvdmlkZSBhIGhyZWYgc3RyaW5nIGluc3RlYWQgb2YgYSBudW1lcmljYWwgaW5kZXguXG5cdFx0aWYgKCB0eXBlb2YgaW5kZXggPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRpbmRleCA9IHRoaXMuYW5jaG9ycy5pbmRleCggdGhpcy5hbmNob3JzLmZpbHRlciggXCJbaHJlZiQ9J1wiICsgaW5kZXggKyBcIiddXCIgKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBpbmRleDtcblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCB0aGlzLnhociApIHtcblx0XHRcdHRoaXMueGhyLmFib3J0KCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCBcInVpLXRhYnMgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwgdWktdGFicy1jb2xsYXBzaWJsZVwiICk7XG5cblx0XHR0aGlzLnRhYmxpc3Rcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS10YWJzLW5hdiB1aS1oZWxwZXItcmVzZXQgdWktaGVscGVyLWNsZWFyZml4IHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbFwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcInJvbGVcIiApO1xuXG5cdFx0dGhpcy5hbmNob3JzXG5cdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktdGFicy1hbmNob3JcIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJyb2xlXCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwidGFiSW5kZXhcIiApXG5cdFx0XHQucmVtb3ZlVW5pcXVlSWQoKTtcblxuXHRcdHRoaXMudGFibGlzdC51bmJpbmQoIHRoaXMuZXZlbnROYW1lc3BhY2UgKTtcblxuXHRcdHRoaXMudGFicy5hZGQoIHRoaXMucGFuZWxzICkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGlmICggJC5kYXRhKCB0aGlzLCBcInVpLXRhYnMtZGVzdHJveVwiICkgKSB7XG5cdFx0XHRcdCQoIHRoaXMgKS5yZW1vdmUoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoIHRoaXMgKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLXN0YXRlLWFjdGl2ZSB1aS1zdGF0ZS1kaXNhYmxlZCBcIiArXG5cdFx0XHRcdFx0XHRcInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSB1aS13aWRnZXQtY29udGVudCB1aS10YWJzLWFjdGl2ZSB1aS10YWJzLXBhbmVsXCIgKVxuXHRcdFx0XHRcdC5yZW1vdmVBdHRyKCBcInRhYkluZGV4XCIgKVxuXHRcdFx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtbGl2ZVwiIClcblx0XHRcdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWJ1c3lcIiApXG5cdFx0XHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1zZWxlY3RlZFwiIClcblx0XHRcdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWxhYmVsbGVkYnlcIiApXG5cdFx0XHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1oaWRkZW5cIiApXG5cdFx0XHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1leHBhbmRlZFwiIClcblx0XHRcdFx0XHQucmVtb3ZlQXR0ciggXCJyb2xlXCIgKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHRoaXMudGFicy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGxpID0gJCggdGhpcyApLFxuXHRcdFx0XHRwcmV2ID0gbGkuZGF0YSggXCJ1aS10YWJzLWFyaWEtY29udHJvbHNcIiApO1xuXHRcdFx0aWYgKCBwcmV2ICkge1xuXHRcdFx0XHRsaVxuXHRcdFx0XHRcdC5hdHRyKCBcImFyaWEtY29udHJvbHNcIiwgcHJldiApXG5cdFx0XHRcdFx0LnJlbW92ZURhdGEoIFwidWktdGFicy1hcmlhLWNvbnRyb2xzXCIgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxpLnJlbW92ZUF0dHIoIFwiYXJpYS1jb250cm9sc1wiICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR0aGlzLnBhbmVscy5zaG93KCk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSAhPT0gXCJjb250ZW50XCIgKSB7XG5cdFx0XHR0aGlzLnBhbmVscy5jc3MoIFwiaGVpZ2h0XCIsIFwiXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0ZW5hYmxlOiBmdW5jdGlvbiggaW5kZXggKSB7XG5cdFx0dmFyIGRpc2FibGVkID0gdGhpcy5vcHRpb25zLmRpc2FibGVkO1xuXHRcdGlmICggZGlzYWJsZWQgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggaW5kZXggPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGRpc2FibGVkID0gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGluZGV4ID0gdGhpcy5fZ2V0SW5kZXgoIGluZGV4ICk7XG5cdFx0XHRpZiAoICQuaXNBcnJheSggZGlzYWJsZWQgKSApIHtcblx0XHRcdFx0ZGlzYWJsZWQgPSAkLm1hcCggZGlzYWJsZWQsIGZ1bmN0aW9uKCBudW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG51bSAhPT0gaW5kZXggPyBudW0gOiBudWxsO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRpc2FibGVkID0gJC5tYXAoIHRoaXMudGFicywgZnVuY3Rpb24oIGxpLCBudW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG51bSAhPT0gaW5kZXggPyBudW0gOiBudWxsO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5fc2V0dXBEaXNhYmxlZCggZGlzYWJsZWQgKTtcblx0fSxcblxuXHRkaXNhYmxlOiBmdW5jdGlvbiggaW5kZXggKSB7XG5cdFx0dmFyIGRpc2FibGVkID0gdGhpcy5vcHRpb25zLmRpc2FibGVkO1xuXHRcdGlmICggZGlzYWJsZWQgPT09IHRydWUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBpbmRleCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0ZGlzYWJsZWQgPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpbmRleCA9IHRoaXMuX2dldEluZGV4KCBpbmRleCApO1xuXHRcdFx0aWYgKCAkLmluQXJyYXkoIGluZGV4LCBkaXNhYmxlZCApICE9PSAtMSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAkLmlzQXJyYXkoIGRpc2FibGVkICkgKSB7XG5cdFx0XHRcdGRpc2FibGVkID0gJC5tZXJnZSggWyBpbmRleCBdLCBkaXNhYmxlZCApLnNvcnQoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRpc2FibGVkID0gWyBpbmRleCBdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLl9zZXR1cERpc2FibGVkKCBkaXNhYmxlZCApO1xuXHR9LFxuXG5cdGxvYWQ6IGZ1bmN0aW9uKCBpbmRleCwgZXZlbnQgKSB7XG5cdFx0aW5kZXggPSB0aGlzLl9nZXRJbmRleCggaW5kZXggKTtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHR0YWIgPSB0aGlzLnRhYnMuZXEoIGluZGV4ICksXG5cdFx0XHRhbmNob3IgPSB0YWIuZmluZCggXCIudWktdGFicy1hbmNob3JcIiApLFxuXHRcdFx0cGFuZWwgPSB0aGlzLl9nZXRQYW5lbEZvclRhYiggdGFiICksXG5cdFx0XHRldmVudERhdGEgPSB7XG5cdFx0XHRcdHRhYjogdGFiLFxuXHRcdFx0XHRwYW5lbDogcGFuZWxcblx0XHRcdH0sXG5cdFx0XHRjb21wbGV0ZSA9IGZ1bmN0aW9uKCBqcVhIUiwgc3RhdHVzICkge1xuXHRcdFx0XHRpZiAoIHN0YXR1cyA9PT0gXCJhYm9ydFwiICkge1xuXHRcdFx0XHRcdHRoYXQucGFuZWxzLnN0b3AoIGZhbHNlLCB0cnVlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0YWIucmVtb3ZlQ2xhc3MoIFwidWktdGFicy1sb2FkaW5nXCIgKTtcblx0XHRcdFx0cGFuZWwucmVtb3ZlQXR0ciggXCJhcmlhLWJ1c3lcIiApO1xuXG5cdFx0XHRcdGlmICgganFYSFIgPT09IHRoYXQueGhyICkge1xuXHRcdFx0XHRcdGRlbGV0ZSB0aGF0Lnhocjtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdC8vIG5vdCByZW1vdGVcblx0XHRpZiAoIHRoaXMuX2lzTG9jYWwoIGFuY2hvclsgMCBdICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy54aHIgPSAkLmFqYXgoIHRoaXMuX2FqYXhTZXR0aW5ncyggYW5jaG9yLCBldmVudCwgZXZlbnREYXRhICkgKTtcblxuXHRcdC8vIHN1cHBvcnQ6IGpRdWVyeSA8MS44XG5cdFx0Ly8galF1ZXJ5IDwxLjggcmV0dXJucyBmYWxzZSBpZiB0aGUgcmVxdWVzdCBpcyBjYW5jZWxlZCBpbiBiZWZvcmVTZW5kLFxuXHRcdC8vIGJ1dCBhcyBvZiAxLjgsICQuYWpheCgpIGFsd2F5cyByZXR1cm5zIGEganFYSFIgb2JqZWN0LlxuXHRcdGlmICggdGhpcy54aHIgJiYgdGhpcy54aHIuc3RhdHVzVGV4dCAhPT0gXCJjYW5jZWxlZFwiICkge1xuXHRcdFx0dGFiLmFkZENsYXNzKCBcInVpLXRhYnMtbG9hZGluZ1wiICk7XG5cdFx0XHRwYW5lbC5hdHRyKCBcImFyaWEtYnVzeVwiLCBcInRydWVcIiApO1xuXG5cdFx0XHR0aGlzLnhoclxuXHRcdFx0XHQuZG9uZShmdW5jdGlvbiggcmVzcG9uc2UsIHN0YXR1cywganFYSFIgKSB7XG5cdFx0XHRcdFx0Ly8gc3VwcG9ydDogalF1ZXJ5IDwxLjhcblx0XHRcdFx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMTc3OFxuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRwYW5lbC5odG1sKCByZXNwb25zZSApO1xuXHRcdFx0XHRcdFx0dGhhdC5fdHJpZ2dlciggXCJsb2FkXCIsIGV2ZW50LCBldmVudERhdGEgKTtcblxuXHRcdFx0XHRcdFx0Y29tcGxldGUoIGpxWEhSLCBzdGF0dXMgKTtcblx0XHRcdFx0XHR9LCAxICk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5mYWlsKGZ1bmN0aW9uKCBqcVhIUiwgc3RhdHVzICkge1xuXHRcdFx0XHRcdC8vIHN1cHBvcnQ6IGpRdWVyeSA8MS44XG5cdFx0XHRcdFx0Ly8gaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTE3Nzhcblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0Y29tcGxldGUoIGpxWEhSLCBzdGF0dXMgKTtcblx0XHRcdFx0XHR9LCAxICk7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblx0fSxcblxuXHRfYWpheFNldHRpbmdzOiBmdW5jdGlvbiggYW5jaG9yLCBldmVudCwgZXZlbnREYXRhICkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHRyZXR1cm4ge1xuXHRcdFx0dXJsOiBhbmNob3IuYXR0ciggXCJocmVmXCIgKSxcblx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCBqcVhIUiwgc2V0dGluZ3MgKSB7XG5cdFx0XHRcdHJldHVybiB0aGF0Ll90cmlnZ2VyKCBcImJlZm9yZUxvYWRcIiwgZXZlbnQsXG5cdFx0XHRcdFx0JC5leHRlbmQoIHsganFYSFI6IGpxWEhSLCBhamF4U2V0dGluZ3M6IHNldHRpbmdzIH0sIGV2ZW50RGF0YSApICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSxcblxuXHRfZ2V0UGFuZWxGb3JUYWI6IGZ1bmN0aW9uKCB0YWIgKSB7XG5cdFx0dmFyIGlkID0gJCggdGFiICkuYXR0ciggXCJhcmlhLWNvbnRyb2xzXCIgKTtcblx0XHRyZXR1cm4gdGhpcy5lbGVtZW50LmZpbmQoIHRoaXMuX3Nhbml0aXplU2VsZWN0b3IoIFwiI1wiICsgaWQgKSApO1xuXHR9XG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBUb29sdGlwIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vdG9vbHRpcC9cbiAqL1xuXG5cbnZhciB0b29sdGlwID0gJC53aWRnZXQoIFwidWkudG9vbHRpcFwiLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdG9wdGlvbnM6IHtcblx0XHRjb250ZW50OiBmdW5jdGlvbigpIHtcblx0XHRcdC8vIHN1cHBvcnQ6IElFPDksIE9wZXJhIGluIGpRdWVyeSA8MS43XG5cdFx0XHQvLyAudGV4dCgpIGNhbid0IGFjY2VwdCB1bmRlZmluZWQsIHNvIGNvZXJjZSB0byBhIHN0cmluZ1xuXHRcdFx0dmFyIHRpdGxlID0gJCggdGhpcyApLmF0dHIoIFwidGl0bGVcIiApIHx8IFwiXCI7XG5cdFx0XHQvLyBFc2NhcGUgdGl0bGUsIHNpbmNlIHdlJ3JlIGdvaW5nIGZyb20gYW4gYXR0cmlidXRlIHRvIHJhdyBIVE1MXG5cdFx0XHRyZXR1cm4gJCggXCI8YT5cIiApLnRleHQoIHRpdGxlICkuaHRtbCgpO1xuXHRcdH0sXG5cdFx0aGlkZTogdHJ1ZSxcblx0XHQvLyBEaXNhYmxlZCBlbGVtZW50cyBoYXZlIGluY29uc2lzdGVudCBiZWhhdmlvciBhY3Jvc3MgYnJvd3NlcnMgKCM4NjYxKVxuXHRcdGl0ZW1zOiBcIlt0aXRsZV06bm90KFtkaXNhYmxlZF0pXCIsXG5cdFx0cG9zaXRpb246IHtcblx0XHRcdG15OiBcImxlZnQgdG9wKzE1XCIsXG5cdFx0XHRhdDogXCJsZWZ0IGJvdHRvbVwiLFxuXHRcdFx0Y29sbGlzaW9uOiBcImZsaXBmaXQgZmxpcFwiXG5cdFx0fSxcblx0XHRzaG93OiB0cnVlLFxuXHRcdHRvb2x0aXBDbGFzczogbnVsbCxcblx0XHR0cmFjazogZmFsc2UsXG5cblx0XHQvLyBjYWxsYmFja3Ncblx0XHRjbG9zZTogbnVsbCxcblx0XHRvcGVuOiBudWxsXG5cdH0sXG5cblx0X2FkZERlc2NyaWJlZEJ5OiBmdW5jdGlvbiggZWxlbSwgaWQgKSB7XG5cdFx0dmFyIGRlc2NyaWJlZGJ5ID0gKGVsZW0uYXR0ciggXCJhcmlhLWRlc2NyaWJlZGJ5XCIgKSB8fCBcIlwiKS5zcGxpdCggL1xccysvICk7XG5cdFx0ZGVzY3JpYmVkYnkucHVzaCggaWQgKTtcblx0XHRlbGVtXG5cdFx0XHQuZGF0YSggXCJ1aS10b29sdGlwLWlkXCIsIGlkIClcblx0XHRcdC5hdHRyKCBcImFyaWEtZGVzY3JpYmVkYnlcIiwgJC50cmltKCBkZXNjcmliZWRieS5qb2luKCBcIiBcIiApICkgKTtcblx0fSxcblxuXHRfcmVtb3ZlRGVzY3JpYmVkQnk6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBpZCA9IGVsZW0uZGF0YSggXCJ1aS10b29sdGlwLWlkXCIgKSxcblx0XHRcdGRlc2NyaWJlZGJ5ID0gKGVsZW0uYXR0ciggXCJhcmlhLWRlc2NyaWJlZGJ5XCIgKSB8fCBcIlwiKS5zcGxpdCggL1xccysvICksXG5cdFx0XHRpbmRleCA9ICQuaW5BcnJheSggaWQsIGRlc2NyaWJlZGJ5ICk7XG5cblx0XHRpZiAoIGluZGV4ICE9PSAtMSApIHtcblx0XHRcdGRlc2NyaWJlZGJ5LnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHR9XG5cblx0XHRlbGVtLnJlbW92ZURhdGEoIFwidWktdG9vbHRpcC1pZFwiICk7XG5cdFx0ZGVzY3JpYmVkYnkgPSAkLnRyaW0oIGRlc2NyaWJlZGJ5LmpvaW4oIFwiIFwiICkgKTtcblx0XHRpZiAoIGRlc2NyaWJlZGJ5ICkge1xuXHRcdFx0ZWxlbS5hdHRyKCBcImFyaWEtZGVzY3JpYmVkYnlcIiwgZGVzY3JpYmVkYnkgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbS5yZW1vdmVBdHRyKCBcImFyaWEtZGVzY3JpYmVkYnlcIiApO1xuXHRcdH1cblx0fSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9vbih7XG5cdFx0XHRtb3VzZW92ZXI6IFwib3BlblwiLFxuXHRcdFx0Zm9jdXNpbjogXCJvcGVuXCJcblx0XHR9KTtcblxuXHRcdC8vIElEcyBvZiBnZW5lcmF0ZWQgdG9vbHRpcHMsIG5lZWRlZCBmb3IgZGVzdHJveVxuXHRcdHRoaXMudG9vbHRpcHMgPSB7fTtcblxuXHRcdC8vIElEcyBvZiBwYXJlbnQgdG9vbHRpcHMgd2hlcmUgd2UgcmVtb3ZlZCB0aGUgdGl0bGUgYXR0cmlidXRlXG5cdFx0dGhpcy5wYXJlbnRzID0ge307XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdHRoaXMuX2Rpc2FibGUoKTtcblx0XHR9XG5cblx0XHQvLyBBcHBlbmQgdGhlIGFyaWEtbGl2ZSByZWdpb24gc28gdG9vbHRpcHMgYW5ub3VuY2UgY29ycmVjdGx5XG5cdFx0dGhpcy5saXZlUmVnaW9uID0gJCggXCI8ZGl2PlwiIClcblx0XHRcdC5hdHRyKHtcblx0XHRcdFx0cm9sZTogXCJsb2dcIixcblx0XHRcdFx0XCJhcmlhLWxpdmVcIjogXCJhc3NlcnRpdmVcIixcblx0XHRcdFx0XCJhcmlhLXJlbGV2YW50XCI6IFwiYWRkaXRpb25zXCJcblx0XHRcdH0pXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlXCIgKVxuXHRcdFx0LmFwcGVuZFRvKCB0aGlzLmRvY3VtZW50WyAwIF0uYm9keSApO1xuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdGlmICgga2V5ID09PSBcImRpc2FibGVkXCIgKSB7XG5cdFx0XHR0aGlzWyB2YWx1ZSA/IFwiX2Rpc2FibGVcIiA6IFwiX2VuYWJsZVwiIF0oKTtcblx0XHRcdHRoaXMub3B0aW9uc1sga2V5IF0gPSB2YWx1ZTtcblx0XHRcdC8vIGRpc2FibGUgZWxlbWVudCBzdHlsZSBjaGFuZ2VzXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblxuXHRcdGlmICgga2V5ID09PSBcImNvbnRlbnRcIiApIHtcblx0XHRcdCQuZWFjaCggdGhpcy50b29sdGlwcywgZnVuY3Rpb24oIGlkLCB0b29sdGlwRGF0YSApIHtcblx0XHRcdFx0dGhhdC5fdXBkYXRlQ29udGVudCggdG9vbHRpcERhdGEuZWxlbWVudCApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9kaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHQvLyBjbG9zZSBvcGVuIHRvb2x0aXBzXG5cdFx0JC5lYWNoKCB0aGlzLnRvb2x0aXBzLCBmdW5jdGlvbiggaWQsIHRvb2x0aXBEYXRhICkge1xuXHRcdFx0dmFyIGV2ZW50ID0gJC5FdmVudCggXCJibHVyXCIgKTtcblx0XHRcdGV2ZW50LnRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQgPSB0b29sdGlwRGF0YS5lbGVtZW50WyAwIF07XG5cdFx0XHR0aGF0LmNsb3NlKCBldmVudCwgdHJ1ZSApO1xuXHRcdH0pO1xuXG5cdFx0Ly8gcmVtb3ZlIHRpdGxlIGF0dHJpYnV0ZXMgdG8gcHJldmVudCBuYXRpdmUgdG9vbHRpcHNcblx0XHR0aGlzLmVsZW1lbnQuZmluZCggdGhpcy5vcHRpb25zLml0ZW1zICkuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZWxlbWVudCA9ICQoIHRoaXMgKTtcblx0XHRcdGlmICggZWxlbWVudC5pcyggXCJbdGl0bGVdXCIgKSApIHtcblx0XHRcdFx0ZWxlbWVudFxuXHRcdFx0XHRcdC5kYXRhKCBcInVpLXRvb2x0aXAtdGl0bGVcIiwgZWxlbWVudC5hdHRyKCBcInRpdGxlXCIgKSApXG5cdFx0XHRcdFx0LnJlbW92ZUF0dHIoIFwidGl0bGVcIiApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdF9lbmFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdC8vIHJlc3RvcmUgdGl0bGUgYXR0cmlidXRlc1xuXHRcdHRoaXMuZWxlbWVudC5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKS5hZGRCYWNrKCkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlbGVtZW50ID0gJCggdGhpcyApO1xuXHRcdFx0aWYgKCBlbGVtZW50LmRhdGEoIFwidWktdG9vbHRpcC10aXRsZVwiICkgKSB7XG5cdFx0XHRcdGVsZW1lbnQuYXR0ciggXCJ0aXRsZVwiLCBlbGVtZW50LmRhdGEoIFwidWktdG9vbHRpcC10aXRsZVwiICkgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRvcGVuOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0dGFyZ2V0ID0gJCggZXZlbnQgPyBldmVudC50YXJnZXQgOiB0aGlzLmVsZW1lbnQgKVxuXHRcdFx0XHQvLyB3ZSBuZWVkIGNsb3Nlc3QgaGVyZSBkdWUgdG8gbW91c2VvdmVyIGJ1YmJsaW5nLFxuXHRcdFx0XHQvLyBidXQgYWx3YXlzIHBvaW50aW5nIGF0IHRoZSBzYW1lIGV2ZW50IHRhcmdldFxuXHRcdFx0XHQuY2xvc2VzdCggdGhpcy5vcHRpb25zLml0ZW1zICk7XG5cblx0XHQvLyBObyBlbGVtZW50IHRvIHNob3cgYSB0b29sdGlwIGZvciBvciB0aGUgdG9vbHRpcCBpcyBhbHJlYWR5IG9wZW5cblx0XHRpZiAoICF0YXJnZXQubGVuZ3RoIHx8IHRhcmdldC5kYXRhKCBcInVpLXRvb2x0aXAtaWRcIiApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdGFyZ2V0LmF0dHIoIFwidGl0bGVcIiApICkge1xuXHRcdFx0dGFyZ2V0LmRhdGEoIFwidWktdG9vbHRpcC10aXRsZVwiLCB0YXJnZXQuYXR0ciggXCJ0aXRsZVwiICkgKTtcblx0XHR9XG5cblx0XHR0YXJnZXQuZGF0YSggXCJ1aS10b29sdGlwLW9wZW5cIiwgdHJ1ZSApO1xuXG5cdFx0Ly8ga2lsbCBwYXJlbnQgdG9vbHRpcHMsIGN1c3RvbSBvciBuYXRpdmUsIGZvciBob3ZlclxuXHRcdGlmICggZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gXCJtb3VzZW92ZXJcIiApIHtcblx0XHRcdHRhcmdldC5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHBhcmVudCA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRibHVyRXZlbnQ7XG5cdFx0XHRcdGlmICggcGFyZW50LmRhdGEoIFwidWktdG9vbHRpcC1vcGVuXCIgKSApIHtcblx0XHRcdFx0XHRibHVyRXZlbnQgPSAkLkV2ZW50KCBcImJsdXJcIiApO1xuXHRcdFx0XHRcdGJsdXJFdmVudC50YXJnZXQgPSBibHVyRXZlbnQuY3VycmVudFRhcmdldCA9IHRoaXM7XG5cdFx0XHRcdFx0dGhhdC5jbG9zZSggYmx1ckV2ZW50LCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBwYXJlbnQuYXR0ciggXCJ0aXRsZVwiICkgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnVuaXF1ZUlkKCk7XG5cdFx0XHRcdFx0dGhhdC5wYXJlbnRzWyB0aGlzLmlkIF0gPSB7XG5cdFx0XHRcdFx0XHRlbGVtZW50OiB0aGlzLFxuXHRcdFx0XHRcdFx0dGl0bGU6IHBhcmVudC5hdHRyKCBcInRpdGxlXCIgKVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0cGFyZW50LmF0dHIoIFwidGl0bGVcIiwgXCJcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHR0aGlzLl9yZWdpc3RlckNsb3NlSGFuZGxlcnMoIGV2ZW50LCB0YXJnZXQgKTtcblx0XHR0aGlzLl91cGRhdGVDb250ZW50KCB0YXJnZXQsIGV2ZW50ICk7XG5cdH0sXG5cblx0X3VwZGF0ZUNvbnRlbnQ6IGZ1bmN0aW9uKCB0YXJnZXQsIGV2ZW50ICkge1xuXHRcdHZhciBjb250ZW50LFxuXHRcdFx0Y29udGVudE9wdGlvbiA9IHRoaXMub3B0aW9ucy5jb250ZW50LFxuXHRcdFx0dGhhdCA9IHRoaXMsXG5cdFx0XHRldmVudFR5cGUgPSBldmVudCA/IGV2ZW50LnR5cGUgOiBudWxsO1xuXG5cdFx0aWYgKCB0eXBlb2YgY29udGVudE9wdGlvbiA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLl9vcGVuKCBldmVudCwgdGFyZ2V0LCBjb250ZW50T3B0aW9uICk7XG5cdFx0fVxuXG5cdFx0Y29udGVudCA9IGNvbnRlbnRPcHRpb24uY2FsbCggdGFyZ2V0WzBdLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cblx0XHRcdC8vIElFIG1heSBpbnN0YW50bHkgc2VydmUgYSBjYWNoZWQgcmVzcG9uc2UgZm9yIGFqYXggcmVxdWVzdHNcblx0XHRcdC8vIGRlbGF5IHRoaXMgY2FsbCB0byBfb3BlbiBzbyB0aGUgb3RoZXIgY2FsbCB0byBfb3BlbiBydW5zIGZpcnN0XG5cdFx0XHR0aGF0Ll9kZWxheShmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBJZ25vcmUgYXN5bmMgcmVzcG9uc2UgaWYgdG9vbHRpcCB3YXMgY2xvc2VkIGFscmVhZHlcblx0XHRcdFx0aWYgKCAhdGFyZ2V0LmRhdGEoIFwidWktdG9vbHRpcC1vcGVuXCIgKSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBqUXVlcnkgY3JlYXRlcyBhIHNwZWNpYWwgZXZlbnQgZm9yIGZvY3VzaW4gd2hlbiBpdCBkb2Vzbid0XG5cdFx0XHRcdC8vIGV4aXN0IG5hdGl2ZWx5LiBUbyBpbXByb3ZlIHBlcmZvcm1hbmNlLCB0aGUgbmF0aXZlIGV2ZW50XG5cdFx0XHRcdC8vIG9iamVjdCBpcyByZXVzZWQgYW5kIHRoZSB0eXBlIGlzIGNoYW5nZWQuIFRoZXJlZm9yZSwgd2UgY2FuJ3Rcblx0XHRcdFx0Ly8gcmVseSBvbiB0aGUgdHlwZSBiZWluZyBjb3JyZWN0IGFmdGVyIHRoZSBldmVudCBmaW5pc2hlZFxuXHRcdFx0XHQvLyBidWJibGluZywgc28gd2Ugc2V0IGl0IGJhY2sgdG8gdGhlIHByZXZpb3VzIHZhbHVlLiAoIzg3NDApXG5cdFx0XHRcdGlmICggZXZlbnQgKSB7XG5cdFx0XHRcdFx0ZXZlbnQudHlwZSA9IGV2ZW50VHlwZTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLl9vcGVuKCBldmVudCwgdGFyZ2V0LCByZXNwb25zZSApO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0aWYgKCBjb250ZW50ICkge1xuXHRcdFx0dGhpcy5fb3BlbiggZXZlbnQsIHRhcmdldCwgY29udGVudCApO1xuXHRcdH1cblx0fSxcblxuXHRfb3BlbjogZnVuY3Rpb24oIGV2ZW50LCB0YXJnZXQsIGNvbnRlbnQgKSB7XG5cdFx0dmFyIHRvb2x0aXBEYXRhLCB0b29sdGlwLCBkZWxheWVkU2hvdywgYTExeUNvbnRlbnQsXG5cdFx0XHRwb3NpdGlvbk9wdGlvbiA9ICQuZXh0ZW5kKCB7fSwgdGhpcy5vcHRpb25zLnBvc2l0aW9uICk7XG5cblx0XHRpZiAoICFjb250ZW50ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENvbnRlbnQgY2FuIGJlIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMuIElmIHRoZSB0b29sdGlwIGFscmVhZHlcblx0XHQvLyBleGlzdHMsIHRoZW4ganVzdCB1cGRhdGUgdGhlIGNvbnRlbnQgYW5kIGJhaWwuXG5cdFx0dG9vbHRpcERhdGEgPSB0aGlzLl9maW5kKCB0YXJnZXQgKTtcblx0XHRpZiAoIHRvb2x0aXBEYXRhICkge1xuXHRcdFx0dG9vbHRpcERhdGEudG9vbHRpcC5maW5kKCBcIi51aS10b29sdGlwLWNvbnRlbnRcIiApLmh0bWwoIGNvbnRlbnQgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBpZiB3ZSBoYXZlIGEgdGl0bGUsIGNsZWFyIGl0IHRvIHByZXZlbnQgdGhlIG5hdGl2ZSB0b29sdGlwXG5cdFx0Ly8gd2UgaGF2ZSB0byBjaGVjayBmaXJzdCB0byBhdm9pZCBkZWZpbmluZyBhIHRpdGxlIGlmIG5vbmUgZXhpc3RzXG5cdFx0Ly8gKHdlIGRvbid0IHdhbnQgdG8gY2F1c2UgYW4gZWxlbWVudCB0byBzdGFydCBtYXRjaGluZyBbdGl0bGVdKVxuXHRcdC8vXG5cdFx0Ly8gV2UgdXNlIHJlbW92ZUF0dHIgb25seSBmb3Iga2V5IGV2ZW50cywgdG8gYWxsb3cgSUUgdG8gZXhwb3J0IHRoZSBjb3JyZWN0XG5cdFx0Ly8gYWNjZXNzaWJsZSBhdHRyaWJ1dGVzLiBGb3IgbW91c2UgZXZlbnRzLCBzZXQgdG8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkXG5cdFx0Ly8gbmF0aXZlIHRvb2x0aXAgc2hvd2luZyB1cCAoaGFwcGVucyBvbmx5IHdoZW4gcmVtb3ZpbmcgaW5zaWRlIG1vdXNlb3ZlcikuXG5cdFx0aWYgKCB0YXJnZXQuaXMoIFwiW3RpdGxlXVwiICkgKSB7XG5cdFx0XHRpZiAoIGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09IFwibW91c2VvdmVyXCIgKSB7XG5cdFx0XHRcdHRhcmdldC5hdHRyKCBcInRpdGxlXCIsIFwiXCIgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRhcmdldC5yZW1vdmVBdHRyKCBcInRpdGxlXCIgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0b29sdGlwRGF0YSA9IHRoaXMuX3Rvb2x0aXAoIHRhcmdldCApO1xuXHRcdHRvb2x0aXAgPSB0b29sdGlwRGF0YS50b29sdGlwO1xuXHRcdHRoaXMuX2FkZERlc2NyaWJlZEJ5KCB0YXJnZXQsIHRvb2x0aXAuYXR0ciggXCJpZFwiICkgKTtcblx0XHR0b29sdGlwLmZpbmQoIFwiLnVpLXRvb2x0aXAtY29udGVudFwiICkuaHRtbCggY29udGVudCApO1xuXG5cdFx0Ly8gU3VwcG9ydDogVm9pY2VvdmVyIG9uIE9TIFgsIEpBV1Mgb24gSUUgPD0gOVxuXHRcdC8vIEpBV1MgYW5ub3VuY2VzIGRlbGV0aW9ucyBldmVuIHdoZW4gYXJpYS1yZWxldmFudD1cImFkZGl0aW9uc1wiXG5cdFx0Ly8gVm9pY2VvdmVyIHdpbGwgc29tZXRpbWVzIHJlLXJlYWQgdGhlIGVudGlyZSBsb2cgcmVnaW9uJ3MgY29udGVudHMgZnJvbSB0aGUgYmVnaW5uaW5nXG5cdFx0dGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpO1xuXHRcdGlmICggY29udGVudC5jbG9uZSApIHtcblx0XHRcdGExMXlDb250ZW50ID0gY29udGVudC5jbG9uZSgpO1xuXHRcdFx0YTExeUNvbnRlbnQucmVtb3ZlQXR0ciggXCJpZFwiICkuZmluZCggXCJbaWRdXCIgKS5yZW1vdmVBdHRyKCBcImlkXCIgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YTExeUNvbnRlbnQgPSBjb250ZW50O1xuXHRcdH1cblx0XHQkKCBcIjxkaXY+XCIgKS5odG1sKCBhMTF5Q29udGVudCApLmFwcGVuZFRvKCB0aGlzLmxpdmVSZWdpb24gKTtcblxuXHRcdGZ1bmN0aW9uIHBvc2l0aW9uKCBldmVudCApIHtcblx0XHRcdHBvc2l0aW9uT3B0aW9uLm9mID0gZXZlbnQ7XG5cdFx0XHRpZiAoIHRvb2x0aXAuaXMoIFwiOmhpZGRlblwiICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdHRvb2x0aXAucG9zaXRpb24oIHBvc2l0aW9uT3B0aW9uICk7XG5cdFx0fVxuXHRcdGlmICggdGhpcy5vcHRpb25zLnRyYWNrICYmIGV2ZW50ICYmIC9ebW91c2UvLnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdHRoaXMuX29uKCB0aGlzLmRvY3VtZW50LCB7XG5cdFx0XHRcdG1vdXNlbW92ZTogcG9zaXRpb25cblx0XHRcdH0pO1xuXHRcdFx0Ly8gdHJpZ2dlciBvbmNlIHRvIG92ZXJyaWRlIGVsZW1lbnQtcmVsYXRpdmUgcG9zaXRpb25pbmdcblx0XHRcdHBvc2l0aW9uKCBldmVudCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0b29sdGlwLnBvc2l0aW9uKCAkLmV4dGVuZCh7XG5cdFx0XHRcdG9mOiB0YXJnZXRcblx0XHRcdH0sIHRoaXMub3B0aW9ucy5wb3NpdGlvbiApICk7XG5cdFx0fVxuXG5cdFx0dG9vbHRpcC5oaWRlKCk7XG5cblx0XHR0aGlzLl9zaG93KCB0b29sdGlwLCB0aGlzLm9wdGlvbnMuc2hvdyApO1xuXHRcdC8vIEhhbmRsZSB0cmFja2luZyB0b29sdGlwcyB0aGF0IGFyZSBzaG93biB3aXRoIGEgZGVsYXkgKCM4NjQ0KS4gQXMgc29vblxuXHRcdC8vIGFzIHRoZSB0b29sdGlwIGlzIHZpc2libGUsIHBvc2l0aW9uIHRoZSB0b29sdGlwIHVzaW5nIHRoZSBtb3N0IHJlY2VudFxuXHRcdC8vIGV2ZW50LlxuXHRcdGlmICggdGhpcy5vcHRpb25zLnNob3cgJiYgdGhpcy5vcHRpb25zLnNob3cuZGVsYXkgKSB7XG5cdFx0XHRkZWxheWVkU2hvdyA9IHRoaXMuZGVsYXllZFNob3cgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0b29sdGlwLmlzKCBcIjp2aXNpYmxlXCIgKSApIHtcblx0XHRcdFx0XHRwb3NpdGlvbiggcG9zaXRpb25PcHRpb24ub2YgKTtcblx0XHRcdFx0XHRjbGVhckludGVydmFsKCBkZWxheWVkU2hvdyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCAkLmZ4LmludGVydmFsICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fdHJpZ2dlciggXCJvcGVuXCIsIGV2ZW50LCB7IHRvb2x0aXA6IHRvb2x0aXAgfSApO1xuXHR9LFxuXG5cdF9yZWdpc3RlckNsb3NlSGFuZGxlcnM6IGZ1bmN0aW9uKCBldmVudCwgdGFyZ2V0ICkge1xuXHRcdHZhciBldmVudHMgPSB7XG5cdFx0XHRrZXl1cDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5FU0NBUEUgKSB7XG5cdFx0XHRcdFx0dmFyIGZha2VFdmVudCA9ICQuRXZlbnQoZXZlbnQpO1xuXHRcdFx0XHRcdGZha2VFdmVudC5jdXJyZW50VGFyZ2V0ID0gdGFyZ2V0WzBdO1xuXHRcdFx0XHRcdHRoaXMuY2xvc2UoIGZha2VFdmVudCwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8vIE9ubHkgYmluZCByZW1vdmUgaGFuZGxlciBmb3IgZGVsZWdhdGVkIHRhcmdldHMuIE5vbi1kZWxlZ2F0ZWRcblx0XHQvLyB0b29sdGlwcyB3aWxsIGhhbmRsZSB0aGlzIGluIGRlc3Ryb3kuXG5cdFx0aWYgKCB0YXJnZXRbIDAgXSAhPT0gdGhpcy5lbGVtZW50WyAwIF0gKSB7XG5cdFx0XHRldmVudHMucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZVRvb2x0aXAoIHRoaXMuX2ZpbmQoIHRhcmdldCApLnRvb2x0aXAgKTtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKCAhZXZlbnQgfHwgZXZlbnQudHlwZSA9PT0gXCJtb3VzZW92ZXJcIiApIHtcblx0XHRcdGV2ZW50cy5tb3VzZWxlYXZlID0gXCJjbG9zZVwiO1xuXHRcdH1cblx0XHRpZiAoICFldmVudCB8fCBldmVudC50eXBlID09PSBcImZvY3VzaW5cIiApIHtcblx0XHRcdGV2ZW50cy5mb2N1c291dCA9IFwiY2xvc2VcIjtcblx0XHR9XG5cdFx0dGhpcy5fb24oIHRydWUsIHRhcmdldCwgZXZlbnRzICk7XG5cdH0sXG5cblx0Y2xvc2U6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgdG9vbHRpcCxcblx0XHRcdHRoYXQgPSB0aGlzLFxuXHRcdFx0dGFyZ2V0ID0gJCggZXZlbnQgPyBldmVudC5jdXJyZW50VGFyZ2V0IDogdGhpcy5lbGVtZW50ICksXG5cdFx0XHR0b29sdGlwRGF0YSA9IHRoaXMuX2ZpbmQoIHRhcmdldCApO1xuXG5cdFx0Ly8gVGhlIHRvb2x0aXAgbWF5IGFscmVhZHkgYmUgY2xvc2VkXG5cdFx0aWYgKCAhdG9vbHRpcERhdGEgKSB7XG5cblx0XHRcdC8vIFdlIHNldCB1aS10b29sdGlwLW9wZW4gaW1tZWRpYXRlbHkgdXBvbiBvcGVuIChpbiBvcGVuKCkpLCBidXQgb25seSBzZXQgdGhlXG5cdFx0XHQvLyBhZGRpdGlvbmFsIGRhdGEgb25jZSB0aGVyZSdzIGFjdHVhbGx5IGNvbnRlbnQgdG8gc2hvdyAoaW4gX29wZW4oKSkuIFNvIGV2ZW4gaWYgdGhlXG5cdFx0XHQvLyB0b29sdGlwIGRvZXNuJ3QgaGF2ZSBmdWxsIGRhdGEsIHdlIGFsd2F5cyByZW1vdmUgdWktdG9vbHRpcC1vcGVuIGluIGNhc2Ugd2UncmUgaW5cblx0XHRcdC8vIHRoZSBwZXJpb2QgYmV0d2VlbiBvcGVuKCkgYW5kIF9vcGVuKCkuXG5cdFx0XHR0YXJnZXQucmVtb3ZlRGF0YSggXCJ1aS10b29sdGlwLW9wZW5cIiApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRvb2x0aXAgPSB0b29sdGlwRGF0YS50b29sdGlwO1xuXG5cdFx0Ly8gZGlzYWJsaW5nIGNsb3NlcyB0aGUgdG9vbHRpcCwgc28gd2UgbmVlZCB0byB0cmFjayB3aGVuIHdlJ3JlIGNsb3Npbmdcblx0XHQvLyB0byBhdm9pZCBhbiBpbmZpbml0ZSBsb29wIGluIGNhc2UgdGhlIHRvb2x0aXAgYmVjb21lcyBkaXNhYmxlZCBvbiBjbG9zZVxuXHRcdGlmICggdG9vbHRpcERhdGEuY2xvc2luZyApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBDbGVhciB0aGUgaW50ZXJ2YWwgZm9yIGRlbGF5ZWQgdHJhY2tpbmcgdG9vbHRpcHNcblx0XHRjbGVhckludGVydmFsKCB0aGlzLmRlbGF5ZWRTaG93ICk7XG5cblx0XHQvLyBvbmx5IHNldCB0aXRsZSBpZiB3ZSBoYWQgb25lIGJlZm9yZSAoc2VlIGNvbW1lbnQgaW4gX29wZW4oKSlcblx0XHQvLyBJZiB0aGUgdGl0bGUgYXR0cmlidXRlIGhhcyBjaGFuZ2VkIHNpbmNlIG9wZW4oKSwgZG9uJ3QgcmVzdG9yZVxuXHRcdGlmICggdGFyZ2V0LmRhdGEoIFwidWktdG9vbHRpcC10aXRsZVwiICkgJiYgIXRhcmdldC5hdHRyKCBcInRpdGxlXCIgKSApIHtcblx0XHRcdHRhcmdldC5hdHRyKCBcInRpdGxlXCIsIHRhcmdldC5kYXRhKCBcInVpLXRvb2x0aXAtdGl0bGVcIiApICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fcmVtb3ZlRGVzY3JpYmVkQnkoIHRhcmdldCApO1xuXG5cdFx0dG9vbHRpcERhdGEuaGlkaW5nID0gdHJ1ZTtcblx0XHR0b29sdGlwLnN0b3AoIHRydWUgKTtcblx0XHR0aGlzLl9oaWRlKCB0b29sdGlwLCB0aGlzLm9wdGlvbnMuaGlkZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGF0Ll9yZW1vdmVUb29sdGlwKCAkKCB0aGlzICkgKTtcblx0XHR9KTtcblxuXHRcdHRhcmdldC5yZW1vdmVEYXRhKCBcInVpLXRvb2x0aXAtb3BlblwiICk7XG5cdFx0dGhpcy5fb2ZmKCB0YXJnZXQsIFwibW91c2VsZWF2ZSBmb2N1c291dCBrZXl1cFwiICk7XG5cblx0XHQvLyBSZW1vdmUgJ3JlbW92ZScgYmluZGluZyBvbmx5IG9uIGRlbGVnYXRlZCB0YXJnZXRzXG5cdFx0aWYgKCB0YXJnZXRbIDAgXSAhPT0gdGhpcy5lbGVtZW50WyAwIF0gKSB7XG5cdFx0XHR0aGlzLl9vZmYoIHRhcmdldCwgXCJyZW1vdmVcIiApO1xuXHRcdH1cblx0XHR0aGlzLl9vZmYoIHRoaXMuZG9jdW1lbnQsIFwibW91c2Vtb3ZlXCIgKTtcblxuXHRcdGlmICggZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gXCJtb3VzZWxlYXZlXCIgKSB7XG5cdFx0XHQkLmVhY2goIHRoaXMucGFyZW50cywgZnVuY3Rpb24oIGlkLCBwYXJlbnQgKSB7XG5cdFx0XHRcdCQoIHBhcmVudC5lbGVtZW50ICkuYXR0ciggXCJ0aXRsZVwiLCBwYXJlbnQudGl0bGUgKTtcblx0XHRcdFx0ZGVsZXRlIHRoYXQucGFyZW50c1sgaWQgXTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHRvb2x0aXBEYXRhLmNsb3NpbmcgPSB0cnVlO1xuXHRcdHRoaXMuX3RyaWdnZXIoIFwiY2xvc2VcIiwgZXZlbnQsIHsgdG9vbHRpcDogdG9vbHRpcCB9ICk7XG5cdFx0aWYgKCAhdG9vbHRpcERhdGEuaGlkaW5nICkge1xuXHRcdFx0dG9vbHRpcERhdGEuY2xvc2luZyA9IGZhbHNlO1xuXHRcdH1cblx0fSxcblxuXHRfdG9vbHRpcDogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dmFyIHRvb2x0aXAgPSAkKCBcIjxkaXY+XCIgKVxuXHRcdFx0XHQuYXR0ciggXCJyb2xlXCIsIFwidG9vbHRpcFwiIClcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLXRvb2x0aXAgdWktd2lkZ2V0IHVpLWNvcm5lci1hbGwgdWktd2lkZ2V0LWNvbnRlbnQgXCIgK1xuXHRcdFx0XHRcdCggdGhpcy5vcHRpb25zLnRvb2x0aXBDbGFzcyB8fCBcIlwiICkgKSxcblx0XHRcdGlkID0gdG9vbHRpcC51bmlxdWVJZCgpLmF0dHIoIFwiaWRcIiApO1xuXG5cdFx0JCggXCI8ZGl2PlwiIClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS10b29sdGlwLWNvbnRlbnRcIiApXG5cdFx0XHQuYXBwZW5kVG8oIHRvb2x0aXAgKTtcblxuXHRcdHRvb2x0aXAuYXBwZW5kVG8oIHRoaXMuZG9jdW1lbnRbMF0uYm9keSApO1xuXG5cdFx0cmV0dXJuIHRoaXMudG9vbHRpcHNbIGlkIF0gPSB7XG5cdFx0XHRlbGVtZW50OiBlbGVtZW50LFxuXHRcdFx0dG9vbHRpcDogdG9vbHRpcFxuXHRcdH07XG5cdH0sXG5cblx0X2ZpbmQ6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIGlkID0gdGFyZ2V0LmRhdGEoIFwidWktdG9vbHRpcC1pZFwiICk7XG5cdFx0cmV0dXJuIGlkID8gdGhpcy50b29sdGlwc1sgaWQgXSA6IG51bGw7XG5cdH0sXG5cblx0X3JlbW92ZVRvb2x0aXA6IGZ1bmN0aW9uKCB0b29sdGlwICkge1xuXHRcdHRvb2x0aXAucmVtb3ZlKCk7XG5cdFx0ZGVsZXRlIHRoaXMudG9vbHRpcHNbIHRvb2x0aXAuYXR0ciggXCJpZFwiICkgXTtcblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0Ly8gY2xvc2Ugb3BlbiB0b29sdGlwc1xuXHRcdCQuZWFjaCggdGhpcy50b29sdGlwcywgZnVuY3Rpb24oIGlkLCB0b29sdGlwRGF0YSApIHtcblx0XHRcdC8vIERlbGVnYXRlIHRvIGNsb3NlIG1ldGhvZCB0byBoYW5kbGUgY29tbW9uIGNsZWFudXBcblx0XHRcdHZhciBldmVudCA9ICQuRXZlbnQoIFwiYmx1clwiICksXG5cdFx0XHRcdGVsZW1lbnQgPSB0b29sdGlwRGF0YS5lbGVtZW50O1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldCA9IGVsZW1lbnRbIDAgXTtcblx0XHRcdHRoYXQuY2xvc2UoIGV2ZW50LCB0cnVlICk7XG5cblx0XHRcdC8vIFJlbW92ZSBpbW1lZGlhdGVseTsgZGVzdHJveWluZyBhbiBvcGVuIHRvb2x0aXAgZG9lc24ndCB1c2UgdGhlXG5cdFx0XHQvLyBoaWRlIGFuaW1hdGlvblxuXHRcdFx0JCggXCIjXCIgKyBpZCApLnJlbW92ZSgpO1xuXG5cdFx0XHQvLyBSZXN0b3JlIHRoZSB0aXRsZVxuXHRcdFx0aWYgKCBlbGVtZW50LmRhdGEoIFwidWktdG9vbHRpcC10aXRsZVwiICkgKSB7XG5cdFx0XHRcdC8vIElmIHRoZSB0aXRsZSBhdHRyaWJ1dGUgaGFzIGNoYW5nZWQgc2luY2Ugb3BlbigpLCBkb24ndCByZXN0b3JlXG5cdFx0XHRcdGlmICggIWVsZW1lbnQuYXR0ciggXCJ0aXRsZVwiICkgKSB7XG5cdFx0XHRcdFx0ZWxlbWVudC5hdHRyKCBcInRpdGxlXCIsIGVsZW1lbnQuZGF0YSggXCJ1aS10b29sdGlwLXRpdGxlXCIgKSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsZW1lbnQucmVtb3ZlRGF0YSggXCJ1aS10b29sdGlwLXRpdGxlXCIgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHR0aGlzLmxpdmVSZWdpb24ucmVtb3ZlKCk7XG5cdH1cbn0pO1xuXG5cblxufSkpO1xuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBhcGkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmksIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkO1xuXG4vKioqLyB9KSxcbi8qIDEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzFfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMl9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8zX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzRfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNV9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF82X19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzdfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfOF9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF85X19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEwX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzExX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEyX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEzX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMV9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzFfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzJfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8zX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfM19fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzRfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzVfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF81X19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF82X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNl9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfN19fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzdfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzhfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF84X19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF85X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfOV9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTBfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xMF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTFfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xMV9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTJfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xMl9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTNfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xM19fXyk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmksIFwiLyohIGpRdWVyeSBVSSAtIHYxLjExLjQgLSAyMDE1LTAzLTExXFxuKiBodHRwOi8vanF1ZXJ5dWkuY29tXFxuKiBJbmNsdWRlczogY29yZS5jc3MsIGFjY29yZGlvbi5jc3MsIGF1dG9jb21wbGV0ZS5jc3MsIGJ1dHRvbi5jc3MsIGRhdGVwaWNrZXIuY3NzLCBkaWFsb2cuY3NzLCBkcmFnZ2FibGUuY3NzLCBtZW51LmNzcywgcHJvZ3Jlc3NiYXIuY3NzLCByZXNpemFibGUuY3NzLCBzZWxlY3RhYmxlLmNzcywgc2VsZWN0bWVudS5jc3MsIHNsaWRlci5jc3MsIHNvcnRhYmxlLmNzcywgc3Bpbm5lci5jc3MsIHRhYnMuY3NzLCB0b29sdGlwLmNzcywgdGhlbWUuY3NzXFxuKiBUbyB2aWV3IGFuZCBtb2RpZnkgdGhpcyB0aGVtZSwgdmlzaXQgaHR0cDovL2pxdWVyeXVpLmNvbS90aGVtZXJvbGxlci8/ZmZEZWZhdWx0PVRyZWJ1Y2hldCUyME1TJTJDVGFob21hJTJDVmVyZGFuYSUyQ0FyaWFsJTJDc2Fucy1zZXJpZiZmd0RlZmF1bHQ9Ym9sZCZmc0RlZmF1bHQ9MS4xZW0mY29ybmVyUmFkaXVzPTRweCZiZ0NvbG9ySGVhZGVyPWY2YTgyOCZiZ1RleHR1cmVIZWFkZXI9Z2xvc3Nfd2F2ZSZiZ0ltZ09wYWNpdHlIZWFkZXI9MzUmYm9yZGVyQ29sb3JIZWFkZXI9ZTc4ZjA4JmZjSGVhZGVyPWZmZmZmZiZpY29uQ29sb3JIZWFkZXI9ZmZmZmZmJmJnQ29sb3JDb250ZW50PWVlZWVlZSZiZ1RleHR1cmVDb250ZW50PWhpZ2hsaWdodF9zb2Z0JmJnSW1nT3BhY2l0eUNvbnRlbnQ9MTAwJmJvcmRlckNvbG9yQ29udGVudD1kZGRkZGQmZmNDb250ZW50PTMzMzMzMyZpY29uQ29sb3JDb250ZW50PTIyMjIyMiZiZ0NvbG9yRGVmYXVsdD1mNmY2ZjYmYmdUZXh0dXJlRGVmYXVsdD1nbGFzcyZiZ0ltZ09wYWNpdHlEZWZhdWx0PTEwMCZib3JkZXJDb2xvckRlZmF1bHQ9Y2NjY2NjJmZjRGVmYXVsdD0xYzk0YzQmaWNvbkNvbG9yRGVmYXVsdD1lZjhjMDgmYmdDb2xvckhvdmVyPWZkZjVjZSZiZ1RleHR1cmVIb3Zlcj1nbGFzcyZiZ0ltZ09wYWNpdHlIb3Zlcj0xMDAmYm9yZGVyQ29sb3JIb3Zlcj1mYmNiMDkmZmNIb3Zlcj1jNzc0MDUmaWNvbkNvbG9ySG92ZXI9ZWY4YzA4JmJnQ29sb3JBY3RpdmU9ZmZmZmZmJmJnVGV4dHVyZUFjdGl2ZT1nbGFzcyZiZ0ltZ09wYWNpdHlBY3RpdmU9NjUmYm9yZGVyQ29sb3JBY3RpdmU9ZmJkODUwJmZjQWN0aXZlPWViOGYwMCZpY29uQ29sb3JBY3RpdmU9ZWY4YzA4JmJnQ29sb3JIaWdobGlnaHQ9ZmZlNDVjJmJnVGV4dHVyZUhpZ2hsaWdodD1oaWdobGlnaHRfc29mdCZiZ0ltZ09wYWNpdHlIaWdobGlnaHQ9NzUmYm9yZGVyQ29sb3JIaWdobGlnaHQ9ZmVkMjJmJmZjSGlnaGxpZ2h0PTM2MzYzNiZpY29uQ29sb3JIaWdobGlnaHQ9MjI4ZWYxJmJnQ29sb3JFcnJvcj1iODE5MDAmYmdUZXh0dXJlRXJyb3I9ZGlhZ29uYWxzX3RoaWNrJmJnSW1nT3BhY2l0eUVycm9yPTE4JmJvcmRlckNvbG9yRXJyb3I9Y2QwYTBhJmZjRXJyb3I9ZmZmZmZmJmljb25Db2xvckVycm9yPWZmZDI3YSZiZ0NvbG9yT3ZlcmxheT02NjY2NjYmYmdUZXh0dXJlT3ZlcmxheT1kaWFnb25hbHNfdGhpY2smYmdJbWdPcGFjaXR5T3ZlcmxheT0yMCZvcGFjaXR5T3ZlcmxheT01MCZiZ0NvbG9yU2hhZG93PTAwMDAwMCZiZ1RleHR1cmVTaGFkb3c9ZmxhdCZiZ0ltZ09wYWNpdHlTaGFkb3c9MTAmb3BhY2l0eVNoYWRvdz0yMCZ0aGlja25lc3NTaGFkb3c9NXB4Jm9mZnNldFRvcFNoYWRvdz0tNXB4Jm9mZnNldExlZnRTaGFkb3c9LTVweCZjb3JuZXJSYWRpdXNTaGFkb3c9NXB4XFxuKiBDb3B5cmlnaHQgMjAxNSBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzOyBMaWNlbnNlZCBNSVQgKi9cXG5cXG4vKiBMYXlvdXQgaGVscGVyc1xcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcbi51aS1oZWxwZXItaGlkZGVuIHtcXG5cXHRkaXNwbGF5OiBub25lO1xcbn1cXG4udWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIHtcXG5cXHRib3JkZXI6IDA7XFxuXFx0Y2xpcDogcmVjdCgwIDAgMCAwKTtcXG5cXHRoZWlnaHQ6IDFweDtcXG5cXHRtYXJnaW46IC0xcHg7XFxuXFx0b3ZlcmZsb3c6IGhpZGRlbjtcXG5cXHRwYWRkaW5nOiAwO1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHR3aWR0aDogMXB4O1xcbn1cXG4udWktaGVscGVyLXJlc2V0IHtcXG5cXHRtYXJnaW46IDA7XFxuXFx0cGFkZGluZzogMDtcXG5cXHRib3JkZXI6IDA7XFxuXFx0b3V0bGluZTogMDtcXG5cXHRsaW5lLWhlaWdodDogMS4zO1xcblxcdHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG5cXHRmb250LXNpemU6IDEwMCU7XFxuXFx0bGlzdC1zdHlsZTogbm9uZTtcXG59XFxuLnVpLWhlbHBlci1jbGVhcmZpeDpiZWZvcmUsXFxuLnVpLWhlbHBlci1jbGVhcmZpeDphZnRlciB7XFxuXFx0Y29udGVudDogXFxcIlxcXCI7XFxuXFx0ZGlzcGxheTogdGFibGU7XFxuXFx0Ym9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG59XFxuLnVpLWhlbHBlci1jbGVhcmZpeDphZnRlciB7XFxuXFx0Y2xlYXI6IGJvdGg7XFxufVxcbi51aS1oZWxwZXItY2xlYXJmaXgge1xcblxcdG1pbi1oZWlnaHQ6IDA7IC8qIHN1cHBvcnQ6IElFNyAqL1xcbn1cXG4udWktaGVscGVyLXpmaXgge1xcblxcdHdpZHRoOiAxMDAlO1xcblxcdGhlaWdodDogMTAwJTtcXG5cXHR0b3A6IDA7XFxuXFx0bGVmdDogMDtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0b3BhY2l0eTogMDtcXG5cXHRmaWx0ZXI6QWxwaGEoT3BhY2l0eT0wKTsgLyogc3VwcG9ydDogSUU4ICovXFxufVxcblxcbi51aS1mcm9udCB7XFxuXFx0ei1pbmRleDogMTAwO1xcbn1cXG5cXG5cXG4vKiBJbnRlcmFjdGlvbiBDdWVzXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuLnVpLXN0YXRlLWRpc2FibGVkIHtcXG5cXHRjdXJzb3I6IGRlZmF1bHQgIWltcG9ydGFudDtcXG59XFxuXFxuXFxuLyogSWNvbnNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cXG4vKiBzdGF0ZXMgYW5kIGltYWdlcyAqL1xcbi51aS1pY29uIHtcXG5cXHRkaXNwbGF5OiBibG9jaztcXG5cXHR0ZXh0LWluZGVudDogLTk5OTk5cHg7XFxuXFx0b3ZlcmZsb3c6IGhpZGRlbjtcXG5cXHRiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbn1cXG5cXG5cXG4vKiBNaXNjIHZpc3VhbHNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cXG4vKiBPdmVybGF5cyAqL1xcbi51aS13aWRnZXQtb3ZlcmxheSB7XFxuXFx0cG9zaXRpb246IGZpeGVkO1xcblxcdHRvcDogMDtcXG5cXHRsZWZ0OiAwO1xcblxcdHdpZHRoOiAxMDAlO1xcblxcdGhlaWdodDogMTAwJTtcXG59XFxuLnVpLWFjY29yZGlvbiAudWktYWNjb3JkaW9uLWhlYWRlciB7XFxuXFx0ZGlzcGxheTogYmxvY2s7XFxuXFx0Y3Vyc29yOiBwb2ludGVyO1xcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXHRtYXJnaW46IDJweCAwIDAgMDtcXG5cXHRwYWRkaW5nOiAuNWVtIC41ZW0gLjVlbSAuN2VtO1xcblxcdG1pbi1oZWlnaHQ6IDA7IC8qIHN1cHBvcnQ6IElFNyAqL1xcblxcdGZvbnQtc2l6ZTogMTAwJTtcXG59XFxuLnVpLWFjY29yZGlvbiAudWktYWNjb3JkaW9uLWljb25zIHtcXG5cXHRwYWRkaW5nLWxlZnQ6IDIuMmVtO1xcbn1cXG4udWktYWNjb3JkaW9uIC51aS1hY2NvcmRpb24taWNvbnMgLnVpLWFjY29yZGlvbi1pY29ucyB7XFxuXFx0cGFkZGluZy1sZWZ0OiAyLjJlbTtcXG59XFxuLnVpLWFjY29yZGlvbiAudWktYWNjb3JkaW9uLWhlYWRlciAudWktYWNjb3JkaW9uLWhlYWRlci1pY29uIHtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0bGVmdDogLjVlbTtcXG5cXHR0b3A6IDUwJTtcXG5cXHRtYXJnaW4tdG9wOiAtOHB4O1xcbn1cXG4udWktYWNjb3JkaW9uIC51aS1hY2NvcmRpb24tY29udGVudCB7XFxuXFx0cGFkZGluZzogMWVtIDIuMmVtO1xcblxcdGJvcmRlci10b3A6IDA7XFxuXFx0b3ZlcmZsb3c6IGF1dG87XFxufVxcbi51aS1hdXRvY29tcGxldGUge1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHR0b3A6IDA7XFxuXFx0bGVmdDogMDtcXG5cXHRjdXJzb3I6IGRlZmF1bHQ7XFxufVxcbi51aS1idXR0b24ge1xcblxcdGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG5cXHRwb3NpdGlvbjogcmVsYXRpdmU7XFxuXFx0cGFkZGluZzogMDtcXG5cXHRsaW5lLWhlaWdodDogbm9ybWFsO1xcblxcdG1hcmdpbi1yaWdodDogLjFlbTtcXG5cXHRjdXJzb3I6IHBvaW50ZXI7XFxuXFx0dmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG5cXHR0ZXh0LWFsaWduOiBjZW50ZXI7XFxuXFx0b3ZlcmZsb3c6IHZpc2libGU7IC8qIHJlbW92ZXMgZXh0cmEgd2lkdGggaW4gSUUgKi9cXG59XFxuLnVpLWJ1dHRvbixcXG4udWktYnV0dG9uOmxpbmssXFxuLnVpLWJ1dHRvbjp2aXNpdGVkLFxcbi51aS1idXR0b246aG92ZXIsXFxuLnVpLWJ1dHRvbjphY3RpdmUge1xcblxcdHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG59XFxuLyogdG8gbWFrZSByb29tIGZvciB0aGUgaWNvbiwgYSB3aWR0aCBuZWVkcyB0byBiZSBzZXQgaGVyZSAqL1xcbi51aS1idXR0b24taWNvbi1vbmx5IHtcXG5cXHR3aWR0aDogMi4yZW07XFxufVxcbi8qIGJ1dHRvbiBlbGVtZW50cyBzZWVtIHRvIG5lZWQgYSBsaXR0bGUgbW9yZSB3aWR0aCAqL1xcbmJ1dHRvbi51aS1idXR0b24taWNvbi1vbmx5IHtcXG5cXHR3aWR0aDogMi40ZW07XFxufVxcbi51aS1idXR0b24taWNvbnMtb25seSB7XFxuXFx0d2lkdGg6IDMuNGVtO1xcbn1cXG5idXR0b24udWktYnV0dG9uLWljb25zLW9ubHkge1xcblxcdHdpZHRoOiAzLjdlbTtcXG59XFxuXFxuLyogYnV0dG9uIHRleHQgZWxlbWVudCAqL1xcbi51aS1idXR0b24gLnVpLWJ1dHRvbi10ZXh0IHtcXG5cXHRkaXNwbGF5OiBibG9jaztcXG5cXHRsaW5lLWhlaWdodDogbm9ybWFsO1xcbn1cXG4udWktYnV0dG9uLXRleHQtb25seSAudWktYnV0dG9uLXRleHQge1xcblxcdHBhZGRpbmc6IC40ZW0gMWVtO1xcbn1cXG4udWktYnV0dG9uLWljb24tb25seSAudWktYnV0dG9uLXRleHQsXFxuLnVpLWJ1dHRvbi1pY29ucy1vbmx5IC51aS1idXR0b24tdGV4dCB7XFxuXFx0cGFkZGluZzogLjRlbTtcXG5cXHR0ZXh0LWluZGVudDogLTk5OTk5OTlweDtcXG59XFxuLnVpLWJ1dHRvbi10ZXh0LWljb24tcHJpbWFyeSAudWktYnV0dG9uLXRleHQsXFxuLnVpLWJ1dHRvbi10ZXh0LWljb25zIC51aS1idXR0b24tdGV4dCB7XFxuXFx0cGFkZGluZzogLjRlbSAxZW0gLjRlbSAyLjFlbTtcXG59XFxuLnVpLWJ1dHRvbi10ZXh0LWljb24tc2Vjb25kYXJ5IC51aS1idXR0b24tdGV4dCxcXG4udWktYnV0dG9uLXRleHQtaWNvbnMgLnVpLWJ1dHRvbi10ZXh0IHtcXG5cXHRwYWRkaW5nOiAuNGVtIDIuMWVtIC40ZW0gMWVtO1xcbn1cXG4udWktYnV0dG9uLXRleHQtaWNvbnMgLnVpLWJ1dHRvbi10ZXh0IHtcXG5cXHRwYWRkaW5nLWxlZnQ6IDIuMWVtO1xcblxcdHBhZGRpbmctcmlnaHQ6IDIuMWVtO1xcbn1cXG4vKiBubyBpY29uIHN1cHBvcnQgZm9yIGlucHV0IGVsZW1lbnRzLCBwcm92aWRlIHBhZGRpbmcgYnkgZGVmYXVsdCAqL1xcbmlucHV0LnVpLWJ1dHRvbiB7XFxuXFx0cGFkZGluZzogLjRlbSAxZW07XFxufVxcblxcbi8qIGJ1dHRvbiBpY29uIGVsZW1lbnQocykgKi9cXG4udWktYnV0dG9uLWljb24tb25seSAudWktaWNvbixcXG4udWktYnV0dG9uLXRleHQtaWNvbi1wcmltYXJ5IC51aS1pY29uLFxcbi51aS1idXR0b24tdGV4dC1pY29uLXNlY29uZGFyeSAudWktaWNvbixcXG4udWktYnV0dG9uLXRleHQtaWNvbnMgLnVpLWljb24sXFxuLnVpLWJ1dHRvbi1pY29ucy1vbmx5IC51aS1pY29uIHtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0dG9wOiA1MCU7XFxuXFx0bWFyZ2luLXRvcDogLThweDtcXG59XFxuLnVpLWJ1dHRvbi1pY29uLW9ubHkgLnVpLWljb24ge1xcblxcdGxlZnQ6IDUwJTtcXG5cXHRtYXJnaW4tbGVmdDogLThweDtcXG59XFxuLnVpLWJ1dHRvbi10ZXh0LWljb24tcHJpbWFyeSAudWktYnV0dG9uLWljb24tcHJpbWFyeSxcXG4udWktYnV0dG9uLXRleHQtaWNvbnMgLnVpLWJ1dHRvbi1pY29uLXByaW1hcnksXFxuLnVpLWJ1dHRvbi1pY29ucy1vbmx5IC51aS1idXR0b24taWNvbi1wcmltYXJ5IHtcXG5cXHRsZWZ0OiAuNWVtO1xcbn1cXG4udWktYnV0dG9uLXRleHQtaWNvbi1zZWNvbmRhcnkgLnVpLWJ1dHRvbi1pY29uLXNlY29uZGFyeSxcXG4udWktYnV0dG9uLXRleHQtaWNvbnMgLnVpLWJ1dHRvbi1pY29uLXNlY29uZGFyeSxcXG4udWktYnV0dG9uLWljb25zLW9ubHkgLnVpLWJ1dHRvbi1pY29uLXNlY29uZGFyeSB7XFxuXFx0cmlnaHQ6IC41ZW07XFxufVxcblxcbi8qIGJ1dHRvbiBzZXRzICovXFxuLnVpLWJ1dHRvbnNldCB7XFxuXFx0bWFyZ2luLXJpZ2h0OiA3cHg7XFxufVxcbi51aS1idXR0b25zZXQgLnVpLWJ1dHRvbiB7XFxuXFx0bWFyZ2luLWxlZnQ6IDA7XFxuXFx0bWFyZ2luLXJpZ2h0OiAtLjNlbTtcXG59XFxuXFxuLyogd29ya2Fyb3VuZHMgKi9cXG4vKiByZXNldCBleHRyYSBwYWRkaW5nIGluIEZpcmVmb3gsIHNlZSBoNWJwLmNvbS9sICovXFxuaW5wdXQudWktYnV0dG9uOjotbW96LWZvY3VzLWlubmVyLFxcbmJ1dHRvbi51aS1idXR0b246Oi1tb3otZm9jdXMtaW5uZXIge1xcblxcdGJvcmRlcjogMDtcXG5cXHRwYWRkaW5nOiAwO1xcbn1cXG4udWktZGF0ZXBpY2tlciB7XFxuXFx0d2lkdGg6IDE3ZW07XFxuXFx0cGFkZGluZzogLjJlbSAuMmVtIDA7XFxuXFx0ZGlzcGxheTogbm9uZTtcXG59XFxuLnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItaGVhZGVyIHtcXG5cXHRwb3NpdGlvbjogcmVsYXRpdmU7XFxuXFx0cGFkZGluZzogLjJlbSAwO1xcbn1cXG4udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1wcmV2LFxcbi51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLW5leHQge1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHR0b3A6IDJweDtcXG5cXHR3aWR0aDogMS44ZW07XFxuXFx0aGVpZ2h0OiAxLjhlbTtcXG59XFxuLnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItcHJldi1ob3ZlcixcXG4udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIHtcXG5cXHR0b3A6IDFweDtcXG59XFxuLnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItcHJldiB7XFxuXFx0bGVmdDogMnB4O1xcbn1cXG4udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1uZXh0IHtcXG5cXHRyaWdodDogMnB4O1xcbn1cXG4udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIHtcXG5cXHRsZWZ0OiAxcHg7XFxufVxcbi51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLW5leHQtaG92ZXIge1xcblxcdHJpZ2h0OiAxcHg7XFxufVxcbi51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLXByZXYgc3BhbixcXG4udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1uZXh0IHNwYW4ge1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHRsZWZ0OiA1MCU7XFxuXFx0bWFyZ2luLWxlZnQ6IC04cHg7XFxuXFx0dG9wOiA1MCU7XFxuXFx0bWFyZ2luLXRvcDogLThweDtcXG59XFxuLnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItdGl0bGUge1xcblxcdG1hcmdpbjogMCAyLjNlbTtcXG5cXHRsaW5lLWhlaWdodDogMS44ZW07XFxuXFx0dGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG4udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci10aXRsZSBzZWxlY3Qge1xcblxcdGZvbnQtc2l6ZTogMWVtO1xcblxcdG1hcmdpbjogMXB4IDA7XFxufVxcbi51aS1kYXRlcGlja2VyIHNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLFxcbi51aS1kYXRlcGlja2VyIHNlbGVjdC51aS1kYXRlcGlja2VyLXllYXIge1xcblxcdHdpZHRoOiA0NSU7XFxufVxcbi51aS1kYXRlcGlja2VyIHRhYmxlIHtcXG5cXHR3aWR0aDogMTAwJTtcXG5cXHRmb250LXNpemU6IC45ZW07XFxuXFx0Ym9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG5cXHRtYXJnaW46IDAgMCAuNGVtO1xcbn1cXG4udWktZGF0ZXBpY2tlciB0aCB7XFxuXFx0cGFkZGluZzogLjdlbSAuM2VtO1xcblxcdHRleHQtYWxpZ246IGNlbnRlcjtcXG5cXHRmb250LXdlaWdodDogYm9sZDtcXG5cXHRib3JkZXI6IDA7XFxufVxcbi51aS1kYXRlcGlja2VyIHRkIHtcXG5cXHRib3JkZXI6IDA7XFxuXFx0cGFkZGluZzogMXB4O1xcbn1cXG4udWktZGF0ZXBpY2tlciB0ZCBzcGFuLFxcbi51aS1kYXRlcGlja2VyIHRkIGEge1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcblxcdHBhZGRpbmc6IC4yZW07XFxuXFx0dGV4dC1hbGlnbjogcmlnaHQ7XFxuXFx0dGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG4udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1idXR0b25wYW5lIHtcXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiBub25lO1xcblxcdG1hcmdpbjogLjdlbSAwIDAgMDtcXG5cXHRwYWRkaW5nOiAwIC4yZW07XFxuXFx0Ym9yZGVyLWxlZnQ6IDA7XFxuXFx0Ym9yZGVyLXJpZ2h0OiAwO1xcblxcdGJvcmRlci1ib3R0b206IDA7XFxufVxcbi51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUgYnV0dG9uIHtcXG5cXHRmbG9hdDogcmlnaHQ7XFxuXFx0bWFyZ2luOiAuNWVtIC4yZW0gLjRlbTtcXG5cXHRjdXJzb3I6IHBvaW50ZXI7XFxuXFx0cGFkZGluZzogLjJlbSAuNmVtIC4zZW0gLjZlbTtcXG5cXHR3aWR0aDogYXV0bztcXG5cXHRvdmVyZmxvdzogdmlzaWJsZTtcXG59XFxuLnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSBidXR0b24udWktZGF0ZXBpY2tlci1jdXJyZW50IHtcXG5cXHRmbG9hdDogbGVmdDtcXG59XFxuXFxuLyogd2l0aCBtdWx0aXBsZSBjYWxlbmRhcnMgKi9cXG4udWktZGF0ZXBpY2tlci51aS1kYXRlcGlja2VyLW11bHRpIHtcXG5cXHR3aWR0aDogYXV0bztcXG59XFxuLnVpLWRhdGVwaWNrZXItbXVsdGkgLnVpLWRhdGVwaWNrZXItZ3JvdXAge1xcblxcdGZsb2F0OiBsZWZ0O1xcbn1cXG4udWktZGF0ZXBpY2tlci1tdWx0aSAudWktZGF0ZXBpY2tlci1ncm91cCB0YWJsZSB7XFxuXFx0d2lkdGg6IDk1JTtcXG5cXHRtYXJnaW46IDAgYXV0byAuNGVtO1xcbn1cXG4udWktZGF0ZXBpY2tlci1tdWx0aS0yIC51aS1kYXRlcGlja2VyLWdyb3VwIHtcXG5cXHR3aWR0aDogNTAlO1xcbn1cXG4udWktZGF0ZXBpY2tlci1tdWx0aS0zIC51aS1kYXRlcGlja2VyLWdyb3VwIHtcXG5cXHR3aWR0aDogMzMuMyU7XFxufVxcbi51aS1kYXRlcGlja2VyLW11bHRpLTQgLnVpLWRhdGVwaWNrZXItZ3JvdXAge1xcblxcdHdpZHRoOiAyNSU7XFxufVxcbi51aS1kYXRlcGlja2VyLW11bHRpIC51aS1kYXRlcGlja2VyLWdyb3VwLWxhc3QgLnVpLWRhdGVwaWNrZXItaGVhZGVyLFxcbi51aS1kYXRlcGlja2VyLW11bHRpIC51aS1kYXRlcGlja2VyLWdyb3VwLW1pZGRsZSAudWktZGF0ZXBpY2tlci1oZWFkZXIge1xcblxcdGJvcmRlci1sZWZ0LXdpZHRoOiAwO1xcbn1cXG4udWktZGF0ZXBpY2tlci1tdWx0aSAudWktZGF0ZXBpY2tlci1idXR0b25wYW5lIHtcXG5cXHRjbGVhcjogbGVmdDtcXG59XFxuLnVpLWRhdGVwaWNrZXItcm93LWJyZWFrIHtcXG5cXHRjbGVhcjogYm90aDtcXG5cXHR3aWR0aDogMTAwJTtcXG5cXHRmb250LXNpemU6IDA7XFxufVxcblxcbi8qIFJUTCBzdXBwb3J0ICovXFxuLnVpLWRhdGVwaWNrZXItcnRsIHtcXG5cXHRkaXJlY3Rpb246IHJ0bDtcXG59XFxuLnVpLWRhdGVwaWNrZXItcnRsIC51aS1kYXRlcGlja2VyLXByZXYge1xcblxcdHJpZ2h0OiAycHg7XFxuXFx0bGVmdDogYXV0bztcXG59XFxuLnVpLWRhdGVwaWNrZXItcnRsIC51aS1kYXRlcGlja2VyLW5leHQge1xcblxcdGxlZnQ6IDJweDtcXG5cXHRyaWdodDogYXV0bztcXG59XFxuLnVpLWRhdGVwaWNrZXItcnRsIC51aS1kYXRlcGlja2VyLXByZXY6aG92ZXIge1xcblxcdHJpZ2h0OiAxcHg7XFxuXFx0bGVmdDogYXV0bztcXG59XFxuLnVpLWRhdGVwaWNrZXItcnRsIC51aS1kYXRlcGlja2VyLW5leHQ6aG92ZXIge1xcblxcdGxlZnQ6IDFweDtcXG5cXHRyaWdodDogYXV0bztcXG59XFxuLnVpLWRhdGVwaWNrZXItcnRsIC51aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUge1xcblxcdGNsZWFyOiByaWdodDtcXG59XFxuLnVpLWRhdGVwaWNrZXItcnRsIC51aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUgYnV0dG9uIHtcXG5cXHRmbG9hdDogbGVmdDtcXG59XFxuLnVpLWRhdGVwaWNrZXItcnRsIC51aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUgYnV0dG9uLnVpLWRhdGVwaWNrZXItY3VycmVudCxcXG4udWktZGF0ZXBpY2tlci1ydGwgLnVpLWRhdGVwaWNrZXItZ3JvdXAge1xcblxcdGZsb2F0OiByaWdodDtcXG59XFxuLnVpLWRhdGVwaWNrZXItcnRsIC51aS1kYXRlcGlja2VyLWdyb3VwLWxhc3QgLnVpLWRhdGVwaWNrZXItaGVhZGVyLFxcbi51aS1kYXRlcGlja2VyLXJ0bCAudWktZGF0ZXBpY2tlci1ncm91cC1taWRkbGUgLnVpLWRhdGVwaWNrZXItaGVhZGVyIHtcXG5cXHRib3JkZXItcmlnaHQtd2lkdGg6IDA7XFxuXFx0Ym9yZGVyLWxlZnQtd2lkdGg6IDFweDtcXG59XFxuLnVpLWRpYWxvZyB7XFxuXFx0b3ZlcmZsb3c6IGhpZGRlbjtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0dG9wOiAwO1xcblxcdGxlZnQ6IDA7XFxuXFx0cGFkZGluZzogLjJlbTtcXG5cXHRvdXRsaW5lOiAwO1xcbn1cXG4udWktZGlhbG9nIC51aS1kaWFsb2ctdGl0bGViYXIge1xcblxcdHBhZGRpbmc6IC40ZW0gMWVtO1xcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuLnVpLWRpYWxvZyAudWktZGlhbG9nLXRpdGxlIHtcXG5cXHRmbG9hdDogbGVmdDtcXG5cXHRtYXJnaW46IC4xZW0gMDtcXG5cXHR3aGl0ZS1zcGFjZTogbm93cmFwO1xcblxcdHdpZHRoOiA5MCU7XFxuXFx0b3ZlcmZsb3c6IGhpZGRlbjtcXG5cXHR0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG59XFxuLnVpLWRpYWxvZyAudWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIHtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0cmlnaHQ6IC4zZW07XFxuXFx0dG9wOiA1MCU7XFxuXFx0d2lkdGg6IDIwcHg7XFxuXFx0bWFyZ2luOiAtMTBweCAwIDAgMDtcXG5cXHRwYWRkaW5nOiAxcHg7XFxuXFx0aGVpZ2h0OiAyMHB4O1xcbn1cXG4udWktZGlhbG9nIC51aS1kaWFsb2ctY29udGVudCB7XFxuXFx0cG9zaXRpb246IHJlbGF0aXZlO1xcblxcdGJvcmRlcjogMDtcXG5cXHRwYWRkaW5nOiAuNWVtIDFlbTtcXG5cXHRiYWNrZ3JvdW5kOiBub25lO1xcblxcdG92ZXJmbG93OiBhdXRvO1xcbn1cXG4udWktZGlhbG9nIC51aS1kaWFsb2ctYnV0dG9ucGFuZSB7XFxuXFx0dGV4dC1hbGlnbjogbGVmdDtcXG5cXHRib3JkZXItd2lkdGg6IDFweCAwIDAgMDtcXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiBub25lO1xcblxcdG1hcmdpbi10b3A6IC41ZW07XFxuXFx0cGFkZGluZzogLjNlbSAxZW0gLjVlbSAuNGVtO1xcbn1cXG4udWktZGlhbG9nIC51aS1kaWFsb2ctYnV0dG9ucGFuZSAudWktZGlhbG9nLWJ1dHRvbnNldCB7XFxuXFx0ZmxvYXQ6IHJpZ2h0O1xcbn1cXG4udWktZGlhbG9nIC51aS1kaWFsb2ctYnV0dG9ucGFuZSBidXR0b24ge1xcblxcdG1hcmdpbjogLjVlbSAuNGVtIC41ZW0gMDtcXG5cXHRjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi51aS1kaWFsb2cgLnVpLXJlc2l6YWJsZS1zZSB7XFxuXFx0d2lkdGg6IDEycHg7XFxuXFx0aGVpZ2h0OiAxMnB4O1xcblxcdHJpZ2h0OiAtNXB4O1xcblxcdGJvdHRvbTogLTVweDtcXG5cXHRiYWNrZ3JvdW5kLXBvc2l0aW9uOiAxNnB4IDE2cHg7XFxufVxcbi51aS1kcmFnZ2FibGUgLnVpLWRpYWxvZy10aXRsZWJhciB7XFxuXFx0Y3Vyc29yOiBtb3ZlO1xcbn1cXG4udWktZHJhZ2dhYmxlLWhhbmRsZSB7XFxuXFx0LW1zLXRvdWNoLWFjdGlvbjogbm9uZTtcXG5cXHR0b3VjaC1hY3Rpb246IG5vbmU7XFxufVxcbi51aS1tZW51IHtcXG5cXHRsaXN0LXN0eWxlOiBub25lO1xcblxcdHBhZGRpbmc6IDA7XFxuXFx0bWFyZ2luOiAwO1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcblxcdG91dGxpbmU6IG5vbmU7XFxufVxcbi51aS1tZW51IC51aS1tZW51IHtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi51aS1tZW51IC51aS1tZW51LWl0ZW0ge1xcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXHRtYXJnaW46IDA7XFxuXFx0cGFkZGluZzogM3B4IDFlbSAzcHggLjRlbTtcXG5cXHRjdXJzb3I6IHBvaW50ZXI7XFxuXFx0bWluLWhlaWdodDogMDsgLyogc3VwcG9ydDogSUU3ICovXFxuXFx0Lyogc3VwcG9ydDogSUUxMCwgc2VlICM4ODQ0ICovXFxuXFx0bGlzdC1zdHlsZS1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTdcXFwiKTtcXG59XFxuLnVpLW1lbnUgLnVpLW1lbnUtZGl2aWRlciB7XFxuXFx0bWFyZ2luOiA1cHggMDtcXG5cXHRoZWlnaHQ6IDA7XFxuXFx0Zm9udC1zaXplOiAwO1xcblxcdGxpbmUtaGVpZ2h0OiAwO1xcblxcdGJvcmRlci13aWR0aDogMXB4IDAgMCAwO1xcbn1cXG4udWktbWVudSAudWktc3RhdGUtZm9jdXMsXFxuLnVpLW1lbnUgLnVpLXN0YXRlLWFjdGl2ZSB7XFxuXFx0bWFyZ2luOiAtMXB4O1xcbn1cXG5cXG4vKiBpY29uIHN1cHBvcnQgKi9cXG4udWktbWVudS1pY29ucyB7XFxuXFx0cG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4udWktbWVudS1pY29ucyAudWktbWVudS1pdGVtIHtcXG5cXHRwYWRkaW5nLWxlZnQ6IDJlbTtcXG59XFxuXFxuLyogbGVmdC1hbGlnbmVkICovXFxuLnVpLW1lbnUgLnVpLWljb24ge1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHR0b3A6IDA7XFxuXFx0Ym90dG9tOiAwO1xcblxcdGxlZnQ6IC4yZW07XFxuXFx0bWFyZ2luOiBhdXRvIDA7XFxufVxcblxcbi8qIHJpZ2h0LWFsaWduZWQgKi9cXG4udWktbWVudSAudWktbWVudS1pY29uIHtcXG5cXHRsZWZ0OiBhdXRvO1xcblxcdHJpZ2h0OiAwO1xcbn1cXG4udWktcHJvZ3Jlc3NiYXIge1xcblxcdGhlaWdodDogMmVtO1xcblxcdHRleHQtYWxpZ246IGxlZnQ7XFxuXFx0b3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuLnVpLXByb2dyZXNzYmFyIC51aS1wcm9ncmVzc2Jhci12YWx1ZSB7XFxuXFx0bWFyZ2luOiAtMXB4O1xcblxcdGhlaWdodDogMTAwJTtcXG59XFxuLnVpLXByb2dyZXNzYmFyIC51aS1wcm9ncmVzc2Jhci1vdmVybGF5IHtcXG5cXHRiYWNrZ3JvdW5kOiB1cmwoXFxcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEtBQW9BSUFCQUFBQUFQLy8veUgvQzA1RlZGTkRRVkJGTWk0d0F3RUFBQUFoK1FRSkFRQUJBQ3dBQUFBQUtBQW9BQUFDa1l3TnFYcmRDNTJEUzA2YTdNRlpJKzRGSEJDS29EZVdLWHF5bVBxR3F4dkpyWFpiTXg3VHRjK3c5WGdVMkZCM2xPeVFSV0VUMklGR2lVOW0xZnJEVnB4WlpjNmJmSHd2NGMxWVhQNmsxVmR5MjkyRmI2VWt1dkZ0WHB2V1N6QStIeWNYSkhVWGlHWUlpTWcyUjZXNDU5Z25XR2ZITmRqSXFEV1ZxZW1IMmVrcE9ia3BPbHBwV1VxWmlxcjZlZHFxV1FBQUlma0VDUUVBQVFBc0FBQUFBQ2dBS0FBQUFwU01nWm5HZmFxY2cxRTJ1dXpEbW1IVUJSOFFpbDk1aGlQS3FXbjNhcXRMc1MxOHk3RzFTek5lb3dXQkVOdFFkK1QxSmt0UDA1bnpQVGRKWmxSNnZVeE5XV2pWK3ZVV2hXTmtXRnd4bDlWcFpSZWRZY2ZsSU9MYWZhYTI4WGRzSC95bmxjYzF1UFZEWnhRSVIwSzI1K2NJQ0Ntb3FDZTVtR2haT2ZlWVNVaDV5SmNKeXJrWldXcGFSOGRvSjJvNE5ZcTYybEFBQUNINUJBa0JBQUVBTEFBQUFBQW9BQ2dBQUFLVkRJNFl5MjJabklOUk5xb3N3MEJ2N2kxZ3lIVWtGajdvU2FXbHUzb3ZDOEd4TnNvNWZsdXozcUxWaEJWZVQvTHo3WlRIeXhMNWREYWxRV1BWT3NRV3RSbnV3WGFGVGo5alZWaDhwbWE5SmpaNHpZU2o1Wk95bWE3dXVvbGZmaCtJUjVhVzk3Y0h1QlVYS0dLWGxLam4rRGlIV01jWUphaDROMGxZQ01sSk9YaXBHUnI1cWRnb1NUcnFXU3E2V0ZsMnlwb2FVQUFBSWZrRUNRRUFBUUFzQUFBQUFDZ0FLQUFBQXBhRWI2SExnZC9pTzdGTld0Y0ZXZSt1Zk9ER2pSZm9pSjJha1NoYnVlYjB3dEk1MHptMDJwYnZ3ZldFTVdCUTF6S0dsTEloc2tpRVBtOVI2dlJYeFY0WnpXVDJ5SE9HcFdNeW9yYmxLbE5wOEhtSEViL2xDWGpjVzdibXRYUDhYdDIyOU9WV1IxZm9kMmVXcU5mSHVNalhDUGtJR05pbGVPaUltVm1DT0Vtb1NmbjN5WGxKV21vSEdocXA2aWxZdVdZcG1UcUtVZ0FBSWZrRUNRRUFBUUFzQUFBQUFDZ0FLQUFBQXBpRUg2a2I1OGJpUTNGTld0TUZXVzNlTlZjb2p1RkdmcW5acVNlYnVTMDZ3NVY4MC9YMDJwS2U4ekZ3UDZFRldPVDFsREZrOHJHRVJoMVRUTk9vY1E2MUhtNFhtMlZleFVIcHpqeW1WaUhyRmJpRUxzZWZWcm42WEtmbnQyUTlHLytYZGllNDk5WEhkMmc0aDdpb09HaFhHSmJvR0FuWFNCbm9Cd0tZeWZpb3ViWkoySG4wUnVSWmFmbFpPaWw1NlpwNmlpb0tTWHBVQUFBaCtRUUpBUUFCQUN3QUFBQUFLQUFvQUFBQ2tvUVJxUnZueHVJN2tVMWExVVU1YmQ1dG5TZU9aWGhtbjVsV0szcU5UV3ZSZFF4UDhxdmFDKy95YVlRelhPN0JNdmFVRW1KUmQzVHNpTUFnc3dtTllyU2daZFlyVFg2dFNIR1pPNzNlenVBdzJ1eHVRK0JiZVpmTXhzZXhZMzUrL1FlNEoxaW5WMGc0eDNXSHVNaElsMmpYT0tUMlErVlU1ZmdvU1VJNTJWZlp5ZmtKR2toYTZqbVkrYWFZZGlycStsUUFBQ0g1QkFrQkFBRUFMQUFBQUFBb0FDZ0FBQUtXQklLcFllMEwzWU5LVG9xc3dVbHZ6bmlnZDR3aVI0S2hackt0OVVwcWlwNjFpOUUzdk12eFJkSGxiRUZpRVhmazlZQVJZeE9aWkQ2VlEycFV1bkJtdFJYbzFMZjhoTVZWY05sOEphZlYzOGFNMi9GdTVWMTZCbjYzcjZ4dDk3ajA5K01YU0ZpNEJuaUdGYWUzaHpiSDkraFlCemtwdVVoNWFabUh1YW5aT1pnSXV2YkdpTmVvbUNuYXh4YXAydXBhQ1pzcSsxa0FBQ0g1QkFrQkFBRUFMQUFBQUFBb0FDZ0FBQUtYakk4Qnk1emY0a094VFZyWE5WbHYxWDBkOElHWkdLTG5OcFl0bThMcjljcVZldU9TdmZPVzc5RDlhREhpek5oREppZEZaaE55ZEVhaE9hREg2bm9tdEpqcDF0dXRLb05Xa3ZBNkpxZlJWTEhVL1FVZmF1OWwyeDdHNTRkMWZsOTk1eGNJR0FkWHFNZkJOYWRvWXJoSCtNZzJLQmxwVnBibHVDaVhtTW5aMlNoNEdCcUorY2tJT3FxSjZMbUtTbGxabXNvcTZ3cFFBQUFoK1FRSkFRQUJBQ3dBQUFBQUtBQW9BQUFDbFl4L29Mdm94dUpEa1UxYTFZVVpiSjU5blNkMlpYaFdxYlJhMi9nRjhHdTJEWTNpcXM3eXJxK3hCWUVrWXZGU004YVNTT2JFK1pnUmwxQkhGWk5yN3BSQ2F2WjVCVzIxNDJoWTNBTi96V3RzbWYxMnA5WHh4RmwybHBMbjFyc2V6dGZYWmpkSVdJZjJzNWRJdHdqWUtCZ285eWc1cEhnekpYVEVlR2xadWVucHlQbXBHUW9LT1drWW1TcGFTbnFLaWxlSTJGQUFBQ0g1QkFrQkFBRUFMQUFBQUFBb0FDZ0FBQUtWakIrZ3Urakc0a09SVFZyVmhSbHNubjJkSjNabGVGYXB0RnJiK0NYbU85T296ZUw1VmZQOTlIdkFXaHBpVWRjd2twQkgzODI1QXdZZFU4eFRxbExHaHRDb3NBcktNcHZmYTFtTVJhZTlWdldaZmVCMlhmUGtlTG1tMThsVWNCaitwNWRuTjhqWFozWUlHRWhZdU9VbjQ1YW9DRGtwMTZobDVJallKdmpXS2Nub0dRcHF5UGxwT2hyM2FFbGFxcnE1NkJxN1ZBQUFPdz09XFxcIik7XFxuXFx0aGVpZ2h0OiAxMDAlO1xcblxcdGZpbHRlcjogYWxwaGEob3BhY2l0eT0yNSk7IC8qIHN1cHBvcnQ6IElFOCAqL1xcblxcdG9wYWNpdHk6IDAuMjU7XFxufVxcbi51aS1wcm9ncmVzc2Jhci1pbmRldGVybWluYXRlIC51aS1wcm9ncmVzc2Jhci12YWx1ZSB7XFxuXFx0YmFja2dyb3VuZC1pbWFnZTogbm9uZTtcXG59XFxuLnVpLXJlc2l6YWJsZSB7XFxuXFx0cG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4udWktcmVzaXphYmxlLWhhbmRsZSB7XFxuXFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdGZvbnQtc2l6ZTogMC4xcHg7XFxuXFx0ZGlzcGxheTogYmxvY2s7XFxuXFx0LW1zLXRvdWNoLWFjdGlvbjogbm9uZTtcXG5cXHR0b3VjaC1hY3Rpb246IG5vbmU7XFxufVxcbi51aS1yZXNpemFibGUtZGlzYWJsZWQgLnVpLXJlc2l6YWJsZS1oYW5kbGUsXFxuLnVpLXJlc2l6YWJsZS1hdXRvaGlkZSAudWktcmVzaXphYmxlLWhhbmRsZSB7XFxuXFx0ZGlzcGxheTogbm9uZTtcXG59XFxuLnVpLXJlc2l6YWJsZS1uIHtcXG5cXHRjdXJzb3I6IG4tcmVzaXplO1xcblxcdGhlaWdodDogN3B4O1xcblxcdHdpZHRoOiAxMDAlO1xcblxcdHRvcDogLTVweDtcXG5cXHRsZWZ0OiAwO1xcbn1cXG4udWktcmVzaXphYmxlLXMge1xcblxcdGN1cnNvcjogcy1yZXNpemU7XFxuXFx0aGVpZ2h0OiA3cHg7XFxuXFx0d2lkdGg6IDEwMCU7XFxuXFx0Ym90dG9tOiAtNXB4O1xcblxcdGxlZnQ6IDA7XFxufVxcbi51aS1yZXNpemFibGUtZSB7XFxuXFx0Y3Vyc29yOiBlLXJlc2l6ZTtcXG5cXHR3aWR0aDogN3B4O1xcblxcdHJpZ2h0OiAtNXB4O1xcblxcdHRvcDogMDtcXG5cXHRoZWlnaHQ6IDEwMCU7XFxufVxcbi51aS1yZXNpemFibGUtdyB7XFxuXFx0Y3Vyc29yOiB3LXJlc2l6ZTtcXG5cXHR3aWR0aDogN3B4O1xcblxcdGxlZnQ6IC01cHg7XFxuXFx0dG9wOiAwO1xcblxcdGhlaWdodDogMTAwJTtcXG59XFxuLnVpLXJlc2l6YWJsZS1zZSB7XFxuXFx0Y3Vyc29yOiBzZS1yZXNpemU7XFxuXFx0d2lkdGg6IDEycHg7XFxuXFx0aGVpZ2h0OiAxMnB4O1xcblxcdHJpZ2h0OiAxcHg7XFxuXFx0Ym90dG9tOiAxcHg7XFxufVxcbi51aS1yZXNpemFibGUtc3cge1xcblxcdGN1cnNvcjogc3ctcmVzaXplO1xcblxcdHdpZHRoOiA5cHg7XFxuXFx0aGVpZ2h0OiA5cHg7XFxuXFx0bGVmdDogLTVweDtcXG5cXHRib3R0b206IC01cHg7XFxufVxcbi51aS1yZXNpemFibGUtbncge1xcblxcdGN1cnNvcjogbnctcmVzaXplO1xcblxcdHdpZHRoOiA5cHg7XFxuXFx0aGVpZ2h0OiA5cHg7XFxuXFx0bGVmdDogLTVweDtcXG5cXHR0b3A6IC01cHg7XFxufVxcbi51aS1yZXNpemFibGUtbmUge1xcblxcdGN1cnNvcjogbmUtcmVzaXplO1xcblxcdHdpZHRoOiA5cHg7XFxuXFx0aGVpZ2h0OiA5cHg7XFxuXFx0cmlnaHQ6IC01cHg7XFxuXFx0dG9wOiAtNXB4O1xcbn1cXG4udWktc2VsZWN0YWJsZSB7XFxuXFx0LW1zLXRvdWNoLWFjdGlvbjogbm9uZTtcXG5cXHR0b3VjaC1hY3Rpb246IG5vbmU7XFxufVxcbi51aS1zZWxlY3RhYmxlLWhlbHBlciB7XFxuXFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdHotaW5kZXg6IDEwMDtcXG5cXHRib3JkZXI6IDFweCBkb3R0ZWQgYmxhY2s7XFxufVxcbi51aS1zZWxlY3RtZW51LW1lbnUge1xcblxcdHBhZGRpbmc6IDA7XFxuXFx0bWFyZ2luOiAwO1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHR0b3A6IDA7XFxuXFx0bGVmdDogMDtcXG5cXHRkaXNwbGF5OiBub25lO1xcbn1cXG4udWktc2VsZWN0bWVudS1tZW51IC51aS1tZW51IHtcXG5cXHRvdmVyZmxvdzogYXV0bztcXG5cXHQvKiBTdXBwb3J0OiBJRTcgKi9cXG5cXHRvdmVyZmxvdy14OiBoaWRkZW47XFxuXFx0cGFkZGluZy1ib3R0b206IDFweDtcXG59XFxuLnVpLXNlbGVjdG1lbnUtbWVudSAudWktbWVudSAudWktc2VsZWN0bWVudS1vcHRncm91cCB7XFxuXFx0Zm9udC1zaXplOiAxZW07XFxuXFx0Zm9udC13ZWlnaHQ6IGJvbGQ7XFxuXFx0bGluZS1oZWlnaHQ6IDEuNTtcXG5cXHRwYWRkaW5nOiAycHggMC40ZW07XFxuXFx0bWFyZ2luOiAwLjVlbSAwIDAgMDtcXG5cXHRoZWlnaHQ6IGF1dG87XFxuXFx0Ym9yZGVyOiAwO1xcbn1cXG4udWktc2VsZWN0bWVudS1vcGVuIHtcXG5cXHRkaXNwbGF5OiBibG9jaztcXG59XFxuLnVpLXNlbGVjdG1lbnUtYnV0dG9uIHtcXG5cXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuXFx0b3ZlcmZsb3c6IGhpZGRlbjtcXG5cXHRwb3NpdGlvbjogcmVsYXRpdmU7XFxuXFx0dGV4dC1kZWNvcmF0aW9uOiBub25lO1xcblxcdGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnVpLXNlbGVjdG1lbnUtYnV0dG9uIHNwYW4udWktaWNvbiB7XFxuXFx0cmlnaHQ6IDAuNWVtO1xcblxcdGxlZnQ6IGF1dG87XFxuXFx0bWFyZ2luLXRvcDogLThweDtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0dG9wOiA1MCU7XFxufVxcbi51aS1zZWxlY3RtZW51LWJ1dHRvbiBzcGFuLnVpLXNlbGVjdG1lbnUtdGV4dCB7XFxuXFx0dGV4dC1hbGlnbjogbGVmdDtcXG5cXHRwYWRkaW5nOiAwLjRlbSAyLjFlbSAwLjRlbSAxZW07XFxuXFx0ZGlzcGxheTogYmxvY2s7XFxuXFx0bGluZS1oZWlnaHQ6IDEuNDtcXG5cXHRvdmVyZmxvdzogaGlkZGVuO1xcblxcdHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcblxcdHdoaXRlLXNwYWNlOiBub3dyYXA7XFxufVxcbi51aS1zbGlkZXIge1xcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXHR0ZXh0LWFsaWduOiBsZWZ0O1xcbn1cXG4udWktc2xpZGVyIC51aS1zbGlkZXItaGFuZGxlIHtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0ei1pbmRleDogMjtcXG5cXHR3aWR0aDogMS4yZW07XFxuXFx0aGVpZ2h0OiAxLjJlbTtcXG5cXHRjdXJzb3I6IGRlZmF1bHQ7XFxuXFx0LW1zLXRvdWNoLWFjdGlvbjogbm9uZTtcXG5cXHR0b3VjaC1hY3Rpb246IG5vbmU7XFxufVxcbi51aS1zbGlkZXIgLnVpLXNsaWRlci1yYW5nZSB7XFxuXFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdHotaW5kZXg6IDE7XFxuXFx0Zm9udC1zaXplOiAuN2VtO1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcblxcdGJvcmRlcjogMDtcXG5cXHRiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDA7XFxufVxcblxcbi8qIHN1cHBvcnQ6IElFOCAtIFNlZSAjNjcyNyAqL1xcbi51aS1zbGlkZXIudWktc3RhdGUtZGlzYWJsZWQgLnVpLXNsaWRlci1oYW5kbGUsXFxuLnVpLXNsaWRlci51aS1zdGF0ZS1kaXNhYmxlZCAudWktc2xpZGVyLXJhbmdlIHtcXG5cXHRmaWx0ZXI6IGluaGVyaXQ7XFxufVxcblxcbi51aS1zbGlkZXItaG9yaXpvbnRhbCB7XFxuXFx0aGVpZ2h0OiAuOGVtO1xcbn1cXG4udWktc2xpZGVyLWhvcml6b250YWwgLnVpLXNsaWRlci1oYW5kbGUge1xcblxcdHRvcDogLS4zZW07XFxuXFx0bWFyZ2luLWxlZnQ6IC0uNmVtO1xcbn1cXG4udWktc2xpZGVyLWhvcml6b250YWwgLnVpLXNsaWRlci1yYW5nZSB7XFxuXFx0dG9wOiAwO1xcblxcdGhlaWdodDogMTAwJTtcXG59XFxuLnVpLXNsaWRlci1ob3Jpem9udGFsIC51aS1zbGlkZXItcmFuZ2UtbWluIHtcXG5cXHRsZWZ0OiAwO1xcbn1cXG4udWktc2xpZGVyLWhvcml6b250YWwgLnVpLXNsaWRlci1yYW5nZS1tYXgge1xcblxcdHJpZ2h0OiAwO1xcbn1cXG5cXG4udWktc2xpZGVyLXZlcnRpY2FsIHtcXG5cXHR3aWR0aDogLjhlbTtcXG5cXHRoZWlnaHQ6IDEwMHB4O1xcbn1cXG4udWktc2xpZGVyLXZlcnRpY2FsIC51aS1zbGlkZXItaGFuZGxlIHtcXG5cXHRsZWZ0OiAtLjNlbTtcXG5cXHRtYXJnaW4tbGVmdDogMDtcXG5cXHRtYXJnaW4tYm90dG9tOiAtLjZlbTtcXG59XFxuLnVpLXNsaWRlci12ZXJ0aWNhbCAudWktc2xpZGVyLXJhbmdlIHtcXG5cXHRsZWZ0OiAwO1xcblxcdHdpZHRoOiAxMDAlO1xcbn1cXG4udWktc2xpZGVyLXZlcnRpY2FsIC51aS1zbGlkZXItcmFuZ2UtbWluIHtcXG5cXHRib3R0b206IDA7XFxufVxcbi51aS1zbGlkZXItdmVydGljYWwgLnVpLXNsaWRlci1yYW5nZS1tYXgge1xcblxcdHRvcDogMDtcXG59XFxuLnVpLXNvcnRhYmxlLWhhbmRsZSB7XFxuXFx0LW1zLXRvdWNoLWFjdGlvbjogbm9uZTtcXG5cXHR0b3VjaC1hY3Rpb246IG5vbmU7XFxufVxcbi51aS1zcGlubmVyIHtcXG5cXHRwb3NpdGlvbjogcmVsYXRpdmU7XFxuXFx0ZGlzcGxheTogaW5saW5lLWJsb2NrO1xcblxcdG92ZXJmbG93OiBoaWRkZW47XFxuXFx0cGFkZGluZzogMDtcXG5cXHR2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbn1cXG4udWktc3Bpbm5lci1pbnB1dCB7XFxuXFx0Ym9yZGVyOiBub25lO1xcblxcdGJhY2tncm91bmQ6IG5vbmU7XFxuXFx0Y29sb3I6IGluaGVyaXQ7XFxuXFx0cGFkZGluZzogMDtcXG5cXHRtYXJnaW46IC4yZW0gMDtcXG5cXHR2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcblxcdG1hcmdpbi1sZWZ0OiAuNGVtO1xcblxcdG1hcmdpbi1yaWdodDogMjJweDtcXG59XFxuLnVpLXNwaW5uZXItYnV0dG9uIHtcXG5cXHR3aWR0aDogMTZweDtcXG5cXHRoZWlnaHQ6IDUwJTtcXG5cXHRmb250LXNpemU6IC41ZW07XFxuXFx0cGFkZGluZzogMDtcXG5cXHRtYXJnaW46IDA7XFxuXFx0dGV4dC1hbGlnbjogY2VudGVyO1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHRjdXJzb3I6IGRlZmF1bHQ7XFxuXFx0ZGlzcGxheTogYmxvY2s7XFxuXFx0b3ZlcmZsb3c6IGhpZGRlbjtcXG5cXHRyaWdodDogMDtcXG59XFxuLyogbW9yZSBzcGVjaWZpY2l0eSByZXF1aXJlZCBoZXJlIHRvIG92ZXJyaWRlIGRlZmF1bHQgYm9yZGVycyAqL1xcbi51aS1zcGlubmVyIGEudWktc3Bpbm5lci1idXR0b24ge1xcblxcdGJvcmRlci10b3A6IG5vbmU7XFxuXFx0Ym9yZGVyLWJvdHRvbTogbm9uZTtcXG5cXHRib3JkZXItcmlnaHQ6IG5vbmU7XFxufVxcbi8qIHZlcnRpY2FsbHkgY2VudGVyIGljb24gKi9cXG4udWktc3Bpbm5lciAudWktaWNvbiB7XFxuXFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdG1hcmdpbi10b3A6IC04cHg7XFxuXFx0dG9wOiA1MCU7XFxuXFx0bGVmdDogMDtcXG59XFxuLnVpLXNwaW5uZXItdXAge1xcblxcdHRvcDogMDtcXG59XFxuLnVpLXNwaW5uZXItZG93biB7XFxuXFx0Ym90dG9tOiAwO1xcbn1cXG5cXG4vKiBUUiBvdmVycmlkZXMgKi9cXG4udWktc3Bpbm5lciAudWktaWNvbi10cmlhbmdsZS0xLXMge1xcblxcdC8qIG5lZWQgdG8gZml4IGljb25zIHNwcml0ZSAqL1xcblxcdGJhY2tncm91bmQtcG9zaXRpb246IC02NXB4IC0xNnB4O1xcbn1cXG4udWktdGFicyB7XFxuXFx0cG9zaXRpb246IHJlbGF0aXZlOy8qIHBvc2l0aW9uOiByZWxhdGl2ZSBwcmV2ZW50cyBJRSBzY3JvbGwgYnVnIChlbGVtZW50IHdpdGggcG9zaXRpb246IHJlbGF0aXZlIGluc2lkZSBjb250YWluZXIgd2l0aCBvdmVyZmxvdzogYXV0byBhcHBlYXIgYXMgXFxcImZpeGVkXFxcIikgKi9cXG5cXHRwYWRkaW5nOiAuMmVtO1xcbn1cXG4udWktdGFicyAudWktdGFicy1uYXYge1xcblxcdG1hcmdpbjogMDtcXG5cXHRwYWRkaW5nOiAuMmVtIC4yZW0gMDtcXG59XFxuLnVpLXRhYnMgLnVpLXRhYnMtbmF2IGxpIHtcXG5cXHRsaXN0LXN0eWxlOiBub25lO1xcblxcdGZsb2F0OiBsZWZ0O1xcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXHR0b3A6IDA7XFxuXFx0bWFyZ2luOiAxcHggLjJlbSAwIDA7XFxuXFx0Ym9yZGVyLWJvdHRvbS13aWR0aDogMDtcXG5cXHRwYWRkaW5nOiAwO1xcblxcdHdoaXRlLXNwYWNlOiBub3dyYXA7XFxufVxcbi51aS10YWJzIC51aS10YWJzLW5hdiAudWktdGFicy1hbmNob3Ige1xcblxcdGZsb2F0OiBsZWZ0O1xcblxcdHBhZGRpbmc6IC41ZW0gMWVtO1xcblxcdHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG59XFxuLnVpLXRhYnMgLnVpLXRhYnMtbmF2IGxpLnVpLXRhYnMtYWN0aXZlIHtcXG5cXHRtYXJnaW4tYm90dG9tOiAtMXB4O1xcblxcdHBhZGRpbmctYm90dG9tOiAxcHg7XFxufVxcbi51aS10YWJzIC51aS10YWJzLW5hdiBsaS51aS10YWJzLWFjdGl2ZSAudWktdGFicy1hbmNob3IsXFxuLnVpLXRhYnMgLnVpLXRhYnMtbmF2IGxpLnVpLXN0YXRlLWRpc2FibGVkIC51aS10YWJzLWFuY2hvcixcXG4udWktdGFicyAudWktdGFicy1uYXYgbGkudWktdGFicy1sb2FkaW5nIC51aS10YWJzLWFuY2hvciB7XFxuXFx0Y3Vyc29yOiB0ZXh0O1xcbn1cXG4udWktdGFicy1jb2xsYXBzaWJsZSAudWktdGFicy1uYXYgbGkudWktdGFicy1hY3RpdmUgLnVpLXRhYnMtYW5jaG9yIHtcXG5cXHRjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi51aS10YWJzIC51aS10YWJzLXBhbmVsIHtcXG5cXHRkaXNwbGF5OiBibG9jaztcXG5cXHRib3JkZXItd2lkdGg6IDA7XFxuXFx0cGFkZGluZzogMWVtIDEuNGVtO1xcblxcdGJhY2tncm91bmQ6IG5vbmU7XFxufVxcbi51aS10b29sdGlwIHtcXG5cXHRwYWRkaW5nOiA4cHg7XFxuXFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdHotaW5kZXg6IDk5OTk7XFxuXFx0bWF4LXdpZHRoOiAzMDBweDtcXG5cXHQtd2Via2l0LWJveC1zaGFkb3c6IDAgMCA1cHggI2FhYTtcXG5cXHRib3gtc2hhZG93OiAwIDAgNXB4ICNhYWE7XFxufVxcbmJvZHkgLnVpLXRvb2x0aXAge1xcblxcdGJvcmRlci13aWR0aDogMnB4O1xcbn1cXG5cXG4vKiBDb21wb25lbnQgY29udGFpbmVyc1xcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcbi51aS13aWRnZXQge1xcblxcdGZvbnQtZmFtaWx5OiBUcmVidWNoZXQgTVMsVGFob21hLFZlcmRhbmEsQXJpYWwsc2Fucy1zZXJpZjtcXG5cXHRmb250LXNpemU6IDEuMWVtO1xcbn1cXG4udWktd2lkZ2V0IC51aS13aWRnZXQge1xcblxcdGZvbnQtc2l6ZTogMWVtO1xcbn1cXG4udWktd2lkZ2V0IGlucHV0LFxcbi51aS13aWRnZXQgc2VsZWN0LFxcbi51aS13aWRnZXQgdGV4dGFyZWEsXFxuLnVpLXdpZGdldCBidXR0b24ge1xcblxcdGZvbnQtZmFtaWx5OiBUcmVidWNoZXQgTVMsVGFob21hLFZlcmRhbmEsQXJpYWwsc2Fucy1zZXJpZjtcXG5cXHRmb250LXNpemU6IDFlbTtcXG59XFxuLnVpLXdpZGdldC1jb250ZW50IHtcXG5cXHRib3JkZXI6IDFweCBzb2xpZCAjZGRkZGRkO1xcblxcdGJhY2tncm91bmQ6ICNlZWVlZWUgdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyArIFwiKSA1MCUgdG9wIHJlcGVhdC14O1xcblxcdGNvbG9yOiAjMzMzMzMzO1xcbn1cXG4udWktd2lkZ2V0LWNvbnRlbnQgYSB7XFxuXFx0Y29sb3I6ICMzMzMzMzM7XFxufVxcbi51aS13aWRnZXQtaGVhZGVyIHtcXG5cXHRib3JkZXI6IDFweCBzb2xpZCAjZTc4ZjA4O1xcblxcdGJhY2tncm91bmQ6ICNmNmE4MjggdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMV9fXyArIFwiKSA1MCUgNTAlIHJlcGVhdC14O1xcblxcdGNvbG9yOiAjZmZmZmZmO1xcblxcdGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG4udWktd2lkZ2V0LWhlYWRlciBhIHtcXG5cXHRjb2xvcjogI2ZmZmZmZjtcXG59XFxuXFxuLyogSW50ZXJhY3Rpb24gc3RhdGVzXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuLnVpLXN0YXRlLWRlZmF1bHQsXFxuLnVpLXdpZGdldC1jb250ZW50IC51aS1zdGF0ZS1kZWZhdWx0LFxcbi51aS13aWRnZXQtaGVhZGVyIC51aS1zdGF0ZS1kZWZhdWx0IHtcXG5cXHRib3JkZXI6IDFweCBzb2xpZCAjY2NjY2NjO1xcblxcdGJhY2tncm91bmQ6ICNmNmY2ZjYgdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMl9fXyArIFwiKSA1MCUgNTAlIHJlcGVhdC14O1xcblxcdGZvbnQtd2VpZ2h0OiBib2xkO1xcblxcdGNvbG9yOiAjMWM5NGM0O1xcbn1cXG4udWktc3RhdGUtZGVmYXVsdCBhLFxcbi51aS1zdGF0ZS1kZWZhdWx0IGE6bGluayxcXG4udWktc3RhdGUtZGVmYXVsdCBhOnZpc2l0ZWQge1xcblxcdGNvbG9yOiAjMWM5NGM0O1xcblxcdHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG59XFxuLnVpLXN0YXRlLWhvdmVyLFxcbi51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtaG92ZXIsXFxuLnVpLXdpZGdldC1oZWFkZXIgLnVpLXN0YXRlLWhvdmVyLFxcbi51aS1zdGF0ZS1mb2N1cyxcXG4udWktd2lkZ2V0LWNvbnRlbnQgLnVpLXN0YXRlLWZvY3VzLFxcbi51aS13aWRnZXQtaGVhZGVyIC51aS1zdGF0ZS1mb2N1cyB7XFxuXFx0Ym9yZGVyOiAxcHggc29saWQgI2ZiY2IwOTtcXG5cXHRiYWNrZ3JvdW5kOiAjZmRmNWNlIHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzNfX18gKyBcIikgNTAlIDUwJSByZXBlYXQteDtcXG5cXHRmb250LXdlaWdodDogYm9sZDtcXG5cXHRjb2xvcjogI2M3NzQwNTtcXG59XFxuLnVpLXN0YXRlLWhvdmVyIGEsXFxuLnVpLXN0YXRlLWhvdmVyIGE6aG92ZXIsXFxuLnVpLXN0YXRlLWhvdmVyIGE6bGluayxcXG4udWktc3RhdGUtaG92ZXIgYTp2aXNpdGVkLFxcbi51aS1zdGF0ZS1mb2N1cyBhLFxcbi51aS1zdGF0ZS1mb2N1cyBhOmhvdmVyLFxcbi51aS1zdGF0ZS1mb2N1cyBhOmxpbmssXFxuLnVpLXN0YXRlLWZvY3VzIGE6dmlzaXRlZCB7XFxuXFx0Y29sb3I6ICNjNzc0MDU7XFxuXFx0dGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG4udWktc3RhdGUtYWN0aXZlLFxcbi51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtYWN0aXZlLFxcbi51aS13aWRnZXQtaGVhZGVyIC51aS1zdGF0ZS1hY3RpdmUge1xcblxcdGJvcmRlcjogMXB4IHNvbGlkICNmYmQ4NTA7XFxuXFx0YmFja2dyb3VuZDogI2ZmZmZmZiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF80X19fICsgXCIpIDUwJSA1MCUgcmVwZWF0LXg7XFxuXFx0Zm9udC13ZWlnaHQ6IGJvbGQ7XFxuXFx0Y29sb3I6ICNlYjhmMDA7XFxufVxcbi51aS1zdGF0ZS1hY3RpdmUgYSxcXG4udWktc3RhdGUtYWN0aXZlIGE6bGluayxcXG4udWktc3RhdGUtYWN0aXZlIGE6dmlzaXRlZCB7XFxuXFx0Y29sb3I6ICNlYjhmMDA7XFxuXFx0dGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG5cXG4vKiBJbnRlcmFjdGlvbiBDdWVzXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuLnVpLXN0YXRlLWhpZ2hsaWdodCxcXG4udWktd2lkZ2V0LWNvbnRlbnQgLnVpLXN0YXRlLWhpZ2hsaWdodCxcXG4udWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtaGlnaGxpZ2h0IHtcXG5cXHRib3JkZXI6IDFweCBzb2xpZCAjZmVkMjJmO1xcblxcdGJhY2tncm91bmQ6ICNmZmU0NWMgdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNV9fXyArIFwiKSA1MCUgdG9wIHJlcGVhdC14O1xcblxcdGNvbG9yOiAjMzYzNjM2O1xcbn1cXG4udWktc3RhdGUtaGlnaGxpZ2h0IGEsXFxuLnVpLXdpZGdldC1jb250ZW50IC51aS1zdGF0ZS1oaWdobGlnaHQgYSxcXG4udWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtaGlnaGxpZ2h0IGEge1xcblxcdGNvbG9yOiAjMzYzNjM2O1xcbn1cXG4udWktc3RhdGUtZXJyb3IsXFxuLnVpLXdpZGdldC1jb250ZW50IC51aS1zdGF0ZS1lcnJvcixcXG4udWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtZXJyb3Ige1xcblxcdGJvcmRlcjogMXB4IHNvbGlkICNjZDBhMGE7XFxuXFx0YmFja2dyb3VuZDogI2I4MTkwMCB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF82X19fICsgXCIpIDUwJSA1MCUgcmVwZWF0O1xcblxcdGNvbG9yOiAjZmZmZmZmO1xcbn1cXG4udWktc3RhdGUtZXJyb3IgYSxcXG4udWktd2lkZ2V0LWNvbnRlbnQgLnVpLXN0YXRlLWVycm9yIGEsXFxuLnVpLXdpZGdldC1oZWFkZXIgLnVpLXN0YXRlLWVycm9yIGEge1xcblxcdGNvbG9yOiAjZmZmZmZmO1xcbn1cXG4udWktc3RhdGUtZXJyb3ItdGV4dCxcXG4udWktd2lkZ2V0LWNvbnRlbnQgLnVpLXN0YXRlLWVycm9yLXRleHQsXFxuLnVpLXdpZGdldC1oZWFkZXIgLnVpLXN0YXRlLWVycm9yLXRleHQge1xcblxcdGNvbG9yOiAjZmZmZmZmO1xcbn1cXG4udWktcHJpb3JpdHktcHJpbWFyeSxcXG4udWktd2lkZ2V0LWNvbnRlbnQgLnVpLXByaW9yaXR5LXByaW1hcnksXFxuLnVpLXdpZGdldC1oZWFkZXIgLnVpLXByaW9yaXR5LXByaW1hcnkge1xcblxcdGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG4udWktcHJpb3JpdHktc2Vjb25kYXJ5LFxcbi51aS13aWRnZXQtY29udGVudCAudWktcHJpb3JpdHktc2Vjb25kYXJ5LFxcbi51aS13aWRnZXQtaGVhZGVyIC51aS1wcmlvcml0eS1zZWNvbmRhcnkge1xcblxcdG9wYWNpdHk6IC43O1xcblxcdGZpbHRlcjpBbHBoYShPcGFjaXR5PTcwKTsgLyogc3VwcG9ydDogSUU4ICovXFxuXFx0Zm9udC13ZWlnaHQ6IG5vcm1hbDtcXG59XFxuLnVpLXN0YXRlLWRpc2FibGVkLFxcbi51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtZGlzYWJsZWQsXFxuLnVpLXdpZGdldC1oZWFkZXIgLnVpLXN0YXRlLWRpc2FibGVkIHtcXG5cXHRvcGFjaXR5OiAuMzU7XFxuXFx0ZmlsdGVyOkFscGhhKE9wYWNpdHk9MzUpOyAvKiBzdXBwb3J0OiBJRTggKi9cXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiBub25lO1xcbn1cXG4udWktc3RhdGUtZGlzYWJsZWQgLnVpLWljb24ge1xcblxcdGZpbHRlcjpBbHBoYShPcGFjaXR5PTM1KTsgLyogc3VwcG9ydDogSUU4IC0gU2VlICM2MDU5ICovXFxufVxcblxcbi8qIEljb25zXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuXFxuLyogc3RhdGVzIGFuZCBpbWFnZXMgKi9cXG4udWktaWNvbiB7XFxuXFx0d2lkdGg6IDE2cHg7XFxuXFx0aGVpZ2h0OiAxNnB4O1xcbn1cXG4udWktaWNvbixcXG4udWktd2lkZ2V0LWNvbnRlbnQgLnVpLWljb24ge1xcblxcdGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzdfX18gKyBcIik7XFxufVxcbi51aS13aWRnZXQtaGVhZGVyIC51aS1pY29uIHtcXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF84X19fICsgXCIpO1xcbn1cXG4udWktc3RhdGUtZGVmYXVsdCAudWktaWNvbiB7XFxuXFx0YmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfOV9fXyArIFwiKTtcXG59XFxuLnVpLXN0YXRlLWhvdmVyIC51aS1pY29uLFxcbi51aS1zdGF0ZS1mb2N1cyAudWktaWNvbiB7XFxuXFx0YmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfOV9fXyArIFwiKTtcXG59XFxuLnVpLXN0YXRlLWFjdGl2ZSAudWktaWNvbiB7XFxuXFx0YmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfOV9fXyArIFwiKTtcXG59XFxuLnVpLXN0YXRlLWhpZ2hsaWdodCAudWktaWNvbiB7XFxuXFx0YmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTBfX18gKyBcIik7XFxufVxcbi51aS1zdGF0ZS1lcnJvciAudWktaWNvbixcXG4udWktc3RhdGUtZXJyb3ItdGV4dCAudWktaWNvbiB7XFxuXFx0YmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTFfX18gKyBcIik7XFxufVxcblxcbi8qIHBvc2l0aW9uaW5nICovXFxuLnVpLWljb24tYmxhbmsgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAxNnB4IDE2cHg7IH1cXG4udWktaWNvbi1jYXJhdC0xLW4geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDA7IH1cXG4udWktaWNvbi1jYXJhdC0xLW5lIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggMDsgfVxcbi51aS1pY29uLWNhcmF0LTEtZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IDA7IH1cXG4udWktaWNvbi1jYXJhdC0xLXNlIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggMDsgfVxcbi51aS1pY29uLWNhcmF0LTEtcyB7IGJhY2tncm91bmQtcG9zaXRpb246IC02NHB4IDA7IH1cXG4udWktaWNvbi1jYXJhdC0xLXN3IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTgwcHggMDsgfVxcbi51aS1pY29uLWNhcmF0LTEtdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC05NnB4IDA7IH1cXG4udWktaWNvbi1jYXJhdC0xLW53IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTExMnB4IDA7IH1cXG4udWktaWNvbi1jYXJhdC0yLW4tcyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMjhweCAwOyB9XFxuLnVpLWljb24tY2FyYXQtMi1lLXcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTQ0cHggMDsgfVxcbi51aS1pY29uLXRyaWFuZ2xlLTEtbiB7IGJhY2tncm91bmQtcG9zaXRpb246IDAgLTE2cHg7IH1cXG4udWktaWNvbi10cmlhbmdsZS0xLW5lIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggLTE2cHg7IH1cXG4udWktaWNvbi10cmlhbmdsZS0xLWUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzJweCAtMTZweDsgfVxcbi51aS1pY29uLXRyaWFuZ2xlLTEtc2UgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDhweCAtMTZweDsgfVxcbi51aS1pY29uLXRyaWFuZ2xlLTEtcyB7IGJhY2tncm91bmQtcG9zaXRpb246IC02NHB4IC0xNnB4OyB9XFxuLnVpLWljb24tdHJpYW5nbGUtMS1zdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC04MHB4IC0xNnB4OyB9XFxuLnVpLWljb24tdHJpYW5nbGUtMS13IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggLTE2cHg7IH1cXG4udWktaWNvbi10cmlhbmdsZS0xLW53IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTExMnB4IC0xNnB4OyB9XFxuLnVpLWljb24tdHJpYW5nbGUtMi1uLXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTI4cHggLTE2cHg7IH1cXG4udWktaWNvbi10cmlhbmdsZS0yLWUtdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNDRweCAtMTZweDsgfVxcbi51aS1pY29uLWFycm93LTEtbiB7IGJhY2tncm91bmQtcG9zaXRpb246IDAgLTMycHg7IH1cXG4udWktaWNvbi1hcnJvdy0xLW5lIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggLTMycHg7IH1cXG4udWktaWNvbi1hcnJvdy0xLWUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzJweCAtMzJweDsgfVxcbi51aS1pY29uLWFycm93LTEtc2UgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDhweCAtMzJweDsgfVxcbi51aS1pY29uLWFycm93LTEtcyB7IGJhY2tncm91bmQtcG9zaXRpb246IC02NHB4IC0zMnB4OyB9XFxuLnVpLWljb24tYXJyb3ctMS1zdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC04MHB4IC0zMnB4OyB9XFxuLnVpLWljb24tYXJyb3ctMS13IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggLTMycHg7IH1cXG4udWktaWNvbi1hcnJvdy0xLW53IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTExMnB4IC0zMnB4OyB9XFxuLnVpLWljb24tYXJyb3ctMi1uLXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTI4cHggLTMycHg7IH1cXG4udWktaWNvbi1hcnJvdy0yLW5lLXN3IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE0NHB4IC0zMnB4OyB9XFxuLnVpLWljb24tYXJyb3ctMi1lLXcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTYwcHggLTMycHg7IH1cXG4udWktaWNvbi1hcnJvdy0yLXNlLW53IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE3NnB4IC0zMnB4OyB9XFxuLnVpLWljb24tYXJyb3dzdG9wLTEtbiB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xOTJweCAtMzJweDsgfVxcbi51aS1pY29uLWFycm93c3RvcC0xLWUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjA4cHggLTMycHg7IH1cXG4udWktaWNvbi1hcnJvd3N0b3AtMS1zIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIyNHB4IC0zMnB4OyB9XFxuLnVpLWljb24tYXJyb3dzdG9wLTEtdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0yNDBweCAtMzJweDsgfVxcbi51aS1pY29uLWFycm93dGhpY2stMS1uIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtNDhweDsgfVxcbi51aS1pY29uLWFycm93dGhpY2stMS1uZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNnB4IC00OHB4OyB9XFxuLnVpLWljb24tYXJyb3d0aGljay0xLWUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzJweCAtNDhweDsgfVxcbi51aS1pY29uLWFycm93dGhpY2stMS1zZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC00OHB4IC00OHB4OyB9XFxuLnVpLWljb24tYXJyb3d0aGljay0xLXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNjRweCAtNDhweDsgfVxcbi51aS1pY29uLWFycm93dGhpY2stMS1zdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC04MHB4IC00OHB4OyB9XFxuLnVpLWljb24tYXJyb3d0aGljay0xLXcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtOTZweCAtNDhweDsgfVxcbi51aS1pY29uLWFycm93dGhpY2stMS1udyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMTJweCAtNDhweDsgfVxcbi51aS1pY29uLWFycm93dGhpY2stMi1uLXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTI4cHggLTQ4cHg7IH1cXG4udWktaWNvbi1hcnJvd3RoaWNrLTItbmUtc3cgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTQ0cHggLTQ4cHg7IH1cXG4udWktaWNvbi1hcnJvd3RoaWNrLTItZS13IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2MHB4IC00OHB4OyB9XFxuLnVpLWljb24tYXJyb3d0aGljay0yLXNlLW53IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE3NnB4IC00OHB4OyB9XFxuLnVpLWljb24tYXJyb3d0aGlja3N0b3AtMS1uIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE5MnB4IC00OHB4OyB9XFxuLnVpLWljb24tYXJyb3d0aGlja3N0b3AtMS1lIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIwOHB4IC00OHB4OyB9XFxuLnVpLWljb24tYXJyb3d0aGlja3N0b3AtMS1zIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIyNHB4IC00OHB4OyB9XFxuLnVpLWljb24tYXJyb3d0aGlja3N0b3AtMS13IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTI0MHB4IC00OHB4OyB9XFxuLnVpLWljb24tYXJyb3dyZXR1cm50aGljay0xLXcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC02NHB4OyB9XFxuLnVpLWljb24tYXJyb3dyZXR1cm50aGljay0xLW4geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTZweCAtNjRweDsgfVxcbi51aS1pY29uLWFycm93cmV0dXJudGhpY2stMS1lIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggLTY0cHg7IH1cXG4udWktaWNvbi1hcnJvd3JldHVybnRoaWNrLTEtcyB7IGJhY2tncm91bmQtcG9zaXRpb246IC00OHB4IC02NHB4OyB9XFxuLnVpLWljb24tYXJyb3dyZXR1cm4tMS13IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTY0cHggLTY0cHg7IH1cXG4udWktaWNvbi1hcnJvd3JldHVybi0xLW4geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtODBweCAtNjRweDsgfVxcbi51aS1pY29uLWFycm93cmV0dXJuLTEtZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC05NnB4IC02NHB4OyB9XFxuLnVpLWljb24tYXJyb3dyZXR1cm4tMS1zIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTExMnB4IC02NHB4OyB9XFxuLnVpLWljb24tYXJyb3dyZWZyZXNoLTEtdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMjhweCAtNjRweDsgfVxcbi51aS1pY29uLWFycm93cmVmcmVzaC0xLW4geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTQ0cHggLTY0cHg7IH1cXG4udWktaWNvbi1hcnJvd3JlZnJlc2gtMS1lIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2MHB4IC02NHB4OyB9XFxuLnVpLWljb24tYXJyb3dyZWZyZXNoLTEtcyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNzZweCAtNjRweDsgfVxcbi51aS1pY29uLWFycm93LTQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC04MHB4OyB9XFxuLnVpLWljb24tYXJyb3ctNC1kaWFnIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggLTgwcHg7IH1cXG4udWktaWNvbi1leHRsaW5rIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggLTgwcHg7IH1cXG4udWktaWNvbi1uZXd3aW4geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDhweCAtODBweDsgfVxcbi51aS1pY29uLXJlZnJlc2ggeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNjRweCAtODBweDsgfVxcbi51aS1pY29uLXNodWZmbGUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtODBweCAtODBweDsgfVxcbi51aS1pY29uLXRyYW5zZmVyLWUtdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC05NnB4IC04MHB4OyB9XFxuLnVpLWljb24tdHJhbnNmZXJ0aGljay1lLXcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTEycHggLTgwcHg7IH1cXG4udWktaWNvbi1mb2xkZXItY29sbGFwc2VkIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtOTZweDsgfVxcbi51aS1pY29uLWZvbGRlci1vcGVuIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggLTk2cHg7IH1cXG4udWktaWNvbi1kb2N1bWVudCB7IGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC05NnB4OyB9XFxuLnVpLWljb24tZG9jdW1lbnQtYiB7IGJhY2tncm91bmQtcG9zaXRpb246IC00OHB4IC05NnB4OyB9XFxuLnVpLWljb24tbm90ZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC02NHB4IC05NnB4OyB9XFxuLnVpLWljb24tbWFpbC1jbG9zZWQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtODBweCAtOTZweDsgfVxcbi51aS1pY29uLW1haWwtb3BlbiB7IGJhY2tncm91bmQtcG9zaXRpb246IC05NnB4IC05NnB4OyB9XFxuLnVpLWljb24tc3VpdGNhc2UgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTEycHggLTk2cHg7IH1cXG4udWktaWNvbi1jb21tZW50IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEyOHB4IC05NnB4OyB9XFxuLnVpLWljb24tcGVyc29uIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE0NHB4IC05NnB4OyB9XFxuLnVpLWljb24tcHJpbnQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTYwcHggLTk2cHg7IH1cXG4udWktaWNvbi10cmFzaCB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNzZweCAtOTZweDsgfVxcbi51aS1pY29uLWxvY2tlZCB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xOTJweCAtOTZweDsgfVxcbi51aS1pY29uLXVubG9ja2VkIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIwOHB4IC05NnB4OyB9XFxuLnVpLWljb24tYm9va21hcmsgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjI0cHggLTk2cHg7IH1cXG4udWktaWNvbi10YWcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjQwcHggLTk2cHg7IH1cXG4udWktaWNvbi1ob21lIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtMTEycHg7IH1cXG4udWktaWNvbi1mbGFnIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggLTExMnB4OyB9XFxuLnVpLWljb24tY2FsZW5kYXIgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzJweCAtMTEycHg7IH1cXG4udWktaWNvbi1jYXJ0IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggLTExMnB4OyB9XFxuLnVpLWljb24tcGVuY2lsIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTY0cHggLTExMnB4OyB9XFxuLnVpLWljb24tY2xvY2sgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtODBweCAtMTEycHg7IH1cXG4udWktaWNvbi1kaXNrIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggLTExMnB4OyB9XFxuLnVpLWljb24tY2FsY3VsYXRvciB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMTJweCAtMTEycHg7IH1cXG4udWktaWNvbi16b29taW4geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTI4cHggLTExMnB4OyB9XFxuLnVpLWljb24tem9vbW91dCB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNDRweCAtMTEycHg7IH1cXG4udWktaWNvbi1zZWFyY2ggeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTYwcHggLTExMnB4OyB9XFxuLnVpLWljb24td3JlbmNoIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE3NnB4IC0xMTJweDsgfVxcbi51aS1pY29uLWdlYXIgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTkycHggLTExMnB4OyB9XFxuLnVpLWljb24taGVhcnQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjA4cHggLTExMnB4OyB9XFxuLnVpLWljb24tc3RhciB7IGJhY2tncm91bmQtcG9zaXRpb246IC0yMjRweCAtMTEycHg7IH1cXG4udWktaWNvbi1saW5rIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTI0MHB4IC0xMTJweDsgfVxcbi51aS1pY29uLWNhbmNlbCB7IGJhY2tncm91bmQtcG9zaXRpb246IDAgLTEyOHB4OyB9XFxuLnVpLWljb24tcGx1cyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNnB4IC0xMjhweDsgfVxcbi51aS1pY29uLXBsdXN0aGljayB7IGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC0xMjhweDsgfVxcbi51aS1pY29uLW1pbnVzIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggLTEyOHB4OyB9XFxuLnVpLWljb24tbWludXN0aGljayB7IGJhY2tncm91bmQtcG9zaXRpb246IC02NHB4IC0xMjhweDsgfVxcbi51aS1pY29uLWNsb3NlIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTgwcHggLTEyOHB4OyB9XFxuLnVpLWljb24tY2xvc2V0aGljayB7IGJhY2tncm91bmQtcG9zaXRpb246IC05NnB4IC0xMjhweDsgfVxcbi51aS1pY29uLWtleSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMTJweCAtMTI4cHg7IH1cXG4udWktaWNvbi1saWdodGJ1bGIgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTI4cHggLTEyOHB4OyB9XFxuLnVpLWljb24tc2Npc3NvcnMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTQ0cHggLTEyOHB4OyB9XFxuLnVpLWljb24tY2xpcGJvYXJkIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2MHB4IC0xMjhweDsgfVxcbi51aS1pY29uLWNvcHkgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTc2cHggLTEyOHB4OyB9XFxuLnVpLWljb24tY29udGFjdCB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xOTJweCAtMTI4cHg7IH1cXG4udWktaWNvbi1pbWFnZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0yMDhweCAtMTI4cHg7IH1cXG4udWktaWNvbi12aWRlbyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0yMjRweCAtMTI4cHg7IH1cXG4udWktaWNvbi1zY3JpcHQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjQwcHggLTEyOHB4OyB9XFxuLnVpLWljb24tYWxlcnQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC0xNDRweDsgfVxcbi51aS1pY29uLWluZm8geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTZweCAtMTQ0cHg7IH1cXG4udWktaWNvbi1ub3RpY2UgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzJweCAtMTQ0cHg7IH1cXG4udWktaWNvbi1oZWxwIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggLTE0NHB4OyB9XFxuLnVpLWljb24tY2hlY2sgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNjRweCAtMTQ0cHg7IH1cXG4udWktaWNvbi1idWxsZXQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtODBweCAtMTQ0cHg7IH1cXG4udWktaWNvbi1yYWRpby1vbiB7IGJhY2tncm91bmQtcG9zaXRpb246IC05NnB4IC0xNDRweDsgfVxcbi51aS1pY29uLXJhZGlvLW9mZiB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMTJweCAtMTQ0cHg7IH1cXG4udWktaWNvbi1waW4tdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMjhweCAtMTQ0cHg7IH1cXG4udWktaWNvbi1waW4tcyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNDRweCAtMTQ0cHg7IH1cXG4udWktaWNvbi1wbGF5IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtMTYwcHg7IH1cXG4udWktaWNvbi1wYXVzZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNnB4IC0xNjBweDsgfVxcbi51aS1pY29uLXNlZWstbmV4dCB7IGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC0xNjBweDsgfVxcbi51aS1pY29uLXNlZWstcHJldiB7IGJhY2tncm91bmQtcG9zaXRpb246IC00OHB4IC0xNjBweDsgfVxcbi51aS1pY29uLXNlZWstZW5kIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTY0cHggLTE2MHB4OyB9XFxuLnVpLWljb24tc2Vlay1zdGFydCB7IGJhY2tncm91bmQtcG9zaXRpb246IC04MHB4IC0xNjBweDsgfVxcbi8qIHVpLWljb24tc2Vlay1maXJzdCBpcyBkZXByZWNhdGVkLCB1c2UgdWktaWNvbi1zZWVrLXN0YXJ0IGluc3RlYWQgKi9cXG4udWktaWNvbi1zZWVrLWZpcnN0IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTgwcHggLTE2MHB4OyB9XFxuLnVpLWljb24tc3RvcCB7IGJhY2tncm91bmQtcG9zaXRpb246IC05NnB4IC0xNjBweDsgfVxcbi51aS1pY29uLWVqZWN0IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTExMnB4IC0xNjBweDsgfVxcbi51aS1pY29uLXZvbHVtZS1vZmYgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTI4cHggLTE2MHB4OyB9XFxuLnVpLWljb24tdm9sdW1lLW9uIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE0NHB4IC0xNjBweDsgfVxcbi51aS1pY29uLXBvd2VyIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtMTc2cHg7IH1cXG4udWktaWNvbi1zaWduYWwtZGlhZyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNnB4IC0xNzZweDsgfVxcbi51aS1pY29uLXNpZ25hbCB7IGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC0xNzZweDsgfVxcbi51aS1pY29uLWJhdHRlcnktMCB7IGJhY2tncm91bmQtcG9zaXRpb246IC00OHB4IC0xNzZweDsgfVxcbi51aS1pY29uLWJhdHRlcnktMSB7IGJhY2tncm91bmQtcG9zaXRpb246IC02NHB4IC0xNzZweDsgfVxcbi51aS1pY29uLWJhdHRlcnktMiB7IGJhY2tncm91bmQtcG9zaXRpb246IC04MHB4IC0xNzZweDsgfVxcbi51aS1pY29uLWJhdHRlcnktMyB7IGJhY2tncm91bmQtcG9zaXRpb246IC05NnB4IC0xNzZweDsgfVxcbi51aS1pY29uLWNpcmNsZS1wbHVzIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtMTkycHg7IH1cXG4udWktaWNvbi1jaXJjbGUtbWludXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTZweCAtMTkycHg7IH1cXG4udWktaWNvbi1jaXJjbGUtY2xvc2UgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzJweCAtMTkycHg7IH1cXG4udWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC00OHB4IC0xOTJweDsgfVxcbi51aS1pY29uLWNpcmNsZS10cmlhbmdsZS1zIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTY0cHggLTE5MnB4OyB9XFxuLnVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLXcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtODBweCAtMTkycHg7IH1cXG4udWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtbiB7IGJhY2tncm91bmQtcG9zaXRpb246IC05NnB4IC0xOTJweDsgfVxcbi51aS1pY29uLWNpcmNsZS1hcnJvdy1lIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTExMnB4IC0xOTJweDsgfVxcbi51aS1pY29uLWNpcmNsZS1hcnJvdy1zIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEyOHB4IC0xOTJweDsgfVxcbi51aS1pY29uLWNpcmNsZS1hcnJvdy13IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE0NHB4IC0xOTJweDsgfVxcbi51aS1pY29uLWNpcmNsZS1hcnJvdy1uIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2MHB4IC0xOTJweDsgfVxcbi51aS1pY29uLWNpcmNsZS16b29taW4geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTc2cHggLTE5MnB4OyB9XFxuLnVpLWljb24tY2lyY2xlLXpvb21vdXQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTkycHggLTE5MnB4OyB9XFxuLnVpLWljb24tY2lyY2xlLWNoZWNrIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIwOHB4IC0xOTJweDsgfVxcbi51aS1pY29uLWNpcmNsZXNtYWxsLXBsdXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC0yMDhweDsgfVxcbi51aS1pY29uLWNpcmNsZXNtYWxsLW1pbnVzIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggLTIwOHB4OyB9XFxuLnVpLWljb24tY2lyY2xlc21hbGwtY2xvc2UgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzJweCAtMjA4cHg7IH1cXG4udWktaWNvbi1zcXVhcmVzbWFsbC1wbHVzIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggLTIwOHB4OyB9XFxuLnVpLWljb24tc3F1YXJlc21hbGwtbWludXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNjRweCAtMjA4cHg7IH1cXG4udWktaWNvbi1zcXVhcmVzbWFsbC1jbG9zZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC04MHB4IC0yMDhweDsgfVxcbi51aS1pY29uLWdyaXAtZG90dGVkLXZlcnRpY2FsIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtMjI0cHg7IH1cXG4udWktaWNvbi1ncmlwLWRvdHRlZC1ob3Jpem9udGFsIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggLTIyNHB4OyB9XFxuLnVpLWljb24tZ3JpcC1zb2xpZC12ZXJ0aWNhbCB7IGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC0yMjRweDsgfVxcbi51aS1pY29uLWdyaXAtc29saWQtaG9yaXpvbnRhbCB7IGJhY2tncm91bmQtcG9zaXRpb246IC00OHB4IC0yMjRweDsgfVxcbi51aS1pY29uLWdyaXBzbWFsbC1kaWFnb25hbC1zZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC02NHB4IC0yMjRweDsgfVxcbi51aS1pY29uLWdyaXAtZGlhZ29uYWwtc2UgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtODBweCAtMjI0cHg7IH1cXG5cXG5cXG4vKiBNaXNjIHZpc3VhbHNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cXG4vKiBDb3JuZXIgcmFkaXVzICovXFxuLnVpLWNvcm5lci1hbGwsXFxuLnVpLWNvcm5lci10b3AsXFxuLnVpLWNvcm5lci1sZWZ0LFxcbi51aS1jb3JuZXItdGwge1xcblxcdGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDRweDtcXG59XFxuLnVpLWNvcm5lci1hbGwsXFxuLnVpLWNvcm5lci10b3AsXFxuLnVpLWNvcm5lci1yaWdodCxcXG4udWktY29ybmVyLXRyIHtcXG5cXHRib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNHB4O1xcbn1cXG4udWktY29ybmVyLWFsbCxcXG4udWktY29ybmVyLWJvdHRvbSxcXG4udWktY29ybmVyLWxlZnQsXFxuLnVpLWNvcm5lci1ibCB7XFxuXFx0Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogNHB4O1xcbn1cXG4udWktY29ybmVyLWFsbCxcXG4udWktY29ybmVyLWJvdHRvbSxcXG4udWktY29ybmVyLXJpZ2h0LFxcbi51aS1jb3JuZXItYnIge1xcblxcdGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA0cHg7XFxufVxcblxcbi8qIE92ZXJsYXlzICovXFxuLnVpLXdpZGdldC1vdmVybGF5IHtcXG5cXHRiYWNrZ3JvdW5kOiAjNjY2NjY2IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzEyX19fICsgXCIpIDUwJSA1MCUgcmVwZWF0O1xcblxcdG9wYWNpdHk6IC41O1xcblxcdGZpbHRlcjogQWxwaGEoT3BhY2l0eT01MCk7IC8qIHN1cHBvcnQ6IElFOCAqL1xcbn1cXG4udWktd2lkZ2V0LXNoYWRvdyB7XFxuXFx0bWFyZ2luOiAtNXB4IDAgMCAtNXB4O1xcblxcdHBhZGRpbmc6IDVweDtcXG5cXHRiYWNrZ3JvdW5kOiAjMDAwMDAwIHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzEzX19fICsgXCIpIDUwJSA1MCUgcmVwZWF0LXg7XFxuXFx0b3BhY2l0eTogLjI7XFxuXFx0ZmlsdGVyOiBBbHBoYShPcGFjaXR5PTIwKTsgLyogc3VwcG9ydDogSUU4ICovXFxuXFx0Ym9yZGVyLXJhZGl1czogNXB4O1xcbn1cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuXG5cbi8qKiovIH0pLFxuLyogMTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUJrRUFBQUFBQXkxOW4vQUFBQUFtSkxSMFQvL3hTck1jMEFBQUFKY0VoWmN3QUFBRWdBQUFCSUFFYkphejRBQUFCWVNVUkJWQmpUeGNLOURVQkFBSURSanhrMGRCUWFFNGdSN0tGVk00ckVEQklqRUtWVjdzNzlPWjB0ZUhrOEZSL05DQWVoSjZUY0szZUQzL0V0YnNQVjJBVmJZbVpNZ2g3Uk1kZkFGYUVtVklFOGtSMHlSNGdmdjFJdWxOVEpIc1RMQUFBQUpYUkZXSFJrWVhSbE9tTnlaV0YwWlFBeU1ERTFMVEF6TFRFeFZEQTRPalE1T2pNMExUQTNPakF3bk9rSEJRQUFBQ1YwUlZoMFpHRjBaVHB0YjJScFpua0FNakF4TlMwd015MHhNVlF3T0RvME9Ub3pOQzB3Tnpvd01PMjB2N2tBQUFBQVNVVk9SSzVDWUlJPVwiKTtcblxuLyoqKi8gfSksXG4vKiAxNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQWZRQUFBQmtFQUlBQUFDdk5ZbHBBQUFBQm1KTFIwVC8vLy8vLy84SldQZmNBQUFBQ1hCSVdYTUFBQUJJQUFBQVNBQkd5V3MrQUFBVjlVbEVRVlI0MnUyZFg2aG4xMVhIOTdtL0g1Rk1WQWFTVkN6SjNHQ2hFSWtOR2twSjFUeFVoZEM1cmJXWVBBMzRWcE8zV255UlJQRmxoSUpnd0pjaytoSWJGR2VpaVhEenB4UUtKZy8xSmRMNEVuekx2VE0yR0NlaFVKM2Z6VEMvZTN3NE0rWGMyWGV2K2E3OTUvZjduY25uODVEY25MUDMybXQ5MTlyNzdNbWNzMjkzOE5KM0gvcTlFd0VBQUFBQUFEYVlyWFU3QUFBQUFBQUFONGVOT3dBQUFBREFCR0RqRGdBQUFBQXdBZGk0QXdBQUFBQk1BRGJ1QUFBQUFBQVRnSTA3QUFBQUFNQUVZT01PQUFBQUFEQUIyTGdEQUFBQUFFd0FOdTRBQUFBQUFCT0FqVHNBQUFBQXdBUmc0dzRBQUFBQU1BSFl1QU1BQUFBQVRBQTI3Z0FBQUFBQUU0Q05Pd0FBQUFEQUJHRGpEZ0FBQUFBd0FkaTRBd0FBQUFCTUFEYnVBQUFBQUFBVDRHWWI5MlhZNjNkdmNrVy9ubXBqajE1aTJiNmVzcENLT202VDhsQ3huNmRHM3VoNWlubDFzQzJVWk4rYjN4TE5sVjc2dkxEajhsclRNK3VOVjhtc29wZ1NvNTVOcGRMeVpsTTVlYlBBYXpsMTExdjVlbC9GZ2plV0ZuTmZHYVZjSzYrZUpYTkJYMjJVdkhqWEVFVmhMOTdhYTMyMzVKbFlya0NKbm5rVjduM1c1Tm5YSTdMdGUvZGo1YW9xc1pTc1A5NDI4b2pkd1Q5Kzk2NnZmVDh6VkFBQUFBQUFXQW1lVjJXVy9YN1l2ZmJQVGFDdUp5bHI5aWpyVmNQcm0zSWx2cnNKZVY5TnJtMEY0cjVlWlpTV2RvNVdrNHR5KysxbWpWZEQ3MWlyclBOYWRWaGliUlAwcVdVekwrOTVvNWZNL1JMTjg5Ynd1anJrclZHcEdpNzMzN1pUTjcvNmxaSVpta2U3ZFZYUFZON1RxbVIyZUNPeW4rWmVDM21lZUMxSDE3dUR2My9qOHRlK1ZVRW1BQUFBQUFCb3hqd3N3OTZHL0I5MEFBQUFBQUJJd0treUFBQUFBQUFUZ0kwN0FBQUFBTUFFbUllcllhOS9OY3pEZG5mNnlKM2grbkU5dHJ2VFIzcU5XNDd0cE5yRWRtN200L0dqNkZlVW4vTzhTbW1WMHRNZVhkZFpWMUxKa2FkZVZIMlUwUlVmVXQ3Ryt1aldsRHBSZlBCU1VtOGxGdHJOb05aWlZ1d3JjOFR1cFkrYnAyb0tQWS9lVmJlV2JrcFZwS3dwYTZCU0xlWFZsWmU3dlBiZUdSMzM5VWFVVncvZXRVNS8zdVU5UGIzcldJdm40MnF5N0NWdnh6Vkczd1dsMXF1OHZIaWo4N1lzMmN1VlpEWXZ4cFNTU2k2aVh0M0IzNzd4L08vK1ZaaUZVMkhuMnJWbDJBKzd5U3ZEenpIajltUEc3Y2NXOUJGdG15bkxYZ3R4RkNuUFUrUGFPdGpqMnFTaVV6eXYxVVpYeHM2Rm9wV2lraEtMb21ScVhLWCs4N0t2S0duN2xvckk5anhsUjhtUk1wdDB4UlFMaWo0dExPdjE0NjJUbEZkNmpoUzF2VFdqVjZQdGxSZEZBZTh6U05ISzFrZWZLZnJvZGh0bHJGcFJlOWR0MjhPNnNlZjVvK3hKOG1hVDBsNTV4cVdpMXEzWnVkTjNQaVg3T2lVNjd6Tkl6N2l5bGlwNXQ3MzE3dmU4ZTBXOWxsSzZqYmkrY1FjQUFBQUFnQTJHVTJVQUFBQUFBQ1lBSDZjQ0FBQUFBRXdBTnU0QUFBQUFBQk5nSHBaaHIrZFZHUUFBQUFDQWpXYWVlYzRKQUFBQUFBQ3NFRjZWQVFBQUFBQ1lBSjVUWldaaE8reTRUNkVaZWczWWZmUHMxN1ZUeTRkVmpqSzJabHR1Y1hlYzM0RzhDa2xaVnF6WkNxeStyaFFmVWxlOEdzYXgxODFDTGEzYVZXYUpKeVdyVXd1MXZUWlhzNUxVeW81dXM4UnpwYVd1Y0F0UDF2V1UyWVFuck5lQ3NyWVBySEx0MHJOY3k3ZDJOVk95cjF2bGptNmc3bE4rTlRPaWZJY1QwUjM4NVJ2aHEzY1ZPUTBBQUFBQUFJMlpIL212WmIvWDc0Wlp0OTN0WFBzNWo3RUZyN1c0L1hCbDdHR2VKM3A3ZXl3N090MkNIbEY1UnJ5S2pSbEhHdnRzKzViU3B6eVdQRHQ2TDBXSFdBMGxkcnVYN2FlU2hkakRWSHZGazdxKzJkcW1ZdEcxc3V1dHhUd3FXZC95ZkN1Sm9xNjJkWFZMMWJDeWV1anpJdFUzTlc3ZXV0Y0NaVjRyS2lselU2a0s3K2d0UExFdDE1b3AzcFo1Q25oMVZxeWw2bGxYUHMrQ2JWbUp5TTZtZDllaDJQU2krNmJySUd2YkhYejc5YjJ2L0p2YmFRQUFBQUFBV0NGOG5Bb0FBQUFBTUFHMDR5QlRuNFBvN2UzWDlzZTlGUHR4ZTkxRDVkTVcrNFBMa2hGVGxIeXNvNmhuZjRwbjI5RS9KbE0rKy9PcWw5SXdsYU9VRDRxZHZOcFFkUFptVGZtUVJmZkV6cUJTN1haMDNocXdXM3F6citkZHJ6UmRiV1hkMFBzcTFhTG5KUzkzdHYvNngyRjVuNi9wWXlub0N1dXg1TTI3bEZkNXZpblY1Y1U3US9NK3RmZCtMRjYrRGl0MTdvMUxYeG1VZVcxbjAxdXhKU3VKb3FldGxUZWk4b3F5TSt0VkxMYW0xNUwrY1dxSlZzdXdGM2E3Z3o5Ly9lek94VEFMeDc4Lzk5T20vZTYxTnVPZmxmYmV1N2NTSlpIR2ZUZEJ0eFkrcEd3cTE4ZS9QaXlsMVNibzFrSWZ1MlZlL2RScXMybDRhMnoxL3F6R3cwM0kzU3A5MkxTOHQ0aGxrNm4xQkZ6bGM2ZVd6YnphMCs4cXo4Rk5ZNzNQbHp6TGVjL2Z4bkZkMzdnREFBQUFBTUFHc3hXdWh2MndlK1NmTm5GTHhVS3FsL2ZuMU4yOFVWSVdVdjdiNDlwUmV4VXU4VUVaMS9aRVVkS2JhejEzWHBVVWYzUnN4ZklxWE0rZ252MFMrOG9jc2U5NlZkVnQxcXBNcngzdjlWcnpTL2ZXcTFKZXBGNy83VjdlbFVyM1FZbGQ5N2w4WmJiL21ZcGRzYU9Nb25pdSs2bG53V3RaZjA1NWF6aXZsblFON1hHOWZpcHE1RjFYNHNyVFRZKzY3bTRoWmRPYlFUM2VrdjJKdDIvVyt0TWRQUDM2SCs0OGUrVDJNdXlGVjhNc2JJZlRvWVRCem9CdFRXL1p3c1BCVG13ejVWV3FwZTVQcW4ySkRuRmZiM1MyVi9wMS9hNHllbmxtdlJycXZlSk1LUmxNalZoZVY3b3lLYy96YWxqcFd5dTY4cXByUFpkYkt4bjNIZkRxcjF3Zlc4NWJUOFo0MTUrUytsZEc5NjVwU3I2OEsyMnQ3Q3MxNEkxRjc2V01Ycks2NnJXaHJHOTVhMWVzYzBuczlwVmF1ZkR1S05yaFhVL0t4OHFieFhrNUxaL0Z6dGk3Z3o5NS9kR2RyMVFRQ3dBQUFBQUFtc0Z4a0FBQUFBQUFFMkFlcm9TMytpZkNMSnpxZHNJeTdLL2lkM09HVTZPekZHNGNzZHlURnJHa2JJNnY2K09tRklpdmw5dlU0NHJIeWxOUzBhb3VKYnJaSHVxMVdxdXE2MnB1cTFSTGVTVmViMXg1RmtwMDFyUFpRaCt2elpSdjNvcGR6WnB2SzZPdnJqRjZQYVJXaWRpT1VodXRkU3RaaStMclNvejJkWDJza2ptdVpNMXJPYytyOFloZUgxS2p4elZjcTZKMEQrcytCZkwySjNyc0pYZnJZcy9IbEo0bE04SzAzeDE4ODdWTHA1KzgzcTNiRGp0aDJVZG5WWGFqVXlRVGQ4Zlh4KzN0WHFtN2lqK3BYbnFibTRnb2o2N29acXZodFp6cXE2dXQ2SituWkhsbTQ3NjZ0eVZSMkczeWZMYnJSOG1MMTc0U1hXb1UrMmRiRFYzaE1mYTZZVWV0ckROMmpyeGE2YVBZMGFWMDl0N1Z2ZEpudmIyZWV4VzI0OUt6b09DTjFHdXpuUSt0VjJQdkxDdlhxdno1VzZKVnJlZUlrazFsSmZTdWxzcDh0KzhxejUxYUswYXFyMzQ5amtWL0VubXJ3dnRFMXUyay9MSHo1WTAwaEhEanhoMEFBQUFBQURhU2VmSzNQY0d0emNmaHJmNko4SDUvNHZEdjF1ekpCLzB2SDM0WWZoTE9IdjV3M2FKRWZOZy8yajhjTG9jWCszdFhOT0s5M1YxYjU5WWQ5b2o3dW9kbWkrU0xDam9udStlN3A4TEo4TnpXVStzT0NRQUFZS3AwQjArKzl2S1gzMW0zRzgzNDMzQzJmeWQ4MkQ5NitMRFUva2Y5aWNNWHdpSnJvL2FqL283REY0NzhEak9aL3IzRHQ1Y25NdjhRdGRlL3ZieTlnWFlBbThSMjk5QnNjWk0ySjdvejNZWHVGN3ZMVzM5d2s1WS9GNTdhZWpDYzdKN3JucjVKeTN1NnUyYm53cytFUjhLenlUWjNkbTlzL1NEOGJIaXFlM0RkTWdFQXdLMU1kL0NOMTU3NTh0bmsvUS82K3c4L0NvdndZbjlQc28zKy8yNkhyZTJWL3MzK2lWU1RmdGcwRHkxdEx2Yi9zM3dzWEEzN041eXhDZ0N3Q2N6RHFYQTYzTlBkUFR0L3pOMlQzWFBkVTkyZDRZMnRIeHk1Zmx2M1NQZHMrSFQzZnpmODhXUDRnOEZkM1kzdFA5Vzl1M1ZudUQyYzZTNnNPMkFBQUdoTHQvalhWMzcvMTArdDJ3MEFBS2pLOE5yVkxHd2ZmYzJwdS83NjA0Mi84dU8rclY4Nzl1ODB0cnVIWnBlUFhCbisvbUg0dXdnQUFCaTQyRjlhUGg0K0RtK0dvLzk3ZXE5L2UzbmltUGJ2SGY3N0RXOU1MTU5lZUxWL0wzcVRZbmliNDBKLzZmRHhidkg5Vno3L3hmOVlkNndBQURCeGJndVBkTStHZTZNTi9XM2hOOE96M2FlN3k3T2pmNGR3ZTNjbVhBaWZDdS9PN2p4eS9jUnd2WHQzNjg3a1dDZkRjMXRQWDN0SkNRQSttYnpmMzdGOElWeE92Qld5NkY4TTk0Yi83dTgvL05Dd2NHTDVRcmdTM2dySEhOUFNYK2d2TFI4NzVqWG1DLzJsNWVQaFNqRGVIMmxIdC9qZUs3L3d4YjlZL2NBQUFBQU5HVjVET3RrOTE2VS9pUjcrZUhBaW5Pa3VwcHAwdzk4dHpNTHhSN3dOZkdicjY3TXZPWHdiUHZpK3Q3dDc2N3lqRjBBSnd3WjAySXpxL0xqL1JuL1c4YTNnd1B2OUhZY3Y5RmZDbTMzNjNNSmhTNTE2R1hzNEZ1Sjk0Y1hwVHhqZFl2ZmwvM3o0bytUOWVkanVkc0pWODROTHBjMTZLZmN3dGpDK2tybzdFSTliUzdHNnlxOHlqOVAxZkpQOTBjY3RhWm5xbTVvUlN2c1NQMU56YmRPcVFrZlJ2RVd1OC9ybTJZK3pwdFJNaVo1aldveFNTeE5kN2M5c2ZYMytXNWtlSmw2amtwaUZVMkVuTE1OKzZibnZscDN1dnVnRkxZVVArdnNQUCtvdm0xL2x0V0NJWlNDbHpFLzZzNGZ2aEEvRG8vMXgyOTk1MkE2bnc5V3c1L3BtNzJKL2FmbFkrTGgvczM5aVJmV3N6OU5hczZEZGJObzBaSis3eGIrOC9MMkh2N051ZndFQUFBQUF3SUp6M0FFQUFBQUFKZ0FiZHdBQUFBQ0FDVEFQeTdBL29YZUFBQUFBQUFBK2tmQi8zQUVBQUFBQUpzQThmQnplTWc3ckdaaUZVOTNwc0F6Ny9hdEhyZ3dNMStNMmloMkZlQ3k5bDNjc3J3SXArK083ZFQwcGlWMlB3aHR2TytYelJpbnh2MXlyK081QWlUK3R0VzFSejdXcWEvVXpLQjU5b05hTXJycys1SzJRN2NheW85TzkzYlExSi9aL0hFV3RMTlNLcGJVbWlnNWVOZXJPck5SMVpVYVhaTE44TmJOSDk2NGV5bnhzdDFjcGVmTFdmZTZzMHZNV3VvMnVkSXUvK2VlTFgzaW13akFBQUFBQUFOQU1YcFVCQUFBQUFKZ0E4N0NjMUFIMUFBQUFBQUNmU09ZVmZ2OFpBQUFBQUFBMFpoNnU4cW9NQUFBQUFNQ21NdzlYaEZObEFBQUFBQUJncmZCeEtnQUFBQURBQkppSFpjL0dIUUFBQUFCZ3c1bUhaZGpuVkJrQUFBQUFnTTJHajFNQkFBQUFBQ1pBK2gzM1pkZ1BvMSsxR2s0bjI2VHVLbmd0akwyeWZkUHQyQlpTSGlxZWwrdFRpN3FlMkpvTTFLMlpjYStTakxSV1VxOHI3NGhlVlJYRlNpS3RaYUYxMWtwbWVvdHNlbjJPUjlmWHdMcjZsOC91RmpNMzVaVmUvK1ZlbGN3MVc5VnlaV3liM3RHVmxYOU1pWHA2OWRvamVwOGRTa1Y1OCtqMXB4M2U2UEpXeFR5dDJxbmhYUUZhUEUrcit0d3R2dlZQanozMFdzUGhBUUFBQUFDZ0dFNlZBUUFBQUFDWUFMempEZ0FBQUFBd0FlWmgyWE9xREFBQUFBREFoc09yTWdBQUFBQUFFMkFlcm9TMytpZXYvZGNzbk9wMjNEYUdrK0R6K25xdEtXUHAvdFQxdkM2Ykg4VjQzTlRQNjlVcXZyNDV2cTNTbjFvK2pIL25nejRIODNycFYwcjBqSCtMaFZMRDYxM3hkRDAvQ1pSa3FxUXl2UjZPUjZuN0ZDdlJMWTdkdmw3dXN6Nmp2ZGR0LzJ2WlRGbjI2dENDdkVwVGJIb1ZLMUZtazNkbGVuVHQ5aDdMc04vdmRvc3pMLzNacjM1bjNSRURBQUFBQUlBRkg2Y0NBQUFBQUV5QWVWaUdmVGJ1QUFBQUFBQ2J6VHdzd3g2bnlnQUFBQUFBYkRiRHFUS3ZsaHNDQUFBQUFJQjJ6TU95NTFVWkFBQUFBSUFONS9xck1zTW5xdk93SFk0ZVZUUCtkSFc0bTJxWnd0dmU3aFYvU3B2eWFud2xkVGUyby9kTldiTlZpbHZxVVN0cUtNcm9DcVJzNW5tbDk4M1RUYytqVXBONWZXMVZsVmhzSGVwR25WY2JDaVd6UGhYUitMcDlSZkU4VmlhMnBtZmN1eDdxWSttSEI2Umk4YXBkQzF2aGNtdDU2dFY2Y3VtekthVjVpcngxU1ZjcDlrVFJKSlhObEFWOWhmZXVZM3F2VkVzOXM5Nm5RTWsrUk5mV2k3ZG1VbHJwbVZMVXpuc2l4OHA0SS9MYXpGdi9GUjMwWjBma1o3ZjRuZlAvOE9BejEvNXIrRkIxRms2Rm5TTWZyWTZ2eEQrUCs0N2JqNG5iSzNmdFhuSExHTnZ6dUpjeWxqMjZyWWtTVVltM3RnNGwydG9XZE45aWZld29GTjFzeTk1Szl1cWdxNlRuV3NIYlh1OWxxK2ZWUHcrbE5teXY5T2owR292SnkyeDVWU2hSS0xuVGxVK05PN1pmdmc3bzlaa2FKUzlxWFprNDNyeDEyTnRHbjdOZW43MDFadHYzNWt1UFJmZTJKSVBLYzAzM3dUdVh2UmxSOU5SMTBLM1Zlblo3RldoSHVROTFuOGltdFc3eHBmUGZmdkMzYitpdzErK0dXZGlleEFINDQ0OXJiWi9qejNEajl0N1k4OW9yM3Fic2V5M28zbzd2NmkyVnNYVEx0bjNsdWpLV29tR0puM29lVTM3V21vTjJ6WHYxMUVmTTYxdGlJUy9YdFNMMVhpK2ZheTBxeEs0TnhmKzhPcmRIVHgyZjRKMmI1YlZrV3g1NzVSMUxpU2psZzFMaHRuMXZOWHB6a1RlVzdYK3RkVDRQWGFVV0srRXExK1R5OWR5cm03SldwTFN0VlFrbCtjb2J4VGxpdC9pTjg2Yy85MUptR2dBQUFBQUFZQ1hNci8zNzFqNWJaaGEydytsYlBNWVdyRVkzc3JQSjNLclo4Y1lWdDUrdU10UDFmTk1ZSzFsTDFmTEtiQjNwSm85UzE4L1Z6NVNwajhqYXNoSzZ4ZWZQLy96bjdrN2VuNGRUWVNkY2pkNzBTbDMzRXR1Wmo5N3BHYTZuMnFUdUttUHBjZVhaVDkwZG8vdWZGMjlKTG5TdjRsaFMwU242bEZTYWtydllRKzhveW9nMmVpeDIrNVMydFNyV3E4UFkyOWdmVzRlOE9rbU5rcmR1ZUdzK2xSMGxkNnZNaTFmSlBNdDJMaFE5YTYxcGVtYTk5VkNTbDNaenpSNnJsc0xsSzdtU0l6MHVyMjk1YzcvdWs3ZGtKNk92OXZiYVczYytsdSsrU3A3N3l2TzNKSXJXdTF6dmlLUG9ybS9jbC8xZXZ4dG1YZlJ1ME9qNjhQUEErRXA4TjhYWXZyZDkzTXYyTmpWS2ZEZU9KVFdXM1Q1RnFwZHRYK21iR2oxbDJWWWdMKytLemluZkZHM3RqTnUxWkdkVGlWZXhvN2RYMFB2YTJkRVZzS3RPajBLWmo3YUd5cXFpcndtNnozcU85Rm1zNkdQN3FWakxxeTU5OVNqdnBkejFXaHUzOFQ2SmRGVkxackd0Z0wzQzYvSGFTcGF2cVBxNnA2K0VlcjY4dWRBcnFzUUg3K3BrcTVyeVVQRlRyNkx5SjFxNTJvb09lVS9obE9mZVdHbzlyVXIyazRwWHkzNnYzKzBXRDU3NzRhLzhhUUFBQUFBQWdBMW1uanlVeWlaMVdGSnI4c2F0NWUyNm9xNUZPLzgzVXhubGlMcDJQdXVhZU5WVGppcHJSNHRSU2lMYW5OcmJCRzgzUVkxYTlYenJzZDduMTZiRnFCeDUzRzdFVzRueXVNcm43R3FlQzZ2UFlDMGY5Q05IQlUrNnhmM24vdnFCLy9ycERmVndPdnRZS1BzSXAxU3ZNU1hIZ2VVZFZaYnlNQldSZlNDWDl4QzBQRSswWkIvZlM5ZTIvT2d4NVpBbTIzOWJONi9QZXRTS2hqRWxveXN4NmxlVTJXZDdrcmNPMk5hVVF3UGI2V3hiOXNib3JicVNRd2JqOW5uKzJDclo2NXZTTitXL3ZUSXJsS3lRdFE0VlZWVFNqMVBNbTZHcFVid3JRNjIxc1NRamVYZEwydWV0R043RHBoWE5VeHJtelpGYXM4eU9Xbi9XNkQ3a1ZiSTlscElwN3hHMGVrN3Q5dkdJZWl6THNOZnZkb3ZQbnZ2akI1NTNweE1BQUFBQUFGYkl2T2lMNlpKZUF5Mis1RzF4N2tyZHI4N3RzMDNHMTh0dDZuSFZPa1doOVRmYVN1d3RUb2xSc3ErMHpGT3Z2TmRxVHZDd2xheDFia201ZXJYT1JhbWxqOWRteWpkdnhiYVlqMTVsOU5VMXhuc2UxN2lYZnNiVTZuVXJXWXZpNjBxTTluVjlySkk1cm1UTmF6blBxL0dJSldldEtHZTgxTnJ6S0I3V2ZRcms3VTlpOGs0b1d1VUtsbmVDVGNtTU1PMTNpMTg2OS9nRFh3M0xzQmQyd3l4c3k3L2MxZGUreE9ad2ZXQjhOM1Zkc1R6dW0yY2gxVWF4NXUwMUhqMXVuNG91ZFZmeFJQRkgxeTBtNWEwK2loMVhTZ0ZieVpSbHI0WWxsYWJIYUt0VVBrUExvMjduajVKOVJlMjg3SGhuU3EzcTFWWHlSbFN1b1RkR3ZjMXFxTFdLS3ByWXF1Yk5lc1ZiYjBieVZvQmFjN05FRGNWT1NYNTEzMnBGMTI0V2x6d0hsYjd0bmdWajhwNjV0V2FOVisyUzU4VXk3SVhkYnJGOTdnc1BiR1hLQndBQUFBQUFLMkhldjN2NFIxYy91MjQzQUFBQUFBREE0djhCRExVOFljZGdZMThBQUFBbGRFVllkR1JoZEdVNlkzSmxZWFJsQURJd01UVXRNRE10TVRGVU1EZzZORGs2TXpVdE1EYzZNREE2bmd5eEFBQUFKWFJGV0hSa1lYUmxPbTF2WkdsbWVRQXlNREUxTFRBekxURXhWREE0T2pRNU9qTTFMVEEzT2pBd1M4TzBEUUFBQUFCSlJVNUVya0pnZ2c9PVwiKTtcblxuLyoqKi8gfSksXG4vKiAxNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBR1FFQUFBQUFBYW80bEVBQUFBQW1KTFIwVC8veFNyTWMwQUFBQUpjRWhaY3dBQUFFZ0FBQUJJQUViSmF6NEFBQUJJU1VSQlZEakxZL2cxbVdFVWpTS3FvMi9mR0w1TE1YelBZZmgrbk9HSEZzT1BCUXcveFJoK1RtWDRKY0x3cTR2aE53UEQ3MXlHM3hjWi9pZ3gvSWxrK0pNMGlrWVJNUWdBOHBKSDNpT2hUbEFBQUFBbGRFVllkR1JoZEdVNlkzSmxZWFJsQURJd01UVXRNRE10TVRGVU1EZzZORGs2TXpRdE1EYzZNRENjNlFjRkFBQUFKWFJGV0hSa1lYUmxPbTF2WkdsbWVRQXlNREUxTFRBekxURXhWREE0T2pRNU9qTTBMVEEzT2pBdzdiUy91UUFBQUFCSlJVNUVya0pnZ2c9PVwiKTtcblxuLyoqKi8gfSksXG4vKiAxNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBR1FFQUlBQUFDd3FrSFBBQUFBQm1KTFIwVC8vLy8vLy84SldQZmNBQUFBQ1hCSVdYTUFBQUJJQUFBQVNBQkd5V3MrQUFBQW1rbEVRVlJJeCszUFB3c0JBUmdINE4vN3MwZ21YWlN1S012TmRsL0FWMkExWDFsdHpCYWY1VWF6RXAzUnBLdWpGTVYwdVQvZHk2Y1F3enM5OHdQZFpWazhJd0FBaG1FWXhyZEJXU1pKR0ZLcTRzbUdhR0RFTmVGZ3dnZlJFcDhkNlBoMU9FWkVXeGFWT1hTVlJpZUhjR1hKQUxyTm52RVFlczZubHoyMHlPOVhsOUlVbjEyOGUwVndTNGs2QnZRSW9vYitYNlFOd3pCK3lBY2EvakpWUlZ5NGdRQUFBQ1YwUlZoMFpHRjBaVHBqY21WaGRHVUFNakF4TlMwd015MHhNVlF3T0RvME9Ub3pOUzB3Tnpvd01EcWVETEVBQUFBbGRFVllkR1JoZEdVNmJXOWthV1o1QURJd01UVXRNRE10TVRGVU1EZzZORGs2TXpVdE1EYzZNREJMdzdRTkFBQUFBRWxGVGtTdVFtQ0NcIik7XG5cbi8qKiovIH0pLFxuLyogMTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUdRQVFBQUFBQkhJemQyQUFBQUFtSkxSMFFBQWQyS0U2UUFBQUFKY0VoWmN3QUFBRWdBQUFCSUFFYkphejRBQUFBUlNVUkJWQ2pQWTJoZ0dJV2pjQlRpZ0FDVmFNZ0IwelN4YVFBQUFDVjBSVmgwWkdGMFpUcGpjbVZoZEdVQU1qQXhOUzB3TXkweE1WUXdPRG8wT1Rvek5DMHdOem93TUp6cEJ3VUFBQUFsZEVWWWRHUmhkR1U2Ylc5a2FXWjVBREl3TVRVdE1ETXRNVEZVTURnNk5EazZNelF0TURjNk1ERHR0TCs1QUFBQUFFbEZUa1N1UW1DQ1wiKTtcblxuLyoqKi8gfSksXG4vKiAxOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQmtFQUlBQUFDWTNoRjBBQUFBQm1KTFIwVC8vLy8vLy84SldQZmNBQUFBQ1hCSVdYTUFBQUJJQUFBQVNBQkd5V3MrQUFBQWhrbEVRVlFveitXUU1RckNVQkJFSDFOYUN6YXhUYzdpSGN3aGNvaWt0UDZrUzhCSzhCSVdIa1lRck0xbUxENUJiNkJnOVhnN3N5d3M5bU56dEFEZ2ozQ2pGYmlmazRBKzBvZDFVV0RmcjJrbG9Ka0dnWnNZQmRSVEtmQitxZ1RPdGd6cnFISldDdGc5VCsrOXBkbkVJSEFiMjJ5andQazZYUlFDenZOYTRJc1AzLy9TVCtNRjV1VS9pWEd5ZkJvQUFBQWxkRVZZZEdSaGRHVTZZM0psWVhSbEFESXdNVFV0TURNdE1URlVNRGc2TkRrNk16VXRNRGM2TURBNm5neXhBQUFBSlhSRldIUmtZWFJsT20xdlpHbG1lUUF5TURFMUxUQXpMVEV4VkRBNE9qUTVPak0xTFRBM09qQXdTOE8wRFFBQUFBQkpSVTVFcmtKZ2dnPT1cIik7XG5cbi8qKiovIH0pLFxuLyogMjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDZ0FBQUFvRUFJQUFBQlREUE41QUFBQUJtSkxSMFQvLy8vLy8vOEpXUGZjQUFBQUNYQklXWE1BQUFCSUFBQUFTQUJHeVdzK0FBQUE0RWxFUVZSbzN1M1lNUW9DTVJCRzRjMDJYa0NRTGNYS3dzTjVFcSt6blNjUmE4RmFzTFA0cTBER1pBU0xlY21yMG1TSHI5dE11aDVQcjkxK01ucGZub2ZIZlhLMk9XOXY5amRiK3QvY3VSK3FDYVpTQzJBMk5RUDNRRlZwWFpmRmZ5MGlWYzNlQzNHcG11c0FSNmZxM0FSbVVKdkFKR29GektPYVlDcTFBR1pUTTNBUFZKVyt2NVpJVk9YKzhZaEwxZHdmd1JHcE9ydkJjYWx1Y0hTcUE4eWdOb0ZKMUFxWVJ6WEJWR29CektabTRCNm9hdXkwdU5TeDA2SlRtOEFrYWdYTW81cGdLclVBWmxNemNBOVVOWFphWE9yWWFkR3BibkIwcWdQTW9Lb1Bzbi9lYUxSd2o1NEFBQUFsZEVWWWRHUmhkR1U2WTNKbFlYUmxBREl3TVRVdE1ETXRNVEZVTURnNk5EazZNelV0TURjNk1EQTZuZ3l4QUFBQUpYUkZXSFJrWVhSbE9tMXZaR2xtZVFBeU1ERTFMVEF6TFRFeFZEQTRPalE1T2pNMUxUQTNPakF3UzhPMERRQUFBQUJKUlU1RXJrSmdnZz09XCIpO1xuXG4vKioqLyB9KSxcbi8qIDIxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBUUFBQUFEd0NBUUFBQUJGbm5KQUFBQUFBbUpMUjBRQUluL3RZdFlBQUFBSmNFaFpjd0FBQUVnQUFBQklBRWJKYXo0QUFCb25TVVJCVkhqYTdaMTdhR1hIZmNjL1o3MGJyN3kyZTVXME1SSXAzZ2VwKzZEc1hVc21jWEh4VmRzMGF3ZGlhVXVhVWloSXRwRWFRdTNFVUNoSndYWks2Rit4M1FUVHJrbFcyMEFDYmtLa05XbXlUaCtTc1drVFIvSnFjZXNtRFg1QkkxR2E5cXJ1SDNKWUo2ZC9uTmZNT2ZNNjU5eXJlNlV6MzBWNzd6Mi9lYzl2ZmpObmZyLzVUWEFjanliandLQUw0REZZZUFab09Ed0R5QmdqWkd6UWhkaE5lQVlRTWNZbXNOa2tGdWcxQXd4Ky9Jd1JWbzY1Q1l5alk0RWs1Y0hYc1llUUdjQXNBTVAwbndtMjhhT1BIOGE1ajJuRDJQSk9PckZhRGFMdTM0cFp3SlR5UHBJUklnUDBRZ0NPMTBnaGladU13L0tvRXhjQ0FyYUFMUUlDUThwMTZqaDBDTko5Z0tTS3lUalFJWVJDODRpSTBna3F4VTlHbVM1L1c5NWh6Yks3cG15cjR4NUNKZ0hNQXRBVnBqRm9uejZpM0UxZGFFNmwzdGcwVFVGaXl2WGt6SkFoS0wwVGFCNUZwakdZTldyVnNXTlB3VHcyeldVM3k4QXNaWnVjMlZNb3p3Qm1oQU52bWpFMkt6T1llUXBLVWg1OEhYdUlYalBBWHNjWW0vdXBlKzA0T09nQ0RCbTI5c2ZTemgxK0o3RGg4QXpRY0hnR2FEZzhBelFjbmdFYURzOEFEWWRuZ0liRDJ3UGs0dzY2L0x1TU12WUFiaFlCTm1YTW1ORWV3SnlEdlh2cTJBUFkxZUZSMmZjVms1U3pCM0RUZ0ptYlVOOUI0NXJ2cm1uYnV0K1crbWJ1VTUvNnZyRUdLTm9EUk5EdmhpZWhUUG8yUGQwVzI4VWV3RlE2Yys3MitHYUVjZHJKNTc2QWJBK2craTVqeTBrS3FNUFl4NmVMUFlCcC9MbVZUYzgrb2RYYW9FeE9ld0pWdElFbWhldXcyd09ZbU1zbWY1S2FlM1d3QVlOdm5McjJBSU11L3k3RDJ3TTBISDRqcU9Id0ROQndlQVpvT0R3RE5CeWVBUm9PendBTmgyZUFoc09iaGVjUkRuQ1h2LzVlYWVueUg2d1h2UytOTU1nU2hOWVNWRmNGMldNT29PYnlGQkNDVWRmdjRoOGdyRUFwaTZwNTJNb2ZkWDFnVE1YT0hGVmp1OVhBSlZTSnVBZWtBTGJxQnc0VjBNY1BIQnJJcFFxaFFkbmpVcjdBUUpNL3krV1JVT3d0WUs2aG1ZRkNTMnl3RFdLcC9PSVU0RnA5bmJXT3ZaR0NIZ2o0MEtpSnRNMmlkVW9RcHJFREpWWE1YWlZMTXJ6MFpRZ05kSFBhV2UzTXcwQXNaUUJsRjRHaHcraXhoWExoem1wajNLMXpBNGZVVFIza2ttN1ZGakFOUVplMDdXMVFvSmQ1RGN4RW5Fc29OYzBzQXUwY2JFN0RKbUxkUkxSdEJObHlkMWxFVm9XZHhlMTBxUVJsSklDYjZLeTN5ZzBjcFV5L3loZ1lCYXhidW9GRG1Lb3dUOVBtQ1ZBWjk2QW0wT0F3NkJMczVmd3J4UFU3Z1EySFo0Q0d3ek5BdytFWm9PSHdETkJ3ZUFab09Ed0ROQnp5NGRERVdlcmdZUGNIM2srNHRJQ0xSclJhUE52WmFOZGNTaUZqZ09SZ2xJdTc5Mm9OMER0VVM4dFdjcmNXTUxtYXpiUnhZNlZqUjNySzVKKytEbU9WV3lETWxSSlFIdzQxSCtGMDBXaVBLWjcxamdWMGFibTVodENYMzYwRmRIbU01WTdYanBXS25kWEFKb0hxSFUwdkhOQ1ZqNGE1dUZPM0hjSFdIUkIxczZTeGwwQ1hqdDJGdTcza2JnN3AxUnFEWXRjR09icnRZSG5XT2FyemlhR1VzbGxockZOWUI4VXdaUm5BdlFHQ0VuSGRTbUJ1UXBmODdXZjc5Zm5iWXRzWXdONEc1ZzYwTTRDWmdUUU1VTzR0SUd1QUtpcUxRRWhEblhvb2ZacnlyNEtzM0ZYWEVLYmN4Mk5xTW9PclBRaVk4azlpcXRjQXRwUXozdzJtODgzNVVwYTBCekExZ0x5QU1WWGZYRGhURlUxcGlGV3ptMzJwdXNET2dLWWFiT1VjU0d5VlRzRU5wdTdkU3ErOWNTc2xaYWNBTjNPcTBPb2l3andMMW9udDFyenFlcmpOd2ZWTjJrenBWTC9VeHI0R1VNTDdCeEF4WnIweGFkL0JId3dSMGJqYkF2eFdjT1BoR2FEaDhBelFjSGdHYURnOEF6UWNuZ0Y2alVHcXN5c2didzlnZzBsZjVWTDFzWnI2N242amZ1a0N5MmIza05XOWFBOWdna2xqN3JKTG1HanN4aDBPbU9wUjkzQ1YrWGg0WUQzK2F1OWdYWHhUNmdOQ3RoTW9Gc3Z1N2JlNDJTZ2VqYXgyKzdmclJqT1lOSGEyMklFMm5QaFVwKzAwSFI0Tm5hanVOZDBWcU5jQU9xTURzNzRxbXhxcUdDMUVJOGR1TnFYM1lSRGlxdXNMU2p4VjVhdkszMzZ5ZVNpUk1ZQ3NLQ3gvZ1h4MHdYclNmZVhqQjJTNnZHb0hxTE13ZFYxUVZNdlhMVVFkSHg5OVFNWUFvcUt3Q2cvYmJoS3dLMXZyem82QklFSFVFa0wrVklYb3pTaFc1U0JMajZHUkUrSVVrS2xDVkFJOEV2Q1J1WmNhVzBaN0FCZHR2OTA5aEJtWkxZRGFwTUxjOU5ra3BQY3Vrb1FNU2xMRkVGVU5hdm9DdFRwWXQ0d0JGMldwYmhIWUMyV3JtOVZpMVlXbXl5SVNRd24yNEdVeTNoNUF4dENJNXQyQzN3bVUwYkR1OXd6UWVIZ0dhRGc4QXpRY25nRWFEczhBRGNmd01VQnJXRFpKbTRFOEE3anBzazBxbTlDSnFndlJvcnNycjJLRDlvTXdOQ2puTHQ1TkZUTmFvenhkRWlacEdjTlZkVm1mWVIvZEFGNEhNZ09ZZDZuTnU5M0pxRzdSVmJKQW1HNlVxcy91UmFKL05BM1IxY1JQdmxWenFpNUtuL0lheTMySWpBRmtkKzlGWlBwd25jdjBnQ0R1L20xbFhtYlJIb24rYlVZTloyZVQzTlg1eXhZRitWVGMzRWMwRHNuUnNLekp6QjZ2Ylpxc3BQdXJ6K1BiVHE2YzFhZi85VTdWRTJPMmpMNlByb0N2ZzRRQmtxWTFtVXlCZUdtQ0d2V3ZSTkhKRHpuM2ZCbmtpeENLSmR5VThnNW8yQkZRUGJMRG9XS1Q2UjJNMkcrOWNMMVdRa2VQV0NBc3JDTVNSYkRhSzc5Y25sNjVsVzhBeXJ3RlpFMnNzOG16WGNsa29vK20xQzRRRk9SQUlPU3Vtb2pNOWtTeSt3aVBGR1hlQXN4R1ZUWW5aemJmSGRzcDFlVTFNbkI4bHNCbXNOWll1RjhZWVpzaWVnUHpHcUFPR25qMjN3WEQ1aURDZDlJdVkvaDBBUjY3Q3M4QURZZG5nSWJETTBERHNaOFlZQ0xkYVpqb1Mvb0hPUnovRzdhbGN3MUVEREFkTjl3SzA1VlQrcFJGMDI5RHlGbkpXcUJzSjA2d2xuNWZVOGFlcU1VZUIzbUxtOWhoaDV0NFM4a0NFOWJTSDQrcHVzTVllcm90Sm53bzk4K2NROXBMMGNHUWtBZTRCTFJZRWdKbnIyVFQ2Zk1abGpWSlorZnFGamhyT0ZsVVREM0NMQzhLWFFoem5KY2FkeTBYZnBMMUVuUzVoS3JTSGVkbDZmY0pYcEYrSCtZbU5oZ0JkbWp6ZmQ3VXRvQTZEeGRuMHZxYlAyMlhZa2Noc3BhMzFUSGRPazg0K1JJQXE1cGR1Q1VGZzZ3eWhRNExtZ0tNcE45MkNyUkZua0NQTlNMSEVoRTJDVm1UY2xoalVtS0J5UnpkanBlRjBrVWx6TWZmWUlRandFVE1DTHB5d3FTQzRscWFPcGZQbXlHeWVKcFN3Z0FiOGFkb2hpRVcrUkx3ZlhhTTI3U0g0OCt6MmhDSERMSG5lSkY1QTMxR2NrRXhJOGtxZ0hXQkJWU2pQMzgrdDlnaGgzZ2ovWDY5c2d4SHVKNkFhd3lsdk5OQU0wdEFzem8rVUtSU2pzR1Q3djlOL2tGOG5NMWxYVXNDMzJlbkVFWXVRc1FBbzRiVWRPTUdiQklBbms5WklHU0c1eFVoRWhZb2RuK0VWdTZ6V0xvYmpDVnQ4eVB1QUw1Sld4bC9IVklXVXBkZ01wWlVrNFVKcTk5SXV2OTNHWkZad0hVOXErcitZZ09DV1ZCRlkrZFZKYzBtQVJJV1FOUDl4TG1qWGVTZHlIM21jWmpYNDI4M0txaEh1RXliRGFETlpkNVJXQVBrTmFsVmo1bmFCYjB0eE8vejVjS3pxUHNYT0FKOEhTQ1p3TjFmQTR2ZG42L2dOVnpETll4d2pWWklYczNWWEEyb1J0aWlwZnRoak9lWllZYm5OZWFjRTJ3eHpUUmJGZGY1SS94aS9HK2tVTDR4M2tYSUc3UnBjNENRZHhsTlNpYzFuWDlVK05QaE1EYllRbnhKOFN4aStyTzhqYjhCWUlyVmlGRDlqYlpZeFJGcm5POFpRdG9rd0JoYkVJLzlMVVh6VDBoMEZRdjhmTzR6MzBUUktHa1RyWWhrT2ZGT05rQjRMOWlnYmJBb3FpUGdkMnFHVU50MHZCTFhMMXFmcGQxdllnQnhKVnNVT3NYdS96TmVsSDRWWVJhSjVqWEFwT0kxcnd3ZDRKMjV6M3dUUmV1TGc2d1ZYZ0d6UmJMNEpMOU1zeTN5NEt2Q1h4RnpMQXJmcTRYUTQ1V1V4WVh1SHlZSEVSUEFyd3EvWDlRc3BQcUxFQlRkMzh2VUl3eEc3WDJjbCtYdUh5WUc4QmdJOXBNdXdLTUNQQU0wSEo0QkdnN1BBQTJIWjREOWhVL3o2WElSWkFab09Sek0xc1BsNWswM1RDZzE2cE9DTHJ2NGxqOU5LUDJienRIbmMzVFZwcE9vTFQvZUJ6ckFuMXZhcDBPbmNydGR4eWY0Qk5kWlFzMHl5Mnp5UTN3TmJORmxFbGhUMk9hdmNFZThBL1V3U3h4alNhR3hmb0oxemdJTFREQXYwY3Q1MEV4MCszTDRTYjRiUDQxU3V5VzM5UlBwd3hPY0xjUjMxY2UzZ1dqanAvZjBKRXdBekVyMkRnQWRWaGlsQzR6U3piK3YwNklMTFBBRTg1d0Y1Zm1KWjdrTmVJNWZON1R1Ykx5Wk5NY3FyNGtNRUhWL3BFMHJza0RJZU80OGZkbmJ3NlB6aEIvbGNUN0s0enpBSTVvR21tQ2RhWllLT2ozeDZLY3FCNWZyMjcvTmU3bkVLZjZKWDlQNE9HaHptWkNBazRXZHZvd09HT2l2Y0lWREhGZlNrK2FmQXhaTHRtQkNYVWpWN1NKOXZxQ0VYMUR1ckU2enhCekxkQk9ERzFFZG5HeW5yakZaeVZHTGFDdWcxaHpleWlZLzROOTRuUmMxT3NFSjFwaGhXYXZTcllPLzV6MWNwTTFGYnVVZnRhR2l2ZlMya1M3dldjcTRvckFWU3BDTXZrVWxkVlJxTlozbGhkcmE0a2FISndEM0E2UHg5TmhpTzFzRG5KVjIwOWVZTkpoMTZMRE5ObDI2YkdzUGQvMHp2OE8zbU9YckxCUU1PaURwL2lVbStySU4vRnQ4bGROOGc5TjhXV200Y1JOZ09oK1owQU1DcnRMU0QzRllZL2d5SzNWOGZpKy9FM2QvY25xeVcyb3Q4RWsrSS8zK0RKOHNoRG5LVVRyQUl5d3l4L21vbDhRMVFBanhHa0Fsd08xVFFFQTJ3NFZLK252WjVEYSt3M3Y0RHU4cGFLMlQ3bGVQZm5FZlhiV21pQnpNZEFXRGxEejlLM3lJSi9rd1QvSmh2c1laalF1Sk5xQ2F3elA2VmZ6RVNGZkh6K2JlQ00vbWJCQTdyS1MxaXVvbnJ3SmFPYWxhWEFPWWJ3L1AyRStpNWJXQitwSFhaWVpsanNhaVcyOFBxTU5rWVk2VEdjRGMvWEpGYlNZUjI4cW5mOHdSN3VNRzd1TWEvcFF6RW0yY0g4YmZOdUxQRXoybFo5MS9YbFBtMVhnS1NHcVc3K0J0YVlvb2RuOExnT2VBMjRqRmV5Ny9hTzVmbGFQbEpZQTRpdk9OYmtZVW9oVTNmM2w3bUtqaSt1NVAzZ0lTcU40Q1JsTVhOY1U2bUJlSnljeitMOGJTMWFFSGhJYnVWNVZRNVVncllnSFZHOEQ3dU1oSGVBS1k1eTg1emQ5SjFGa1dlWUF1aS9tNG1RUVFUUktyZE9DQ1ZJRUZaUmpibFN5bTBiL0dMUUlMM0ZMUS81L2daYnBreTg4VENycjhPdytiMDVnNjlEbHI5OE5VN2pXd2lHMkJ4Zk80d3UveEZRQ2VvTXNWUlloSGdMbDhYRmQxOE1uNDljZWozK2hBWGt6M0JMTUFSUmIwOWdBTmg5Y0ZOQnllQVJvT3p3QU5oMmVBaHFONURCQ3BqVHNLU2lkVjVkN2trSTVPMTdmSFBCS0xESEF5YllDVGxkT3I3aCtnTGxxRW5JdS9uOU5hTlR3VTZ5QldDaXp3RzZ4d2hqTzhtM2Z6UFg2cEVETnFuWS9IdjhTYmppT2M0Z09FM01xdGhIeUFVNFg0WnZjVmVXdUd2RDFEa1c0TE1WM0lRNlluRlVsZkEwK3l3U3AvQVN6U1N0V2V4VVJjWEVuMngrcDlsa1hhWE9Za0c0cE5sU2puUmU3bVhMemZydDhQUDhhckZIY0tqNlRmMytMSGlyM1FSWjVpaVRhWDQzVGt2WHE3T2p6UjczV1ZpbVR6M211bzBBNTJjeUdDMUZCbVRlSEtOMlJVaUpHcXN6TUpzTUVxVXl6elFWcHNLMDdDREI2THdBYXpiS0JTcUNaNzdVbjNxMVN1UitOUHRTcjZUWDdNRGp2OG1MZVU5S2RZQmtaVG5mNXE2UnFjb0p0ZWlWR1VBNGtkbEU2R2JqTVg2MXJWK3RZd1RtVUN0Rkw0WFl3enpqai9sVHpJSkVESURNdWNZeTdtZExNOWl5NTdFV1hrZ082R0FoRW5CYlpVU2FoemdvcDFrYnNMOUx3K0xUOUNzc0Z3akpjTHVUL0t4d0JZcFFOS0NTU2VlTnhSU2dCOS9pRWpzY1hWaURLRlNBSjBJVmJKdlZhNFhDZVJBQlBBV2FVejc1QTJCNENmQXVuUk5sa2JHSFgvM1VwUFFXSHVXelZsajY3NVhYQTVQUnMzcDV5ZzdvWjA5S3U3WDdSNXlPKzFQOGxQVS8zQXl6eFdpUDl4THBDc0hkUzcrb2VVTy9DdU9KSisvZ2o0V1VXSWp3R3d4QXhMSEZQSWdKRHNXR3B4UUUwQS93MzhsQVA4SEMvd2NQUllsQURidE9LbVc2RlR3ZVFMWXdnM2d5ZFREallKOEVYK0lQMmV0NHVUdTEvVmdTZTVYL2oxS1Y0ejVLNWlzR2lNL2dTQUsxb0pvUE1pRkhKTWVoN3lXa0VDaVBJajB1MlZXd1BjRFB3bkFEL01XamNUZTIxYWJQTVUwNnpRVVpoRVpTdGV0Yzl2OGFrcVJKRDdaNmFxY3RpSU95LzdMaUxwL2toRzNNYXpFalhwL2lsR0NaVGo5ektmWXk3K1YreCsyR0NSQjRDSGlWWWFSV3l6emYveE5xNVNudUNmdERqWXVKWnJlWlZydVM3KzN3elYyV0RiR3VCR0RuQUROM0FEY0hNU0lwc0NJdjhYMFV0U2V5aDFmM1B4VzhBbE5oUU5FSFgvYzl6TnU3bU55Q3hDUk5UOXE0YjBMN0hJdDRGZlVIUS93QmRaNVJGV2VZd3VjNkNRQWhDSldSWFdCVE9XNDRYenh6UHg0ZnJzLzVsY2lGWXFJNUxmZVlobU1tcVRHWVZuaExMYXdFRytCcHJSb3BzSy9tZTVMYWMxajh6ZDdMWkdhTXNmTFRHM09jWjJ2Snc4a0hNSkEvZndFcSt6cFcybGtDQTlMNUJmWmg3bVYxaUxUZkltK2RlY2FlbTB3b1pTZHRtWEQxRjA2S2YwWCtEVndTTGV3Y1BBZzVwUlBNc29pekZidGZoZmZxYkFZaUpVRENCNk0reUgzWE1GZUFab09KcW5DL0NRNEJtZzRmQU0wSERrR1dCYTZ5LzhUczZubXFUelJwZW9IbnNJOGlKd2lXbGd1ZkFPQ24vRVozTlA3dU56Z3k2OFIzMklFdUIwUFBxbk9aMExkV2ZhL2RrTzNXZVZVbUNOME9BbThkVllnblNzNWJLSDJIMnNDZHIwM2ZiMTJ6ZUlETEFBakRKSzhWakhHV1ZjMWRNSk1EaHFQUnAvcmxoSzFWRVliTUJzM1BpejJuaTJFRFo2S0Z3MVVlemlTYzMzUFkxc0Nqak5OOG1PaHQzQlJhbGhOTEVMVCt3N2dTM0Z3VTBaeVRGSmVlTjJWdktTZVY0Unp4Wmlsa1ZPOHd5M2MxR1RncHREZDFzTjl4UXlDUkNOK2xhOHg3eWdDVys3ZVhmQkVEZEt2NHY2NUVzbi9WUjF2Mnpnb1Q1Zkg1bHBqTWJ1RjFUMDB6ek5tenpOYVUwS3dIRHN6KzBlRWdib3hQTi9OOVpaVFZlY2hmODkvdE9oQzJ3b0ZwbUowTmQxdnl1VzJkWmVhZ1BQNUQ0enVOZ3lUZ0RyckxNT2ZicVdhZ0JJcGdCUkRWSlVpY2lpcjQ0Z2pNN3didWVlWnQydTczNjdLK1lRbUdPWmFSWlJDL0RUUEEzQSs3bW9UV0U5N2R4OENQRXFxdlg5c2dxSUpFQW4vZDBTMUl6WjA4ZVZjVlZQTzVZMWZrQ2dzR1ZKN2g4eWpmNDV6WGY1NlNMZDFBdFBrWDZSOTNPWTkzUFI0R3Q3d29teXp5U0FiWkgzUHI2bG9QNTI3Z3g2bHBKZU11alZ5WGJoYjNleVlBdGhvNGVzc3hDdkF0WTBZN3pxVFNCRGlvZ0IxUGZzaVdMdUhqNmZvOTdMRnhSeE9xd1k1MitUUFlFdDduQmdYektBQzI1bk9qWkxoTWRZVml5a21vSEdNb0RIdm9UWEJqWWNuZ0VhRHM4QURZZG5nSWJETTBERDRSa2dqNDdGbS84ZWN3QmhnOGdBb1ZJTGp4U2lWMWRDREFwbkxVNndPMFpiaFk3VmttSFBRWllBSFZhc1RLQkd4and0YlFvZFZtSk5RNGVWQWd2SjdEZXZvTTlMS2FsWXNPRC9vbENDZWVZTjlYUHZmaGVycGoyQnZLL2dDS3M4ck55UzFYc1REcVY0SWZrOS9hanhBcUREZzNIam1WS1k1MnlCSGwyQm9Jc3YxOERzd3lBdzBHd3BKOVI5c2lPb1hnTjBXTEhlNWEyTGwzUzBPRVpENGFsWndpUXA2RkJWUWtXbEtINnJtOUtlaDVvQlZwa3lYdVdzd3lwVFRKRklnR3lFQk1KVHM3b25TVUVIVy96ZHdiNFkreEdLRExCYXNaR1RlQzFXbUNMSXBiQkt3QlFydEF6cHUrVmN0WHl5RHdJMWRjb1lWNlNHRlc1TUdFcklhd0RkM0orRjBOOG9NUHd3ei9JUnNyVktlZXFlaE5jRzV0Rmh4ZERGWnVvZWhHZUFoc1B2QkRZY25nRWFEczhBRFlkbmdJYkRNMEREa1djQTA5bGJqMzJJakFGYXNhdlVHN2xSNDJzLzByTTlwS0Y2N0Vra0ROQ2ltenFIT1VaWDJjbHRwbmlNQitrNlhDaVJWNWZNNTY0cm1OOWx1b2NHeVViUU9lYjRMUGNUOGhBUEV5cmRJVWRvc1VUSDZreTI2S280LzF0MmxOaHZ1b2NHRVFPMDZMTEJLZUJCbm1HVlM3UTF0MU12OGlsZVk0V081Z0xUS0p6S1YvVkk3RTc5RUZjNFZQQ25IWEk5YjNDOTRIQmRUWDlENjA4L291M0VmeXFQL1I0S1JNNmlUd0FYQUdJdjhoZG9jNkl3Z3RxY1lwRTVqakZEbHprZUxaWFQyOU52NnR1L3I0My8xSmZQdzNYeDM5dFI2K092QlVaaitxanZmRmZrSlVBRXRRUklRcTR5eFRubXRPNlExUkxnbDZYZkx4VkVlSC9wSGhwRUVtQ2JWVHJNeG9lbVoybXpxcm1SSW1DR0pZN3lsT0dFdlFvTHZKVDd2YjZyZEE4TmtrVmdkQi9HQmhlNGl6YnFHd015YTRBcFVLaEZ4ZEcvVHl6bTlqL0VhK01laWw4RWwzbG9LQytNOE9nRHZEMUF3K0YxQVEySFo0Q0d3ek5BdytFWm9PSElHTUIySDBCZCt1MDhtdElmNWZaZHAvZTdmb09tVjBUeUZtQzdENkF1M2VabXJ0LzBmdGR2MFBUS2lCamdUdjVXUWZzQTM0aS8xYVhiSEUzMm05N3YrZzJhWGdQUkZKQjUvaGVQVFoxUmZCT1JwOStiWGkxN2I0NStsNUEraXFkM3FaTFgwSU1LOGM4bzQ2dnFaNnUvV1A3eThkZWxnMm02K0NhNldBcDFyNVJFM2xXczJobTB6WlZzNWlEMkh1QUwwcFBlcGU4UzM1Nit5aDIyYS93QTlRR3pzTVR2VUVpbFNQOURBUDVLMjM3SjAxTzhRRThPcVlrTUlPdlhpd1d3MFpONU41dVAxUTJzYXlCNytvRXlOZGNPc0tkdlpvRDY3Uk9rejZ2UmIrWUZvZnQ3d2dBSDZ5Y2g0Q2ZDLytVUldpV0NHZUp4OUNvcEJNSm5sZmloUTF5Ym11d2pCdHJOWEpLNnZ5Zm85UlF3QzV5bitoUlFYOFRyeTFkTW9ab0lONlh2SmtGc0VrcVgvODFja3JxL0J4SWdXZ1RhN2dOd285OERMTElZZnhQcDRndFpxSGo2QllGcW8yT2tvNlRMNVE4TFR4K1hLRFo2MWZaSjZoZFdwcjhnZGI4NjE1S0lHT0NDVklBRUZ4VGZST1RwbjA4YjhQTTUrdGVFOUZFOC9ab3FlUTA5ckJEL2dqSytxbjYyK292bEx4cy83N3lxTEIyUWhMKzZWMHJpcWxHQVYvZ1BQcGlqM010WDArOTE2VC9nZjdnalI3K1BMKzBhdmQvMUd6UzlCaUlHZ0V1c3NzMTc0NmVQOFNjc1NlSHEwcC9udTd4Rk8vNzExM3hTNko3ZG9QZTdmb09tVjRZM0NHazR2RGF3NGZBTTBIQjRCbWc0UEFNMEhKNEJHZzdQQUEySHFBeHl2eng5T09rZUZTQnJBMGZTYnp2SzBIWHBIa09INGhSUXIrdDJyQ25VRzdsQjdSUThKT1Fad05hQk8rd1k2WWw3Qmgxc0hhano1WjBncktqcjk5QWd6d0FqWU96QUVVYU05TWhEaHg0aFpvTUowNFV2WURlbzhDaUo0aFF3VWlFVk9iWTVoWHJqMThaQUhpVWhMd0p0ODM5ZHVzZlFRV1FBbTJnZGRycEhCZmlOb0liRE0wREQ0Um1nNGZBTTBIQjRCbWc0UEFNMEhIdVhBY2I4aGxBdklETkEvWDIya0FsQ0p2cGU3akUyR2U5N0xnMkF6QURqOGQrZ1lSdmRVZmR2RGJxWSt3RXlBMnpHZjRPRmJYVDc3dThoWENWQXlGamhyeHpDd2o4MW91N1ZzMkhTL1g0TjBCUEl5cUJOQWpZMWQyc1gvOHBoMGlsVTB2M2pSdnFXWHdQMENqSURtQ1RBZU5vMXlWODVJYnhXZUZKa29qRWhmUldMeWQzdko0RWVZSmdrZ08vK0FjQlZBdFNIL1FLSGN0MC9wZ25uVVFxdUVtQTNZSkl1cXU3M2E0QWVvTmNTb0Y5V3U0blF6Mzk2MUlUM0Q5Qnc3RjFkZ0VkUDhQK05URmhEYTZBenpnQUFBQ1YwUlZoMFpHRjBaVHBqY21WaGRHVUFNakF4TlMwd015MHhNVlF3T0RvME56b3hNUzB3Tnpvd01KSTlIMndBQUFBbGRFVllkR1JoZEdVNmJXOWthV1o1QURJd01UVXRNRE10TVRGVU1EYzZOVGs2TXpVdE1EYzZNREN0UGI3NEFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBQUJKUlU1RXJrSmdnZz09XCIpO1xuXG4vKioqLyB9KSxcbi8qIDIyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBUUFBQUFEd0NBUUFBQUJGbm5KQUFBQUFBbUpMUjBRQS80ZVB6TDhBQUFBSmNFaFpjd0FBQUVnQUFBQklBRWJKYXo0QUFCZTRTVVJCVkhqYTdWMWRpQ1hIZGY1NnZiWm1WbDZueHdLRk8yeXlxMW1NNHFBd003b0RzUjZDN2lZSUtlc0gzVjFRSGd5QnU1WVlKd0hqckI5TlFDdUJ5SXRoSGJBZ2E2VFp4ZUJnSE1KS0lTWitTREliMW9RZ1J0b1ZndGpHeUQ4UG1TR1FNSXBmSm1DTGs0ZitxNm8rZGFxNis5NjVQMVZmTTNQdjdWTjE2dWQ4VmQxZHA2bzZJVVNFakJQVHprREVkQkVKRURnaUFYVDBRT2hOT3hQSGlVZ0FGVDNzQTlnUGlRTGpKc0QwMjA4UGJlOXJNL092d2thQlF2UDB5emhHNkFTUU8wQXFEd211OW1PUFQzbnFQV3NZVjlxRkVkdVZJRFAvUVU0QlNmTUM5UkVxQWNiUkFhNTIwRkRFTGRwaGMzU0pDeVJJY0FEZ0FBa1NRWE9YTXM0Y2tySXhGRVVzMm9FTkJOU3FSMFdtSjJrVnYyaGx0dlJkYVZQSHZQdHFkcFZ4amxEMUFISUg2QXVwRGJvdkgxbnFrZ2xsTGQzYXBuUUpValYzNjJkbURFbmpPeWE1RlVsdHNFcXFiZHR4YTVEYnBweDN1UStzTkx2Nm1ibENjd0xJb0tsWFRRLzdyUWttWDRJS3pkTXY0eGd4YmdMTU8zcllYeVR6dWhFSkVEamlTR0RnaUFRSUhKRUFnU01TSUhCRUFnU09TSURBRVFrUU9PSjhBRFB1dFBOL3pHZ3lIOEJ2Um9ETEdkTVQ1d1BJS2JqTjAyVStnTnNkbnVWOW9ValNiRDZBbndkTXJrSzdnVll0MzMxMXU4enYwcjV2Zk5xMUw4eHNnUHA4Z0F6MjBmQWlsT1J2czh0ZHNYM21BMGk1azFOM3g1ZEJ1ZTdpY3lHZ3p3Zmd2dXM0OE9vRitERHU5dWt6SDBCcWYzNTVzOU9IbkxNTm1xUTBGMmpqREpJY3JyTStIMEFpbDZ2L0tVb2UzY0VDcGw4NVhlY0RURHYveDR6b0RnNGNjU0FvY0VRQ0JJNUlnTUFSQ1JBNElnRUNSeVJBNElnRUNCd25wNTJCbVFOTmNaUy8rMWhwNC95ZjdCWjlJcFV3elJ5UU13ZnRYVUh1bUZNb3VYNEpJRUQwOWZ2c0QwQXRKRTNSTmcxWC9qUFRKNklXTnpuYXh2WXJnVStvQm5GUGFBRmN4VTg4Q21DUG4zaFVrRThSU0hEMitPUXZFV1Q2WjdNMENvbTdCdVFTeWdRaVIyekExWWkxL0t1WEFOL2kyMmJydUNzcEdVTUhUNkluMG5VVjdaSURLbU1uckZSTm5VdWxhRjcyUEpBZ2wzVlhwWk9iZ1pyTEJHaDZFMGdlcmNjVnlvZWQ3ZHE0bjNFVEQrMlNnWHowdHEwQnFRbjY2SGJYUVUzZTVER3c2dUo4UXZFeXVRdDBNMWpXNGVwaS9icG9Wd3R5cGU1ekU5a1dib3E3NVZvT1RIZHc2RThCODUxK2k4ZklPQjhnY01TUndNQVJDUkE0SWdFQ1J5UkE0SWdFQ0J5UkFJRWpFaUJ3Nkl0RGk4MVNwd2YzZnVDVGhFOE4rSGhFMjhWenJZMzJUYVVSS2dJVUM2Tjh0bnR2VndIalF6dGRycHo3MVlDMDFXemxqZXMxanAzNUtZdkRYb1plNnhvZ0k1Y0ErTVdoOGhKT0g0OTJqemszUGdyWWRQbHREV0hQdjE4TjJOTG9HY3RyZTQxaVZ5Vnc5VURkbHFiWEZ1anFROEUrMjZtN2xtRGJGb2o2emFSeDU4Q214NzJGdXp2bmZodlM4ejYzdW1rVFErNWFXRjRaaDF1ZlNKcG0yV0ZzYzFnbjlUQk5DZUJmQVVtRHVINDVrS3ZRSjMzMzJuNTcrcTdZTGdLNDYwQTJvSnNBTW9Fc0JHajJGRkJWUUJ1UFZhTG80TFdUOWltbDN3WlZ2dHZlUTBpcHIrYlM0Z3JPN3lBZ3BWL0U1TzhCWEpxcnZSdWs5YzFtTGh2T0I1QXFRTCtCa1lvdlowNHFvcVJETFpwNzJoZG5BamNCcFJJY0dCdElIRFRXNEFmSnZBZmxhMi84Y29tbWx3QS9YelU1dDRpUXI0SmRZdnRWTDE4T3YydHc5eWx0a3A3Mkw3Vngzd093aVBNQlZQU2NiMHhhT0VRQ0JJNDRGQnc0SWdFQ1J5UkE0SWdFQ0J5UkFJRWpFbURjbUxQSEtuTStnQXVTdjhxbjZMMk8vdTVKbzN2dUVzZGc5NHlWdlQ0ZlFJTGtNZmNaSlN3OGRxc2VDMHp0NkxxNFNsNGVuamlYdjdvTmJJc3ZhWjhTcW9FZ05WdnUzWDdyZzQzcTBzaDJiLy8ySFdnR0pJK2RLM1ppRGFlZXRYazdwY1dqNUNYMUwrbXhnTDhIc0UwNmtQMVYxYVdoemFTRnJPVzRwMDNaOXpBZytQcjZrZ1pudVhTNTlOMHJtMmNTNXZzQ3FpcHMrZ1p1OHhLU05JaGJTUDJXUUxzWGI3ZmZRa0l5bzZ1SDhOY3M3UkZ3ektoNkFOVlIyQ1pycmpjSnVKMnRYYStPaWRLRDhEMkUvc21GR0U4cjVsTFFlNDhaTWI5K0NUZ29NOFYxNEZrSG4wMzM0bkVnemdmdzhmYTd0NGVRVWMwRjRLZFV5RlZmWFlUc3U0c1VJWk9HVWpWRTJ3azFFd0h2RFNSckIrN2pMTFhkQkk3RDJlbzNhN0h0amFiUFRTUUFCMEZueHJnK2lPNWdIVFBUTlI4WElnRUNSeHdLRGh5UkFJRWpFaUJ3UkFJRWpraUF3REY3QkVobnkxdTI2REFKNE9mTGxsdzI1Q1cxaFVoeGVDeFA0dFBlQjJGbTBHeTdlSi90cEJPc2RNalBJUXFTcEdLNHRsdldWMWlnTjRCM2dVNEFlWlJhSHUwdVduV0tRNVlDVkE2VThtdjNzcTUvcFF4eGFJbGZmR3UzcWJyYSsvaTlhbjdCVVJGQTMrNjlqc29mYnRzeVBVR1NtLzhETmkyNWE4KzYvZyt3SXF5ZExWTG4wOWRuRkpoYS9MYVBDQTdGVUxEZjZuWUp4VndibS9uTnVUaG1MK0w2TFoydFM4eHc1dllSMGx2T2c0STZKU3hCM1V3bTdGTVovQ1pFMkNlVm1RU3lUY25nYytqYVBrRW4rSUs5QXI0THFoZEdxRlZtMzJERS9kWUwzOWRLMk9RWkJhaDJIMUU0Z3ZsZCtmWDgrTHcySWdJQXR6K0EzOHIxdWwvZXZVT05KTTF1SHVVUXVyYkU2MXdCOXc1Q2djTC9oUkg2ck5qcSs3aGh2NHZvQnYvdEk0TENyTTBIbUpUNUl5eVlOUUpFSERObXp4Y1FjYXlJQkFnY2tRQ0JJeElnY0N3U0FmcWxKNkEvRWYwbnNaUWZ6ZDYzT3RQSUNERE1LMjRYdzlhYVhuWjQrbDBnM05CbUN6UTFZaDk3NWZjOU5uYS9FejFPNGxkNEZFYzR3cVA0RlV1QnZqUDNhN2wwelpLR1hlNktDVHhuSEhJS3h0d09vcXMwb0FFTlNVVVZ0am8vSkZnT0tqKzN0YmhxQ0Y1N2RveW9yOGxIbXJSUEp2cU41SG9PdWR5dEdmSFhEUGtTclJQUkVpMFIwVG90Q1RYQXAxR0hWRVArRWpYRXRuY1p5eEFGays4QkFPNVlKblBjeHBkeEQwQ0syK1c1TzdoZ1plTVhMQ09LeStXM281cnNKcjRodEw4OVpCdExaTmdIWVU5TFlROWJTZzhBYkJseU45NVhjcGZsMEl4L0g4dDRFRUFmOTQyd2VqNkJMVWJpbTVzdUw1K1hzWWIzeSsrbHBvSUE5L05QZFJxR211VjdBSDZFSTNHMnoxTCtlY01hNHFOQzdDdDREOXVDL0pMbVNyNmtVREhEMndvRnR2QzJJU1dvaXpQNUZZWWZ4Uy9LNzU5ZzgvQWdQb0VFcDRSY1hoUmtwa2VTbC9Ndm9FNFlMYzBJWHBqL0QvRFA2dW5xV25ib1VQQWpITlhDNkZuSUNMQWlhTE8xRzhEVkF3QnZsUlFnWE1KYlRJaUNBblh6WjBpTnozcnVmbDNNNlFiK0czOEk0Qit4d2NaL0d5Z3B4T2RnSysrcDlON3FPRkNZLzQrd3JGUEE5MzZXTTMrOUFnRzVvOHJhems5Wm1hc0hLQ2dBaS9tUnB3N3JUZDU1NDlQRUVuNmVmenZMU0IvRXU5akFmUUFiZUJjUDRmOE11VGtMcWUweVUzZEg3d3J4T2Z4TjdWeG0vaS9nUVFEL0FBREZCZHovTWJCdWZyT0FwM0FLcDdDTVU5Wk84Z0U4Z0FjQWNDM3Nwc1A4UUE5djRSSXU0UzNMZE00K0RqREVFQWN0Ny9PWDhWdjVzVnpMWHc5blFQZ0ZOckNCRXlDY0VhZVVibG1NZjA3NXMyRUpMcmhDZklzNWw1SCtCajZHN3dBQUx1Qk9KbWovUkZzdjRySXp6ZytGa0s0ZW9JY0RJRy83QjB6MTl6VTVSNEhmTUQ3TktzcGF5UWF5T3lLOW4zZ1k5d0g4cFB4OUh4dkNqS0l1SGZ4Unh4RDhoTm1mNU9YTDdzOUs4Nk44REV3ZGoxSHVSNWlYTmZuTDFzY1YrMlBNalFrK0JoWVBTZFduTFJkOTVoR1FlNGh6UGVnMWZRd0dqYXlsOXdtaGxwRFhYendFRHRTenMrTU83Z1A0SGVYM2U1WWJxY21DQUp4WFd2cjR0V2VZenRTVU5ieXZ0WDdFK1FEQlk1RjhBUkV0RUFrUU9DSUJBa2NrUU9DSUJGZ3N2SUpYbWtYUUNaQ0M0RnFZYlFlVmpveXVqeFo5Y0I3MUxlWHh0ZTV2R3hxUHZVTkR2bTNJdVVFbjFWdStOZ0U1QVB5bG8zNEdHTFN1dDlQNENyNkMwNDVRSTR3d0tuOHBkWklTVVovNlJKVFdCaEYyYVNrZlJyaEc2elJraDBGdTVBTVIyM1REa011ZWJQUG9zK0czRkU4MkVkRVdPeEJTSFBYNDdvR2NMTXc2cmRQNmhPUkZtR3hReDVRTXFCaVFTODNobXR3NlJOdUV2SFFwby9zdUVSSGRGV3UzR0V3YTBUa0NRVStnbjQraDFkVVQ5UnFOZzNGeUVOR2Y1WDlYclJYVXAyd0NTdCtpSDVZVVhBWW1BdjA3Z2U0UjZOK0luekpCdEo1TDFnVTVSUGxwV3FMVEZubFIvU01hTmE3QkF0dXNmTHNXZTV0TmYwaEVJMHFya1VUVkhWdzRLZmV3MVdxakZuV3VBTzg1ZkFMNytERitnSi9qUFl0UHNJODlYTUliVnBkdUYvd1RmaGZmd3dhK2h5ZndMOVpRMlZqNmhpalh4eXgxL0xMbUo2d3d3azBBeVAvWDYrOVErOFdEbjIxeDF1TU1BSHdKd0VwK2VVenhBY29lNElZeG10Nm5HNDE3QUxXRHMvVUFWNG5vTDRqb0ZiYUY5SW5ZMWordUh1QnZDZlJkQW4yTGxwajBIM1gwQUlVY290emVBNHkwM0ptWGdJR1M2d3lEUnVYN3FpYjdLbE9ENStoY1BYVXppWDVPaEhyMWo0TUFuNkhmcE0vUitmeXZpZm4xV1hFMkFxUkVsRkthWHk5TitYZUk2TnY1MzkvVjVFWDViTmZ3U3Y2NFE4N0hyNjY5MlhHK0lRRk1kMTBxMUpEc2F0TE9td3JVVDEyMlJFTkN5YUVCRTBJbVFOMWYxOFQ4WnZGa0F2RHlzL1JkZXBoMjZXSDZlL3EwSVYrdDVXNXRyUExLL0xBZXVvbFRVVzZUM3MxdkJFMzVpSXByLzI1YkFzQnhVSjZOMURNOGIrQytWYjVsVkREM0ZKQ1dSZWNKWWlkZ2hzY2N1ZXNpaDhQOFBpNzNnZ0lwSTN1S1BzeHYvTGJwUTNxS0ljQlZHdFhqK2lidk5xaCtIOHJmZzBxVGxtWHpteFRZcWtsZDA3cGxPUkZSejJHY0x2S1IwL3l1eDhDS0Fxa2w5blBsOStkcXNhMDlrSzg3ZUIzditnV002SWdCb0h2c3g0UVJBT0NXZVRyT0J3Z2MwUmNRT0NJQkFrY2tRT0NJQkFnYzRSRWdjeHNQR01tZ2ZEWjYxRU9QYlRmRk9idXJWZ213WGxiQWVtdDlOTFVxU0VIWXliL3Z3RGFyNFZxK3FIUzNSb0hmeHk0dTR6SStoVS9oaC9oMExXWldPMWZ6WDltZXBlcSs1NXY0TEFoUDRBa1FQb3ZOV254NSs0cGg3Y0YrNkpDN1FneHJhUmdqUU9iWmRTTGFwU0VONlpBcXB3YzM0Q0VOWnBBelJQdGpsT2RyblIxVXliQkRvQjFyTG9yaGtIUHNVTmVwOHZnWU94YTZROE04QjVtZUFaTytmUnl2OEZLa2xtRXcrVXdWTzdYb3ljWWErN2szQjB6NTFCanJ4WGMxUURaS3ZFTkVoMVlqVHBNQXhWZ1duMFpoOXVxenJ1R2FPTlo1Z2o1Q0NTWDBFVHJCR21SSUlLSkI2ZFBuY2ljVFFQV0htQ3VYTW05SXY2empPZ0dnemFLb0V5RFR1bDJPeVhJRU9FT3IrY0VRWUpoWDR3NDc0OGRGQUhKV2dkdTRjdngxUmNiMVVEdUtuRE4vS3VvblNzcGpqVW45ZWg1cmx4OVNwV3oza09MZ0NXQlBuOG9aVjd3R0tuMmNRd0tkWXdrQWhRQjhuN0pPbTdSWitpc1pBdXprVmNkUCtYSXhYQTdSVE1vVHlPVlRrMXAvTmVNcHc4Q1FmNXVJMXZLRDZEcWpZVkM2YkxuMGlVNTNJc0JEK2RtSHl2OW03S0wvR2hMUk9Vc1BZSysvUGhHZG9UTzBTbWRvazRpdVplZlY5d1Y4Z0JRMzhmbjhGa25lY1I5T3ViU2J1RnZLcGJCZTdtT1NyZEUzOFUzOGNmbjkrL2c5VFpZcU01NkFLL1V4Y2F6alM4cXZsL0V6SWZXc2xzenlyd0Q0RUFEd1MyYURHY0tLTnMvS2ZNSEZJOXA1d3M4TXVUNWY2Q2ErYk16YXlyYnd6eWJMN2pIYitSTWVCL0JmQUlEL1ZHcFg2MkFQYVVoRDJxWFp2QWtzV2grZnhqZkwxcC9ocmhHM243ZjcxS3AvczJ3NzU5alVkK2dxVWQ0T2R4aDU5dm1RNVViUG5HaGp0dC9INkRIanY5eC9OTDhIR0ZLZk5tbVROb2xvczM0SlVLK3hOdlBQL2xQQVhTcm14bkxWTTNDa3NFUGJ0TTFPcDBJZU82TVFSd0VTZnBsbjEyb2hoclVPZkdqRVBGYzdtdDBERUEzTHcwSUEzMVk0TFFMSVI2cTArcnRrZXMyejF1RlRPbHYrczU3bGtGSXFiaWVUV3R6UDAyZW9KOVFTRVpUN0RGMjJsRDhGWlAvTmJlanFCREVwTWhTbGF1bTBNa1ozc0lxSDhCS0FGL0UvckhTRUZkek0zMmFRNG4veGE5cWJEVnozU0lDK21lVWs1ajIzUUNSQTRBalBGeENoSVJJZ2NFUUNCQTZUQUVQcmZ1RVhjYXU4b2J3bGJva2FNVS9RSGhSdUV4SFJiZVlCNW91MWg1QXZUdVZoTHg1alB0UWZ6NVRHZmNZSWRsRjdlaXh3a1ZHNFIwUjcxdVIrNmprZ0E0OFF4My9zS2ZUZm0zcHVKa0NBMjFUNG5Ndys0RFdXQUs4eEN1V0JvTm93aE5YOEhFbmN5NnRjSVZ4eW9yMXl1R2lQbGZ2bGY0Nk82dXN6bW9IMVBzQ0dwZ1FBZ1YyNFdUZC92WjlRMTlieUJuU0ZHQkhSMDdSRVQxczErSlZ1UVFtUVhmOExyN1BlQitnRmw2cGhtMnpMd2xUejd6S1NRZm5KWHlaY3hrRnUrRFFuQWlkL092LzJ0S0JoVDBoamdRa3dJQk9xQWZ3SndIZmV1cVo3akVldWlHY3p2eThCVXJMM01WU09zTmY5OVJYc0JPZ1QwUjd0MFI3NStCWG01REFyd1B6ZWxBQ3VvekJTM2Z5WjJXM21uNFVlWUlGdkFxdjJueXArNThvTVgyY0o4SFZHb2FzSHNCMXFEOFRIbi80OWdKdUNjM2h3UmFzWDhpbFcraFNqMEZVNWRxblUrblVEajFxSDZQb1VrSVdadXRIR1Q0QTkxc0JxRlR4Zmt6NXZOZU5BU0ZDaVI5dmU0M2lQQlNPQXZ6djRTUXp4NS9uM3IrRU4vT3UweHpDbmhMYnZBcHBSeFBrQWdTTjZBd05ISkVEZ2lBUUlISkVBZ1NNU0lIQkVBcGdZZ0ZwTDV4QXFBWWpaTmtFSFlWeXZoSmdXYmdqdk5nZUFBWFpiUytjVHhpZ2QwYTR3R3FkNkEweEpFUysxYWhqUWJ1NElHdEN1b0FHRWZIbVRMdC9XTkxWeDF3NGNnODBEajloRkRkaTF6TlhCVjUvTmhCSUIxSGoxYWg2VWNRYjVDbnRaZzUwQXR2ZytCSkNrc3FPbkxsMlFJV0ZiSWZscEhTNENaQ2FzZnV0U0VFcmp1VFRZQ0dDUDd5WkFVeFBicGZ3R0RITjU4RGVCZDNBQjMyaHhQYm1EQzdpQWJKM2NCV1hNUEZIT1hoQjN3aTAwMk9DS2Z6eFlKRzlBamVXTGZBL2dPZ0s4QjFDZFFZUTdlRWxzWDVTenYvaWNMNmhQTHJiY1ovZjU3YVJ6aWVnTk5ESEFybUJpV1RxSGlBUUlISEVrTUhCRUFnU09TSURBRVFrUU9DSUJBb2RKQUZKZUxCNFJBQ29DcFBsV3FXZHgxckxYZmpaMGRNMGlqWmhMRkFSSWNWaHVEdk1JRGxramIrQUN2b1lYY2VqeFFnbHplR0hiR0lIY1BtWjVoQTE1amUwUTBWOFJpT2hGeXZiRnRZMGVwK0pld3RXb3ZPdDMvMWpsOGJBY2hWR0o3aEVJOUNJTkNIU1BiRytuM3FGemxEbGxVNnRTZnFmYXBYdzc5ZFA1bjduVDdXbVNObHd2NUNUS2w4cS9wZFlPb2NDT2t3Q0E4d0RlQkFDOEJBQjRFeHM0WDl2S2RBT2J1SWtyZUFTWGNJZ3J1TjZvcS9tazB1a2txSTlBZnp6L1M4QXZ2enFkLzMwUy9PYnlId2V3a3N0WEZtdThmcExJZkFFcERuRmZlZEhSUFd4Z1Jkc0p0MENLUTl6QkJlemdDbHZKbE85VVg5K3QvcmUxMy85aDdKVTdhWG1FRFhsWHNFdlZvdWtSOFp1NFpMN3c3SDBWdHBmSzJPYkw2TzhXcjg4M21yUThIcGFqOEFabTc4TzRqemZ4TERiQXY1R2ptZzF3QVdEY29tcnJYN0ExdEl1THloMjhqbXY1ZytBYnVCWmZGaDhLNG55QXdCRjlBWUVqRWlCd1JBSUVqa2lBd0ZFUndQVStnSzd5SjNHOWxGL0hrOGN1bjNUNXBpMXZpMXluNjMwQVhlV3ViZVltTFo5MCthWXRiMzFrSHhlSlEvVStnSzV5MTBhVGs1WlB1bnpUbG5jNHNrdkE1YkpEU0pRUnZNdk1OeFdtL0lVOGJvSVhEUG16aW40d1o1L2wxRnZrU1l2NGw5bjRYUGxjNVZmejN6eisyMGlVRUxiNGtsek5CVytWaHNnR2dxclJvS1QyUzVkekdTbmtDWURuQWJ5dW5SbWZmcC80YnYxcWlLYnhFL0FMektqQmIxSzAxT1YvQWdENGEydjlGV2MzOFE3R3NraE5KWUQrTHVwNkJseHk0QVc4RHVCNXZDWldzSzJDM1BvVFZwdXZBZHo2WlFKMHI1K2tQTjlPL2pqZVVjdy9GZ0tjN0s1Q3dZZksvK1lnWjQ4Z1ExMk8za1pEb255MmlVOGVjVjF1c2o4VlpJL2pubWIrc1dEY2w0QVJnRnRvZndubzNzWGI4MWZYMEs0TGwvVDc5U0N1SHNxVy91TzRwNWwvREQxQWRoUDRLaXQ3bGZrbXlaOEhjQk0zODIrcS9IVWxGakZuWDFla0xqbEVPVmk1bm4rcW5YMVZrN2prYmV1bktCKzFscitqbVo5UHRTbUNlQXliOW1Qb3BPV2R4d0VXZnlCbTJnTlJrNVozSmdEb1NicGVLcjlPVDlhQ2RwVmZwRnVsL0JZemlERnArYVRMTjIxNXl5Tk9DQWtjMFJzWU9DSUJBa2NrUU9DSUJBZ2NrUUNCSXhJZ2NLak9vTHJUVWNlc3l5TmFRUGNHTHBmZmp0alFYZVVSTTRmNkphQ2I2WTZjR3JxMTNLU3poZ2dOSmdGY0JqekNrU2hmeHBIU0Q5VGhNcUE2SllvRHRmVDFSMWhnRW1BWkVBMjRqR1ZSZm9SbGtTQUVlY0pFN3FHd0lxNDdIalBxbDREbEZscjAyTEtHYnUzWFJhQ0lodERmRjZCSmFtRm5YUjdSQXRFYkdEamlRRkRnaUFRSUhKRUFnU01TSUhCRUFnU09TSURBTWI4RTZNVUJvWEZBSjBEM2NUWkNINFQreFBQZHd6NVdKNTVLQU5BSnNKci9UUnV1MXAyWi8yRGEyVndFNkFUWXovK21DMWZyanVZZkkzeDdBRUt2OXRjTXpLb2tGcGw1N1RRc3pCL3ZBY1lDZlViUVBoTHNzMjZXaFBscmhpMnZVSVg1VjBYNVFid0hHQmQwQWtnOXdHcHBtdUt2V1NlOFZ6dFRKMUZQMGM5UlREZC92QWlNQWJQVUEwVHpUd0crUFVCM3VOL2YwY3o4UFV1NGlFYnc3UUdPQTFMdndway8zZ09NQWZxRWtCNE8wSnZKenBYeVR0LzhqT2lJT0NNb2NNeXZMeUJpTFBoL2dqOVFwaGQzdDhnQUFBQWxkRVZZZEdSaGRHVTZZM0psWVhSbEFESXdNVFV0TURNdE1URlVNRGc2TkRjNk1URXRNRGM2TURDU1BSOXNBQUFBSlhSRldIUmtZWFJsT20xdlpHbG1lUUF5TURFMUxUQXpMVEV4VkRBM09qVTVPak0xTFRBM09qQXdyVDIrK0FBQUFCbDBSVmgwVTI5bWRIZGhjbVVBUVdSdlltVWdTVzFoWjJWU1pXRmtlWEhKWlR3QUFBQUFTVVZPUks1Q1lJST1cIik7XG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFRQUFBQUR3Q0FNQUFBRFlTVXI1QUFBQkRsQk1WRVh2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWlpYXBtWEFBQUFXWFJTVGxNQUdSQXpCQWhRdjRLWkx5SlZjVUJtWUJvVE1zd05JVHdXUWtoTElCNWFJeWN4VXl5Rk5JZUF3MnJJejhZNFJSeTh1TDU4cTdXbGpLcW9yUit5S2YwQm5sRWs3d29HQWdPUG9tS1VTcUN2YmQrY1IyTS9iMytSYVBsQVh2RUFBQUFCWWt0SFJBQ0lCUjFJQUFBQUNYQklXWE1BQUFCSUFBQUFTQUJHeVdzK0FBQVBaRWxFUVZSNDJ1MWRDMlBidGhFR3lVaXE2WmlTWGJsTEU2ZXgxbVRPNWlYWnErdTZybzNhYkcyNnBPa1NkMTN2Ly8rUkFYemhjSWVIV01vVWJlT1RMZXNJRU1COVBJQjNBQ2dMRVJFUk1RSWtrT3k2Q1R2V0gwYk9RTy9tSmVEWFA4RU1xTXpERWtJc0VCUk1BbWg3akhTVm11QWpBS3dDOEZSQXppOC9EbW9TMUFJNUFRbHRqNUZPcnlBamdKN09LMkNaa3dFWllPMjNxK0JKNXd3S2t0dGZ1aTF6NHMyMFZUQUw1azJrRjVoYmlQY0tjd3Z3TkdCNEM3Q1R3cHJvSTRDZERjeEVQS1VURXh4K0ROaUFqMHU5QzlBdU5QeGRZT2U0Nlk1UVJFUkVSRVJFeEloeDZaN2dqdjJnaEVWclFKMzNoSjVCc3hzQmZzSXE4TTBIc0FraFdmcWdsRmdhd0FoZ0dXaDJNMXhNV0FXVUFFOTBxVW9mTWhoaTdiZTMySk5zbVZGSlBLZUx3QlFnbEFRTU5oM0FMVmpZYk5hSTFqYVlEMGpNMG53OWF0Y1dZRVhpYVhILytRRGVRM1k2Qm9SeDNlOENFUkVSRVJFUkVSRzdRei9IUCtpYUJzdnZIWGowTEFENGNpcDB5TjI3Zlh3N0FHdFFvRFR3SCtIcWtXVGdXY3pUd1pWbXI4RGJBRXVxdjM1YkNUNkNXRG9yakduQXF3T1NDSTdFaGxGV0hqa0JYSWtiMU0vRFpRZ1J3Q2VBd0s5QitIUlBGbFBCT2plWnN6S3owd0s5L0ZsemVFM0kyNEdFelVJSTQ1YlQvU1lhcnFHTGVzRStidGxEQlA3MFFJbmtja0R3Z2dRcUFHR3QwNTI2Njd2QUpaOGZ2azFHUkVSRVJFUkUzRlQwMzViYTA4MUlMTHZSM1VYYS9ORGdVbFdnK200TjJLZ0NmenpQMWxZdERVRHBBaTlPYmVEVnFjenU0QVNzeS91OGtheElkLzJXK0pZcTRDc2JyQmNWOFNQdzhpUnZyV1d6ZStJbElMQTNYRmpOek1lQWw3L0VNdDBUbUg0d3d0a21IRzRPc0xWellrRXNITFpFNCt5UkRiRkJBK3lwVm9aSjZmUjhpdzI0VDJjRXNCYnc1cG5wdEl1RkNiQTN3SGtKTjBwbUFiT2JBT3ZhT2wraGQxNEExZ1ZJRndsMkFYc3ZUNXc1R01QZXpRRThqOFhBaEZtQVlDdjBBUUxJSUVoUzJiQVVtc0doOVZ1dWtUL1ozZ29IZ1pzRTd3RUw0Sm5IUFIrdzYrZGpJaUlpSWlJaVJvM0x2WXR6UjRVOEttczVZN3VPUmJnNDZKYTlvLzdBaitEb3ozb0dabTJqOVhLaU1jME1UcEd0N1BnWHZyb0QyRzV4MDNlczFpWTlUNGNIWEgxTEJtQUtDeVA2OUJJQzlqTDdFdUIrdnJ0TThudy9nRzArdzF5dlp1MzFCUWZOdWVBNmZlc0VOT0dtaTRERUVnN3pwbnZpS1o1dVc1MEdrZ3IrekxCRkNoSkxDMW00QzloRXdkdUhMYVhSQ1JIdm5oVXJBYlJMYkQyODA0T2Fta3hnMFpuNWZMOGxuUWkyYm84Sllmd0VDQWtSM2gvbWpBNkxUc2tUSTRIb05iUUpLRFQvNEo4L3VvYTQ3dnBGUkVSRVJGeHZwRmY4Um1aeE84QzNYRVc5NFYraS81aVdBcXpMTEtiM2xRWlhBeUVsaFhwRklVYTFHTUsyTGdzVXJ5aFZVMGhSTUdUR2R5bFVGcUR6QytzU09DTndMTjBHZVBSQ3Q5ZEwvWTNvekNBQUtoS01lSmFLV044RXhrV0FaZm1kRTVRU21SS0Evd3BMN0lhT0pXMFhHMHNYMk1BQ1dINXp4MFpGa01NQzZINkZodTdSNk05MFpHTUF5V0dkb1VtMWxkQXh3TEpCWmpUbXI5dGtTUGlQWThoSCtWTzdRbUQ1cEREZ2QyVjJZSURUMGUwaTBYdWdEOGtJQ2VpTEx2cEhSRVJFUk53c1pNcFB5RGJQZjJzaWNXdW8xazFsNDJaVFg0NzNBcDRiN0ZXdWtrdkZqQ1puZmo1dWlSd2dGN2RJQWVpTWZTbnVDNGRNRThYdEd1U0VSaVU0S0lvcGN2Ykt6d1locFZzMDU3dWZHM0ZSYTdndzlHMWJUR1cyc3JWZnB6ZXRudVF3bVVBK01Sb2dXREJCOTlwYWhlckEzRlpqRzZRVlJaRldJSVRNREFJUUE2Qk1kS0pyM0RNSWtFVWZTclN1TkRRVzRGcnZyb3JUQlU1Z2NuVDBQbUFDbHN1bC93a01nUWtRQVFMMkRRSkJxWTRPU0VJU1RFalZRSlB3WXdXWEJjQVUwQjlWY1QwR0FHcWcwZUxqOHZSalRjRFJCL3UvTWdpNGMrY08yeDd2bHNrQlNvRFMvME5NZ0dsU0lQVUhUbEdLcHYzZ2pvTFRBZzZWNmpBOTFQTUFXV24vTFFHcWZEVEZWaFduQzVSZDRPNWQzQVdXUWw0QytkNmVrSld2WDBpQTB2LzJ2US9kQkNUa2dEeVNKSWNKQ21IZzVPVEVQUWJBb1dSQTZvOEpLSDlhQXNwQkVCRndYNTE5LzM1ejRLZ2FCSStJT3VnRVRnQjdSRU1RQWo3Qzh4UHp4VzM1WHJnSW9CWENneEtvd3RQVFU5QW15aXdnTzV4TzVadnVBcVhzSnVDMFFuMGd5ZUdEUEY5QmpwOFJRbDFJSHZoMStjTDZUaWdCRTBJQUdCWXcxL3A3Q0dpTCs3Z0VNYmxKU3dDMWdPeXdSSE9KbUF4cWpKMkMwU2Z6dkwwTDVFMzl1ZE1DT0FHaExvRFRxekd3YURPM0JHUm1mVzF4bFI4QTd3a0hpQVdFYm9OVmUrYm1IRXltYjkzQUZRNE1lZ3RjUFQ5QUNTZ1pLTVQya0dXTEVoMThQY2FoNmJxRXMwT3ZhYVg5cmVvZkVSRVJFVEZ5UEh6b1QwL0JPNjhOWU52NlNKRHBjUGRSZVp0NjFJaDFzTjNHMlBOYW5yZm5WcTdKL3NheUVMOGg3U204OXpVWmJSMlRRL0syamZYUE1zM0FUSG1SWi9rVUJUdXl5Zk85MXBHelVwSHA0NDlxVjd4aFFKNnNRRmFhVE04bVY2N2d4bkoxUFZvTkN1WE1wZTI5UFZYY3p2RTFmUXp3bU9pdkhLVVRyYi95emR2b043RTdZaWljaDkvSzF3RnVVQ2F2YzRieUcydUROTFlRdnhQbjR2YzR2czJsa0J1eU1PWGp5VEdTVmZzWEMxY0RvWGIyYTdreE9HUnhzckdMVkx1TzFZeEZHMTF4QWtnNERPTEovYWZQN3QxSDAwYVp0TzhNdDhkTHdCL2dqL0wxSjZ5Z2N2MkpqSU1QR1J0UGN1cjd0bkx0ektmMitoNDJJaG9IWm5Dd2tCeFV3bDR6WTdQbklxQWVCWkFGSE1DZjRhRnVrTlFmVGRtRkxlQXY0aFB4VnoybGRFb3M0SlJZd0NteGdJVVJlOGdlVUExU2JYeEw2dnUwa2o1dEcxZ0c4emgyQURVR2FQM0NCRHk1LzlFRCtiTHJYM3ZxbUlBVXlsbW5SdjRiZkNaZmYwYzdKb3crWHNydkV4bWxsLzFYNG9HRGdDYTZTNDBHRWZzUkdPWW9ENU9wT0RIaVJVSkFSaGdtK3JjN0lrd0NrUHo1SjNkbWQvN3hSUzBmTnNYdGJ5WXZ6S3NuV0Jlb1pTdytmcXhsWmZ2dGZLZVZBRUdnOWdpbHdqMHBDV1NTKzFIZFlIMFhVRnVNaEt0THFPNU9pdlBMZ3VqUEEvZ1U2eStlZmltSHYvbVhUMXNDWlA5UFBlY3pSZWRzRURVbldka2tQL0VENkxRM2tXM2ZBT09URjFSL2Voc1UxYVl1blZ5dUNOd3Uydk9CbFdBZ0YxY1FSWWNBMy9DQklpSWlJaUoyZ0NtZW1GYXVISnl5UE0vMXgwdmVXbGd1UlhqdmZ0Q25CU21zNWZzYTM1clBBTG1hSDhKWFgzMzlOWHlCbW5PZzlDOGhQNnp1d1pNbmNHL1ZwSlA5RnMxMFF6UGYwTXIwUUJ1OFViOHBoOWwwK3NKZ3dQL2xZaUVzWkZrNWlqWkJNckNtM3ZpSjlyeitxZkF2N1lxdXA3S0FCUXR1Mm5TeVZFcysxTUdyemlOZHgwd0dPM3B4c0VyUXdaVnlqTmZ3d3JKYjloY1NvRnd0ZEliU3ZmdzFEVUFUOE0yM3o1OS8rNDF1ejFSQXNjQXJPNVFBWThzSWxKTlJhTU5ES3FxcGlsVDcycG1hajBFRVBGTnJkYmpDdFdMZFJRQU5MN202SkwxYTNkTVd0UzVsclg5cTVvZlMxdmZiMDEvS3BCbHlWMkZDTm1TWTU1ZnJvQ2dEcU1CVHhuTUNXOEI4anZlcjU2dVZDaTgxQVZKL2dhYkFLT00wV0xDTHhNVGI5amMyZ1BTdnJtQXpCbndHK3hMd3NzMVFGTWI1Y093bjRFaCtQRkkvVGJJeXNDbWNJQXNnMGV1elo0ZlBWbkRXRnZoQ3RXNjJQUUtvQlh4WHlzMnNYSzIvVmpCZmx6Z3hUOWVFeVV0NmZIeHNFRkJmMmVyUGljVG44b2RzZUZnN3g0RFZTblVBUEFpK21FNW5XeHdFeVJqd1hUMEcxQXdvL1FzakhGMnA5cDdvMDljSGNJWVlVQVVkb1dHdm1ieHA5UHY0NC9xSEdJaHpESmhtcTlVS1ZwZ0JlaHZjOWwzZ3NacVkxZTJob2R0NlB0Y1RWbklFbEQrcFpnQ01QODNIL2VZQXZRMldGbEhDTVFiQVZBRVRZTHVHZlFnZ1NNdHIvN2p4QXl4N0JNMFJWbHJMaTFTTmxNK2IxSDgvU2N5dmRSSGxxRkZMazB4TjZXWE5obzN1ZnNEdWNmVHExUkVTRndlS3EvUjV5eGh0TU5zNUdSRVJFZEVMVTd3Nyt2WDNhb2o1L3ZXdUd6VWczZ0M4YVlVZm1sSDNoMTAzYXpEY1ZlcmVyWVhYMVIxSHZXc2JXTUlTbi9BZml6TWp0cmZ6YkZueXYreGYwS1o0b3dLb3hnVGVhZ0xldGptSTIyRHpJd3BOQ1Z0Nm9BZW9ERXQxVDE5Nnk3OUUzSzBVdm9zcXA2NEhhMDlLRHhUYUtBSWJONVg4YnZMT1hKMWwxUTFKZ0J3QlZBajl4cWpjYk1NY0w0eFYrdXZseGNMVTM3WjFkNUV1c0g3djVOczdJOE55aHdRVXpmVXUzQVFVcE1zRG5LYzREZXR2SXlBMVRLYmNhRDR4d21tRGdBeVd5K1Z3bnE1VzJFMEFQd2ZwTDNVM0JzWGVGakRzSUZnYVFQWFFUS25ESzAzQUs1U3A4QmVBMDN1UEFjTkdhM1RRZTZyRnB6Z1RPWWt3WVBEVCt5NGd4SUJENEZJclhMWGdvaEV2c0k1MERNQlNzZjNkNXpzTjFuOVUwN0x3OHNkZHRtRk1zeFVSRVJFUkVSR1hqQUo4NG1VRFpzU1IyZWdKaVQ3WTI2UDZnMGU4ZkFLQVVHQVFVS2FsT0VNeFM5V2JrVUdGekkwOHJ6SzV3OXVDK000RlM0WnloV3hBQWt3S1RBS3F0TGJONWVXUjZ0RU1CZ0U0blJOQWcwVStHV0J1eGgyRUFMd1ptQkpRVG4vVWpTei96SENiNnd5WWdKbEZwN0RHaHJqTi94K3dFUUVEV3NCR0JBeHNBY09PQVJRN0h3TUd2Z3Z3K1k0ZDN3VkdnTjM2QVJFUkVSRVJOeHYrNThpdU85TC9DdmpwYzdSM1Uzb3BaemZvZTNMVmM2VHdVNEdlWjhpTGw1WUhLQnJmaEg3L1FWZDVkRmpEL3lRQkF1MU9WcXpNR0FQMHlWSzlYNytiUERha2NDN0VUNFU0eDA5YnIwOWtSR3MrWDZzVm1SeFA1RSs3ZlJ1T3pmM3NTZ1pUbnFqWFpLVHViVmJ2bXovVFZ5aGZnTnB0ZitBZ29QeHF0T1N3K1g0OVNDQkoxSUZHUGxRdi9mMTdLbDBlU1E1SFNrQnBBUkxuK0lxcmNXRnQ3RTVHQkh4Um9UWHhqdkxvTUN2dmdRdTA1MFVHbzFNNG1Ub0l1SGFEWUE1d2ZuYU9oLzFxT2tLSHBMRGwvM0E1TnVSdjVQVjVjeVdmbW8rSWlJaUk2QTM2ZkVCSXBwdW91c3BkNitzcmgwQ2ZEd2pKZEJ0ZFY3bHJmWDNsNFBXSEZxODNrZWxHeXE1eTEvcjZ5a0hRNXdQZTZnSWErVUw1aGhlMVhHMmxMZE5mdFRKUVdUalQzK3IwdDg3NkJYalQxWTVPa2k1byt3Viszc0VIMEJWQUt6ZUZpSG8xK09JQ3J3Nkg4dk4wbGw4dmtkdlM4ZXFaL1M4WTdSRS8vL3l6TU50VFBwRzhLUUhHQjR1c2V1OEZhVEJ1RU1zdm1FTCsvSVNBWUh0RTgrdVFWNVgrMnlOZ2diNkR6a0tBN1c4WGhZTDFXeXpFWndIcTIwWlcwSUdBY0JkUTM3N1Z4Y1JEWFFSQ0JIcTdsQ0Q1cVN3WldMWDVnNkRQQjFnR3RXWVExSU1ZSGFTQXl1NUIxVHBJMHZycElHdW1OL3k0Wk5VSFdqbUlvVzlqZlcralhlVXdoblprK2pwU1hlVXdoblpsKzdyU1hlV0lpSWlJaUlnSUQyckg0ZExrMFlQOC84Q3dmQTBKQUQ4QjVRc3JLUHdFQ1BwUEQ4ZU42aXNKd1NNVGdxQjVjOG5rMzkrTkhkRUNidndZY05QdkFoRVJFUkVSRVJIYlJuSjFQSUhnTGtqSXVtOTBUY2ovQnhvekVoRm82d1lFME90OWxmVGZoZ1ZRZmErVS9xWUZsTnZieTVlRGdIYnR6ZFRYNEZDZGZXM0hnS3lCcVQrKzRwWCtWOGNHK2xwQWxmL3E2dC9YQXE2OC9uM3ZBZzc5ciswWUVJRFcvK3JZUU5BQ3VrRHAzZnhHUkl3Yy93ZTB3SXFhZ215N0dBQUFBQ1YwUlZoMFpHRjBaVHBqY21WaGRHVUFNakF4TlMwd015MHhNVlF3T0RvME56b3hNUzB3Tnpvd01KSTlIMndBQUFBbGRFVllkR1JoZEdVNmJXOWthV1o1QURJd01UVXRNRE10TVRGVU1EYzZOVGs2TXpVdE1EYzZNREN0UGI3NEFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBQUJKUlU1RXJrSmdnZz09XCIpO1xuXG4vKioqLyB9KSxcbi8qIDI0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBUUFBQUFEd0NBTUFBQURZU1VyNUFBQUJEbEJNVkVVaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFemZxQ3VBQUFBV1hSU1RsTUFHUkF6QkFoUXY0S1pMeUpWY1VCbVlCb1RNc3dOSVR3V1FraExJQjVhSXljeFV5eUZOSWVBdzJySXo4WTRSUnk4dUw1OHE3V2xqS3FvclIreUtmMEJubEVrN3dvR0FnT1BvbUtVU3FDdmJkK2NSMk0vYjMrUmFQbEFYdkVBQUFBQllrdEhSQUNJQlIxSUFBQUFDWEJJV1hNQUFBQklBQUFBU0FCR3lXcytBQUFQWkVsRVFWUjQydTFkQzJQYnRoRUd5VWlxNlppU1hibExFNmV4MW1UTzVpWFpxK3U2cm8zYWJHMjZwT2tTZDEzdi8vK1JBWHpoY0llSFdNb1ViZU9UTGVzSUVNQjlQSUIzQUNnTEVSRVJNUUlra095NkNUdldIMGJPUU8vbUplRFhQOEVNcU16REVrSXNFQlJNQW1oN2pIU1ZtdUFqQUt3QzhGUkF6aTgvRG1vUzFBSTVBUWx0ajVGT3J5QWpnSjdPSzJDWmt3RVpZTzIzcStCSjV3d0trdHRmdWkxejRzMjBWVEFMNWsya0Y1aGJpUGNLY3d2d05HQjRDN0NUd3Byb0k0Q2REY3hFUEtVVEV4eCtETmlBajB1OUM5QXVOUHhkWU9lNDZZNVFSRVJFUkVSRXhJaHg2WjdnanYyZ2hFVnJRSjMzaEo1QnN4c0Jmc0lxOE0wSHNBa2hXZnFnbEZnYXdBaGdHV2gyTTF4TVdBV1VBRTkwcVVvZk1oaGk3YmUzMkpOc21WRkpQS2VMd0JRZ2xBUU1OaDNBTFZqWWJOYUkxamFZRDBqTTBudzlhdGNXWUVYaWFYSC8rUURlUTNZNkJvUngzZThDRVJFUkVSRVJFUkc3UXovSFAraWFCc3Z2SFhqMExBRDRjaXAweU4yN2ZYdzdBR3RRb0RUd0grSHFrV1RnV2N6VHdaVm1yOERiQUV1cXYzNWJDVDZDV0RvcmpHbkFxd09TQ0k3RWhsRldIamtCWElrYjFNL0RaUWdSd0NlQXdLOUIrSFJQRmxQQk9qZVpzekt6MHdLOS9GbHplRTNJMjRHRXpVSUk0NWJUL1NZYXJxR0xlc0UrYnRsREJQNzBRSW5rY2tEd2dnUXFBR0d0MDUyNjY3dkFKWjhmdmsxR1JFUkVSRVJFM0ZUMDM1YmEwODFJTEx2UjNVWGEvTkRnVWxXZyttNE4yS2dDZnp6UDFsWXREVURwQWk5T2JlRFZxY3p1NEFTc3kvdThrYXhJZC8yVytKWXE0Q3NickJjVjhTUHc4aVJ2cldXemUrSWxJTEEzWEZqTnpNZUFsNy9FTXQwVG1INHd3dGttSEc0T3NMVnpZa0VzSExaRTQreVJEYkZCQSt5cFZvWko2ZlI4aXcyNFQyY0VzQmJ3NXBucHRJdUZDYkEzd0hrSk4wcG1BYk9iQU92YU9sK2hkMTRBMWdWSUZ3bDJBWHN2VDV3NUdNUGV6UUU4ajhYQWhGbUFZQ3YwQVFMSUlFaFMyYkFVbXNHaDlWdXVrVC9aM2dvSGdac0U3d0VMNEpuSFBSK3c2K2RqSWlJaUlpSWlSbzNMdll0elI0VThLbXM1WTd1T1JiZzQ2SmE5by83QWorRG96M29HWm0yajlYS2lNYzBNVHBHdDdQZ1h2cm9EMkc1eDAzZXMxaVk5VDRjSFhIMUxCbUFLQ3lQNjlCSUM5akw3RXVCK3ZydE04bncvZ0cwK3cxeXZadTMxQlFmTnVlQTZmZXNFTk9HbWk0REVFZzd6cG52aUtaNXVXNTBHa2dyK3pMQkZDaEpMQzFtNEM5aEV3ZHVITGFYUkNSSHZuaFVyQWJSTGJEMjgwNE9hbWt4ZzBabjVmTDhsblFpMmJvOEpZZndFQ0FrUjNoL21qQTZMVHNrVEk0SG9OYlFKS0RULzRKOC91b2E0N3ZwRlJFUkVSRnh2cEZmOFJtWnhPOEMzWEVXOTRWK2kvNWlXQXF6TExLYjNsUVpYQXlFbGhYcEZJVWExR01LMkxnc1VyeWhWVTBoUk1HVEdkeWxVRnFEekMrc1NPQ053TE4wR2VQUkN0OWRML1kzb3pDQUFLaEtNZUphS1dOOEV4a1dBWmZtZEU1UVNtUktBL3dwTDdJYU9KVzBYRzBzWDJNQUNXSDV6eDBaRmtNTUM2SDZGaHU3UjZNOTBaR01BeVdHZG9VbTFsZEF4d0xKQlpqVG1yOXRrU1BpUFk4aEgrVk83UW1ENXBERGdkMlYyWUlEVDBlMGkwWHVnRDhrSUNlaUxMdnBIUkVSRVJOd3NaTXBQeURiUGYyc2ljV3VvMWsxbDQyWlRYNDczQXA0YjdGV3Vra3ZGakNabmZqNXVpUndnRjdkSUFlaU1mU251QzRkTUU4WHRHdVNFUmlVNEtJb3BjdmJLendZaHBWczA1N3VmRzNGUmE3Z3c5RzFiVEdXMnNyVmZwemV0bnVRd21VQStNUm9nV0RCQjk5cGFoZXJBM0Zaakc2UVZSWkZXSUlUTURBSVFBNkJNZEtKcjNETUlrRVVmU3JTdU5EUVc0RnJ2cm9yVEJVNWdjblQwUG1BQ2xzdWwvd2tNZ1FrUUFRTDJEUUpCcVk0T1NFSVNURWpWUUpQd1l3V1hCY0FVMEI5VmNUMEdBR3FnMGVMajh2UmpUY0RSQi91L01naTRjK2NPMng3dmxza0JTb0RTLzBOTWdHbFNJUFVIVGxHS3B2M2dqb0xUQWc2VjZqQTkxUE1BV1duL0xRR3FmRFRGVmhXbkM1UmQ0TzVkM0FXV1FsNEMrZDZla0pXdlgwaUEwdi8ydlEvZEJDVGtnRHlTSkljSkNtSGc1T1RFUFFiQW9XUkE2bzhKS0g5YUFzcEJFQkZ3WDUxOS8zNXo0S2dhQkkrSU91Z0VUZ0I3UkVNUUFqN0M4eFB6eFczNVhyZ0lvQlhDZ3hLb3d0UFRVOUFteWl3Z081eE81WnZ1QXFYc0p1QzBRbjBneWVHRFBGOUJqcDhSUWwxSUh2aDErY0w2VGlnQkUwSUFHQll3MS9wN0NHaUwrN2dFTWJsSlN3QzFnT3l3UkhPSm1BeHFqSjJDMFNmenZMMEw1RTM5dWRNQ09BR2hMb0RUcXpHd2FETzNCR1JtZlcxeGxSOEE3d2tIaUFXRWJvTlZlK2JtSEV5bWI5M0FGUTRNZWd0Y1BUOUFDU2daS01UMmtHV0xFaDE4UGNhaDZicUVzME92YWFYOXJlb2ZFUkVSRVRGeVBIem9UMC9CTzY4TllOdjZTSkRwY1BkUmVadDYxSWgxc04zRzJQTmFucmZuVnE3Si9zYXlFTDhoN1NtODl6VVpiUjJUUS9LMmpmWFBNczNBVEhtUlova1VCVHV5eWZPOTFwR3pVcEhwNDQ5cVY3eGhRSjZzUUZhYVRNOG1WNjdneG5KMVBWb05DdVhNcGUyOVBWWGN6dkUxZlF6d21PaXZIS1VUcmIveXpkdm9ON0U3WWlpY2g5L0sxd0Z1VUNhdmM0YnlHMnVETkxZUXZ4UG40dmM0dnMybGtCdXlNT1hqeVRHU1Zmc1hDMWNEb1hiMmE3a3hPR1J4c3JHTFZMdU8xWXhGRzExeEFrZzRET0xKL2FmUDd0MUgwMGFadE84TXQ4ZEx3Qi9nai9MMUo2eWdjdjJKaklNUEdSdFBjdXI3dG5MdHpLZjIraDQySWhvSFpuQ3drQnhVd2w0elk3UG5JcUFlQlpBRkhNQ2Y0YUZ1a05RZlRkbUZMZUF2NGhQeFZ6MmxkRW9zNEpSWXdDbXhnSVVSZThnZVVBMVNiWHhMNnZ1MGtqNXRHMWdHOHpoMkFEVUdhUDNDQkR5NS85RUQrYkxyWDN2cW1JQVV5bG1uUnY0YmZDWmZmMGM3Sm93K1hzcnZFeG1sbC8xWDRvR0RnQ2E2UzQwR0Vmc1JHT1lvRDVPcE9ESGlSVUpBUmhnbStyYzdJa3dDa1B6NUozZG1kLzd4UlMwZk5zWHRieVl2ektzbldCZW9aU3crZnF4bFpmdnRmS2VWQUVHZzlnaWx3ajBwQ1dTUysxSGRZSDBYVUZ1TWhLdExxTzVPaXZQTGd1alBBL2dVNnkrZWZpbUh2L21YVDFzQ1pQOVBQZWN6UmVkc0VEVW5XZGtrUC9FRDZMUTNrVzNmQU9PVEYxUi9laHNVMWFZdW5WeXVDTnd1MnZPQmxXQWdGMWNRUlljQTMvQ0JJaUlpSWlKMmdDbWVtRmF1SEp5eVBNLzF4MHZlV2xndVJYanZmdENuQlNtczVmc2EzNXJQQUxtYUg4SlhYMzM5Tlh5Qm1uT2c5QzhoUDZ6dXdaTW5jRy9WcEpQOUZzMTBRelBmME1yMFFCdThVYjhwaDlsMCtzSmd3UC9sWWlFc1pGazVpalpCTXJDbTN2aUo5cnorcWZBdjdZcXVwN0tBQlF0dTJuU3lWRXMrMU1HcnppTmR4MHdHTzNweHNFclF3WlZ5ak5md3dySmI5aGNTb0Z3dGRJYlN2ZncxRFVBVDhNMjN6NTkvKzQxdXoxUkFzY0FyTzVRQVk4c0lsSk5SYU1OREtxcXBpbFQ3MnBtYWowRUVQRk5yZGJqQ3RXTGRSUUFOTDdtNkpMMWEzZE1XdFM1bHJYOXE1b2ZTMXZmYjAxL0twQmx5VjJGQ05tU1k1NWZyb0NnRHFNQlR4bk1DVzhCOGp2ZXI1NnVWQ2k4MUFWSi9nYWJBS09NMFdMQ0x4TVRiOWpjMmdQU3ZybUF6Qm53Ryt4THdzczFRRk1iNWNPd240RWgrUEZJL1RiSXlzQ21jSUFzZzBldXpaNGZQVm5EV0Z2aEN0VzYyUFFLb0JYeFh5czJzWEsyL1ZqQmZsemd4VDllRXlVdDZmSHhzRUZCZjJlclBpY1RuOG9kc2VGZzd4NERWU25VQVBBaSttRTVuV3h3RXlSandYVDBHMUF3by9Rc2pIRjJwOXA3bzA5Y0hjSVlZVUFVZG9XR3ZtYnhwOVB2NDQvcUhHSWh6REpobXE5VUtWcGdCZWh2YzlsM2dzWnFZMWUyaG9kdDZQdGNUVm5JRWxEK3BaZ0NNUDgzSC9lWUF2UTJXRmxIQ01RYkFWQUVUWUx1R2ZRZ2dTTXRyLzdqeEF5eDdCTTBSVmxyTGkxU05sTStiMUg4L1NjeXZkUkhscUZGTGsweE42V1hOaG8zdWZzRHVjZlRxMVJFU0Z3ZUtxL1I1eXhodE1OczVHUkVSRWRFTFU3dzcrdlgzYW9qNS92V3VHelVnM2dDOGFZVWZtbEgzaDEwM2F6RGNWZXJlcllYWDFSMUh2V3NiV01JU24vQWZpek1qdHJmemJGbnl2K3hmMEtaNG93S294Z1RlYWdMZXRqbUkyMkR6SXdwTkNWdDZvQWVvREV0MVQxOTZ5NzlFM0swVXZvc3FwNjRIYTA5S0R4VGFLQUliTjVYOGJ2TE9YSjFsMVExSmdCd0JWQWo5eHFqY2JNTWNMNHhWK3V2bHhjTFUzN1oxZDVFdXNIN3Y1TnM3SThOeWh3UVV6ZlV1M0FRVXBNc0RuS2M0RGV0dkl5QTFUS2JjYUQ0eHdtbURnQXlXeStWd25xNVcyRTBBUHdmcEwzVTNCc1hlRmpEc0lGZ2FRUFhRVEtuREswM0FLNVNwOEJlQTAzdVBBY05HYTNUUWU2ckZwemdUT1lrd1lQRFQreTRneElCRDRGSXJYTFhnb2hFdnNJNTBETUJTc2YzZDV6c04xbjlVMDdMdzhzZGR0bUZNc3hVUkVSRVJFUkdYakFKODRtVURac1NSMmVnSmlUN1kyNlA2ZzBlOGZBS0FVR0FRVUthbE9FTXhTOVdia1VHRnpJMDhyeks1dzl1QytNNEZTNFp5aFd4QUFrd0tUQUtxdExiTjVlV1I2dEVNQmdFNG5STkFnMFUrR1dCdXhoMkVBTHdabUJKUVRuL1VqU3ovekhDYjZ3eVlnSmxGcDdER2hyak4veCt3RVFFRFdzQkdCQXhzQWNPT0FSUTdId01Hdmd2dytZNGQzd1ZHZ04zNkFSRVJFUkVSTnh2KzU4aXVPOUwvQ3ZqcGM3UjNVM29wWnpmb2UzTFZjNlR3VTRHZVo4aUxsNVlIS0JyZmhINy9RVmQ1ZEZqRC95UUJBdTFPVnF6TUdBUDB5Vks5WDcrYlBEYWtjQzdFVDRVNHgwOWJyMDlrUkdzK1g2c1ZtUnhQNUUrN2ZSdU96ZjNzU2daVG5xalhaS1R1YlZidm16L1RWeWhmZ05wdGYrQWdvUHhxdE9TdytYNDlTQ0JKMUlGR1BsUXYvZjE3S2wwZVNRNUhTa0JwQVJMbitJcXJjV0Z0N0U1R0JIeFJvVFh4anZMb01DdnZnUXUwNTBVR28xTTRtVG9JdUhhRFlBNXdmbmFPaC8xcU9rS0hwTERsLzNBNU51UnY1UFY1Y3lXZm1vK0lpSWlJNkEzNmZFQklwcHVvdXNwZDYrc3JoMENmRHdqSmRCdGRWN2xyZlgzbDRQV0hGcTgza2VsR3lxNXkxL3I2eWtIUTV3UGU2Z0lhK1VMNWhoZTFYRzJsTGROZnRUSlFXVGpUMytyMHQ4NzZCWGpUMVk1T2tpNW8rd1YrM3NFSDBCVkFLemVGaUhvMStPSUNydzZIOHZOMGxsOHZrZHZTOGVxWi9TOFk3UkUvLy95ek1OdFRQcEc4S1FIR0I0dXNldThGYVRCdUVNc3ZtRUwrL0lTQVlIdEU4K3VRVjVYKzJ5TmdnYjZEemtLQTdXOFhoWUwxV3l6RVp3SHEyMFpXMElHQWNCZFEzNzdWeGNSRFhRUkNCSHE3bENENXFTd1pXTFg1ZzZEUEIxZ0d0V1lRMUlNWUhhU0F5dTVCMVRwSTB2cnBJR3VtTi95NFpOVUhXam1Jb1c5amZXK2pYZVV3aG5aaytqcFNYZVV3aG5abCs3clNYZVdJaUlpSWlJZ0lEMnJINGRMazBZUDgvOEN3ZkEwSkFEOEI1UXNyS1B3RUNQcFBEOGVONmlzSndTTVRncUI1YzhuazM5K05IZEVDYnZ3WWNOUHZBaEVSRVJFUkVSSGJSbkoxUElIZ0xrakl1bTkwVGNqL0J4b3pFaEZvNndZRTBPdDlsZlRmaGdWUWZhK1UvcVlGbE52Ynk1ZURnSGJ0emRUWDRGQ2RmVzNIZ0t5QnFUKys0cFgrVjhjRytscEFsZi9xNnQvWEFxNjgvbjN2QWc3OXIrMFlFSURXLytyWVFOQUN1a0RwM2Z4R1JJd2Mvd2Uwd0lxYWdteTdHQUFBQUNWMFJWaDBaR0YwWlRwamNtVmhkR1VBTWpBeE5TMHdNeTB4TVZRd09EbzBOem94TVMwd056b3dNSkk5SDJ3QUFBQWxkRVZZZEdSaGRHVTZiVzlrYVdaNUFESXdNVFV0TURNdE1URlVNRGM2TlRrNk16VXRNRGM2TURDdFBiNzRBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQUFCSlJVNUVya0pnZ2c9PVwiKTtcblxuLyoqKi8gfSksXG4vKiAyNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQVFBQUFBRHdDQU1BQUFEWVNVcjVBQUFCRGxCTVZFWC8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBucWZ6UmdXQUFBQVdYUlNUbE1BR1JBekJBaFF2NEtaTHlKVmNVQm1ZQm9UTXN3TklUd1dRa2hMSUI1YUl5Y3hVeXlGTkllQXcyckl6OFk0UlJ5OHVMNThxN1dsaktxb3JSK3lLZjBCbmxFazd3b0dBZ09Qb21LVVNxQ3ZiZCtjUjJNL2IzK1JhUGxBWHZFQUFBQUJZa3RIUkFDSUJSMUlBQUFBQ1hCSVdYTUFBQUJJQUFBQVNBQkd5V3MrQUFBUFpFbEVRVlI0MnUxZEMyUGJ0aEVHeVVpcTZaaVNYYmxMRTZleDFtVE81aVhacSt1NnJvM2FiRzI2cE9rU2QxM3YvLytSQVh6aGNJZUhXTW9VYmVPVExlc0lFTUI5UElCM0FDZ0xFUkVSTVFJa2tPeTZDVHZXSDBiT1FPL21KZURYUDhFTXFNekRFa0lzRUJSTUFtaDdqSFNWbXVBakFLd0M4RlJBemk4L0Rtb1MxQUk1QVFsdGo1Rk9yeUFqZ0o3T0syQ1prd0VaWU8yM3ErQko1d3dLa3R0ZnVpMXo0czIwVlRBTDVrMmtGNWhiaVBjS2N3dndOR0I0QzdDVHdwcm9JNENkRGN4RVBLVVRFeHgrRE5pQWowdTlDOUF1TlB4ZFlPZTQ2WTVRUkVSRVJFUkV4SWh4Nlo3Z2p2MmdoRVZyUUozM2hKNUJzeHNCZnNJcThNMEhzQWtoV2ZxZ2xGZ2F3QWhnR1doMk0xeE1XQVdVQUU5MHFVb2ZNaGhpN2JlMzJKTnNtVkZKUEtlTHdCUWdsQVFNTmgzQUxWalliTmFJMWphWUQwak0wbnc5YXRjV1lFWGlhWEgvK1FEZVEzWTZCb1J4M2U4Q0VSRVJFUkVSRVJHN1F6L0hQK2lhQnN2dkhYajBMQUQ0Y2lwMHlOMjdmWHc3QUd0UW9EVHdIK0hxa1dUZ1djelR3WlZtcjhEYkFFdXF2MzViQ1Q2Q1dEb3JqR25BcXdPU0NJN0VobEZXSGprQlhJa2IxTS9EWlFnUndDZUF3SzlCK0hSUEZsUEJPamVac3pLejB3SzkvRmx6ZUUzSTI0R0V6VUlJNDViVC9TWWFycUdMZXNFK2J0bERCUDcwUUlua2NrRHdnZ1FxQUdHdDA1MjY2N3ZBSlo4ZnZrMUdSRVJFUkVSRTNGVDAzNWJhMDgxSUxMdlIzVVhhL05EZ1VsV2crbTROMktnQ2Z6elAxbFl0RFVEcEFpOU9iZURWcWN6dTRBU3N5L3U4a2F4SWQvMlcrSllxNENzYnJCY1Y4U1B3OGlSdnJXV3plK0lsSUxBM1hGak56TWVBbDcvRU10MFRtSDR3d3RrbUhHNE9zTFZ6WWtFc0hMWkU0K3lSRGJGQkEreXBWb1pKNmZSOGl3MjRUMmNFc0JidzVwbnB0SXVGQ2JBM3dIa0pOMHBtQWJPYkFPdmFPbCtoZDE0QTFnVklGd2wyQVhzdlQ1dzVHTVBlelFFOGo4WEFoRm1BWUN2MEFRTElJRWhTMmJBVW1zR2g5VnV1a1QvWjNnb0hnWnNFN3dFTDRKbkhQUit3NitkaklpSWlJaUlpUm8zTHZZdHpSNFU4S21zNVk3dU9SYmc0NkphOW8vN0FqK0RvejNvR1ptMmo5WEtpTWMwTVRwR3Q3UGdYdnJvRDJHNXgwM2VzMWlZOVQ0Y0hYSDFMQm1BS0N5UDY5QklDOWpMN0V1Qit2cnRNOG53L2dHMCt3MXl2WnUzMUJRZk51ZUE2ZmVzRU5PR21pNERFRWc3enBudmlLWjV1VzUwR2tncit6TEJGQ2hKTEMxbTRDOWhFd2R1SExhWFJDUkh2bmhVckFiUkxiRDI4MDRPYW1reGcwWm41Zkw4bG5RaTJibzhKWWZ3RUNBa1IzaC9takE2TFRza1RJNEhvTmJRSktEVC80SjgvdW9hNDd2cEZSRVJFUkZ4dnBGZjhSbVp4TzhDM1hFVzk0VitpLzVpV0FxekxMS2IzbFFaWEF5RWxoWHBGSVVhMUdNSzJMZ3NVcnloVlUwaFJNR1RHZHlsVUZxRHpDK3NTT0NOd0xOMEdlUFJDdDlkTC9ZM296Q0FBS2hLTWVKYUtXTjhFeGtXQVpmbWRFNVFTbVJLQS93cEw3SWFPSlcwWEcwc1gyTUFDV0g1engwWkZrTU1DNkg2Rmh1N1I2TTkwWkdNQXlXR2RvVW0xbGRBeHdMSkJaalRtcjl0a1NQaVBZOGhIK1ZPN1FtRDVwRERnZDJWMllJRFQwZTBpMFh1Z0Q4a0lDZWlMTHZwSFJFUkVSTndzWk1wUHlEYlBmMnNpY1d1bzFrMWw0MlpUWDQ3M0FwNGI3Rld1a2t2RmpDWm5majV1aVJ3Z0Y3ZElBZWlNZlNudUM0ZE1FOFh0R3VTRVJpVTRLSW9wY3ZiS3p3WWhwVnMwNTd1ZkczRlJhN2d3OUcxYlRHVzJzclZmcHpldG51UXdtVUErTVJvZ1dEQkI5OXBhaGVyQTNGWmpHNlFWUlpGV0lJVE1EQUlRQTZCTWRLSnIzRE1Ja0VVZlNyU3VORFFXNEZydnJvclRCVTVnY25UMFBtQUNsc3VsL3drTWdRa1FBUUwyRFFKQnFZNE9TRUlTVEVqVlFKUHdZd1dYQmNBVTBCOVZjVDBHQUdxZzBlTGo4dlJqVGNEUkIvdS9NZ2k0YytjTzJ4N3Zsc2tCU29EUy8wTk1nR2xTSVBVSFRsR0twdjNnam9MVEFnNlY2akE5MVBNQVdXbi9MUUdxZkRURlZoV25DNVJkNE81ZDNBV1dRbDRDK2Q2ZWtKV3ZYMGlBMHYvMnZRL2RCQ1RrZ0R5U0pJY0pDbUhnNU9URVBRYkFvV1JBNm84SktIOWFBc3BCRUJGd1g1MTkvMzV6NEtnYUJJK0lPdWdFVGdCN1JFTVFBajdDOHhQenhXMzVYcmdJb0JYQ2d4S293dFBUVTlBbXlpd2dPNXhPNVp2dUFxWHNKdUMwUW4wZ3llR0RQRjlCanA4UlFsMUlIdmgxK2NMNlRpZ0JFMElBR0JZdzEvcDdDR2lMKzdnRU1ibEpTd0MxZ095d1JIT0ptQXhxakoyQzBTZnp2TDBMNUUzOXVkTUNPQUdoTG9EVHF6R3dhRE8zQkdSbWZXMXhsUjhBN3drSGlBV0Vib05WZStibUhFeW1iOTNBRlE0TWVndGNQVDlBQ1NnWktNVDJrR1dMRWgxOFBjYWg2YnFFczBPdmFhWDlyZW9mRVJFUkVURnlQSHpvVDAvQk82OE5ZTnY2U0pEcGNQZFJlWnQ2MUloMXNOM0cyUE5hbnJmblZxN0ovc2F5RUw4aDdTbTg5elVaYlIyVFEvSzJqZlhQTXMzQVRIbVJaL2tVQlR1eXlmTzkxcEd6VXBIcDQ0OXFWN3hoUUo2c1FGYWFUTThtVjY3Z3huSjFQVm9OQ3VYTXBlMjlQVlhjenZFMWZRendtT2l2SEtVVHJiL3l6ZHZvTjdFN1lpaWNoOS9LMXdGdVVDYXZjNGJ5RzJ1RE5MWVF2eFBuNHZjNHZzMmxrQnV5TU9YanlUR1NWZnNYQzFjRG9YYjJhN2t4T0dSeHNyR0xWTHVPMVl4RkcxMXhBa2c0RE9MSi9hZlA3dDFIMDBhWnRPOE10OGRMd0IvZ2ovTDFKNnlnY3YySmpJTVBHUnRQY3VyN3RuTHR6S2YyK2g0Mklob0habkN3a0J4VXdsNHpZN1BuSXFBZUJaQUZITUNmNGFGdWtOUWZUZG1GTGVBdjRoUHhWejJsZEVvczRKUll3Q214Z0lVUmU4Z2VVQTFTYlh4TDZ2dTBrajV0RzFnRzh6aDJBRFVHYVAzQ0JEeTUvOUVEK2JMclgzdnFtSUFVeWxtblJ2NGJmQ1pmZjBjN0pvdytYc3J2RXhtbGwvMVg0b0dEZ0NhNlM0MEdFZnNSR09Zb0Q1T3BPREhpUlVKQVJoZ20rcmM3SWt3Q2tQejVKM2RtZC83eFJTMGZOc1h0YnlZdnpLc25XQmVvWlN3K2ZxeGxaZnZ0ZktlVkFFR2c5Z2lsd2owcENXU1MrMUhkWUgwWFVGdU1oS3RMcU81T2l2UExndWpQQS9nVTZ5K2VmaW1Idi9tWFQxc0NaUDlQUGVjelJlZHNFRFVuV2Rra1AvRUQ2TFEza1czZkFPT1RGMVIvZWhzVTFhWXVuVnl1Q053dTJ2T0JsV0FnRjFjUVJZY0EzL0NCSWlJaUlpSjJnQ21lbUZhdUhKeXlQTS8xeDB2ZVdsZ3VSWGp2ZnRDbkJTbXM1ZnNhMzVyUEFMbWFIOEpYWDMzOU5YeUJtbk9nOUM4aFA2enV3Wk1uY0cvVnBKUDlGczEwUXpQZjBNcjBRQnU4VWI4cGg5bDArc0pnd1AvbFlpRXNaRms1aWpaQk1yQ20zdmlKOXJ6K3FmQXY3WXF1cDdLQUJRdHUyblN5VkVzKzFNR3J6aU5keDB3R08zcHhzRXJRd1pWeWpOZnd3ckpiOWhjU29Gd3RkSWJTdmZ3MURVQVQ4TTIzejU5Lys0MXV6MVJBc2NBck81UUFZOHNJbEpOUmFNTkRLcXFwaWxUNzJwbWFqMEVFUEZOcmRiakN0V0xkUlFBTkw3bTZKTDFhM2RNV3RTNWxyWDlxNW9mUzF2ZmIwMS9LcEJseVYyRkNObVNZNTVmcm9DZ0RxTUJUeG5NQ1c4QjhqdmVyNTZ1VkNpODFBVkovZ2FiQUtPTTBXTENMeE1UYjlqYzJnUFN2cm1BekJud0creEx3c3MxUUZNYjVjT3duNEVoK1BGSS9UYkl5c0NtY0lBc2cwZXV6WjRmUFZuRFdGdmhDdFc2MlBRS29CWHhYeXMyc1hLMi9WakJmbHpneFQ5ZUV5VXQ2Zkh4c0VGQmYyZXJQaWNUbjhvZHNlRmc3eDREVlNuVUFQQWkrbUU1bld4d0V5Ump3WFQwRzFBd28vUXNqSEYycDlwN28wOWNIY0lZWVVBVWRvV0d2bWJ4cDlQdjQ0L3FIR0loekRKaG1xOVVLVnBnQmVodmM5bDNnc1pxWTFlMmhvZHQ2UHRjVFZuSUVsRCtwWmdDTVA4M0gvZVlBdlEyV0ZsSENNUWJBVkFFVFlMdUdmUWdnU010ci83anhBeXg3Qk0wUlZsckxpMVNObE0rYjFIOC9TY3l2ZFJIbHFGRkxrMHhONldYTmhvM3Vmc0R1Y2ZUcTFSRVNGd2VLcS9SNXl4aHRNTnM1R1JFUkVkRUxVN3c3K3ZYM2FvajUvdld1R3pVZzNnQzhhWVVmbWxIM2gxMDNhekRjVmVyZXJZWFgxUjFIdldzYldNSVNuL0FmaXpNanRyZnpiRm55dit4ZjBLWjRvd0tveGdUZWFnTGV0am1JMjJEekl3cE5DVnQ2b0Flb0RFdDFUMTk2eTc5RTNLMFV2b3NxcDY0SGEwOUtEeFRhS0FJYk41WDhidkxPWEoxbDFRMUpnQndCVkFqOXhxamNiTU1jTDR4Vit1dmx4Y0xVMzdaMWQ1RXVzSDd2NU5zN0k4Tnlod1FVemZVdTNBUVVwTXNEbktjNERldHZJeUExVEtiY2FENHh3bW1EZ0F5V3krVnducTVXMkUwQVB3ZnBMM1UzQnNYZUZqRHNJRmdhUVBYUVRLbkRLMDNBSzVTcDhCZUEwM3VQQWNOR2EzVFFlNnJGcHpnVE9Za3dZUERUK3k0Z3hJQkQ0RklyWExYZ29oRXZzSTUwRE1CU3NmM2Q1enNOMW45VTA3THc4c2RkdG1GTXN4VVJFUkVSRVJHWGpBSjg0bVVEWnNTUjJlZ0ppVDdZMjZQNmcwZThmQUtBVUdBUVVLYWxPRU14UzlXYmtVR0Z6STA4cnpLNXc5dUMrTTRGUzRaeWhXeEFBa3dLVEFLcXRMYk41ZVdSNnRFTUJnRTRuUk5BZzBVK0dXQnV4aDJFQUx3Wm1CSlFUbi9ValN6L3pIQ2I2d3lZZ0psRnA3REdocmpOL3grd0VRRURXc0JHQkF4c0FjT09BUlE3SHdNR3ZndncrWTRkM3dWR2dOMzZBUkVSRVJFUk54dis1OGl1TzlML0N2anBjN1IzVTNvcFp6Zm9lM0xWYzZUd1U0R2VaOGlMbDVZSEtCcmZoSDcvUVZkNWRGakQveVFCQXUxT1Zxek1HQVAweVZLOVg3K2JQRGFrY0M3RVQ0VTR4MDlicjA5a1JHcytYNnNWbVJ4UDVFKzdmUnVPemYzc1NnWlRucWpYWktUdWJWYnZtei9UVnloZmdOcHRmK0Fnb1B4cXRPU3crWDQ5U0NCSjFJRkdQbFF2L2YxN0tsMGVTUTVIU2tCcEFSTG4rSXFyY1dGdDdFNUdCSHhSb1RYeGp2TG9NQ3Z2Z1F1MDUwVUdvMU00bVRvSXVIYURZQTV3Zm5hT2gvMXFPa0tIcExEbC8zQTVOdVJ2NVBWNWN5V2ZtbytJaUlpSTZBMzZmRUJJcHB1b3VzcGQ2K3NyaDBDZkR3akpkQnRkVjdscmZYM2w0UFdIRnE4M2tlbEd5cTV5MS9yNnlrSFE1d1BlNmdJYStVTDVoaGUxWEcybExkTmZ0VEpRV1RqVDMrcjB0ODc2QlhqVDFZNU9raTVvK3dWKzNzRUgwQlZBS3plRmlIbzErT0lDcnc2SDh2TjBsbDh2a2R2UzhlcVovUzhZN1JFLy8veXpNTnRUUHBHOEtRSEdCNHVzZXU4RmFUQnVFTXN2bUVMKy9JU0FZSHRFOCt1UVY1WCsyeU5nZ2I2RHprS0E3VzhYaFlMMVd5ekVad0hxMjBaVzBJR0FjQmRRMzc3VnhjUkRYUVJDQkhxN2xDRDVxU3daV0xYNWc2RFBCMWdHdFdZUTFJTVlIYVNBeXU1QjFUcEkwdnJwSUd1bU4veTRaTlVIV2ptSW9XOWpmVytqWGVVd2huWmsranBTWGVVd2huWmwrN3JTWGVXSWlJaUlpSWdJRDJySDRkTGswWVA4LzhDd2ZBMEpBRDhCNVFzcktQd0VDUHBQRDhlTjZpc0p3U01UZ3FCNWM4bmszOStOSGRFQ2J2d1ljTlB2QWhFUkVSRVJFUkhiUm5KMVBJSGdMa2pJdW05MFRjai9CeG96RWhGbzZ3WUUwT3Q5bGZUZmhnVlFmYStVL3FZRmxOdmJ5NWVEZ0hidHpkVFg0RkNkZlczSGdLeUJxVCsrNHBYK1Y4Y0crbHBBbGYvcTZ0L1hBcTY4L24zdkFnNzlyKzBZRUlEVy8rcllRTkFDdWtEcDNmeEdSSXdjL3dlMHdJcWFnbXk3R0FBQUFDVjBSVmgwWkdGMFpUcGpjbVZoZEdVQU1qQXhOUzB3TXkweE1WUXdPRG8wTnpveE1TMHdOem93TUpJOUgyd0FBQUFsZEVWWWRHUmhkR1U2Ylc5a2FXWjVBREl3TVRVdE1ETXRNVEZVTURjNk5UazZNelV0TURjNk1EQ3RQYjc0QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFBQkpSVTVFcmtKZ2dnPT1cIik7XG5cbi8qKiovIH0pLFxuLyogMjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDZ0FBQUFvRUFBQUFBRDVCVHZ5QUFBQUFtSkxSMFQvL3hTck1jMEFBQUFKY0VoWmN3QUFBRWdBQUFCSUFFYkphejRBQUFCNlNVUkJWRWpIN2RYTEVZQWdERVZScWswSE5tcEZNZ3hpK0xudzNaMGhTekpubVp1Tzh4NmIzdlBuNTMwdnNWd0RLYTZDSEZkQWtzc2d5eTFBalROTExEZUFPdGVCQk9kQWhtc2d4VldRNHdwSWNobGt1UTM0blhQbmkrRVdvTVpOb01vTm9NNTFJTUZGVTNRdW1xSnowUlNkaTZibzNDK2JjZ0hhcDZJcnlPU2QrQUFBQUNWMFJWaDBaR0YwWlRwamNtVmhkR1VBTWpBeE5TMHdNeTB4TVZRd09EbzBPVG96TlMwd056b3dNRHFlRExFQUFBQWxkRVZZZEdSaGRHVTZiVzlrYVdaNUFESXdNVFV0TURNdE1URlVNRGc2TkRrNk16VXRNRGM2TURCTHc3UU5BQUFBQUVsRlRrU3VRbUNDXCIpO1xuXG4vKioqLyB9KSxcbi8qIDI3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ2dBQUFCa0FRQUFBQURjSDAvWEFBQUFBbUpMUjBRQUFkMktFNlFBQUFBSmNFaFpjd0FBQUVnQUFBQklBRWJKYXo0QUFBQVBTVVJCVkNqUFkyQVlCYU9BK2dBQUFsZ0FBWFUyaG5jQUFBQWxkRVZZZEdSaGRHVTZZM0psWVhSbEFESXdNVFV0TURNdE1URlVNRGc2TkRrNk16VXRNRGM2TURBNm5neXhBQUFBSlhSRldIUmtZWFJsT20xdlpHbG1lUUF5TURFMUxUQXpMVEV4VkRBNE9qUTVPak0xTFRBM09qQXdTOE8wRFFBQUFBQkpSVTVFcmtKZ2dnPT1cIik7XG5cbi8qKiovIH0pLFxuLyogMjggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGpRdWVyeSkgey8qIVxuICogalF1ZXJ5IEJCUTogQmFjayBCdXR0b24gJiBRdWVyeSBMaWJyYXJ5IC0gdjEuM3ByZSAtIDgvMjYvMjAxMFxuICogaHR0cDovL2JlbmFsbWFuLmNvbS9wcm9qZWN0cy9qcXVlcnktYmJxLXBsdWdpbi9cbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDEwIFwiQ293Ym95XCIgQmVuIEFsbWFuXG4gKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlcy5cbiAqIGh0dHA6Ly9iZW5hbG1hbi5jb20vYWJvdXQvbGljZW5zZS9cbiAqL1xuXG4vLyBTY3JpcHQ6IGpRdWVyeSBCQlE6IEJhY2sgQnV0dG9uICYgUXVlcnkgTGlicmFyeVxuLy9cbi8vICpWZXJzaW9uOiAxLjNwcmUsIExhc3QgdXBkYXRlZDogOC8yNi8yMDEwKlxuLy8gXG4vLyBQcm9qZWN0IEhvbWUgLSBodHRwOi8vYmVuYWxtYW4uY29tL3Byb2plY3RzL2pxdWVyeS1iYnEtcGx1Z2luL1xuLy8gR2l0SHViICAgICAgIC0gaHR0cDovL2dpdGh1Yi5jb20vY293Ym95L2pxdWVyeS1iYnEvXG4vLyBTb3VyY2UgICAgICAgLSBodHRwOi8vZ2l0aHViLmNvbS9jb3dib3kvanF1ZXJ5LWJicS9yYXcvbWFzdGVyL2pxdWVyeS5iYS1iYnEuanNcbi8vIChNaW5pZmllZCkgICAtIGh0dHA6Ly9naXRodWIuY29tL2Nvd2JveS9qcXVlcnktYmJxL3Jhdy9tYXN0ZXIvanF1ZXJ5LmJhLWJicS5taW4uanMgKDIuMmtiIGd6aXBwZWQpXG4vLyBcbi8vIEFib3V0OiBMaWNlbnNlXG4vLyBcbi8vIENvcHlyaWdodCAoYykgMjAxMCBcIkNvd2JveVwiIEJlbiBBbG1hbixcbi8vIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzLlxuLy8gaHR0cDovL2JlbmFsbWFuLmNvbS9hYm91dC9saWNlbnNlL1xuLy8gXG4vLyBBYm91dDogRXhhbXBsZXNcbi8vIFxuLy8gVGhlc2Ugd29ya2luZyBleGFtcGxlcywgY29tcGxldGUgd2l0aCBmdWxseSBjb21tZW50ZWQgY29kZSwgaWxsdXN0cmF0ZSBhIGZld1xuLy8gd2F5cyBpbiB3aGljaCB0aGlzIHBsdWdpbiBjYW4gYmUgdXNlZC5cbi8vIFxuLy8gQmFzaWMgQUpBWCAgICAgLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWJicS9leGFtcGxlcy9mcmFnbWVudC1iYXNpYy9cbi8vIEFkdmFuY2VkIEFKQVggIC0gaHR0cDovL2JlbmFsbWFuLmNvbS9jb2RlL3Byb2plY3RzL2pxdWVyeS1iYnEvZXhhbXBsZXMvZnJhZ21lbnQtYWR2YW5jZWQvXG4vLyBqUXVlcnkgVUkgVGFicyAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktYmJxL2V4YW1wbGVzL2ZyYWdtZW50LWpxdWVyeS11aS10YWJzL1xuLy8gRGVwYXJhbSAgICAgICAgLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWJicS9leGFtcGxlcy9kZXBhcmFtL1xuLy8gXG4vLyBBYm91dDogU3VwcG9ydCBhbmQgVGVzdGluZ1xuLy8gXG4vLyBJbmZvcm1hdGlvbiBhYm91dCB3aGF0IHZlcnNpb24gb3IgdmVyc2lvbnMgb2YgalF1ZXJ5IHRoaXMgcGx1Z2luIGhhcyBiZWVuXG4vLyB0ZXN0ZWQgd2l0aCwgd2hhdCBicm93c2VycyBpdCBoYXMgYmVlbiB0ZXN0ZWQgaW4sIGFuZCB3aGVyZSB0aGUgdW5pdCB0ZXN0c1xuLy8gcmVzaWRlIChzbyB5b3UgY2FuIHRlc3QgaXQgeW91cnNlbGYpLlxuLy8gXG4vLyBqUXVlcnkgVmVyc2lvbnMgLSAxLjIuNiwgMS4zLjIsIDEuNC4xLCAxLjQuMlxuLy8gQnJvd3NlcnMgVGVzdGVkIC0gSW50ZXJuZXQgRXhwbG9yZXIgNi04LCBGaXJlZm94IDItNCwgQ2hyb21lIDUtNiwgU2FmYXJpIDMuMi01LFxuLy8gICAgICAgICAgICAgICAgICAgT3BlcmEgOS42LTEwLjYwLCBpUGhvbmUgMy4xLCBBbmRyb2lkIDEuNi0yLjIsIEJsYWNrQmVycnkgNC42LTUuXG4vLyBVbml0IFRlc3RzICAgICAgLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWJicS91bml0L1xuLy8gXG4vLyBBYm91dDogUmVsZWFzZSBIaXN0b3J5XG4vLyBcbi8vIDEuM3ByZSAtICg4LzI2LzIwMTApIEludGVncmF0ZWQgPGpRdWVyeSBoYXNoY2hhbmdlIGV2ZW50PiB2MS4zLCB3aGljaCBhZGRzXG4vLyAgICAgICAgIGRvY3VtZW50LnRpdGxlIGFuZCBkb2N1bWVudC5kb21haW4gc3VwcG9ydCBpbiBJRTYvNywgQmxhY2tCZXJyeVxuLy8gICAgICAgICBzdXBwb3J0LCBiZXR0ZXIgSWZyYW1lIGhpZGluZyBmb3IgYWNjZXNzaWJpbGl0eSByZWFzb25zLCBhbmQgdGhlIG5ld1xuLy8gICAgICAgICA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2U+IFwic2hvcnRjdXRcIiBtZXRob2QuIEFkZGVkIHRoZVxuLy8gICAgICAgICA8alF1ZXJ5LnBhcmFtLnNvcnRlZD4gbWV0aG9kIHdoaWNoIHJlZHVjZXMgdGhlIHBvc3NpYmlsaXR5IG9mXG4vLyAgICAgICAgIGV4dHJhbmVvdXMgaGFzaGNoYW5nZSBldmVudCB0cmlnZ2VyaW5nLiBBZGRlZCB0aGVcbi8vICAgICAgICAgPGpRdWVyeS5wYXJhbS5mcmFnbWVudC5hamF4Q3Jhd2xhYmxlPiBtZXRob2Qgd2hpY2ggY2FuIGJlIHVzZWQgdG9cbi8vICAgICAgICAgZW5hYmxlIEdvb2dsZSBcIkFKQVggQ3Jhd2xhYmxlIG1vZGUuXCJcbi8vIDEuMi4xIC0gKDIvMTcvMjAxMCkgQWN0dWFsbHkgZml4ZWQgdGhlIHN0YWxlIHdpbmRvdy5sb2NhdGlvbiBTYWZhcmkgYnVnIGZyb21cbi8vICAgICAgICAgPGpRdWVyeSBoYXNoY2hhbmdlIGV2ZW50PiBpbiBCQlEsIHdoaWNoIHdhcyB0aGUgbWFpbiByZWFzb24gZm9yIHRoZVxuLy8gICAgICAgICBwcmV2aW91cyByZWxlYXNlIVxuLy8gMS4yICAgLSAoMi8xNi8yMDEwKSBJbnRlZ3JhdGVkIDxqUXVlcnkgaGFzaGNoYW5nZSBldmVudD4gdjEuMiwgd2hpY2ggZml4ZXMgYVxuLy8gICAgICAgICBTYWZhcmkgYnVnLCB0aGUgZXZlbnQgY2FuIG5vdyBiZSBib3VuZCBiZWZvcmUgRE9NIHJlYWR5LCBhbmQgSUU2Lzdcbi8vICAgICAgICAgcGFnZSBzaG91bGQgbm8gbG9uZ2VyIHNjcm9sbCB3aGVuIHRoZSBldmVudCBpcyBmaXJzdCBib3VuZC4gQWxzb1xuLy8gICAgICAgICBhZGRlZCB0aGUgPGpRdWVyeS5wYXJhbS5mcmFnbWVudC5ub0VzY2FwZT4gbWV0aG9kLCBhbmQgcmV3b3JrZWQgdGhlXG4vLyAgICAgICAgIDxoYXNoY2hhbmdlIGV2ZW50IChCQlEpPiBpbnRlcm5hbCBcImFkZFwiIG1ldGhvZCB0byBiZSBjb21wYXRpYmxlIHdpdGhcbi8vICAgICAgICAgY2hhbmdlcyBtYWRlIHRvIHRoZSBqUXVlcnkgMS40LjIgc3BlY2lhbCBldmVudHMgQVBJLlxuLy8gMS4xLjEgLSAoMS8yMi8yMDEwKSBJbnRlZ3JhdGVkIDxqUXVlcnkgaGFzaGNoYW5nZSBldmVudD4gdjEuMSwgd2hpY2ggZml4ZXMgYW5cbi8vICAgICAgICAgb2JzY3VyZSBJRTggRW11bGF0ZUlFNyBtZXRhIHRhZyBjb21wYXRpYmlsaXR5IG1vZGUgYnVnLlxuLy8gMS4xICAgLSAoMS85LzIwMTApIEJyb2tlIG91dCB0aGUgalF1ZXJ5IEJCUSBldmVudC5zcGVjaWFsIDxoYXNoY2hhbmdlIGV2ZW50PlxuLy8gICAgICAgICBmdW5jdGlvbmFsaXR5IGludG8gYSBzZXBhcmF0ZSBwbHVnaW4gZm9yIHVzZXJzIHdobyB3YW50IGp1c3QgdGhlXG4vLyAgICAgICAgIGJhc2ljIGV2ZW50ICYgYmFjayBidXR0b24gc3VwcG9ydCwgd2l0aG91dCBhbGwgdGhlIGV4dHJhIGF3ZXNvbWVuZXNzXG4vLyAgICAgICAgIHRoYXQgQkJRIHByb3ZpZGVzLiBUaGlzIHBsdWdpbiB3aWxsIGJlIGluY2x1ZGVkIGFzIHBhcnQgb2YgalF1ZXJ5IEJCUSxcbi8vICAgICAgICAgYnV0IGFsc28gYmUgYXZhaWxhYmxlIHNlcGFyYXRlbHkuIFNlZSA8alF1ZXJ5IGhhc2hjaGFuZ2UgZXZlbnQ+XG4vLyAgICAgICAgIHBsdWdpbiBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gQWxzbyBhZGRlZCB0aGUgPGpRdWVyeS5iYnEucmVtb3ZlU3RhdGU+XG4vLyAgICAgICAgIG1ldGhvZCBhbmQgYWRkZWQgYWRkaXRpb25hbCA8alF1ZXJ5LmRlcGFyYW0+IGV4YW1wbGVzLlxuLy8gMS4wLjMgLSAoMTIvMi8yMDA5KSBGaXhlZCBhbiBpc3N1ZSBpbiBJRSA2IHdoZXJlIGxvY2F0aW9uLnNlYXJjaCBhbmRcbi8vICAgICAgICAgbG9jYXRpb24uaGFzaCB3b3VsZCByZXBvcnQgaW5jb3JyZWN0bHkgaWYgdGhlIGhhc2ggY29udGFpbmVkIHRoZSA/XG4vLyAgICAgICAgIGNoYXJhY3Rlci4gQWxzbyA8alF1ZXJ5LnBhcmFtLnF1ZXJ5c3RyaW5nPiBhbmQgPGpRdWVyeS5wYXJhbS5mcmFnbWVudD5cbi8vICAgICAgICAgd2lsbCBubyBsb25nZXIgcGFyc2UgcGFyYW1zIG91dCBvZiBhIFVSTCB0aGF0IGRvZXNuJ3QgY29udGFpbiA/IG9yICMsXG4vLyAgICAgICAgIHJlc3BlY3RpdmVseS5cbi8vIDEuMC4yIC0gKDEwLzEwLzIwMDkpIEZpeGVkIGFuIGlzc3VlIGluIElFIDYvNyB3aGVyZSB0aGUgaGlkZGVuIElGUkFNRSBjYXVzZWRcbi8vICAgICAgICAgYSBcIlRoaXMgcGFnZSBjb250YWlucyBib3RoIHNlY3VyZSBhbmQgbm9uc2VjdXJlIGl0ZW1zLlwiIHdhcm5pbmcgd2hlblxuLy8gICAgICAgICB1c2VkIG9uIGFuIGh0dHBzOi8vIHBhZ2UuXG4vLyAxLjAuMSAtICgxMC83LzIwMDkpIEZpeGVkIGFuIGlzc3VlIGluIElFIDguIFNpbmNlIGJvdGggXCJJRTdcIiBhbmQgXCJJRThcbi8vICAgICAgICAgQ29tcGF0aWJpbGl0eSBWaWV3XCIgbW9kZXMgZXJyb25lb3VzbHkgcmVwb3J0IHRoYXQgdGhlIGJyb3dzZXJcbi8vICAgICAgICAgc3VwcG9ydHMgdGhlIG5hdGl2ZSB3aW5kb3cub25oYXNoY2hhbmdlIGV2ZW50LCBhIHNsaWdodGx5IG1vcmVcbi8vICAgICAgICAgcm9idXN0IHRlc3QgbmVlZGVkIHRvIGJlIGFkZGVkLlxuLy8gMS4wICAgLSAoMTAvMi8yMDA5KSBJbml0aWFsIHJlbGVhc2VcblxuKGZ1bmN0aW9uKCQsd2luZG93KXtcbiAgJyQ6bm9tdW5nZSc7IC8vIFVzZWQgYnkgWVVJIGNvbXByZXNzb3IuXG4gIFxuICAvLyBTb21lIGNvbnZlbmllbnQgc2hvcnRjdXRzLlxuICB2YXIgdW5kZWZpbmVkLFxuICAgIGFwcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZSxcbiAgICBkZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQsXG4gICAgXG4gICAgLy8gTWV0aG9kIC8gb2JqZWN0IHJlZmVyZW5jZXMuXG4gICAganFfcGFyYW0gPSAkLnBhcmFtLFxuICAgIGpxX3BhcmFtX3NvcnRlZCxcbiAgICBqcV9wYXJhbV9mcmFnbWVudCxcbiAgICBqcV9kZXBhcmFtLFxuICAgIGpxX2RlcGFyYW1fZnJhZ21lbnQsXG4gICAganFfYmJxID0gJC5iYnEgPSAkLmJicSB8fCB7fSxcbiAgICBqcV9iYnFfcHVzaFN0YXRlLFxuICAgIGpxX2JicV9nZXRTdGF0ZSxcbiAgICBqcV9lbGVtVXJsQXR0cixcbiAgICBzcGVjaWFsID0gJC5ldmVudC5zcGVjaWFsLFxuICAgIFxuICAgIC8vIFJldXNlZCBzdHJpbmdzLlxuICAgIHN0cl9oYXNoY2hhbmdlID0gJ2hhc2hjaGFuZ2UnLFxuICAgIHN0cl9xdWVyeXN0cmluZyA9ICdxdWVyeXN0cmluZycsXG4gICAgc3RyX2ZyYWdtZW50ID0gJ2ZyYWdtZW50JyxcbiAgICBzdHJfZWxlbVVybEF0dHIgPSAnZWxlbVVybEF0dHInLFxuICAgIHN0cl9ocmVmID0gJ2hyZWYnLFxuICAgIHN0cl9zcmMgPSAnc3JjJyxcbiAgICBcbiAgICAvLyBSZXVzZWQgUmVnRXhwLlxuICAgIHJlX3BhcmFtc19xdWVyeXN0cmluZyA9IC9eLipcXD98Iy4qJC9nLFxuICAgIHJlX3BhcmFtc19mcmFnbWVudCxcbiAgICByZV9mcmFnbWVudCxcbiAgICByZV9ub19lc2NhcGUsXG4gICAgXG4gICAgYWpheF9jcmF3bGFibGUsXG4gICAgZnJhZ21lbnRfcHJlZml4LFxuICAgIFxuICAgIC8vIFVzZWQgYnkgalF1ZXJ5LmVsZW1VcmxBdHRyLlxuICAgIGVsZW1VcmxBdHRyX2NhY2hlID0ge307XG4gIFxuICAvLyBBIGZldyBjb21tb25seSB1c2VkIGJpdHMsIGJyb2tlbiBvdXQgdG8gaGVscCByZWR1Y2UgbWluaWZpZWQgZmlsZSBzaXplLlxuICBcbiAgZnVuY3Rpb24gaXNfc3RyaW5nKCBhcmcgKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xuICB9O1xuICBcbiAgLy8gV2h5IHdyaXRlIHRoZSBzYW1lIGZ1bmN0aW9uIHR3aWNlPyBMZXQncyBjdXJyeSEgTW1tbSwgY3VycnkuLlxuICBcbiAgZnVuY3Rpb24gY3VycnkoIGZ1bmMgKSB7XG4gICAgdmFyIGFyZ3MgPSBhcHMuY2FsbCggYXJndW1lbnRzLCAxICk7XG4gICAgXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoIHRoaXMsIGFyZ3MuY29uY2F0KCBhcHMuY2FsbCggYXJndW1lbnRzICkgKSApO1xuICAgIH07XG4gIH07XG4gIFxuICAvLyBHZXQgbG9jYXRpb24uaGFzaCAob3Igd2hhdCB5b3UnZCBleHBlY3QgbG9jYXRpb24uaGFzaCB0byBiZSkgc2FucyBhbnlcbiAgLy8gbGVhZGluZyAjLiBUaGFua3MgZm9yIG1ha2luZyB0aGlzIG5lY2Vzc2FyeSwgRmlyZWZveCFcbiAgZnVuY3Rpb24gZ2V0X2ZyYWdtZW50KCB1cmwgKSB7XG4gICAgcmV0dXJuIHVybC5yZXBsYWNlKCByZV9mcmFnbWVudCwgJyQyJyApO1xuICB9O1xuICBcbiAgLy8gR2V0IGxvY2F0aW9uLnNlYXJjaCAob3Igd2hhdCB5b3UnZCBleHBlY3QgbG9jYXRpb24uc2VhcmNoIHRvIGJlKSBzYW5zIGFueVxuICAvLyBsZWFkaW5nICMuIFRoYW5rcyBmb3IgbWFraW5nIHRoaXMgbmVjZXNzYXJ5LCBJRTYhXG4gIGZ1bmN0aW9uIGdldF9xdWVyeXN0cmluZyggdXJsICkge1xuICAgIHJldHVybiB1cmwucmVwbGFjZSggLyg/Ol5bXj8jXSpcXD8oW14jXSopLiokKT8uKi8sICckMScgKTtcbiAgfTtcbiAgXG4gIC8vIFNlY3Rpb246IFBhcmFtICh0byBzdHJpbmcpXG4gIC8vIFxuICAvLyBNZXRob2Q6IGpRdWVyeS5wYXJhbS5xdWVyeXN0cmluZ1xuICAvLyBcbiAgLy8gUmV0cmlldmUgdGhlIHF1ZXJ5IHN0cmluZyBmcm9tIGEgVVJMIG9yIGlmIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkLCB0aGVcbiAgLy8gY3VycmVudCB3aW5kb3cubG9jYXRpb24uaHJlZi5cbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkucGFyYW0ucXVlcnlzdHJpbmcoIFsgdXJsIF0gKTtcbiAgLy8gXG4gIC8vIEFyZ3VtZW50czpcbiAgLy8gXG4gIC8vICB1cmwgLSAoU3RyaW5nKSBBIFVSTCBjb250YWluaW5nIHF1ZXJ5IHN0cmluZyBwYXJhbXMgdG8gYmUgcGFyc2VkLiBJZiB1cmxcbiAgLy8gICAgaXMgbm90IHBhc3NlZCwgdGhlIGN1cnJlbnQgd2luZG93LmxvY2F0aW9uLmhyZWYgaXMgdXNlZC5cbiAgLy8gXG4gIC8vIFJldHVybnM6XG4gIC8vIFxuICAvLyAgKFN0cmluZykgVGhlIHBhcnNlZCBxdWVyeSBzdHJpbmcsIHdpdGggYW55IGxlYWRpbmcgXCI/XCIgcmVtb3ZlZC5cbiAgLy9cbiAgXG4gIC8vIE1ldGhvZDogalF1ZXJ5LnBhcmFtLnF1ZXJ5c3RyaW5nIChidWlsZCB1cmwpXG4gIC8vIFxuICAvLyBNZXJnZSBhIFVSTCwgd2l0aCBvciB3aXRob3V0IHByZS1leGlzdGluZyBxdWVyeSBzdHJpbmcgcGFyYW1zLCBwbHVzIGFueVxuICAvLyBvYmplY3QsIHBhcmFtcyBzdHJpbmcgb3IgVVJMIGNvbnRhaW5pbmcgcXVlcnkgc3RyaW5nIHBhcmFtcyBpbnRvIGEgbmV3IFVSTC5cbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkucGFyYW0ucXVlcnlzdHJpbmcoIHVybCwgcGFyYW1zIFssIG1lcmdlX21vZGUgXSApO1xuICAvLyBcbiAgLy8gQXJndW1lbnRzOlxuICAvLyBcbiAgLy8gIHVybCAtIChTdHJpbmcpIEEgdmFsaWQgVVJMIGZvciBwYXJhbXMgdG8gYmUgbWVyZ2VkIGludG8uIFRoaXMgVVJMIG1heVxuICAvLyAgICBjb250YWluIGEgcXVlcnkgc3RyaW5nIGFuZC9vciBmcmFnbWVudCAoaGFzaCkuXG4gIC8vICBwYXJhbXMgLSAoU3RyaW5nKSBBIHBhcmFtcyBzdHJpbmcgb3IgVVJMIGNvbnRhaW5pbmcgcXVlcnkgc3RyaW5nIHBhcmFtcyB0b1xuICAvLyAgICBiZSBtZXJnZWQgaW50byB1cmwuXG4gIC8vICBwYXJhbXMgLSAoT2JqZWN0KSBBIHBhcmFtcyBvYmplY3QgdG8gYmUgbWVyZ2VkIGludG8gdXJsLlxuICAvLyAgbWVyZ2VfbW9kZSAtIChOdW1iZXIpIE1lcmdlIGJlaGF2aW9yIGRlZmF1bHRzIHRvIDAgaWYgbWVyZ2VfbW9kZSBpcyBub3RcbiAgLy8gICAgc3BlY2lmaWVkLCBhbmQgaXMgYXMtZm9sbG93czpcbiAgLy8gXG4gIC8vICAgICogMDogcGFyYW1zIGluIHRoZSBwYXJhbXMgYXJndW1lbnQgd2lsbCBvdmVycmlkZSBhbnkgcXVlcnkgc3RyaW5nXG4gIC8vICAgICAgICAgcGFyYW1zIGluIHVybC5cbiAgLy8gICAgKiAxOiBhbnkgcXVlcnkgc3RyaW5nIHBhcmFtcyBpbiB1cmwgd2lsbCBvdmVycmlkZSBwYXJhbXMgaW4gdGhlIHBhcmFtc1xuICAvLyAgICAgICAgIGFyZ3VtZW50LlxuICAvLyAgICAqIDI6IHBhcmFtcyBhcmd1bWVudCB3aWxsIGNvbXBsZXRlbHkgcmVwbGFjZSBhbnkgcXVlcnkgc3RyaW5nIGluIHVybC5cbiAgLy8gXG4gIC8vIFJldHVybnM6XG4gIC8vIFxuICAvLyAgKFN0cmluZykgQSBVUkwgd2l0aCBhIHVybGVuY29kZWQgcXVlcnkgc3RyaW5nIGluIHRoZSBmb3JtYXQgJz9hPWImYz1kJmU9ZicuXG4gIFxuICAvLyBNZXRob2Q6IGpRdWVyeS5wYXJhbS5mcmFnbWVudFxuICAvLyBcbiAgLy8gUmV0cmlldmUgdGhlIGZyYWdtZW50IChoYXNoKSBmcm9tIGEgVVJMIG9yIGlmIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkLCB0aGVcbiAgLy8gY3VycmVudCB3aW5kb3cubG9jYXRpb24uaHJlZi5cbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkucGFyYW0uZnJhZ21lbnQoIFsgdXJsIF0gKTtcbiAgLy8gXG4gIC8vIEFyZ3VtZW50czpcbiAgLy8gXG4gIC8vICB1cmwgLSAoU3RyaW5nKSBBIFVSTCBjb250YWluaW5nIGZyYWdtZW50IChoYXNoKSBwYXJhbXMgdG8gYmUgcGFyc2VkLiBJZlxuICAvLyAgICB1cmwgaXMgbm90IHBhc3NlZCwgdGhlIGN1cnJlbnQgd2luZG93LmxvY2F0aW9uLmhyZWYgaXMgdXNlZC5cbiAgLy8gXG4gIC8vIFJldHVybnM6XG4gIC8vIFxuICAvLyAgKFN0cmluZykgVGhlIHBhcnNlZCBmcmFnbWVudCAoaGFzaCkgc3RyaW5nLCB3aXRoIGFueSBsZWFkaW5nIFwiI1wiIHJlbW92ZWQuXG4gIFxuICAvLyBNZXRob2Q6IGpRdWVyeS5wYXJhbS5mcmFnbWVudCAoYnVpbGQgdXJsKVxuICAvLyBcbiAgLy8gTWVyZ2UgYSBVUkwsIHdpdGggb3Igd2l0aG91dCBwcmUtZXhpc3RpbmcgZnJhZ21lbnQgKGhhc2gpIHBhcmFtcywgcGx1cyBhbnlcbiAgLy8gb2JqZWN0LCBwYXJhbXMgc3RyaW5nIG9yIFVSTCBjb250YWluaW5nIGZyYWdtZW50IChoYXNoKSBwYXJhbXMgaW50byBhIG5ld1xuICAvLyBVUkwuXG4gIC8vIFxuICAvLyBVc2FnZTpcbiAgLy8gXG4gIC8vID4galF1ZXJ5LnBhcmFtLmZyYWdtZW50KCB1cmwsIHBhcmFtcyBbLCBtZXJnZV9tb2RlIF0gKTtcbiAgLy8gXG4gIC8vIEFyZ3VtZW50czpcbiAgLy8gXG4gIC8vICB1cmwgLSAoU3RyaW5nKSBBIHZhbGlkIFVSTCBmb3IgcGFyYW1zIHRvIGJlIG1lcmdlZCBpbnRvLiBUaGlzIFVSTCBtYXlcbiAgLy8gICAgY29udGFpbiBhIHF1ZXJ5IHN0cmluZyBhbmQvb3IgZnJhZ21lbnQgKGhhc2gpLlxuICAvLyAgcGFyYW1zIC0gKFN0cmluZykgQSBwYXJhbXMgc3RyaW5nIG9yIFVSTCBjb250YWluaW5nIGZyYWdtZW50IChoYXNoKSBwYXJhbXNcbiAgLy8gICAgdG8gYmUgbWVyZ2VkIGludG8gdXJsLlxuICAvLyAgcGFyYW1zIC0gKE9iamVjdCkgQSBwYXJhbXMgb2JqZWN0IHRvIGJlIG1lcmdlZCBpbnRvIHVybC5cbiAgLy8gIG1lcmdlX21vZGUgLSAoTnVtYmVyKSBNZXJnZSBiZWhhdmlvciBkZWZhdWx0cyB0byAwIGlmIG1lcmdlX21vZGUgaXMgbm90XG4gIC8vICAgIHNwZWNpZmllZCwgYW5kIGlzIGFzLWZvbGxvd3M6XG4gIC8vIFxuICAvLyAgICAqIDA6IHBhcmFtcyBpbiB0aGUgcGFyYW1zIGFyZ3VtZW50IHdpbGwgb3ZlcnJpZGUgYW55IGZyYWdtZW50IChoYXNoKVxuICAvLyAgICAgICAgIHBhcmFtcyBpbiB1cmwuXG4gIC8vICAgICogMTogYW55IGZyYWdtZW50IChoYXNoKSBwYXJhbXMgaW4gdXJsIHdpbGwgb3ZlcnJpZGUgcGFyYW1zIGluIHRoZVxuICAvLyAgICAgICAgIHBhcmFtcyBhcmd1bWVudC5cbiAgLy8gICAgKiAyOiBwYXJhbXMgYXJndW1lbnQgd2lsbCBjb21wbGV0ZWx5IHJlcGxhY2UgYW55IHF1ZXJ5IHN0cmluZyBpbiB1cmwuXG4gIC8vIFxuICAvLyBSZXR1cm5zOlxuICAvLyBcbiAgLy8gIChTdHJpbmcpIEEgVVJMIHdpdGggYSB1cmxlbmNvZGVkIGZyYWdtZW50IChoYXNoKSBpbiB0aGUgZm9ybWF0ICcjYT1iJmM9ZCZlPWYnLlxuICBcbiAgZnVuY3Rpb24ganFfcGFyYW1fc3ViKCBpc19mcmFnbWVudCwgZ2V0X2Z1bmMsIHVybCwgcGFyYW1zLCBtZXJnZV9tb2RlICkge1xuICAgIHZhciByZXN1bHQsXG4gICAgICBxcyxcbiAgICAgIG1hdGNoZXMsXG4gICAgICB1cmxfcGFyYW1zLFxuICAgICAgaGFzaDtcbiAgICBcbiAgICBpZiAoIHBhcmFtcyAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgLy8gQnVpbGQgVVJMIGJ5IG1lcmdpbmcgcGFyYW1zIGludG8gdXJsIHN0cmluZy5cbiAgICAgIFxuICAgICAgLy8gbWF0Y2hlc1sxXSA9IHVybCBwYXJ0IHRoYXQgcHJlY2VkZXMgcGFyYW1zLCBub3QgaW5jbHVkaW5nIHRyYWlsaW5nID8vI1xuICAgICAgLy8gbWF0Y2hlc1syXSA9IHBhcmFtcywgbm90IGluY2x1ZGluZyBsZWFkaW5nID8vI1xuICAgICAgLy8gbWF0Y2hlc1szXSA9IGlmIGluICdxdWVyeXN0cmluZycgbW9kZSwgaGFzaCBpbmNsdWRpbmcgbGVhZGluZyAjLCBvdGhlcndpc2UgJydcbiAgICAgIG1hdGNoZXMgPSB1cmwubWF0Y2goIGlzX2ZyYWdtZW50ID8gcmVfZnJhZ21lbnQgOiAvXihbXiM/XSopXFw/PyhbXiNdKikoIz8uKikvICk7XG4gICAgICBcbiAgICAgIC8vIEdldCB0aGUgaGFzaCBpZiBpbiAncXVlcnlzdHJpbmcnIG1vZGUsIGFuZCBpdCBleGlzdHMuXG4gICAgICBoYXNoID0gbWF0Y2hlc1szXSB8fCAnJztcbiAgICAgIFxuICAgICAgaWYgKCBtZXJnZV9tb2RlID09PSAyICYmIGlzX3N0cmluZyggcGFyYW1zICkgKSB7XG4gICAgICAgIC8vIElmIG1lcmdlX21vZGUgaXMgMiBhbmQgcGFyYW1zIGlzIGEgc3RyaW5nLCBtZXJnZSB0aGUgZnJhZ21lbnQgLyBxdWVyeVxuICAgICAgICAvLyBzdHJpbmcgaW50byB0aGUgVVJMIHdob2xlc2FsZSwgd2l0aG91dCBjb252ZXJ0aW5nIGl0IGludG8gYW4gb2JqZWN0LlxuICAgICAgICBxcyA9IHBhcmFtcy5yZXBsYWNlKCBpc19mcmFnbWVudCA/IHJlX3BhcmFtc19mcmFnbWVudCA6IHJlX3BhcmFtc19xdWVyeXN0cmluZywgJycgKTtcbiAgICAgICAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDb252ZXJ0IHJlbGV2YW50IHBhcmFtcyBpbiB1cmwgdG8gb2JqZWN0LlxuICAgICAgICB1cmxfcGFyYW1zID0ganFfZGVwYXJhbSggbWF0Y2hlc1syXSApO1xuICAgICAgICBcbiAgICAgICAgcGFyYW1zID0gaXNfc3RyaW5nKCBwYXJhbXMgKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENvbnZlcnQgcGFzc2VkIHBhcmFtcyBzdHJpbmcgaW50byBvYmplY3QuXG4gICAgICAgICAgPyBqcV9kZXBhcmFtWyBpc19mcmFnbWVudCA/IHN0cl9mcmFnbWVudCA6IHN0cl9xdWVyeXN0cmluZyBdKCBwYXJhbXMgKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFBhc3NlZCBwYXJhbXMgb2JqZWN0LlxuICAgICAgICAgIDogcGFyYW1zO1xuICAgICAgICBcbiAgICAgICAgcXMgPSBtZXJnZV9tb2RlID09PSAyID8gcGFyYW1zICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGFzc2VkIHBhcmFtcyByZXBsYWNlIHVybCBwYXJhbXNcbiAgICAgICAgICA6IG1lcmdlX21vZGUgPT09IDEgID8gJC5leHRlbmQoIHt9LCBwYXJhbXMsIHVybF9wYXJhbXMgKSAgLy8gdXJsIHBhcmFtcyBvdmVycmlkZSBwYXNzZWQgcGFyYW1zXG4gICAgICAgICAgOiAkLmV4dGVuZCgge30sIHVybF9wYXJhbXMsIHBhcmFtcyApOyAgICAgICAgICAgICAgICAgICAgIC8vIHBhc3NlZCBwYXJhbXMgb3ZlcnJpZGUgdXJsIHBhcmFtc1xuICAgICAgICBcbiAgICAgICAgLy8gQ29udmVydCBwYXJhbXMgb2JqZWN0IGludG8gYSBzb3J0ZWQgcGFyYW1zIHN0cmluZy5cbiAgICAgICAgcXMgPSBqcV9wYXJhbV9zb3J0ZWQoIHFzICk7XG4gICAgICAgIFxuICAgICAgICAvLyBVbmVzY2FwZSBjaGFyYWN0ZXJzIHNwZWNpZmllZCB2aWEgJC5wYXJhbS5ub0VzY2FwZS4gU2luY2Ugb25seSBoYXNoLVxuICAgICAgICAvLyBoaXN0b3J5IHVzZXJzIGhhdmUgcmVxdWVzdGVkIHRoaXMgZmVhdHVyZSwgaXQncyBvbmx5IGVuYWJsZWQgZm9yXG4gICAgICAgIC8vIGZyYWdtZW50LXJlbGF0ZWQgcGFyYW1zIHN0cmluZ3MuXG4gICAgICAgIGlmICggaXNfZnJhZ21lbnQgKSB7XG4gICAgICAgICAgcXMgPSBxcy5yZXBsYWNlKCByZV9ub19lc2NhcGUsIGRlY29kZSApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIFVSTCBmcm9tIHRoZSBiYXNlIHVybCwgcXVlcnlzdHJpbmcgYW5kIGhhc2guIEluICdxdWVyeXN0cmluZydcbiAgICAgIC8vIG1vZGUsID8gaXMgb25seSBhZGRlZCBpZiBhIHF1ZXJ5IHN0cmluZyBleGlzdHMuIEluICdmcmFnbWVudCcgbW9kZSwgI1xuICAgICAgLy8gaXMgYWx3YXlzIGFkZGVkLlxuICAgICAgcmVzdWx0ID0gbWF0Y2hlc1sxXSArICggaXNfZnJhZ21lbnQgPyBmcmFnbWVudF9wcmVmaXggOiBxcyB8fCAhbWF0Y2hlc1sxXSA/ICc/JyA6ICcnICkgKyBxcyArIGhhc2g7XG4gICAgICBcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgVVJMIHdhcyBwYXNzZWQgaW4sIHBhcnNlIHBhcmFtcyBmcm9tIFVSTCBzdHJpbmcsIG90aGVyd2lzZSBwYXJzZVxuICAgICAgLy8gcGFyYW1zIGZyb20gd2luZG93LmxvY2F0aW9uLmhyZWYuXG4gICAgICByZXN1bHQgPSBnZXRfZnVuYyggdXJsICE9PSB1bmRlZmluZWQgPyB1cmwgOiBsb2NhdGlvbi5ocmVmICk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIFxuICBqcV9wYXJhbVsgc3RyX3F1ZXJ5c3RyaW5nIF0gICAgICAgICAgICAgICAgICA9IGN1cnJ5KCBqcV9wYXJhbV9zdWIsIDAsIGdldF9xdWVyeXN0cmluZyApO1xuICBqcV9wYXJhbVsgc3RyX2ZyYWdtZW50IF0gPSBqcV9wYXJhbV9mcmFnbWVudCA9IGN1cnJ5KCBqcV9wYXJhbV9zdWIsIDEsIGdldF9mcmFnbWVudCApO1xuICBcbiAgLy8gTWV0aG9kOiBqUXVlcnkucGFyYW0uc29ydGVkXG4gIC8vIFxuICAvLyBSZXR1cm5zIGEgcGFyYW1zIHN0cmluZyBlcXVpdmFsZW50IHRvIHRoYXQgcmV0dXJuZWQgYnkgdGhlIGludGVybmFsXG4gIC8vIGpRdWVyeS5wYXJhbSBtZXRob2QsIGJ1dCBzb3J0ZWQsIHdoaWNoIG1ha2VzIGl0IHN1aXRhYmxlIGZvciB1c2UgYXMgYVxuICAvLyBjYWNoZSBrZXkuXG4gIC8vIFxuICAvLyBGb3IgZXhhbXBsZSwgaW4gbW9zdCBicm93c2VycyBqUXVlcnkucGFyYW0oe3o6MSxhOjJ9KSByZXR1cm5zIFwiej0xJmE9MlwiXG4gIC8vIGFuZCBqUXVlcnkucGFyYW0oe2E6Mix6OjF9KSByZXR1cm5zIFwiYT0yJno9MVwiLiBFdmVuIHRob3VnaCBib3RoIHRoZVxuICAvLyBvYmplY3RzIGJlaW5nIHNlcmlhbGl6ZWQgYW5kIHRoZSByZXN1bHRpbmcgcGFyYW1zIHN0cmluZ3MgYXJlIGVxdWl2YWxlbnQsXG4gIC8vIGlmIHRoZXNlIHBhcmFtcyBzdHJpbmdzIHdlcmUgc2V0IGludG8gdGhlIGxvY2F0aW9uLmhhc2ggZnJhZ21lbnRcbiAgLy8gc2VxdWVudGlhbGx5LCB0aGUgaGFzaGNoYW5nZSBldmVudCB3b3VsZCBiZSB0cmlnZ2VyZWQgdW5uZWNlc3NhcmlseSwgc2luY2VcbiAgLy8gdGhlIHN0cmluZ3MgYXJlIGRpZmZlcmVudCAoZXZlbiB0aG91Z2ggdGhlIGRhdGEgZGVzY3JpYmVkIGJ5IHRoZW0gaXMgdGhlXG4gIC8vIHNhbWUpLiBCeSBzb3J0aW5nIHRoZSBwYXJhbXMgc3RyaW5nLCB1bmVjZXNzYXJ5IGhhc2hjaGFuZ2UgZXZlbnQgdHJpZ2dlcmluZ1xuICAvLyBjYW4gYmUgYXZvaWRlZC5cbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkucGFyYW0uc29ydGVkKCBvYmogWywgdHJhZGl0aW9uYWwgXSApO1xuICAvLyBcbiAgLy8gQXJndW1lbnRzOlxuICAvLyBcbiAgLy8gIG9iaiAtIChPYmplY3QpIEFuIG9iamVjdCB0byBiZSBzZXJpYWxpemVkLlxuICAvLyAgdHJhZGl0aW9uYWwgLSAoQm9vbGVhbikgUGFyYW1zIGRlZXAvc2hhbGxvdyBzZXJpYWxpemF0aW9uIG1vZGUuIFNlZSB0aGVcbiAgLy8gICAgZG9jdW1lbnRhdGlvbiBhdCBodHRwOi8vYXBpLmpxdWVyeS5jb20valF1ZXJ5LnBhcmFtLyBmb3IgbW9yZSBkZXRhaWwuXG4gIC8vIFxuICAvLyBSZXR1cm5zOlxuICAvLyBcbiAgLy8gIChTdHJpbmcpIEEgc29ydGVkIHBhcmFtcyBzdHJpbmcuXG4gIFxuICBqcV9wYXJhbS5zb3J0ZWQgPSBqcV9wYXJhbV9zb3J0ZWQgPSBmdW5jdGlvbiggYSwgdHJhZGl0aW9uYWwgKSB7XG4gICAgdmFyIGFyciA9IFtdLFxuICAgICAgb2JqID0ge307XG4gICAgXG4gICAgJC5lYWNoKCBqcV9wYXJhbSggYSwgdHJhZGl0aW9uYWwgKS5zcGxpdCggJyYnICksIGZ1bmN0aW9uKGksdil7XG4gICAgICB2YXIga2V5ID0gdi5yZXBsYWNlKCAvKD86JTVCfD0pLiokLywgJycgKSxcbiAgICAgICAga2V5X29iaiA9IG9ialsga2V5IF07XG4gICAgICBcbiAgICAgIGlmICggIWtleV9vYmogKSB7XG4gICAgICAgIGtleV9vYmogPSBvYmpbIGtleSBdID0gW107XG4gICAgICAgIGFyci5wdXNoKCBrZXkgKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAga2V5X29iai5wdXNoKCB2ICk7XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuICQubWFwKCBhcnIuc29ydCgpLCBmdW5jdGlvbih2KXtcbiAgICAgIHJldHVybiBvYmpbIHYgXTtcbiAgICB9KS5qb2luKCAnJicgKTtcbiAgfTtcbiAgXG4gIC8vIE1ldGhvZDogalF1ZXJ5LnBhcmFtLmZyYWdtZW50Lm5vRXNjYXBlXG4gIC8vIFxuICAvLyBTcGVjaWZ5IGNoYXJhY3RlcnMgdGhhdCB3aWxsIGJlIGxlZnQgdW5lc2NhcGVkIHdoZW4gZnJhZ21lbnRzIGFyZSBjcmVhdGVkXG4gIC8vIG9yIG1lcmdlZCB1c2luZyA8alF1ZXJ5LnBhcmFtLmZyYWdtZW50Piwgb3Igd2hlbiB0aGUgZnJhZ21lbnQgaXMgbW9kaWZpZWRcbiAgLy8gdXNpbmcgPGpRdWVyeS5iYnEucHVzaFN0YXRlPi4gVGhpcyBvcHRpb24gb25seSBhcHBsaWVzIHRvIHNlcmlhbGl6ZWQgZGF0YVxuICAvLyBvYmplY3QgZnJhZ21lbnRzLCBhbmQgbm90IHNldC1hcy1zdHJpbmcgZnJhZ21lbnRzLiBEb2VzIG5vdCBhZmZlY3QgdGhlXG4gIC8vIHF1ZXJ5IHN0cmluZy4gRGVmYXVsdHMgdG8gXCIsL1wiIChjb21tYSwgZm9yd2FyZCBzbGFzaCkuXG4gIC8vIFxuICAvLyBOb3RlIHRoYXQgdGhpcyBpcyBjb25zaWRlcmVkIGEgcHVyZWx5IGFlc3RoZXRpYyBvcHRpb24sIGFuZCB3aWxsIGhlbHAgdG9cbiAgLy8gY3JlYXRlIFVSTHMgdGhhdCBcImxvb2sgcHJldHR5XCIgaW4gdGhlIGFkZHJlc3MgYmFyIG9yIGJvb2ttYXJrcywgd2l0aG91dFxuICAvLyBhZmZlY3RpbmcgZnVuY3Rpb25hbGl0eSBpbiBhbnkgd2F5LiBUaGF0IGJlaW5nIHNhaWQsIGJlIGNhcmVmdWwgdG8gbm90XG4gIC8vIHVuZXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBhcmUgdXNlZCBhcyBkZWxpbWl0ZXJzIG9yIHNlcnZlIGEgc3BlY2lhbFxuICAvLyBwdXJwb3NlLCBzdWNoIGFzIHRoZSBcIiM/Jj0rXCIgKG9jdG90aG9ycGUsIHF1ZXN0aW9uIG1hcmssIGFtcGVyc2FuZCxcbiAgLy8gZXF1YWxzLCBwbHVzKSBjaGFyYWN0ZXJzLlxuICAvLyBcbiAgLy8gVXNhZ2U6XG4gIC8vIFxuICAvLyA+IGpRdWVyeS5wYXJhbS5mcmFnbWVudC5ub0VzY2FwZSggWyBjaGFycyBdICk7XG4gIC8vIFxuICAvLyBBcmd1bWVudHM6XG4gIC8vIFxuICAvLyAgY2hhcnMgLSAoU3RyaW5nKSBUaGUgY2hhcmFjdGVycyB0byBub3QgZXNjYXBlIGluIHRoZSBmcmFnbWVudC4gSWZcbiAgLy8gICAgdW5zcGVjaWZpZWQsIGRlZmF1bHRzIHRvIGVtcHR5IHN0cmluZyAoZXNjYXBlIGFsbCBjaGFyYWN0ZXJzKS5cbiAgLy8gXG4gIC8vIFJldHVybnM6XG4gIC8vIFxuICAvLyAgTm90aGluZy5cbiAgXG4gIGpxX3BhcmFtX2ZyYWdtZW50Lm5vRXNjYXBlID0gZnVuY3Rpb24oIGNoYXJzICkge1xuICAgIGNoYXJzID0gY2hhcnMgfHwgJyc7XG4gICAgdmFyIGFyciA9ICQubWFwKCBjaGFycy5zcGxpdCgnJyksIGVuY29kZVVSSUNvbXBvbmVudCApO1xuICAgIHJlX25vX2VzY2FwZSA9IG5ldyBSZWdFeHAoIGFyci5qb2luKCd8JyksICdnJyApO1xuICB9O1xuICBcbiAgLy8gQSBzZW5zaWJsZSBkZWZhdWx0LiBUaGVzZSBhcmUgdGhlIGNoYXJhY3RlcnMgcGVvcGxlIHNlZW0gdG8gY29tcGxhaW4gYWJvdXRcbiAgLy8gXCJ1Z2xpZnlpbmcgdXAgdGhlIFVSTFwiIHRoZSBtb3N0LlxuICBqcV9wYXJhbV9mcmFnbWVudC5ub0VzY2FwZSggJywvJyApO1xuICBcbiAgLy8gTWV0aG9kOiBqUXVlcnkucGFyYW0uZnJhZ21lbnQuYWpheENyYXdsYWJsZVxuICAvLyBcbiAgLy8gVE9ETzogREVTQ1JJQkVcbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkucGFyYW0uZnJhZ21lbnQuYWpheENyYXdsYWJsZSggWyBzdGF0ZSBdICk7XG4gIC8vIFxuICAvLyBBcmd1bWVudHM6XG4gIC8vIFxuICAvLyAgc3RhdGUgLSAoQm9vbGVhbikgVE9ETzogREVTQ1JJQkVcbiAgLy8gXG4gIC8vIFJldHVybnM6XG4gIC8vIFxuICAvLyAgKEJvb2xlYW4pIFRoZSBjdXJyZW50IGFqYXhDcmF3bGFibGUgc3RhdGUuXG4gIFxuICBqcV9wYXJhbV9mcmFnbWVudC5hamF4Q3Jhd2xhYmxlID0gZnVuY3Rpb24oIHN0YXRlICkge1xuICAgIGlmICggc3RhdGUgIT09IHVuZGVmaW5lZCApIHtcbiAgICAgIGlmICggc3RhdGUgKSB7XG4gICAgICAgIHJlX3BhcmFtc19mcmFnbWVudCA9IC9eLiooPzojIXwjKS87XG4gICAgICAgIHJlX2ZyYWdtZW50ID0gL14oW14jXSopKD86IyF8Iyk/KC4qKSQvO1xuICAgICAgICBmcmFnbWVudF9wcmVmaXggPSAnIyEnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVfcGFyYW1zX2ZyYWdtZW50ID0gL14uKiMvO1xuICAgICAgICByZV9mcmFnbWVudCA9IC9eKFteI10qKSM/KC4qKSQvO1xuICAgICAgICBmcmFnbWVudF9wcmVmaXggPSAnIyc7XG4gICAgICB9XG4gICAgICBhamF4X2NyYXdsYWJsZSA9ICEhc3RhdGU7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBhamF4X2NyYXdsYWJsZTtcbiAgfTtcbiAgXG4gIGpxX3BhcmFtX2ZyYWdtZW50LmFqYXhDcmF3bGFibGUoIDAgKTtcbiAgXG4gIC8vIFNlY3Rpb246IERlcGFyYW0gKGZyb20gc3RyaW5nKVxuICAvLyBcbiAgLy8gTWV0aG9kOiBqUXVlcnkuZGVwYXJhbVxuICAvLyBcbiAgLy8gRGVzZXJpYWxpemUgYSBwYXJhbXMgc3RyaW5nIGludG8gYW4gb2JqZWN0LCBvcHRpb25hbGx5IGNvZXJjaW5nIG51bWJlcnMsXG4gIC8vIGJvb2xlYW5zLCBudWxsIGFuZCB1bmRlZmluZWQgdmFsdWVzOyB0aGlzIG1ldGhvZCBpcyB0aGUgY291bnRlcnBhcnQgdG8gdGhlXG4gIC8vIGludGVybmFsIGpRdWVyeS5wYXJhbSBtZXRob2QuXG4gIC8vIFxuICAvLyBVc2FnZTpcbiAgLy8gXG4gIC8vID4galF1ZXJ5LmRlcGFyYW0oIHBhcmFtcyBbLCBjb2VyY2UgXSApO1xuICAvLyBcbiAgLy8gQXJndW1lbnRzOlxuICAvLyBcbiAgLy8gIHBhcmFtcyAtIChTdHJpbmcpIEEgcGFyYW1zIHN0cmluZyB0byBiZSBwYXJzZWQuXG4gIC8vICBjb2VyY2UgLSAoQm9vbGVhbikgSWYgdHJ1ZSwgY29lcmNlcyBhbnkgbnVtYmVycyBvciB0cnVlLCBmYWxzZSwgbnVsbCwgYW5kXG4gIC8vICAgIHVuZGVmaW5lZCB0byB0aGVpciBhY3R1YWwgdmFsdWUuIERlZmF1bHRzIHRvIGZhbHNlIGlmIG9taXR0ZWQuXG4gIC8vIFxuICAvLyBSZXR1cm5zOlxuICAvLyBcbiAgLy8gIChPYmplY3QpIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGRlc2VyaWFsaXplZCBwYXJhbXMgc3RyaW5nLlxuICBcbiAgJC5kZXBhcmFtID0ganFfZGVwYXJhbSA9IGZ1bmN0aW9uKCBwYXJhbXMsIGNvZXJjZSApIHtcbiAgICB2YXIgb2JqID0ge30sXG4gICAgICBjb2VyY2VfdHlwZXMgPSB7ICd0cnVlJzogITAsICdmYWxzZSc6ICExLCAnbnVsbCc6IG51bGwgfTtcbiAgICBcbiAgICAvLyBJdGVyYXRlIG92ZXIgYWxsIG5hbWU9dmFsdWUgcGFpcnMuXG4gICAgJC5lYWNoKCBwYXJhbXMucmVwbGFjZSggL1xcKy9nLCAnICcgKS5zcGxpdCggJyYnICksIGZ1bmN0aW9uKGosdil7XG4gICAgICB2YXIgcGFyYW0gPSB2LnNwbGl0KCAnPScgKSxcbiAgICAgICAga2V5ID0gZGVjb2RlKCBwYXJhbVswXSApLFxuICAgICAgICB2YWwsXG4gICAgICAgIGN1ciA9IG9iaixcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIFxuICAgICAgICAvLyBJZiBrZXkgaXMgbW9yZSBjb21wbGV4IHRoYW4gJ2ZvbycsIGxpa2UgJ2FbXScgb3IgJ2FbYl1bY10nLCBzcGxpdCBpdFxuICAgICAgICAvLyBpbnRvIGl0cyBjb21wb25lbnQgcGFydHMuXG4gICAgICAgIGtleXMgPSBrZXkuc3BsaXQoICddWycgKSxcbiAgICAgICAga2V5c19sYXN0ID0ga2V5cy5sZW5ndGggLSAxO1xuICAgICAgXG4gICAgICAvLyBJZiB0aGUgZmlyc3Qga2V5cyBwYXJ0IGNvbnRhaW5zIFsgYW5kIHRoZSBsYXN0IGVuZHMgd2l0aCBdLCB0aGVuIFtdXG4gICAgICAvLyBhcmUgY29ycmVjdGx5IGJhbGFuY2VkLlxuICAgICAgaWYgKCAvXFxbLy50ZXN0KCBrZXlzWzBdICkgJiYgL1xcXSQvLnRlc3QoIGtleXNbIGtleXNfbGFzdCBdICkgKSB7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgdHJhaWxpbmcgXSBmcm9tIHRoZSBsYXN0IGtleXMgcGFydC5cbiAgICAgICAga2V5c1sga2V5c19sYXN0IF0gPSBrZXlzWyBrZXlzX2xhc3QgXS5yZXBsYWNlKCAvXFxdJC8sICcnICk7XG4gICAgICAgIFxuICAgICAgICAvLyBTcGxpdCBmaXJzdCBrZXlzIHBhcnQgaW50byB0d28gcGFydHMgb24gdGhlIFsgYW5kIGFkZCB0aGVtIGJhY2sgb250b1xuICAgICAgICAvLyB0aGUgYmVnaW5uaW5nIG9mIHRoZSBrZXlzIGFycmF5LlxuICAgICAgICBrZXlzID0ga2V5cy5zaGlmdCgpLnNwbGl0KCdbJykuY29uY2F0KCBrZXlzICk7XG4gICAgICAgIFxuICAgICAgICBrZXlzX2xhc3QgPSBrZXlzLmxlbmd0aCAtIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCYXNpYyAnZm9vJyBzdHlsZSBrZXkuXG4gICAgICAgIGtleXNfbGFzdCA9IDA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFyZSB3ZSBkZWFsaW5nIHdpdGggYSBuYW1lPXZhbHVlIHBhaXIsIG9yIGp1c3QgYSBuYW1lP1xuICAgICAgaWYgKCBwYXJhbS5sZW5ndGggPT09IDIgKSB7XG4gICAgICAgIHZhbCA9IGRlY29kZSggcGFyYW1bMV0gKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENvZXJjZSB2YWx1ZXMuXG4gICAgICAgIGlmICggY29lcmNlICkge1xuICAgICAgICAgIHZhbCA9IHZhbCAmJiAhaXNOYU4odmFsKSAgICAgICAgICAgID8gK3ZhbCAgICAgICAgICAgICAgLy8gbnVtYmVyXG4gICAgICAgICAgICA6IHZhbCA9PT0gJ3VuZGVmaW5lZCcgICAgICAgICAgICAgPyB1bmRlZmluZWQgICAgICAgICAvLyB1bmRlZmluZWRcbiAgICAgICAgICAgIDogY29lcmNlX3R5cGVzW3ZhbF0gIT09IHVuZGVmaW5lZCA/IGNvZXJjZV90eXBlc1t2YWxdIC8vIHRydWUsIGZhbHNlLCBudWxsXG4gICAgICAgICAgICA6IHZhbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCBrZXlzX2xhc3QgKSB7XG4gICAgICAgICAgLy8gQ29tcGxleCBrZXksIGJ1aWxkIGRlZXAgb2JqZWN0IHN0cnVjdHVyZSBiYXNlZCBvbiBhIGZldyBydWxlczpcbiAgICAgICAgICAvLyAqIFRoZSAnY3VyJyBwb2ludGVyIHN0YXJ0cyBhdCB0aGUgb2JqZWN0IHRvcC1sZXZlbC5cbiAgICAgICAgICAvLyAqIFtdID0gYXJyYXkgcHVzaCAobiBpcyBzZXQgdG8gYXJyYXkgbGVuZ3RoKSwgW25dID0gYXJyYXkgaWYgbiBpcyBcbiAgICAgICAgICAvLyAgIG51bWVyaWMsIG90aGVyd2lzZSBvYmplY3QuXG4gICAgICAgICAgLy8gKiBJZiBhdCB0aGUgbGFzdCBrZXlzIHBhcnQsIHNldCB0aGUgdmFsdWUuXG4gICAgICAgICAgLy8gKiBGb3IgZWFjaCBrZXlzIHBhcnQsIGlmIHRoZSBjdXJyZW50IGxldmVsIGlzIHVuZGVmaW5lZCBjcmVhdGUgYW5cbiAgICAgICAgICAvLyAgIG9iamVjdCBvciBhcnJheSBiYXNlZCBvbiB0aGUgdHlwZSBvZiB0aGUgbmV4dCBrZXlzIHBhcnQuXG4gICAgICAgICAgLy8gKiBNb3ZlIHRoZSAnY3VyJyBwb2ludGVyIHRvIHRoZSBuZXh0IGxldmVsLlxuICAgICAgICAgIC8vICogUmluc2UgJiByZXBlYXQuXG4gICAgICAgICAgZm9yICggOyBpIDw9IGtleXNfbGFzdDsgaSsrICkge1xuICAgICAgICAgICAga2V5ID0ga2V5c1tpXSA9PT0gJycgPyBjdXIubGVuZ3RoIDoga2V5c1tpXTtcbiAgICAgICAgICAgIGN1ciA9IGN1cltrZXldID0gaSA8IGtleXNfbGFzdFxuICAgICAgICAgICAgICA/IGN1cltrZXldIHx8ICgga2V5c1tpKzFdICYmIGlzTmFOKCBrZXlzW2krMV0gKSA/IHt9IDogW10gKVxuICAgICAgICAgICAgICA6IHZhbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gU2ltcGxlIGtleSwgZXZlbiBzaW1wbGVyIHJ1bGVzLCBzaW5jZSBvbmx5IHNjYWxhcnMgYW5kIHNoYWxsb3dcbiAgICAgICAgICAvLyBhcnJheXMgYXJlIGFsbG93ZWQuXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCAkLmlzQXJyYXkoIG9ialtrZXldICkgKSB7XG4gICAgICAgICAgICAvLyB2YWwgaXMgYWxyZWFkeSBhbiBhcnJheSwgc28gcHVzaCBvbiB0aGUgbmV4dCB2YWx1ZS5cbiAgICAgICAgICAgIG9ialtrZXldLnB1c2goIHZhbCApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgfSBlbHNlIGlmICggb2JqW2tleV0gIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgIC8vIHZhbCBpc24ndCBhbiBhcnJheSwgYnV0IHNpbmNlIGEgc2Vjb25kIHZhbHVlIGhhcyBiZWVuIHNwZWNpZmllZCxcbiAgICAgICAgICAgIC8vIGNvbnZlcnQgdmFsIGludG8gYW4gYXJyYXkuXG4gICAgICAgICAgICBvYmpba2V5XSA9IFsgb2JqW2tleV0sIHZhbCBdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHZhbCBpcyBhIHNjYWxhci5cbiAgICAgICAgICAgIG9ialtrZXldID0gdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgIH0gZWxzZSBpZiAoIGtleSApIHtcbiAgICAgICAgLy8gTm8gdmFsdWUgd2FzIGRlZmluZWQsIHNvIHNldCBzb21ldGhpbmcgbWVhbmluZ2Z1bC5cbiAgICAgICAgb2JqW2tleV0gPSBjb2VyY2VcbiAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgIDogJyc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIG9iajtcbiAgfTtcbiAgXG4gIC8vIE1ldGhvZDogalF1ZXJ5LmRlcGFyYW0ucXVlcnlzdHJpbmdcbiAgLy8gXG4gIC8vIFBhcnNlIHRoZSBxdWVyeSBzdHJpbmcgZnJvbSBhIFVSTCBvciB0aGUgY3VycmVudCB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgLy8gZGVzZXJpYWxpemluZyBpdCBpbnRvIGFuIG9iamVjdCwgb3B0aW9uYWxseSBjb2VyY2luZyBudW1iZXJzLCBib29sZWFucyxcbiAgLy8gbnVsbCBhbmQgdW5kZWZpbmVkIHZhbHVlcy5cbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkuZGVwYXJhbS5xdWVyeXN0cmluZyggWyB1cmwgXSBbLCBjb2VyY2UgXSApO1xuICAvLyBcbiAgLy8gQXJndW1lbnRzOlxuICAvLyBcbiAgLy8gIHVybCAtIChTdHJpbmcpIEFuIG9wdGlvbmFsIHBhcmFtcyBzdHJpbmcgb3IgVVJMIGNvbnRhaW5pbmcgcXVlcnkgc3RyaW5nXG4gIC8vICAgIHBhcmFtcyB0byBiZSBwYXJzZWQuIElmIHVybCBpcyBvbWl0dGVkLCB0aGUgY3VycmVudFxuICAvLyAgICB3aW5kb3cubG9jYXRpb24uaHJlZiBpcyB1c2VkLlxuICAvLyAgY29lcmNlIC0gKEJvb2xlYW4pIElmIHRydWUsIGNvZXJjZXMgYW55IG51bWJlcnMgb3IgdHJ1ZSwgZmFsc2UsIG51bGwsIGFuZFxuICAvLyAgICB1bmRlZmluZWQgdG8gdGhlaXIgYWN0dWFsIHZhbHVlLiBEZWZhdWx0cyB0byBmYWxzZSBpZiBvbWl0dGVkLlxuICAvLyBcbiAgLy8gUmV0dXJuczpcbiAgLy8gXG4gIC8vICAoT2JqZWN0KSBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBkZXNlcmlhbGl6ZWQgcGFyYW1zIHN0cmluZy5cbiAgXG4gIC8vIE1ldGhvZDogalF1ZXJ5LmRlcGFyYW0uZnJhZ21lbnRcbiAgLy8gXG4gIC8vIFBhcnNlIHRoZSBmcmFnbWVudCAoaGFzaCkgZnJvbSBhIFVSTCBvciB0aGUgY3VycmVudCB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgLy8gZGVzZXJpYWxpemluZyBpdCBpbnRvIGFuIG9iamVjdCwgb3B0aW9uYWxseSBjb2VyY2luZyBudW1iZXJzLCBib29sZWFucyxcbiAgLy8gbnVsbCBhbmQgdW5kZWZpbmVkIHZhbHVlcy5cbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkuZGVwYXJhbS5mcmFnbWVudCggWyB1cmwgXSBbLCBjb2VyY2UgXSApO1xuICAvLyBcbiAgLy8gQXJndW1lbnRzOlxuICAvLyBcbiAgLy8gIHVybCAtIChTdHJpbmcpIEFuIG9wdGlvbmFsIHBhcmFtcyBzdHJpbmcgb3IgVVJMIGNvbnRhaW5pbmcgZnJhZ21lbnQgKGhhc2gpXG4gIC8vICAgIHBhcmFtcyB0byBiZSBwYXJzZWQuIElmIHVybCBpcyBvbWl0dGVkLCB0aGUgY3VycmVudCB3aW5kb3cubG9jYXRpb24uaHJlZlxuICAvLyAgICBpcyB1c2VkLlxuICAvLyAgY29lcmNlIC0gKEJvb2xlYW4pIElmIHRydWUsIGNvZXJjZXMgYW55IG51bWJlcnMgb3IgdHJ1ZSwgZmFsc2UsIG51bGwsIGFuZFxuICAvLyAgICB1bmRlZmluZWQgdG8gdGhlaXIgYWN0dWFsIHZhbHVlLiBEZWZhdWx0cyB0byBmYWxzZSBpZiBvbWl0dGVkLlxuICAvLyBcbiAgLy8gUmV0dXJuczpcbiAgLy8gXG4gIC8vICAoT2JqZWN0KSBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBkZXNlcmlhbGl6ZWQgcGFyYW1zIHN0cmluZy5cbiAgXG4gIGZ1bmN0aW9uIGpxX2RlcGFyYW1fc3ViKCBpc19mcmFnbWVudCwgdXJsX29yX3BhcmFtcywgY29lcmNlICkge1xuICAgIGlmICggdXJsX29yX3BhcmFtcyA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB1cmxfb3JfcGFyYW1zID09PSAnYm9vbGVhbicgKSB7XG4gICAgICAvLyB1cmxfb3JfcGFyYW1zIG5vdCBzcGVjaWZpZWQuXG4gICAgICBjb2VyY2UgPSB1cmxfb3JfcGFyYW1zO1xuICAgICAgdXJsX29yX3BhcmFtcyA9IGpxX3BhcmFtWyBpc19mcmFnbWVudCA/IHN0cl9mcmFnbWVudCA6IHN0cl9xdWVyeXN0cmluZyBdKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVybF9vcl9wYXJhbXMgPSBpc19zdHJpbmcoIHVybF9vcl9wYXJhbXMgKVxuICAgICAgICA/IHVybF9vcl9wYXJhbXMucmVwbGFjZSggaXNfZnJhZ21lbnQgPyByZV9wYXJhbXNfZnJhZ21lbnQgOiByZV9wYXJhbXNfcXVlcnlzdHJpbmcsICcnIClcbiAgICAgICAgOiB1cmxfb3JfcGFyYW1zO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4ganFfZGVwYXJhbSggdXJsX29yX3BhcmFtcywgY29lcmNlICk7XG4gIH07XG4gIFxuICBqcV9kZXBhcmFtWyBzdHJfcXVlcnlzdHJpbmcgXSAgICAgICAgICAgICAgICAgICAgPSBjdXJyeSgganFfZGVwYXJhbV9zdWIsIDAgKTtcbiAganFfZGVwYXJhbVsgc3RyX2ZyYWdtZW50IF0gPSBqcV9kZXBhcmFtX2ZyYWdtZW50ID0gY3VycnkoIGpxX2RlcGFyYW1fc3ViLCAxICk7XG4gIFxuICAvLyBTZWN0aW9uOiBFbGVtZW50IG1hbmlwdWxhdGlvblxuICAvLyBcbiAgLy8gTWV0aG9kOiBqUXVlcnkuZWxlbVVybEF0dHJcbiAgLy8gXG4gIC8vIEdldCB0aGUgaW50ZXJuYWwgXCJEZWZhdWx0IFVSTCBhdHRyaWJ1dGUgcGVyIHRhZ1wiIGxpc3QsIG9yIGF1Z21lbnQgdGhlIGxpc3RcbiAgLy8gd2l0aCBhZGRpdGlvbmFsIHRhZy1hdHRyaWJ1dGUgcGFpcnMsIGluIGNhc2UgdGhlIGRlZmF1bHRzIGFyZSBpbnN1ZmZpY2llbnQuXG4gIC8vIFxuICAvLyBJbiB0aGUgPGpRdWVyeS5mbi5xdWVyeXN0cmluZz4gYW5kIDxqUXVlcnkuZm4uZnJhZ21lbnQ+IG1ldGhvZHMsIHRoaXMgbGlzdFxuICAvLyBpcyB1c2VkIHRvIGRldGVybWluZSB3aGljaCBhdHRyaWJ1dGUgY29udGFpbnMgdGhlIFVSTCB0byBiZSBtb2RpZmllZCwgaWZcbiAgLy8gYW4gXCJhdHRyXCIgcGFyYW0gaXMgbm90IHNwZWNpZmllZC5cbiAgLy8gXG4gIC8vIERlZmF1bHQgVGFnLUF0dHJpYnV0ZSBMaXN0OlxuICAvLyBcbiAgLy8gIGEgICAgICAtIGhyZWZcbiAgLy8gIGJhc2UgICAtIGhyZWZcbiAgLy8gIGlmcmFtZSAtIHNyY1xuICAvLyAgaW1nICAgIC0gc3JjXG4gIC8vICBpbnB1dCAgLSBzcmNcbiAgLy8gIGZvcm0gICAtIGFjdGlvblxuICAvLyAgbGluayAgIC0gaHJlZlxuICAvLyAgc2NyaXB0IC0gc3JjXG4gIC8vIFxuICAvLyBVc2FnZTpcbiAgLy8gXG4gIC8vID4galF1ZXJ5LmVsZW1VcmxBdHRyKCBbIHRhZ19hdHRyIF0gKTtcbiAgLy8gXG4gIC8vIEFyZ3VtZW50czpcbiAgLy8gXG4gIC8vICB0YWdfYXR0ciAtIChPYmplY3QpIEFuIG9iamVjdCBjb250YWluaW5nIGEgbGlzdCBvZiB0YWcgbmFtZXMgYW5kIHRoZWlyXG4gIC8vICAgIGFzc29jaWF0ZWQgZGVmYXVsdCBhdHRyaWJ1dGUgbmFtZXMgaW4gdGhlIGZvcm1hdCB7IHRhZzogJ2F0dHInLCAuLi4gfSB0b1xuICAvLyAgICBiZSBtZXJnZWQgaW50byB0aGUgaW50ZXJuYWwgdGFnLWF0dHJpYnV0ZSBsaXN0LlxuICAvLyBcbiAgLy8gUmV0dXJuczpcbiAgLy8gXG4gIC8vICAoT2JqZWN0KSBBbiBvYmplY3QgY29udGFpbmluZyBhbGwgc3RvcmVkIHRhZy1hdHRyaWJ1dGUgdmFsdWVzLlxuICBcbiAgLy8gT25seSBkZWZpbmUgZnVuY3Rpb24gYW5kIHNldCBkZWZhdWx0cyBpZiBmdW5jdGlvbiBkb2Vzbid0IGFscmVhZHkgZXhpc3QsIGFzXG4gIC8vIHRoZSB1cmxJbnRlcm5hbCBwbHVnaW4gd2lsbCBwcm92aWRlIHRoaXMgbWV0aG9kIGFzIHdlbGwuXG4gICRbIHN0cl9lbGVtVXJsQXR0ciBdIHx8ICgkWyBzdHJfZWxlbVVybEF0dHIgXSA9IGZ1bmN0aW9uKCBvYmogKSB7XG4gICAgcmV0dXJuICQuZXh0ZW5kKCBlbGVtVXJsQXR0cl9jYWNoZSwgb2JqICk7XG4gIH0pKHtcbiAgICBhOiBzdHJfaHJlZixcbiAgICBiYXNlOiBzdHJfaHJlZixcbiAgICBpZnJhbWU6IHN0cl9zcmMsXG4gICAgaW1nOiBzdHJfc3JjLFxuICAgIGlucHV0OiBzdHJfc3JjLFxuICAgIGZvcm06ICdhY3Rpb24nLFxuICAgIGxpbms6IHN0cl9ocmVmLFxuICAgIHNjcmlwdDogc3RyX3NyY1xuICB9KTtcbiAgXG4gIGpxX2VsZW1VcmxBdHRyID0gJFsgc3RyX2VsZW1VcmxBdHRyIF07XG4gIFxuICAvLyBNZXRob2Q6IGpRdWVyeS5mbi5xdWVyeXN0cmluZ1xuICAvLyBcbiAgLy8gVXBkYXRlIFVSTCBhdHRyaWJ1dGUgaW4gb25lIG9yIG1vcmUgZWxlbWVudHMsIG1lcmdpbmcgdGhlIGN1cnJlbnQgVVJMICh3aXRoXG4gIC8vIG9yIHdpdGhvdXQgcHJlLWV4aXN0aW5nIHF1ZXJ5IHN0cmluZyBwYXJhbXMpIHBsdXMgYW55IHBhcmFtcyBvYmplY3Qgb3JcbiAgLy8gc3RyaW5nIGludG8gYSBuZXcgVVJMLCB3aGljaCBpcyB0aGVuIHNldCBpbnRvIHRoYXQgYXR0cmlidXRlLiBMaWtlXG4gIC8vIDxqUXVlcnkucGFyYW0ucXVlcnlzdHJpbmcgKGJ1aWxkIHVybCk+LCBidXQgZm9yIGFsbCBlbGVtZW50cyBpbiBhIGpRdWVyeVxuICAvLyBjb2xsZWN0aW9uLlxuICAvLyBcbiAgLy8gVXNhZ2U6XG4gIC8vIFxuICAvLyA+IGpRdWVyeSgnc2VsZWN0b3InKS5xdWVyeXN0cmluZyggWyBhdHRyLCBdIHBhcmFtcyBbLCBtZXJnZV9tb2RlIF0gKTtcbiAgLy8gXG4gIC8vIEFyZ3VtZW50czpcbiAgLy8gXG4gIC8vICBhdHRyIC0gKFN0cmluZykgT3B0aW9uYWwgbmFtZSBvZiBhbiBhdHRyaWJ1dGUgdGhhdCB3aWxsIGNvbnRhaW4gYSBVUkwgdG9cbiAgLy8gICAgbWVyZ2UgcGFyYW1zIG9yIHVybCBpbnRvLiBTZWUgPGpRdWVyeS5lbGVtVXJsQXR0cj4gZm9yIGEgbGlzdCBvZiBkZWZhdWx0XG4gIC8vICAgIGF0dHJpYnV0ZXMuXG4gIC8vICBwYXJhbXMgLSAoT2JqZWN0KSBBIHBhcmFtcyBvYmplY3QgdG8gYmUgbWVyZ2VkIGludG8gdGhlIFVSTCBhdHRyaWJ1dGUuXG4gIC8vICBwYXJhbXMgLSAoU3RyaW5nKSBBIFVSTCBjb250YWluaW5nIHF1ZXJ5IHN0cmluZyBwYXJhbXMsIG9yIHBhcmFtcyBzdHJpbmdcbiAgLy8gICAgdG8gYmUgbWVyZ2VkIGludG8gdGhlIFVSTCBhdHRyaWJ1dGUuXG4gIC8vICBtZXJnZV9tb2RlIC0gKE51bWJlcikgTWVyZ2UgYmVoYXZpb3IgZGVmYXVsdHMgdG8gMCBpZiBtZXJnZV9tb2RlIGlzIG5vdFxuICAvLyAgICBzcGVjaWZpZWQsIGFuZCBpcyBhcy1mb2xsb3dzOlxuICAvLyAgICBcbiAgLy8gICAgKiAwOiBwYXJhbXMgaW4gdGhlIHBhcmFtcyBhcmd1bWVudCB3aWxsIG92ZXJyaWRlIGFueSBwYXJhbXMgaW4gYXR0ciBVUkwuXG4gIC8vICAgICogMTogYW55IHBhcmFtcyBpbiBhdHRyIFVSTCB3aWxsIG92ZXJyaWRlIHBhcmFtcyBpbiB0aGUgcGFyYW1zIGFyZ3VtZW50LlxuICAvLyAgICAqIDI6IHBhcmFtcyBhcmd1bWVudCB3aWxsIGNvbXBsZXRlbHkgcmVwbGFjZSBhbnkgcXVlcnkgc3RyaW5nIGluIGF0dHJcbiAgLy8gICAgICAgICBVUkwuXG4gIC8vIFxuICAvLyBSZXR1cm5zOlxuICAvLyBcbiAgLy8gIChqUXVlcnkpIFRoZSBpbml0aWFsIGpRdWVyeSBjb2xsZWN0aW9uIG9mIGVsZW1lbnRzLCBidXQgd2l0aCBtb2RpZmllZCBVUkxcbiAgLy8gIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gIFxuICAvLyBNZXRob2Q6IGpRdWVyeS5mbi5mcmFnbWVudFxuICAvLyBcbiAgLy8gVXBkYXRlIFVSTCBhdHRyaWJ1dGUgaW4gb25lIG9yIG1vcmUgZWxlbWVudHMsIG1lcmdpbmcgdGhlIGN1cnJlbnQgVVJMICh3aXRoXG4gIC8vIG9yIHdpdGhvdXQgcHJlLWV4aXN0aW5nIGZyYWdtZW50L2hhc2ggcGFyYW1zKSBwbHVzIGFueSBwYXJhbXMgb2JqZWN0IG9yXG4gIC8vIHN0cmluZyBpbnRvIGEgbmV3IFVSTCwgd2hpY2ggaXMgdGhlbiBzZXQgaW50byB0aGF0IGF0dHJpYnV0ZS4gTGlrZVxuICAvLyA8alF1ZXJ5LnBhcmFtLmZyYWdtZW50IChidWlsZCB1cmwpPiwgYnV0IGZvciBhbGwgZWxlbWVudHMgaW4gYSBqUXVlcnlcbiAgLy8gY29sbGVjdGlvbi5cbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkoJ3NlbGVjdG9yJykuZnJhZ21lbnQoIFsgYXR0ciwgXSBwYXJhbXMgWywgbWVyZ2VfbW9kZSBdICk7XG4gIC8vIFxuICAvLyBBcmd1bWVudHM6XG4gIC8vIFxuICAvLyAgYXR0ciAtIChTdHJpbmcpIE9wdGlvbmFsIG5hbWUgb2YgYW4gYXR0cmlidXRlIHRoYXQgd2lsbCBjb250YWluIGEgVVJMIHRvXG4gIC8vICAgIG1lcmdlIHBhcmFtcyBpbnRvLiBTZWUgPGpRdWVyeS5lbGVtVXJsQXR0cj4gZm9yIGEgbGlzdCBvZiBkZWZhdWx0XG4gIC8vICAgIGF0dHJpYnV0ZXMuXG4gIC8vICBwYXJhbXMgLSAoT2JqZWN0KSBBIHBhcmFtcyBvYmplY3QgdG8gYmUgbWVyZ2VkIGludG8gdGhlIFVSTCBhdHRyaWJ1dGUuXG4gIC8vICBwYXJhbXMgLSAoU3RyaW5nKSBBIFVSTCBjb250YWluaW5nIGZyYWdtZW50IChoYXNoKSBwYXJhbXMsIG9yIHBhcmFtc1xuICAvLyAgICBzdHJpbmcgdG8gYmUgbWVyZ2VkIGludG8gdGhlIFVSTCBhdHRyaWJ1dGUuXG4gIC8vICBtZXJnZV9tb2RlIC0gKE51bWJlcikgTWVyZ2UgYmVoYXZpb3IgZGVmYXVsdHMgdG8gMCBpZiBtZXJnZV9tb2RlIGlzIG5vdFxuICAvLyAgICBzcGVjaWZpZWQsIGFuZCBpcyBhcy1mb2xsb3dzOlxuICAvLyAgICBcbiAgLy8gICAgKiAwOiBwYXJhbXMgaW4gdGhlIHBhcmFtcyBhcmd1bWVudCB3aWxsIG92ZXJyaWRlIGFueSBwYXJhbXMgaW4gYXR0ciBVUkwuXG4gIC8vICAgICogMTogYW55IHBhcmFtcyBpbiBhdHRyIFVSTCB3aWxsIG92ZXJyaWRlIHBhcmFtcyBpbiB0aGUgcGFyYW1zIGFyZ3VtZW50LlxuICAvLyAgICAqIDI6IHBhcmFtcyBhcmd1bWVudCB3aWxsIGNvbXBsZXRlbHkgcmVwbGFjZSBhbnkgZnJhZ21lbnQgKGhhc2gpIGluIGF0dHJcbiAgLy8gICAgICAgICBVUkwuXG4gIC8vIFxuICAvLyBSZXR1cm5zOlxuICAvLyBcbiAgLy8gIChqUXVlcnkpIFRoZSBpbml0aWFsIGpRdWVyeSBjb2xsZWN0aW9uIG9mIGVsZW1lbnRzLCBidXQgd2l0aCBtb2RpZmllZCBVUkxcbiAgLy8gIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gIFxuICBmdW5jdGlvbiBqcV9mbl9zdWIoIG1vZGUsIGZvcmNlX2F0dHIsIHBhcmFtcywgbWVyZ2VfbW9kZSApIHtcbiAgICBpZiAoICFpc19zdHJpbmcoIHBhcmFtcyApICYmIHR5cGVvZiBwYXJhbXMgIT09ICdvYmplY3QnICkge1xuICAgICAgLy8gZm9yY2VfYXR0ciBub3Qgc3BlY2lmaWVkLlxuICAgICAgbWVyZ2VfbW9kZSA9IHBhcmFtcztcbiAgICAgIHBhcmFtcyA9IGZvcmNlX2F0dHI7XG4gICAgICBmb3JjZV9hdHRyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgdGhhdCA9ICQodGhpcyksXG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgYXR0cmlidXRlIHNwZWNpZmllZCwgb3IgZGVmYXVsdCBzcGVjaWZpZWQgdmlhICQuZWxlbVVybEF0dHIuXG4gICAgICAgIGF0dHIgPSBmb3JjZV9hdHRyIHx8IGpxX2VsZW1VcmxBdHRyKClbICggdGhpcy5ub2RlTmFtZSB8fCAnJyApLnRvTG93ZXJDYXNlKCkgXSB8fCAnJyxcbiAgICAgICAgXG4gICAgICAgIC8vIEdldCBVUkwgdmFsdWUuXG4gICAgICAgIHVybCA9IGF0dHIgJiYgdGhhdC5hdHRyKCBhdHRyICkgfHwgJyc7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBhdHRyaWJ1dGUgd2l0aCBuZXcgVVJMLlxuICAgICAgdGhhdC5hdHRyKCBhdHRyLCBqcV9wYXJhbVsgbW9kZSBdKCB1cmwsIHBhcmFtcywgbWVyZ2VfbW9kZSApICk7XG4gICAgfSk7XG4gICAgXG4gIH07XG4gIFxuICAkLmZuWyBzdHJfcXVlcnlzdHJpbmcgXSA9IGN1cnJ5KCBqcV9mbl9zdWIsIHN0cl9xdWVyeXN0cmluZyApO1xuICAkLmZuWyBzdHJfZnJhZ21lbnQgXSAgICA9IGN1cnJ5KCBqcV9mbl9zdWIsIHN0cl9mcmFnbWVudCApO1xuICBcbiAgLy8gU2VjdGlvbjogSGlzdG9yeSwgaGFzaGNoYW5nZSBldmVudFxuICAvLyBcbiAgLy8gTWV0aG9kOiBqUXVlcnkuYmJxLnB1c2hTdGF0ZVxuICAvLyBcbiAgLy8gQWRkcyBhICdzdGF0ZScgaW50byB0aGUgYnJvd3NlciBoaXN0b3J5IGF0IHRoZSBjdXJyZW50IHBvc2l0aW9uLCBzZXR0aW5nXG4gIC8vIGxvY2F0aW9uLmhhc2ggYW5kIHRyaWdnZXJpbmcgYW55IGJvdW5kIDxoYXNoY2hhbmdlIGV2ZW50PiBjYWxsYmFja3NcbiAgLy8gKHByb3ZpZGVkIHRoZSBuZXcgc3RhdGUgaXMgZGlmZmVyZW50IHRoYW4gdGhlIHByZXZpb3VzIHN0YXRlKS5cbiAgLy8gXG4gIC8vIElmIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkLCBhbiBlbXB0eSBzdGF0ZSBpcyBjcmVhdGVkLCB3aGljaCBpcyBqdXN0IGFcbiAgLy8gc2hvcnRjdXQgZm9yIGpRdWVyeS5iYnEucHVzaFN0YXRlKCB7fSwgMiApLlxuICAvLyBcbiAgLy8gVXNhZ2U6XG4gIC8vIFxuICAvLyA+IGpRdWVyeS5iYnEucHVzaFN0YXRlKCBbIHBhcmFtcyBbLCBtZXJnZV9tb2RlIF0gXSApO1xuICAvLyBcbiAgLy8gQXJndW1lbnRzOlxuICAvLyBcbiAgLy8gIHBhcmFtcyAtIChTdHJpbmcpIEEgc2VyaWFsaXplZCBwYXJhbXMgc3RyaW5nIG9yIGEgaGFzaCBzdHJpbmcgYmVnaW5uaW5nXG4gIC8vICAgIHdpdGggIyB0byBtZXJnZSBpbnRvIGxvY2F0aW9uLmhhc2guXG4gIC8vICBwYXJhbXMgLSAoT2JqZWN0KSBBIHBhcmFtcyBvYmplY3QgdG8gbWVyZ2UgaW50byBsb2NhdGlvbi5oYXNoLlxuICAvLyAgbWVyZ2VfbW9kZSAtIChOdW1iZXIpIE1lcmdlIGJlaGF2aW9yIGRlZmF1bHRzIHRvIDAgaWYgbWVyZ2VfbW9kZSBpcyBub3RcbiAgLy8gICAgc3BlY2lmaWVkICh1bmxlc3MgYSBoYXNoIHN0cmluZyBiZWdpbm5pbmcgd2l0aCAjIGlzIHNwZWNpZmllZCwgaW4gd2hpY2hcbiAgLy8gICAgY2FzZSBtZXJnZSBiZWhhdmlvciBkZWZhdWx0cyB0byAyKSwgYW5kIGlzIGFzLWZvbGxvd3M6XG4gIC8vIFxuICAvLyAgICAqIDA6IHBhcmFtcyBpbiB0aGUgcGFyYW1zIGFyZ3VtZW50IHdpbGwgb3ZlcnJpZGUgYW55IHBhcmFtcyBpbiB0aGVcbiAgLy8gICAgICAgICBjdXJyZW50IHN0YXRlLlxuICAvLyAgICAqIDE6IGFueSBwYXJhbXMgaW4gdGhlIGN1cnJlbnQgc3RhdGUgd2lsbCBvdmVycmlkZSBwYXJhbXMgaW4gdGhlIHBhcmFtc1xuICAvLyAgICAgICAgIGFyZ3VtZW50LlxuICAvLyAgICAqIDI6IHBhcmFtcyBhcmd1bWVudCB3aWxsIGNvbXBsZXRlbHkgcmVwbGFjZSBjdXJyZW50IHN0YXRlLlxuICAvLyBcbiAgLy8gUmV0dXJuczpcbiAgLy8gXG4gIC8vICBOb3RoaW5nLlxuICAvLyBcbiAgLy8gQWRkaXRpb25hbCBOb3RlczpcbiAgLy8gXG4gIC8vICAqIFNldHRpbmcgYW4gZW1wdHkgc3RhdGUgbWF5IGNhdXNlIHRoZSBicm93c2VyIHRvIHNjcm9sbC5cbiAgLy8gICogVW5saWtlIHRoZSBmcmFnbWVudCBhbmQgcXVlcnlzdHJpbmcgbWV0aG9kcywgaWYgYSBoYXNoIHN0cmluZyBiZWdpbm5pbmdcbiAgLy8gICAgd2l0aCAjIGlzIHNwZWNpZmllZCBhcyB0aGUgcGFyYW1zIGFncnVtZW50LCBtZXJnZV9tb2RlIGRlZmF1bHRzIHRvIDIuXG4gIFxuICBqcV9iYnEucHVzaFN0YXRlID0ganFfYmJxX3B1c2hTdGF0ZSA9IGZ1bmN0aW9uKCBwYXJhbXMsIG1lcmdlX21vZGUgKSB7XG4gICAgaWYgKCBpc19zdHJpbmcoIHBhcmFtcyApICYmIC9eIy8udGVzdCggcGFyYW1zICkgJiYgbWVyZ2VfbW9kZSA9PT0gdW5kZWZpbmVkICkge1xuICAgICAgLy8gUGFyYW1zIHN0cmluZyBiZWdpbnMgd2l0aCAjIGFuZCBtZXJnZV9tb2RlIG5vdCBzcGVjaWZpZWQsIHNvIGNvbXBsZXRlbHlcbiAgICAgIC8vIG92ZXJ3cml0ZSB3aW5kb3cubG9jYXRpb24uaGFzaC5cbiAgICAgIG1lcmdlX21vZGUgPSAyO1xuICAgIH1cbiAgICBcbiAgICB2YXIgaGFzX2FyZ3MgPSBwYXJhbXMgIT09IHVuZGVmaW5lZCxcbiAgICAgIC8vIE1lcmdlIHBhcmFtcyBpbnRvIHdpbmRvdy5sb2NhdGlvbiB1c2luZyAkLnBhcmFtLmZyYWdtZW50LlxuICAgICAgdXJsID0ganFfcGFyYW1fZnJhZ21lbnQoIGxvY2F0aW9uLmhyZWYsXG4gICAgICAgIGhhc19hcmdzID8gcGFyYW1zIDoge30sIGhhc19hcmdzID8gbWVyZ2VfbW9kZSA6IDIgKTtcbiAgICBcbiAgICAvLyBTZXQgbmV3IHdpbmRvdy5sb2NhdGlvbi5ocmVmLiBOb3RlIHRoYXQgU2FmYXJpIDMgJiBDaHJvbWUgYmFyZiBvblxuICAgIC8vIGxvY2F0aW9uLmhhc2ggPSAnIycgc28gdGhlIGVudGlyZSBVUkwgaXMgc2V0LlxuICAgIGxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gIH07XG4gIFxuICAvLyBNZXRob2Q6IGpRdWVyeS5iYnEuZ2V0U3RhdGVcbiAgLy8gXG4gIC8vIFJldHJpZXZlcyB0aGUgY3VycmVudCAnc3RhdGUnIGZyb20gdGhlIGJyb3dzZXIgaGlzdG9yeSwgcGFyc2luZ1xuICAvLyBsb2NhdGlvbi5oYXNoIGZvciBhIHNwZWNpZmljIGtleSBvciByZXR1cm5pbmcgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlXG4gIC8vIGVudGlyZSBzdGF0ZSwgb3B0aW9uYWxseSBjb2VyY2luZyBudW1iZXJzLCBib29sZWFucywgbnVsbCBhbmQgdW5kZWZpbmVkXG4gIC8vIHZhbHVlcy5cbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkuYmJxLmdldFN0YXRlKCBbIGtleSBdIFssIGNvZXJjZSBdICk7XG4gIC8vIFxuICAvLyBBcmd1bWVudHM6XG4gIC8vIFxuICAvLyAga2V5IC0gKFN0cmluZykgQW4gb3B0aW9uYWwgc3RhdGUga2V5IGZvciB3aGljaCB0byByZXR1cm4gYSB2YWx1ZS5cbiAgLy8gIGNvZXJjZSAtIChCb29sZWFuKSBJZiB0cnVlLCBjb2VyY2VzIGFueSBudW1iZXJzIG9yIHRydWUsIGZhbHNlLCBudWxsLCBhbmRcbiAgLy8gICAgdW5kZWZpbmVkIHRvIHRoZWlyIGFjdHVhbCB2YWx1ZS4gRGVmYXVsdHMgdG8gZmFsc2UuXG4gIC8vIFxuICAvLyBSZXR1cm5zOlxuICAvLyBcbiAgLy8gIChBbnl0aGluZykgSWYga2V5IGlzIHBhc3NlZCwgcmV0dXJucyB0aGUgdmFsdWUgY29ycmVzcG9uZGluZyB3aXRoIHRoYXQga2V5XG4gIC8vICAgIGluIHRoZSBsb2NhdGlvbi5oYXNoICdzdGF0ZScsIG9yIHVuZGVmaW5lZC4gSWYgbm90LCBhbiBvYmplY3RcbiAgLy8gICAgcmVwcmVzZW50aW5nIHRoZSBlbnRpcmUgJ3N0YXRlJyBpcyByZXR1cm5lZC5cbiAgXG4gIGpxX2JicS5nZXRTdGF0ZSA9IGpxX2JicV9nZXRTdGF0ZSA9IGZ1bmN0aW9uKCBrZXksIGNvZXJjZSApIHtcbiAgICByZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIGtleSA9PT0gJ2Jvb2xlYW4nXG4gICAgICA/IGpxX2RlcGFyYW1fZnJhZ21lbnQoIGtleSApIC8vICdrZXknIHJlYWxseSBtZWFucyAnY29lcmNlJyBoZXJlXG4gICAgICA6IGpxX2RlcGFyYW1fZnJhZ21lbnQoIGNvZXJjZSApWyBrZXkgXTtcbiAgfTtcbiAgXG4gIC8vIE1ldGhvZDogalF1ZXJ5LmJicS5yZW1vdmVTdGF0ZVxuICAvLyBcbiAgLy8gUmVtb3ZlIG9uZSBvciBtb3JlIGtleXMgZnJvbSB0aGUgY3VycmVudCBicm93c2VyIGhpc3RvcnkgJ3N0YXRlJywgY3JlYXRpbmdcbiAgLy8gYSBuZXcgc3RhdGUsIHNldHRpbmcgbG9jYXRpb24uaGFzaCBhbmQgdHJpZ2dlcmluZyBhbnkgYm91bmRcbiAgLy8gPGhhc2hjaGFuZ2UgZXZlbnQ+IGNhbGxiYWNrcyAocHJvdmlkZWQgdGhlIG5ldyBzdGF0ZSBpcyBkaWZmZXJlbnQgdGhhblxuICAvLyB0aGUgcHJldmlvdXMgc3RhdGUpLlxuICAvLyBcbiAgLy8gSWYgbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQsIGFuIGVtcHR5IHN0YXRlIGlzIGNyZWF0ZWQsIHdoaWNoIGlzIGp1c3QgYVxuICAvLyBzaG9ydGN1dCBmb3IgalF1ZXJ5LmJicS5wdXNoU3RhdGUoIHt9LCAyICkuXG4gIC8vIFxuICAvLyBVc2FnZTpcbiAgLy8gXG4gIC8vID4galF1ZXJ5LmJicS5yZW1vdmVTdGF0ZSggWyBrZXkgWywga2V5IC4uLiBdIF0gKTtcbiAgLy8gXG4gIC8vIEFyZ3VtZW50czpcbiAgLy8gXG4gIC8vICBrZXkgLSAoU3RyaW5nKSBPbmUgb3IgbW9yZSBrZXkgdmFsdWVzIHRvIHJlbW92ZSBmcm9tIHRoZSBjdXJyZW50IHN0YXRlLFxuICAvLyAgICBwYXNzZWQgYXMgaW5kaXZpZHVhbCBhcmd1bWVudHMuXG4gIC8vICBrZXkgLSAoQXJyYXkpIEEgc2luZ2xlIGFycmF5IGFyZ3VtZW50IHRoYXQgY29udGFpbnMgYSBsaXN0IG9mIGtleSB2YWx1ZXNcbiAgLy8gICAgdG8gcmVtb3ZlIGZyb20gdGhlIGN1cnJlbnQgc3RhdGUuXG4gIC8vIFxuICAvLyBSZXR1cm5zOlxuICAvLyBcbiAgLy8gIE5vdGhpbmcuXG4gIC8vIFxuICAvLyBBZGRpdGlvbmFsIE5vdGVzOlxuICAvLyBcbiAgLy8gICogU2V0dGluZyBhbiBlbXB0eSBzdGF0ZSBtYXkgY2F1c2UgdGhlIGJyb3dzZXIgdG8gc2Nyb2xsLlxuICBcbiAganFfYmJxLnJlbW92ZVN0YXRlID0gZnVuY3Rpb24oIGFyciApIHtcbiAgICB2YXIgc3RhdGUgPSB7fTtcbiAgICBcbiAgICAvLyBJZiBvbmUgb3IgbW9yZSBhcmd1bWVudHMgaXMgcGFzc2VkLi5cbiAgICBpZiAoIGFyciAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgXG4gICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgc3RhdGUuXG4gICAgICBzdGF0ZSA9IGpxX2JicV9nZXRTdGF0ZSgpO1xuICAgICAgXG4gICAgICAvLyBGb3IgZWFjaCBwYXNzZWQga2V5LCBkZWxldGUgdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgZnJvbSB0aGUgY3VycmVudFxuICAgICAgLy8gc3RhdGUuXG4gICAgICAkLmVhY2goICQuaXNBcnJheSggYXJyICkgPyBhcnIgOiBhcmd1bWVudHMsIGZ1bmN0aW9uKGksdil7XG4gICAgICAgIGRlbGV0ZSBzdGF0ZVsgdiBdO1xuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFNldCB0aGUgc3RhdGUsIGNvbXBsZXRlbHkgb3ZlcnJpZGluZyBhbnkgZXhpc3Rpbmcgc3RhdGUuXG4gICAganFfYmJxX3B1c2hTdGF0ZSggc3RhdGUsIDIgKTtcbiAgfTtcbiAgXG4gIC8vIEV2ZW50OiBoYXNoY2hhbmdlIGV2ZW50IChCQlEpXG4gIC8vIFxuICAvLyBVc2FnZSBpbiBqUXVlcnkgMS40IGFuZCBuZXdlcjpcbiAgLy8gXG4gIC8vIEluIGpRdWVyeSAxLjQgYW5kIG5ld2VyLCB0aGUgZXZlbnQgb2JqZWN0IHBhc3NlZCBpbnRvIGFueSBoYXNoY2hhbmdlIGV2ZW50XG4gIC8vIGNhbGxiYWNrIGlzIGF1Z21lbnRlZCB3aXRoIGEgY29weSBvZiB0aGUgbG9jYXRpb24uaGFzaCBmcmFnbWVudCBhdCB0aGUgdGltZVxuICAvLyB0aGUgZXZlbnQgd2FzIHRyaWdnZXJlZCBhcyBpdHMgZXZlbnQuZnJhZ21lbnQgcHJvcGVydHkuIEluIGFkZGl0aW9uLCB0aGVcbiAgLy8gZXZlbnQuZ2V0U3RhdGUgbWV0aG9kIG9wZXJhdGVzIG9uIHRoaXMgcHJvcGVydHkgKGluc3RlYWQgb2YgbG9jYXRpb24uaGFzaClcbiAgLy8gd2hpY2ggYWxsb3dzIHRoaXMgZnJhZ21lbnQtYXMtYS1zdGF0ZSB0byBiZSByZWZlcmVuY2VkIGxhdGVyLCBldmVuIGFmdGVyXG4gIC8vIHdpbmRvdy5sb2NhdGlvbiBtYXkgaGF2ZSBjaGFuZ2VkLlxuICAvLyBcbiAgLy8gTm90ZSB0aGF0IGV2ZW50LmZyYWdtZW50IGFuZCBldmVudC5nZXRTdGF0ZSBhcmUgbm90IGRlZmluZWQgYWNjb3JkaW5nIHRvXG4gIC8vIFczQyAob3IgYW55IG90aGVyKSBzcGVjaWZpY2F0aW9uLCBidXQgd2lsbCBzdGlsbCBiZSBhdmFpbGFibGUgd2hldGhlciBvclxuICAvLyBub3QgdGhlIGhhc2hjaGFuZ2UgZXZlbnQgZXhpc3RzIG5hdGl2ZWx5IGluIHRoZSBicm93c2VyLCBiZWNhdXNlIG9mIHRoZVxuICAvLyB1dGlsaXR5IHRoZXkgcHJvdmlkZS5cbiAgLy8gXG4gIC8vIFRoZSBldmVudC5mcmFnbWVudCBwcm9wZXJ0eSBjb250YWlucyB0aGUgb3V0cHV0IG9mIDxqUXVlcnkucGFyYW0uZnJhZ21lbnQ+XG4gIC8vIGFuZCB0aGUgZXZlbnQuZ2V0U3RhdGUgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gdGhlIDxqUXVlcnkuYmJxLmdldFN0YXRlPlxuICAvLyBtZXRob2QuXG4gIC8vIFxuICAvLyA+ICQod2luZG93KS5iaW5kKCAnaGFzaGNoYW5nZScsIGZ1bmN0aW9uKCBldmVudCApIHtcbiAgLy8gPiAgIHZhciBoYXNoX3N0ciA9IGV2ZW50LmZyYWdtZW50LFxuICAvLyA+ICAgICBwYXJhbV9vYmogPSBldmVudC5nZXRTdGF0ZSgpLFxuICAvLyA+ICAgICBwYXJhbV92YWwgPSBldmVudC5nZXRTdGF0ZSggJ3BhcmFtX25hbWUnICksXG4gIC8vID4gICAgIHBhcmFtX3ZhbF9jb2VyY2VkID0gZXZlbnQuZ2V0U3RhdGUoICdwYXJhbV9uYW1lJywgdHJ1ZSApO1xuICAvLyA+ICAgLi4uXG4gIC8vID4gfSk7XG4gIC8vIFxuICAvLyBVc2FnZSBpbiBqUXVlcnkgMS4zLjI6XG4gIC8vIFxuICAvLyBJbiBqUXVlcnkgMS4zLjIsIHRoZSBldmVudCBvYmplY3QgY2Fubm90IHRvIGJlIGF1Z21lbnRlZCBhcyBpbiBqUXVlcnkgMS40KyxcbiAgLy8gc28gdGhlIGZyYWdtZW50IHN0YXRlIGlzbid0IGJvdW5kIHRvIHRoZSBldmVudCBvYmplY3QgYW5kIG11c3QgaW5zdGVhZCBiZVxuICAvLyBwYXJzZWQgdXNpbmcgdGhlIDxqUXVlcnkucGFyYW0uZnJhZ21lbnQ+IGFuZCA8alF1ZXJ5LmJicS5nZXRTdGF0ZT4gbWV0aG9kcy5cbiAgLy8gXG4gIC8vID4gJCh3aW5kb3cpLmJpbmQoICdoYXNoY2hhbmdlJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuICAvLyA+ICAgdmFyIGhhc2hfc3RyID0gJC5wYXJhbS5mcmFnbWVudCgpLFxuICAvLyA+ICAgICBwYXJhbV9vYmogPSAkLmJicS5nZXRTdGF0ZSgpLFxuICAvLyA+ICAgICBwYXJhbV92YWwgPSAkLmJicS5nZXRTdGF0ZSggJ3BhcmFtX25hbWUnICksXG4gIC8vID4gICAgIHBhcmFtX3ZhbF9jb2VyY2VkID0gJC5iYnEuZ2V0U3RhdGUoICdwYXJhbV9uYW1lJywgdHJ1ZSApO1xuICAvLyA+ICAgLi4uXG4gIC8vID4gfSk7XG4gIC8vIFxuICAvLyBBZGRpdGlvbmFsIE5vdGVzOlxuICAvLyBcbiAgLy8gKiBEdWUgdG8gY2hhbmdlcyBpbiB0aGUgc3BlY2lhbCBldmVudHMgQVBJLCBqUXVlcnkgQkJRIHYxLjIgb3IgbmV3ZXIgaXNcbiAgLy8gICByZXF1aXJlZCB0byBlbmFibGUgdGhlIGF1Z21lbnRlZCBldmVudCBvYmplY3QgaW4galF1ZXJ5IDEuNC4yIGFuZCBuZXdlci5cbiAgLy8gKiBTZWUgPGpRdWVyeSBoYXNoY2hhbmdlIGV2ZW50PiBmb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbi5cbiAgXG4gIHNwZWNpYWxbIHN0cl9oYXNoY2hhbmdlIF0gPSAkLmV4dGVuZCggc3BlY2lhbFsgc3RyX2hhc2hjaGFuZ2UgXSwge1xuICAgIFxuICAgIC8vIEF1Z21lbnRpbmcgdGhlIGV2ZW50IG9iamVjdCB3aXRoIHRoZSAuZnJhZ21lbnQgcHJvcGVydHkgYW5kIC5nZXRTdGF0ZVxuICAgIC8vIG1ldGhvZCByZXF1aXJlcyBqUXVlcnkgMS40IG9yIG5ld2VyLiBOb3RlOiB3aXRoIDEuMy4yLCBldmVyeXRoaW5nIHdpbGxcbiAgICAvLyB3b3JrLCBidXQgdGhlIGV2ZW50IHdvbid0IGJlIGF1Z21lbnRlZClcbiAgICBhZGQ6IGZ1bmN0aW9uKCBoYW5kbGVPYmogKSB7XG4gICAgICB2YXIgb2xkX2hhbmRsZXI7XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIG5ld19oYW5kbGVyKGUpIHtcbiAgICAgICAgLy8gZS5mcmFnbWVudCBpcyBzZXQgdG8gdGhlIHZhbHVlIG9mIGxvY2F0aW9uLmhhc2ggKHdpdGggYW55IGxlYWRpbmcgI1xuICAgICAgICAvLyByZW1vdmVkKSBhdCB0aGUgdGltZSB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLlxuICAgICAgICB2YXIgaGFzaCA9IGVbIHN0cl9mcmFnbWVudCBdID0ganFfcGFyYW1fZnJhZ21lbnQoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIGUuZ2V0U3RhdGUoKSB3b3JrcyBqdXN0IGxpa2UgJC5iYnEuZ2V0U3RhdGUoKSwgYnV0IHVzZXMgdGhlXG4gICAgICAgIC8vIGUuZnJhZ21lbnQgcHJvcGVydHkgc3RvcmVkIG9uIHRoZSBldmVudCBvYmplY3QuXG4gICAgICAgIGUuZ2V0U3RhdGUgPSBmdW5jdGlvbigga2V5LCBjb2VyY2UgKSB7XG4gICAgICAgICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBrZXkgPT09ICdib29sZWFuJ1xuICAgICAgICAgICAgPyBqcV9kZXBhcmFtKCBoYXNoLCBrZXkgKSAvLyAna2V5JyByZWFsbHkgbWVhbnMgJ2NvZXJjZScgaGVyZVxuICAgICAgICAgICAgOiBqcV9kZXBhcmFtKCBoYXNoLCBjb2VyY2UgKVsga2V5IF07XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBvbGRfaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBUaGlzIG1heSBzZWVtIGEgbGl0dGxlIGNvbXBsaWNhdGVkLCBidXQgaXQgbm9ybWFsaXplcyB0aGUgc3BlY2lhbCBldmVudFxuICAgICAgLy8gLmFkZCBtZXRob2QgYmV0d2VlbiBqUXVlcnkgMS40LzEuNC4xIGFuZCAxLjQuMitcbiAgICAgIGlmICggJC5pc0Z1bmN0aW9uKCBoYW5kbGVPYmogKSApIHtcbiAgICAgICAgLy8gMS40LCAxLjQuMVxuICAgICAgICBvbGRfaGFuZGxlciA9IGhhbmRsZU9iajtcbiAgICAgICAgcmV0dXJuIG5ld19oYW5kbGVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gMS40LjIrXG4gICAgICAgIG9sZF9oYW5kbGVyID0gaGFuZGxlT2JqLmhhbmRsZXI7XG4gICAgICAgIGhhbmRsZU9iai5oYW5kbGVyID0gbmV3X2hhbmRsZXI7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICB9KTtcbiAgXG59KShqUXVlcnksdGhpcyk7XG5cbi8qIVxuICogalF1ZXJ5IGhhc2hjaGFuZ2UgZXZlbnQgLSB2MS4zIC0gNy8yMS8yMDEwXG4gKiBodHRwOi8vYmVuYWxtYW4uY29tL3Byb2plY3RzL2pxdWVyeS1oYXNoY2hhbmdlLXBsdWdpbi9cbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDEwIFwiQ293Ym95XCIgQmVuIEFsbWFuXG4gKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlcy5cbiAqIGh0dHA6Ly9iZW5hbG1hbi5jb20vYWJvdXQvbGljZW5zZS9cbiAqL1xuXG4vLyBTY3JpcHQ6IGpRdWVyeSBoYXNoY2hhbmdlIGV2ZW50XG4vL1xuLy8gKlZlcnNpb246IDEuMywgTGFzdCB1cGRhdGVkOiA3LzIxLzIwMTAqXG4vLyBcbi8vIFByb2plY3QgSG9tZSAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UtcGx1Z2luL1xuLy8gR2l0SHViICAgICAgIC0gaHR0cDovL2dpdGh1Yi5jb20vY293Ym95L2pxdWVyeS1oYXNoY2hhbmdlL1xuLy8gU291cmNlICAgICAgIC0gaHR0cDovL2dpdGh1Yi5jb20vY293Ym95L2pxdWVyeS1oYXNoY2hhbmdlL3Jhdy9tYXN0ZXIvanF1ZXJ5LmJhLWhhc2hjaGFuZ2UuanNcbi8vIChNaW5pZmllZCkgICAtIGh0dHA6Ly9naXRodWIuY29tL2Nvd2JveS9qcXVlcnktaGFzaGNoYW5nZS9yYXcvbWFzdGVyL2pxdWVyeS5iYS1oYXNoY2hhbmdlLm1pbi5qcyAoMC44a2IgZ3ppcHBlZClcbi8vIFxuLy8gQWJvdXQ6IExpY2Vuc2Vcbi8vIFxuLy8gQ29weXJpZ2h0IChjKSAyMDEwIFwiQ293Ym95XCIgQmVuIEFsbWFuLFxuLy8gRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuXG4vLyBodHRwOi8vYmVuYWxtYW4uY29tL2Fib3V0L2xpY2Vuc2UvXG4vLyBcbi8vIEFib3V0OiBFeGFtcGxlc1xuLy8gXG4vLyBUaGVzZSB3b3JraW5nIGV4YW1wbGVzLCBjb21wbGV0ZSB3aXRoIGZ1bGx5IGNvbW1lbnRlZCBjb2RlLCBpbGx1c3RyYXRlIGEgZmV3XG4vLyB3YXlzIGluIHdoaWNoIHRoaXMgcGx1Z2luIGNhbiBiZSB1c2VkLlxuLy8gXG4vLyBoYXNoY2hhbmdlIGV2ZW50IC0gaHR0cDovL2JlbmFsbWFuLmNvbS9jb2RlL3Byb2plY3RzL2pxdWVyeS1oYXNoY2hhbmdlL2V4YW1wbGVzL2hhc2hjaGFuZ2UvXG4vLyBkb2N1bWVudC5kb21haW4gLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvZG9jdW1lbnRfZG9tYWluL1xuLy8gXG4vLyBBYm91dDogU3VwcG9ydCBhbmQgVGVzdGluZ1xuLy8gXG4vLyBJbmZvcm1hdGlvbiBhYm91dCB3aGF0IHZlcnNpb24gb3IgdmVyc2lvbnMgb2YgalF1ZXJ5IHRoaXMgcGx1Z2luIGhhcyBiZWVuXG4vLyB0ZXN0ZWQgd2l0aCwgd2hhdCBicm93c2VycyBpdCBoYXMgYmVlbiB0ZXN0ZWQgaW4sIGFuZCB3aGVyZSB0aGUgdW5pdCB0ZXN0c1xuLy8gcmVzaWRlIChzbyB5b3UgY2FuIHRlc3QgaXQgeW91cnNlbGYpLlxuLy8gXG4vLyBqUXVlcnkgVmVyc2lvbnMgLSAxLjIuNiwgMS4zLjIsIDEuNC4xLCAxLjQuMlxuLy8gQnJvd3NlcnMgVGVzdGVkIC0gSW50ZXJuZXQgRXhwbG9yZXIgNi04LCBGaXJlZm94IDItNCwgQ2hyb21lIDUtNiwgU2FmYXJpIDMuMi01LFxuLy8gICAgICAgICAgICAgICAgICAgT3BlcmEgOS42LTEwLjYwLCBpUGhvbmUgMy4xLCBBbmRyb2lkIDEuNi0yLjIsIEJsYWNrQmVycnkgNC42LTUuXG4vLyBVbml0IFRlc3RzICAgICAgLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvdW5pdC9cbi8vIFxuLy8gQWJvdXQ6IEtub3duIGlzc3Vlc1xuLy8gXG4vLyBXaGlsZSB0aGlzIGpRdWVyeSBoYXNoY2hhbmdlIGV2ZW50IGltcGxlbWVudGF0aW9uIGlzIHF1aXRlIHN0YWJsZSBhbmRcbi8vIHJvYnVzdCwgdGhlcmUgYXJlIGEgZmV3IHVuZm9ydHVuYXRlIGJyb3dzZXIgYnVncyBzdXJyb3VuZGluZyBleHBlY3RlZFxuLy8gaGFzaGNoYW5nZSBldmVudC1iYXNlZCBiZWhhdmlvcnMsIGluZGVwZW5kZW50IG9mIGFueSBKYXZhU2NyaXB0XG4vLyB3aW5kb3cub25oYXNoY2hhbmdlIGFic3RyYWN0aW9uLiBTZWUgdGhlIGZvbGxvd2luZyBleGFtcGxlcyBmb3IgbW9yZVxuLy8gaW5mb3JtYXRpb246XG4vLyBcbi8vIENocm9tZTogQmFjayBCdXR0b24gLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvYnVnLWNocm9tZS1iYWNrLWJ1dHRvbi9cbi8vIEZpcmVmb3g6IFJlbW90ZSBYTUxIdHRwUmVxdWVzdCAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS9leGFtcGxlcy9idWctZmlyZWZveC1yZW1vdGUteGhyL1xuLy8gV2ViS2l0OiBCYWNrIEJ1dHRvbiBpbiBhbiBJZnJhbWUgLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvYnVnLXdlYmtpdC1oYXNoLWlmcmFtZS9cbi8vIFNhZmFyaTogQmFjayBCdXR0b24gZnJvbSBhIGRpZmZlcmVudCBkb21haW4gLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvYnVnLXNhZmFyaS1iYWNrLWZyb20tZGlmZi1kb21haW4vXG4vLyBcbi8vIEFsc28gbm90ZSB0aGF0IHNob3VsZCBhIGJyb3dzZXIgbmF0aXZlbHkgc3VwcG9ydCB0aGUgd2luZG93Lm9uaGFzaGNoYW5nZSBcbi8vIGV2ZW50LCBidXQgbm90IHJlcG9ydCB0aGF0IGl0IGRvZXMsIHRoZSBmYWxsYmFjayBwb2xsaW5nIGxvb3Agd2lsbCBiZSB1c2VkLlxuLy8gXG4vLyBBYm91dDogUmVsZWFzZSBIaXN0b3J5XG4vLyBcbi8vIDEuMyAgIC0gKDcvMjEvMjAxMCkgUmVvcmdhbml6ZWQgSUU2LzcgSWZyYW1lIGNvZGUgdG8gbWFrZSBpdCBtb3JlXG4vLyAgICAgICAgIFwicmVtb3ZhYmxlXCIgZm9yIG1vYmlsZS1vbmx5IGRldmVsb3BtZW50LiBBZGRlZCBJRTYvNyBkb2N1bWVudC50aXRsZVxuLy8gICAgICAgICBzdXBwb3J0LiBBdHRlbXB0ZWQgdG8gbWFrZSBJZnJhbWUgYXMgaGlkZGVuIGFzIHBvc3NpYmxlIGJ5IHVzaW5nXG4vLyAgICAgICAgIHRlY2huaXF1ZXMgZnJvbSBodHRwOi8vd3d3LnBhY2llbGxvZ3JvdXAuY29tL2Jsb2cvP3A9NjA0LiBBZGRlZCBcbi8vICAgICAgICAgc3VwcG9ydCBmb3IgdGhlIFwic2hvcnRjdXRcIiBmb3JtYXQgJCh3aW5kb3cpLmhhc2hjaGFuZ2UoIGZuICkgYW5kXG4vLyAgICAgICAgICQod2luZG93KS5oYXNoY2hhbmdlKCkgbGlrZSBqUXVlcnkgcHJvdmlkZXMgZm9yIGJ1aWx0LWluIGV2ZW50cy5cbi8vICAgICAgICAgUmVuYW1lZCBqUXVlcnkuaGFzaGNoYW5nZURlbGF5IHRvIDxqUXVlcnkuZm4uaGFzaGNoYW5nZS5kZWxheT4gYW5kXG4vLyAgICAgICAgIGxvd2VyZWQgaXRzIGRlZmF1bHQgdmFsdWUgdG8gNTAuIEFkZGVkIDxqUXVlcnkuZm4uaGFzaGNoYW5nZS5kb21haW4+XG4vLyAgICAgICAgIGFuZCA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2Uuc3JjPiBwcm9wZXJ0aWVzIHBsdXMgZG9jdW1lbnQtZG9tYWluLmh0bWxcbi8vICAgICAgICAgZmlsZSB0byBhZGRyZXNzIGFjY2VzcyBkZW5pZWQgaXNzdWVzIHdoZW4gc2V0dGluZyBkb2N1bWVudC5kb21haW4gaW5cbi8vICAgICAgICAgSUU2LzcuXG4vLyAxLjIgICAtICgyLzExLzIwMTApIEZpeGVkIGEgYnVnIHdoZXJlIGNvbWluZyBiYWNrIHRvIGEgcGFnZSB1c2luZyB0aGlzIHBsdWdpblxuLy8gICAgICAgICBmcm9tIGEgcGFnZSBvbiBhbm90aGVyIGRvbWFpbiB3b3VsZCBjYXVzZSBhbiBlcnJvciBpbiBTYWZhcmkgNC4gQWxzbyxcbi8vICAgICAgICAgSUU2LzcgSWZyYW1lIGlzIG5vdyBpbnNlcnRlZCBhZnRlciB0aGUgYm9keSAodGhpcyBhY3R1YWxseSB3b3JrcyksXG4vLyAgICAgICAgIHdoaWNoIHByZXZlbnRzIHRoZSBwYWdlIGZyb20gc2Nyb2xsaW5nIHdoZW4gdGhlIGV2ZW50IGlzIGZpcnN0IGJvdW5kLlxuLy8gICAgICAgICBFdmVudCBjYW4gYWxzbyBub3cgYmUgYm91bmQgYmVmb3JlIERPTSByZWFkeSwgYnV0IGl0IHdvbid0IGJlIHVzYWJsZVxuLy8gICAgICAgICBiZWZvcmUgdGhlbiBpbiBJRTYvNy5cbi8vIDEuMSAgIC0gKDEvMjEvMjAxMCkgSW5jb3Jwb3JhdGVkIGRvY3VtZW50LmRvY3VtZW50TW9kZSB0ZXN0IHRvIGZpeCBJRTggYnVnXG4vLyAgICAgICAgIHdoZXJlIGJyb3dzZXIgdmVyc2lvbiBpcyBpbmNvcnJlY3RseSByZXBvcnRlZCBhcyA4LjAsIGRlc3BpdGVcbi8vICAgICAgICAgaW5jbHVzaW9uIG9mIHRoZSBYLVVBLUNvbXBhdGlibGUgSUU9RW11bGF0ZUlFNyBtZXRhIHRhZy5cbi8vIDEuMCAgIC0gKDEvOS8yMDEwKSBJbml0aWFsIFJlbGVhc2UuIEJyb2tlIG91dCB0aGUgalF1ZXJ5IEJCUSBldmVudC5zcGVjaWFsXG4vLyAgICAgICAgIHdpbmRvdy5vbmhhc2hjaGFuZ2UgZnVuY3Rpb25hbGl0eSBpbnRvIGEgc2VwYXJhdGUgcGx1Z2luIGZvciB1c2Vyc1xuLy8gICAgICAgICB3aG8gd2FudCBqdXN0IHRoZSBiYXNpYyBldmVudCAmIGJhY2sgYnV0dG9uIHN1cHBvcnQsIHdpdGhvdXQgYWxsIHRoZVxuLy8gICAgICAgICBleHRyYSBhd2Vzb21lbmVzcyB0aGF0IEJCUSBwcm92aWRlcy4gVGhpcyBwbHVnaW4gd2lsbCBiZSBpbmNsdWRlZCBhc1xuLy8gICAgICAgICBwYXJ0IG9mIGpRdWVyeSBCQlEsIGJ1dCBhbHNvIGJlIGF2YWlsYWJsZSBzZXBhcmF0ZWx5LlxuXG4oZnVuY3Rpb24oJCx3aW5kb3csdW5kZWZpbmVkKXtcbiAgJyQ6bm9tdW5nZSc7IC8vIFVzZWQgYnkgWVVJIGNvbXByZXNzb3IuXG4gIFxuICAvLyBSZXVzZWQgc3RyaW5nLlxuICB2YXIgc3RyX2hhc2hjaGFuZ2UgPSAnaGFzaGNoYW5nZScsXG4gICAgXG4gICAgLy8gTWV0aG9kIC8gb2JqZWN0IHJlZmVyZW5jZXMuXG4gICAgZG9jID0gZG9jdW1lbnQsXG4gICAgZmFrZV9vbmhhc2hjaGFuZ2UsXG4gICAgc3BlY2lhbCA9ICQuZXZlbnQuc3BlY2lhbCxcbiAgICBcbiAgICAvLyBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgd2luZG93Lm9uaGFzaGNoYW5nZT8gTm90ZSB0aGF0IElFOCBydW5uaW5nIGluXG4gICAgLy8gSUU3IGNvbXBhdGliaWxpdHkgbW9kZSByZXBvcnRzIHRydWUgZm9yICdvbmhhc2hjaGFuZ2UnIGluIHdpbmRvdywgZXZlblxuICAgIC8vIHRob3VnaCB0aGUgZXZlbnQgaXNuJ3Qgc3VwcG9ydGVkLCBzbyBhbHNvIHRlc3QgZG9jdW1lbnQuZG9jdW1lbnRNb2RlLlxuICAgIGRvY19tb2RlID0gZG9jLmRvY3VtZW50TW9kZSxcbiAgICBzdXBwb3J0c19vbmhhc2hjaGFuZ2UgPSAnb24nICsgc3RyX2hhc2hjaGFuZ2UgaW4gd2luZG93ICYmICggZG9jX21vZGUgPT09IHVuZGVmaW5lZCB8fCBkb2NfbW9kZSA+IDcgKTtcbiAgXG4gIC8vIEdldCBsb2NhdGlvbi5oYXNoIChvciB3aGF0IHlvdSdkIGV4cGVjdCBsb2NhdGlvbi5oYXNoIHRvIGJlKSBzYW5zIGFueVxuICAvLyBsZWFkaW5nICMuIFRoYW5rcyBmb3IgbWFraW5nIHRoaXMgbmVjZXNzYXJ5LCBGaXJlZm94IVxuICBmdW5jdGlvbiBnZXRfZnJhZ21lbnQoIHVybCApIHtcbiAgICB1cmwgPSB1cmwgfHwgbG9jYXRpb24uaHJlZjtcbiAgICByZXR1cm4gJyMnICsgdXJsLnJlcGxhY2UoIC9eW14jXSojPyguKikkLywgJyQxJyApO1xuICB9O1xuICBcbiAgLy8gTWV0aG9kOiBqUXVlcnkuZm4uaGFzaGNoYW5nZVxuICAvLyBcbiAgLy8gQmluZCBhIGhhbmRsZXIgdG8gdGhlIHdpbmRvdy5vbmhhc2hjaGFuZ2UgZXZlbnQgb3IgdHJpZ2dlciBhbGwgYm91bmRcbiAgLy8gd2luZG93Lm9uaGFzaGNoYW5nZSBldmVudCBoYW5kbGVycy4gVGhpcyBiZWhhdmlvciBpcyBjb25zaXN0ZW50IHdpdGhcbiAgLy8galF1ZXJ5J3MgYnVpbHQtaW4gZXZlbnQgaGFuZGxlcnMuXG4gIC8vIFxuICAvLyBVc2FnZTpcbiAgLy8gXG4gIC8vID4galF1ZXJ5KHdpbmRvdykuaGFzaGNoYW5nZSggWyBoYW5kbGVyIF0gKTtcbiAgLy8gXG4gIC8vIEFyZ3VtZW50czpcbiAgLy8gXG4gIC8vICBoYW5kbGVyIC0gKEZ1bmN0aW9uKSBPcHRpb25hbCBoYW5kbGVyIHRvIGJlIGJvdW5kIHRvIHRoZSBoYXNoY2hhbmdlXG4gIC8vICAgIGV2ZW50LiBUaGlzIGlzIGEgXCJzaG9ydGN1dFwiIGZvciB0aGUgbW9yZSB2ZXJib3NlIGZvcm06XG4gIC8vICAgIGpRdWVyeSh3aW5kb3cpLmJpbmQoICdoYXNoY2hhbmdlJywgaGFuZGxlciApLiBJZiBoYW5kbGVyIGlzIG9taXR0ZWQsXG4gIC8vICAgIGFsbCBib3VuZCB3aW5kb3cub25oYXNoY2hhbmdlIGV2ZW50IGhhbmRsZXJzIHdpbGwgYmUgdHJpZ2dlcmVkLiBUaGlzXG4gIC8vICAgIGlzIGEgc2hvcnRjdXQgZm9yIHRoZSBtb3JlIHZlcmJvc2VcbiAgLy8gICAgalF1ZXJ5KHdpbmRvdykudHJpZ2dlciggJ2hhc2hjaGFuZ2UnICkuIFRoZXNlIGZvcm1zIGFyZSBkZXNjcmliZWQgaW5cbiAgLy8gICAgdGhlIDxoYXNoY2hhbmdlIGV2ZW50PiBzZWN0aW9uLlxuICAvLyBcbiAgLy8gUmV0dXJuczpcbiAgLy8gXG4gIC8vICAoalF1ZXJ5KSBUaGUgaW5pdGlhbCBqUXVlcnkgY29sbGVjdGlvbiBvZiBlbGVtZW50cy5cbiAgXG4gIC8vIEFsbG93IHRoZSBcInNob3J0Y3V0XCIgZm9ybWF0ICQoZWxlbSkuaGFzaGNoYW5nZSggZm4gKSBmb3IgYmluZGluZyBhbmRcbiAgLy8gJChlbGVtKS5oYXNoY2hhbmdlKCkgZm9yIHRyaWdnZXJpbmcsIGxpa2UgalF1ZXJ5IGRvZXMgZm9yIGJ1aWx0LWluIGV2ZW50cy5cbiAgJC5mblsgc3RyX2hhc2hjaGFuZ2UgXSA9IGZ1bmN0aW9uKCBmbiApIHtcbiAgICByZXR1cm4gZm4gPyB0aGlzLmJpbmQoIHN0cl9oYXNoY2hhbmdlLCBmbiApIDogdGhpcy50cmlnZ2VyKCBzdHJfaGFzaGNoYW5nZSApO1xuICB9O1xuICBcbiAgLy8gUHJvcGVydHk6IGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRlbGF5XG4gIC8vIFxuICAvLyBUaGUgbnVtZXJpYyBpbnRlcnZhbCAoaW4gbWlsbGlzZWNvbmRzKSBhdCB3aGljaCB0aGUgPGhhc2hjaGFuZ2UgZXZlbnQ+XG4gIC8vIHBvbGxpbmcgbG9vcCBleGVjdXRlcy4gRGVmYXVsdHMgdG8gNTAuXG4gIFxuICAvLyBQcm9wZXJ0eTogalF1ZXJ5LmZuLmhhc2hjaGFuZ2UuZG9tYWluXG4gIC8vIFxuICAvLyBJZiB5b3UncmUgc2V0dGluZyBkb2N1bWVudC5kb21haW4gaW4geW91ciBKYXZhU2NyaXB0LCBhbmQgeW91IHdhbnQgaGFzaFxuICAvLyBoaXN0b3J5IHRvIHdvcmsgaW4gSUU2LzcsIG5vdCBvbmx5IG11c3QgdGhpcyBwcm9wZXJ0eSBiZSBzZXQsIGJ1dCB5b3UgbXVzdFxuICAvLyBhbHNvIHNldCBkb2N1bWVudC5kb21haW4gQkVGT1JFIGpRdWVyeSBpcyBsb2FkZWQgaW50byB0aGUgcGFnZS4gVGhpc1xuICAvLyBwcm9wZXJ0eSBpcyBvbmx5IGFwcGxpY2FibGUgaWYgeW91IGFyZSBzdXBwb3J0aW5nIElFNi83IChvciBJRTggb3BlcmF0aW5nXG4gIC8vIGluIFwiSUU3IGNvbXBhdGliaWxpdHlcIiBtb2RlKS5cbiAgLy8gXG4gIC8vIEluIGFkZGl0aW9uLCB0aGUgPGpRdWVyeS5mbi5oYXNoY2hhbmdlLnNyYz4gcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gdGhlXG4gIC8vIHBhdGggb2YgdGhlIGluY2x1ZGVkIFwiZG9jdW1lbnQtZG9tYWluLmh0bWxcIiBmaWxlLCB3aGljaCBjYW4gYmUgcmVuYW1lZCBvclxuICAvLyBtb2RpZmllZCBpZiBuZWNlc3NhcnkgKG5vdGUgdGhhdCB0aGUgZG9jdW1lbnQuZG9tYWluIHNwZWNpZmllZCBtdXN0IGJlIHRoZVxuICAvLyBzYW1lIGluIGJvdGggeW91ciBtYWluIEphdmFTY3JpcHQgYXMgd2VsbCBhcyBpbiB0aGlzIGZpbGUpLlxuICAvLyBcbiAgLy8gVXNhZ2U6XG4gIC8vIFxuICAvLyBqUXVlcnkuZm4uaGFzaGNoYW5nZS5kb21haW4gPSBkb2N1bWVudC5kb21haW47XG4gIFxuICAvLyBQcm9wZXJ0eTogalF1ZXJ5LmZuLmhhc2hjaGFuZ2Uuc3JjXG4gIC8vIFxuICAvLyBJZiwgZm9yIHNvbWUgcmVhc29uLCB5b3UgbmVlZCB0byBzcGVjaWZ5IGFuIElmcmFtZSBzcmMgZmlsZSAoZm9yIGV4YW1wbGUsXG4gIC8vIHdoZW4gc2V0dGluZyBkb2N1bWVudC5kb21haW4gYXMgaW4gPGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRvbWFpbj4pLCB5b3UgY2FuXG4gIC8vIGRvIHNvIHVzaW5nIHRoaXMgcHJvcGVydHkuIE5vdGUgdGhhdCB3aGVuIHVzaW5nIHRoaXMgcHJvcGVydHksIGhpc3RvcnlcbiAgLy8gd29uJ3QgYmUgcmVjb3JkZWQgaW4gSUU2LzcgdW50aWwgdGhlIElmcmFtZSBzcmMgZmlsZSBsb2Fkcy4gVGhpcyBwcm9wZXJ0eVxuICAvLyBpcyBvbmx5IGFwcGxpY2FibGUgaWYgeW91IGFyZSBzdXBwb3J0aW5nIElFNi83IChvciBJRTggb3BlcmF0aW5nIGluIFwiSUU3XG4gIC8vIGNvbXBhdGliaWxpdHlcIiBtb2RlKS5cbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8galF1ZXJ5LmZuLmhhc2hjaGFuZ2Uuc3JjID0gJ3BhdGgvdG8vZmlsZS5odG1sJztcbiAgXG4gICQuZm5bIHN0cl9oYXNoY2hhbmdlIF0uZGVsYXkgPSA1MDtcbiAgLypcbiAgJC5mblsgc3RyX2hhc2hjaGFuZ2UgXS5kb21haW4gPSBudWxsO1xuICAkLmZuWyBzdHJfaGFzaGNoYW5nZSBdLnNyYyA9IG51bGw7XG4gICovXG4gIFxuICAvLyBFdmVudDogaGFzaGNoYW5nZSBldmVudFxuICAvLyBcbiAgLy8gRmlyZWQgd2hlbiBsb2NhdGlvbi5oYXNoIGNoYW5nZXMuIEluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBpdCwgdGhlIG5hdGl2ZVxuICAvLyBIVE1MNSB3aW5kb3cub25oYXNoY2hhbmdlIGV2ZW50IGlzIHVzZWQsIG90aGVyd2lzZSBhIHBvbGxpbmcgbG9vcCBpc1xuICAvLyBpbml0aWFsaXplZCwgcnVubmluZyBldmVyeSA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2UuZGVsYXk+IG1pbGxpc2Vjb25kcyB0b1xuICAvLyBzZWUgaWYgdGhlIGhhc2ggaGFzIGNoYW5nZWQuIEluIElFNi83IChhbmQgSUU4IG9wZXJhdGluZyBpbiBcIklFN1xuICAvLyBjb21wYXRpYmlsaXR5XCIgbW9kZSksIGEgaGlkZGVuIElmcmFtZSBpcyBjcmVhdGVkIHRvIGFsbG93IHRoZSBiYWNrIGJ1dHRvblxuICAvLyBhbmQgaGFzaC1iYXNlZCBoaXN0b3J5IHRvIHdvcmsuXG4gIC8vIFxuICAvLyBVc2FnZSBhcyBkZXNjcmliZWQgaW4gPGpRdWVyeS5mbi5oYXNoY2hhbmdlPjpcbiAgLy8gXG4gIC8vID4gLy8gQmluZCBhbiBldmVudCBoYW5kbGVyLlxuICAvLyA+IGpRdWVyeSh3aW5kb3cpLmhhc2hjaGFuZ2UoIGZ1bmN0aW9uKGUpIHtcbiAgLy8gPiAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDtcbiAgLy8gPiAgIC4uLlxuICAvLyA+IH0pO1xuICAvLyA+IFxuICAvLyA+IC8vIE1hbnVhbGx5IHRyaWdnZXIgdGhlIGV2ZW50IGhhbmRsZXIuXG4gIC8vID4galF1ZXJ5KHdpbmRvdykuaGFzaGNoYW5nZSgpO1xuICAvLyBcbiAgLy8gQSBtb3JlIHZlcmJvc2UgdXNhZ2UgdGhhdCBhbGxvd3MgZm9yIGV2ZW50IG5hbWVzcGFjaW5nOlxuICAvLyBcbiAgLy8gPiAvLyBCaW5kIGFuIGV2ZW50IGhhbmRsZXIuXG4gIC8vID4galF1ZXJ5KHdpbmRvdykuYmluZCggJ2hhc2hjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XG4gIC8vID4gICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG4gIC8vID4gICAuLi5cbiAgLy8gPiB9KTtcbiAgLy8gPiBcbiAgLy8gPiAvLyBNYW51YWxseSB0cmlnZ2VyIHRoZSBldmVudCBoYW5kbGVyLlxuICAvLyA+IGpRdWVyeSh3aW5kb3cpLnRyaWdnZXIoICdoYXNoY2hhbmdlJyApO1xuICAvLyBcbiAgLy8gQWRkaXRpb25hbCBOb3RlczpcbiAgLy8gXG4gIC8vICogVGhlIHBvbGxpbmcgbG9vcCBhbmQgSWZyYW1lIGFyZSBub3QgY3JlYXRlZCB1bnRpbCBhdCBsZWFzdCBvbmUgaGFuZGxlclxuICAvLyAgIGlzIGFjdHVhbGx5IGJvdW5kIHRvIHRoZSAnaGFzaGNoYW5nZScgZXZlbnQuXG4gIC8vICogSWYgeW91IG5lZWQgdGhlIGJvdW5kIGhhbmRsZXIocykgdG8gZXhlY3V0ZSBpbW1lZGlhdGVseSwgaW4gY2FzZXMgd2hlcmVcbiAgLy8gICBhIGxvY2F0aW9uLmhhc2ggZXhpc3RzIG9uIHBhZ2UgbG9hZCwgdmlhIGJvb2ttYXJrIG9yIHBhZ2UgcmVmcmVzaCBmb3JcbiAgLy8gICBleGFtcGxlLCB1c2UgalF1ZXJ5KHdpbmRvdykuaGFzaGNoYW5nZSgpIG9yIHRoZSBtb3JlIHZlcmJvc2UgXG4gIC8vICAgalF1ZXJ5KHdpbmRvdykudHJpZ2dlciggJ2hhc2hjaGFuZ2UnICkuXG4gIC8vICogVGhlIGV2ZW50IGNhbiBiZSBib3VuZCBiZWZvcmUgRE9NIHJlYWR5LCBidXQgc2luY2UgaXQgd29uJ3QgYmUgdXNhYmxlXG4gIC8vICAgYmVmb3JlIHRoZW4gaW4gSUU2LzcgKGR1ZSB0byB0aGUgbmVjZXNzYXJ5IElmcmFtZSksIHJlY29tbWVuZGVkIHVzYWdlIGlzXG4gIC8vICAgdG8gYmluZCBpdCBpbnNpZGUgYSBET00gcmVhZHkgaGFuZGxlci5cbiAgXG4gIC8vIE92ZXJyaWRlIGV4aXN0aW5nICQuZXZlbnQuc3BlY2lhbC5oYXNoY2hhbmdlIG1ldGhvZHMgKGFsbG93aW5nIHRoaXMgcGx1Z2luXG4gIC8vIHRvIGJlIGRlZmluZWQgYWZ0ZXIgalF1ZXJ5IEJCUSBpbiBCQlEncyBzb3VyY2UgY29kZSkuXG4gIHNwZWNpYWxbIHN0cl9oYXNoY2hhbmdlIF0gPSAkLmV4dGVuZCggc3BlY2lhbFsgc3RyX2hhc2hjaGFuZ2UgXSwge1xuICAgIFxuICAgIC8vIENhbGxlZCBvbmx5IHdoZW4gdGhlIGZpcnN0ICdoYXNoY2hhbmdlJyBldmVudCBpcyBib3VuZCB0byB3aW5kb3cuXG4gICAgc2V0dXA6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gSWYgd2luZG93Lm9uaGFzaGNoYW5nZSBpcyBzdXBwb3J0ZWQgbmF0aXZlbHksIHRoZXJlJ3Mgbm90aGluZyB0byBkby4uXG4gICAgICBpZiAoIHN1cHBvcnRzX29uaGFzaGNoYW5nZSApIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICBcbiAgICAgIC8vIE90aGVyd2lzZSwgd2UgbmVlZCB0byBjcmVhdGUgb3VyIG93bi4gQW5kIHdlIGRvbid0IHdhbnQgdG8gY2FsbCB0aGlzXG4gICAgICAvLyB1bnRpbCB0aGUgdXNlciBiaW5kcyB0byB0aGUgZXZlbnQsIGp1c3QgaW4gY2FzZSB0aGV5IG5ldmVyIGRvLCBzaW5jZSBpdFxuICAgICAgLy8gd2lsbCBjcmVhdGUgYSBwb2xsaW5nIGxvb3AgYW5kIHBvc3NpYmx5IGV2ZW4gYSBoaWRkZW4gSWZyYW1lLlxuICAgICAgJCggZmFrZV9vbmhhc2hjaGFuZ2Uuc3RhcnQgKTtcbiAgICB9LFxuICAgIFxuICAgIC8vIENhbGxlZCBvbmx5IHdoZW4gdGhlIGxhc3QgJ2hhc2hjaGFuZ2UnIGV2ZW50IGlzIHVuYm91bmQgZnJvbSB3aW5kb3cuXG4gICAgdGVhcmRvd246IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gSWYgd2luZG93Lm9uaGFzaGNoYW5nZSBpcyBzdXBwb3J0ZWQgbmF0aXZlbHksIHRoZXJlJ3Mgbm90aGluZyB0byBkby4uXG4gICAgICBpZiAoIHN1cHBvcnRzX29uaGFzaGNoYW5nZSApIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICBcbiAgICAgIC8vIE90aGVyd2lzZSwgd2UgbmVlZCB0byBzdG9wIG91cnMgKGlmIHBvc3NpYmxlKS5cbiAgICAgICQoIGZha2Vfb25oYXNoY2hhbmdlLnN0b3AgKTtcbiAgICB9XG4gICAgXG4gIH0pO1xuICBcbiAgLy8gZmFrZV9vbmhhc2hjaGFuZ2UgZG9lcyBhbGwgdGhlIHdvcmsgb2YgdHJpZ2dlcmluZyB0aGUgd2luZG93Lm9uaGFzaGNoYW5nZVxuICAvLyBldmVudCBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LCBpbmNsdWRpbmcgY3JlYXRpbmcgYVxuICAvLyBwb2xsaW5nIGxvb3AgdG8gd2F0Y2ggZm9yIGhhc2ggY2hhbmdlcyBhbmQgaW4gSUUgNi83IGNyZWF0aW5nIGEgaGlkZGVuXG4gIC8vIElmcmFtZSB0byBlbmFibGUgYmFjayBhbmQgZm9yd2FyZC5cbiAgZmFrZV9vbmhhc2hjaGFuZ2UgPSAoZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHt9LFxuICAgICAgdGltZW91dF9pZCxcbiAgICAgIFxuICAgICAgLy8gUmVtZW1iZXIgdGhlIGluaXRpYWwgaGFzaCBzbyBpdCBkb2Vzbid0IGdldCB0cmlnZ2VyZWQgaW1tZWRpYXRlbHkuXG4gICAgICBsYXN0X2hhc2ggPSBnZXRfZnJhZ21lbnQoKSxcbiAgICAgIFxuICAgICAgZm5fcmV0dmFsID0gZnVuY3Rpb24odmFsKXsgcmV0dXJuIHZhbDsgfSxcbiAgICAgIGhpc3Rvcnlfc2V0ID0gZm5fcmV0dmFsLFxuICAgICAgaGlzdG9yeV9nZXQgPSBmbl9yZXR2YWw7XG4gICAgXG4gICAgLy8gU3RhcnQgdGhlIHBvbGxpbmcgbG9vcC5cbiAgICBzZWxmLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aW1lb3V0X2lkIHx8IHBvbGwoKTtcbiAgICB9O1xuICAgIFxuICAgIC8vIFN0b3AgdGhlIHBvbGxpbmcgbG9vcC5cbiAgICBzZWxmLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRpbWVvdXRfaWQgJiYgY2xlYXJUaW1lb3V0KCB0aW1lb3V0X2lkICk7XG4gICAgICB0aW1lb3V0X2lkID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgXG4gICAgLy8gVGhpcyBwb2xsaW5nIGxvb3AgY2hlY2tzIGV2ZXJ5ICQuZm4uaGFzaGNoYW5nZS5kZWxheSBtaWxsaXNlY29uZHMgdG8gc2VlXG4gICAgLy8gaWYgbG9jYXRpb24uaGFzaCBoYXMgY2hhbmdlZCwgYW5kIHRyaWdnZXJzIHRoZSAnaGFzaGNoYW5nZScgZXZlbnQgb25cbiAgICAvLyB3aW5kb3cgd2hlbiBuZWNlc3NhcnkuXG4gICAgZnVuY3Rpb24gcG9sbCgpIHtcbiAgICAgIHZhciBoYXNoID0gZ2V0X2ZyYWdtZW50KCksXG4gICAgICAgIGhpc3RvcnlfaGFzaCA9IGhpc3RvcnlfZ2V0KCBsYXN0X2hhc2ggKTtcbiAgICAgIFxuICAgICAgaWYgKCBoYXNoICE9PSBsYXN0X2hhc2ggKSB7XG4gICAgICAgIGhpc3Rvcnlfc2V0KCBsYXN0X2hhc2ggPSBoYXNoLCBoaXN0b3J5X2hhc2ggKTtcbiAgICAgICAgXG4gICAgICAgICQod2luZG93KS50cmlnZ2VyKCBzdHJfaGFzaGNoYW5nZSApO1xuICAgICAgICBcbiAgICAgIH0gZWxzZSBpZiAoIGhpc3RvcnlfaGFzaCAhPT0gbGFzdF9oYXNoICkge1xuICAgICAgICBsb2NhdGlvbi5ocmVmID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKCAvIy4qLywgJycgKSArIGhpc3RvcnlfaGFzaDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGltZW91dF9pZCA9IHNldFRpbWVvdXQoIHBvbGwsICQuZm5bIHN0cl9oYXNoY2hhbmdlIF0uZGVsYXkgKTtcbiAgICB9O1xuICAgIFxuICAgIC8vIHZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dlxuICAgIC8vIHZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnYgUkVNT1ZFIElGIE5PVCBTVVBQT1JUSU5HIElFNi83LzggdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dlxuICAgIC8vIHZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dlxuXG4gICAgLy8gc25pcHBldCByZW1vdmVkIGJ5IHBnYm92aW5lXG5cbiAgICAvLyBeXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5cbiAgICAvLyBeXl5eXl5eXl5eXl5eXl5eXl5eIFJFTU9WRSBJRiBOT1QgU1VQUE9SVElORyBJRTYvNy84IF5eXl5eXl5eXl5eXl5eXl5eXl5cbiAgICAvLyBeXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5cbiAgICBcbiAgICByZXR1cm4gc2VsZjtcbiAgfSkoKTtcbiAgXG59KShqUXVlcnksdGhpcyk7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSlcblxuLyoqKi8gfSksXG4vKiAyOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgYXBpID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDtcblxuLyoqKi8gfSksXG4vKiAzMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pLCBcIi8qXFxuXFxuT25saW5lIFB5dGhvbiBUdXRvclxcbmh0dHBzOi8vZ2l0aHViLmNvbS9wZ2JvdmluZS9PbmxpbmVQeXRob25UdXRvci9cXG5cXG5Db3B5cmlnaHQgKEMpIFBoaWxpcCBKLiBHdW8gKHBoaWxpcEBwZ2JvdmluZS5uZXQpXFxuXFxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcXG5jb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXFxuXFxcIlNvZnR3YXJlXFxcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xcbndpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcXG5kaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG9cXG5wZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG9cXG50aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XFxuXFxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcXG5pbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cXG5cXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXFxcIkFTIElTXFxcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xcbk9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0ZcXG5NRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuXFxuSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTllcXG5DTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULFxcblRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFXFxuU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXFxuXFxuKi9cXG5cXG4vKiBNb3N0IHJlY2VudCBjb2xvciBzY2hlbWUgcmVkZXNpZ24gb24gMjAxMi0wOC0xOSAqL1xcblxcbi8qIFRvIHByZXZlbnQgQ1NTIG5hbWVzcGFjZSBjbGFzaGVzLCBwcmVmaXggYWxsIHJ1bGVzIHdpdGg6XFxuICAgICBkaXYuRXhlY3V0aW9uVmlzdWFsaXplclxcbiovXFxuXFxuXFxuLyogcmVzZXQgc29tZSBzdHlsZXMgdG8gbnVsbGlmeSBlZmZlY3RzIG9mIGV4aXN0aW5nIHN0eWxlc2hlZXRzXFxuICAgZS5nLiwgaHR0cDovL21leWVyd2ViLmNvbS9lcmljL3Rvb2xzL2Nzcy9yZXNldC9cXG4qL1xcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHtcXG4gIC8qIG5vbmUgZm9yIG5vdyAqL1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS52aXN1YWxpemVyIHtcXG4gIGZvbnQtZmFtaWx5OiB2ZXJkYW5hLCBhcmlhbCwgaGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xcbiAgZm9udC1zaXplOiAxMHB0O1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUudmlzdWFsaXplciB0ZC52aXpMYXlvdXRUZCB7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0ZCNzdGFja190ZCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0ZCNoZWFwX3RkIHtcXG4gIHZlcnRpY2FsLWFsaWduOnRvcDtcXG4gIGZvbnQtc2l6ZTogMTBwdDsgLyogZG9uJ3QgbWFrZSBmb250cyBpbiB0aGUgaGVhcCBzbyBiaWchICovXFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyICNkYXRhVml6IHtcXG4gIC8qbWFyZ2luLWxlZnQ6IDI1cHg7Ki9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgI3NlbGVjdGl2ZUhpZGVTdGF0dXMge1xcbiAgLyptYXJnaW4tbGVmdDogMjVweDsqL1xcbiAgZm9udC1zaXplOiA5cHQ7XFxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xcbiAgbWFyZ2luLWxlZnQ6IDEzcHg7XFxufVxcblxcbi8qXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2I2NvZGVEaXNwbGF5RGl2IHtcXG4gIHdpZHRoOiA1NTBweDtcXG59XFxuKi9cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjcHlDb2RlT3V0cHV0RGl2IHtcXG4gIC8qbWF4LXdpZHRoOiA1NTBweDsqL1xcbiAgbWF4LWhlaWdodDogNDYwcHg7XFxuICAvKm1heC1oZWlnaHQ6IDYyMHB4OyovXFxuICBvdmVyZmxvdzogYXV0bztcXG4gIC8qbWFyZ2luLWJvdHRvbTogNHB4OyovXFxuXFxuICBtYXJnaW4tbGVmdDogYXV0bztcXG4gIG1hcmdpbi1yaWdodDogYXV0bztcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUjcHlDb2RlT3V0cHV0IHtcXG4gIGZvbnQtZmFtaWx5OiBBbmRhbGUgbW9ubywgbW9ub3NwYWNlO1xcbiAgLypmb250LXNpemU6MTJwdDsqL1xcbiAgZm9udC1zaXplOjExcHQ7XFxuICBsaW5lLWhlaWdodDoxLjFlbTtcXG5cXG4gIGJvcmRlci1jb2xsYXBzZTogc2VwYXJhdGU7IC8qIHNvbWUgY3JhenkgQ1NTIHZvb2RvbyB0aGF0IG5lZWRzIHRvIGJlXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVyZSBzbyB0aGF0IFNWRyBhcnJvd3MgdG8gdGhlIGxlZnRcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBjb2RlIGxpbmUgdXAgdmVydGljYWxseSBpbiBDaHJvbWUgKi9cXG4gIGJvcmRlci1zcGFjaW5nOiAwcHg7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2JiYjtcXG4gIHBhZGRpbmctdG9wOiAzcHg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2JiYjtcXG4gIC8qbWFyZ2luLXRvcDogNnB4OyovXFxuICBtYXJnaW46IDZweCBhdXRvOyAvKiBDZW50ZXIgY29kZSBpbiBpdHMgcGFuZSAqL1xcbn1cXG5cXG4vKiBkb24ndCB3cmFwIGxpbmVzIHdpdGhpbiBjb2RlIG91dHB1dCAuLi4gRk9SQ0Ugc2Nyb2xsYmFycyB0byBhcHBlYXIgKi9cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZSNweUNvZGVPdXRwdXQgdGQge1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IC8qIGV4cGxpY2l0bHkgZm9yY2UsIHRvIG92ZXJyaWRlIGV4dGVybmFsIENTUyBjb25mbGljdHMgKi9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgI2xlZnRDb2RlR3V0dGVyU1ZHIHtcXG4gIHdpZHRoOiAxOHB4O1xcbiAgbWluLXdpZHRoOiAxOHB4OyAvKiBtYWtlIHN1cmUgaXQgZG9lc24ndCBzcXVhc2ggdG9vIHRoaW4gKi9cXG4gIGhlaWdodDogMHB4OyAvKiBwcm9ncmFtbWF0aWNhbGx5IHNldCB0aGlzIGxhdGVyIC4uLiBJRSBuZWVkcyB0aGlzIHRvXFxuICAgICAgICAgICAgICAgICAgYmUgMCBvciBpdCBkZWZhdWx0cyB0byBzb21ldGhpbmcgYXJiaXRyYXJ5IGFuZCBncm9zcyAqL1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAjcHJldkxlZ2VuZEFycm93U1ZHLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyICNjdXJMZWdlbmRBcnJvd1NWRyB7XFxuICB3aWR0aDogMThweDtcXG4gIGhlaWdodDogMTBweDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLmFycm93IHtcXG4gIGZvbnQtc2l6ZTogMTZwdDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUjcHlDb2RlT3V0cHV0IC5saW5lTm8ge1xcbiAgY29sb3I6ICNhYWE7XFxuICBwYWRkaW5nOiAwLjJlbTtcXG4gIHBhZGRpbmctbGVmdDogMC4zZW07XFxuICBwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZSNweUNvZGVPdXRwdXQgLmNvZCB7XFxuICAvKmZvbnQtd2VpZ2h0OiBib2xkOyovXFxuICBtYXJnaW4tbGVmdDogM3B4O1xcbiAgcGFkZGluZy1sZWZ0OiA3cHg7XFxuICB0ZXh0LWFsaWduOiBsZWZ0OyAvKiBuZWNlc3Nhcnkgb3IgZWxzZSBkb2Vzbid0IHdvcmsgcHJvcGVybHkgaW4gSUUgKi9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2I3Byb2dPdXRwdXRzIHtcXG4gIG1hcmdpbi1sZWZ0OiAxM3B4OyAvKiBsaW5lIHVwIHdpdGggaGVhcCB2aXN1YWxpemF0aW9ucyAqL1xcbiAgbWFyZ2luLWJvdHRvbTogM3B4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjbGVnZW5kRGl2IHtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxuICBjb2xvcjogIzY2NjtcXG4gIGZvbnQtc2l6ZTogOXB0O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjZWRpdENvZGVMaW5rRGl2IHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIC8qXFxuICBtYXJnaW4tdG9wOiAxMnB4O1xcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xcbiAgKi9cXG4gIG1hcmdpbjogOHB4IGF1dG87XFxuICBmb250LXNpemU6IDExcHQ7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGRpdiNhbm5vdGF0ZUxpbmtEaXYge1xcbiAgLyp0ZXh0LWFsaWduOiBsZWZ0OyovXFxuICBtYXJnaW4tdG9wOiAwcHg7XFxuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xcbiAgLypcXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xcbiAgKi9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2I3N0ZXBBbm5vdGF0aW9uRGl2IHtcXG4gIG1hcmdpbi1ib3R0b206IDEycHg7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRleHRhcmVhI3N0ZXBBbm5vdGF0aW9uRWRpdG9yLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRleHRhcmVhI3ZpelRpdGxlRWRpdG9yLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRleHRhcmVhI3ZpekRlc2NyaXB0aW9uRWRpdG9yIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICM5OTk5OTk7XFxuICBwYWRkaW5nOiA0cHg7XFxuXFxuICBvdmVyZmxvdzogYXV0bzsgLyogdG8gbG9vayBwcmV0dHkgb24gSUUgKi9cXG4gIC8qIG1ha2Ugc3VyZSB0ZXh0YXJlYSBkb2Vzbid0IGdyb3cgYW5kIHN0cmV0Y2ggKi9cXG4gIHJlc2l6ZTogbm9uZTtcXG59XFxuXFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgI2Vycm9yT3V0cHV0IHtcXG4gIGNvbG9yOiAjZTkzZjM0OyAvKiBzaG91bGQgbWF0Y2ggYnJpZ2h0UmVkIEphdmFTY3JpcHQgdmFyaWFibGUgKi9cXG4gIGZvbnQtc2l6ZTogMTFwdDtcXG4gIHBhZGRpbmctdG9wOiAycHg7XFxuICBsaW5lLWhlaWdodDogMS41ZW07XFxuICBtYXJnaW4tYm90dG9tOiA0cHg7XFxufVxcblxcbi8qIFZDUiBjb250cm9sIGJ1dHRvbnMgZm9yIHN0ZXBwaW5nIHRocm91Z2ggZXhlY3V0aW9uICovXFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgI3ZjckNvbnRyb2xzIHtcXG4gIG1hcmdpbi10b3A6IDE1cHg7XFxuICBtYXJnaW4tYm90dG9tOiA2cHg7XFxuICAvKndpZHRoOiAxMDAlOyovXFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyICN2Y3JDb250cm9scyBidXR0b24ge1xcbiAgbWFyZ2luLWxlZnQ6IDJweDtcXG4gIG1hcmdpbi1yaWdodDogMnB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAjY3VySW5zdHIge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAjcHlTdGRvdXQge1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzk5OTk5OTtcXG4gIGZvbnQtc2l6ZTogMTBwdDtcXG4gIHBhZGRpbmc6IDNweDtcXG4gIGZvbnQtZmFtaWx5OiBBbmRhbGUgbW9ubywgbW9ub3NwYWNlO1xcblxcbiAgb3ZlcmZsb3c6IGF1dG87IC8qIHRvIGxvb2sgcHJldHR5IG9uIElFICovXFxuICAvKiBtYWtlIHN1cmUgdGV4dGFyZWEgZG9lc24ndCBncm93IGFuZCBzdHJldGNoICovXFxuICByZXNpemU6IG5vbmU7XFxufVxcblxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC52aXpGcmFtZSB7XFxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xcbiAgcGFkZGluZy1sZWZ0OiA4cHg7XFxuICBib3JkZXItbGVmdDogMnB4IHNvbGlkICNjY2NjY2M7XFxufVxcblxcblxcbi8qIFJlbmRlcmluZyBvZiBwcmltaXRpdmUgdHlwZXMgKi9cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAuaW1wb3J0ZWRPYmoge1xcbiAgZm9udC1zaXplOiA4cHQ7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5udWxsT2JqIHtcXG4vKiAgZm9udC1zaXplOiA4cHQ7ICovXFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5zdHJpbmdPYmosXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLmN1c3RvbU9iaixcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAuZnVuY09iaiB7XFxuICBmb250LWZhbWlseTogQW5kYWxlIG1vbm8sIG1vbm9zcGFjZTtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5mdW5jQ29kZSB7XFxuICBmb250LXNpemU6IDhwdDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLnJldHZhbCB7XFxuICBmb250LXNpemU6IDlwdDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLnN0YWNrRnJhbWUgLnJldHZhbCB7XFxuICBjb2xvcjogI2U5M2YzNDsgLyogaGlnaGxpZ2h0IG5vbi16b21iaWUgc3RhY2sgZnJhbWUgcmV0dXJuIHZhbHVlcyAtXFxuICAgICAgICAgICAgICAgICAgICAgc2hvdWxkIG1hdGNoIGJyaWdodFJlZCBKYXZhU2NyaXB0IHZhcmlhYmxlICovXFxufVxcblxcbi8qIFJlbmRlcmluZyBvZiBiYXNpYyBjb21wb3VuZCB0eXBlcyAqL1xcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmxpc3RUYmwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUudHVwbGVUYmwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuc2V0VGJsIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmYzY7XFxufVxcblxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmxpc3RUYmwge1xcbiAgYm9yZGVyOiAwcHggc29saWQgYmxhY2s7XFxuICBib3JkZXItc3BhY2luZzogMHB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5saXN0VGJsIHRkLmxpc3RIZWFkZXIsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUudHVwbGVUYmwgdGQudHVwbGVIZWFkZXIge1xcbiAgcGFkZGluZy1sZWZ0OiA0cHg7XFxuICBwYWRkaW5nLXRvcDogMnB4O1xcbiAgcGFkZGluZy1ib3R0b206IDNweDtcXG4gIGZvbnQtc2l6ZTogOHB0O1xcbiAgY29sb3I6ICM3Nzc7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjNTU1NTU1O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS50dXBsZVRibCB7XFxuICBib3JkZXItc3BhY2luZzogMHB4O1xcbiAgY29sb3I6IGJsYWNrO1xcblxcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM1NTU1NTU7IC8qIG11c3QgbWF0Y2ggdGQudHVwbGVIZWFkZXIgYm9yZGVyICovXFxuICBib3JkZXItdG9wOiAxcHggc29saWQgIzU1NTU1NTsgLyogbXVzdCBtYXRjaCB0ZC50dXBsZUhlYWRlciBib3JkZXIgKi9cXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICM1NTU1NTU7IC8qIG11c3QgbWF0Y2ggdGQudHVwbGVIZWFkZXIgYm9yZGVyICovXFxufVxcblxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmxpc3RUYmwgdGQubGlzdEVsdCB7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzU1NTU1NTsgLyogbXVzdCBtYXRjaCB0ZC5saXN0SGVhZGVyIGJvcmRlciAqL1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjNTU1NTU1OyAvKiBtdXN0IG1hdGNoIHRkLmxpc3RIZWFkZXIgYm9yZGVyICovXFxufVxcblxcblxcbi8qIGZvciBDIGFuZCBDKysgdmlzdWFsaXphdGlvbnMgKi9cXG5cXG4vKiBtYWtlIHRoaXMgc2xpZ2h0bHkgbW9yZSBjb21wYWN0IHRoYW4gbGlzdFRibCBzaW5jZSBhcnJheXMgY2FuIGJlXFxuICAgcmVuZGVyZWQgb24gdGhlIHN0YWNrIHNvIHdlIHdhbnQgdG8ga2luZGEgY29uc2VydmUgc3BhY2UgKi9cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5jQXJyYXlUYmwge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZjNjtcXG4gIHBhZGRpbmctbGVmdDogMHB4O1xcbiAgcGFkZGluZy10b3A6IDBweDtcXG4gIHBhZGRpbmctYm90dG9tOiAwcHg7XFxuICBmb250LXNpemU6IDhwdDtcXG4gIGNvbG9yOiAjNzc3O1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG4gIGJvcmRlcjogMHB4IHNvbGlkIGJsYWNrO1xcbiAgYm9yZGVyLXNwYWNpbmc6IDBweDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuY0FycmF5VGJsIHRkLmNBcnJheUhlYWRlciB7XFxuICBwYWRkaW5nLWxlZnQ6IDVweDtcXG4gIHBhZGRpbmctdG9wOiAwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMnB4O1xcbiAgZm9udC1zaXplOiA2cHQ7XFxuICBjb2xvcjogIzc3NztcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxuICBib3JkZXItYm90dG9tOiAwcHggc29saWQgYmxhY2s7IC8qIG92ZXJyaWRlIHdoYXRldmVyIHdlJ3JlIG5lc3RlZCBpbiAqL1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5jQXJyYXlUYmwgdGQuY0FycmF5RWx0IHtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjODg4O1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjODg4O1xcbiAgYm9yZGVyLXRvcDogMHB4IHNvbGlkIGJsYWNrO1xcbiAgY29sb3I6IGJsYWNrO1xcblxcbiAgcGFkZGluZy10b3A6IDJweDtcXG4gIHBhZGRpbmctYm90dG9tOiA0cHg7XFxuICBwYWRkaW5nLWxlZnQ6IDVweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDRweDtcXG4gIHZlcnRpY2FsLWFsaWduOiBib3R0b207XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmNBcnJheVRibCB0ZC5jTXVsdGlkaW1BcnJheUhlYWRlciB7XFxuICBwYWRkaW5nLWxlZnQ6IDVweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDVweDtcXG4gIHBhZGRpbmctdG9wOiAxcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogM3B4O1xcbiAgZm9udC1zaXplOiA2cHQ7XFxuICBjb2xvcjogIzc3NztcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgIzg4ODtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgIzg4ODtcXG4gIGJvcmRlci1ib3R0b206IDBweCBzb2xpZCBibGFjazsgLyogb3ZlcnJpZGUgd2hhdGV2ZXIgd2UncmUgbmVzdGVkIGluICovXFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmNBcnJheVRibCB0ZC5jTXVsdGlkaW1BcnJheUVsdCB7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICM4ODg7XFxuICBjb2xvcjogYmxhY2s7XFxuICBwYWRkaW5nLXRvcDogMXB4O1xcbiAgcGFkZGluZy1ib3R0b206IDRweDtcXG4gIHBhZGRpbmctbGVmdDogNXB4O1xcbiAgcGFkZGluZy1yaWdodDogNXB4O1xcbiAgdmVydGljYWwtYWxpZ246IGJvdHRvbTtcXG59XFxuXFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLmNkYXRhSGVhZGVyIHtcXG4gIGZvbnQtc2l6ZTogNnB0O1xcbiAgY29sb3I6ICM1NTU7XFxuICBwYWRkaW5nLWJvdHRvbTogMnB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAuY2RhdGFFbHQge1xcbiAgZm9udC1zaXplOiAxMHB0O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAuY2RhdGFVbmluaXQge1xcbiAgY29sb3I6ICM4ODg7XFxufVxcblxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLnR1cGxlVGJsIHRkLnR1cGxlRWx0IHtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgIzU1NTU1NTsgLyogbXVzdCBtYXRjaCB0ZC50dXBsZUhlYWRlciBib3JkZXIgKi9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuY3VzdG9tT2JqVGJsIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgY29sb3I6IGJsYWNrO1xcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmN1c3RvbU9ialRibCB0ZC5jdXN0b21PYmpFbHQge1xcbiAgcGFkZGluZzogNXB4O1xcbiAgZm9udC1zaXplOiA5cHQ7IC8qIG1ha2UgdGhpcyBzbWFsbGVyICovXFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmxpc3RUYmwgdGQubGlzdEVsdCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS50dXBsZVRibCB0ZC50dXBsZUVsdCB7XFxuICBwYWRkaW5nLXRvcDogMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDhweDtcXG4gIHBhZGRpbmctbGVmdDogMTBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XFxuICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tO1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5zZXRUYmwge1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzU1NTU1NTtcXG4gIGJvcmRlci1zcGFjaW5nOiAwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLnNldFRibCB0ZC5zZXRFbHQge1xcbiAgcGFkZGluZzogOHB4O1xcbn1cXG5cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5kaWN0VGJsLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmluc3RUYmwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuY2xhc3NUYmwge1xcbiAgYm9yZGVyLXNwYWNpbmc6IDFweDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuZGljdFRibCB0ZC5kaWN0S2V5LFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmluc3RUYmwgdGQuaW5zdEtleSxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5jbGFzc1RibCB0ZC5jbGFzc0tleSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFlYmJmO1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5kaWN0VGJsIHRkLmRpY3RWYWwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuaW5zdFRibCB0ZC5pbnN0VmFsLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmNsYXNzVGJsIHRkLmNsYXNzVmFsLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRkLmZ1bmNDb2Qge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZjNjtcXG59XFxuXFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuZGljdFRibCB0ZC5kaWN0S2V5LFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmluc3RUYmwgdGQuaW5zdEtleSxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5jbGFzc1RibCB0ZC5jbGFzc0tleSB7XFxuICBwYWRkaW5nLXRvcDogNnB4IC8qMTVweCovO1xcbiAgcGFkZGluZy1ib3R0b206IDZweDtcXG4gIHBhZGRpbmctbGVmdDogMTBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDRweDtcXG5cXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5kaWN0VGJsIHRkLmRpY3RWYWwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuaW5zdFRibCB0ZC5pbnN0VmFsLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmNsYXNzVGJsIHRkLmNsYXNzVmFsIHtcXG4gIHBhZGRpbmctdG9wOiA2cHg7IC8qMTVweCovO1xcbiAgcGFkZGluZy1ib3R0b206IDZweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XFxuICBwYWRkaW5nLWxlZnQ6IDRweDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGQuZnVuY0NvZCB7XFxuICBwYWRkaW5nLWxlZnQ6IDRweDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuY2xhc3NUYmwgdGQsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuaW5zdFRibCB0ZCB7XFxuICBib3JkZXItYm90dG9tOiAxcHggIzg4OCBzb2xpZDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuY2xhc3NUYmwgdGQuY2xhc3NWYWwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuaW5zdFRibCB0ZC5pbnN0VmFsIHtcXG4gIGJvcmRlci1sZWZ0OiAxcHggIzg4OCBzb2xpZDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuY2xhc3NUYmwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuZnVuY1RibCB7XFxuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xcbiAgYm9yZGVyOiAxcHggIzg4OCBzb2xpZDtcXG59XFxuXFxuLyogb25seSBhZGQgYSBib3JkZXIgdG8gZGljdHMgaWYgdGhleSdyZSBlbWJlZGRlZCB3aXRoaW4gYW5vdGhlciBvYmplY3QgKi9cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0ZC5saXN0RWx0IHRhYmxlLmRpY3RUYmwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGQudHVwbGVFbHQgdGFibGUuZGljdFRibCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0ZC5kaWN0VmFsIHRhYmxlLmRpY3RUYmwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGQuaW5zdFZhbCB0YWJsZS5kaWN0VGJsLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRkLmNsYXNzVmFsIHRhYmxlLmRpY3RUYmwge1xcbiAgYm9yZGVyOiAxcHggIzg4OCBzb2xpZDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLm9iamVjdElkTGFiZWwge1xcbiAgZm9udC1zaXplOiA4cHQ7XFxuICBjb2xvcjogIzQ0NDtcXG4gIG1hcmdpbi1ib3R0b206IDJweDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLnR5cGVMYWJlbCB7XFxuICBmb250LXNpemU6IDhwdDtcXG4gIGNvbG9yOiAjNTU1O1xcbiAgbWFyZ2luLWJvdHRvbTogMnB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjc3RhY2ssXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2I2dsb2JhbHNfYXJlYSB7XFxuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XFxuICBwYWRkaW5nLXJpZ2h0OiAzMHB4O1xcblxcbiAgLyogbm8gbG9uZ2VyIG5lY2Vzc2FyeSAuLi4gKi9cXG4gIC8qZmxvYXQ6IGxlZnQ7Ki9cXG4gIC8qIGJvcmRlci1yaWdodDogMXB4IGRhc2hlZCAjYmJiYmJiOyAqL1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYuc3RhY2tGcmFtZSxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYuem9tYmllU3RhY2tGcmFtZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcXG4gIHBhZGRpbmc6IDJweDtcXG4gIHBhZGRpbmctbGVmdDogNnB4O1xcbiAgcGFkZGluZy1yaWdodDogNnB4O1xcbiAgcGFkZGluZy1ib3R0b206IDRweDtcXG4gIGZvbnQtc2l6ZTogMTBwdDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2LnpvbWJpZVN0YWNrRnJhbWUge1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBkb3R0ZWQgI2FhYTtcXG4gIC8qY29sb3I6ICNjMGMwYzA7Ki9cXG4gIGNvbG9yOiAjYTBhMGEwO1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYuaGlnaGxpZ2h0ZWRTdGFja0ZyYW1lIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlMmViZjY7XFxuICAvKmJhY2tncm91bmQtY29sb3I6ICNkN2U3ZmI7Ki9cXG5cXG4gIC8qYmFja2dyb3VuZC1jb2xvcjogI2MwZGFmODsqL1xcbiAgLypiYWNrZ3JvdW5kLWNvbG9yOiAjOWVlYWZmICNjNWRmZWE7Ki9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2LnN0YWNrRnJhbWUsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2LmhpZ2hsaWdodGVkU3RhY2tGcmFtZSB7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNhNmIzYjY7XFxufVxcblxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGRpdi5zdGFja0ZyYW1lSGVhZGVyIHtcXG4gIGZvbnQtZmFtaWx5OiBBbmRhbGUgbW9ubywgbW9ub3NwYWNlO1xcbiAgZm9udC1zaXplOiAxMHB0O1xcbiAgbWFyZ2luLXRvcDogNHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogM3B4O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGQuc3RhY2tGcmFtZVZhciB7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIHBhZGRpbmctcmlnaHQ6IDhweDtcXG4gIHBhZGRpbmctdG9wOiAzcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogM3B4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0ZC5zdGFja0ZyYW1lVmFsdWUge1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYWFhYWFhO1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjYWFhYWFhO1xcblxcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG5cXG4gIHBhZGRpbmctdG9wOiAzcHg7XFxuICBwYWRkaW5nLWxlZnQ6IDNweDtcXG4gIHBhZGRpbmctYm90dG9tOiAzcHg7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5zdGFja0ZyYW1lVmFyVGFibGUgdHIge1xcblxcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAuc3RhY2tGcmFtZVZhclRhYmxlIHtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgcGFkZGluZy10b3A6IDNweDtcXG5cXG4gIC8qIHJpZ2h0LWFsaWduIHRoZSB0YWJsZSAqL1xcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICBtYXJnaW4tcmlnaHQ6IDBweDtcXG5cXG4gIC8qIGhhY2sgdG8gY291bnRlcmFjdCBwb3NzaWJsZSBuYXN0eSBDU1MgcmVzZXQgc3R5bGVzIGZyb20gcGFyZW50IGRpdnMgKi9cXG4gIGJvcmRlci1jb2xsYXBzZTogc2VwYXJhdGU7XFxuICBib3JkZXItc3BhY2luZzogMnB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjaGVhcCB7XFxuICBmbG9hdDogbGVmdDtcXG4gIHBhZGRpbmctbGVmdDogMzBweDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGQudG9wbGV2ZWxIZWFwT2JqZWN0IHtcXG4gIC8qIG5lZWRlZCBmb3IgZDMgdG8gZG8gdHJhbnNpdGlvbnMgKi9cXG4gIHBhZGRpbmctbGVmdDogOHB4O1xcbiAgcGFkZGluZy1yaWdodDogOHB4O1xcbiAgcGFkZGluZy10b3A6IDRweDtcXG4gIHBhZGRpbmctYm90dG9tOiA0cHg7XFxuICAvKlxcbiAgYm9yZGVyOiAycHggZG90dGVkIHdoaXRlO1xcbiAgYm9yZGVyLWNvbG9yOiB3aGl0ZTtcXG4gICovXFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmhlYXBSb3cge1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2LmhlYXBPYmplY3Qge1xcbiAgcGFkZGluZy1sZWZ0OiAycHg7IC8qIGxlYXZlIGEgVElOWSBhbW91bnQgb2Ygcm9vbSBmb3IgY29ubmVjdG9yIGVuZHBvaW50cyAqL1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYuaGVhcFByaW1pdGl2ZSB7XFxuICBwYWRkaW5nLWxlZnQ6IDRweDsgLyogbGVhdmUgc29tZSBtb3JlIHJvb20gZm9yIGNvbm5lY3RvciBlbmRwb2ludHMgKi9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2I3N0YWNrSGVhZGVyIHtcXG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2I2hlYXBIZWFkZXIge1xcbiAgLyptYXJnaW4tdG9wOiAycHg7XFxuICBtYXJnaW4tYm90dG9tOiAxM3B4OyovXFxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjbGFuZ0Rpc3BsYXlEaXYge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgbWFyZ2luLXRvcDogMnB0O1xcbiAgbWFyZ2luLWJvdHRvbTogM3B0O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjbGFuZ0Rpc3BsYXlEaXYsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2I3N0YWNrSGVhZGVyLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGRpdiNoZWFwSGVhZGVyIHtcXG4gIGNvbG9yOiAjMzMzMzMzO1xcbiAgZm9udC1zaXplOiAxMHB0O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAjZXhlY3V0aW9uU2xpZGVyIHtcXG4gIC8qIGlmIHlvdSBzZXQgJ3dpZHRoJywgdGhlbiBpdCBsb29rcyB1Z2x5IHdoZW4geW91IGR5bmFtaWNhbGx5IHJlc2l6ZSAqL1xcbiAgbWFyZ2luLXRvcDogMTVweDtcXG4gIG1hcmdpbi1ib3R0b206IDVweDtcXG5cXG4gIC8qIERPTidUIGNlbnRlciB0aGlzLCBzaW5jZSB3ZSBuZWVkIGJyZWFrcG9pbnRzIGluIGV4ZWN1dGlvblNsaWRlckZvb3RlciB0byBiZSB3ZWxsIGFsaWduZWQgKi9cXG4gIHdpZHRoOiA5OCU7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyICNleGVjdXRpb25TbGlkZXJDYXB0aW9uIHtcXG4gIGZvbnQtc2l6ZTogOHB0O1xcbiAgY29sb3I6ICM2NjY2NjY7XFxuICBtYXJnaW4tdG9wOiAxNXB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAjZXhlY3V0aW9uU2xpZGVyRm9vdGVyIHtcXG4gIG1hcmdpbi10b3A6IC03cHg7IC8qIG1ha2UgaXQgYnV0dCB1cCBhZ2FpbnN0ICNleGVjdXRpb25TbGlkZXIgKi9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgI2NvZGVGb290ZXJEb2NzLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyICNwcmludE91dHB1dERvY3Mge1xcbiAgbWFyZ2luLWJvdHRvbTogM3B4O1xcbiAgZm9udC1zaXplOiA4cHQ7XFxuICBjb2xvcjogIzY2NjtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgI2NvZGVGb290ZXJEb2NzIHtcXG4gIG1hcmdpbi10b3A6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDEycHg7XFxuICB3aWR0aDogOTUlO1xcbn1cXG5cXG4vKiBkYXJrZW4gc2xpZGVyIGhhbmRsZSBhIGJpdCAqL1xcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC51aS1zbGlkZXIgLnVpLXNsaWRlci1oYW5kbGUge1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzk5OTtcXG59XFxuXFxuXFxuLyogZm9yIGFubm90YXRpb24gYnViYmxlcyAqL1xcblxcbi8qIEZvciBzdHlsaW5nIHRyaWNrcywgc2VlOiBodHRwOi8vY3NzLXRyaWNrcy5jb20vdGV4dGFyZWEtdHJpY2tzLyAqL1xcbnRleHRhcmVhLmJ1YmJsZUlucHV0VGV4dCB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIG92ZXJmbG93OiBhdXRvOyAvKiB0byBsb29rIHByZXR0eSBvbiBJRSAqL1xcblxcbiAgLyogbWFrZSBzdXJlIHRleHRhcmVhIGRvZXNuJ3QgZ3JvdyBhbmQgc3RyZXRjaCB0aGUgZW5jbG9zaW5nIGJ1YmJsZSAqL1xcbiAgcmVzaXplOiBub25lO1xcbiAgd2lkdGg6IDIyNXB4O1xcbiAgbWF4LXdpZHRoOiAyMjVweDtcXG4gIGhlaWdodDogMzVweDtcXG4gIG1heC1oZWlnaHQ6IDM1cHg7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5hbm5vdGF0aW9uVGV4dCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAudml6RGVzY3JpcHRpb25UZXh0IHtcXG4gIGZvbnQtZmFtaWx5OiB2ZXJkYW5hLCBhcmlhbCwgaGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xcbiAgZm9udC1zaXplOiAxMXB0O1xcbiAgbGluZS1oZWlnaHQ6IDEuNWVtO1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAudml6VGl0bGVUZXh0IHtcXG4gIGZvbnQtZmFtaWx5OiB2ZXJkYW5hLCBhcmlhbCwgaGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xcbiAgZm9udC1zaXplOiAxNnB0O1xcbiAgbWFyZ2luLWJvdHRvbTogMTJwdDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2I3ZpekhlYWRlciB7XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbiAgd2lkdGg6IDcwMHB4O1xcbiAgbWF4LXdpZHRoOiA3MDBweDtcXG59XFxuXFxuLyogcHJldiB0aGVuIGN1cnIsIHNvIGN1cnIgZ2V0cyBwcmVjZWRlbmNlIHdoZW4gYm90aCBhcHBseSAqL1xcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5oaWdobGlnaHQtcHJldiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjBGMEVBO1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAuaGlnaGxpZ2h0LWN1ciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRjY2O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAuaGlnaGxpZ2h0LWxlZ2VuZCB7XFxuICBwYWRkaW5nOiAycHg7XFxufVxcblxcbi8qIHJlc2l6aW5nIHNsaWRlcnMgZnJvbSBEYXZpZCBQcml0Y2hhcmQgKi9cXG4udWktcmVzaXphYmxlLWUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RkZGRkZDtcXG4gIHdpZHRoOiAxcHg7XFxuICBib3JkZXI6IDNweCBzb2xpZCB3aGl0ZTtcXG59XFxuXFxuLnVpLXJlc2l6YWJsZS1lOmhvdmVyIHtcXG4gIGJvcmRlci1jb2xvcjogI2RkZGRkZDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgYSxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBhOnZpc2l0ZWQsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgYTpob3ZlciB7XFxuICBjb2xvcjogIzNENThBMjtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2I3Jhd1VzZXJJbnB1dERpdiB7XFxuICBwYWRkaW5nOiA1cHg7XFxuICB3aWR0aDogOTUlO1xcbiAgbWFyZ2luOiA1cHggYXV0bztcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGJvcmRlcjogMXB4ICNlOTNmMzQgc29saWQ7XFxufVxcblxcbi8qIGZvciBweUNyYXp5TW9kZSAqL1xcblxcbi8qIHByZXYgdGhlbiBjdXJyLCBzbyBjdXJyIGdldHMgcHJlY2VkZW5jZSB3aGVuIGJvdGggYXBwbHkgKi9cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAucHljcmF6eS1oaWdobGlnaHQtcHJldiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlOyAvKiNGMEYwRUE7Ki9cXG4gIC8qXFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZGRkZDtcXG4gICovXFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5weWNyYXp5LWhpZ2hsaWdodC1jdXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkY2NjtcXG4gIC8qIGFsaWduZWQgc2xpZ2h0bHkgaGlnaGVyIHRoYW4gYm9yZGVyLWJvdHRvbSAqL1xcbiAgLypcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTkzZjM0O1xcbiAgKi9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLnB5Y3JhenktaGlnaGxpZ2h0LXByZXYtYW5kLWN1ciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRjY2O1xcblxcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM5OTk5OTk7XFxufVxcblxcblxcbiNvcHRUYWJ1bGFyVmlldyB0aGVhZC5zdGVwVGFibGVUaGVhZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmJiO1xcbn1cXG5cXG4jb3B0VGFidWxhclZpZXcgdGJvZHkuc3RlcFRhYmxlVGJvZHkge1xcbn1cXG5cXG4jb3B0VGFidWxhclZpZXcgdGQuc3RlcFRhYmxlVGQge1xcbiAgcGFkZGluZzogM3B4IDEwcHg7XFxufVxcblxcbiN1aUNvbnRyb2xzUGFuZSB7XFxuICBmb250LXNpemU6IDhwdDtcXG59XFxuXFxuXFxuLyogQkVHSU4gSmF2YSBmcm9udGVuZCBieSBEYXZpZCBQcml0Y2hhcmQgYW5kIFdpbGwgR3dvemR6ICovXFxuXFxuLyogc3RhY2sgYW5kIHF1ZXVlIGNzcyBieSBXaWxsIEd3b3pkeiAqL1xcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLnF1ZXVlVGJsLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLnN0YWNrVGJsIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmYzY7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLnF1ZXVlVGJsLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLnN0YWNrVGJsIHtcXG4gIGJvcmRlcjogMHB4IHNvbGlkIGJsYWNrO1xcbiAgYm9yZGVyLXNwYWNpbmc6IDBweDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuc3RhY2tUYmwgdGQuc3RhY2tFbHQsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUucXVldWVUYmwgdGQucXVldWVFbHQge1xcbiAgcGFkZGluZy1sZWZ0OiA4cHg7XFxuICBwYWRkaW5nLXJpZ2h0OiA4cHg7XFxuICBwYWRkaW5nLXRvcDogMnB4O1xcbiAgcGFkZGluZy1ib3R0b206IDNweDtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjNTU1NTU1O1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM1NTU1NTU7XFxuICBib3JkZXItbGVmdDogMXB4IGRhc2hlZCAjNTU1NTU1O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5zdGFja1RibCB0ZC5zdGFja0ZFbHQsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUucXVldWVUYmwgdGQucXVldWVGRWx0IHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICM1NTU1NTU7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzU1NTU1NTtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuc3RhY2tUYmwgdGQuc3RhY2tMRWx0IHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjNTU1NTU1O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5xdWV1ZVRibCB0ZC5xdWV1ZUxFbHQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQjNTU1NTU1O1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM1NTU1NTU7XFxuICBib3JkZXItbGVmdDogMXB4IGRhc2hlZCAjNTU1NTU1O1xcbn1cXG5cXG4vKiBUaGlzIGVuc3VyZXMgYSBib3JkZXIgaXMgZHJhd24gYXJvdW5kIGEgZGljdFxcbiAgIGlmIGl0cyBuZXN0ZWQgaW4gYW5vdGhlciBvYmplY3QuICovXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGQuc3RhY2tFbHQgdGFibGUuZGljdFRibCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0ZC5zdGFja0xFbHQgdGFibGUuZGljdFRibCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0ZC5zdGFja0ZFbHQgdGFibGUuZGljdFRibCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0ZC5xdWV1ZUVsdCB0YWJsZS5kaWN0VGJsLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRkLnF1ZXVlTEVsdCB0YWJsZS5kaWN0VGJsLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRkLnF1ZXVlRkVsdCB0YWJsZS5kaWN0VGJsIHtcXG4gIGJvcmRlcjogMXB4ICM4ODggc29saWQ7XFxufVxcblxcbi5zeW1ib2xpYyB7XFxuICBmb250LXNpemU6IDE4cHQ7XFxufVxcblxcbi8qIEVORCBKYXZhIGZyb250ZW5kIGJ5IERhdmlkIFByaXRjaGFyZCBhbmQgV2lsbCBHd296ZHogKi9cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuXG5cbi8qKiovIH0pLFxuLyogMzEgKi8sXG4vKiAzMiAqLyxcbi8qIDMzICovLFxuLyogMzQgKi8sXG4vKiAzNSAqLyxcbi8qIDM2ICovLFxuLyogMzcgKi8sXG4vKiAzOCAqLyxcbi8qIDM5ICovLFxuLyogNDAgKi8sXG4vKiA0MSAqLyxcbi8qIDQyICovLFxuLyogNDMgKi8sXG4vKiA0NCAqLyxcbi8qIDQ1ICovLFxuLyogNDYgKi8sXG4vKiA0NyAqLyxcbi8qIDQ4ICovLFxuLyogNDkgKi8sXG4vKiA1MCAqLyxcbi8qIDUxICovLFxuLyogNTIgKi8sXG4vKiA1MyAqLyxcbi8qIDU0ICovLFxuLyogNTUgKi8sXG4vKiA1NiAqLyxcbi8qIDU3ICovLFxuLyogNTggKi8sXG4vKiA1OSAqLyxcbi8qIDYwICovLFxuLyogNjEgKi8sXG4vKiA2MiAqLyxcbi8qIDYzICovLFxuLyogNjQgKi8sXG4vKiA2NSAqLyxcbi8qIDY2ICovLFxuLyogNjcgKi8sXG4vKiA2OCAqLyxcbi8qIDY5ICovLFxuLyogNzAgKi8sXG4vKiA3MSAqLyxcbi8qIDcyICovLFxuLyogNzMgKi8sXG4vKiA3NCAqLyxcbi8qIDc1ICovLFxuLyogNzYgKi8sXG4vKiA3NyAqLyxcbi8qIDc4ICovLFxuLyogNzkgKi8sXG4vKiA4MCAqLyxcbi8qIDgxICovLFxuLyogODIgKi8sXG4vKiA4MyAqLyxcbi8qIDg0ICovLFxuLyogODUgKi8sXG4vKiA4NiAqLyxcbi8qIDg3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKCQpIHtcbi8vIFB5dGhvbiBUdXRvcjogaHR0cHM6Ly9naXRodWIuY29tL3BnYm92aW5lL09ubGluZVB5dGhvblR1dG9yL1xuLy8gQ29weXJpZ2h0IChDKSBQaGlsaXAgR3VvIChwaGlsaXBAcGdib3ZpbmUubmV0KVxuLy8gTElDRU5TRTogaHR0cHM6Ly9naXRodWIuY29tL3BnYm92aW5lL09ubGluZVB5dGhvblR1dG9yL2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBzZWUgLi4vcHl0dXRvci1lbWJlZC1kZW1vLmh0bWwgZm9yIGhvdyB0byB1c2UgdGhpcyBmaWxlXG52YXIgcHl0dXRvcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBhbGxWaXN1YWxpemVycyA9IFtdO1xuZnVuY3Rpb24gcmVkcmF3QWxsVmlzdWFsaXplckFycm93cygpIHtcbiAgICAkLmVhY2goYWxsVmlzdWFsaXplcnMsIGZ1bmN0aW9uIChpLCB2KSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJyZWRyYXdDb25uZWN0b3JzOlwiLCB2KTtcbiAgICAgICAgdi5yZWRyYXdDb25uZWN0b3JzKCk7XG4gICAgfSk7XG4gICAgLy9jb25zb2xlLmxvZyhcIkRPTkUgcmVkcmF3QWxsVmlzdWFsaXplckFycm93c1wiKTtcbn1cbi8vIGNyZWF0ZXMgYSBFeGVjdXRpb25WaXN1YWxpemVyIHJlcHJlc2VudGluZyB0cmFjZSBhbmQgYWRkcyBpdCB0byBwYWdlIGF0IGRpdklkXG4vLyByZXR1cm5zIHRoZSBuZXdseS1jcmVhdGVkIEV4ZWN1dGlvblZpc3VhbGl6ZXIgb2JqZWN0XG5mdW5jdGlvbiBhZGRWaXN1YWxpemVyVG9QYWdlKHRyYWNlLCBkaXZJZCwgcGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMpIHtcbiAgICAgICAgcGFyYW1zID0ge307XG4gICAgfVxuICAgIGlmIChwYXJhbXMuZW1iZWRkZWRNb2RlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGFyYW1zLmVtYmVkZGVkTW9kZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChwYXJhbXMuZWRpdENvZGVCYXNlVVJMID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGFyYW1zLmVkaXRDb2RlQmFzZVVSTCA9ICdodHRwOi8vcHl0aG9udHV0b3IuY29tL3Zpc3VhbGl6ZS5odG1sJztcbiAgICB9XG4gICAgLy8gV2hlbiBzb21lIGRpdiBpbiB5b3VyIHdlYnBhZ2UgKHN1Y2ggYXMgYSB2aXN1YWxpemVyIGRpdikgZXhwYW5kcyBpbiBoZWlnaHQsXG4gICAgLy8gaXQgd2lsbCBcInB1c2ggZG93blwiIGFsbCBkaXZzIGJlbG93IGl0LCBidXQgdGhlIFNWRyBhcnJvd3MgcmVuZGVyZWQgYnlcbiAgICAvLyBqc1BsdW1iIFdJTEwgTk9UIE1PVkUuIFRodXMsIHRoZXkgd2lsbCBiZSBpbiB0aGUgaW5jb3JyZWN0IGxvY2F0aW9uIHVubGVzc1xuICAgIC8vIHlvdSBjYWxsIHJlZHJhd0FsbENvbm5lY3RvcnMoKS5cbiAgICAvL1xuICAgIC8vIFdlIHVzZSB0aGUgXCJoZWlnaHRDaGFuZ2VDYWxsYmFja1wiIG9wdGlvbmFsIHBhcmFtZXRlciB0byBmb3JjZSByZWRyYXdcbiAgICAvLyBvZiBhbGwgU1ZHIGFycm93cyBvZiBBTEwgdmlzdWFsaXplcnMsIHdoZW5ldmVyIHRoZSBoZWlnaHQgb2Ygb25lIGNoYW5nZXMuXG4gICAgLy9cbiAgICAvLyBBbHRlcm5hdGl2ZWx5LCBoZXJlIGlzIG9uZSBqUXVlcnkgcGx1Z2luIHRoYXQgeW91IGNhbiB1c2UgdG8gZGV0ZWN0XG4gICAgLy8gZGl2IGhlaWdodCBjaGFuZ2VzOiBodHRwOi8vYmVuYWxtYW4uY29tL3Byb2plY3RzL2pxdWVyeS1yZXNpemUtcGx1Z2luL1xuICAgIC8vXG4gICAgLy8gQSByZWxhdGVkIHRyaWNrIHlvdSBjYW4gaW1wbGVtZW50IGlzIHRvIG1ha2UgYSBkaXYgbmV2ZXIgc2hyaW5rIGluIGhlaWdodFxuICAgIC8vIG9uY2UgaXQncyBncm93bjsgdGhhdCB3YXksIHlvdSBjYW4gYXZvaWQgbG90cyBvZiBqYXJyaW5nIGp1bXBzIGFuZFxuICAgIC8vIChpbmVmZmljaWVudCkgcmVkcmF3cy5cbiAgICBwYXJhbXMuaGVpZ2h0Q2hhbmdlQ2FsbGJhY2sgPSByZWRyYXdBbGxWaXN1YWxpemVyQXJyb3dzO1xuICAgIHZhciByZXQgPSBuZXcgcHl0dXRvcl8xLkV4ZWN1dGlvblZpc3VhbGl6ZXIoZGl2SWQsIHRyYWNlLCBwYXJhbXMpO1xuICAgIGFsbFZpc3VhbGl6ZXJzLnB1c2gocmV0KTtcbiAgICByZWRyYXdBbGxWaXN1YWxpemVyQXJyb3dzKCk7XG4gICAgLy8gQ2FsbCByZWRyYXdDb25uZWN0b3JzKCkgb24gYWxsIHZpc3VhbGl6ZXJzIHdoZW5ldmVyIHRoZSB3aW5kb3cgaXMgcmVzaXplZCxcbiAgICAvLyBzaW5jZSBIVE1MIGVsZW1lbnRzIG1pZ2h0IGhhdmUgbW92ZWQgZHVyaW5nIGEgcmVzaXplLiBUaGUgU1ZHIGFycm93cyByZW5kZXJlZFxuICAgIC8vIGJ5IGpzUGx1bWIgZG9uJ3QgYXV0b21hdGljYWxseSBnZXQgcmUtZHJhd24gaW4gdGhlaXIgbmV3IHBvc2l0aW9ucyB1bmxlc3NcbiAgICAvLyByZWRyYXdDb25uZWN0b3JzKCkgaXMgY2FsbGVkLlxuICAgIC8vXG4gICAgLy8gZGV0YWNoIHRoZSBoYW5kbGVyIGZpcnN0IHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSByZWR1bmRhbnQgbXVsdGlwbGUgaGFuZGxlcnM6XG4gICAgJCh3aW5kb3cpLm9mZigncmVzaXplJykucmVzaXplKHJlZHJhd0FsbFZpc3VhbGl6ZXJBcnJvd3MpO1xuICAgIHJldHVybiByZXQ7XG59XG4vLyBsb2FkcyB0cmFjZSBmcm9tIGEgSlNPTi1mb3JtYXR0ZWQgZmlsZSBhbmQgdGhlbiBhZGRzIGl0IHRvIHRoZSBwYWdlIGluIGRpdklkO1xuLy8gcmV0dXJucyB0aGUgbmV3bHktY3JlYXRlZCBFeGVjdXRpb25WaXN1YWxpemVyIG9iamVjdFxuZnVuY3Rpb24gY3JlYXRlVmlzdWFsaXplckZyb21KU09OKGpzb25VUkwsIGRpdklkLCBwYXJhbXMpIHtcbiAgICBpZiAocGFyYW1zID09PSB2b2lkIDApIHsgcGFyYW1zID0gdW5kZWZpbmVkOyB9XG4gICAgJC5nZXQoanNvblVSTCwge30sIGZ1bmN0aW9uICh0cmFjZSkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKHRyYWNlKTtcbiAgICAgICAgYWRkVmlzdWFsaXplclRvUGFnZSh0cmFjZSwgZGl2SWQsIHBhcmFtcyk7XG4gICAgfSwgJ2pzb24nKTtcbn1cbi8vIGxvb2tzIGZvciBhbGwgZGl2LnB5dHV0b3JWaXN1YWxpemVyIG9uIHRoZSBjdXJyZW50IHBhZ2UsIGV4dHJhY3RzXG4vLyBkYXRhLXRyYWNlZmlsZSBhbmQgZGF0YS1wYXJhbXMgYXR0cmlidXRlcyBmcm9tIGVhY2gsIGFuZCB0aGVuIHBvcHVsYXRlc1xuLy8gZWFjaCBvbmUgdXNpbmcgY3JlYXRlVmlzdWFsaXplckZyb21KU09OKClcbmZ1bmN0aW9uIGNyZWF0ZUFsbFZpc3VhbGl6ZXJzRnJvbUh0bWxBdHRycygpIHtcbiAgICAvL2NvbnNvbGUubG9nKCdjcmVhdGVBbGxWaXN1YWxpemVyc0Zyb21IdG1sQXR0cnMnKTtcbiAgICAkKCdkaXYucHl0dXRvclZpc3VhbGl6ZXInKS5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgIHZhciBqc29uVVJMID0gJChlKS5hdHRyKCdkYXRhLXRyYWNlZmlsZScpO1xuICAgICAgICB2YXIgZGl2SWQgPSAkKGUpLmF0dHIoJ2lkJyk7XG4gICAgICAgIHZhciBwYXJhbXNUZXh0ID0gJChlKS5hdHRyKCdkYXRhLXBhcmFtcycpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKGpzb25VUkwsIGRpdklkLCBwYXJhbXNUZXh0KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBKU09OLnBhcnNlKHBhcmFtc1RleHQpO1xuICAgICAgICAgICAgY3JlYXRlVmlzdWFsaXplckZyb21KU09OKGpzb25VUkwsIGRpdklkLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNyZWF0ZVZpc3VhbGl6ZXJGcm9tSlNPTihqc29uVVJMLCBkaXZJZCk7IC8vIGlnbm9yZSBwYXJhbXMgaWYgd2UgY2FuJ3QgcGFyc2UgaXRcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLy8gZXhwb3J0IGdsb2JhbGx5IC0tIGhhY2t5ISEhXG53aW5kb3cuYWRkVmlzdWFsaXplclRvUGFnZSA9IGFkZFZpc3VhbGl6ZXJUb1BhZ2U7XG53aW5kb3cuY3JlYXRlVmlzdWFsaXplckZyb21KU09OID0gY3JlYXRlVmlzdWFsaXplckZyb21KU09OO1xud2luZG93LmNyZWF0ZUFsbFZpc3VhbGl6ZXJzRnJvbUh0bWxBdHRycyA9IGNyZWF0ZUFsbFZpc3VhbGl6ZXJzRnJvbUh0bWxBdHRycztcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMCkpKVxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7Il0sInNvdXJjZVJvb3QiOiIifQ==